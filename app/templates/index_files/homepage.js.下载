!function(e){function t(t){for(var r,a,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={5:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://res.vmallres.com/portal/1.11.1.301/h5";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([1027,1,0]),n()}([,function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(107).default,o=n(2);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(249);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return T})),n.d(t,"f",(function(){return o})),n.d(t,"l",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return w})),n.d(t,"m",(function(){return I})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return E}));var r={};n.r(r),n.d(r,"apply",(function(){return c})),n.d(r,"get",(function(){return u})),n.d(r,"reset",(function(){return d}));var o=function(){function e(e){this.plugins=e}return e.prototype.onAppConfig=function(e){return this.plugins.reduce((function(e,t){return"function"==typeof t.onAppConfig&&(e=t.onAppConfig({config:e})),e}),e)},e.prototype.onPageConfig=function(e){var t=e.config,n=e.page;return this.plugins.reduce((function(e,t){return"function"==typeof t.onPageConfig&&(e=t.onPageConfig({config:e,page:n})),e}),t)},e.prototype.onAppComponent=function(e){return this.plugins.reduce((function(e,t){return"function"==typeof t.onAppComponent&&(e=t.onAppComponent({component:e})),e}),e)},e.prototype.onPageComponent=function(e){var t=e.component,n=e.page;return this.plugins.reduce((function(e,t){return"function"==typeof t.onPageComponent&&(e=t.onPageComponent({component:e,page:n})),e}),t)},e.prototype.onMiniComponent=function(e){var t=e.component,n=e.context;return this.plugins.reduce((function(e,t){return"function"==typeof t.onMiniComponent&&(e=t.onMiniComponent({component:e,context:n})),e}),t)},e.prototype.onCreateHostComponent=function(e){return this.plugins.reduce((function(e,t){return"function"==typeof t.onCreateHostComponent&&(e=t.onCreateHostComponent({component:e})),e}),e)},e.prototype.onCreateHostComponentElement=function(e){return this.plugins.reduce((function(e,t){return"function"==typeof t.onCreateHostComponentElement&&(e=t.onCreateHostComponentElement({element:e})),e}),e)},e}(),i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},l={pxToRpx:!0,hostComponents:{},debug:!1,appEvents:[],pageEvents:{},pluginDriver:new o([]),history:{},mpa:!1},s=l;function c(e){s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){var n,r,o,i,l,s,c,u,d;return e.appEvents=null!==(n=t.appEvents)&&void 0!==n?n:e.appEvents,e.debug=null!==(r=t.debug)&&void 0!==r?r:e.debug,e.history=null!==(o=t.history)&&void 0!==o?o:e.history,Object.keys(null!==(i=t.hostComponents)&&void 0!==i?i:{}).forEach((function(n){var r,o,i,l,s,c,u,d=null===(r=t.hostComponents)||void 0===r?void 0:r[n];e.hostComponents[n]=null!==(o=e.hostComponents[n])&&void 0!==o?o:{},e.hostComponents[n].additional=null!==(i=null==d?void 0:d.additional)&&void 0!==i?i:e.hostComponents[n].additional,e.hostComponents[n].alias=Object.assign(null!==(l=e.hostComponents[n].alias)&&void 0!==l?l:{},null!==(s=null==d?void 0:d.alias)&&void 0!==s?s:{}),e.hostComponents[n].props=a(new Set(a(null!==(c=e.hostComponents[n].props)&&void 0!==c?c:[],null!==(u=null==d?void 0:d.props)&&void 0!==u?u:[])))})),e.pluginDriver=null!==(l=t.pluginDriver)&&void 0!==l?l:e.pluginDriver,e.pageEvents=null!==(s=t.pageEvents)&&void 0!==s?s:e.pageEvents,e.platform=null!==(c=t.platform)&&void 0!==c?c:e.platform,e.pxToRpx=null!==(u=t.pxToRpx)&&void 0!==u?u:e.pxToRpx,e.mpa=null!==(d=t.mpa)&&void 0!==d?d:e.mpa,e}),s)}(e)}function u(e){return s[e]}function d(){s=l}var p,f,h={lifecycleCallback:{},registerLifecycle:function(e,t){var n=this;return this.lifecycleCallback[e]=this.lifecycleCallback[e]||[],this.lifecycleCallback[e].push(t),function(){n.lifecycleCallback[e].splice(n.lifecycleCallback[e].indexOf(t),1)}}},g=n(0),m=g.createContext(null),y=g.createContext(null),v=n(93);function b(e){return e.prototype&&"function"==typeof e.prototype.render}function w(e){return e.startsWith("before")?e:"on"+((t=e).charAt(0).toUpperCase()+t.slice(1));var t}!function(e){e.load="load",e.show="show",e.hide="hide",e.ready="ready",e.pullDownRefresh="pullDownRefresh",e.reachBottom="reachBottom",e.pageScroll="pageScroll",e.shareAppMessage="shareAppMessage",e.shareTimeline="shareTimeline",e.titleClick="titleClick",e.optionMenuClick="optionMenuClick",e.popMenuClick="popMenuClick",e.pullIntercept="pullIntercept",e.back="back",e.keyboardHeight="keyboardHeight",e.tabItemTap="tabItemTap",e.beforeTabItemTap="beforeTabItemTap",e.resize="resize",e.unload="unload"}(p||(p={})),function(e){e.launch="launch",e.show="show",e.hide="hide",e.error="error",e.shareAppMessage="shareAppMessage",e.pageNotFound="pageNotFound",e.unhandledRejection="unhandledRejection",e.themeChange="themeChange"}(f||(f={}));var S,C=(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},P=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e};function T(e,t){var n=u("pluginDriver").onPageComponent({component:e,page:t});return function(t){function r(e){var n=t.call(this,e)||this;return n.pageComponentInstance=null,n.callbacks=new Map,Object.keys(p).forEach((function(e){var t=w(e);n[t]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.callLifecycle.apply(n,P([e],t))}})),n}return C(r,t),r.prototype.callLifecycle=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=w(e);if(this.pageComponentInstance&&"function"==typeof this.pageComponentInstance[o])return(t=this.pageComponentInstance)[o].apply(t,P(n))},r.prototype.render=function(){var t=this,r={location:{query:this.props.query||{}}};return(b(e)||e.$$typeof===v.ForwardRef)&&(r.ref=function(e){return t.pageComponentInstance=e}),g.createElement(m.Provider,{value:this.props.page},g.createElement(n,r))},r}(g.Component)}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function I(e){return function(t){return void 0===t&&(t={}),new Promise((function(n,r){var o=t;e(x(x({},o),{success:function(e){o&&"function"==typeof o.success&&o.success(e),n(e)},fail:function(e){o&&"function"==typeof o.fail&&o.fail(e),r(e)}}))}))}}function k(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r,n,e))return r}}function E(e,t){for(var n=0;n<e.length;n++){if(e[n]===t)return!0}return!1}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){e.exports=n(329)},function(e,t){e.exports=function(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(1),h=n.n(f),g=n(0),m=n.n(g),y=n(37),v=n(157),b=n(43),w=n(9),S=n(20),C=n(102),O=n(57),P=function(e){return O.a.create({})},T=n(3),x=n(19);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var k=function(e){s()(n,e);var t=I(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={loading:!Object(T.F)(),stateError:!1},r}return a()(n,[{key:"render",value:function(){var e,t,n,r=this,o=this.props,i=o.imgUri,a=o.resizeMode,l=o.imgStyle,s=o.imgStyleWidth,c=o.imgStyleHeight,u=o.imgProportion,d=o.imgWidth,p=o.localSource,f=o.isHighQuality,h=o.resizeWidth,g=o.isFromPersonal,O=o.isUser,I=o.imgType,k=o.scale,E=o.useImageStyle,j=o.mode,R=o.svgColor,L=this.props,_=L.showDefaultImage,D=L.showAppSwitchImage,N=L.useWebp;_=null===(e=_)||void 0===e||e,D=null===(t=D)||void 0===t||t,N=null===(n=N)||void 0===n||n;var W=u>1?l?l.width/u:s/u:l?l.width:s,A="web"===y.a.OS||Object(T.F)()?null:{imgStyle:l||{width:s,height:c},onLoad:function(){r.setState({loading:!1})},onError:function(){return r.setState({stateError:!0})},onLoadStart:function(){return r.setState({loading:!0})},source:p||{uri:i,priority:g?w.default.priority.high:w.default.priority.normal,useWebp:N,showAppSwitchImage:D}};return m.a.createElement(m.a.Fragment,null,"web"===y.a.OS||Object(T.F)()?m.a.createElement(m.a.Fragment,null,m.a.createElement(v.a,{source:p||{uri:i},style:l||{width:s,height:c},onLoad:function(){return Object(T.F)()||r.setState({loading:!1})},onError:function(){return Object(T.F)()||r.setState({stateError:!0})},mode:j,resizeMode:a}),_&&D&&(this.state.loading||this.state.stateError)?m.a.createElement(C.b,{themeStyles:P},(function(e,t){return m.a.createElement(b.a,{style:{width:E?s:W,height:E?c:W,display:r.state.loading||r.state.stateError?"flex":"none",position:"absolute",zIndex:-100,top:0,left:0,right:0,bottom:0,margin:"auto"}},O?m.a.createElement(v.a,{style:l||{width:s,height:c},source:x.a.empty_user,resizeMode:a}):m.a.createElement(S.a,{normalCol:t.C39.color,opacity:t.C39.opacity,iconName:"watermark",width:"100%",height:"100%"}))})):null):m.a.createElement(m.a.Fragment,null,m.a.createElement(w.default,{style:A.imgStyle,isHighQuality:f,resizeWidth:h,imgStyleHeight:c,source:A.source,onLoadStart:A.onLoadStart,onLoad:A.onLoad,onError:A.onError,resizeMode:a}),_&&D&&(this.state.loading||this.state.stateError)?m.a.createElement(C.b,{themeStyles:P},(function(e,t){return m.a.createElement(b.a,{style:{width:E?s:W,height:E?c:W,display:r.state.loading||r.state.stateError?"flex":"none",position:"absolute",justifyContent:"center",alignContent:"center",zIndex:-100,top:0,left:0,right:0,bottom:0,marginLeft:d?(d-W)/2:0,marginTop:d?(d/("productBigCard"===I?k:u)-W)/2:0}},O?m.a.createElement(w.default,{style:A.imgStyle,source:x.a.empty_user,resizeMode:a}):m.a.createElement(S.a,{normalCol:R||t.C39.color,opacity:t.C39.opacity,iconName:"watermark",width:"100%",height:"100%"}))})):null))}}]),n}(m.a.PureComponent);h()(k,"defaultProps",{showDefaultImage:!0,showAppSwitchImage:!0,mode:"scaleToFill"});t.a=k},,function(e,t){function n(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function l(e){n(a,o,i,l,s,"next",e)}function s(e){n(a,o,i,l,s,"throw",e)}l(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(385)()},,function(e,t,n){"use strict";var r,o,i,a,l,s=n(27),c=n.n(s),u=n(5),d=n.n(u),p=n(6),f=n.n(p),h=(n(1),n(18)),g=n.n(h),m=(n(60),n(16)),y=new(r=function(){function e(){d()(this,e),c()(this,"darkBool",o,this),c()(this,"QMbool",i,this),c()(this,"clickGb",a,this),c()(this,"pageId",l,this)}return f()(e,[{key:"setDarkBool",value:function(e){this.darkBool=e}},{key:"setQMBool",value:function(e){this.QMbool=e}},{key:"setpageId",value:function(e){this.pageId=e}},{key:"setclickGb",value:function(e){this.clickGb=e}}]),e}(),o=g()(r.prototype,"darkBool",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=g()(r.prototype,"QMbool",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=g()(r.prototype,"clickGb",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=g()(r.prototype,"pageId",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g()(r.prototype,"setDarkBool",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setDarkBool"),r.prototype),g()(r.prototype,"setQMBool",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setQMBool"),r.prototype),g()(r.prototype,"setpageId",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setpageId"),r.prototype),g()(r.prototype,"setclickGb",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setclickGb"),r.prototype),r);t.a=y},,,,,function(e,t,n){var r=n(398),o=n(286),i=n(214),a=n(399);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"default",(function(){return i}));var o,i={vmallUrl:"http://vmall.com/",cmsCdnPath:"https://res.vmallres.com",cmsCndProdPath:"https://res.vmallres.com/pimages",cmsCndProdPathArray:["https://res1.vmallres.com/pimages","https://res2.vmallres.com/pimages","https://res3.vmallres.com/pimages","https://res4.vmallres.com/pimages","https://res5.vmallres.com/pimages","https://res6.vmallres.com/pimages","https://res7.vmallres.com/pimages","https://res8.vmallres.com/pimages","https://res9.vmallres.com/pimages"],webDomain:"https://www.vmall.com/",wapDomain:"https://m.vmall.com/",openApiDomain:"https://openapi.vmall.com/",searchConDomain:"https://www.vmall.com",reportUrl:"https://dap.vmall.com/dap/report",reportBatchUrl:"https://www.vmall.com/dap/batchReport",o2oReportBatchUrl:"https://o2o.vmall.com/dap/batchReport",appServerUrlDomain:"https://mw.vmall.com/",customerServiceUrl:"https://celia.consumer.huawei.com/vmall/",casLoginUrlDomain:"https://id1.cloud.huawei.com/",wapsmartLifemain:"https://m.vmall.com/portal/smartlife/index.html?pageId=137",maxDapReportNum:50,carrierCode:"",pageId:"",strategies:"",defaultLang:"zh-CN",reportTimeGap:5e3,env:"product",upUserUrl:"https://id1.cloud.huawei.com/AMW/portal/userCenter/index.html?reqClientType=26&loginChannel=26000000&themeName=cloudTheme&lang=zh-cn#/security",point:"https://msale.vmall.com/points.html",jifengz:"https://msale.vmall.com/jifengz.html",wechatUrl:"https://a.app.qq.com/o/simple.jsp?pkgname=com.vmall.client&android_schema=",pullUpAppLink:"vmall://com.vmall.client/home/main",live:"https://m.vmall.com/live/home",APPLive:"vmall://com.vmall.client/live/home",client:"vmall://com.vmall.client/",pullUpH5:"vmall://com.vmall.client/commonh5/singlepage",wapskins:"https://activity.m.duiba.com.cn",o2oWebDomain:"https://o2o.vmall.com/"};o=r;t.a=o.default},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var r,o,i=n(211);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.UNSTARTED=-1]="UNSTARTED",e[e.WAITING=0]="WAITING",e[e.DONE=1]="DONE"}(r||(r={})),function(e){e[e.ORDER_NONE=0]="ORDER_NONE",e[e.ORDER_PRIVACY=2]="ORDER_PRIVACY",e[e.ORDER_DEPOSIT=3]="ORDER_DEPOSIT",e[e.ORDER_GROUP=4]="ORDER_GROUP"}(o||(o={}));var s=[{order:o.ORDER_PRIVACY,status:r.UNSTARTED},{order:o.ORDER_DEPOSIT,status:r.UNSTARTED},{order:o.ORDER_GROUP,status:r.UNSTARTED}],c=function(e,t,n,l){var c,u=a(s);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d.order==e){d.status=t,d.info=n,d.afterShow=l;break}}}catch(e){u.e(e)}finally{u.f()}var p,f=o.ORDER_NONE,h=a(s);try{for(h.s();!(p=h.n()).done;){var g=p.value;if(g.status==r.UNSTARTED)break;if(g.status==r.WAITING){f=g.order;var m=g.afterShow;break}}}catch(e){h.e(e)}finally{h.f()}i.a.curDialogOrder!=f&&(i.a.setCurDialogOrder(f),m&&m())},u=function(){return s}},,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=(r=a)&&r.__esModule?r:{default:r},s=n(9);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;c(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={width:1,height:1},r.measure=function(e){var t=e.nativeEvent;return r.setState({width:t.layout.width,height:t.layout.height})},r.getAngle=function(){return r.props.useAngle?r.props.angle+"deg":Math.atan2(r.state.width*(r.props.end.y-r.props.start.y),r.state.height*(r.props.end.x-r.props.start.x))+Math.PI/2+"rad"},r.getColors=function(){return r.props.colors.map((function(e,t){var n=r.props.locations[t],o="";return n&&(o=" "+100*n+"%"),e+o})).join(",")},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=(e.start,e.end,e.colors,e.locations,e.useAngle,e.angleCenter,e.angle,e.style),n=e.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return l.default.createElement(s.View,o({},r,{style:[t,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:"src/index.js",lineNumber:72}}),n)}}]),t}(a.PureComponent);d.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0},t.default=d},,function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(34),w=n.n(b),S=n(0),C=n.n(S),O=n(37),P=n(54),T=n(43),x=n(126),I=n(157),k=n(57),E=function(e){return k.a.create({container:{width:"100%",justifyContent:"center",alignItems:"center"},img:{borderRadius:e.radiusimage,overflow:"hidden",backgroundColor:"transparent"},img_pc:{borderRadius:e.radiusimage_PC,overflow:"hidden",backgroundColor:"transparent"},smallStyle:{width:16,height:16},otherSmallStyle:{width:24,height:24},closeIconNormalColor:{color:e.C24.color},closeIconActiveColor:{color:e.C23.color}})},j=n(40),R=n(48),L=n(102),_=n(185),D=n(3),N=n(21),W=n(10),A=n(22),B=n(11);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H,z,U={onImageClick:function(e,t,n,r,o,i,a,l,s,c,u,d,p,f,h,g){var m,y=this.props,v=y.clickAd,b=y.info,w=y.propsNew,S=y.headIndex,C=y.pageCatCode,T=y.pageCatName,x=y.resSiteCode,I=y.resSiteName;if("function"==typeof v)return this.props.clickAd("",l.index?l.index:l),Object(A.b)("",!0),!1;var k,E,L,_,N,M,H,z="small"===Object(j.a)(P.a.get("window").width);"web"===O.a.OS?z?W.f.WAP:W.f.PC:W.f.APP;("web"===O.a.OS||Object(D.F)()?"large"===Object(j.a)(P.a.get("window").width)&&t?k=t:n&&(k=n):k=e,!0===s)?E={actionCode:W.f.PC+W.d.NAVIGATION,actionName:"二级导航-点击"+b.prdName,eventType:W.e.EVENT_TYPE_CLICK,pageId:"undefined"!==this.props.pageId&&null!==(L=this.props)&&void 0!==L&&L.pageId?this.props.pageId:B.a.pageId,content:{comId:(null===(_=w.cardId)||void 0===_?void 0:_.toString())||"",gotoPageId:S||"",gotoURL:k||"",tabName:null==w?void 0:w.categoryName,tabindex:null==w?void 0:w.categoryIndex,dataCode:b.skuCode||"",dateType:W.c.SKU,index:S,clickType:W.b.CLICK_NAVIGATION}}:E={actionCode:R.a.isPc(P.a.get("window").width)?"310000101":R.a.isApp()?"110000101":Object(D.F)()?"410000101":"210000101",actionName:"图片卡片-点击",eventType:W.e.EVENT_TYPE_CLICK,pageId:"undefined"!==this.props.pageId&&null!==(N=this.props)&&void 0!==N&&N.pageId?this.props.pageId:B.a.pageId,content:{comId:(null==o?void 0:o.toString())||"",gotoPageId:"",index:(null==l?void 0:l.toString())||"",gotoURL:k||"",ruleId:"",sId:"",dataCode:a||"",row:"",column:"",dateType:W.c.ADS||"",clickType:W.b.CLICK_GOODS_CONTENT||""}};if(E.content.index_name=(null===(m=this.props.index_name)||void 0===m?void 0:m.toString())||"",this.props.hotArea&&JSON.parse(this.props.hotArea).length>0){var U=JSON.parse(this.props.hotArea)[0];E.content.hotspot_type=U.hotAreaType,E.content.hotspot_index=U.id,E.content.hotspot_index_name=U.name}"StaggeredLayout"===this.props.layoutType&&(h=null!==(M=this.props)&&void 0!==M&&M.ruleId?null===(H=this.props)||void 0===H?void 0:H.ruleId:h,E.content.hybridShelfdCardType=f?p+"_"+f:"2",E.content.nextPage=k||"",E.content.dateType=this.props.bigMixCrad?"44":"31",E.content.ruleId=this.props.bigMixCrad?void 0:h||"",E.content.sId=this.props.bigMixCrad?void 0:g||"",E.content.row=this.props.bigMixCrad?void 0:"",E.content.column=this.props.bigMixCrad?void 0:"",E.content.dataCode=this.props.dataCode,E.content.clickType=W.b.CLICK_BLEND,this.props.bigMixCrad&&(E.content.index_name=void 0));return{data:E=F(F({},E),{},{pageCatCode:C,pageCatName:T,resSiteCode:x,resSiteName:I})}}},V=n(660),G=n(24),Y=n(32),J=n(20),K=n(64),q=n.n(K),Q=n(168);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var X=0,Z=0,ee=Object(Y.c)((z=function(e){p()(n,e);var t=$(n);function n(e){var r;a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"imgRef",void 0),v()(u()(r),"imageTimer",null),v()(u()(r),"isClickBtn",!1),v()(u()(r),"refItem",(function(e){r.item=e,"function"==typeof r.props.receiveRef&&r.props.receiveRef(e),"function"==typeof r.props.newReceiveRef&&r.props.newReceiveRef(e)})),v()(u()(r),"getPlatformPrefix",(function(){var e="small"===Object(j.a)(r.state.iWidth);return"web"===O.a.OS?e?W.f.WAP:W.f.PC:W.f.APP})),v()(u()(r),"canClick",(function(){return Z=(new Date).getTime()-X,X=(new Date).getTime(),!(Z<2e3)})),v()(u()(r),"isUrl",(function(){var e=r.props.actionUrlWeb,t=r.state.newHotArea,n=void 0===t?{}:t;return!(w()(e)&&!r.isWap())||!(!r.isPc()||w()(n)||w()(e))})),v()(u()(r),"isPc",(function(){return R.a.isPc(P.a.get("window").width)})),v()(u()(r),"isWap",(function(){return R.a.isWap(P.a.get("window").width)})),v()(u()(r),"imgDomRef",(function(e,t,n,o,i,a,l,s,c){if("function"==typeof r.props.receiveRef&&r.props.receiveRef(e),"web"===O.a.OS){r.imgRef=q.a.findDOMNode(e)||null;var u=r.props,d=(u.info,u.headeClick),p=u.propsNew,f=u.headIndex;r.imgRef&&(r.imgRef.onclick=function(){r.onImageClick(t,n,o,i,a,l,s,c,d,p,f,r.props.layoutType,r.props.cardType,r.props.labelFlag,r.props.ruleId,r.props.sId),Object(A.b)("",!0)})}})),v()(u()(r),"initWidth",(function(e){r.state.iWidth!=e&&r.setState({iWidth:e})}));var o=r.props,i=o.hotArea,l=o.cardHotArea;return r.state={imgWidth:0,loading:!0,stateError:!1,hotAreaimgwidth:0,hotAreaimgheight:0,newHotArea:i&&JSON.parse(i),cardHotArea:l,isHotArea:!1,iWidth:Object(D.x)(r.props.pageType).screenWidth,iHeight:Object(D.x)(r.props.pageType).screenHeight},r.onLayout=r.onLayout.bind(u()(r)),r}return s()(n,[{key:"onLayout",value:function(e){this.setState({imgWidth:e.nativeEvent.layout.width})}},{key:"onImageClick",value:function(e,t,n,r,o,i,a,l,s,c,u,d,p,f,h,g){if(this.isClickBtn)return this.isClickBtn=!1,!1;var m=this.props.onClick;m&&m(),this.canClick()&&this.click(e,t,n,r)}},{key:"click",value:function(e,t,n,r){var o;null===(o=this.imgRef)||void 0===o||o.blur(),"web"===O.a.OS||Object(D.F)()?"large"===r&&t?this.imageTimer=setTimeout((function(){Object(D.A)(t)}),150):n&&(this.imageTimer=setTimeout((function(){Object(D.A)(n)}),150)):this.imageTimer=setTimeout((function(){Object(D.A)(e)}),150)}},{key:"close",value:function(e,t){(e=e||window.event).cancelBubble=!0,this.isClickBtn=!0,this.props.callBackClose(t)}},{key:"componentWillUnmount",value:function(){this.imageTimer&&clearTimeout(this.imageTimer)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,a=i.imgUri,l=i.imgProportion,s=i.width,c=i.isRadius,u=i.style,d=i.actionUrl,p=i.actionUrlWeb,f=i.actionUrlWap,h=i.comId,g=i.gotoPageId,m=i.dataCode,y=i.index,v=i.columnNumber,b=(i.sourceImgProportion,i.isClosed),w=i.scene,S=i.boxWidth,P=(i.hasMargin,i.imgWidth),k=i.showCategory,_=i.layoutType,N=i.showAnchor,W=i.cardType,A=i.labelFlag,B=i.isHighQuality,M=i.pageId,F=i.mixedSwiper,H=i.pageCatCode,z=i.pageCatName,U=i.resSiteCode,Y=i.resSiteName,K=i.resizeConfig,q=i.showDefaultImage,$=i.showAppSwitchImage,X=i.useWebp;q=null===(e=q)||void 0===e||e,$=null===(t=$)||void 0===t||t,X=null===(n=X)||void 0===n||n;var Z=this.state,ee=Z.newHotArea,te=Z.cardHotArea;s=S||s,"StaggeredLayout"===_&&(s=S);var ne,re=Object(j.a)(this.state.iWidth),oe="small"===re?{position:"absolute",top:8,right:8}:{position:"absolute",top:12,right:12};ne=P||this.state.imgWidth;var ie="topMenu"===w?{width:s,height:90}:{width:ne,height:k?550:ne/l};c=void 0===c?"large"!==re:c;var ae="topMenu"===w?{width:"100%"}:{},le=function(e,t){return 0===ne?null:C.a.createElement(T.a,{style:[{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},e,u,ae],collapsable:!1},C.a.createElement(G.a,{imgUri:a,imgStyleWidth:ie.width,imgStyleHeight:ie.height,imgWidth:ne,resizeWidth:(n=ie.width,R.a.isAndroid()&&K&&"number"==typeof K&&n>K?K:n),imgProportion:l,isHighQuality:B,showAppSwitchImage:$,useWebp:X}),1===v&&"1"===b&&"topMenu"!==w?C.a.createElement(T.a,{style:oe},"web"===O.a.OS?C.a.createElement(V.a,{key:y},(function(e){return C.a.createElement(T.a,{style:{width:"small"===re?16:24,height:"small"===re?16:24}},C.a.createElement(x.a,{activeOpacity:1,onPress:function(e){return r.close(e,y)}},C.a.createElement(J.a,{iconName:"cancel-",width:"small"===re?"16":"24",height:"small"===re?"16":"24",isActive:e,normalCol:"#000000",opacity:e?t.C23.opacity:t.C24.opacity})))})):C.a.createElement(x.a,{activeOpacity:1,onPress:function(e){return r.close(e,y)}},Object(D.F)()?C.a.createElement(T.a,{style:{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"small"===re?8:12}},C.a.createElement(I.a,{source:{uri:"/static/images/close.png"},style:{width:"small"===re?16:24,height:"small"===re?16:24}})):C.a.createElement(J.a,{iconName:"cancel-",width:"small"===re?"16":"24",height:"small"===re?"16":"24",normalCol:"#000000",opacity:t.C24.opacity}))):null,1===v&&"1"===b&&"topMenu"===w?function(e){return C.a.createElement(T.a,{style:{width:1200,height:90,position:"absolute",top:0,left:0,right:0,bottom:0,margin:"auto"}},C.a.createElement(T.a,{style:oe},C.a.createElement(V.a,{key:"1"},(function(t){return C.a.createElement(x.a,{activeOpacity:1,onFocus:function(e){return r.close(e,y)}},C.a.createElement(J.a,{iconName:"cancel-",width:"24",height:"24",isActive:t,normalCol:e.C24.color,opacity:t?e.C23.opacity:e.C24.opacity}))}))))}(t):null);var n};return C.a.createElement(L.b,{themeStyles:E},(function(e,t,n){n=Object(D.F)()?Object(D.x)().screenWidth:n,r.initWidth(n);var i=[e.container],a=[e[c&&!F?"img":"img_pc"]],l=r.props.pageType;return C.a.createElement(T.a,{ref:r.refItem,collapsable:!1},"web"===O.a.OS?C.a.createElement(T.a,{style:{position:"relative",overflow:"hidden"}},r.isUrl()?C.a.createElement(x.a,o()({style:i,ref:function(e){r.imgDomRef(e,d,p,f,re,h,g,m,y)},activeOpacity:1},Object(D.F)()?{}:{onLayout:r.onLayout}),le(a,t)):C.a.createElement(T.a,o()({},Object(D.F)()?{}:{onLayout:r.onLayout},{style:i}),le(a,t)),ee||ee?C.a.createElement(Q.a,{imgSize:ie,newHotArea:ee,cardHotArea:te,showAnchor:N,comId:h,gotoPageId:g,dataCode:m,scene:w,pageType:l,layoutType:_,pageId:M,imageIndex:y,index_name:r.props.index_name,pageCatCode:H,pageCatName:z,resSiteCode:U,resSiteName:Y}):null):C.a.createElement(T.a,{style:{position:"relative",overflow:"hidden"}},C.a.createElement(x.a,o()({style:i,onPress:r.onImageClick.bind(r,d,p,f,re,h,g,m,y,_,W,A),activeOpacity:1},Object(D.F)()?{}:{onLayout:r.onLayout}),le(a,t)),te||ee?C.a.createElement(Q.a,{imgSize:ie,cardHotArea:te,newHotArea:ee,showAnchor:N,comId:h,gotoPageId:g,dataCode:m,scene:w,pageType:l,layoutType:_,pageId:M,imageIndex:y,index_name:r.props.index_name,pageCatCode:H,pageCatName:z,resSiteCode:U,resSiteName:Y}):null))}))}}]),n}(C.a.PureComponent),v()(z,"defaultProps",{hasMargin:!0}),H=z))||H;t.a=Object(_.a)(Object(N.a)(U)(ee))},,,function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(107),a=n.n(i),l=n(56),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(43),P=n(3),T=n(24),x=["children","style","imgViewStyle","imgStyle","imgUri","resizeMode","showBgImg","localSource","isFromPersonal","onLayout"],I=["children","style","imgViewStyle","imgStyle","imgUri","resizeMode","showBgImg","localSource","isFromPersonal","onLayout"],k=["children","style","imgViewStyle","imgStyle","imgUri","resizeMode","showBgImg","localSource","isFromPersonal","onLayout"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var L=function(e){h()(n,e);var t=R(n);function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.children,r=t.style,o=t.imgViewStyle,i=t.imgStyle,a=t.imgUri,l=void 0===a?"":a,c=t.resizeMode,u=void 0===c?"stretch":c,d=t.showBgImg,p=t.localSource,f=t.isFromPersonal,h=t.onLayout,g=s()(t,x),m=e.children,y=e.style,v=e.imgViewStyle,b=e.imgStyle,w=e.imgUri,S=void 0===w?"":w,C=e.resizeMode,O=void 0===C?"stretch":C,P=e.showBgImg,T=e.localSource,k=e.isFromPersonal,E=e.onLayout,j=s()(e,I);return n!==m||l!==S||p!==T||u!==O||h!==E||Boolean(d)!==Boolean(P)||Boolean(f)!==Boolean(k)||(JSON.stringify(r)!==JSON.stringify(y)||JSON.stringify(o)!==JSON.stringify(v)||JSON.stringify(i)!==JSON.stringify(b)||JSON.stringify(g)!==JSON.stringify(j))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,r=e.imgViewStyle,i=e.imgStyle,l=e.imgUri,c=void 0===l?"":l,u=e.resizeMode,d=void 0===u?"stretch":u,p=e.showBgImg,f=e.localSource,h=e.isFromPersonal,g=e.onLayout,m=s()(e,k),y={width:"100%",height:"100%"};return(f||c||p)&&(i instanceof Array?null==i||i.forEach((function(e){y=j(j({},y),e)})):"object"===a()(i)&&null!==i&&(y=j(j({},y),i))),C.a.createElement(O.a,o()({style:[{position:"relative"},n]},Object(P.F)()?{}:{onLayout:g}),C.a.createElement(O.a,{style:[{width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},r]},(!!f||!!c||p)&&C.a.createElement(T.a,o()({imgUri:c,localSource:f,resizeMode:d,imgStyle:y,showDefaultImage:!1},m,{isFromPersonal:h}))),t)}}]),n}(C.a.Component);w()(L,"defaultProps",{showBgImg:!1,resizeMode:"stretch",imgUri:"",isFromPersonal:!1}),t.a=L},,,,,function(e,t,n){var r=n(287),o=n(400),i=n(214),a=n(288);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(401);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},,,,function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r,o,i,a;n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),function(e){e.oneByOne="l2r",e.oneByTwo="t2b"}(r||(r={})),function(e){e.asc="0",e.desc="1",e.all="2"}(o||(o={})),function(e){e[e.product=1]="product",e[e.recommend_product=2]="recommend_product"}(i||(i={})),function(e){e.asc="asc",e.desc="desc"}(a||(a={}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,o,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b=n(27),w=n.n(b),S=n(5),C=n.n(S),O=n(6),P=n.n(O),T=(n(1),n(18)),x=n.n(T),I=(n(60),n(16)),k=(r=function(){function e(){C()(this,e),w()(this,"tabsNavTop",o,this),w()(this,"tabsTop",i,this),w()(this,"homeTabNavTop",a,this),w()(this,"tabContentHeight",l,this),w()(this,"hasTab",s,this),w()(this,"isSeckill",c,this),w()(this,"isShowLoading",u,this),w()(this,"cardId",d,this),w()(this,"minIndex",p,this),w()(this,"lastIndex",f,this),w()(this,"comId",h,this),w()(this,"tabname",g,this),w()(this,"tabindex",m,this),w()(this,"isLeave",y,this),w()(this,"smartLifeDate",v,this)}return P()(e,[{key:"setTabsNavTop",value:function(e){this.tabsNavTop=e}},{key:"setTabsTop",value:function(e){this.tabsTop=e}},{key:"setTabContentHeight",value:function(e){this.tabContentHeight=e}},{key:"setHomeTabsTop",value:function(e){this.homeTabNavTop=e}},{key:"setHasTab",value:function(e){this.hasTab=e}},{key:"setSecillToTop",value:function(e){this.isSeckill=e}},{key:"setShowLoading",value:function(e){this.isShowLoading=e}},{key:"getCardId",value:function(e){this.cardId=e}},{key:"setComId",value:function(e,t){this.comId[null==t?void 0:t.toLowerCase()]=e}},{key:"setTabNameIndex",value:function(e,t){this.tabname=e,this.tabindex=t}},{key:"getSmartLifeDate",value:function(e){this.smartLifeDate=e}},{key:"getIsLeave",value:function(e){this.isLeave=e}}]),e}(),o=x()(r.prototype,"tabsNavTop",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=x()(r.prototype,"tabsTop",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=x()(r.prototype,"homeTabNavTop",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=x()(r.prototype,"tabContentHeight",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=x()(r.prototype,"hasTab",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=x()(r.prototype,"isSeckill",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=x()(r.prototype,"isShowLoading",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=x()(r.prototype,"cardId",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=x()(r.prototype,"minIndex",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=x()(r.prototype,"lastIndex",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=x()(r.prototype,"comId",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g=x()(r.prototype,"tabname",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=x()(r.prototype,"tabindex",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=x()(r.prototype,"isLeave",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=x()(r.prototype,"smartLifeDate",[I.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x()(r.prototype,"setTabsNavTop",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setTabsNavTop"),r.prototype),x()(r.prototype,"setTabsTop",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setTabsTop"),r.prototype),x()(r.prototype,"setTabContentHeight",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setTabContentHeight"),r.prototype),x()(r.prototype,"setHomeTabsTop",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setHomeTabsTop"),r.prototype),x()(r.prototype,"setHasTab",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setHasTab"),r.prototype),x()(r.prototype,"setSecillToTop",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setSecillToTop"),r.prototype),x()(r.prototype,"setShowLoading",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setShowLoading"),r.prototype),x()(r.prototype,"getCardId",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"getCardId"),r.prototype),x()(r.prototype,"setComId",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setComId"),r.prototype),x()(r.prototype,"setTabNameIndex",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"setTabNameIndex"),r.prototype),x()(r.prototype,"getSmartLifeDate",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"getSmartLifeDate"),r.prototype),x()(r.prototype,"getIsLeave",[I.d],Object.getOwnPropertyDescriptor(r.prototype,"getIsLeave"),r.prototype),r);t.a=new k},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return N})),n.d(t,"g",(function(){return W})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return P})),n.d(t,"j",(function(){return k})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return F})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return z})),n.d(t,"o",(function(){return A}));var r=n(77),o=n(0),i=n.n(o),a=(n(28),n(72)),l=n(262),s=n(83),c=n(62),u=n(196),d=n.n(u),p=(n(93),n(97)),f=n(159),h=n.n(f),g=function(e){var t=Object(l.a)();return t.displayName=e,t},m=g("Router-History"),y=g("Router"),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.a.createElement(y.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.a.createElement(m.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.a.Component);var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(a.d)(t.props),t}return Object(r.a)(t,e),t.prototype.render=function(){return i.a.createElement(v,{history:this.history,children:this.props.children})},t}(i.a.Component);var w=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.a.Component);function S(e){var t=e.message,n=e.when,r=void 0===n||n;return i.a.createElement(y.Consumer,null,(function(e){if(e||Object(s.a)(!1),!r||e.staticContext)return null;var n=e.history.block;return i.a.createElement(w,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var C={},O=0;function P(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(C[e])return C[e];var t=d.a.compile(e);return O<1e4&&(C[e]=t,O++),t}(e)(t,{pretty:!0})}function T(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.a.createElement(y.Consumer,null,(function(e){e||Object(s.a)(!1);var r=e.history,l=e.staticContext,u=o?r.push:r.replace,d=Object(a.c)(t?"string"==typeof n?P(n,t.params):Object(c.a)({},n,{pathname:P(n.pathname,t.params)}):n);return l?(u(d),null):i.a.createElement(w,{onMount:function(){u(d)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(c.a)({},d,{key:n.key}))||u(d)},to:n})}))}var x={},I=0;function k(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,l=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=x[n]||(x[n]={});if(r[e])return r[e];var o=[],i={regexp:d()(e,o,t),keys:o};return I<1e4&&(r[e]=i,I++),i}(n,{end:i,strict:l,sensitive:c}),o=r.regexp,a=r.keys,s=o.exec(e);if(!s)return null;var u=s[0],p=s.slice(1),f=e===u;return i&&!f?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var E=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(y.Consumer,null,(function(t){t||Object(s.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?k(n.pathname,e.props):t.match,o=Object(c.a)({},t,{location:n,match:r}),a=e.props,l=a.children,u=a.component,d=a.render;return Array.isArray(l)&&function(e){return 0===i.a.Children.count(e)}(l)&&(l=null),i.a.createElement(y.Provider,{value:o},o.match?l?"function"==typeof l?l(o):l:u?i.a.createElement(u,o):d?d(o):null:"function"==typeof l?l(o):null)}))},t}(i.a.Component);function j(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=j(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function L(e){return"string"==typeof e?e:Object(a.e)(e)}function _(e){return function(){Object(s.a)(!1)}}function D(){}var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return D},t.handleBlock=function(){return D},t}Object(r.a)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,o=void 0===r?"":r,i=n.context,l=void 0===i?{}:i;l.action=t,l.location=function(e,t){return e?Object(c.a)({},t,{pathname:j(e)+t.pathname}):t}(o,Object(a.c)(e)),l.url=L(l.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,l=e.location,s=void 0===l?"/":l,u=Object(p.a)(e,["basename","context","location"]),d={createHref:function(e){return j(n+L(e))},action:"POP",location:R(n,Object(a.c)(s)),push:this.handlePush,replace:this.handleReplace,go:_(),goBack:_(),goForward:_(),listen:this.handleListen,block:this.handleBlock};return i.a.createElement(v,Object(c.a)({},u,{history:d,staticContext:o}))},t}(i.a.Component);var W=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return i.a.createElement(y.Consumer,null,(function(t){t||Object(s.a)(!1);var n,r,o=e.props.location||t.location;return i.a.Children.forEach(e.props.children,(function(e){if(null==r&&i.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?k(o.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?i.a.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.a.Component);function A(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=Object(p.a)(t,["wrappedComponentRef"]);return i.a.createElement(y.Consumer,null,(function(t){return t||Object(s.a)(!1),i.a.createElement(e,Object(c.a)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,h()(n,e)}var B=i.a.useContext;function M(){return B(m)}function F(){return B(y).location}function H(){var e=B(y).match;return e?e.params:{}}function z(e){var t=F(),n=B(y).match;return e?k(t.pathname,e):n}},function(e,t,n){"use strict";var r,o,i,a;n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),function(e){e.all="all",e.title="title",e.bg="background"}(r||(r={})),function(e){e.high="high",e.low="low"}(o||(o={})),function(e){e.light="light-content",e.dark="dark-content"}(i||(i={})),function(e){e.black="black",e.white="white"}(a||(a={}))},,,function(e,t,n){"use strict";var r,o,i,a,l,s=n(27),c=n.n(s),u=n(5),d=n.n(u),p=n(6),f=n.n(p),h=(n(1),n(18)),g=n.n(h),m=(n(60),n(16)),y=(r=function(){function e(){d()(this,e),c()(this,"barHeight",o,this),c()(this,"pageId",i,this),c()(this,"tabInfos",a,this),c()(this,"pageName",l,this)}return f()(e,[{key:"setBarHeight",value:function(e){this.barHeight=e}},{key:"setTabInfos",value:function(e){this.tabInfos=e}},{key:"getPageId",value:function(e){this.pageId=e}},{key:"setPageName",value:function(e){this.pageName=e}}]),e}(),o=g()(r.prototype,"barHeight",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=g()(r.prototype,"pageId",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=g()(r.prototype,"tabInfos",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=g()(r.prototype,"pageName",[m.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g()(r.prototype,"setBarHeight",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setBarHeight"),r.prototype),g()(r.prototype,"setTabInfos",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setTabInfos"),r.prototype),g()(r.prototype,"getPageId",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"getPageId"),r.prototype),g()(r.prototype,"setPageName",[m.d],Object.getOwnPropertyDescriptor(r.prototype,"setPageName"),r.prototype),r);t.a=new y},function(e,t,n){"use strict";var r,o,i,a,l,s=n(27),c=n.n(s),u=n(5),d=n.n(u),p=n(6),f=n.n(p),h=n(1),g=n.n(h),m=n(18),y=n.n(m),v=(n(60),n(16)),b=(r=function(){function e(){d()(this,e),c()(this,"bannerVisible",o,this),g()(this,"allCategory",Object(v.k)([])),c()(this,"showSubCategory",i,this),c()(this,"subCategory",a,this),c()(this,"showBannerCategory",l,this)}return f()(e,[{key:"setShowBannerCategory",value:function(e){this.showBannerCategory=e}},{key:"setBannerVisible",value:function(e){this.bannerVisible=e}},{key:"updateAllCategory",value:function(e){this.allCategory=e}},{key:"getAllCategory",value:function(e){this.showSubCategory=e}},{key:"getSubCategory",value:function(e){this.subCategory=e}}]),e}(),o=y()(r.prototype,"bannerVisible",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i=y()(r.prototype,"showSubCategory",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=y()(r.prototype,"subCategory",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=y()(r.prototype,"showBannerCategory",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"false"}}),y()(r.prototype,"setShowBannerCategory",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"setShowBannerCategory"),r.prototype),y()(r.prototype,"setBannerVisible",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"setBannerVisible"),r.prototype),y()(r.prototype,"updateAllCategory",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"updateAllCategory"),r.prototype),y()(r.prototype,"getAllCategory",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"getAllCategory"),r.prototype),y()(r.prototype,"getSubCategory",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"getSubCategory"),r.prototype),r);t.a=new b},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return h}));var r=n(62);function o(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],l=e&&o(e),s=t&&o(t),c=l||s;if(e&&o(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,p=a.length;p>=0;p--){var f=a[p];"."===f?i(a,p):".."===f?(i(a,p),d++):d&&(i(a,p),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&o(a[0])||a.unshift("");var h=a.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var s=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=l(t),o=l(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(83);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function g(e,t,n,o){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=Object(r.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=a(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i}function m(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&s(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var v=!("undefined"==typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function w(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t,n=window.history,o=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,l=a.forceRefresh,s=void 0!==l&&l,d=a.getUserConfirmation,m=void 0===d?b:d,S=a.keyLength,C=void 0===S?6:S,O=e.basename?f(u(e.basename)):"";function P(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return O&&(i=p(i,O)),g(i,r,n)}function T(){return Math.random().toString(36).substr(2,C)}var x=y();function I(e){Object(r.a)(M,e),M.length=n.length,x.notifyListeners(M.location,M.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(P(e.state))}function E(){R(P(w()))}var j=!1;function R(e){if(j)j=!1,I();else{x.confirmTransitionTo(e,"POP",m,(function(t){t?I({action:"POP",location:e}):function(e){var t=M.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(j=!0,N(o))}(e)}))}}var L=P(w()),_=[L.key];function D(e){return O+h(e)}function N(e){n.go(e)}var W=0;function A(e){1===(W+=e)&&1===e?(window.addEventListener("popstate",k),i&&window.addEventListener("hashchange",E)):0===W&&(window.removeEventListener("popstate",k),i&&window.removeEventListener("hashchange",E))}var B=!1;var M={length:n.length,action:"POP",location:L,createHref:D,push:function(e,t){var r=g(e,t,T(),M.location);x.confirmTransitionTo(r,"PUSH",m,(function(e){if(e){var t=D(r),i=r.key,a=r.state;if(o)if(n.pushState({key:i,state:a},null,t),s)window.location.href=t;else{var l=_.indexOf(M.location.key),c=_.slice(0,l+1);c.push(r.key),_=c,I({action:"PUSH",location:r})}else window.location.href=t}}))},replace:function(e,t){var r=g(e,t,T(),M.location);x.confirmTransitionTo(r,"REPLACE",m,(function(e){if(e){var t=D(r),i=r.key,a=r.state;if(o)if(n.replaceState({key:i,state:a},null,t),s)window.location.replace(t);else{var l=_.indexOf(M.location.key);-1!==l&&(_[l]=r.key),I({action:"REPLACE",location:r})}else window.location.replace(t)}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return B||(A(1),B=!0),function(){return B&&(B=!1,A(-1)),t()}},listen:function(e){var t=x.appendListener(e);return A(1),function(){A(-1),t()}}};return M}var C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function O(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function P(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function T(e){window.location.replace(O(window.location.href)+"#"+e)}function x(e){void 0===e&&(e={}),v||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,i=void 0===o?b:o,a=n.hashType,l=void 0===a?"slash":a,s=e.basename?f(u(e.basename)):"",d=C[l],m=d.encodePath,w=d.decodePath;function S(){var e=w(P());return s&&(e=p(e,s)),g(e)}var x=y();function I(e){Object(r.a)(M,e),M.length=t.length,x.notifyListeners(M.location,M.action)}var k=!1,E=null;function j(){var e,t,n=P(),r=m(n);if(n!==r)T(r);else{var o=S(),a=M.location;if(!k&&(t=o,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(E===h(o))return;E=null,function(e){if(k)k=!1,I();else{x.confirmTransitionTo(e,"POP",i,(function(t){t?I({action:"POP",location:e}):function(e){var t=M.location,n=D.lastIndexOf(h(t));-1===n&&(n=0);var r=D.lastIndexOf(h(e));-1===r&&(r=0);var o=n-r;o&&(k=!0,N(o))}(e)}))}}(o)}}var R=P(),L=m(R);R!==L&&T(L);var _=S(),D=[h(_)];function N(e){t.go(e)}var W=0;function A(e){1===(W+=e)&&1===e?window.addEventListener("hashchange",j):0===W&&window.removeEventListener("hashchange",j)}var B=!1;var M={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=O(window.location.href)),n+"#"+m(s+h(e))},push:function(e,t){var n=g(e,void 0,void 0,M.location);x.confirmTransitionTo(n,"PUSH",i,(function(e){if(e){var t=h(n),r=m(s+t);if(P()!==r){E=t,function(e){window.location.hash=e}(r);var o=D.lastIndexOf(h(M.location)),i=D.slice(0,o+1);i.push(t),D=i,I({action:"PUSH",location:n})}else I()}}))},replace:function(e,t){var n=g(e,void 0,void 0,M.location);x.confirmTransitionTo(n,"REPLACE",i,(function(e){if(e){var t=h(n),r=m(s+t);P()!==r&&(E=t,T(r));var o=D.indexOf(h(M.location));-1!==o&&(D[o]=t),I({action:"REPLACE",location:n})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return B||(A(1),B=!0),function(){return B&&(B=!1,A(-1)),t()}},listen:function(e){var t=x.appendListener(e);return A(1),function(){A(-1),t()}}};return M}function I(e,t,n){return Math.min(Math.max(e,t),n)}function k(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,a=t.initialIndex,l=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,u=y();function d(e){Object(r.a)(w,e),w.length=w.entries.length,u.notifyListeners(w.location,w.action)}function p(){return Math.random().toString(36).substr(2,c)}var f=I(l,0,i.length-1),m=i.map((function(e){return g(e,void 0,"string"==typeof e?p():e.key||p())})),v=h;function b(e){var t=I(w.index+e,0,w.entries.length-1),r=w.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var w={length:m.length,action:"POP",location:m[f],index:f,entries:m,createHref:v,push:function(e,t){var r=g(e,t,p(),w.location);u.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=w.index+1,n=w.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=g(e,t,p(),w.location);u.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(w.entries[w.index]=r,d({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return w}},function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n(55),o=n.n(r),i=n(0),a=n.n(i),l=n(37),s=n(29),c=n(11),u=n(12),d=n(23),p=n(19),f=n(103),h=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.e.CN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.d.CN,r="lang=".concat(t,"&country=").concat(n,"&portal=").concat(e),o="".concat(c.a.webDomain,"member/accountInfo.json"),i="".concat(c.a.openApiDomain,"mcp/message/unreadMsgNum?").concat(r),a="".concat(c.a.openApiDomain,"mcp/queryUserPointBalanceDetail?").concat(r),l="".concat(c.a.openApiDomain,"mcp/pay/queryBalanceAmount?").concat(r);return Promise.all([s.a.get(o),s.a.get(i),s.a.post(a,{portal:e,lang:t,country:n}),s.a.post(l,{portal:e,lang:t,country:n})])}().then((function(e){var t,n,r,i,a,s,c,u,d,f=o()(e,4),h=f[0],g=f[1],m=f[2],y=f[3],v=((null===(t=h.customerInfo)||void 0===t?void 0:t.totalPoint)||0)-((null===(n=h.gradeConfig)||void 0===n?void 0:n.minScores)||0),b=((null===(r=h.gradeConfig)||void 0===r?void 0:r.maxScores)||0)-((null===(i=h.gradeConfig)||void 0===i?void 0:i.minScores)||0),w={headPictureURL:(u=(null==h||null===(a=h.customerInfo)||void 0===a?void 0:a.headPictureURL)||"",d="web"===l.a.OS&&document.createElement("textarea"),(d?(d.innerHTML=u,d.value):u)||p.a.tool_avatar),level:(null===(s=h.gradeConfig)||void 0===s?void 0:s.name)||"V0",progressValue:v<0?0:v,progressTotal:b<0?0:b,unread:g.activityMsgNum+g.interactMsgnum+g.logisticsMsgNum+g.ntfMsgNum,pointBlance:m.pointBlance||0,couponCount:h.couponCount||0,balanceAmount:(y.balanceAmount||0).toFixed(2),isAuthentication:"1"===(null===(c=h.customerInfo)||void 0===c?void 0:c.isAuthentication)||!1};return"web"===l.a.OS&&window.sessionStorage.setItem("memberInfo",JSON.stringify(w)),Promise.resolve(w)})).catch((function(e){return Promise.reject(e)}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={__html:e};return a.a.createElement("div",{className:"toolbar_shortcut ".concat(t),dangerouslySetInnerHTML:n})},m=function(){return new Promise((function(e,t){var n;(n="".concat(c.a.webDomain,"member/accountInfo.json"),s.a.get(n)).then((function(t){e(t)})).catch((function(n){n.data&&!n.data.success&&"login"===n.data.code?f.a.get("uid")?Object(d.L)().finally((function(){e("clear")})):e("null"):t("err")}))}))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["ANONYMITY_LOGIN_NAME","ANONYMITY_LOGIN_MOBILE"];if(e.includes("?")){var n=e.split("?")[0],r=e.split("?")[1],o=r.split("&");return o.forEach((function(e){var r=e.split("=")[0];if(!t.includes(r)){var o=e.split("=")[1]||"";o&&(n.includes("?")?n+="&":n+="?",n+="".concat(r,"=").concat(o))}})),n}return e}},,,function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0});var o={NavigationContainer:!0,useBackButton:!0,useScrollToTop:!0,DefaultTheme:!0,DarkTheme:!0,ThemeProvider:!0,useTheme:!0,Link:!0,useLinking:!0,useLinkTo:!0,useLinkProps:!0,useLinkBuilder:!0,ServerContainer:!0};Object.defineProperty(t,"DarkTheme",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"DefaultTheme",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"NavigationContainer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"ServerContainer",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"ThemeProvider",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"useBackButton",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"useLinkBuilder",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"useLinkProps",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"useLinkTo",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"useLinking",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"useScrollToTop",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useTheme",{enumerable:!0,get:function(){return p.default}});var i=n(131);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=r(n(511)),l=r(n(350)),s=r(n(514)),c=r(n(275)),u=r(n(515)),d=r(n(346)),p=r(n(516)),f=r(n(517)),h=r(n(348)),g=r(n(352)),m=r(n(351)),y=r(n(518)),v=r(n(519)),b=n(520);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(2),m=n.n(g),y=n(1),v=n.n(y),b=n(43),w=n(102),S=n(660),C=n(57),O=n(37),P=n(48),T=n(3);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){return C.a.create({prdBox:I(I({width:"100%",flexDirection:"row",height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:"web"===O.a.OS?16:16.5}),prdBoxPc:{borderRadius:0},imgcms:{width:"100%",height:"100%"},topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",width:"42.7%"},topContentcms:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:0,width:"42.7%"},topContentPad:{width:"35.6%"},topContentPadH:{width:"40.7%"},topContentPcCms:{padding:0,width:"48.4%"},topContentPc:{padding:21,width:"48.4%"},imgAd:{borderRadius:8},promoInfoDefaultWrapPd:{paddingLeft:16,paddingRight:16,paddingBottom:12},promoInfoDefaultWrapPdPad:{paddingLeft:16,paddingRight:16,paddingBottom:16},promoInfoDefaultWrapPdPc:{paddingLeft:12,paddingRight:12,paddingBottom:20},promotionInfoPosition:{position:"absolute",bottom:0,left:0,width:"100%",borderTopRightRadius:16,borderBottomLeftRadius:16},promInfoTxtPadding:{paddingLeft:12,paddingRight:12},promInfoTxtPaddingPad:{paddingLeft:12,paddingRight:12},prdCont:{flexGrow:1,flexBasis:"0%",paddingLeft:4,paddingRight:12,paddingTop:12,paddingBottom:12,justifyContent:"space-between"},prdContPc:{width:202,paddingLeft:8,paddingBottom:20,paddingTop:20},prdTagNameWrap:{flexDirection:"row"},prdTag:{borderRadius:4,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:.5,height:13,marginRight:4,textAlign:"center",textAlignVertical:"center",alignItems:"center",marginTop:-2,overflow:"hidden"},prdTagPc:{fontSize:12,height:16,lineHeight:16,paddingTop:1,paddingBottom:1,paddingLeft:4,paddingRight:4,marginTop:-4},prdTagApkOrIos:{height:14,borderRadius:4,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0,textAlign:"center",textAlignVertical:"center"},prdTagText:I(I(I({},e.C17),e.T0),{},{height:13,lineHeight:13}),prdTagTextPc:I(I({},e.T3),{},{height:14,lineHeight:16}),prdTagApkOrIosText:I(I(I({},e.C17),e.T0),{},{height:14,lineHeight:13}),prdName:I(I(I({},e.T6),e.C12),{},{justifyContent:"center",fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600"}),prdNamePc:I(I({},e.T10),{},{position:"relative",fontWeight:"600"}),promName:I(I({},e.T3),e.C14),promNamePc:I(I({},e.T7),{},{height:19,lineHeight:20}),prdContBottom:{flexGrow:1,flexBasis:"0%",justifyContent:"flex-end",marginTop:4,position:"relative"},priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",flexShrink:1,paddingRight:12,paddingTop:2},priceBoxPc:{width:"100%",marginBottom:8,paddingRight:0},priceMark:I(I({marginRight:2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"600",lineHeight:18}),priceMarkPc:I(I({marginRight:0},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"400"}),newPrice:I(I({},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"600",marginRight:4}),newPricePc:{fontWeight:"400"},newPriceApkOrIos:{overflow:"visible"},oldPricePc:{fontSize:e.T3.fontSize},oldPrice:I(I({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize}),priceQi:I(I({marginLeft:-2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"web"===O.a.OS?"bold":"600",lineHeight:15}),priceQiPad:{lineHeight:18},promTagBox:{justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden",marginTop:4,height:P.a.isQQWap()?15:14},promTagBoxPc:{height:16},promTagBoxApkOrIos:{height:14},promTagText:I(I(I({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:4,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlignVertical:"center",paddingTop:0,maxWidth:136}),promTagTextPc:I(I({},e.T3),{},{height:16,lineHeight:16,paddingTop:0,marginRight:4}),promTagTextApkOrIos:{lineHeight:13.5,height:14,paddingTop:0,marginBottom:1},reviewBox:{flexDirection:"row",flexWrap:"nowrap",lineHeight:14},reviewBoxPc:I({},e.T3),reviewNum:I(I(I({},e.T1),e.C14),{},{marginRight:16,marginTop:4}),reviewNumPc:I(I({},e.T3),{},{marginRight:8,marginTop:6}),reviewRate:I(I(I({},e.T1),e.C14),{},{marginTop:4}),reviewRatePc:I(I({},e.T3),{},{marginTop:6}),shopArea:{marginTop:4,flexDirection:"row",flexWrap:"nowrap",lineHeight:14},shopName:I(I({flex:1},e.T1),e.C14),shopInto:I(I({marginLeft:8},e.T1),e.C14)})},E=n(64),j=n.n(E),R=n(40),L=n(432),_=n(1734),D=n(42);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t,n;return C.a.create({stockBoxView:{position:"absolute",alignItems:"center",justifyContent:"center",width:32,height:32,padding:4,backgroundColor:e.C81.color+e.opacityMap[e.C81.opacity],borderRadius:32},stockBoxViewIos:{paddingLeft:5,paddingTop:5},stockBoxViewPosition:{top:8,right:8},stockBoxViewPc:{width:40,height:40,borderRadius:40,top:16,right:16,paddingLeft:P.a.isIE()?4:5,paddingTop:P.a.isIE()?4:5},stockBox:W(W(W({},e.T0),e.C17),{},{letterSpacing:.8,textAlign:"center"}),stockBoxWap:{transform:[{scale:3/4}],fontSize:(null==e||null===(t=e.T0)||void 0===t?void 0:t.fontSize)*(4/3),lineHeight:(null==e||null===(n=e.T0)||void 0===n?void 0:n.lineHeight)*(4/3),letterSpacing:"web"===O.a.OS?"noraml":.8},stockBoxIos:{width:24,height:25},stockBoxPc:W(W({},e.T3),{},{width:31}),imgNormal:{width:"100%",height:"100%"},promoInfoDefaultWrapCommon:{position:"absolute",bottom:0,left:0,width:"100%",alignItems:"center"},promoInfoDefaultWrapPd:{paddingLeft:8,paddingRight:8},promoInfoDefaultWrapPdPad:{paddingLeft:12,paddingRight:12},promoInfoDefaultWrapPdPc:{paddingLeft:24,paddingRight:24},promoInfoDefaultCommon:W(W(W({},e.C18),e.T3),{},{lineHeight:"web"===O.a.OS||Object(T.F)()?22:20,height:20,maxWidth:"100%",textAlign:"center",backgroundColor:"#FBE7EA",borderRadius:4,overflow:"hidden"}),promoInfoDefaultPd:{paddingLeft:8,paddingRight:8},promoInfoDefaultPdSmall:{paddingLeft:4,paddingRight:4},promoInfoDefaultSmall:W(W({},e.T0),{},{lineHeight:"web"===O.a.OS||Object(T.F)()?15.5:13.5,height:14}),promotionInfoPosition:{position:"absolute",bottom:0,left:0,width:"100%"},promotionInfoPositionPc:{borderTopRightRadius:0,borderBottomStartRadius:0},promInfoTxtCommon:W(W(W({},e.C17),e.T3),{},{lineHeight:22,height:20,textAlign:"center"}),promInfoTxtPadding:{paddingLeft:4,paddingRight:4},promInfoTxtPaddingPad:{paddingLeft:8,paddingRight:8},promInfoTxtSmall:W(W({},e.T1),{},{lineHeight:20,height:18}),promInfoTxtApkOrIos:{lineHeight:20},promInfoTxtApkOrIosSmall:W(W({},e.T1),{},{lineHeight:18,height:18}),pointPrice:W(W(W({},e.C18),e.T10),{},{lineHeight:21}),pointPricePad:W(W({},e.T12),{},{lineHeight:32}),pointPriceSymbol:W(W(W({},e.C18),e.T4),{},{lineHeight:21}),pointPriceSymbolPad:W(W({},e.T10),{},{lineHeight:32}),prdItemHover:W({},e.S42)})},B={data:{},config:{heightAuto:!0,layoutType:"TwoColumnLayout",bgColor:"",prodTagShow:!0,outOfStockTagShow:!0,promotionTagShow:!0,mutiTagTagShow:!1,promotionShow:!0,prodSellPoint:!0,originPriceShow:!0,buyIconShow:!1,commentCountShow:!0,prdNameNum:1}};var M=function(){var e=this;return{isWeb:function(){return"web"===O.a.OS},isPc:function(){return"large"===Object(R.a)(e.originWidth||e.props.width)},isPad:function(){return"medium"===Object(R.a)(e.originWidth||e.props.width)},isApp:function(){return"small"===Object(R.a)(e.originWidth||e.props.width)},isApkOrIos:function(){return"android"===O.a.OS||"ios"===O.a.OS},isMp:function(){return"wechat"===Object({NODE_ENV:"production",ENV_CONFIG:"prod",SET_PAGE:"webpack.prod.config.js"}).REMAX_PLATFORM||"ali"===Object({NODE_ENV:"production",ENV_CONFIG:"prod",SET_PAGE:"webpack.prod.config.js"}).REMAX_PLATFORM},isQQWap:function(){var e,t,n;return"web"===O.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"))},isIosPhone:function(){var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent;return!(null==t||!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))},prodRef:function(t){"function"==typeof e.props.receiveRef&&e.props.receiveRef(t),"web"===O.a.OS&&(e.prodRefDom=j.a.findDOMNode(t)||null,e.prodRefDom&&"function"==typeof e.props.onClick&&"ProductBigCard"!==e.props.config.layoutType&&(e.prodRefDom.onclick=e.props.onClick))},getBaseState:function(){var t=e.props.config;return{reg:new RegExp("[\\u4E00-\\u9FFF]+","g"),notWFall:!t.heightAuto&&"StaggeredLayout"!==t.layoutType&&"KcalFlow"!==t.layoutType,hidePromOrSellPoint:!t.promotionShow&&!t.prodSellPoint,hidePromTags:!t.promotionTagShow,hideReview:!t.commentCountShow,isMixLayout:"OnePlusNLayout"===t.layoutType||"OnePlusNHorizontalLayout"===t.layoutType}},handleData:function(){var t,n=e.props,r=n.data,o=n.config;if(e.dataIsProd=!r.dataType||r.dataType!==D.f.Advertise,(null==r?void 0:r.dataType)!==D.f.Advertise&&(void 0===(null==r?void 0:r.newPrice)||""===(null==r?void 0:r.newPrice))){var i=null!=r&&r.displayPrice||0===(null==r?void 0:r.displayPrice)?null==r?void 0:r.displayPrice:null!=r&&r.salePrice||0===(null==r?void 0:r.salePrice)?null==r?void 0:r.salePrice:"";2===Number(r.priceMode)?(r.newPrice=Object(L.b)("without_price"),r.oldPrice=""):i&&i!==r.originPrice?(r.newPrice=_.a.priceFormat(i),r.oldPrice=o.originPriceShow&&"1"!==r.priceEndWithQi?"¥"+_.a.priceFormat(r.originPrice):""):(r.newPrice=r.originPrice||0===r.originPrice?_.a.priceFormat(r.originPrice):"",r.oldPrice=""),1!==r.isInv&&(r.soldOut=!0),r.sellingPoint&&o.prodSellPoint&&(r.showSellPoint=!0),o.promotionShow&&r.promotionInfo&&(r.showPromtion=!0),(r.showPromtion||r.showSellPoint)&&(r.showPrdNameBtText=!0),o.promotionTagShow&&null!=r&&null!==(t=r.promotionRules)&&void 0!==t&&t.length&&(r.showPromTagsArea=!0),o.commentCountShow&&r.reviewCount>0&&(r.showReviewArea=!0)}},handleStyle:function(t,n){return e.props.customPrdStyles?Object.assign(A(n),t,e.props.customPrdStyles(n)||{}):Object.assign(A(n),t)},handlePress:function(t){var n=e.props.onClick;n&&("web"!==O.a.OS?n():t.nativeEvent.stopImmediatePropagation())},handleImgSize:function(){var t=e.props,n=t.config,r=t.iWidth,o=e.BaseJs,i=n.prdImgProportion?n.prdImgProportion:n.isPadHorizontal?.921:o.isPad()?.743:1;e.iWidth=r||(o.isPc()?392:o.isApp()?328:290),e.imgWrapWidth=n.imgWrapWidth?n.imgWrapWidth:o.isPc()?.484*e.iWidth:o.isApp()?.427*e.iWidth:n.isPadHorizontal?.404*e.iWidth:.357*e.iWidth,e.imgWrapHeight=e.imgWrapWidth/i,e.imgWidth=n.imgWidth?n.imgWidth:o.isPc()?e.imgWrapWidth-42:e.imgWrapWidth-32},handleReviewRate:function(e){var t=Number(e);return t>=100?100:t>=99.5?99:Math.round(t)},getAdHeight:function(){var t,n=e.props.iHeight||0,r=(null===(t=e.props)||void 0===t?void 0:t.config).layoutType;return"l2r"===e.props.structure?n=e.imgWrapHeight:"ProductBigCard"===r?n=Math.ceil(e.iWidth):"StaggeredLayout"===r&&(n=Math.ceil(e.iWidth/.75)),n?{height:n}:null},handlePrdItemSize:function(t,n){var r=e.BaseJs,o=r.isPc,i=r.isApp,a=e.props,l=a.iWidth,s=a.iHeight,c=(a.config,e.state),u=c.notWFall,d=c.isMixLayout,p=c.hidePromOrSellPoint,f=c.hidePromTags,h=c.hideReview,g=(null==n?void 0:n.txtAreaHeight)||135;if(l=l||(o()?291:i()?160:142),s=u?s||(o()?l/.753:l+g):"auto",e.props.iHeight)return e.iWidth=l,void(e.iHeight=e.props.iHeight);var m=0;!d&&u&&(o()?(s=p&&f&&h?356:p&&f&&!h?358:p&&h&&!f?380:387,p||f||(t.prdContPcSpecialStyle={paddingBottom:h?17:19})):(p&&(m=16),f&&(m+=18),h&&(m+=18),s-=m)),e.iWidth=l,e.iHeight=s},handleShopNamePress:function(t){var n=e.props.onClickShopName;n&&("web"!==O.a.OS||t.nativeEvent.stopImmediatePropagation(),n())},scalePointPriceFont:function(){var t=e.props,n=t.data;if("ThreeColumnLayout"!==t.config.layoutType){var r=null!=n&&n.cashPrice?((null==n?void 0:n.cashPrice)+"").length:0,o=null!=n&&n.pointPrice?((null==n?void 0:n.pointPrice)+"").length:0;if(r+o!==0&&null!=n&&n.pointPrice&&0!==(null==n?void 0:n.pointPrice))return r+o>10}}}},F=n(15),H=n.n(F),z=n(126),U=n(152),V=n(45),G=n.n(V),Y=n(24);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(){var e=this,t=M.bind(this)(),n=Object(T.F)()||!t.isApkOrIos()?{wordBreak:"break-all"}:{};return{renderMainBox:function(n,r,o,i){var a,l,s=e.props.config;return h.a.createElement(z.a,{ref:t.prodRef,onPress:t.handlePress,activeOpacity:s.activeOpacity||.7,style:[n.prdBox,t.isPad()&&n.prdBoxPad,t.isPc()&&n.prdBoxPc,i&&n.prdBoxAd,{width:e.props.iWidth,maxWidth:e.props.iWidth},(null===(a=e.props)||void 0===a?void 0:a.hyBrid)&&{marginTop:null!==(l=e.props)&&void 0!==l&&l.isPadHorizontal?12:8},e.iHeight&&{height:e.iHeight},t.isPc()&&r&&n.prdItemHover]},o)},renderBigProductBox:function(n,r,o,i){var a,l;return h.a.createElement(b.a,{ref:t.prodRef,style:[n.prdBox,t.isPad()&&n.prdBoxPad,t.isPc()&&n.prdBoxPc,i&&n.prdBoxAd,{width:e.props.iWidth,maxWidth:e.props.iWidth},(null===(a=e.props)||void 0===a?void 0:a.hyBrid)&&{marginTop:null!==(l=e.props)&&void 0!==l&&l.isPadHorizontal?12:8},e.iHeight&&{height:e.iHeight},t.isPc()&&r&&n.prdItemHover]},o)},renderAdImg:function(e,n){return h.a.createElement(Y.a,{resizeMode:"cover",imgUri:n.imgUrl,imgStyle:[e.imgNormal,!t.isPc()&&e.imgAd,t.getAdHeight()]})},renderImgArea:function(n,r,o){var i,a=e.props,l=a.config,s=a.structure,c=e.imgWrapWidth||e.props.iWidth,u=c/(l.prdImgProportion||(null==o?void 0:o.prdImgProportion)||1),d=c>u?c:u,p={resizeWidth:["TwoColumnLayout","StaggeredLayout"].includes(l.layoutType)&&l.isFoldScreen&&d>220?220:d},f=(null==r?void 0:r.customImage)&&!["diagonal","t2bTextToImg"].includes(s),g=f?"cover":(null==o?void 0:o.resizeMode)||"contain",m=!1;null!==(i=r.poster)&&void 0!==i&&i.length&&null!=o&&o.serverTime&&r.poster.some((function(e){return!!(e.startDate<=o.serverTime&&e.endDate>=o.serverTime&&e.posterUrl)&&(r.imgUrl=e.posterUrl,g="cover",m=!0,!0)}));var y=h.a.createElement(Y.a,H()({},"web"===O.a.OS||t.isPad()&&!l.isFoldScreen?{}:p,{resizeMode:g,imgUri:r.imgUrl,mode:"aspectFill",imgStyle:[t.isPc()&&n.imgPc,t.isPad()&&n.imgPad,l.isPadHorizontal&&n.imgPadH,t.isApp()&&n.img,"l2r"===s&&{width:e.imgWidth,height:e.imgWidth},f&&n.imgcms,m&&n.imgcms]}));return h.a.createElement(b.a,{style:[!m&&n.topContent,t.isPc()&&n.topContentPc,t.isPad()&&n.topContentPad,f&&(t.isPc()?n.topContentPcCms:n.topContentcms),l.isPadHorizontal&&n.topContentPadH,l.bgColor&&{backgroundColor:l.bgColor},e.imgWrapWidth&&{width:e.imgWrapWidth},"l2r"===s?{height:e.props.iHeight||e.imgWrapHeight}:{height:u}]},y,r.showPromtion&&r.showSellPoint&&(l.isGradientPromotionInfo?e.BaseDom.renderGradientPromotionInfo(n,r):e.BaseDom.renderPromotionInfo(n,r)),r.soldOut&&l.outOfStockTagShow&&h.a.createElement(b.a,{style:[n.stockBoxView,P.a.isIOS()&&n.stockBoxViewIos,n.stockBoxViewPosition,t.isPad()&&n.stockBoxViewPad,t.isPc()&&n.stockBoxViewPc]},h.a.createElement(U.a,{style:[n.stockBox,P.a.isIOS()&&n.stockBoxIos,t.isPc()&&n.stockBoxPc,!t.isPc()&&t.isWeb()&&n.stockBoxWap,t.isPad()&&n.stockBoxPad]},l.outOfStockTagText||Object(L.b)("product_sockout"))))},renderGradientPromotionInfo:function(e,r){return Object(T.F)()||t.isWeb()?h.a.createElement(U.a,{style:[e.promotionInfoPosition,e.promInfoTxtCommon,e.promInfoTxtPadding,t.isPad()&&e.promInfoTxtPaddingPad,t.isPc()&&e.promotionInfoPositionPc,t.isApp()&&e.promInfoTxtSmall,n,{background:"linear-gradient(90deg, #FE5B89 0%, #FD665B 100%)"}],numberOfLines:1,ellipsizeMode:"tail"},r.promotionInfo):h.a.createElement(G.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5B89","#FD665B"],style:[e.promotionInfoPosition]},h.a.createElement(U.a,{style:[e.promInfoTxtCommon,e.promInfoTxtApkOrIos,t.isApp()&&e.promInfoTxtApkOrIosSmall,t.isPad()?e.promInfoTxtPaddingPad:e.promInfoTxtPadding],numberOfLines:1,ellipsizeMode:"tail"},r.promotionInfo))},renderPromotionInfo:function(e,r){return h.a.createElement(b.a,{style:[e.promoInfoDefaultWrapCommon,e.promoInfoDefaultWrapPd,t.isPad()&&e.promoInfoDefaultWrapPdPad,t.isPc()&&e.promoInfoDefaultWrapPdPc]},h.a.createElement(U.a,{style:[e.promoInfoDefaultCommon,e.promoInfoDefaultPd,t.isApp()&&e.promoInfoDefaultPdSmall,t.isApp()&&e.promoInfoDefaultSmall,n],numberOfLines:1,ellipsizeMode:"tail"},r.promotionInfo))},renderPrdTag:function(n,r,o,i){var a,l=e.props.config;return a=Object(T.F)()?function(e){return h.a.createElement(U.a,{style:[n.prdTag,n.prdTagText,{background:"linear-gradient(to right, #CF0A2C, #F92A4A)",display:"inline-block"},t.isPad()&&n.prdTagPad,t.isPad()&&n.prdTagTextPad]},e)}:t.isApkOrIos()?function(e){var r,a;return h.a.createElement(h.a.Fragment,null,h.a.createElement(G.a,{start:{x:0,y:0},end:{x:1,y:0},colors:[null==o||null===(r=o.C40)||void 0===r?void 0:r.color[0],null==o||null===(a=o.C40)||void 0===a?void 0:a.color[1]],style:[n.prdTagApkOrIos,t.isPad()&&n.prdTagApkOrIosPad,null!=i&&i.tagIsPrevName?{transform:[{translateY:2.5}]}:{}]},h.a.createElement(b.a,null,h.a.createElement(U.a,{numberOfLines:1,style:[n.prdTagApkOrIosText,t.isPad()&&n.prdTagApkOrIosTextPad],ellipsizeMode:"ios"===O.a.OS?"tail":"clip"},e))),null!=i&&i.tagIsPrevName?h.a.createElement(U.a,null," "):null)}:function(e){var r,a;return h.a.createElement(G.a,{start:{x:0,y:0},end:{x:1,y:0},colors:[null==o||null===(r=o.C40)||void 0===r?void 0:r.color[0],null==o||null===(a=o.C40)||void 0===a?void 0:a.color[1]],style:[n.prdTag,t.isPc()&&n.prdTagPc,t.isQQWap()&&{height:14},t.isPad()&&n.prdTagPad,t.isIosPhone()&&{paddingTop:0},null==i?void 0:i.customWrapStyle]},h.a.createElement(U.a,{style:[n.prdTagText,t.isPc()&&n.prdTagTextPc,t.isQQWap()&&{height:14,lineHeight:t.isIosPhone()?14:15,paddingTop:0},t.isPad()&&n.prdTagTextPad,null==i?void 0:i.customTextStyle]},e))},r.bigPromotionTag&&l.bigPromotionShow?a(r.bigPromotionTag):r.displayTags&&l.prodTagShow?a(r.displayTags):null},renderPrdName:function(r,o,i){var a,l;return h.a.createElement(U.a,{style:[r.prdName,t.isPc()&&r.prdNamePc,t.isPad()&&r.prdNamePad,n],numberOfLines:(null==i?void 0:i.txtLineNum)||(null===(a=e.props)||void 0===a||null===(l=a.config)||void 0===l?void 0:l.prdNameNum)||2,ellipsizeMode:"tail"},o.prdName)},renderPrdPromotion:function(t,n){var r,o;return null!==(r=e.props)&&void 0!==r&&null!==(o=r.config)&&void 0!==o&&o.promotionShow?h.a.createElement(U.a,{numberOfLines:1,ellipsizeMode:P.a.isApp()?"tail":"clip",style:t.promotionInfo},n.promotionInfo||""):null},renderPrdTagsAndPrdName:function(r,o,i,a){var l=e.props.config;return h.a.createElement(U.a,{style:[r.prdName,t.isPad()&&r.prdNamePad,t.isPc()&&r.prdNamePc,P.a.isIOS()&&{lineHeight:18},t.isPad()&&r.prdNamePad,n,t.isPc()&&P.a.isIE()&&(!l.prdNameNum||2===l.prdNameNum)&&{maxHeight:42}],numberOfLines:l.prdNameNum||2,ellipsizeMode:"tail"},e.BaseDom.renderPrdTag(r,o,i,K(K({tagIsPrevName:!0},null!=a&&a.customWrapStyle?{customWrapStyle:a.customWrapStyle}:{}),null!=a&&a.customTextStyle?{customTextStyle:a.customTextStyle}:{})),o.prdName)},renderSellpointOrProms:function(r,o,i){var a,l,s,c,u=o.showSellPoint?o.sellingPoint:o.showPromtion?o.promotionInfo:"";return o.showPrdNameBtText||null!=i&&i.notWFall?h.a.createElement(U.a,{style:[r.promName,t.isPad()&&r.promNamePad,(null===(a=e.props)||void 0===a||null===(l=a.config)||void 0===l?void 0:l.isPadHorizontal)&&r.promNamePadH,t.isPc()&&r.promNamePc,(null==i?void 0:i.setPrdNameBtTextH)&&(t.isApp()?r.prdNameBtTextH:t.isPad()?r.prdNameBtTextHPad:null!=i&&i.hideReviewOrNotMixLayout?r.prdNameBtTextHPcNoReview:r.prdNameBtTextHPc),null==i?void 0:i.isPrdNameBtTextHPcHasPromTags,n],numberOfLines:(null==i?void 0:i.txtLineNum)||(null===(s=e.props)||void 0===s||null===(c=s.config)||void 0===c?void 0:c.promotionTextLineNum)||1,ellipsizeMode:"tail"},u):null},renderBtn:function(n,r){var o=r||{},i=o.text,a=o.textColor,l=o.bgColors,s=o.borderColor,c=h.a.createElement(U.a,{style:[n.btn,t.isPc()&&n.btnPc,t.isPad()&&n.btnPad,(null==l?void 0:l.length)>1&&n.btnTransparent,1===(null==l?void 0:l.length)&&{backgroundColor:l[0]},s&&n.btnborder,s&&{borderColor:s},a&&{color:a}],ellipsizeMode:"clip",onPress:e.props.onClickButton},i||Object(L.b)("buy_now_button"));return(null==l?void 0:l.length)>1?t.isMp()?h.a.createElement(U.a,{style:[n.btn,t.isPc()&&n.btnPc,n.btnGradient,{background:"linear-gradient(to right, ".concat(l[0],", ").concat(l[1],")")}]},c):h.a.createElement(G.a,{start:{x:0,y:0},end:{x:1,y:0},style:[n.btn,t.isPc()&&n.btnPc,n.btnGradient],colors:[l[0],l[1]]},c):c},renderVariousBtn:function(t,n,r){var o,i;if(null!==(o=e.props)&&void 0!==o&&null!==(i=o.config)&&void 0!==i&&i.buyIconShow){var a;switch(n.btnType){case D.a.gradient:a={text:n.btnName,bgColors:["#FE5945","#D61A19"]};break;case D.a.stroke:a={text:n.btnName,bgColors:["transparent"],textColor:r.C18.color,borderColor:r.C18.color};break;default:a={text:n.btnName}}return e.BaseDom.renderBtn(t,a)}return null},renderPriceArea:function(n,r,o){var i,a,l,s,c,u,d=(null===(i=e.props)||void 0===i?void 0:i.config)||{},p=d.isNewFont,f=d.priceOverflowType,g=d.priceShowType,m=(null===(a=e.props)||void 0===a?void 0:a.config)||{},y=m.isPadHorizontal,v=m.priceAllLength,w="1"===r.priceEndWithQi&&1===Number(r.priceMode),S=w?((null===(l=r.newPrice+"")||void 0===l?void 0:l.length)||0)+2:((null===(s=r.newPrice+"")||void 0===s?void 0:s.length)||0)+((null===(c=r.oldPrice)||void 0===c?void 0:c.length)||0)+1,C=!e.BaseJs.isPc()&&"activity"===e.props.type&&(""===r.oldPrice?(null===(u=r.newPrice+"")||void 0===u?void 0:u.length)+1>=12:S>=(v||(e.BaseJs.isApkOrIos()?13:12))),P=h.a.createElement(h.a.Fragment,null,!t.isPc()&&1===Number(r.priceMode)&&h.a.createElement(U.a,{style:[n.priceMark,t.isPad()&&n.priceMarkPad,t.isPc()&&n.priceMarkPc,t.isApkOrIos()&&n.priceMarkApkOrIos,t.isApkOrIos()&&t.isPad()&&n.priceMarkApkOrIosPad,C&&y&&n.priceMarkOverflowPadH,p&&n.newPriceFont]},"¥"),h.a.createElement(U.a,{style:[n.newPrice,t.isPc()&&n.newPricePc,t.isPad()&&n.newPricePad,t.isApkOrIos()&&n.newPriceApkOrIos,t.isApkOrIos()&&t.isPad()&&n.newPriceApkOrIosPad,C&&(t.isApp()?n.newPriceOverflow:y?n.newPriceOverflowPadH:n.newPriceOverflowPad),t.isPc()&&""===r.oldPrice&&{marginRight:0},p&&n.newPriceFont]},t.isPc()&&1===Number(r.priceMode)?"¥":"",r.newPrice,t.isPc()&&w?Object(L.b)("ups"):""),"tail"===f&&t.isApkOrIos()&&1===Number(r.priceMode)&&"1"!==r.priceEndWithQi?h.a.createElement(U.a,{style:{fontSize:10,transform:[{scale:.2}]}}," "):null,!t.isPc()&&w?h.a.createElement(U.a,{style:[n.priceQi,t.isPad()&&n.priceQiPad,C&&y&&n.priceQiOverflowPadH]},Object(L.b)("ups")):null),T=h.a.createElement(h.a.Fragment,null,""!==r.newPrice?"topToBottom"==g?h.a.createElement(b.a,{style:{flexDirection:"row"}},P):P:null,""!==r.oldPrice?h.a.createElement(U.a,{style:[n.oldPrice,t.isPc()&&n.oldPricePc,t.isPad()&&n.oldPricePad,C&&n.oldPriceOverflow,C&&y&&n.oldPriceOverflowPadH]},r.oldPrice):null),x=[n.priceBox,t.isPad()&&n.priceBoxPad,t.isPc()&&n.priceBoxPc,C&&n.priceBoxOverflow,C&&t.isPad()&&n.priceBoxOverflowPad,(null==o?void 0:o.setCustomPriceBoxStyle)&&n.priceBoxPcMg];return"tail"===f?h.a.createElement(U.a,{style:[].concat(x,["ios"===O.a.OS&&S<=15&&n.priceBoxNormal]),numberOfLines:1,ellipsizeMode:"tail"},T):h.a.createElement(b.a,{style:[].concat(x)},T)},renderSellingPoint:function(n,r){var o,i;return null!==(o=e.props)&&void 0!==o&&null!==(i=o.config)&&void 0!==i&&i.prodSellPoint?h.a.createElement(U.a,{numberOfLines:1,ellipsizeMode:P.a.isApp()?"tail":"clip",style:[n.promotionInfo,t.isPad()&&n.promotionInfoPad]},r.sellingPoint||""):null},renderSbomPrdPromotion:function(n,r){var o;return e.props.config.promotionShow?h.a.createElement(b.a,{style:[n.promTagBox,t.isPc()&&n.promTagBoxPc,t.isPad()&&n.promTagBoxPad,t.isApkOrIos()&&n.promTagBoxApkOrIos,t.isQQWap()&&{height:t.isApp()?15:19}]},r.promotionInfo?h.a.createElement(U.a,H()({style:[n.promTagText,t.isPc()&&n.promTagTextPc,t.isApkOrIos()&&n.promTagTextApkOrIos,t.isIosPhone()&&{lineHeight:12},t.isQQWap()&&{height:t.isIosPhone()?14:15,lineHeight:t.isIosPhone()?12:16},!t.isApkOrIos()&&!t.isPc()&&{borderWidth:1,overflow:"hidden"},t.isPad()&&n.promTagTextPad,(null===(o=e.props)||void 0===o?void 0:o.isPadHorizontal)&&n.promTagTextPadH]},"ios"===O.a.OS?{numberOfLines:1}:{},{ellipsizeMode:"ios"===O.a.OS?"tail":"clip"}),r.promotionInfo):h.a.createElement(h.a.Fragment,null)):null},renderPromTagsArea:function(n,r,o){var i,a=e.props.config;return t.isMp()&&!r.showPromTagsArea?null:h.a.createElement(b.a,{style:[n.promTagBox,t.isPc()&&n.promTagBoxPc,t.isApkOrIos()&&n.promTagBoxApkOrIos,t.isPad()&&n.promTagBoxPad,(null==o?void 0:o.setPromTagsAreaH)&&(t.isApp()?n.promTagsAreaH:t.isPad()?n.promTagsAreaHPad:n.promTagsAreaHPc),a.isRankings&&n.rankingPromoTags]},r.showPromTagsArea&&(null===(i=r.promotionRules)||void 0===i?void 0:i.map((function(e,r){return r<(null!=o&&o.tagNum?null==o?void 0:o.tagNum:t.isPc()?3:2)&&h.a.createElement(U.a,{style:[n.promTagText,t.isPc()&&n.promTagTextPc,t.isApkOrIos()&&n.promTagTextApkOrIos,t.isIosPhone()&&{lineHeight:12},t.isQQWap()&&{height:t.isIosPhone()?14:15,lineHeight:t.isIosPhone()?12:15},!t.isApkOrIos()&&!t.isPc()&&{borderWidth:1,overflow:"hidden"},t.isPad()&&n.promTagTextPad],key:r},e)}))))},renderReviewArea:function(e,n,r){return t.isMp()&&!n.showReviewArea?null:h.a.createElement(b.a,{style:[e.reviewBox,t.isPc()&&e.reviewBoxPc,t.isPad()&&e.reviewBoxPad,(null==r?void 0:r.setReviewAreaH)&&(t.isApp()?e.reviewAreaH:t.isPad()?e.reviewAreaHPad:e.reviewAreaHPc)]},n.showReviewArea&&h.a.createElement(h.a.Fragment,null,h.a.createElement(U.a,{style:[e.reviewNum,t.isPc()&&e.reviewNumPc,t.isPad()&&e.reviewNumPad]},n.reviewCount+""+Object(L.b)("people_evaluation")),h.a.createElement(U.a,H()({},t.isPc()?{}:{numberOfLines:1},{style:[e.reviewRate,t.isPc()&&e.reviewRatePc,t.isPad()&&e.reviewRatePad]}),null===(o=Object(L.b)("positive_reviews"))||void 0===o?void 0:o.replace(/%[s]/,"".concat(t.handleReviewRate(n.goodReviewRate),"%")))));var o},renderShopArea:function(e,r){return t.isPc()||!r.shopName?null:h.a.createElement(z.a,{activeOpacity:.7,onPress:t.handleShopNamePress},h.a.createElement(b.a,{style:e.shopArea},h.a.createElement(U.a,{style:[e.shopName,n],numberOfLines:1,ellipsizeMode:"tail"},r.shopName),h.a.createElement(U.a,{style:e.shopInto},Object(L.b)("inStore"),">")))},renderPointPrice:function(n,r){var o=t.scalePointPriceFont();if(1!==r.pointSaleFlag||null==o)return null;var i=[n.priceBox,t.isPad()&&n.priceBoxPad,t.isPc()&&n.priceBoxPc],a="TwoColumnLayout"===e.props.config.layoutType||"StaggeredLayout"===e.props.config.layoutType,l=o&&a&&t.isApp(),s="ProductBigCard"===e.props.config.layoutType,c=l?0:t.isPad()&&s?2:1,u=l?{fontSize:14}:{},d=r.cashPrice?h.a.createElement(h.a.Fragment,null,h.a.createElement(U.a,{style:[n.pointPriceSymbol,{paddingRight:c},t.isPad()&&n.pointPriceSymbolPad,t.isPc()&&n.pointPriceSymbolPad]},"¥"),h.a.createElement(U.a,{style:[n.pointPrice,t.isPad()&&n.pointPricePad,t.isPc()&&n.pointPricePad,u]},r.cashPrice),h.a.createElement(U.a,{style:[n.pointPrice,t.isPad()&&n.pointPricePad,t.isPc()&&n.pointPricePad,u,{paddingLeft:c,paddingRight:c}]},"+")):null,p=r.pointPrice?h.a.createElement(h.a.Fragment,null,h.a.createElement(U.a,{style:[n.pointPrice,t.isPad()&&n.pointPricePad,t.isPc()&&n.pointPricePad,u]},r.pointPrice),h.a.createElement(U.a,{style:[n.pointPriceSymbol,{paddingLeft:c},t.isPad()&&n.pointPriceSymbolPad,t.isPc()&&n.pointPriceSymbolPad]},Object(L.b)("integral"))):null;return h.a.createElement(b.a,{style:i},2===r.pointMode&&r.cashPrice>0&&d,p)}}};function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var $=function(e){s()(n,e);var t=Q(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(m()(r),"prodRefDom",void 0),v()(m()(r),"originWidth",void 0),v()(m()(r),"iWidth",void 0),v()(m()(r),"iHeight",void 0),v()(m()(r),"imgWrapWidth",void 0),v()(m()(r),"imgWrapHeight",void 0),v()(m()(r),"imgWidth",void 0),v()(m()(r),"BaseJs",void 0),v()(m()(r),"BaseDom",void 0),v()(m()(r),"dataIsProd",void 0),v()(m()(r),"loadPage",(function(e,t,n){var o,i,a=r.props,l=a.data,s=a.config,c=a.serverTime,u=m()(r),d=u.BaseJs,p=u.BaseDom;(e=d.handleStyle(e,t),d.handleData(),d.handleImgSize(),r.iHeight=r.props.iHeight||"",r.dataIsProd)?o=h.a.createElement(h.a.Fragment,null,p.renderImgArea(e,l,{serverTime:c,showPoster:s.showPoster}),h.a.createElement(b.a,{style:[e.prdCont,d.isPc()&&e.prdContPc,d.isPad()&&e.prdContPad,(null===(i=r.props.config)||void 0===i?void 0:i.isPadHorizontal)&&e.prdContPadH]},h.a.createElement(b.a,{style:[d.isPc()&&e.prdContTop]},p.renderPrdTagsAndPrdName(e,l,t),p.renderSellpointOrProms(e,l)),h.a.createElement(b.a,{style:[e.prdContBottom]},p.renderPriceArea(e,l),l.showPromTagsArea&&p.renderPromTagsArea(e,l),l.showReviewArea&&p.renderReviewArea(e,l),"1"===l.showShopName&&p.renderShopArea(e,l)))):o=p.renderAdImg(e,l);return p.renderMainBox(e,n,o)})),r.state={},r.BaseJs=M.bind(m()(r))()||{},r.BaseDom=q.bind(m()(r))()||{},r}return a()(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this;return h.a.createElement(w.b,{themeStyles:k},(function(t,n,r){var o;return e.originWidth=r,null!==(o=e.BaseJs)&&void 0!==o&&o.isPc()?h.a.createElement(S.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(f.PureComponent);v()($,"defaultProps",B);var X=$;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){return C.a.create({prdBox:ee(ee({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8}),prdBoxPc:{borderRadius:0},topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",width:"100%",borderTopRightRadius:8,borderTopLeftRadius:8},topContentPc:{borderTopRightRadius:0,borderTopLeftRadius:0},topContentPad:{},imgcms:{width:"100%",height:"100%"},img:{width:"75%",height:"75%"},imgPc:{width:"62%",height:"76%"},imgPad:{width:"75%",height:"75%"},imgAd:{borderRadius:8},prdCont:{paddingTop:8,paddingLeft:8,paddingRight:8,paddingBottom:12,borderBottomLeftRadius:8,borderBottomRightRadius:8},prdContPc:{textAlign:"center",paddingTop:10,paddingBottom:19,paddingLeft:24,paddingRight:24},prdContPcSpecialStyle:{paddingBottom:36},prdContTop:{height:52},prdContTopNoPromotion:{height:36},isPrdContPcNoReview:{paddingBottom:17},prdTagNameWrap:{flexDirection:"row"},prdTag:{borderRadius:4,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:.5,height:13,marginRight:4,textAlign:"center",textAlignVertical:"center",alignItems:"center",marginTop:-2,overflow:"hidden"},prdTagPc:{fontSize:12,height:16,lineHeight:16,paddingTop:1,paddingBottom:1,paddingLeft:4,paddingRight:4,marginTop:-3},prdTagApkOrIos:{height:14,borderRadius:4,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0,textAlign:"center"},prdTagText:ee(ee(ee({},e.C17),e.T0),{},{height:13,lineHeight:13}),prdTagTextPc:ee(ee({},e.T3),{},{height:14,lineHeight:16}),prdTagApkOrIosText:ee(ee(ee({},e.C17),e.T0),{},{height:"auto",lineHeight:13}),prdName:ee(ee(ee({},e.T6),e.C21),{},{height:36,justifyContent:"center",fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600"}),prdNamePc:ee(ee({},e.T8),{},{textAlign:"center",height:19,position:"relative",fontWeight:"600"}),prdNameBtTextH:{height:16},prdNameBtTextHPad:{height:16},prdNameBtTextHPc:{height:18,marginTop:4},prdNameBtTextHPcNoReview:{height:18,marginTop:12},promName:ee(ee(ee({},e.T3),e.C14),{},{lineHeight:16}),promNamePc:ee(ee({},e.T5),{},{lineHeight:18}),priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",paddingTop:1,paddingBottom:1,height:21,marginTop:6},priceBoxPc:{justifyContent:"center",marginTop:12},priceBoxPcMg:{marginTop:16},priceMark:ee(ee({marginRight:2,color:e.C18.color},e.T4),{},{fontWeight:"600",lineHeight:18}),priceMarkPc:{marginRight:0,color:e.C18.color,fontSize:e.T7.fontSize,fontWeight:"400"},newPrice:ee(ee({},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"600",marginRight:4}),newPricePc:{fontWeight:"400"},newPriceApkOrIos:{lineHeight:19,overflow:"visible"},oldPricePc:{fontSize:e.T3.fontSize},oldPrice:ee(ee({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize}),priceQi:ee(ee({marginLeft:-2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"web"===O.a.OS?"bold":"600",lineHeight:15}),priceQiPad:{lineHeight:18},promTagBox:{justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden"},promTagBoxPc:{justifyContent:"center"},promTagBoxApkOrIos:{marginBottom:1},promTagsAreaH:{height:P.a.isQQWap()?15:14,marginTop:5},promTagsAreaHPad:{height:P.a.isQQWap()?15:14,marginTop:5},promTagsAreaHPc:{height:16,marginTop:8},promTagsAreaHApkOrIos:{height:14},promTagText:ee(ee(ee({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:4,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlign:"center",textAlignVertical:"center",paddingTop:0,maxWidth:136}),promTagTextPc:ee(ee({},e.T3),{},{height:16,lineHeight:P.a.isIE()?15.5:16,paddingTop:0,marginRight:4,maxWidth:243}),promTagTextApkOrIos:{lineHeight:13.5,height:14,paddingTop:0,marginBottom:1},reviewBox:{flexDirection:"row",flexWrap:"nowrap",lineHeight:14},reviewBoxPc:ee(ee({},e.T3),{},{justifyContent:"center"}),reviewAreaH:{height:18},reviewAreaHPad:{height:18},reviewAreaHPc:{height:16,marginTop:8},reviewNum:ee(ee(ee({},e.T1),e.C14),{},{marginRight:16,marginTop:4}),reviewNumPc:ee(ee({},e.T3),{},{marginRight:8,marginTop:2}),reviewRate:ee(ee(ee({},e.T1),e.C14),{},{marginTop:4}),reviewRatePc:ee(ee({},e.T3),{},{marginTop:2}),shopArea:{marginTop:4,flexDirection:"row",flexWrap:"nowrap",lineHeight:14},shopName:ee(ee({flex:1},e.T1),e.C14),shopInto:ee(ee({marginLeft:8},e.T1),e.C14)})};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var oe=function(e){s()(n,e);var t=re(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(m()(r),"prodRefDom",void 0),v()(m()(r),"originWidth",void 0),v()(m()(r),"iWidth",void 0),v()(m()(r),"iHeight",void 0),v()(m()(r),"BaseJs",void 0),v()(m()(r),"BaseDom",void 0),v()(m()(r),"dataIsProd",void 0),v()(m()(r),"loadPage",(function(e,t,n){var o,i=m()(r),a=i.BaseJs,l=i.BaseDom,s=r.props,c=s.data,u=s.config,d=s.serverTime,p=s.txtAreaHeight,f=r.state,g=f.notWFall,y=f.hideReview,v=f.isMixLayout,w=a.isPc,S=a.isPad;e=a.handleStyle(e,t),a.handleData(),a.handlePrdItemSize(e,{txtAreaHeight:p});var C=w()?y?1.146:1.233:1,O=g||c.showPrdNameBtText,P=y&&!v,T=w()&&P&&c.showPromTagsArea&&{marginTop:8};return o=r.dataIsProd?h.a.createElement(h.a.Fragment,null,l.renderImgArea(e,c,{prdImgProportion:C,serverTime:d,showPoster:u.showPoster}),h.a.createElement(b.a,{style:[e.prdCont,w()&&e.prdContPc,S()&&e.prdContPad,w()&&!v&&e.prdContPcSpecialStyle]},h.a.createElement(b.a,{style:[!w()&&g&&(u.promotionShow||u.prodSellPoint||v?S()?e.prdContTopPad:e.prdContTop:S()?e.prdContTopNoPromotionPad:e.prdContTopNoPromotion)]},l.renderPrdTagsAndPrdName(e,c,t),(u.promotionShow||u.prodSellPoint||v)&&l.renderSellpointOrProms(e,c,{notWFall:g,setPrdNameBtTextH:O,hideReviewOrNotMixLayout:P,isPrdNameBtTextHPcHasPromTags:T})),l.renderPriceArea(e,c,{setCustomPriceBoxStyle:w()&&P}),u.promotionTagShow&&l.renderPromTagsArea(e,c,{setPromTagsAreaH:g||!g&&c.showPromTagsArea}),u.commentCountShow&&l.renderReviewArea(e,c,{setReviewAreaH:g||!g&&c.showReviewArea}),"1"===c.showShopName&&l.renderShopArea(e,c))):l.renderAdImg(e,c),l.renderMainBox(e,n,o)})),r.BaseJs=M.bind(m()(r))()||{},r.BaseDom=q.bind(m()(r))()||{},r.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.BaseJs.getBaseState()),r}return a()(n,[{key:"render",value:function(){var e=this;return h.a.createElement(w.b,{themeStyles:te},(function(t,n,r){var o;return e.originWidth=r,null!==(o=e.BaseJs)&&void 0!==o&&o.isPc()?h.a.createElement(S.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(f.PureComponent);v()(oe,"defaultProps",B);var ie=oe;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){return C.a.create({prdBox:le(le({width:"100%",flexGrow:1},e.S31),{},{borderRadius:8,paddingLeft:8,paddingTop:8}),prdBoxPad:{paddingLeft:12,paddingTop:12},prdBoxPc:{borderRadius:0},prdBoxAd:{paddingLeft:0,paddingTop:0},prdCont:{flexDirection:"row",justifyContent:"space-between",flexGrow:1,flexBasis:"0%"},prdContPad:{},prdContPc:{},prdTxtArea:{marginRight:0,marginBottom:8,flexShrink:1,alignItems:"flex-start",justifyContent:"space-between"},prdTxtAreaPad:{marginBottom:12},prdTxtAreaTop:{alignItems:"flex-start"},prdTag:{borderRadius:4,maxWidth:115,paddingLeft:4,paddingRight:4,paddingTop:.5,height:13,textAlign:"center",textAlignVertical:"center",alignItems:"center",marginTop:8,overflow:"hidden"},prdTagPad:{marginRight:4,paddingLeft:4,paddingRight:4,height:16},prdTagApkOrIosPad:{height:16,marginRight:4,paddingLeft:4,paddingRight:4},prdTagPc:{fontSize:12,height:16,lineHeight:16,paddingTop:1,paddingBottom:1},prdTagApkOrIos:{borderRadius:4,maxWidth:115,height:14,paddingLeft:4,paddingRight:4,textAlign:"center",textAlignVertical:"center",marginTop:8},prdTagText:le(le(le({},e.C17),e.T0),{},{height:13,lineHeight:13}),prdTagTextPad:le(le({},e.T3),{},{lineHeight:16}),prdTagTextPc:le(le({},e.T3),{},{height:14,lineHeight:16}),prdTagApkOrIosText:le(le(le({},e.C17),e.T0),{},{height:14,lineHeight:13}),prdTagApkOrIosTextPad:le(le({},e.T3),{},{height:16,lineHeight:16}),prdName:le(le(le({},e.T6),e.C12),{},{justifyContent:"center",fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600",marginRight:8}),prdNamePad:le(le({},e.T11),{},{fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600"}),prdNamePc:le(le({},e.T13),{},{position:"relative",fontWeight:"600"}),promName:le(le(le({},e.T1),e.C14),{},{marginTop:2,marginRight:8,maxWidth:90}),promNamePad:le(le({},e.T7),{},{lineHeight:19,maxWidth:126}),promNamePc:le(le({},e.T7),{},{height:19,lineHeight:20,marginRight:16,marginTop:8,marginBottom:16,maxWidth:126}),priceBox:{alignItems:"flex-start",marginTop:4},priceBoxPc:{alignItems:"center",flexDirection:"row",width:"100%",marginBottom:8},priceMark:le(le({marginRight:2},e.C12),{},{fontSize:e.T2.fontSize,fontWeight:"600",lineHeight:17}),priceMarkPad:le(le({},e.T8),{},{height:24,lineHeight:24}),priceMarkPc:le(le({marginRight:0},e.C12),{},{fontSize:e.T11.fontSize,fontWeight:"400"}),priceMarkApkOrIos:{height:18,lineHeight:18},priceMarkApkOrIosPad:{height:24,lineHeight:24},newPrice:le(le({},e.C12),{},{fontSize:e.T6.fontSize,fontWeight:"600",marginRight:4,height:18,lineHeight:18}),newPricePad:le(le({},e.T11),{},{height:24,lineHeight:24}),newPricePc:{fontSize:e.T11.fontSize,fontWeight:"400"},newPriceApkOrIos:{overflow:"visible",height:18,lineHeight:18},newPriceApkOrIosPad:{height:24,lineHeight:24},oldPricePc:{fontSize:e.T3.fontSize},oldPricePad:le(le({},e.T7),{},{marginTop:2}),oldPrice:le(le({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize}),priceQi:le(le({marginLeft:-2},e.C12),{},{fontSize:e.T6.fontSize,fontWeight:"web"===O.a.OS?"bold":"600",lineHeight:17}),priceQiPad:le(le({},e.T8),{},{height:24,lineHeight:24}),promTagBox:{justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden",marginTop:4},promTagBoxPad:{height:16,marginTop:4},promTagBoxPc:{},promTagBoxApkOrIos:{},promTagText:le(le(le({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:2,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlignVertical:"center",paddingTop:0,maxWidth:68}),promTagTextPad:le(le({marginRight:4},e.T3),{},{height:16,lineHeight:Object(T.F)()?14:15}),promTagTextPc:le(le({},e.T3),{},{height:16,lineHeight:16,paddingTop:0,marginRight:4}),promTagTextApkOrIos:{lineHeight:13.5,height:14,paddingTop:0,marginBottom:1},topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",paddingTop:3,paddingLeft:3,paddingRight:4,paddingBottom:4,alignSelf:"flex-end",flexShrink:0,borderBottomRightRadius:8},topContentPad:{paddingRight:8,paddingBottom:8},topContentPc:{padding:21,borderBottomRightRadius:0},imgAd:{borderRadius:8,paddingLeft:0,paddingTop:0},img:{width:"100%",height:"100%"},imgPad:{width:"100%",height:"100%"},imgPadPc:{width:"100%",height:"100%"},stockBoxView:{display:"none"},promotionInfoPosition:{display:"none"}})};function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var ue=function(e){s()(n,e);var t=ce(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(m()(r),"prodRefDom",void 0),v()(m()(r),"originWidth",void 0),v()(m()(r),"iWidth",void 0),v()(m()(r),"iHeight",void 0),v()(m()(r),"imgWrapWidth",void 0),v()(m()(r),"imgWrapHeight",void 0),v()(m()(r),"imgWidth",void 0),v()(m()(r),"BaseJs",void 0),v()(m()(r),"BaseDom",void 0),v()(m()(r),"dataIsProd",void 0),v()(m()(r),"loadPage",(function(e,t,n){var o,i=r.props,a=i.data,l=i.config,s=i.iWidth,c=i.iHeight,u=i.serverTime,d=m()(r),p=d.BaseJs,f=d.BaseDom,g=p.isPc,y=p.isPad;return e=p.handleStyle(e,t),p.handleData(),s=s||(g()?594:y()?l.isPadHorizontal?317:292:160),c=c||(g()?306:l.isPadHorizontal?.732*s:y()?.74*s:.725*s),r.iWidth=s,r.iHeight=c,r.imgWrapWidth=l.isPadHorizontal?.505*r.iWidth+3+8:y()?.473*r.iWidth+3+8:.4*r.iWidth+3+4,r.imgWrapHeight=r.imgWrapWidth,o=r.dataIsProd?h.a.createElement(h.a.Fragment,null,f.renderPrdName(e,a),f.renderSellpointOrProms(e,a,{txtLineNum:1,wordsNum:8}),h.a.createElement(b.a,{style:[e.prdCont,p.isPad()&&e.prdContPad,p.isPc()&&e.prdContPc]},h.a.createElement(b.a,{style:[e.prdTxtArea,p.isPad()&&e.prdTxtAreaPad]},h.a.createElement(b.a,{style:[e.prdTxtAreaTop]},a.bigPromotionTag&&l.bigPromotionShow||a.displayTags&&l.prodTagShow?f.renderPrdTag(e,a,t):a.showPromTagsArea&&f.renderPromTagsArea(e,a,{tagNum:1})),f.renderPriceArea(e,a)),f.renderImgArea(e,a,{serverTime:u,showPoster:l.showPoster}))):f.renderAdImg(e,a),f.renderMainBox(e,n,o,!r.dataIsProd)})),r.state={},r.BaseJs=M.bind(m()(r))()||{},r.BaseDom=q.bind(m()(r))()||{},r}return a()(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this;return h.a.createElement(w.b,{themeStyles:se},(function(t,n,r){var o;return e.originWidth=r,null!==(o=e.BaseJs)&&void 0!==o&&o.isPc()?h.a.createElement(S.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(f.PureComponent);v()(ue,"defaultProps",B);var de=ue;function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(e){return C.a.create({prdBox:fe(fe({width:"100%",flexGrow:1},e.S31),{},{borderRadius:8,justifyContent:"space-between"}),prdBoxPad:{},prdBoxPc:{borderRadius:0},prdBoxAd:{},prdTxtArea:{padding:8,alignItems:"flex-start"},prdTxtAreaPad:{padding:12},prdTxtAreaPc:{alignItems:"center",justifyContent:"center",padding:16,paddingTop:0},prdTag:{borderRadius:4,maxWidth:115,paddingLeft:4,paddingRight:4,paddingTop:.5,height:13,marginRight:4,textAlign:"center",textAlignVertical:"center",alignItems:"center",marginTop:8,overflow:"hidden"},prdTagPad:{marginRight:4,paddingLeft:4,paddingRight:4,height:16},prdTagApkOrIosPad:{height:16,marginRight:4,paddingLeft:4,paddingRight:4},prdTagPc:{fontSize:12,height:16,lineHeight:16,paddingTop:1,paddingBottom:1},prdTagApkOrIos:{borderRadius:4,maxWidth:115,paddingLeft:4,paddingRight:4,paddingTop:0,paddingBottom:0,height:14,textAlign:"center",textAlignVertical:"center",marginTop:8,overflow:"hidden"},prdTagTextPad:fe(fe({},e.T3),{},{lineHeight:16}),prdTagText:fe(fe(fe({},e.C17),e.T0),{},{height:13,lineHeight:13}),prdTagTextPc:fe(fe({},e.T3),{},{height:14,lineHeight:16}),prdTagApkOrIosText:fe(fe(fe({},e.C17),e.T0),{},{height:14,lineHeight:13}),prdTagApkOrIosTextPad:fe(fe({},e.T3),{},{height:16,lineHeight:16}),prdName:fe(fe(fe({},e.T6),e.C12),{},{justifyContent:"center",fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600"}),prdNamePad:fe(fe({},e.T11),{},{fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600",width:"100%"}),prdNamePc:fe(fe(fe({},e.T12),e.C11),{},{fontWeight:"600",marginTop:70,maxHeight:50}),promName:fe(fe(fe({},e.T1),e.C14),{},{marginTop:2}),promNamePad:fe(fe({},e.T7),{},{lineHeight:17}),promNamePadH:{marginRight:24},promNamePc:fe(fe(fe({},e.T9),e.C14),{},{marginTop:12}),priceBox:{alignItems:"center",flexDirection:"row",marginTop:8},priceBoxPad:{height:24},priceBoxPc:{marginTop:12},priceMark:fe(fe({marginRight:2},e.C12),{},{fontSize:e.T2.fontSize,fontWeight:"600",lineHeight:15}),priceMarkPad:fe(fe({},e.T8),{},{lineHeight:24,paddingTop:1}),priceMarkPc:fe(fe({marginRight:0},e.T10),e.C18),priceMarkApkOrIos:{height:15,lineHeight:16},priceMarkApkOrIosPad:{height:24,lineHeight:24},newPrice:fe(fe({},e.C12),{},{fontSize:e.T6.fontSize,fontWeight:"600",marginRight:4}),newPricePad:fe(fe({},e.T11),{},{lineHeight:24}),newPricePc:fe(fe(fe({},e.T10),e.C18),{},{marginRight:8}),newPriceApkOrIos:{overflow:"visible",height:15,lineHeight:16},newPriceApkOrIosPad:{height:24,lineHeight:24},oldPricePc:{fontSize:e.T3.fontSize},oldPricePad:fe({},e.T7),oldPrice:fe(fe({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize,lineHeight:12}),priceQi:fe(fe({marginLeft:-2},e.C12),{},{fontSize:e.T6.fontSize,fontWeight:"web"===O.a.OS?"bold":"600",lineHeight:15}),priceQiPad:fe(fe({},e.T8),{},{height:24,lineHeight:24}),promTagBox:{justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden",marginTop:8},promTagBoxPad:{height:16,marginTop:6},promTagText:fe(fe(fe({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:2,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlignVertical:"center",paddingTop:0,maxWidth:144}),promTagTextPad:fe(fe({marginRight:4},e.T3),{},{height:16,lineHeight:Object(T.F)()?14:15}),promTagTextPc:fe(fe({},e.T3),{},{height:16,lineHeight:16,paddingTop:0,marginRight:4,maxWidth:243}),promTagTextApkOrIos:{lineHeight:13.5,height:14,paddingTop:0,marginBottom:1},topContent:{position:"relative",overflow:"hidden",marginRight:4,marginBottom:4,alignSelf:"flex-end",borderBottomRightRadius:8},topContentPad:{marginRight:8,marginBottom:8},topContentPadH:{marginRight:12,marginBottom:12},topContentPc:{padding:0,marginRight:0,marginBottom:0,borderBottomRightRadius:0},imgAd:{borderRadius:8},img:{width:"100%",height:"100%"},imgPad:{width:"100%",height:"100%"},imgPc:{width:"100%",height:"100%"},promotionInfoPosition:{display:"none"},stockBoxView:{display:"none"}})};function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var me=function(e){s()(n,e);var t=ge(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(m()(r),"prodRefDom",void 0),v()(m()(r),"originWidth",void 0),v()(m()(r),"iWidth",void 0),v()(m()(r),"iHeight",void 0),v()(m()(r),"imgWrapWidth",void 0),v()(m()(r),"imgWrapHeight",void 0),v()(m()(r),"imgWidth",void 0),v()(m()(r),"BaseJs",void 0),v()(m()(r),"BaseDom",void 0),v()(m()(r),"dataIsProd",void 0),v()(m()(r),"loadPage",(function(e,t,n){var o,i=r.props,a=i.data,l=i.config,s=i.iWidth,c=i.iHeight,u=i.serverTime,d=m()(r),p=d.BaseJs,f=d.BaseDom,g=p.isPc,y=p.isPad,v=p.isApp;e=p.handleStyle(e,t),p.handleData(),s=s||(g()?230:l.isPadHorizontal?317:y()?292:160),c=c||(g()?625:l.isPadHorizontal?.732*s*2+12:y()?.74*s*2+8:.725*s*2+8),r.iWidth=s,r.iHeight=c,r.imgWrapWidth=g()?r.iWidth:null!=l&&l.isPadHorizontal?.807*r.iWidth:y()?.801*r.iWidth:.875*r.iWidth;var w=g()?.575:1;return o=r.dataIsProd?h.a.createElement(h.a.Fragment,null,h.a.createElement(b.a,{style:[e.prdTxtArea,y()&&e.prdTxtAreaPad,g()&&e.prdTxtAreaPc]},f.renderPrdName(e,a,{txtLineNum:v()?1:2}),f.renderSellpointOrProms(e,a,{txtLineNum:1}),a.bigPromotionTag&&l.bigPromotionShow||a.displayTags&&l.prodTagShow?f.renderPrdTag(e,a,t):a.showPromTagsArea&&f.renderPromTagsArea(e,a,{tagNum:1}),f.renderPriceArea(e,a)),f.renderImgArea(e,a,{resizeMode:g()?"cover":"",prdImgProportion:w,serverTime:u,showPoster:l.showPoster})):f.renderAdImg(e,a),f.renderMainBox(e,n,o,!r.dataIsProd)})),r.state={},r.BaseJs=M.bind(m()(r))()||{},r.BaseDom=q.bind(m()(r))()||{},r}return a()(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this;return h.a.createElement(w.b,{themeStyles:he},(function(t,n,r){var o;return e.originWidth=r,null!==(o=e.BaseJs)&&void 0!==o&&o.isPc()?h.a.createElement(S.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(f.PureComponent);v()(me,"defaultProps",B);var ye=me;function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){return C.a.create({prdBox:be(be({width:"100%",flexDirection:"row",height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:"web"===O.a.OS?16:16.5}),prdBoxPc:{borderRadius:0},topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",width:"42.7%"},topContentcms:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:0,width:"42.7%"},topContentPad:{width:"35.6%"},topContentPadH:{width:"40.7%"},topContentPc:{padding:21,width:"48.4%"},topContentPcCms:{padding:0,width:"48.4%"},imgAd:{borderRadius:8},promoInfoDefaultWrapPd:{paddingLeft:16,paddingRight:16,paddingBottom:12},promoInfoDefaultWrapPdPad:{paddingLeft:16,paddingRight:16,paddingBottom:16},promoInfoDefaultWrapPdPc:{paddingLeft:12,paddingRight:12,paddingBottom:20},promotionInfoPosition:{position:"absolute",bottom:0,left:0,width:"100%",borderTopRightRadius:16,borderBottomLeftRadius:16},promInfoTxtPadding:{paddingLeft:12,paddingRight:12},promInfoTxtPaddingPad:{paddingLeft:12,paddingRight:12},imgcms:{width:"100%",height:"100%"},prdCont:{flexGrow:1,flexBasis:"0%",paddingLeft:4,paddingRight:12,paddingTop:12,paddingBottom:16,justifyContent:"space-between"},prdContPc:{width:202,paddingLeft:8,paddingBottom:20,paddingTop:20},prdTagNameWrap:{flexDirection:"row"},prdTag:{borderRadius:4,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:.5,height:13,marginRight:4,textAlign:"center",textAlignVertical:"center",alignItems:"center",marginTop:-2,overflow:"hidden"},prdTagPc:{fontSize:12,height:16,lineHeight:16,paddingTop:1,paddingBottom:1,paddingLeft:4,paddingRight:4,marginTop:-4},prdTagApkOrIos:{height:14,borderRadius:4,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0,textAlign:"center",textAlignVertical:"center"},prdTagText:be(be(be({},e.C17),e.T0),{},{height:13,lineHeight:13}),prdTagTextPc:be(be({},e.T3),{},{height:14,lineHeight:16}),prdTagApkOrIosText:be(be(be({},e.C17),e.T0),{},{height:14,lineHeight:13}),prdName:be(be(be({},e.T6),e.C12),{},{justifyContent:"center",fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600"}),prdNamePc:be(be({},e.T10),{},{position:"relative",fontWeight:"600"}),promName:be(be({},e.T3),e.C14),promNamePc:be(be({},e.T7),{},{height:19,lineHeight:20}),prdContBottom:{flexGrow:1,flexBasis:"0%",justifyContent:"flex-end",marginTop:4,position:"relative"},priceAndBtnArea:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:4},priceAndBtnAreaPc:{flexDirection:"column",alignItems:"flex-start"},priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",flexShrink:1,paddingRight:8,paddingTop:2},priceBoxPc:{width:"100%",marginBottom:8,paddingRight:0},priceBoxOverflow:{flexWrap:"wrap"},priceMark:be(be({marginRight:2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"600",lineHeight:18}),priceMarkPc:be(be({marginRight:0},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"400"}),newPrice:be(be({},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"600",marginRight:4}),newPricePc:{fontWeight:"400"},newPriceApkOrIos:{overflow:"visible"},newPriceOverflow:{fontSize:e.T4.fontSize,marginBottom:0},newPriceOverflowPad:{fontSize:e.T4.fontSize,marginBottom:0},newPriceOverflowPadH:{fontSize:e.T4.fontSize,marginBottom:0},oldPricePc:{fontSize:e.T3.fontSize},oldPrice:be(be({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize}),oldPriceOverflow:{},priceQi:be(be({marginLeft:-2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"web"===O.a.OS?"bold":"600",lineHeight:15}),priceQiPad:{lineHeight:18},promTagBox:{justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden",height:P.a.isQQWap()?15:14},promTagBoxPc:{position:"absolute",top:0,height:16},promTagBoxApkOrIos:{height:14},promTagText:be(be(be({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:4,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlignVertical:"center",paddingTop:0,maxWidth:136}),promTagTextPc:be(be({},e.T3),{},{height:16,lineHeight:16,paddingTop:0,marginRight:4}),promTagTextApkOrIos:{lineHeight:13.5,height:14,paddingTop:0,marginBottom:1},reviewBox:{flexDirection:"row",flexWrap:"nowrap",lineHeight:14},reviewBoxPc:be({},e.T3),reviewNum:be(be(be({},e.T1),e.C14),{},{marginRight:16,marginTop:4}),reviewNumPc:be(be({},e.T3),{},{marginRight:8}),reviewRate:be(be(be({},e.T1),e.C14),{},{marginTop:4}),reviewRatePc:be({},e.T3),btn:be(be(be({},e.T4),e.C17),{},{minWidth:64,maxWidth:76,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:8,paddingRight:8,borderRadius:14,backgroundColor:e.C18.color,fontWeight:"500",overflow:"ios"===O.a.OS?"hidden":"visible"}),btnPc:be(be({},e.T11),{},{minWidth:102,maxWidth:182,height:36,lineHeight:36,paddingLeft:15,paddingRight:15,borderRadius:18}),btnPad:be(be(be({},e.T4),e.C17),{},{minWidth:64,maxWidth:76,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:8,paddingRight:8,borderRadius:14,backgroundColor:e.C18.color,fontWeight:"500"}),btnborder:{borderWidth:1,borderStyle:"solid"},btnTransparent:{backgroundColor:"transparent"},btnGradient:{paddingLeft:0,paddingRight:0}})};function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var Ce=function(e){s()(n,e);var t=Se(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(m()(r),"prodRefDom",void 0),v()(m()(r),"iWidth",void 0),v()(m()(r),"iHeight",void 0),v()(m()(r),"originWidth",void 0),v()(m()(r),"imgWrapWidth",void 0),v()(m()(r),"imgWrapHeight",void 0),v()(m()(r),"imgWidth",void 0),v()(m()(r),"BaseJs",void 0),v()(m()(r),"BaseDom",void 0),v()(m()(r),"dataIsProd",void 0),v()(m()(r),"loadPage",(function(e,t,n){var o,i,a,l,s,c,u=r.props,d=u.data,p=u.config,f=u.serverTime,g=u.iWidth,y=m()(r),v=y.BaseJs,w=y.BaseDom;(e=v.handleStyle(e,t),v.handleData(),v.handleImgSize(),r.iHeight=r.props.iHeight||"",r.dataIsProd)?o=h.a.createElement(h.a.Fragment,null,w.renderImgArea(e,d,{serverTime:f,showPoster:p.showPoster}),null!==(i=r.props)&&void 0!==i&&i.children?null===(a=r.props)||void 0===a?void 0:a.children[0]:null,h.a.createElement(b.a,{style:[e.prdCont,v.isPc()&&e.prdContPc,v.isPad()&&e.prdContPad,(null===(l=r.props.config)||void 0===l?void 0:l.isPadHorizontal)&&e.prdContPadH,v.isApp()&&g<360&&{paddingBottom:10}]},h.a.createElement(b.a,{style:[v.isPc()&&e.prdContTop]},w.renderPrdTagsAndPrdName(e,d,t),w.renderSellpointOrProms(e,d),null!==(s=r.props)&&void 0!==s&&s.children?null===(c=r.props)||void 0===c?void 0:c.children[1]:null),h.a.createElement(b.a,{style:[e.prdContBottom]},d.showPromTagsArea&&w.renderPromTagsArea(e,d),h.a.createElement(b.a,{style:[e.priceAndBtnArea,v.isPad()&&e.priceAndBtnAreaPad,v.isPc()&&e.priceAndBtnAreaPc]},w.renderPriceArea(e,d),w.renderVariousBtn(e,d,t))))):o=w.renderAdImg(e,d);return w.renderMainBox(e,n,o)})),r.state={},r.BaseJs=M.bind(m()(r))()||{},r.BaseDom=q.bind(m()(r))()||{},r}return a()(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this;return h.a.createElement(w.b,{themeStyles:we},(function(t,n,r){var o;return e.originWidth=r,null!==(o=e.BaseJs)&&void 0!==o&&o.isPc()?h.a.createElement(S.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(f.PureComponent);v()(Ce,"defaultProps",B);var Oe=Ce,Pe=n(446),Te=n(270),xe=n(96);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e){return C.a.create({prdBox:ke(ke({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:16}),prdBoxPc:{borderRadius:0},mediaBox:{position:"relative"},pressBox:{height:"auto"},prdCont:{paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:16,borderBottomLeftRadius:8,borderBottomRightRadius:8},prdContPad:{paddingTop:16},prdContPc:{paddingTop:13,paddingBottom:16,paddingLeft:16,paddingRight:16},prdContTop:{height:22,overflow:"hidden"},prdContTopPad:{height:24},prdContTopNoPromotion:{height:36},promotionInfoBox:{height:16,overflow:"hidden"},promotionInfoBoxPad:{height:21,marginTop:8},promotionInfoBoxPc:{marginTop:2},promotionInfo:ke(ke({},e.C14),e.T3),promotionInfoPad:ke({},e.T9),isPrdContPcNoReview:{paddingBottom:17},prdTagNameWrap:{flexDirection:"row"},prdTag:{borderRadius:5.54,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:.5,height:18,marginRight:2,textAlign:"center",textAlignVertical:"center",alignItems:"center",marginTop:-2,overflow:"hidden"},prdTagPad:{marginRight:4,paddingLeft:4,paddingRight:4},prdTagPc:{fontSize:12.46,height:22,lineHeight:22,paddingLeft:4,paddingRight:4},prdTagApkOrIos:{height:18,lineHeight:24,borderRadius:5.54,maxWidth:115,paddingLeft:2,paddingRight:2,paddingTop:0,paddingBottom:0,textAlign:"center",marginTop:1},prdTagApkOrIosPad:{marginRight:4,paddingLeft:4,paddingRight:4},prdTagText:ke(ke({},e.C17),{},{fontSize:12.46,lineHeight:18,fontWeight:"400"}),prdTagTextPad:ke(ke({},e.T3),{},{lineHeight:18}),prdTagTextPc:{lineHeight:23},prdTagApkOrIosText:ke(ke(ke({},e.C17),e.T3),{},{height:"auto",lineHeight:18}),prdName:ke(ke(ke({},e.T10),e.C12),{},{fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600",height:22,justifyContent:"center"}),prdNamePad:ke(ke(ke({},e.T11),e.C11),{},{fontWeight:"web"===O.a.OS?"bold":Object(T.F)()?"400":"600",height:24,lineHeight:24}),prdNamePc:{height:22,position:"relative",fontWeight:"600"},prdNameBtTextH:{height:16},prdNameBtTextHPc:{height:18,marginTop:4},prdNameBtTextHPcNoReview:{height:18,marginTop:12},promName:ke(ke(ke({},e.T3),e.C18),{},{borderRadius:4}),promNamePc:ke(ke({},e.T3),e.C18),priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",height:21},priceBoxPad:{height:32},priceBoxPc:{justifyContent:"flex-start"},priceBoxPcMg:{marginTop:16},priceMark:ke(ke({marginRight:2,color:e.C18.color},e.T4),{},{fontWeight:"600",lineHeight:18,paddingTop:2}),priceMarkPad:ke(ke({},e.T10),{},{lineHeight:28,paddingTop:Object(T.F)()?3:4}),priceMarkApkOrIosPad:{paddingTop:3},priceMarkPc:{marginRight:0,color:e.C18.color,fontSize:e.T7.fontSize,fontWeight:"400"},newPrice:ke(ke({},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"600",marginRight:4,lineHeight:21}),newPricePad:{fontSize:e.T13.fontSize,lineHeight:32},newPricePc:{fontWeight:"400"},newPriceApkOrIos:{overflow:"visible"},oldPricePc:{fontSize:e.T3.fontSize},oldPrice:ke(ke({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize}),oldPricePad:{fontSize:e.T7.fontSize,paddingTop:Object(T.F)()?1:0},priceQi:ke(ke({marginLeft:-2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"web"===O.a.OS?"bold":"600",lineHeight:15}),priceQiPad:{fontSize:e.T10.fontSize,lineHeight:28,paddingTop:2},promTagContent:{marginTop:8},promTagContentPad:{marginTop:12},promTagContentApkOrIos:{marginBottom:1},promTagContentQQWap:{height:15},promTagBox:{height:14,justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden"},promTagBoxPad:{height:18},promTagBoxPc:{height:20,marginTop:6,justifyContent:"flex-start"},promTagBoxApkOrIos:{marginBottom:0},promTagsAreaH:{height:14,marginTop:5},promTagsAreaHPc:{height:20,marginTop:6},promTagsAreaHApkOrIos:{height:14},promTagText:ke(ke(ke({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:4,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlign:"center",textAlignVertical:"center",paddingTop:0,maxWidth:192}),promTagTextPc:ke(ke({},e.T3),{},{height:19,lineHeight:19,paddingTop:0,marginRight:4,maxWidth:243}),promTagTextApkOrIos:{lineHeight:13.5,height:14,paddingTop:0,marginBottom:1},promTagTextPad:ke(ke({},e.T3),{},{height:18,lineHeight:16.5,marginRight:8,maxWidth:148}),promTagTextPadH:{marginRight:4},showBtnBox:{position:"absolute",right:0,top:-8,minWidth:76,maxWidth:152,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:14,paddingRight:14,borderRadius:14,backgroundColor:e.C39.color+"0c"},showBtnBoxPad:{top:0,minWidth:96,height:32,lineHeight:32,paddingLeft:20,paddingRight:20,borderRadius:16},btn:ke(ke(ke({},e.T4),e.C11),{},{backgroundColor:"transparent",fontWeight:"500",lineHeight:28,textAlign:"center"}),btnPad:ke(ke({},e.T8),{},{lineHeight:32}),btnborder:{borderWidth:0},btnTransparent:{backgroundColor:"transparent"},btnGradient:{paddingLeft:0,paddingRight:0},pageNumView:{position:"absolute",right:42,bottom:10,justifyContent:"center",alignItems:"center",flexDirection:"row",backgroundColor:"rgba(0,0,0,0.3)",borderRadius:9,paddingBottom:2,paddingLeft:7.5,paddingRight:7.5,height:18},pageNumViewPad:{bottom:14,right:44,height:20,borderRadius:12},pageText:ke(ke(ke({},e.T1),e.C17),{},{textAlign:"center",letterSpacing:.5,height:16,lineHeight:18}),pageTextPad:ke(ke({},e.T3),{},{height:20,lineHeight:22}),prdContBottom:{height:22,marginTop:2,position:"relative"},prdContBottomPad:{height:32,marginTop:10},iconBox:{position:"absolute",right:12,bottom:10,width:20,zIndex:10},iconBoxPad:{width:24,bottom:12},iconBoxPc:{bottom:12,width:26},iconBoxMp:{bottom:9},iconBtnBox:{marginTop:10,width:20,height:20},iconBtnBoxPad:{marginTop:12,width:24,height:24},iconBtnBoxPc:{width:26,height:26},imgStyle:{width:20,height:20},iconBtnImgPad:{width:24,height:24},anchorBox:{position:"absolute",display:"flex",flexDirection:"row",height:18,alignItems:"center",zIndex:2},anchorBoxPad:{height:24},point:{borderWidth:2,borderColor:"rgba(0,0,0,0.5)",borderStyle:"solid",borderRadius:7,width:7,height:7,backgroundColor:"#ffffff"},pointPad:{borderWidth:4,width:14,height:14,borderRadius:14},line:{width:30,height:1,overflow:"hidden",backgroundColor:"rgba(0,0,0,0.5)"},textRadius:{borderRadius:10,backgroundColor:"rgba(0,0,0,0.5)",paddingLeft:6,paddingRight:6},textRadiusPad:{paddingLeft:8,paddingRight:8,borderRadius:12},text:ke(ke(ke({},e.T0),e.C17),{},{height:18,lineHeight:18}),textPad:ke(ke({},e.T1),{},{height:24,lineHeight:24}),rightBox:{display:"flex",flexDirection:"row",alignItems:"center"},rightIcon:{width:20,height:20,borderRadius:20,borderWidth:1,borderColor:e.C77.color,borderStyle:"solid",paddingLeft:3,paddingTop:3,marginRight:8},rightText:ke({color:e.C16.color},e.T7),rightLine:{width:16},bigCardNameWrap:{display:"flex",flexDirection:"row",alignItems:"center",height:22,lineHeight:21},bigCardName:{flex:1,marginTop:-2},mt2:{marginTop:2},pointPrice:ke(ke(ke({},e.C18),e.T10),{},{lineHeight:21}),pointPricePad:ke(ke({},e.T12),{},{lineHeight:32}),pointPriceSymbol:ke(ke(ke({},e.C18),e.T4),{},{lineHeight:21}),pointPriceSymbolPad:ke(ke({},e.T10),{},{lineHeight:32})})},je=n(22),Re=n(19),Le=n(10),_e=n(11);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var Ae=function(e){s()(n,e);var t=We(n);function n(e){var r;return o()(this,n),r=t.call(this,e),v()(m()(r),"componentName","ProductBigCard"),v()(m()(r),"bigProdRef",void 0),v()(m()(r),"itemlist",void 0),v()(m()(r),"iWidth",void 0),v()(m()(r),"originWidth",void 0),v()(m()(r),"imgWrapWidth",void 0),v()(m()(r),"imgWrapHeight",void 0),v()(m()(r),"imgWidth",void 0),v()(m()(r),"multiMediaLength",void 0),v()(m()(r),"jumpLink",void 0),v()(m()(r),"_panResponder",void 0),v()(m()(r),"BaseJs",void 0),v()(m()(r),"BaseDom",void 0),v()(m()(r),"dataIsProd",void 0),v()(m()(r),"videoViewObj",void 0),v()(m()(r),"scrollViewObj",void 0),v()(m()(r),"getImageWidth",(function(){return m()(r).BaseJs.isPc()?204:.59*r.props.iWidth})),v()(m()(r),"scrollViewRef",(function(e){r.scrollViewObj=e})),v()(m()(r),"continueVideoPlayer",(function(e){var t;if(!Object(T.F)()&&"function"==typeof(null===(t=r.videoViewObj)||void 0===t?void 0:t.play)){r.props.bigMixCrad&&r.closeAllVideoPlayer();var n=r.props.data.reportObj.index;r.videoViewObj.play(),r.props.setPlayIndex(n,e)}T.F&&(r.closeAllVideoPlayer(),r.videoViewObj&&r.videoViewObj.play())})),v()(m()(r),"closeVideoPlayer",(function(e){var t;if("function"==typeof(null===(t=r.videoViewObj)||void 0===t?void 0:t.play)){if(Object(T.F)())r.videoViewObj.setVideoUrl();else{var n=r.props.data.reportObj.index;r.props.setPlayIndex(n,e),!r.props.bigMixCrad&&r.closeAllVideoPlayer()}r.videoViewObj&&r.videoViewObj.pause()}})),v()(m()(r),"closeAllVideoPlayer",(function(){r.props.stopVideo()})),v()(m()(r),"receivePlayer",(function(e){"function"==typeof r.props.receivePlayer&&(e&&r.props.receivePlayer(e),r.videoViewObj=e),Object(T.F)()&&(e&&r.props.receivePlayer(e),r.videoViewObj=e)})),v()(m()(r),"jump3DLink",(function(){var e=r.props.data,t=[];r.BaseJs.isApkOrIos()&&(t.push("skuCode="+e.skuCode),t.push("imageUrls="+e.imgUrl),t.push("prdId="+e.productId),t.push("prdName="+e.prdName),t.push("sceneAppUrl="+e.sceneAppUrl),r.jumpLink="vmall://com.vmall.client/product/scene?"+t.join("&")),r.clickItemReport("3D",r.jumpLink,void 0),Object(T.A)(r.jumpLink)})),v()(m()(r),"jumpLiveLink",(function(){var e="web"===O.a.OS?"".concat(_e.a.live,"?_=")+(new Date).getTime():"vmall://com.vmall.client/live/home";r.clickItemReport("Live",e,void 0),Object(T.A)(e)})),v()(m()(r),"setPlayFlag",(function(e){r.props.setVideoPlayFlag(e)})),v()(m()(r),"loadPage",(function(e,t,n){var o,i=r.props,a=i.data,l=i.config,s=m()(r),c=s.BaseJs,u=s.BaseDom;return a.btnName=l.buttonText?l.buttonText:a.btnName,r.BaseJs.handleData(),r.props.customPrdStyles&&(e=Object.assign(e,r.props.customPrdStyles(t)||{})),r.BaseJs.handleImgSize(),o=r.dataIsProd?h.a.createElement(h.a.Fragment,null,r.renderMultiMedia(e,a),h.a.createElement(z.a,{style:[e.pressBox,{width:r.props.iWidth}],onPress:r.props.onClick,activeOpacity:1},h.a.createElement(b.a,{style:[e.prdCont,c.isPc()&&e.prdContPc,c.isPad()&&e.prdContPad,{width:r.props.iWidth}]},h.a.createElement(b.a,{style:[e.prdContTop,c.isPad()&&e.prdContTopPad]},Object(T.F)()?r.renderProductNameMp(e,a,t):u.renderPrdTagsAndPrdName(e,a,t,Ne(Ne({},c.isQQWap()?{customWrapStyle:{height:18}}:{}),c.isQQWap()?{customTextStyle:{height:18,lineHeight:c.isIosPhone()?16:18}}:{}))),h.a.createElement(b.a,{style:[e.promotionInfoBox,c.isPad()&&e.promotionInfoBoxPad,c.isPc()&&e.promotionInfoBoxPc]},u.renderSellingPoint(e,a)),h.a.createElement(b.a,{style:[e.promTagContent,c.isPad()&&e.promTagContentPad,c.isApkOrIos()&&e.promTagContentApkOrIos,c.isQQWap()&&e.promTagContentQQWap]},u.renderSbomPrdPromotion(e,a)),h.a.createElement(b.a,{style:[e.prdContBottom,c.isPad()&&e.prdContBottomPad]},r.BaseDom.renderPriceArea(e,a,{}),l.buyIconShow&&h.a.createElement(b.a,{style:[e.showBtnBox,c.isPad()&&e.showBtnBoxPad]},u.renderVariousBtn(e,a,t)))))):u.renderAdImg(e,a),u.renderBigProductBox(e,n,o)})),r.state={currentPage:0},r.BaseJs=M.bind(m()(r))()||{},r.BaseDom=q.bind(m()(r))()||{},r}return a()(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"componentWillMount",value:function(){this.BaseJs.isWeb()&&(this._panResponder=Pe.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"handleScrollEnd",value:function(e){var t=this;this.props.onClick(),setTimeout((function(){t.scrollViewObj.scrollTo({x:e,y:0,animated:!1})}),800)}},{key:"onScroll",value:function(e){var t=this.props.iWidth*(this.multiMediaLength-2),n=e.nativeEvent.contentOffset.x,r=Math.round(n/this.props.iWidth);0===r&&r!==this.state.currentPage&&this.continueVideoPlayer(0),r>0&&this.closeVideoPlayer(1),n>t?this.BaseJs.isWeb()&&this.handleScrollEnd(t):this.setState({currentPage:r})}},{key:"onScrollEnd",value:function(e){var t=this.props.iWidth*(this.multiMediaLength-2);e.nativeEvent.contentOffset.x>t&&this.handleScrollEnd(t)}},{key:"getPlatformProductURL",value:function(e,t){var n=this.BaseJs.isMp()?"/packageGoodsDetail/pages/goodsDetail?prdId=".concat(e):"vmall://com.vmall.client/live/homeproduct/detail?prdId=".concat(e);return t?n.concat("&skuCode=").concat(t):n}},{key:"gotoProductURL",value:function(){var e=this.props.data,t=e.productId,n=e.skuCode,r=e.weburl,o=e.wapurl;return this.BaseJs.isApkOrIos()||this.BaseJs.isMp()?this.getPlatformProductURL(t.toString(),n):this.BaseJs.isWeb()&&this.BaseJs.isPc()?r:o}},{key:"clickItemReport",value:function(e,t,n){var r,o,i,a,l=this.props,s=l.data,c=l.pageCatCode,u=l.pageCatName,d=l.resSiteCode,p=l.resSiteName;null!=n&&(o="anchor",i=null!=n&&n.id?n.id+"":"",a=null!=n&&n.linkTitle?n.linkTitle:""),Object(je.a)({actionCode:"wx"===O.a.OS?"410000101":s.prefix.platformType+s.prefix.eventID,actionName:(null==s?void 0:s.prdName)||"商品",eventType:Le.e.EVENT_TYPE_CLICK,pageId:null===(r=this.props)||void 0===r?void 0:r.pageId,content:{comId:s.reportObj.comId+"",gotoPageId:"",gotoURL:t,ruleId:s.reportObj.ruleId,sId:s.reportObj.sId,row:"",column:"",index:s.reportObj.index+"",dataCode:"ad"===s.dataType?"ADS":s.skuCode+"",dateType:"ad"===s.dataType?Le.c.ADS:Le.c.SKU,clickType:Le.b.CLICK_GOODS_CONTENT,productId:"ad"===s.dataType?"":s.productId+"",iconName:e,hotspot_type:o,hotspot_index:i,hotspot_index_name:a},pageCatCode:c,pageCatName:u,resSiteCode:d,resSiteName:p})}},{key:"jumpAnchorLink",value:function(e){var t;t=this.BaseJs.isApkOrIos()&&e.link?e.link:this.BaseJs.isPc()&&e.webLink?e.webLink:(this.BaseJs.isApp()||this.BaseJs.isPad())&&e.wapLink?e.wapLink:this.BaseJs.isMp()&&e.mpLink?e.mpLink:this.gotoProductURL(),this.clickItemReport(e.linkTitle,t,e),Object(T.A)(t)}},{key:"getAnchorPos",value:function(e,t){var n=e.width/t.picWidth*t.pointX,r=e.height/t.picHeight*t.pointY-3.5;return{type:e.width/2>=n?"left":"right",left:n,right:e.width-n,top:r}}},{key:"renderAnchor",value:function(e,t){var n=this,r=this.props,o=r.data,i=r.iWidth,a={width:i,height:Math.floor(i/t)},l=(null==o?void 0:o.anchor)&&JSON.parse(null==o?void 0:o.anchor);if((null==l?void 0:l.length)>0){var s=l.map((function(t,r){var o=n.getAnchorPos(a,t);return"Y"===t.showAnchor&&h.a.createElement(b.a,{style:[e.anchorBox,n.BaseJs.isPad()&&e.anchorBoxPad,{top:o.top},"left"===o.type?{left:o.left}:{right:o.right,flexDirection:"row-reverse"}]},h.a.createElement(b.a,{style:[e.point,n.BaseJs.isPad()&&e.pointPad]},h.a.createElement(h.a.Fragment,null)),h.a.createElement(b.a,{style:e.line},h.a.createElement(h.a.Fragment,null)),h.a.createElement(z.a,{onPress:function(){return n.jumpAnchorLink(t)},key:r,style:[e.textRadius,n.BaseJs.isPad()&&e.textRadiusPad]},h.a.createElement(U.a,{numberOfLines:1,style:[e.text,n.BaseJs.isPad()&&e.textPad,{maxWidth:i-30}]},t.linkTitle)))}));return h.a.createElement(h.a.Fragment,null,s)}return null}},{key:"renderImgArea",value:function(e,t,n){var r=this.getImageWidth();return h.a.createElement(h.a.Fragment,null,h.a.createElement(z.a,{onPress:this.props.onClick,activeOpacity:1,style:null!=n&&n.customImage?{width:this.props.iWidth,height:this.props.iWidth/t}:{width:this.props.iWidth,height:this.props.iWidth/t,display:"flex",justifyContent:"center",alignItems:"center"}},h.a.createElement(Y.a,{isHighQuality:!0,resizeMode:"contain",resizeWidth:this.props.iWidth,imgUri:n.imgUrl,imgWidth:this.props.iWidth,imgType:"productBigCard",scale:t,imgStyle:null!=n&&n.customImage?{width:this.props.iWidth,height:this.props.iWidth/t}:{width:r,height:this.BaseJs.isPad()?this.props.iWidth/t-34:r}})),this.renderAnchor(e,t))}},{key:"set3DLink",value:function(){var e=this.props.data;this.jumpLink=this.BaseJs.isApkOrIos()?e.sceneAppUrl:this.BaseJs.isPc()?e.sceneWebUrl:e.sceneWapUrl}},{key:"renderScrollView",value:function(e,t,n){var r,o=this,i=this.props.config.videoShow,a=[],l=Math.floor(this.props.iWidth/t),s=t+":1";n.previewVideoUrl&&i&&a.push({type:"video",url:n.previewVideoUrl}),a.push({type:"mainPic",url:n.imgUrl}),(null==n||!n.customImage)&&(null==n||null===(r=n.groupPhotoList)||void 0===r||r.forEach((function(e){var t=e.urlPrefix+e.photoPath+"428_428_"+e.photoName;a.push({type:"pic",url:t})}))),a.push({type:"null",url:n.imgUrl});var c=a.map((function(r,i){return h.a.createElement(z.a,{style:null!=n&&n.customImage?{width:o.props.iWidth,height:l}:{width:o.props.iWidth,height:l,display:"flex",justifyContent:"center",alignItems:"center"},onPress:o.props.onClick,activeOpacity:1,key:i},"video"===r.type?h.a.createElement(b.a,{style:{width:o.props.iWidth,height:l}},Object(T.F)()?h.a.createElement(xe.a,{ref:o.receivePlayer,sourceUrl:r.url,muted:!0,controls:!1,poster:n.imgUrl,width:o.props.iWidth,height:l,setPlayFlag:o.setPlayFlag,stopVideo:o.closeAllVideoPlayer}):h.a.createElement(xe.a,{width:o.props.iWidth,isHighQuality:!0,resizeMode:"contain",height:l,sourceUrl:r.url,isPause:!0,isPlayPress:!0,aspectRatio_wap:s,stopVideo:o.closeAllVideoPlayer,poster:n.imgUrl,type:1,ref:o.receivePlayer})):h.a.createElement(b.a,null,"null"===r.type?h.a.createElement(b.a,{style:[e.rightBox,{height:l}]},h.a.createElement(b.a,{style:e.rightIcon},h.a.createElement(Y.a,{resizeMode:"contain",resizeWidth:12,localSource:Re.a.footer_right,imgStyle:{width:12,height:12}})),h.a.createElement(b.a,{style:e.rightText},h.a.createElement(U.a,{style:e.rightLine},"释放查看宝贝详情"))):h.a.createElement(Y.a,{isHighQuality:!0,resizeMode:"contain",resizeWidth:o.props.iWidth,localSource:{uri:r.url},imgWidth:null!=n&&n.customImage?o.props.iWidth:o.getImageWidth(),imgType:"productBigCard",scale:null!=n&&n.customImage?t:1,imgStyle:null!=n&&n.customImage?{width:o.props.iWidth,height:o.props.iWidth/t}:{width:o.getImageWidth(),height:o.getImageWidth()}}),"mainPic"===r.type?o.renderAnchor(e,t):h.a.createElement(h.a.Fragment,null)))}));return this.multiMediaLength=a.length,h.a.createElement(h.a.Fragment,null,h.a.createElement(Te.a,{ref:this.scrollViewRef,horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,onScroll:function(e){o.onScroll(e)},onScrollEndDrag:function(e){o.onScrollEnd(e)},style:Object(T.F)()?{}:{width:this.props.iWidth,height:l}},c),h.a.createElement(b.a,{style:[e.pageNumView,this.BaseJs.isPad()&&e.pageNumViewPad]},h.a.createElement(U.a,{style:[e.pageText,this.BaseJs.isPad()&&e.pageTextPad]},this.state.currentPage+1),h.a.createElement(U.a,{style:[e.pageText,this.BaseJs.isPad()&&e.pageTextPad]},"/"),h.a.createElement(U.a,{style:[e.pageText,this.BaseJs.isPad()&&e.pageTextPad]},this.multiMediaLength-1)))}},{key:"renderMultiMedia",value:function(e,t){var n,r,o,i,a=this.BaseJs,l=this.props.config,s=l.videoShow,c=l.liveShow,u=l.show3D,d=l.bgColor,p=a.isPc()?1.508:a.isPad()?1.506:1.505,f=this.props.iWidth/p;return this.set3DLink(),h.a.createElement(b.a,H()({style:[e.mediaBox,{height:f},d&&{backgroundColor:d}]},null===(n=this._panResponder)||void 0===n?void 0:n.panHandlers),((null==t||null===(r=t.groupPhotoList)||void 0===r?void 0:r.length)>0&&(null==t||!t.customImage)||t.previewVideoUrl&&s)&&!a.isPc()?this.renderScrollView(e,p,t):this.renderImgArea(e,p,t),h.a.createElement(b.a,{style:[e.iconBox,a.isPc()&&e.iconBoxPc,Object(T.F)()&&e.iconBoxMp,a.isPad()&&e.iconBoxPad]},!Object(T.F)()&&c&&"ios"!==O.a.OS&&!a.isPc()&&(null===(o=this.props)||void 0===o||null===(i=o.sbomListLive)||void 0===i?void 0:i.includes(t.skuCode))&&h.a.createElement(z.a,{style:[e.iconBtnBox,a.isPad()&&e.iconBtnBoxPad,a.isPc()&&e.iconBtnBoxPc],onPress:this.jumpLiveLink},h.a.createElement(Y.a,{localSource:Re.a.icon_live,imgStyle:[e.imgStyle,a.isPad()&&e.iconBtnImgPad,a.isPc()&&e.iconBtnBoxPc],resizeMode:"contain"})),!Object(T.F)()&&u&&this.jumpLink?h.a.createElement(z.a,{style:[e.iconBtnBox,a.isPad()&&e.iconBtnBoxPad,a.isPc()&&e.iconBtnBoxPc],onPress:this.jump3DLink},h.a.createElement(Y.a,{localSource:Re.a.icon_3d,imgStyle:[e.imgStyle,a.isPad()&&e.iconBtnImgPad,a.isPc()&&e.iconBtnBoxPc],resizeMode:"contain"})):null))}},{key:"renderProductNameMp",value:function(e,t,n){var r=this.BaseDom;return h.a.createElement(b.a,{style:e.bigCardNameWrap},r.renderPrdTag(e,t,n,{tagIsPrevName:!0}),h.a.createElement(U.a,{style:e.bigCardName,numberOfLines:1,ellipsizeMode:"tail"},t.prdName))}},{key:"render",value:function(){var e=this;return h.a.createElement(w.b,{themeStyles:Ee},(function(t,n,r){var o;return e.originWidth=r,null!==(o=e.BaseJs)&&void 0!==o&&o.isPc()?h.a.createElement(S.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(f.Component);v()(Ae,"defaultProps",B);var Be=Ae,Me=n(185),Fe=n(44);function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var ze={basel2r:X,baset2b:ie,basediagonal:de,baset2bTextToImg:ye,activityl2r:Oe,activityt2b:ie,activityt2bBigContent:Be},Ue=function(e){s()(n,e);var t=He(n);function n(e){return o()(this,n),t.call(this,e)}return a()(n,[{key:"shouldComponentUpdate",value:function(e){try{for(var t=!1,n=["structure","type","data","config","iWidth","iHeight","txtAreaHeight","customPrdStyles","isPadHorizontal","sbomListLive","serverTime"],r=0;r<n.length;r++){var o=n[r];if(!Object(Fe.f)(this.props[o],e[o])){t=!0;break}}if(t)return!0}catch(e){return!0}return!1}},{key:"render",value:function(){var e,t,n=this.props;if(!n.data||(null===(e=Object.keys(n.data))||void 0===e?void 0:e.length)<1)return null;if(!n.config||(null===(t=Object.keys(n.config))||void 0===t?void 0:t.length)<1)return null;var r=n.type||"base",o=n.structure||"t2b",i="".concat(r).concat(o),a=ze[i]||ze.baset2b;return h.a.createElement(a,n)}}]),n}(h.a.Component);t.a=Object(Me.a)(Ue)},function(e,t,n){"use strict";var r,o,i,a,l,s,c,u=n(27),d=n.n(u),p=n(5),f=n.n(p),h=n(6),g=n.n(h),m=(n(1),n(18)),y=n.n(m),v=(n(60),n(16)),b=(r=function(){function e(){f()(this,e),d()(this,"category",o,this),d()(this,"searchSortField",i,this),d()(this,"screenParams",a,this),d()(this,"priceLabel",l,this),d()(this,"searchSortType",s,this),d()(this,"currentPage",c,this)}return g()(e,[{key:"onUpdate",value:function(e){var t,n;this.category=e.category,(null===(t=Object.values(e))||void 0===t||null===(n=t.flat())||void 0===n?void 0:n.length)>0?this.screenParams=e:this.screenParams={}}},{key:"onUpdatePriceLabel",value:function(e){this.priceLabel=e}},{key:"updateSearchSortField",value:function(e){this.searchSortField=e.sortCode}},{key:"updateSearchSortType",value:function(e){this.searchSortType=e}},{key:"updateCurrentPage",value:function(e){this.currentPage=e}}]),e}(),o=y()(r.prototype,"category",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=y()(r.prototype,"searchSortField",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),a=y()(r.prototype,"screenParams",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=y()(r.prototype,"priceLabel",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=y()(r.prototype,"searchSortType",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desc"}}),c=y()(r.prototype,"currentPage",[v.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y()(r.prototype,"onUpdate",[v.d],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),r);t.a=new b},,function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(34),v=n.n(y),b=n(0),w=n.n(b),S=n(54),C=n(37),O=n(157),P=n(49),T=n(43),x=n(152),I=n(952),k=n(57),E=n(53),j=n(122);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=n(3),D=n(40),N=n(432),W=n(102),A=n(185),B=n(20),M=n(30);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var H=function(e){u()(r,e);var t=F(r);function r(e){var i;o()(this,r),i=t.call(this,e),m()(s()(i),"lister",void 0),m()(s()(i),"getImgUrl",(function(){return M.a.darkBool?i.props.imgDarkMode:i.props.imgNormal})),m()(s()(i),"getTitleColor",(function(){var e=i.props.styleChange,t={};return M.a.darkBool?!v()(null==e?void 0:e.fontColor)&&null!=e&&e.isGroupStyleChange||!v()(null==e?void 0:e.fontColor)&&null!=e&&e.bgColor?t.color=null==e?void 0:e.fontColor:null!=e&&e.isGroupStyleChange?t.color="#000000":t.color="#ffffff":v()(null==e?void 0:e.fontColor)?t.color="#000000":t.color=null==e?void 0:e.fontColor,t}));var a=i.props.styleChange,l=j.a,c=!v()(a)&&null!=a&&a.fontColor?null==a?void 0:a.fontColor:l.C24.color,u=Object(_.F)()&&Object(_.c)(n(205),c),d=Object(D.a)(S.a.get("window").width),p={bgImg:"",imgStyle:{},textStyle:{}};if(!Object(_.D)(a)){var f=Object(_.i)(a,d);f&&(p=f)}return i.state={imgWidth:0,imgHeight:Object(_.F)()?24:0,headerBoxStyle:p,windowWidth:null,SVG:u,mpIMG:u},i.clickMore=i.clickMore.bind(s()(i)),i}return a()(r,[{key:"clickMore",value:function(){"function"==typeof this.props.onClickMore?this.props.onClickMore():Object(_.A)(this.props.moreUrl)}},{key:"componentDidMount",value:function(){var e=this;if("wx"===C.a.OS){var t=this;wx.getImageInfo({src:this.props.imgNormal+"",success:function(e){e.width,e.height;t.setState({imgWidth:e.width/e.height*24,imgHeight:24})}})}else if("ali"===C.a.OS){var n=this;my.getImageInfo({src:this.props.imgNormal+"",success:function(e){n.setState({imgWidth:e.width/e.height*24,imgHeight:24})}})}else O.a.getSize(this.props.imgNormal+"",(function(t,n){e.setState({imgWidth:"large"===Object(D.a)(e.props.width)?t/n*34:t/n*24,imgHeight:"large"===Object(D.a)(e.props.width)?34:24})}),(function(){}));this.lister=!Object(_.F)()&&P.a.addListener("NativeCallAction",(function(t){var n;t&&("screen"===t.service&&"widthHightChange"===t.action&&"number"==typeof(null===(n=t.param)||void 0===n?void 0:n.windowWidth)&&e.state.width!==t.windowWidth&&e.setState({windowWidth:t.windowWidth}))}))}},{key:"componentWillUnmount",value:function(){this.lister&&this.lister.remove()}},{key:"getItemWidth",value:function(){var e=this.props.pageType,t=Object(_.x)(e||"homePage");return{width:t.screenWidth,height:t.screenHeight}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isDisplayTitleBar,r=t.title,o=t.isDisplayMore,i=t.subTitle,a=t.moreUrl,l=t.showSetting,s=t.styleChange,c=t.bgBox,u=t.boxWidth,d=t.hasMargin,p=t.hasCrossDressing,f=t.titleLocation,h=t.isFromRank,g=t.style,m=(this.getTitleColor(),this.state),y=(m.headerBoxStyle,m.windowWidth),b=this.getItemWidth().width;b=u||y||b,i=i||Object(N.b)("notice_more");var S=Object(D.a)(b),C=n&&("1"===l&&r||"2"===l&&this.getImgUrl());return w.a.createElement(W.b,{themeStyles:function(e){return function(e,t){return k.a.create({titleBarBase:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",height:40,paddingTop:8,paddingBottom:8},titleBarBase_web:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",height:34,marginTop:15,marginBottom:15},titleBar:{paddingLeft:e.cardHeader_padding_wap,paddingRight:e.cardHeader_padding_wap},titleBarBg:{paddingLeft:12,paddingRight:12},titleBar_pad:{paddingLeft:e.cardHeader_padding_pad,paddingRight:e.cardHeader_padding_pad,marginBottom:e.cardHeader_title_maginBottom},titleBar_padBg:{paddingLeft:12,paddingRight:12},titleBar_web:{maxWidth:1200,opacity:e.cardHeader_opacity_web,paddingLeft:0,paddingRight:0},titleBar_webBg:{maxWidth:1200,opacity:e.cardHeader_opacity_web,paddingLeft:24,paddingRight:24},titleBarNone:{display:"none"},titleText:L(L(L({fontFamily:E.a.fontFamilyBase},e.T10),t?j.a.C11:e.C11),{},{flexGrow:1,flexBasis:"0%",flexShrink:1,marginRight:8,fontWeight:"bold",textAlign:"left"}),subTitleWrap:{display:"flex",flexDirection:"row"},subTitleText:L(L(L({fontFamily:E.a.fontFamilyBase},e.T7),t?j.a.C13:e.C13),{},{paddingTop:10,marginTop:-10}),subTitleTextNormal:{flexGrow:1,flexShrink:1,flexBasis:"auto"},titleText_web:L(L(L({fontFamily:E.a.fontFamilyBase},e.T13),e.C11),{},{flexGrow:1,flexBasis:"0%",marginRight:16,textAlign:"left"}),subTitleText_web:L(L({fontFamily:E.a.fontFamilyBase},e.T7),e.C14),img:{height:e.cardHeader_img_height,width:e.cardHeader_img_width},img_web:{height:e.cardHeader_img_height_web,width:e.cardHeader_img_width_web}})}(e,p)}},(function(t,u){var m;switch(p&&(u=j.a),S){case"small":m=c&&"true"===c?t.titleBarBg:t.titleBar;break;case"medium":m=c&&"true"===c?t.titleBar_padBg:t.titleBar_pad;break;case"large":m=c&&"true"===c?t.titleBar_webBg:t.titleBar_web}var y=["large"===S?t.titleBarBase_web:t.titleBarBase],b=[C||o?m:null],P="alignCenter"===f,k="large"===S?[t.titleText_web,P&&{marginHorizontal:16}]:[t.titleText,P&&{marginHorizontal:8}],E="large"===S?[t.subTitleText_web]:[o&&t.subTitleText],R=h?{width:"100%",height:48,paddingTop:18}:null,L={};d||(L.paddingLeft=0,L.paddingRight=0),e.props.isRankPaddingStyle&&(L.paddingLeft=e.props.isRankPaddingStyle,L.paddingRight=e.props.isRankPaddingStyle);var D=!v()(s)&&null!=s&&s.fontColor?null==s?void 0:s.fontColor:u.C24.color,N=!v()(s)&&null!=s&&s.fontColor?1:u.C24.opacity;return C||o?w.a.createElement(T.a,{style:[y,b,L,R,g]},"alignCenter"===f&&o?w.a.createElement(T.a,{style:[{maxWidth:"33%",opacity:0},t.subTitleWrap]},w.a.createElement(x.a,{style:[t.subTitleTextNormal,E,{flexGrow:0}],numberOfLines:1,ellipsizeMode:"tail"},i),Object(_.F)()?w.a.createElement(O.a,{source:{uri:e.state.mpIMG},style:{opacity:N,width:17,height:19}}):w.a.createElement(T.a,{style:{flexShrink:0}},w.a.createElement(B.a,{iconName:"Webarrow",width:"17",height:"19",normalCol:D,opacity:N}))):null,n?"1"===l?w.a.createElement(x.a,{style:[k,!v()(s)&&(null==s?void 0:s.fontColor)&&{color:null==s?void 0:s.fontColor},"alignCenter"===f?{textAlign:"center"}:{}],numberOfLines:1,ellipsizeMode:"tail"},r):w.a.createElement(T.a,{style:[k,"alignCenter"===f?{alignItems:"center"}:{}]},w.a.createElement(O.a,{style:{width:e.state.imgWidth,height:e.state.imgHeight},source:{uri:e.getImgUrl()},resizeMode:"cover"})):null,o?w.a.createElement(I.a,{style:{maxWidth:"33%"},underlayColor:"",onPress:e.clickMore.bind(e,a)},w.a.createElement(T.a,{style:t.subTitleWrap},w.a.createElement(x.a,{style:[t.subTitleTextNormal,E,!v()(s)&&(null==s?void 0:s.fontColor)&&{color:null==s?void 0:s.fontColor,opacity:1}],numberOfLines:1,ellipsizeMode:"tail"},i),Object(_.F)()?w.a.createElement(O.a,{source:{uri:e.state.mpIMG},style:{opacity:N,width:17,height:19}}):w.a.createElement(T.a,{style:{flexShrink:0}},w.a.createElement(B.a,{iconName:"Webarrow",width:"17",height:"19",normalCol:D,opacity:N})))):null):null}))}}]),r}(w.a.PureComponent);m()(H,"defaultProps",{isDisplayTitleBar:!1,title:"",isDisplayMore:!1,subTitle:"",moreUrl:"",showSetting:"1",imgNormal:"",imgDarkMode:"",hasMargin:!0,titleLocation:"alignLeft",style:{}});t.a=Object(A.a)(H)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(426);t.ObjectUtil=r.ObjectUtil;var o=n(562);t.Default=o.Default},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="Invariant failed";function o(e,t){if(!e)throw new Error(r)}},function(e,t,n){"use strict";t.a=function(e){return parseInt(e.split(":")[0])/parseInt(e.split(":")[1])}},,,,function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(461),w=n.n(b),S=n(441),C=n.n(S),O=n(0),P=n.n(O),T=n(152);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var I=function(e){p()(n,e);var t=x(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(u()(e),"_root",null),v()(u()(e),"setRoot",(function(t){e._root=t})),e}return s()(n,[{key:"render",value:function(){var e,t=this.props,n=t.uppercase,r=t.children;return e=n?P.a.Children.map(r,(function(e){return C()(e)?w()(e):e})):r,P.a.createElement(T.a,o()({ref:this.setRoot},this.props),e)}}]),n}(P.a.PureComponent);t.a=I},function(e,t,n){"use strict";var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(r(t),!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;(a=new Error(t.replace(/%s/g,(function(){return String(o[l++])})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},function(e,t,n){"use strict";var r,o,i,a,l=n(27),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=(n(1),n(18)),h=n.n(f),g=(n(60),n(16)),m=(r=function(){function e(){u()(this,e),s()(this,"getNavTop",o,this),s()(this,"getTools",i,this),s()(this,"getTopMenu",a,this)}return p()(e,[{key:"setNavTop",value:function(e){this.getNavTop=e}},{key:"setTools",value:function(e){this.getTools=e}},{key:"setTopMenu",value:function(e){this.getTopMenu=e}}]),e}(),o=h()(r.prototype,"getNavTop",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h()(r.prototype,"setNavTop",[g.d],Object.getOwnPropertyDescriptor(r.prototype,"setNavTop"),r.prototype),i=h()(r.prototype,"getTools",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h()(r.prototype,"setTools",[g.d],Object.getOwnPropertyDescriptor(r.prototype,"setTools"),r.prototype),a=h()(r.prototype,"getTopMenu",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h()(r.prototype,"setTopMenu",[g.d],Object.getOwnPropertyDescriptor(r.prototype,"setTopMenu"),r.prototype),r);t.a=new m},,,function(e,t,n){"use strict";e.exports=n(383)},function(e,t,n){"use strict";var r,o,i,a,l,s,c=n(27),u=n.n(c),d=n(5),p=n.n(d),f=n(6),h=n.n(f),g=(n(1),n(18)),m=n.n(g),y=(n(60),n(16)),v=(r=function(){function e(){p()(this,e),u()(this,"tabsNavTop",o,this),u()(this,"stickyLayoutY",i,this),u()(this,"LayoutY",a,this),u()(this,"smartLifeLayoutY",l,this),u()(this,"layoutFlag",s,this)}return h()(e,[{key:"setTabsNavTop",value:function(e){this.tabsNavTop=e}},{key:"setStickyLayoutY",value:function(e){this.stickyLayoutY=e}},{key:"setLayoutY",value:function(e){this.LayoutY=e}},{key:"setsmartLifeLayoutY",value:function(e){this.smartLifeLayoutY=e}},{key:"setLayoutFlag",value:function(e){this.layoutFlag=e}}]),e}(),o=m()(r.prototype,"tabsNavTop",[y.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=m()(r.prototype,"stickyLayoutY",[y.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=m()(r.prototype,"LayoutY",[y.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=m()(r.prototype,"smartLifeLayoutY",[y.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=m()(r.prototype,"layoutFlag",[y.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m()(r.prototype,"setTabsNavTop",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setTabsNavTop"),r.prototype),m()(r.prototype,"setStickyLayoutY",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setStickyLayoutY"),r.prototype),m()(r.prototype,"setLayoutY",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setLayoutY"),r.prototype),m()(r.prototype,"setsmartLifeLayoutY",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setsmartLifeLayoutY"),r.prototype),m()(r.prototype,"setLayoutFlag",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setLayoutFlag"),r.prototype),r);t.a=new v},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(2),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(54),w=n(37),S=n(149),C=n(43),O=n(157),P=n(152),T=n(126),x=n(19),I=n(57),k=n(53);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return I.a.create({blank:{display:"flex",flexGrow:1,backgroundColor:e.C33.color},blankAppWhole:{display:"flex",backgroundColor:e.C33.color,flexGrow:1},blankApp:{display:"flex",flexGrow:1,backgroundColor:e.C33.color,position:"relative"},wholePage:{display:"flex",flexDirection:"column",alignItems:"center"},localPage:{display:"flex",flexDirection:"column",flexGrow:1},topPartWeb:{display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"},buttonWebBox:{alignItems:"flex-end",marginBottom:"web"==w.a.OS?24:70},topPartAppWhole:{display:"flex",flexDirection:"column"},topPartApp:{display:"flex",flexDirection:"column"},imgBoxWeb:{width:160,height:160,display:"flex",justifyContent:"center",alignItems:"center"},imgBoxAppWhole:{width:120,height:120,display:"flex",justifyContent:"flex-end",alignItems:"center",flexGrow:1},imgBoxLocal:{width:96,height:96,display:"flex",justifyContent:"flex-end",alignItems:"center",flexGrow:1},imgWeb:{width:160,height:160},imgAppWhole:{width:120,height:120},imgAppLocal:{width:96,height:96},txt:j(j({marginTop:8,textAlign:"center"},e.T7),e.C15),webTxt:j(j({marginTop:16,textAlign:"center"},e.T7),e.C15),buttonWeb:j(j(j({borderRadius:20,backgroundColor:"rgba(0,0,0,0.05)",minWidth:120,height:40,textAlign:"center",marginTop:16,fontFamily:k.a.fontFamilyBase},e.T9),e.C13),{},{lineHeight:40}),bottomBtnWhole:{flexGrow:1,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-end",marginBottom:"ios"==w.a.OS?90:24},bottomBtnLocal:{flexDirection:"row",justifyContent:"center",alignItems:"flex-end",flexGrow:1},buttonApp:{borderRadius:20,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity],minWidth:120,height:40,position:"absolute"},lineHeight40:{lineHeight:40},buttonAPP2:{marginBottom:24},buttonNoTabBar:{marginBottom:0},txtApp:j(j(j({textAlign:"center",fontFamily:k.a.fontFamilyBase},e.T9),e.C13),{},{paddingLeft:16,paddingRight:16}),webButtonMask:{backgroundColor:"rgba(0,0,0,0.05)"},center:{justifyContent:"center",alignItems:"center"}})},L=n(40),_=n(119),D=n(48),N=n(432),W=n(102),A=n(660),B=n(3),M=n(33),F=n(12);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var V=b.a.get("window"),G=0;"ios"===w.a.OS&&Object(M.e)().then((function(e){G=e})).catch((function(e){}));var Y=function(e){s()(n,e);var t=U(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(h()(r),"localHeight",200),m()(h()(r),"_isSmall",(function(e){return"small"===Object(L.a)(e)})),m()(h()(r),"_isPad",(function(e){return"medium"===Object(L.a)(e)||"large"===Object(L.a)(e)&&e<_.a.safety_area})),m()(h()(r),"_isLarge",(function(e){return"large"===Object(L.a)(e)&&e>=_.a.safety_area})),m()(h()(r),"_isWap",(function(e){return D.a.isWap(e)})),m()(h()(r),"_isApp",(function(){return"android"===w.a.OS||"ios"===w.a.OS})),m()(h()(r),"_onScreenChange",(function(e){var t=e.window||{},n=t.height,o=t.width;r.setState({isVertical:n>o})})),r.state={isApp:!1,isWap:!1,isWhole:!0,isVertical:!1,isPad:!1,height:V.height,width:V.width},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this.props.width||V.width,t=this.props.height||V.height;b.a.addEventListener("change",this._onScreenChange),this.setState({isApp:this._isSmall(e),isWap:this._isWap(e),isVertical:t>e,isPad:this._isPad(e)})}},{key:"componentWillUnmount",value:function(){b.a.removeEventListener("change",this._onScreenChange)}},{key:"_onLayout",value:function(e){var t,n,r=e.nativeEvent.layout.y,o={};"android"===w.a.OS?(o.width=t=e.nativeEvent.layout.width,o.height=n=e.nativeEvent.layout.height,o.isVertical=n>t,o.isApp=this._isSmall(t),o.isPad=this._isPad(t)):n=b.a.get("window").height;var i=n-(S.a.currentHeight||0);this.localHeight=i-r;r>=n/4?this.setState(z({isWhole:!1},o)):this.setState(z({isWhole:!0},o))}},{key:"_switchImageUrl",value:function(e){switch(e){case F.c.NETWORK_ERROR:default:return x.a.error_network}}},{key:"_switchText",value:function(e){switch(e){case F.c.NETWORK_ERROR:return Object(N.b)("errorNetwork");case F.c.OTHER_ERROR:return Object(N.b)("systemBusy");case F.c.NO_DATA:return Object(N.b)("noData");default:return Object(N.b)("systemBusy")}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isWap,r=t.isApp,o=t.isPad,i=t.isVertical,a=t.isWhole,l=this.props,s=l.source,c=l.hasTitle,u=l.bottomNavi,d=l.getbottomNavBarHeight,p=l.pageType,f=l.parentPageType,h=l.containerHeight,g=n&&i&&a&&"home"===s?60:0;g=u&&d&&"function"==typeof d&&d()||g;var m=b.a.get("window"),y=m.height,I=m.width;"android"===w.a.OS&&(y=this.state.height,I=this.state.width);var k=("ios"===w.a.OS?G:S.a.currentHeight)||0,E=y-k-g-(c?56:0),j=Math.min(b.a.get("window").height,I),L={width:j<600?120:160,height:j<600?120:160};return v.a.createElement(W.b,{themeStyles:R},(function(t){var i;return r||o||Object(B.F)()?v.a.createElement(C.a,{onLayout:e._onLayout.bind(e),style:[e.state.isWhole?[t.blankAppWhole,{height:"web"===w.a.OS?E:Object(B.F)()?(null===(i=Object(B.y)())||void 0===i?void 0:i.windowHeight)||y:f===F.g.harmonyConnectPage&&h?h:"100%",width:"99.999999999999999%"}]:t.blankApp,e.props.blankAppStyle]},v.a.createElement(C.a,{style:e.state.isWhole?[t.wholePage,{height:e.state.isVertical?.4*E+(27+.5*L.height):e.state.isPad?.5*E+(27+.5*L.height):.5*(E+L.height+8+19),justifyContent:"flex-end"}]:[t.localPage,{height:.5*e.localHeight,justifyContent:"flex-end"}]},v.a.createElement(C.a,{style:e.state.isWhole?[t.topPartAppWhole,{justifyContent:e.state.isVertical||e.state.isPad?"flex-end":"center",alignItems:"center",flexGrow:0}]:[t.topPartApp,{justifyContent:"center",alignItems:"center",top:61.5}]},v.a.createElement(C.a,{style:e.state.isWhole?[t.imgBoxAppWhole,L]:t.imgBoxLocal},v.a.createElement(O.a,{source:Object(B.F)()?{uri:x.a.error_network}:e._switchImageUrl(e.props.errorType),style:e.state.isWhole?L:t.imgAppLocal})),v.a.createElement(C.a,null,v.a.createElement(P.a,{style:t.txt},e._switchText(e.props.errorType))))),v.a.createElement(C.a,{style:e.state.isWhole?t.bottomBtnWhole:t.bottomBtnLocal},v.a.createElement(T.a,{style:[t.buttonApp,n?{}:t.buttonAPP2,"home"!==s?t.buttonNoTabBar:{},"android"===w.a.OS&&t.center],onPress:function(){Object(B.F)()?e.props.onRefresh&&e.props.onRefresh():e.state.isWap?e.freshen():e.refreshDisplay()}},v.a.createElement(P.a,{style:[t.txtApp,"android"!==w.a.OS&&t.lineHeight40]},"refreshPage"===p?Object(N.b)("tryRefreshing"):Object(N.b)("goToIndex"))))):v.a.createElement(C.a,{style:t.blank},v.a.createElement(C.a,{style:t.wholePage},v.a.createElement(C.a,{style:[t.topPartWeb,{height:e.props.height||V.height}]},v.a.createElement(C.a,{style:[t.imgBoxWeb,{bottom:e.state.isVertical?.5*E-.5*(L.height+19+8):.4*E-.5*(L.height+19+8)}]},v.a.createElement(O.a,{source:e._switchImageUrl(e.props.errorType),style:e.state.isWhole?L:t.imgAppLocal})),v.a.createElement(C.a,{style:{bottom:e.state.isVertical?.5*E-.5*(L.height+19+8):.4*E-.5*(L.height+19+8)}},v.a.createElement(P.a,{style:t.webTxt},e._switchText(e.props.errorType))),v.a.createElement(C.a,{style:[t.buttonWebBox,{bottom:e.state.isVertical?.5*E-.5*(L.height+19+8):.4*E-.5*(L.height+19+8)}]},v.a.createElement(A.a,null,(function(n){return v.a.createElement(T.a,{onPress:function(){e.freshen()}},v.a.createElement(P.a,{style:[t.buttonWeb,n&&t.webButtonMask]},Object(N.b)("tryRefreshing")))}))))))}))}},{key:"freshen",value:function(){window.location.reload()}},{key:"refreshDisplay",value:function(){var e=this.props,t=e.homePageUrl;"refreshPage"===e.pageType?this.props.errorRefresh():Object(B.A)(t)}}]),n}(v.a.Component);m()(Y,"defaultProps",{homePageUrl:"vmall://com.vmall.client/home/main?tabIndex=0&from=rn"});var J=I.a.create({wholePage:{display:"flex",flexDirection:"column",height:b.a.get("window").height}}),K=n(108);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var Q=function(e){s()(n,e);var t=q(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={subCategoryList:[],isPc:"web"===w.a.OS&&"large"===Object(L.a)(b.a.get("window").width)},r}return a()(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.errorType,o=n.source,i=n.homePageUrl,a=n.hasTitle,l=n.pageType,s=n.errorRefresh,c=n.parentPageType,u=n.containerHeight;return"notJumpError"===r?v.a.createElement(K.a,{pageType:1}):this.state.isPc?v.a.createElement(C.a,{style:J.wholePage},v.a.createElement(Y,{errorType:r,source:o,homePageUrl:i})):v.a.createElement(C.a,null,v.a.createElement(Y,{errorType:r,source:o,bottomNavi:null===(e=this.props)||void 0===e?void 0:e.bottomNavi,getbottomNavBarHeight:null===(t=this.props)||void 0===t?void 0:t.getbottomNavBarHeight,homePageUrl:i,blankAppStyle:this.props.blankAppStyle,hasTitle:a,pageType:l,errorRefresh:s,parentPageType:c,containerHeight:u}))}}]),n}(v.a.Component);t.a=Q},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(218),w=n(43),S=n(126),C=n(152),O=n(157),P=n(20),T=n(102),x=n(57),I=n(53);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){return x.a.create({videobox:{justifyContent:"center",alignItems:"center"},videoflex:{justifyContent:"center",alignItems:"center"},video_play:{position:"absolute",backgroundColor:"transparent",width:52,height:52,borderRadius:26,paddingLeft:10,justifyContent:"center",alignItems:"center"},videoPlayOne:{backgroundColor:"transparent",width:12,height:12,borderRadius:26,paddingLeft:6,paddingBottom:2,justifyContent:"center",alignItems:"center"},videoMarkText:E(E({marginLeft:2,marginBottom:1,alignItems:"center",justifyContent:"center"},e.T3),e.C17),video_play_mini:{position:"absolute",width:32,height:32,right:8,top:8},video_play_little:{position:"absolute",top:8,right:8,zIndex:1,height:20,width:20},video_play_circle:{position:"absolute",backgroundColor:"#000",opacity:.38,width:52,height:52,borderRadius:26,borderColor:"#fff",borderWidth:2},videopPlayCircleOne:{top:8,left:8,position:"absolute",backgroundColor:"#000",opacity:.38,width:50,height:20,borderRadius:10},oneLittleBlock:{flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute",top:10,left:12,zIndex:1},video_voice_circle:{backgroundColor:"#000",opacity:.38,width:32,height:32,borderRadius:16},absolute_position:{position:"absolute",top:0,left:0,bottom:0,right:0,justifyContent:"center",alignItems:"center"},toast:E(E({fontFamily:I.a.fontFamilyMedium},e.T4),{},{color:"#FFFFFF",position:"absolute",top:6,left:8}),playBtn:{paddingLeft:5,justifyContent:"center",alignItems:"center",width:52,height:52,borderRadius:26,backgroundColor:"rgba(0, 0, 0, 0.38)",borderWidth:2,borderColor:"rgba(255, 255, 255, 0.38)"},playBtnOne:{flexDirection:"row",paddingLeft:4,justifyContent:"center",alignItems:"center",width:50,height:20,borderRadius:10,backgroundColor:"rgba(0, 0, 0, 0.38)"},playIconOne:{width:10,height:10},playIcon:{width:17,height:20}})},R=n(19),L=n(24);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var D=function(e){u()(n,e);var t=_(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"player",null),m()(s()(r),"muted",!0),m()(s()(r),"paused",!0),m()(s()(r),"loaded",!1),m()(s()(r),"pressPlay",(function(){var e,t=r.props.isPlayPress;t&&(null===(e=r.props)||void 0===e||e.stopVideo()),setTimeout((function(){t&&r.play()}),300)})),m()(s()(r),"playStart",(function(){var e,t;null===(e=r.player)||void 0===e||e.seek(0),null===(t=r.player)||void 0===t||t.play()})),r.state={isPaused:r.paused,isMuted:r.muted,isLoaded:r.loaded},r.play=r.play.bind(s()(r)),r.pause=r.pause.bind(s()(r)),r.setMuted=r.setMuted.bind(s()(r)),r}return a()(n,[{key:"componentDidMount",value:function(){this.player.subscribeToStateChange(this.handleStateChange.bind(this));var e=this.props,t=e.type,n=e.isPause;3===t&&(n?this.pause():this.play())}},{key:"handleStateChange",value:function(e,t){e.paused!=this.state.isPaused&&this.setState({isPaused:e.paused}),e.currentTime>.01&&!this.state.isLoaded&&this.setState({isLoaded:!0})}},{key:"play",value:function(){var e;null===(e=this.player)||void 0===e||e.play()}},{key:"pause",value:function(){var e;null===(e=this.player)||void 0===e||e.pause()}},{key:"setMuted",value:function(e){this.muted=e,this.setState({isMuted:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.sourceUrl,r=t.width,o=t.height,i=t.aspectRatio_wap,a=t.poster,l=t.type,s=t.isPause,c=t.isVoice,u=t.isPlayPress,d=t.resizeMode;return v.a.createElement(T.b,{themeStyles:j},(function(t,p){return v.a.createElement(w.a,{style:{width:r,height:o,justifyContent:"center",alignItems:"center"}},v.a.createElement(w.a,{pointerEvents:"none",style:[{position:"absolute",width:"100%",height:"100%",opacity:e.state.isPaused||!e.state.isLoaded?0:1,backgroundColor:3===l||4===l||5===l?p.C34.color:2===l?p.C32.color:p.C33.color}]},v.a.createElement(b.Player,{paused:s,muted:!(3!==l&&4!==l&&5!==l&&!e.props.isOneLittle)||e.state.isMuted,aspectRatio:i,ref:function(t){e.player=t},loop:!(4!==l&&5!==l&&!e.props.isOneLittle),resizeMode:d||"cover"},v.a.createElement("source",{src:n}),v.a.createElement(b.ControlBar,{disabled:!0}),v.a.createElement(b.BigPlayButton,{disabled:!0}))),e.state.isPaused||!e.state.isLoaded?v.a.createElement(w.a,{style:{position:"absolute",width:r,height:o,backgroundColor:3===l||4===l||5===l?p.C34.color:2===l?p.C32.color:p.C33.color}},v.a.createElement(L.a,{imgUri:a,imgStyle:{width:r,height:o},resizeMode:d||"cover"})):v.a.createElement(w.a,null),5===l||!e.state.isPaused&&e.state.isLoaded?v.a.createElement(w.a,null):1===l?e.props.isOneLittle?v.a.createElement(w.a,{style:t.oneLittleBlock},v.a.createElement(w.a,{style:[t.videoPlayOne,{zIndex:1}]},u?v.a.createElement(S.a,{onPress:e.pressPlay},v.a.createElement(P.a,{normalCol:"#fff",iconName:"play",width:12,height:12})):v.a.createElement(P.a,{normalCol:"#fff",iconName:"play",width:12,height:12})),v.a.createElement(C.a,{style:t.videoMarkText},"视频")):v.a.createElement(w.a,{style:[t.video_play,{zIndex:1}]},u?v.a.createElement(S.a,{onPress:e.pressPlay},v.a.createElement(P.a,{normalCol:"#fff",iconName:"play",width:24,height:24})):v.a.createElement(P.a,{normalCol:"#fff",iconName:"play",width:24,height:24})):v.a.createElement(O.a,{source:{uri:R.a.play_mini},style:2===l?t.video_play_mini:t.video_play_little}),(e.state.isPaused||!e.state.isLoaded)&&1===l?v.a.createElement(w.a,{style:e.props.isOneLittle?t.videopPlayCircleOne:t.video_play_circle}):v.a.createElement(w.a,null),3!==l&&4!==l&&5!==l&&c&&!e.state.isPaused&&e.state.isLoaded?v.a.createElement(S.a,{style:{position:"absolute",right:1===l?6:12,bottom:1===l?80:16},onPress:function(){e.setMuted(!e.muted)}},v.a.createElement(w.a,{style:t.video_voice_circle}),v.a.createElement(w.a,{style:t.absolute_position},e.state.isMuted?v.a.createElement(P.a,{iconName:"muted",normalCol:"#fff",width:24,height:24}):v.a.createElement(P.a,{iconName:"voice",normalCol:"#fff",width:24,height:24}))):v.a.createElement(w.a,null),e.state.isPaused||!e.state.isLoaded||c?null:v.a.createElement(w.a,{style:{width:112,height:28,borderRadius:56,bottom:12,position:"absolute",backgroundColor:"rgba(0,0,0,0.2)"}},v.a.createElement(C.a,{style:t.toast},"点击收看完整视频")))}))}}]),n}(y.Component);m()(D,"defaultProps",{sourceUrl:"",poster:"",width:"100%",height:"100%",aspectRatio_wap:"",type:1,isVoice:"true"});t.a=D},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",(function(){return r}))},,,function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(43),w=n(126),S=n(37),C=n(49),O=n(38),P=n(130),T=n(102),x=n(660),I=n(20),k=n(57);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={display:"flex",flexDirection:"row",alignItems:"center"},L=function(e){return k.a.create({flexBox:R,loginbox:j(j({},R),{},{justifyContent:"center",position:"fixed",top:0,left:0,height:"100vh",width:"100vw",backgroundColor:"#00000058",zIndex:999}),logincon:{width:500,height:635,backgroundColor:"#ffffff"},redbar:{height:40,width:"100%",backgroundColor:e.primaryColor},closeicon:{position:"absolute",top:10,right:10}})},_=n(103),D=n(73);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var W=function(e){u()(n,e);var t=N(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"loginRef",""),m()(s()(r),"cookieInterval",null),r.state={loginUrl:"",isShowLogin:!0},r}return a()(n,[{key:"render",value:function(){var e=this,t=this.props.onClose;return this.state.isShowLogin?v.a.createElement(T.b,{themeStyles:L},(function(n,r){return v.a.createElement(b.a,{style:[n.loginbox]},v.a.createElement(b.a,{style:n.logincon},v.a.createElement(b.a,{style:n.redbar},v.a.createElement(b.a,{style:n.closeicon},v.a.createElement(x.a,null,(function(e){return v.a.createElement(w.a,{activeOpacity:1,onFocus:function(){return t()}},v.a.createElement(I.a,{iconName:"cancel-",width:20,height:20,isActive:e,normalCol:r.C24.color,opacity:e?r.C24.opacity:r.C23.opacity}))})))),v.a.createElement(P.WebView,{source:{uri:e.state.loginUrl}})))})):null}},{key:"componentDidMount",value:function(){var e=this;if("web"===S.a.OS){var t="".concat(O.a.webDomain,"account/login?type=frame&url=").concat(encodeURIComponent(Object(D.a)(window.location.href)),"&_t=").concat((new Date).getTime());this.setState({loginUrl:t}),this.cookieInterval=setInterval((function(){_.a.get("uid")&&(clearInterval(e.cookieInterval),e.props.targetLink&&(window.location.href=e.props.targetLink,e.setState({isShowLogin:!1})),C.a.emit("popupLoginSuccess"))}),200)}}},{key:"componentWillUnmount",value:function(){this.cookieInterval&&clearInterval(this.cookieInterval)}}]),n}(v.a.Component);m()(W,"defaultProps",{onClose:function(){}});t.a=W},function(e,t,n){"use strict";var r=n(16),o=n(23),i=n(49),a=n(183),l=Object(r.k)({cartNum:null,isLogin:null});l.setCartNum=Object(r.d)((function(e){l.cartNum=e||0})),l.getCartNum=Object(r.d)((function(e,t){var n=0;return Object(o.x)(e,t).then((function(e){n=e.data||0})).finally((function(){return l.setCartNum(n),i.a.emit("refreshCartNum"),Promise.resolve(n)}))})),l.setIsLogin=Object(r.d)((function(e){l.isLogin=e})),l.getIsLogin=Object(r.d)((function(){var e=!1;return a.a.invokeVmallNative("common","getIsLogin",{}).then((function(t){t&&(e=t.isLogin)})).finally((function(){l.setIsLogin(e)}))})),t.a=l},,,,function(e,t,n){"use strict";var r=n(35),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(49),C=n(37),O=n(43),P=n(126),T=n(270),x=n(115),I=n(48),k=n(102),E=n(15),j=n.n(E),R=n(28),L=n.n(R),_=n(87),D=n(446),N=n(609),W=n(57),A=n(56),B=n.n(A),M=n(152),F=L.a.oneOfType([L.a.element,L.a.object,L.a.bool,L.a.func]),H=function(e,t,n){return null==t||!1===t?null:w.a.isValidElement(t)?t:"function"==typeof t?t():!0===t?w.a.createElement(e,n):"string"==typeof t||"number"==typeof t?w.a.createElement(e,n,t):w.a.createElement(e,j()({},n,t))},z=["containerStyle","textStyle","badgeStyle","onPress","Component","value","theme","status"],U=function(e){var t=e.containerStyle,n=e.textStyle,r=e.badgeStyle,o=e.onPress,i=e.Component,a=void 0===i?o?P.a:O.a:i,l=e.value,s=e.theme,c=e.status,u=B()(e,z),d=H(M.a,l,{style:W.a.flatten([V.text,n&&n])});return w.a.createElement(O.a,{style:W.a.flatten([t&&t])},w.a.createElement(a,j()({},u,{style:W.a.flatten([V.badge(s,c),!d&&V.miniBadge,r&&r]),onPress:o}),d))};U.propTypes={containerStyle:L.a.shape({style:L.a.any}),badgeStyle:L.a.shape({style:L.a.any}),textStyle:L.a.shape({style:L.a.any}),value:L.a.node,onPress:L.a.func,Component:L.a.func,theme:L.a.object,status:L.a.oneOf(["primary","success","warning","error"])},U.defaultProps={status:"primary"};var V={badge:function(e,t){return{alignSelf:"center",minWidth:18,height:18,borderRadius:9,alignItems:"center",justifyContent:"center",backgroundColor:e.colors[t],borderWidth:W.a.hairlineWidth,borderColor:"#fff"}},miniBadge:{paddingHorizontal:0,paddingVertical:0,minWidth:8,height:8,borderRadius:4},text:{fontSize:12,color:"white",paddingHorizontal:4}},G=function(e){var t=e.onPress,n=e.title,r=e.titleStyle;return w.a.createElement(O.a,null,w.a.createElement(P.a,{onPress:t},w.a.createElement(M.a,{style:r},n)))},Y={primary:"#2089dc",grey3:"#86939e"},J=["containerStyle","badgeStyle"],K=["type","title","titleStyle","onPress"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var X=["top-left","top","top-right","left","center","right","bottom-left","bottom","bottom-right"],Z=function(e){p()(n,e);var t=$(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"dotsPos",r._getPos(r.props.dotsPos,"bottom","right")),v()(u()(r),"prevPos",r._getPos(r.props.prevPos,"bottom-left","top-right")),v()(u()(r),"nextPos",r._getPos(r.props.nextPos,"bottom-right")),r._renderRow=r._renderRow.bind(u()(r)),r._renderCell=r._renderCell.bind(u()(r)),r._renderDot=r._renderDot.bind(u()(r)),r._renderButton=r._renderButton.bind(u()(r)),r}return s()(n,[{key:"_getPos",value:function(e,t,n){return!1===e?null:e||(n&&this.props.vertical?n:t)}},{key:"_renderDot",value:function(e){var t=e.isActive,n=e.onPress,r=this.props,o=r.dotProps,i=void 0===o?{}:o,a=r.dotActiveStyle,l=i.containerStyle,s=i.badgeStyle,c=B()(i,J);return w.a.createElement(U,j()({theme:{colors:Y},containerStyle:W.a.flatten([ee.dotsItemContainer,l]),badgeStyle:W.a.flatten([ee.dotsItem({colors:Y},t),s,t&&a]),onPress:n},c))}},{key:"_renderDots",value:function(){var e=this.props,t=e.vertical,n=e.count,r=e.activeIndex,o=e.dotsTouchable,i=e.dotsWrapperStyle,a=e.DotComponent,l=void 0===a?this._renderDot:a,s=e.goTo;return w.a.createElement(O.a,{style:W.a.flatten([ee.dotsWrapper(t),i])},Array.from({length:n},(function(e,t){return t})).map((function(e){return w.a.createElement(l,{key:e,index:e,isActive:r===e+1,onPress:o?function(){return s(e+1)}:void 0})})))}},{key:"_renderButton",value:function(e){var t=e.type,n=e.title,r=e.titleStyle,o=e.onPress,i=B()(e,K);return w.a.createElement(G,j()({theme:{colors:Y},type:"clear",onPress:o,title:n,titleStyle:W.a.flatten([ee.buttonTitleStyle({colors:Y},t),r])},i))}},{key:"_renderPrev",value:function(){var e=this.props,t=e.goToPrev,n=e.isFirst,r=e.prevTitle,o=e.firstPrevElement,i=e.prevTitleStyle,a=e.PrevComponent,l=void 0===a?this._renderButton:a;return n?H(M.a,o):w.a.createElement(l,{type:"prev",title:r,titleStyle:i,onPress:t})}},{key:"_renderNext",value:function(){var e=this.props,t=e.goToNext,n=e.isLast,r=e.nextTitle,o=e.lastNextElement,i=e.nextTitleStyle,a=e.NextComponent,l=void 0===a?this._renderButton:a;return n?H(M.a,o):w.a.createElement(l,{type:"next",title:r,titleStyle:i,onPress:t})}},{key:"_renderCell",value:function(e){var t=e.name,n=this.props,r=n.cellsStyle,o=void 0===r?{}:r,i=n.cellsContent,a=void 0===i?{}:i;return w.a.createElement(O.a,{style:W.a.flatten([ee.cell,o[t]])},this.dotsPos===t&&this._renderDots(),this.prevPos===t&&this._renderPrev(),this.nextPos===t&&this._renderNext(),a[t]&&H(M.a,a[t]))}},{key:"_renderRow",value:function(e){var t=e.rowAlign,n=this._renderCell,r=["".concat(t?t+"-":"","left"),t||"center","".concat(t?t+"-":"","right")],o=["flex-start","center","flex-end"];return w.a.createElement(O.a,{style:ee.row},r.map((function(e,t){return w.a.createElement(O.a,{key:e,style:ee.spaceHolder(o[t])},w.a.createElement(n,{name:e}))})))}},{key:"render",value:function(){var e=this._renderRow;return w.a.createElement(w.a.Fragment,null,w.a.createElement(e,{rowAlign:"top",contentAlign:"flex-start"}),w.a.createElement(e,{contentAlign:"center"}),w.a.createElement(e,{rowAlign:"bottom",contentAlign:"flex-end"}))}}]),n}(w.a.Component);Z.propTypes={cellsStyle:L.a.shape(X.reduce((function(e,t){return Q(Q({},e),{},v()({},t,L.a.style))}),{})),cellsContent:L.a.shape(X.reduce((function(e,t){return Q(Q({},e),{},v()({},t,F))}),{})),dotsPos:L.a.oneOf([].concat(X,[!0,!1])),prevPos:L.a.oneOf([].concat(X,[!0,!1])),nextPos:L.a.oneOf([].concat(X,[!0,!1])),prevTitle:L.a.string,nextTitle:L.a.string,dotsTouchable:L.a.bool,dotsWrapperStyle:L.a.shape({style:L.a.any}),dotProps:L.a.shape(U.propTypes),dotActiveStyle:L.a.shape({style:L.a.any}),DotComponent:L.a.func,prevTitleStyle:L.a.shape({style:L.a.any}),nextTitleStyle:L.a.shape({style:L.a.any}),PrevComponent:L.a.func,NextComponent:L.a.func,firstPrevElement:F,lastNextElement:F,theme:L.a.object,vertical:L.a.bool,count:L.a.number,activeIndex:L.a.number,isFirst:L.a.bool,isLast:L.a.bool,goToPrev:L.a.func,goToNext:L.a.func,goTo:L.a.func},Z.defaultProps={prevTitle:"Prev",nextTitle:"Next"};var ee={row:{flexDirection:"row",height:0,alignItems:"center"},spaceHolder:function(e){return{height:0,flex:1,alignItems:e,justifyContent:"center"}},cell:{alignItems:"center",justifyContent:"center",position:"absolute"},dotsWrapper:function(e){return{flexDirection:e?"column":"row",alignItems:"center",justifyContent:"center",minWidth:1,minHeight:1}},dotsItemContainer:{margin:3,bottom:20},dotsItem:function(e,t){return{backgroundColor:t?e.colors.primary:e.colors.grey3,borderColor:"transparent"}},buttonTitleStyle:function(e,t){return{color:"prev"===t?e.colors.grey3:e.colors.primary}},hidden:{opacity:0}};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var oe=function(e){p()(n,e);var t=re(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"children",w.a.Children.toArray(r.props.children)),v()(u()(r),"count",r.children.length-2),r._autoplayTimeout=r._autoplayTimeout.bind(u()(r)),r._onLayout=r._onLayout.bind(u()(r)),r._fixState=r._fixState.bind(u()(r)),r.goToPrev=r.goToPrev.bind(u()(r)),r.goToNext=r.goToNext.bind(u()(r)),r.goTo=r.goTo.bind(u()(r)),r.state={x:0,y:0,width:0,height:0,activeIndex:e.from,pan:new _.a.ValueXY},r._animatedValueX=0,r._animatedValueY=0,r._panResponder=D.a.create(r._getPanResponderCallbacks()),r}return s()(n,[{key:"startAutoplay",value:function(){var e=this.props,t=e.timeout,n=e.auto;this.stopAutoplay(),t&&n&&(this.autoplay=setTimeout(this._autoplayTimeout,1e3*Math.abs(t)))}},{key:"stopAutoplay",value:function(){this.autoplay&&clearTimeout(this.autoplay)}},{key:"goToNext",value:function(){this._goToNeighboring()}},{key:"goToPrev",value:function(){this._goToNeighboring(!0)}},{key:"goTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e-this.getActiveIndex();t&&this._fixAndGo(t)}},{key:"getActiveIndex",value:function(){return this.state.activeIndex}},{key:"_autoplayTimeout",value:function(){var e=this.props.timeout;this._goToNeighboring(e<0)}},{key:"_goToNeighboring",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._fixAndGo(e?-1:1)}},{key:"componentDidMount",value:function(){var e=this;this.state.pan.x.addListener((function(t){var n=t.value;return e._animatedValueX=n})),this.state.pan.y.addListener((function(t){var n=t.value;return e._animatedValueY=n})),this.startAutoplay();var t=[this.children[0]],n=[this.children[this.children.length-1]];n.concat(this.children,t)}},{key:"componentWillUnmount",value:function(){this.stopAutoplay(),this.state.pan.x.removeAllListeners(),this.state.pan.y.removeAllListeners()}},{key:"_getPanResponderCallbacks",value:function(){var e=this;return{onPanResponderTerminationRequest:function(){return!1},onMoveShouldSetResponderCapture:function(){return!0},onMoveShouldSetPanResponderCapture:function(t,n){var r=e.props,o=r.gesturesEnabled,i=r.vertical,a=r.minDistanceToCapture;if(!o())return!1;e.props.onAnimationStart&&e.props.onAnimationStart(e.getActiveIndex());var l=Math.abs(i?n.dy:n.dx)>a;return l&&e.stopAutoplay(),l},onPanResponderGrant:function(){return e._fixState()},onPanResponderMove:_.a.event([null,this.props.vertical?{dy:this.state.pan.y}:{dx:this.state.pan.x}],{useNativeDriver:!1}),onPanResponderRelease:function(t,n){var r=e.props,o=r.vertical,i=r.minDistanceForAction,a=e.state,l=a.width,s=a.height;e.startAutoplay();var c=o?n.moveY-n.y0:n.moveX-n.x0;Math.abs(c)<(o?s:l)*i?e._spring({x:0,y:0}):e._changeIndex(c>0?!o&&N.a.isRTL?1:-1:!o&&N.a.isRTL?-1:1)}}}},{key:"_spring",value:function(e){var t=this.props,n=t.springConfig,r=t.onAnimationEnd,o=this.state.activeIndex;_.a.spring(this.state.pan,ne(ne({},n),{},{toValue:e,useNativeDriver:!1})).start((function(){return r&&r(o)}))}},{key:"_fixState",value:function(){var e=this.props.vertical,t=this.state,n=t.width,r=t.height,o=t.activeIndex;this._animatedValueX=e?0:n*o*(N.a.isRTL?1:-1),this._animatedValueY=e?r*o*-1:0,this.state.pan.setOffset({x:this._animatedValueX,y:this._animatedValueY}),this.state.pan.setValue({x:0,y:0})}},{key:"_fixAndGo",value:function(e){this._fixState(),this.props.onAnimationStart&&this.props.onAnimationStart(this.getActiveIndex()),this._changeIndex(e)}},{key:"_changeIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.props,n=t.loop,r=t.vertical,o=this.state,i=o.width,a=o.height,l=o.activeIndex,s={x:0,y:0},c=!e,u=e;if(l<=0&&e<0?(c=!n,u=this.props.imgListViw_app.length-2+e):l+1>=this.props.imgListViw_app.length-2+2&&e>0&&(c=!n,u=-1*l+e-1),c)return this._spring(s);this.stopAutoplay();var d=l+u;0==d?this.setState({activeIndex:this.props.imgListViw_app.length-2}):d==this.props.imgListViw_app.length-2+1?this.setState({activeIndex:1}):this.setState({activeIndex:d}),r?s.y=-1*a*u:s.x=i*(N.a.isRTL?1:-1)*u,this._spring(s),this.startAutoplay(),this.props.onIndexChanged&&this.props.onIndexChanged(d)}},{key:"_onLayout",value:function(e){var t=this,n=e.nativeEvent.layout,r=n.x,o=n.y,i=n.width,a=n.height;this.setState({x:r,y:o,width:i,height:a},(function(){return t._fixState()}))}},{key:"render",value:function(){var e=this.state,t=e.pan,n=e.x,r=e.y,o=e.width,i=e.height,a=(e.activeIndex,this.props),l=a.theme,s=a.loop,c=a.vertical,u=a.positionFixed,d=a.containerStyle,p=a.innerContainerStyle,f=a.swipeAreaStyle,h=a.slideWrapperStyle,g=a.controlsEnabled,m=a.controlsProps,y=a.Controls,v=void 0===y?Z:y;return w.a.createElement(O.a,{style:W.a.flatten([ie.root,d]),onLayout:this._onLayout},w.a.createElement(O.a,{style:W.a.flatten([ie.container(u,n,r,o,i),p])},w.a.createElement(_.a.View,j()({style:W.a.flatten([ie.swipeArea(c,this.props.imgListViw_app.length-2,o,i),f,{transform:[{translateX:t.x},{translateY:t.y}]}])},this._panResponder.panHandlers),this.props.imgListViw_app.map((function(e,t){return w.a.createElement(O.a,{key:t,style:W.a.flatten([{width:o,height:i},h])},e)}))),g&&w.a.createElement(v,j()({},m,{theme:l,vertical:c,count:this.props.imgListViw_app.length-2,activeIndex:this.getActiveIndex(),isFirst:!s&&!this.getActiveIndex(),isLast:!s&&this.getActiveIndex()+1>=this.count,goToPrev:this.goToPrev,goToNext:this.goToNext,goTo:this.goTo}))))}}]),n}(w.a.Component);oe.propTypes={vertical:L.a.bool,from:L.a.number,loop:L.a.bool,timeout:L.a.number,gesturesEnabled:L.a.func,springConfig:L.a.object,minDistanceToCapture:L.a.number,minDistanceForAction:L.a.number,onAnimationStart:L.a.func,onAnimationEnd:L.a.func,onIndexChanged:L.a.func,positionFixed:L.a.bool,containerStyle:L.a.shape({style:L.a.any}),innerContainerStyle:L.a.shape({style:L.a.any}),swipeAreaStyle:L.a.shape({style:L.a.any}),slideWrapperStyle:L.a.shape({style:L.a.any}),controlsEnabled:L.a.bool,controlsProps:L.a.shape(Z.propTypes),Controls:L.a.func,theme:L.a.object},oe.defaultProps={vertical:!1,from:0,loop:!1,timeout:0,gesturesEnabled:function(){return!0},minDistanceToCapture:5,minDistanceForAction:.2,positionFixed:!1,controlsEnabled:!0};var ie={root:{flex:1,backgroundColor:"transparent"},container:function(e,t,n,r,o){return{backgroundColor:"transparent",position:e?"fixed":"relative",overflow:"hidden",top:e?n:0,left:e?t:0,width:r,height:o,justifyContent:"space-between"}},swipeArea:function(e,t,n,r){return{position:"absolute",top:0,left:0,width:e?n:n*t,height:e?r*t:r,flexDirection:e?"column":"row"}}},ae=oe,le=n(47),se=n(84),ce=n(30);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var de=function(e){p()(n,e);var t=ue(n);function n(e){var r,i;return a()(this,n),i=t.call(this,e),v()(u()(i),"listenerNative",void 0),v()(u()(i),"imgList_wap",void 0),v()(u()(i),"scrollView",void 0),v()(u()(i),"timer",void 0),v()(u()(i),"homePageId",void 0),v()(u()(i),"listener1",void 0),v()(u()(i),"listener2",void 0),v()(u()(i),"scrollTimer",void 0),v()(u()(i),"autoPlay",null===(r=i.props.autoPlay)||void 0===r||r),v()(u()(i),"refScrollView",(function(e){i.scrollView=e})),v()(u()(i),"handleCategoryLoop",(function(e){var t,n;"function"==typeof(null===(t=u()(i))||void 0===t||null===(n=t.props)||void 0===n?void 0:n.setSwiperRef)&&i.props.setSwiperRef(e)})),v()(u()(i),"onLayout",(function(){var e;I.a.isIOS()||null===(e=i.scrollView)||void 0===e||e.scrollTo({x:i.props.width,y:0,animated:!1})})),v()(u()(i),"newReceiveRef",(function(e){i.setState({viewList:[].concat(o()(i.state.viewList),[e])},(function(){}))})),v()(u()(i),"onAnimationEnd",(function(e){S.a.emit("SwiperOnscroll",e)})),v()(u()(i),"onIndexChanged",(function(e){i.props.swiperOnscroll&&i.props.swiperOnscroll(e)})),v()(u()(i),"isApkOrIos",(function(){return"android"===C.a.OS||"ios"===C.a.OS})),i.state={currentPage:1,viewList:[]},i.homePageId=ce.a.pageId,i}return s()(n,[{key:"onScroll",value:function(e){var t=this,n=e.nativeEvent.contentOffset.x,r=Math.round(n/this.props.width);if(this.setState({currentPage:r}),0===r){var o;if(this.setState({currentPage:this.imgList_wap.length-2}),null===this.scrollView)return;null===(o=this.scrollView)||void 0===o||o.scrollTo({x:(this.imgList_wap.length-2)*this.props.width,y:0,animated:!1})}if(r===this.imgList_wap.length-1){if(this.setState({currentPage:1}),null===this.scrollView)return;this.scrollTimer=setTimeout((function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:t.props.width,y:0,animated:!1})}),100)}}},{key:"componentDidMount",value:function(){var e=this;"android"!==C.a.OS&&"ios"!==C.a.OS||(this.startTimer(),this.listener1=S.a.addListener("swiperStop",(function(t){String(t)===String(e.props.pageId)&&e.stopTimer()})),this.listener2=S.a.addListener("swiperStart",(function(t){String(t)===String(e.props.pageId)&&e.startTimer()})))}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&(this.stopTimer(),this.startTimer())}},{key:"componentWillUnmount",value:function(){"android"!==C.a.OS&&"ios"!==C.a.OS||(this.stopTimer(),this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.scrollTimer&&clearTimeout(this.scrollTimer))}},{key:"stopTimer",value:function(){clearTimeout(this.timer)}},{key:"scrollBeginDrag",value:function(){this.stopTimer()}},{key:"scrollEndDrag",value:function(){this.startTimer()}},{key:"onAnimatinonEnd",value:function(e){var t=this;S.a.emit("SwiperOnscroll",e);var n=e.nativeEvent.contentOffset.x,r=Math.round(n/this.props.width);if(this.setState({currentPage:r}),0===r){var o;if(this.setState({currentPage:this.imgList_wap.length-2}),null===this.scrollView)return;null===(o=this.scrollView)||void 0===o||o.scrollTo({x:(this.imgList_wap.length-2)*this.props.width,y:0,animated:!1})}if(r===this.imgList_wap.length-1){if(this.setState({currentPage:1}),null===this.scrollView)return;this.scrollTimer=setTimeout((function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:t.props.width,y:0,animated:!1})}),100)}this.props.swiperOnscroll&&this.props.swiperOnscroll(this.state.currentPage)}},{key:"startTimer",value:function(){var e=this;if(!this.autoPlay)return!1;var t=this.imgList_wap.length;this.stopTimer(),this.timer=setTimeout((function(){var n,r,o=0,i=(o=e.state.currentPage+1>=t?0:e.state.currentPage+1)*e.props.width;o===e.imgList_wap.length-1?null===(n=e.scrollView)||void 0===n||n.scrollTo({x:e.imgList_wap.length*e.props.width,y:0,animated:!0}):null===(r=e.scrollView)||void 0===r||r.scrollTo({x:i,y:0,animated:!0});var a=e.state.viewList;"function"==typeof e.props.receiveRef&&e.props.receiveRef(a[o]),S.a.emit("SwiperOnscroll")}),5e3)}},{key:"clickDot",value:function(e){var t;this.setState({currentPage:e}),null===(t=this.scrollView)||void 0===t||t.scrollTo({x:this.props.width*e,y:0,animated:!0})}},{key:"render",value:function(){var e,t,n,r,o=this,i=this.props,a=i.imgList,l=i.width,s=i.receiveRef,c=i.hasMargin,u=i.boxWidth,d=i.imgProportion,p=i.height,f=i.mixedSwiper,h=i.pageCatCode,g=i.pageCatName,m=i.fillScreenWidth,y=i.resizeConfig,v=i.showDefaultImage,b=i.showAppSwitchImage,S=i.useWebp;v=null===(e=v)||void 0===e||e,b=null===(t=b)||void 0===t||t,S=null===(n=S)||void 0===n||n;var I=((null===(r=this.props)||void 0===r?void 0:r.configInfo)||{}).carouselPicNum;l=u||l;var E=!0===m||"true"===m,j=E?l:l-(c?32:0);if(a.length<=1)this.imgList_wap=a;else{var R=[a[0]],L=[a[a.length-1]];this.imgList_wap=L.concat(a,R)}var _=[0,this.imgList_wap.length-1],D=this.imgList_wap.map((function(e,t){var n,r=o.imgList_wap.length>=2&&_.includes(t)?null:s;n=t-1>0?t-1:0;var i=0;t-1>0&&(i=t-1),i>a.length-1&&(i=a.length-1);var l=0;(l=t-1>=0?t-1:0)>=a.slice(0,I).length&&(l=0);var u=d||Object(se.a)(e.imgProportion),p=f||E?null:16,m=o.isApkOrIos()?n:f?l:i,C=o.isApkOrIos()&&r;return w.a.createElement(O.a,{key:t,style:[{width:j},c?{marginLeft:E?0:16,marginRight:E?0:16}:{}],ref:!o.isApkOrIos()&&s},w.a.createElement(le.a,{imgUri:e.imgUri,imgProportion:u,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,style:{borderRadius:p},resizeConfig:y,clickAd:o.props.clickAd,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:m,imgWidth:j,isHighQuality:!0,receiveRef:C,pageId:o.props.pageId,pageCatCode:h,pageCatName:g,resSiteCode:o.props.resSiteCode,resSiteName:o.props.resSiteName,index_name:e.title,showDefaultImage:v,showAppSwitchImage:b,useWebp:S}))})),N=1,W=!0;D.length<=1&&(N=0,W=!1);var A=this.imgList_wap[0],B=p||j/Object(se.a)(a[0].imgProportion);return w.a.createElement(k.b,{themeStyles:x.a},(function(e){var t=[e.dot],n=[e.dot,e.activeDot],r=[e.dotView];return w.a.createElement(O.a,{collapsable:!1},w.a.createElement(O.a,{ref:o.handleCategoryLoop,style:{height:B},collapsable:!1},D&&(null==D?void 0:D.length)>1?"web"===C.a.OS?w.a.createElement(ae,{from:N,loop:W,timeout:4,onAnimationEnd:o.onAnimationEnd,auto:o.autoPlay,onIndexChanged:o.onIndexChanged,controlsProps:{prevPos:!1,nextPos:!1,dotsTouchable:!0,dotProps:{badgeStyle:t},dotActiveStyle:n},imgListViw_app:D,springConfig:{bounciness:1}},D):w.a.createElement(O.a,{onLayout:o.onLayout},w.a.createElement(T.a,{ref:o.refScrollView,style:{height:B},horizontal:!0,contentOffset:{x:o.props.width,y:0},showsHorizontalScrollIndicator:!1,pagingEnabled:!0,onScrollBeginDrag:function(){return o.scrollBeginDrag()},onScrollEndDrag:function(){return o.scrollEndDrag()},onMomentumScrollEnd:function(e){return o.onAnimatinonEnd(e)},onScroll:function(e){o.onScroll(e)}},D),w.a.createElement(O.a,{style:r},function(e){var t=[e.dot],n=[e.activeDot],r=[],i=function(e){var i=parseInt(e);r.push(i+1===o.state.currentPage?w.a.createElement(P.a,{key:e,onPress:function(){o.clickDot(i+1)}},w.a.createElement(O.a,{style:n})):w.a.createElement(P.a,{key:e,onPress:function(){o.clickDot(i+1)}},w.a.createElement(O.a,{style:t})))};for(var l in a)i(l);return r}(e))):w.a.createElement(le.a,{imgUri:null==A?void 0:A.imgUri,imgProportion:Object(se.a)(A.imgProportion),resizeConfig:y,actionUrl:A.actionUrl,actionUrlWeb:A.actionUrlWeb,actionUrlWap:A.actionUrlWap,clickAd:o.props.clickAd,style:{borderRadius:16},comId:A.comId,gotoPageId:A.gotoPageId,dataCode:A.comId,index:0,imgWidth:j,receiveRef:s,pageId:o.props.pageId,pageCatCode:h,pageCatName:g,resSiteCode:o.props.resSiteCode,resSiteName:o.props.resSiteName,index_name:A.title,isHighQuality:!0,showDefaultImage:v,showAppSwitchImage:b,useWebp:S})))}))}}]),n}(w.a.PureComponent);v()(de,"defaultProps",{});t.a=de},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return w})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return O}));var r=n(1),o=n.n(r),i=n(37),a=n(57),l=n(48),s=n(3);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={fontWeight:"web"===i.a.OS?"bold":Object(s.F)()?"400":"600"};t.k=function(e){return a.a.create({prdAll:{width:"100%"},prdAllPc:{},noMarginBottom:{marginBottom:0},prdArea:{paddingLeft:16,paddingRight:16},prdAreaPad:{paddingLeft:24,paddingRight:24},prdAreaPc:{paddingLeft:0,paddingRight:0},WaterfallMainStyle:{marginTop:-8},moreBottomWrap:{display:"flex",marginLeft:24,marginRight:24,alignItems:"center",justifyContent:"center"},moreBottom:u(u(u({},e.T7),e.C13),{},{textAlign:"center",display:"flex",flexDirection:"row",lineHeight:24,alignItems:"center",justifyContent:"center",maxWidth:"100%",paddingTop:15,paddingBottom:14}),nodata:{alignItems:"center",justifyContent:"center",height:48,fontSize:e.T7.fontSize},nodataTxt:{color:e.C13.color+e.opacityMap[e.C13.opacity]},touchView:{flexDirection:"row"},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},loadingWrap:{justifyContent:"center",alignItems:"center",flexDirection:"row"},load:{margin:"auto",position:"absolute",top:80,width:"100%"}})};var p=function(e){return{stockBoxViewPad:{width:40,height:40,borderRadius:40,top:16,right:16},stockBoxPad:u(u({},e.T3),{},{transform:[{scale:1}],paddingTop:1}),prdContPad:{paddingTop:20,paddingBottom:24},prdContPadH:{paddingBottom:20},prdTagPad:{marginRight:4,paddingLeft:4,paddingRight:4,height:16},prdTagApkOrIosPad:{height:16,marginRight:4,paddingLeft:4,paddingRight:4},prdTagTextPad:u(u({},e.T3),{},{lineHeight:16}),prdTagApkOrIosTextPad:u(u({},e.T3),{},{height:16,lineHeight:16}),prdNamePad:u(u(u({},e.T11),e.C11),{},{fontWeight:"web"===i.a.OS?"bold":"600",lineHeight:Object(s.F)()?22:24}),promNamePad:u(u({},e.T9),{},{marginTop:8,lineHeight:Object(s.F)()?16:e.T9.lineHeight}),promNamePadH:{marginTop:4},priceBoxPad:{height:32,paddingTop:0},priceMarkPad:u(u({},e.T10),{},{lineHeight:28,paddingTop:2}),newPricePad:{fontSize:e.T13.fontSize,lineHeight:32},oldPricePad:{fontSize:e.T7.fontSize,paddingTop:0},priceQiPad:{fontSize:e.T10.fontSize,lineHeight:28,paddingTop:2},promTagBoxPad:{height:16,marginTop:8},promTagTextPad:u(u({marginRight:4},e.T3),{},{height:16,lineHeight:15}),reviewNum:u(u(u({},e.T1),e.C14),{},{marginRight:8,marginTop:4}),reviewNumPad:u(u({},e.T7),{},{marginTop:8,lineHeight:Object(s.F)()?12:e.T7.lineHeight}),reviewRatePad:u(u({},e.T7),{},{marginTop:8,lineHeight:Object(s.F)()?12:e.T7.lineHeight})}},f=function(e){return a.a.create(u({},p(e)))},h=function(e){return a.a.create(u(u({},p(e)),{},{priceAndBtnAreaPad:{marginTop:8},priceBoxOverflowPad:{height:"auto",flexWrap:"wrap"},priceMarkOverflowPadH:{paddingTop:1,lineHeight:21},newPriceOverflowPad:{},newPriceOverflowPadH:{fontSize:22,height:26,lineHeight:26},oldPriceOverflowPadH:{paddingTop:0},priceQiOverflowPadH:u(u({},e.T8),{},{paddingTop:0}),btnPad:u(u({},e.T8),{},{height:32,lineHeight:32,borderRadius:16,paddingLeft:20,paddingRight:20,minWidth:96,maxWidth:110})}))},g=function(e){return{stockBoxViewPad:{width:40,height:40,borderRadius:40,top:16,right:16},stockBoxPad:u(u({},e.T3),{},{transform:[{scale:1}],paddingTop:1}),imgPad:{width:l.a.isApp()?"80%":"83.56%",height:l.a.isApp()?"80%":"83.56%"},imgPadH:{width:l.a.isApp()?"75%":"82.33%",height:l.a.isApp()?"75%":"82.33%"},prdContPad:{paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:16},prdContTopPad:{height:70},prdContTopNoPromotionPad:{height:48},prdTagPad:{marginRight:4,paddingLeft:4,paddingRight:4,height:16},prdTagApkOrIosPad:{height:16,marginRight:4,paddingLeft:4,paddingRight:4},prdTagTextPad:u(u({},e.T3),{},{lineHeight:16}),prdTagApkOrIosTextPad:u(u({},e.T3),{},{height:16,lineHeight:16}),prdNamePad:u(u(u(u({},e.T11),e.C11),d),{},{height:48,lineHeight:Object(s.F)()?22:24}),promNamePad:u(u({},e.T9),{},{marginTop:0,height:Object(s.F)()?22:21,lineHeight:Object(s.F)()?16:21}),prdNameBtTextHPad:{height:Object(s.F)()?22:21},priceBoxPad:{height:26,paddingTop:0,marginTop:8},priceMarkPad:u(u({},e.T10),{},{lineHeight:24,paddingTop:2}),priceMarkApkOrIosPad:{paddingTop:1},newPricePad:u(u({},e.T12),{},{height:26}),newPriceApkOrIosPad:{lineHeight:26},oldPricePad:{fontSize:e.T7.fontSize},priceQiPad:{fontSize:e.T10.fontSize,lineHeight:20},promTagBoxPad:{marginBottom:0},promTagTextPad:u(u({marginRight:4},e.T3),{},{height:16,lineHeight:15}),promTagsAreaHPad:{height:16,marginTop:6},reviewAreaHPad:{height:26},reviewNum:u(u(u({},e.T1),e.C14),{},{marginRight:8,marginTop:4}),reviewNumPad:u(u({},e.T7),{},{marginTop:12,lineHeight:Object(s.F)()?12:16}),reviewRatePad:u(u({},e.T7),{},{marginTop:12,lineHeight:Object(s.F)()?12:16})}},m=function(e){return a.a.create(u({},g(e)))},y=function(e){return a.a.create({img:{width:"76.92%",height:"76.92%"},imgPc:{width:"76.92%",height:"76.92%"},imgPad:{width:"73.95%",height:"73.95%"},imgPadH:{width:"76.17%",height:"76.17%"},stockBoxViewPad:{width:40,height:40,borderRadius:40,top:16,right:16},stockBoxPad:u(u({},e.T3),{},{transform:[{scale:1}],paddingTop:1}),promInfoTxtSmall:u(u({},e.T0),{},{lineHeight:14,height:14}),prdCont:{paddingTop:4,paddingLeft:8,paddingRight:8,paddingBottom:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,textAlign:"ios"===i.a.OS?"left":"center"},prdContTop:{height:50},prdContPad:{paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:16},prdContPc:{paddingTop:8,paddingLeft:24,paddingRight:24},prdContPcSpecialStyle:{paddingBottom:27},prdTagText:u(u(u({},e.C17),e.T0),{},{height:13,lineHeight:13}),prdTagPad:{marginRight:4,paddingLeft:4,paddingRight:4,height:16},prdTagApkOrIosPad:{height:16,marginRight:4,paddingLeft:4,paddingRight:4},prdTagTextPad:u(u({},e.T3),{},{lineHeight:16}),prdTagApkOrIosTextPad:u(u({},e.T3),{},{height:16,lineHeight:16}),prdName:u(u(u(u({},e.T3),e.C12),d),{},{textAlign:"ios"===i.a.OS?"left":"center",height:32}),prdNamePad:u(u(u(u({},e.T10),e.C11),d),{},{height:42,lineHeight:Object(s.F)()?20:21}),prdNamePc:u(u(u({},e.T8),e.C11),{},{textAlign:"center",position:"relative",fontWeight:"600",height:"auto"}),prdNameBtTextHPcNoReview:{height:18,marginTop:4},promName:u(u(u({},e.T3),e.C14),{},{marginTop:2,textAlign:"ios"===i.a.OS?"left":"center"}),promNamePad:u(u(u({},e.T7),e.C13),{},{marginTop:4,height:Object(s.F)()?20:19,lineHeight:Object(s.F)()?15:19}),prdNameBtTextHPad:{height:Object(s.F)()?22:21},promNamePc:u({},e.T5),prdContTopNoPromotion:{height:32},priceBox:{justifyContent:"ios"===i.a.OS?"flex-start":"center",alignItems:"center",flexDirection:"row",height:16,lineHeight:Object(s.F)()?12:16,marginTop:4,width:"110%",maxWidth:"110%",position:"relative",left:"-4.5%",textAlign:"ios"===i.a.OS?"left":"center"},priceBoxNormal:{width:"100%",maxWidth:"100%",left:0},priceBoxPad:{height:21,marginTop:8},priceBoxPc:{marginTop:10,height:21,width:"100%",maxWidth:"100%",left:0},priceBoxPcMg:{marginTop:10},priceMark:u(u({marginRight:0,color:e.C18.color},e.T4),{},{fontWeight:"600",lineHeight:16}),priceMarkPad:u({},e.T10),priceMarkPc:{marginRight:0,color:e.C18.color,fontSize:e.T10.fontSize,fontWeight:"400"},newPrice:u(u({},e.C18),{},{fontSize:e.T5.fontSize,fontWeight:"600",lineHeight:16,marginRight:2}),newPricePad:u({},e.T10),newPricePc:{fontWeight:"500",fontSize:e.T10.fontSize,marginRight:8,lineHeight:24},newPriceApkOrIos:{overflow:"visible"},oldPrice:{textDecorationLine:"line-through",fontSize:e.T0.fontSize,color:e.C14.color+e.opacityMap[e.C14.opacity],position:"relative",bottom:"web"===i.a.OS?1:.6},oldPricePad:u({},e.T3),priceQi:u(u({marginLeft:-2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"web"===i.a.OS?"bold":"600",lineHeight:16}),priceQiPad:u({},e.T10),promTagBox:{justifyContent:"ios"===i.a.OS?"flex-start":"center",flexDirection:"row",flexWrap:"wrap",overflow:"hidden",marginTop:8,marginBottom:0,height:l.a.isQQWap()?15:14},promTagBoxPad:{height:16,marginTop:6,marginBottom:0},promTagText:u(u(u({},e.T0),e.C18),{},{borderWidth:.5,borderColor:e.S15.borderColor,borderStyle:"solid",borderRadius:4,marginRight:2,paddingLeft:4,paddingRight:4,height:14,lineHeight:13.5,textAlign:"center",textAlignVertical:"center",paddingTop:0,maxWidth:136,alignSelf:"flex-start"}),promTagTextPad:u(u({marginRight:4},e.T3),{},{height:16,lineHeight:15}),promTagsAreaH:{height:l.a.isQQWap()?15:14,marginTop:4},promTagsAreaHPad:{height:16,marginTop:6}})},v=function(e){return{stockBoxViewPad:{width:40,height:40,borderRadius:40,top:16,right:16},stockBoxPad:u(u({},e.T3),{},{transform:[{scale:1}],paddingTop:1}),imgPc:{width:"62%",height:"71%"},prdContPc:{textAlign:"center",paddingTop:8,paddingBottom:0,paddingLeft:24,paddingRight:24},newPricePc:{fontWeight:"400",marginRight:8},oldPricePc:{fontSize:e.T5.fontSize},promTagsAreaHPc:{height:16,marginTop:2}}},b=function(e){return a.a.create(u(u({},v(e)),{},{priceBoxPc:{justifyContent:"center",lineHeight:21,height:19,marginTop:10,paddingTop:0,paddingBottom:2}}))},w=function(e){return a.a.create(u(u({},v(e)),{},{priceBoxPc:{justifyContent:"center",lineHeight:21,height:19,marginTop:10,paddingTop:0,paddingBottom:2}},g(e)))},S=function(e){return a.a.create(u(u({},g(e)),{},{prdBox:u(u({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8,marginTop:8})}))},C=function(e){return a.a.create(u(u({},g(e)),{},{prdBox:u(u({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8,marginTop:12})}))},O=function(e){return a.a.create({titleIconPad:{width:18,height:18},titleTextPad:u({},e.T10),prdNamePad:u({},e.T8)})}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r,o=n(5),i=n.n(o),a=n(6),l=n.n(a),s=n(2),c=n.n(s),u=n(8),d=n.n(u),p=n(7),f=n.n(p),h=n(4),g=n.n(h),m=n(1),y=n.n(m),v=n(0),b=n.n(v),w=n(54),S=n(43),C=n(37),O=n(157),P=n(152),T=n(658),x=n(270),I=n(31),k=n(57),E=n(32),j=n(30);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var L,_,D,N=Object(E.c)(r=function(e){d()(n,e);var t=R(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=j.a.darkBool;return b.a.createElement(I.Fade,{style:[W.style,e?W.darkStyle:W.normalStyle]},this.props.children)}}]),n}(b.a.PureComponent))||r,W=k.a.create({style:{opacity:1},darkStyle:{backgroundColor:"#9c9c9c"},normalStyle:{backgroundColor:"#e0e0e0"}}),A=n(102),B=n(48),M=n(432),F=n(40),H=n(1732),z=n(1731),U=n(1733),V="web"===C.a.OS,G=0,Y=0,J=w.a.get("window").width,K=Object(F.a)(J);"large"===K?(G=24,Y=0,L=594,_=520,D=254):"medium"===K?(G=8,Y=24,L="48%",_=360,D="48%"):(G=8,Y=16,L="48%",_=360,D="48%");var q,Q,$,X,Z,ee=k.a.create({viewStyle:{paddingLeft:Y,paddingRight:Y,backgroundColor:"#f6f6f6"},menu:{height:74,flexDirection:"row",display:V?"flex":"none"},menuLeft:{width:140,height:40,marginTop:17,marginRight:60},menuCenter:{width:50,height:28,marginTop:22,marginLeft:20,display:"large"===K?"flex":"none"},menuRight:{width:120,height:28,marginTop:22},swiper:{width:"100%",height:"large"===K?534:168,marginTop:"large"===K?0:G},grid:{width:"100%",flexDirection:"row",height:95,marginTop:G,justifyContent:"space-around",alignItems:"center"},gridContent:{width:60,height:60},mixinLayout:{marginTop:G,flexDirection:"row",height:_,justifyContent:"space-between"},mixinLeft:{width:L,height:_},mixinRight:{width:L,height:_},mixinTwo:{width:"100%",height:D},mixinThree:{width:"100%",height:D,marginTop:12},childrenTab:{height:64,flexDirection:"row"},childrenTabLeft:{width:96,height:32,marginTop:16},childrenTabCenter:{width:30,height:20,marginTop:22,marginLeft:40},product:{},productContent:{width:"100%",height:"large"===K?360:200}}),te=function(e){return k.a.create({loadPageImg:{width:72,height:72},loadPageText:{fontSize:14,color:e.C13.color+"99"}})},ne="web"===C.a.OS,re=0,oe=0,ie=w.a.get("window").width,ae=Object(F.a)(ie);"large"===ae?(re=24,oe=0,q=594,Q=520,$=254,X=70,Z=70):"medium"===ae?(re=8,oe=24,q="32%",Q=288,X=65,Z=65,$="48%"):(re=12,oe=16,q="48.7%",Q=240,X="18%",Z=50,$="48%");var le=k.a.create({viewStyle:{paddingLeft:oe,paddingRight:oe,backgroundColor:"#f6f6f6"},flexLayout:{flexDirection:"row",justifyContent:"space-between"},menu:{height:74,flexDirection:"row",display:ne?"flex":"none",justifyContent:"space-between"},menuLeft:{width:"large"===ae?204:80,height:34,marginTop:20,marginRight:70},menuCenter:{width:50,height:24,marginTop:25,marginRight:40,display:"large"===ae?"flex":"none",flexDirection:"row",justifyContent:"space-between"},menuRight:{width:28,height:28,marginTop:23,marginLeft:"large"===ae?94:0},swiper:{width:"100%",height:"large"===ae?534:168,marginTop:"large"===ae?0:re},swiperPad:{width:"49%",height:168},grid:{width:"100%",flexDirection:"row",marginTop:"large"===ae?re:30,justifyContent:"space-around",flexWrap:"large"===ae?"nowrap":"wrap"},gridContent:{width:X,height:Z,marginBottom:16},ads:{width:"100%",height:"large"===ae?195:40,flexDirection:"row",justifyContent:"space-around",marginBottom:"large"===ae?39:26},adsContent:{width:"large"===ae?290:"100%",height:"large"===ae?194:40},title:{width:48,height:34},limit:{width:"100%",height:22,flexDirection:"row",justifyContent:"space-between"},limitLeft:{width:141,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},limitRight:{width:40,height:22},limitTitle:{width:48,height:22},limitTime:{width:84,height:16,borderRadius:7.62},content:{marginTop:8,marginRight:-76},limitContent:{width:"small"===ae?"19%":"12%",height:99},titleContent:{width:290,height:387,marginTop:15},thirdFloor:{marginTop:16},thirdTitle:{width:152,height:24},mixinLayout:{marginTop:re,flexDirection:"row",height:Q,justifyContent:"space-between"},mixinLeft:{width:q,height:Q},mixinRight:{width:q,height:Q},mixinBottom:{width:q,height:116},mixinTwo:{width:"100%",height:$},mixinThree:{width:"100%",height:$,marginTop:12},mixinThird:{height:116,marginRight:8},childrenTab:{height:64,flexDirection:"row",alignItems:"center"},childrenTabLeft:{width:96,height:34},childrenTabRight:{width:80,height:20},childrenTabCenter:{width:72,height:24,marginLeft:40},mixinTwoLayout:{height:624},mixinTwoLeft:{height:624,width:"19.2%",marginRight:12},mixinTwoRight:{height:624,flex:1,flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap"},productContent:{width:"24.1%",height:306,marginBottom:12},adsTwo:{width:"100%",height:120,marginTop:24},mixinThreeLayout:{height:306},mixinThreeLeft:{width:"39.3%",height:624,flexDirection:"column",justifyContent:"space-between",marginRight:12},mixinThreeTop:{width:"100%",height:306},mixinThreeBottom:{flex:1,marginTop:12,flexDirection:"row",justifyContent:"space-between"},mixinOneBottom:{width:"48.9%",height:306},mixinRightThree:{width:"32.2%",height:306},subContent:{width:56,height:40},subProContent:{width:"100%",flexDirection:"row",justifyContent:"space-between"},subProOne:{width:"small"===ae?"48%":"24%"},subProTwo:{width:"small"===ae?"48%":"24%"},subProThree:{width:"24%"},subProFour:{width:"24%"},oneContent:{width:"100%",height:277,marginTop:8},twoContent:{width:"100%",height:259,marginTop:8},threeContent:{width:"100%",height:240,marginTop:8},fourContent:{width:"100%",height:207,marginTop:8}});function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var ce=w.a.get("window").width,ue=function(e){d()(n,e);var t=se(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e,t,n,r=this.props,o=r.isLoading,i=r.pageType,a=Object(F.a)(ce);"large"===a?(e=le,t=6):"medium"===a?(e=le,t=7,n=8):(e=le,t=10,n=5);var l=function(e,t){for(var n=[],r=0;r<e;r++)n.push(b.a.createElement(I.PlaceholderMedia,{style:t,key:r}));return n},s=function(){return b.a.createElement(I.PlaceholderMedia,{style:e.childrenTabLeft})},c=function(){return b.a.createElement(I.PlaceholderMedia,{style:e.childrenTabRight})};return o&&0===i&&b.a.createElement(S.a,{style:{zIndex:3333}},b.a.createElement(x.a,{style:e.viewStyle,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},b.a.createElement(z.a,null,b.a.createElement(I.Placeholder,{Animation:I.Fade,Left:function(){return b.a.createElement(I.PlaceholderMedia,{style:e.menuLeft})},Right:function(){return b.a.createElement(I.PlaceholderMedia,{style:e.menuRight})},style:e.menu},b.a.createElement(S.a,{style:e.menu},l(7,e.menuCenter))),b.a.createElement(I.Placeholder,{Animation:I.Fade},"medium"===a?b.a.createElement(S.a,{style:[e.swiper,e.flexLayout]},l(2,e.swiperPad)):b.a.createElement(I.PlaceholderMedia,{style:e.swiper})),b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:e.grid},l(t,e.gridContent))),"large"===a?b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:e.ads},l(4,e.adsContent))):b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:e.ads},l(1,e.adsContent))),"large"===a?b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(I.PlaceholderMedia,{style:e.title}),b.a.createElement(S.a,{style:[e.flexLayout]},l(4,e.titleContent))):b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:e.limit},b.a.createElement(S.a,{style:e.limitLeft},b.a.createElement(I.PlaceholderMedia,{style:e.limitTitle}),b.a.createElement(I.PlaceholderMedia,{style:e.limitTime})),b.a.createElement(I.PlaceholderMedia,{style:e.limitRight})),b.a.createElement(S.a,{style:[e.content,e.flexLayout]},l(n,e.limitContent))),"large"!=a&&b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:[e.limit,e.thirdFloor]},b.a.createElement(S.a,{style:e.limitLeft},b.a.createElement(I.PlaceholderMedia,{style:e.thirdTitle})),b.a.createElement(I.PlaceholderMedia,{style:e.limitRight})),b.a.createElement(S.a,{style:e.mixinLayout},b.a.createElement(I.PlaceholderMedia,{style:e.mixinLeft}),"medium"===a&&b.a.createElement(S.a,{style:e.mixinRight},b.a.createElement(I.PlaceholderMedia,{style:e.mixinTwo}),b.a.createElement(I.PlaceholderMedia,{style:e.mixinThree})),b.a.createElement(S.a,{style:e.mixinRight},b.a.createElement(I.PlaceholderMedia,{style:e.mixinTwo}),b.a.createElement(I.PlaceholderMedia,{style:e.mixinThree}))),"small"===a&&b.a.createElement(S.a,{style:[e.mixinBottom,e.flexLayout]},b.a.createElement(I.PlaceholderMedia,{style:[e.mixinThree,e.mixinThird]}),b.a.createElement(I.PlaceholderMedia,{style:[e.mixinThree,e.mixinThird]}))),"large"===a&&b.a.createElement(S.a,null,b.a.createElement(I.Placeholder,{Animation:I.Fade,Left:s,Right:c,style:e.childrenTab},b.a.createElement(S.a,{style:e.childrenTab},l(3,e.childrenTabCenter))),b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:[e.mixinLayout,e.mixinTwoLayout]},b.a.createElement(I.PlaceholderMedia,{style:[e.mixinLeft,e.mixinTwoLeft]}),b.a.createElement(S.a,{style:[e.mixinTwoRight]},l(8,e.productContent))),b.a.createElement(S.a,null,b.a.createElement(I.PlaceholderMedia,{style:[e.adsTwo]}))),b.a.createElement(I.Placeholder,{Animation:I.Fade,Left:s,Right:c,style:e.childrenTab},b.a.createElement(S.a,{style:e.childrenTab},l(6,e.childrenTabCenter))),b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:[e.flexLayout]},b.a.createElement(S.a,{style:[e.mixinThreeLeft]},b.a.createElement(I.PlaceholderMedia,{style:[e.mixinThreeTop]}),b.a.createElement(S.a,{style:[e.mixinThreeBottom]},l(2,e.mixinOneBottom))),b.a.createElement(S.a,{style:[e.mixinTwoRight]},l(6,e.mixinRightThree))))),"medium"===a&&b.a.createElement(S.a,null,b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:[e.flexLayout,{marginTop:17}]},l(6,e.subContent))),b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:e.subProContent},b.a.createElement(S.a,{style:[e.subProOne]},l(2,e.oneContent)),b.a.createElement(S.a,{style:[e.subProTwo]},l(2,e.twoContent)),b.a.createElement(S.a,{style:[e.subProThree]},l(2,e.threeContent)),b.a.createElement(S.a,{style:[e.subProFour]},l(2,e.fourContent))))),"small"===a&&b.a.createElement(S.a,{style:{marginTop:16}},b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:[e.flexLayout,{marginTop:16}]},l(4,e.subContent))),b.a.createElement(I.Placeholder,{Animation:I.Fade},b.a.createElement(S.a,{style:e.subProContent},b.a.createElement(S.a,{style:[e.subProOne]},l(3,e.oneContent)),b.a.createElement(S.a,{style:[e.subProTwo]},l(3,e.twoContent))))))))}}]),n}(b.a.Component);y()(ue,"defaultProps",{isLoading:!0,pageType:0});var de,pe,fe=ue,he=n(19),ge=n(24);function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var ye=w.a.get("window").width,ve=I.Fade,be=Object(E.c)((pe=function(e){d()(n,e);var t=me(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),y()(c()(e),"loadLoading",(function(){var t=e.props,n=t.showBg,r=t.showText,o=t.height;return b.a.createElement(A.b,{themeStyles:te},(function(e,t){return b.a.createElement(S.a,{style:[{justifyContent:"center",alignItems:"center"},n&&{backgroundColor:t.C32.color},"web"===C.a.OS&&{flexGrow:1,height:o},B.a.isApp()&&{flex:1}]},"ios"===C.a.OS?b.a.createElement(ge.a,{localSource:j.a.darkBool?he.a.loading_dark:he.a.loading,imgStyle:e.loadPageImg}):b.a.createElement(O.a,{source:j.a.darkBool?he.a.loading_dark:he.a.loading,style:e.loadPageImg}),r?b.a.createElement(P.a,{style:[e.loadPageText]},Object(M.b)("loading")):b.a.createElement(b.a.Fragment,null))}))})),y()(c()(e),"showHarmonyPlaceHolder",(function(){return!B.a.isPc(ye)&&("web"!==C.a.OS||"HarmonyOS_FA"!==navigator.userAgent)})),e}return l()(n,[{key:"render",value:function(){var e=Object(F.a)(ye);if(this.showHarmonyPlaceHolder())return this.loadLoading();var t=this.props,n=t.isLoading,r=t.pageType;"android"===C.a.OS&&(ve=this.props.Fade?I.Fade:N);var o,i=j.a.darkBool;o=ee;var a=function(e,t){for(var n=[],r=0;r<e;r++)n.push(b.a.createElement(I.PlaceholderMedia,{color:"",style:t,key:r}));return n};return n&&0===r?b.a.createElement(T.a,null,b.a.createElement(x.a,{style:[o.viewStyle,{backgroundColor:i?"transparent":"#f1f3f5"}],showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},b.a.createElement(z.a,null,b.a.createElement(I.Placeholder,{Animation:ve,Left:function(){return b.a.createElement(I.PlaceholderMedia,{color:"",style:o.menuLeft})},Right:function(){return b.a.createElement(I.PlaceholderMedia,{color:"",style:o.menuRight})},style:o.menu},b.a.createElement(S.a,{style:o.menu},a(7,o.menuCenter))),b.a.createElement(I.Placeholder,{Animation:ve},b.a.createElement(I.PlaceholderMedia,{color:"",style:o.swiper})),b.a.createElement(I.Placeholder,{Animation:ve},b.a.createElement(S.a,{style:o.grid},a("large"===e?8:4,o.gridContent))),b.a.createElement(I.Placeholder,{Animation:ve},b.a.createElement(S.a,{style:o.mixinLayout},b.a.createElement(I.PlaceholderMedia,{color:"",style:o.mixinLeft}),b.a.createElement(S.a,{style:o.mixinRight},b.a.createElement(I.PlaceholderMedia,{color:"",style:o.mixinTwo}),b.a.createElement(I.PlaceholderMedia,{color:"",style:o.mixinThree})))),b.a.createElement(I.Placeholder,{Animation:ve,Left:function(){return b.a.createElement(I.PlaceholderMedia,{color:"",style:o.childrenTabLeft})},style:o.childrenTab},b.a.createElement(S.a,{style:o.childrenTab},a(3,o.childrenTabCenter))),b.a.createElement(I.Placeholder,{Animation:ve},b.a.createElement(U.a,{size:12},function(e,t){for(var n=[],r=0;r<e;r++)n.push(b.a.createElement(H.a,{sm:6,md:3,lg:3,key:r},b.a.createElement(I.PlaceholderMedia,{color:"",style:t})));return n}(12,o.productContent)))))):b.a.createElement(fe,null)}}]),n}(b.a.Component),y()(pe,"defaultProps",{isLoading:!0,pageType:0,showBg:!0,showText:!0,height:w.a.get("window").height}),de=pe))||de;t.a=be},,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return pe})),n.d(t,"a",(function(){return he}));var r=n(6),o=n.n(r),i=n(5),a=n.n(i),l=o()((function e(){a()(this,e)})),s=n(8),c=n.n(s),u=n(7),d=n.n(u),p=n(4),f=n.n(p),h=n(1),g=n.n(h),m=n(82);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var v=function(){function e(t,n){a()(this,e),g()(this,"rowHasChanged",void 0),g()(this,"getStableId",void 0),g()(this,"_firstIndexToProcess",0),g()(this,"_size",0),g()(this,"_data",[]),g()(this,"_hasStableIds",!1),g()(this,"_requiresDataChangeHandling",!1),this.rowHasChanged=t,n?(this.getStableId=n,this._hasStableIds=!0):this.getStableId=function(e){return e.toString()}}return o()(e,[{key:"getDataForIndex",value:function(e){return this._data[e]}},{key:"getAllData",value:function(){return this._data}},{key:"getSize",value:function(){return this._size}},{key:"hasStableIds",value:function(){return this._hasStableIds}},{key:"requiresDataChangeHandling",value:function(){return this._requiresDataChangeHandling}},{key:"getFirstIndexToProcessInternal",value:function(){return this._firstIndexToProcess}},{key:"cloneWithRows",value:function(e,t){var n=this.newInstance(this.rowHasChanged,this.getStableId),r=e.length,o=Math.min(this._size,r);if(m.ObjectUtil.isNullOrUndefined(t)){var i=0;for(i=0;i<o&&!this.rowHasChanged(this._data[i],e[i]);i++);n._firstIndexToProcess=i}else n._firstIndexToProcess=Math.max(Math.min(t,this._data.length),0);return n._firstIndexToProcess!==this._data.length&&(n._requiresDataChangeHandling=!0),n._data=e,n._size=r,n}}]),e}(),b=function(e){c()(n,e);var t=y(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n,[{key:"newInstance",value:function(e,t){return new n(e,t)}}]),n}(v),w=n(2),S=n.n(w),C=n(429);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var P=function(e){c()(n,e);var t=O(n);function n(e){var r;return a()(this,n),(r=t.call(this,e.message)).name=e.type,r}return o()(n)}(n.n(C)()(Error));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var x=function(e){c()(n,e);var t=T(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3?arguments[3]:void 0;return a()(this,n),o=t.call(this),g()(S()(o),"_layoutProvider",void 0),g()(S()(o),"_window",void 0),g()(S()(o),"_totalHeight",void 0),g()(S()(o),"_totalWidth",void 0),g()(S()(o),"_isHorizontal",void 0),g()(S()(o),"_layouts",void 0),o._layoutProvider=e,o._window=r,o._totalHeight=0,o._totalWidth=0,o._isHorizontal=!!i,o._layouts=l||[],o}return o()(n,[{key:"getContentDimension",value:function(){return{height:this._totalHeight,width:this._totalWidth}}},{key:"getLayouts",value:function(){return this._layouts}},{key:"getOffsetForIndex",value:function(e){if(this._layouts.length>e)return{x:this._layouts[e].x,y:this._layouts[e].y};throw new P({message:"No layout available for index: "+e,type:"LayoutUnavailableException"})}},{key:"overrideLayout",value:function(e,t){var n=this._layouts[e];return n&&(n.isOverridden=!0,n.width=t.width,n.height=t.height),!0}},{key:"setMaxBounds",value:function(e){this._isHorizontal?e.height=Math.min(this._window.height,e.height):e.width=Math.min(this._window.width,e.width)}},{key:"relayoutFromIndex",value:function(e,t){e=this._locateFirstNeighbourIndex(e);var n=0,r=0,o=0,i=this._layouts[e];i&&(n=i.x,r=i.y,this._pointDimensionsToRect(i));for(var a=this._layouts.length,l={height:0,width:0},s=null,c=null,u=e;u<t;u++){c=this._layouts[u];var d=this._layoutProvider.getLayoutTypeForIndex(u);for(c&&c.isOverridden?(l.height=c.height,l.width=c.width):this._layoutProvider.setComputedLayout(d,l,u),this.setMaxBounds(l);!this._checkBounds(n,r,l,this._isHorizontal);)this._isHorizontal?(n+=o,r=0,this._totalWidth+=o):(n=0,r+=o,this._totalHeight+=o),o=0;o=this._isHorizontal?Math.max(o,l.width):Math.max(o,l.height),u>a-1?this._layouts.push({x:n,y:r,height:l.height,width:l.width}):((s=this._layouts[u]).x=n,s.y=r,s.width=l.width,s.height=l.height),this._isHorizontal?r+=l.height:n+=l.width}a>t&&this._layouts.splice(t,a-t),this._setFinalDimensions(o)}},{key:"_pointDimensionsToRect",value:function(e){this._isHorizontal?this._totalWidth=e.x:this._totalHeight=e.y}},{key:"_setFinalDimensions",value:function(e){this._isHorizontal?(this._totalHeight=this._window.height,this._totalWidth+=e):(this._totalWidth=this._window.width,this._totalHeight+=e)}},{key:"_locateFirstNeighbourIndex",value:function(e){if(0===e)return 0;for(var t=e-1;t>=0;t--)if(this._isHorizontal){if(0===this._layouts[t].y)break}else if(0===this._layouts[t].x)break;return t}},{key:"_checkBounds",value:function(e,t,n,r){return r?t+n.height<=this._window.height:e+n.width<=this._window.width}}]),n}(function(){function e(){a()(this,e)}return o()(e,[{key:"getOffsetForIndex",value:function(e){var t=this.getLayouts();if(t.length>e)return{x:t[e].x,y:t[e].y};throw new P({message:"No layout available for index: "+e,type:"LayoutUnavailableException"})}},{key:"getStyleOverridesForIndex",value:function(e){}}]),e}());function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var k=function(e){c()(n,e);var t=I(n);function n(e,r){var o;return a()(this,n),o=t.call(this),g()(S()(o),"_getLayoutTypeForIndex",void 0),g()(S()(o),"_setLayoutForType",void 0),g()(S()(o),"_tempDim",void 0),g()(S()(o),"_lastLayoutManager",void 0),o._getLayoutTypeForIndex=e,o._setLayoutForType=r,o._tempDim={height:0,width:0},o}return o()(n,[{key:"newLayoutManager",value:function(e,t,n){return this._lastLayoutManager=new x(this,e,t,n),this._lastLayoutManager}},{key:"getLayoutTypeForIndex",value:function(e){return this._getLayoutTypeForIndex(e)}},{key:"setComputedLayout",value:function(e,t,n){return this._setLayoutForType(e,t,n)}},{key:"checkDimensionDiscrepancy",value:function(e,t,n){var r=e;this.setComputedLayout(t,this._tempDim,n);var o=this._tempDim;return this._lastLayoutManager&&this._lastLayoutManager.setMaxBounds(o),r.height!==o.height||r.width!==o.width}}]),n}(o()((function e(){a()(this,e),g()(this,"shouldRefreshWithAnchoring",!0)}))),E=n(221),j=n.n(E);var R=n(15),L=n.n(R),_=n(28),D=n(0),N={initializationException:{message:"Parameters required for initializing the module are missing",type:"Initialization essentials missing"},itemBoundsException:{message:"Dimensions cannot be undefined or null, check if LayoutProvider returns irregular values",type:"ItemBoundsException"},itemTypeNullException:{message:"RecyclerListView items always require a type, check if LayoutProvider returns irregular values",type:"ItemTypeNullException"},layoutException:{message:"RecyclerListView needs to have a bounded size. Currently height or, width is 0.Consider adding style={{flex:1}} or, fixed dimensions",type:"LayoutException"},platformNotDetectedException:{message:"Unable to detect the running platform, if you're trying to run recyclerlistview in browser make sure process.env.RLV_ENV is set to browser in webpack config",type:"PlatformNotDetectedException"},unresolvedDependenciesException:{message:"missing datasource or layout provider, cannot proceed without it",type:"UnresolvedDependenciesException"},refNotAsFunctionException:{message:"When using StickyContainer, RecyclerListView needs to use ref as a function and not as a string.",type:"RefNotAsFunctionException"},wrongStickyChildTypeException:{message:"StickyContainer can only have a single child of type RecyclerListView.",type:"WrongStickyChildTypeException"},usingOldVisibleIndexesChangedParam:{message:"onVisibleIndexesChanged has been deprecated. Please use onVisibleIndicesChanged instead.",type:"usingOldVisibleIndexesChangedParam"},stickyIndicesArraySortError:{message:"The sticky indices array passed to StickyContainer isn't sorted in ascending order.",type:"stickyIndicesArraySortError"}},W=function(){function e(t,n,r,o,i){var l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0;a()(this,e),g()(this,"_layoutProvider",void 0),g()(this,"_window",void 0),g()(this,"_totalHeight",void 0),g()(this,"_totalWidth",void 0),g()(this,"_layouts",void 0),g()(this,"_isHorizontal",void 0),g()(this,"_columnCount",void 0),g()(this,"_gutter",void 0),g()(this,"_pageGutter",void 0),this._columnCount=t,this._gutter=n,this._pageGutter=r,this._layoutProvider=o,this._window=i,this._totalHeight=0,this._totalWidth=0,this._layouts=s||[],this._isHorizontal=l}return o()(e,[{key:"getLayoutDimension",value:function(){return{height:this._totalHeight,width:this._totalWidth}}},{key:"getLayouts",value:function(){return this._layouts}},{key:"getOffsetForIndex",value:function(e){if(this._layouts.length>e)return{x:this._layouts[e].x,y:this._layouts[e].y};throw new P({message:"No layout available for index: "+e,type:"LayoutUnavailableException"})}},{key:"overrideLayout",value:function(e,t){var n=this._layouts[e];n&&(n.isOverridden=!0,n.width=t.width,n.height=t.height)}},{key:"setMaxBounds",value:function(e){this._isHorizontal?e.height=Math.min(this._window.height,e.height):e.width=Math.min(this._window.width,e.width)}},{key:"reLayoutFromIndex",value:function(e,t){for(var n=0,r=0,o={height:0,width:0},i=[],a=[],l=0;l<this._columnCount;l++)a[l]=0;for(var s=function(e){return e.reduce((function(e,t,n,r){return t<r[e]?n:e}),0)},c=(this._isHorizontal?this._window.height:this._window.width-this._gutter*(this._columnCount-1)-2*this._pageGutter)/this._columnCount,u=0;u<t;u++){var d=this._layouts[u];d&&d.isOverridden?(o.height=d.height,o.width=d.width):this._layoutProvider.setComputedLayout(this._layoutProvider.getLayoutTypeForIndex(u),o,u),this.setMaxBounds(o);var p=s(a);r=a[p],n=(c+this._gutter)*p+this._pageGutter,i.push({x:n,y:r,height:o.height,width:o.width}),this._isHorizontal?(a[p]+=o.width,r+c<=this._window.height?r+=c:r=0,n=a[s(a)]):a[p]+=o.height}this._layouts=i;var f=function(){return a.reduce((function(e,t,n,r){return r[e]>t?e:n}),0)};this._isHorizontal?(this._totalHeight=this._window.height,this._totalWidth=a[f()]):(this._totalWidth=this._window.width,this._totalHeight=a[f()])}},{key:"_checkBounds",value:function(e,t,n,r){return r?t+n.height<=this._window.height:e+n.width<=this._window.width}}]),e}(),A="_offset",B="_layouts",M=function(){function e(){a()(this,e),g()(this,"_recyclableObjectMap",void 0),g()(this,"_availabilitySet",void 0),this._recyclableObjectMap={},this._availabilitySet={}}return o()(e,[{key:"putRecycledObject",value:function(e,t){e=this._stringify(e);var n=this._getRelevantSet(e);this._availabilitySet[t]||(n[t]=null,this._availabilitySet[t]=e)}},{key:"getRecycledObject",value:function(e){e=this._stringify(e);var t,n=this._getRelevantSet(e);for(var r in n)if(n.hasOwnProperty(r)){t=r;break}return t&&(delete n[t],delete this._availabilitySet[t]),t}},{key:"removeFromPool",value:function(e){return!!this._availabilitySet[e]&&(delete this._getRelevantSet(this._availabilitySet[e])[e],delete this._availabilitySet[e],!0)}},{key:"clearAll",value:function(){this._recyclableObjectMap={},this._availabilitySet={}}},{key:"_getRelevantSet",value:function(e){var t=this._recyclableObjectMap[e];return t||(t={},this._recyclableObjectMap[e]=t),t}},{key:"_stringify",value:function(e){return"number"==typeof e&&(e=e.toString()),e}}]),e}(),F=n(35),H=n.n(F),z=function(){function e(){a()(this,e)}return o()(e,null,[{key:"findClosestHigherValueIndex",value:function(e,t,n){var r=0,o=e-1,i=Math.floor((r+o)/2),a=0,l=Math.abs(n(i)-t),s=i,c=0,u=0;if(0===l)return s;if(o<0)throw new P({message:"The collection cannot be empty",type:"InvalidStateException"});for(;r<=o;)if(c=(a=n(i=Math.floor((r+o)/2)))-t,u=Math.abs(c),c>=0&&u<l&&(l=u,s=i),t<a)o=i-1;else{if(!(t>a))return i;r=i+1}return s}},{key:"findClosestValueToTarget",value:function(e,t){for(var n=0,r=e.length-1,o=Math.floor((n+r)/2),i=e[o],a=i+1;n<=r&&i!==a&&i!==t;)i<t?n=o:i>t&&(r=o),a=i,i=e[o=Math.floor((n+r)/2)];return{value:i,index:o}}},{key:"findValueSmallerThanTarget",value:function(e,t){var n=e.length-1;if(t>=e[n])return{value:e[n],index:n};if(!(t<e[0])){var r=this.findClosestValueToTarget(e,t),o=r.value,i=r.index;return o<=t?{value:o,index:i}:{value:e[i-1],index:i-1}}}},{key:"findValueLargerThanTarget",value:function(e,t){var n=e.length-1;if(t<e[0])return{value:e[0],index:0};if(!(t>e[n])){var r=this.findClosestValueToTarget(e,t),o=r.value,i=r.index;return o>=t?{value:o,index:i}:{value:e[i+1],index:i+1}}}},{key:"findIndexOf",value:function(e,t){for(var n=0,r=e.length,o=0;n<r;)if(t>e[o=r+n-1>>1])n=o+1;else{if(!(t<e[o]))return o;r=o}return-1}}]),e}(),U=function(){function e(t,n){var r=this;a()(this,e),g()(this,"onVisibleRowsChanged",void 0),g()(this,"onEngagedRowsChanged",void 0),g()(this,"_currentOffset",void 0),g()(this,"_maxOffset",void 0),g()(this,"_renderAheadOffset",void 0),g()(this,"_visibleWindow",void 0),g()(this,"_engagedWindow",void 0),g()(this,"_relevantDim",void 0),g()(this,"_isHorizontal",void 0),g()(this,"_windowBound",void 0),g()(this,"_visibleIndexes",void 0),g()(this,"_engagedIndexes",void 0),g()(this,"_layouts",[]),g()(this,"_actualOffset",void 0),g()(this,"_defaultCorrection",void 0),g()(this,"_valueExtractorForBinarySearch",(function(e){var t=r._layouts[e];return r._setRelevantBounds(t,r._relevantDim),r._relevantDim.end})),this._currentOffset=Math.max(0,n),this._maxOffset=0,this._actualOffset=0,this._renderAheadOffset=t,this._visibleWindow={start:0,end:0},this._engagedWindow={start:0,end:0},this._isHorizontal=!1,this._windowBound=0,this._visibleIndexes=[],this._engagedIndexes=[],this.onVisibleRowsChanged=null,this.onEngagedRowsChanged=null,this._relevantDim={start:0,end:0},this._defaultCorrection={startCorrection:0,endCorrection:0,windowShift:0}}return o()(e,[{key:"init",value:function(e){this._doInitialFit(this._currentOffset,e)}},{key:"setLayouts",value:function(e,t){this._layouts=e,this._maxOffset=t}},{key:"setDimensions",value:function(e,t){this._isHorizontal=t,this._windowBound=t?e.width:e.height}},{key:"forceRefresh",value:function(){var e=this._currentOffset>=this._maxOffset-this._windowBound;return this.forceRefreshWithOffset(this._currentOffset),e}},{key:"forceRefreshWithOffset",value:function(e){this._currentOffset=-1,this.updateOffset(e,!1,this._defaultCorrection)}},{key:"updateOffset",value:function(e,t,n){var r=e;if(t&&(this._actualOffset=e,r=Math.min(this._maxOffset,Math.max(0,e+(n.windowShift+n.startCorrection)))),this._currentOffset!==r){this._currentOffset=r,this._updateTrackingWindows(e,n);var o=0;this._visibleIndexes.length>0&&(o=this._visibleIndexes[0]),this._fitAndUpdate(o)}}},{key:"getLastOffset",value:function(){return this._currentOffset}},{key:"getLastActualOffset",value:function(){return this._actualOffset}},{key:"getEngagedIndexes",value:function(){return this._engagedIndexes}},{key:"findFirstLogicallyVisibleIndex",value:function(){for(var e=this._findFirstVisibleIndexUsingBS(.001),t=e,n=e-1;n>=0;n--)if(this._isHorizontal){if(this._layouts[e].x!==this._layouts[n].x)break;t=n}else{if(this._layouts[e].y!==this._layouts[n].y)break;t=n}return t}},{key:"updateRenderAheadOffset",value:function(e){this._renderAheadOffset=Math.max(0,e),this.forceRefreshWithOffset(this._currentOffset)}},{key:"getCurrentRenderAheadOffset",value:function(){return this._renderAheadOffset}},{key:"setActualOffset",value:function(e){this._actualOffset=e}},{key:"_findFirstVisibleIndexOptimally",value:function(){var e=0;return this._currentOffset>5e3?e=this._findFirstVisibleIndexUsingBS():this._currentOffset>0&&(e=this._findFirstVisibleIndexLinearly()),e}},{key:"_fitAndUpdate",value:function(e){var t=[],n=[];this._fitIndexes(t,n,e,!0),this._fitIndexes(t,n,e+1,!1),this._diffUpdateOriginalIndexesAndRaiseEvents(t,n)}},{key:"_doInitialFit",value:function(e,t){e=Math.min(this._maxOffset,Math.max(0,e)),this._updateTrackingWindows(e,t);var n=this._findFirstVisibleIndexOptimally();this._fitAndUpdate(n)}},{key:"_findFirstVisibleIndexLinearly",value:function(){for(var e=this._layouts.length,t=null,n={start:0,end:0},r=0;r<e;r++)if(t=this._layouts[r],this._setRelevantBounds(t,n),this._itemIntersectsVisibleWindow(n.start,n.end))return r;return 0}},{key:"_findFirstVisibleIndexUsingBS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._layouts.length;return z.findClosestHigherValueIndex(t,this._visibleWindow.start+e,this._valueExtractorForBinarySearch)}},{key:"_fitIndexes",value:function(e,t,n,r){var o=this._layouts.length,i={start:0,end:0},a=0,l=!1;if(n<o)if(r){for(a=n;a>=0;a--)if(this._checkIntersectionAndReport(a,!0,i,e,t))l=!0;else if(l)break}else for(a=n;a<o;a++)if(this._checkIntersectionAndReport(a,!1,i,e,t))l=!0;else if(l)break}},{key:"_checkIntersectionAndReport",value:function(e,t,n,r,o){var i=this._layouts[e],a=!1;return this._setRelevantBounds(i,n),this._itemIntersectsVisibleWindow(n.start,n.end)?(t?(r.splice(0,0,e),o.splice(0,0,e)):(r.push(e),o.push(e)),a=!0):this._itemIntersectsEngagedWindow(n.start,n.end)&&(t?o.splice(0,0,e):o.push(e),a=!0),a}},{key:"_setRelevantBounds",value:function(e,t){this._isHorizontal?(t.end=e.x+e.width,t.start=e.x):(t.end=e.y+e.height,t.start=e.y)}},{key:"_isItemInBounds",value:function(e,t){return e.start<t&&e.end>t}},{key:"_isItemBoundsBeyondWindow",value:function(e,t,n){return e.start>=t&&e.end<=n}},{key:"_isZeroHeightEdgeElement",value:function(e,t,n){return t-n==0&&(e.start===t||e.end===n)}},{key:"_itemIntersectsWindow",value:function(e,t,n){return this._isItemInBounds(e,t)||this._isItemInBounds(e,n)||this._isItemBoundsBeyondWindow(e,t,n)||this._isZeroHeightEdgeElement(e,t,n)}},{key:"_itemIntersectsEngagedWindow",value:function(e,t){return this._itemIntersectsWindow(this._engagedWindow,e,t)}},{key:"_itemIntersectsVisibleWindow",value:function(e,t){return this._itemIntersectsWindow(this._visibleWindow,e,t)}},{key:"_updateTrackingWindows",value:function(e,t){var n=t.windowShift+t.startCorrection,r=t.windowShift+t.endCorrection,o=e+n,i=e+this._windowBound+r;this._engagedWindow.start=Math.max(0,o-this._renderAheadOffset),this._engagedWindow.end=i+this._renderAheadOffset,this._visibleWindow.start=o,this._visibleWindow.end=i}},{key:"_diffUpdateOriginalIndexesAndRaiseEvents",value:function(e,t){this._diffArraysAndCallFunc(e,this._visibleIndexes,this.onVisibleRowsChanged),this._diffArraysAndCallFunc(t,this._engagedIndexes,this.onEngagedRowsChanged),this._visibleIndexes=e,this._engagedIndexes=t}},{key:"_diffArraysAndCallFunc",value:function(e,t,n){if(n){var r=this._calculateArrayDiff(e,t),o=this._calculateArrayDiff(t,e);(r.length>0||o.length>0)&&n(H()(e),r,o)}}},{key:"_calculateArrayDiff",value:function(e,t){for(var n=e.length,r=[],o=0;o<n;o++)-1===z.findIndexOf(t,e[o])&&r.push(e[o]);return r}}]),e}(),V=function(){function e(){a()(this,e)}return o()(e,null,[{key:"cast",value:function(e){return e}}]),e}(),G=function(){function e(t,n,r,o){var i=this;a()(this,e),g()(this,"onVisibleItemsChanged",void 0),g()(this,"_scrollOnNextUpdate",void 0),g()(this,"_stableIdToRenderKeyMap",void 0),g()(this,"_engagedIndexes",void 0),g()(this,"_renderStack",void 0),g()(this,"_renderStackChanged",void 0),g()(this,"_fetchStableId",void 0),g()(this,"_isRecyclingEnabled",void 0),g()(this,"_isViewTrackerRunning",void 0),g()(this,"_markDirty",void 0),g()(this,"_startKey",void 0),g()(this,"_layoutProvider",V.cast(null)),g()(this,"_recyclePool",V.cast(null)),g()(this,"_params",void 0),g()(this,"_layoutManager",null),g()(this,"_viewabilityTracker",null),g()(this,"_dimensions",void 0),g()(this,"_onVisibleItemsChanged",(function(e,t,n){i.onVisibleItemsChanged&&i.onVisibleItemsChanged(e,t,n)})),g()(this,"_onEngagedItemsChanged",(function(e,t,n){var r,o=n.length,a=0;if(i._isRecyclingEnabled)for(var l=0;l<o;l++)a=n[l],delete i._engagedIndexes[a],i._params&&a<i._params.itemCount&&(r=i._stableIdToRenderKeyMap[i._fetchStableId(a)],m.ObjectUtil.isNullOrUndefined(r)||i._recyclePool.putRecycledObject(i._layoutProvider.getLayoutTypeForIndex(a),r.key));i._updateRenderStack(t)&&i._renderStackChanged(i._renderStack)})),this._renderStack={},this._fetchStableId=r,this._stableIdToRenderKeyMap={},this._engagedIndexes={},this._renderStackChanged=t,this._scrollOnNextUpdate=n,this._dimensions=null,this._params=null,this._isRecyclingEnabled=o,this._isViewTrackerRunning=!1,this._markDirty=!1,this._startKey=0,this.onVisibleItemsChanged=null}return o()(e,[{key:"getLayoutDimension",value:function(){return this._layoutManager?this._layoutManager.getLayoutDimension():{height:0,width:0}}},{key:"updateOffset",value:function(e,t,n,r){if(this._viewabilityTracker){var o=this._params&&this._params.isHorizontal?e:t;this._isViewTrackerRunning||(n&&this._viewabilityTracker.setActualOffset(o),this.startViewabilityTracker(r)),this._viewabilityTracker.updateOffset(o,n,r)}}},{key:"attachVisibleItemsListener",value:function(e){this.onVisibleItemsChanged=e}},{key:"removeVisibleItemsListener",value:function(){this.onVisibleItemsChanged=null,this._viewabilityTracker&&(this._viewabilityTracker.onVisibleRowsChanged=null)}},{key:"getLayoutManager",value:function(){return this._layoutManager}},{key:"setParamsAndDimensions",value:function(e,t){this._params=e,this._dimensions=t}},{key:"setLayoutManager",value:function(e){this._layoutManager=e,this._params&&this._layoutManager.reLayoutFromIndex(0,this._params.itemCount)}},{key:"setLayoutProvider",value:function(e){this._layoutProvider=e}},{key:"getViewabilityTracker",value:function(){return this._viewabilityTracker}},{key:"refreshWithAnchor",value:function(){if(this._viewabilityTracker){var e=this._viewabilityTracker.findFirstLogicallyVisibleIndex();this._prepareViewabilityTracker();var t=0;if(this._layoutManager&&this._params){e=Math.min(this._params.itemCount-1,e);var n=this._layoutManager.getOffsetForIndex(e);this._scrollOnNextUpdate(n),t=this._params.isHorizontal?n.x:n.y}this._viewabilityTracker.forceRefreshWithOffset(t)}}},{key:"refresh",value:function(){this._viewabilityTracker&&(this._prepareViewabilityTracker(),this._viewabilityTracker.forceRefresh()&&(this._params&&this._params.isHorizontal?this._scrollOnNextUpdate({x:this._viewabilityTracker.getLastActualOffset(),y:0}):this._scrollOnNextUpdate({x:0,y:this._viewabilityTracker.getLastActualOffset()})))}},{key:"getInitialOffset",value:function(){var e={x:0,y:0};if(this._params){var t=m.Default.value(this._params.initialRenderIndex,0);t>0&&this._layoutManager?(e=this._layoutManager.getOffsetForIndex(t),this._params.initialOffset=this._params.isHorizontal?e.x:e.y):this._params.isHorizontal?(e.x=m.Default.value(this._params.initialOffset,0),e.y=0):(e.y=m.Default.value(this._params.initialOffset,0),e.x=0)}return e}},{key:"init",value:function(){this.getInitialOffset(),this._recyclePool=new M,this._params?this._viewabilityTracker=new U(m.Default.value(this._params.renderAheadOffset,0),m.Default.value(this._params.initialOffset,0)):this._viewabilityTracker=new U(0,0),this._prepareViewabilityTracker()}},{key:"startViewabilityTracker",value:function(e){this._viewabilityTracker&&(this._isViewTrackerRunning=!0,this._viewabilityTracker.init(e))}},{key:"syncAndGetKey",value:function(e,t,n){var r=t||this._fetchStableId,o=n||this._renderStack,i=this._stableIdToRenderKeyMap[r(e)],a=i?i.key:void 0;if(m.ObjectUtil.isNullOrUndefined(a)){var l=this._layoutProvider.getLayoutTypeForIndex(e);if(a=this._recyclePool.getRecycledObject(l),m.ObjectUtil.isNullOrUndefined(a))o[a=r(e)]&&(a=this._getCollisionAvoidingKey()),o[a]={dataIndex:e};else{var s=o[a];if(s){var c=s.dataIndex;s.dataIndex=e,m.ObjectUtil.isNullOrUndefined(c)||c===e||delete this._stableIdToRenderKeyMap[r(c)]}else o[a]={dataIndex:e}}this._markDirty=!0,this._stableIdToRenderKeyMap[r(e)]={key:a,type:l}}m.ObjectUtil.isNullOrUndefined(this._engagedIndexes[e])||this._recyclePool.removeFromPool(a);var u=o[a];return u&&u.dataIndex,a}},{key:"handleDataSetChange",value:function(e,t){var n=e.getStableId,r=e.getSize()-1,o={},i={};for(var a in this._renderStack)if(this._renderStack.hasOwnProperty(a)){var l=this._renderStack[a].dataIndex;if(!m.ObjectUtil.isNullOrUndefined(l))if(l<=r)o[n(l)]=1}for(var s=Object.keys(this._stableIdToRenderKeyMap),c=s.length,u=0;u<c;u++){var d=s[u];if(!o[d]){if(!t&&this._isRecyclingEnabled){var p=this._stableIdToRenderKeyMap[d];p&&this._recyclePool.putRecycledObject(p.type,p.key)}delete this._stableIdToRenderKeyMap[d]}}for(var f in this._renderStack)if(this._renderStack.hasOwnProperty(f)){var h=this._renderStack[f].dataIndex;if(!m.ObjectUtil.isNullOrUndefined(h)&&h<=r){var g=this.syncAndGetKey(h,n,i),y=i[g];if(y){if(y.dataIndex!==h){var v=this._getCollisionAvoidingKey();i[v]={dataIndex:h},this._stableIdToRenderKeyMap[n(h)]={key:v,type:this._layoutProvider.getLayoutTypeForIndex(h)}}}else i[g]={dataIndex:h}}delete this._renderStack[f]}for(var b in Object.assign(this._renderStack,i),this._renderStack)if(this._renderStack.hasOwnProperty(b)){var w=this._renderStack[b].dataIndex;if(!m.ObjectUtil.isNullOrUndefined(w)&&m.ObjectUtil.isNullOrUndefined(this._engagedIndexes[w])){var S=this._layoutProvider.getLayoutTypeForIndex(w);this._recyclePool.putRecycledObject(S,b)}}}},{key:"_getCollisionAvoidingKey",value:function(){return"#"+this._startKey+++"_rlv_c"}},{key:"_prepareViewabilityTracker",value:function(){if(!(this._viewabilityTracker&&this._layoutManager&&this._dimensions&&this._params))throw new P(N.initializationException);this._viewabilityTracker.onEngagedRowsChanged=this._onEngagedItemsChanged,this.onVisibleItemsChanged&&(this._viewabilityTracker.onVisibleRowsChanged=this._onVisibleItemsChanged),this._viewabilityTracker.setLayouts(this._layoutManager.getLayouts(),this._params.isHorizontal?this._layoutManager.getLayoutDimension().width:this._layoutManager.getLayoutDimension().height),this._viewabilityTracker.setDimensions({height:this._dimensions.height,width:this._dimensions.width},m.Default.value(this._params.isHorizontal,!1))}},{key:"_updateRenderStack",value:function(e){this._markDirty=!1;for(var t=e.length,n=0,r=!1,o=0;o<t;o++)n=e[o],this._engagedIndexes[n]=1,this.syncAndGetKey(n),r=this._markDirty;return this._markDirty=!1,r}}]),e}(),Y=function(){function e(){a()(this,e)}return o()(e,[{key:"animateWillMount",value:function(e,t,n){}},{key:"animateDidMount",value:function(e,t,n,r){}},{key:"animateWillUpdate",value:function(e,t,n,r,o,i){}},{key:"animateShift",value:function(e,t,n,r,o,i){return!1}},{key:"animateWillUnmount",value:function(e,t,n,r){}}]),e}();function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}g()(Y,"USE_NATIVE_DRIVER",!0);var K=function(e){c()(n,e);var t=J(n);function n(e,r){var o;return a()(this,n),o=t.call(this,e,r),g()(S()(o),"_hasRenderedOnce",!1),g()(S()(o),"_didPropsChange",!1),o}return o()(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e&&this.componentWillReceivePropsCompat(e),!0}},{key:"componentWillReceivePropsCompat",value:function(e){}},{key:"componentWillMountCompat",value:function(){}},{key:"componentWillUpdateCompat",value:function(){}},{key:"render",value:function(){return this._hasRenderedOnce?this.componentWillUpdateCompat():(this._hasRenderedOnce=!0,this.componentWillMountCompat()),this.renderCompat()}}]),n}(D.Component),q=n(43),Q=n(270);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var X=function(e){c()(n,e);var t=$(n);function n(){return a()(this,n),t.apply(this,arguments)}return o()(n)}(D.Component);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var ee=function(e){c()(n,e);var t=Z(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(S()(r),"_height",void 0),g()(S()(r),"_width",void 0),g()(S()(r),"_offset",void 0),g()(S()(r),"_isSizeChangedCalledOnce",void 0),g()(S()(r),"_scrollViewRef",null),g()(S()(r),"listRef",void 0),g()(S()(r),"isloadMoreState",!0),g()(S()(r),"_getScrollViewRef",(function(e){r._scrollViewRef=e})),g()(S()(r),"_onScroll",(function(e){if(e){var t=e.nativeEvent.contentOffset;r._offset=r.props.isHorizontal?t.x:t.y,r.props.onScroll(t.x,t.y,e)}})),g()(S()(r),"_onLayout",(function(e){r._height===e.nativeEvent.layout.height&&r._width===e.nativeEvent.layout.width||(r._height=e.nativeEvent.layout.height,r._width=e.nativeEvent.layout.width,r.props.onSizeChanged&&(r._isSizeChangedCalledOnce=!0,r.props.onSizeChanged(e.nativeEvent.layout))),r.props.onLayout&&r.props.onLayout(e)})),r._height=0,r._width=0,r._offset=0,r._isSizeChangedCalledOnce=!1,r}return o()(n,[{key:"scrollTo",value:function(e,t,n){this._scrollViewRef&&this._scrollViewRef.scrollTo({x:e,y:t,animated:n})}},{key:"render",value:function(){var e=V.cast(this.props.externalScrollView),t=this.props.renderContentContainer?this.props.renderContentContainer:this._defaultContainer,n={style:{height:this.props.contentHeight,width:this.props.contentWidth},horizontal:this.props.isHorizontal,scrollOffset:this._offset,windowSize:(this.props.isHorizontal?this._width:this._height)+this.props.renderAheadOffset};return D.createElement(e,L()({ref:this._getScrollViewRef,removeClippedSubviews:!1,scrollEventThrottle:this.props.scrollThrottle},this.props,{horizontal:this.props.isHorizontal,onScroll:this._onScroll,onLayout:!this._isSizeChangedCalledOnce||this.props.canChangeSize?this._onLayout:this.props.onLayout}),this.props.renderHeader?this.props.renderHeader():null,D.createElement(q.a,{style:{flexDirection:this.props.isHorizontal?"row":"column"}},t(n,this.props.children),this.props.renderFooter?this.props.renderFooter():null))}},{key:"_defaultContainer",value:function(e,t){return D.createElement(q.a,e,t)}}]),n}(X);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}g()(ee,"defaultProps",{contentHeight:0,contentWidth:0,externalScrollView:V.cast(Q.a),isHorizontal:!1,scrollThrottle:16});var ie=function(e){c()(n,e);var t=oe(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(S()(e),"_dim",{width:0,height:0}),g()(S()(e),"_mainDiv",null),g()(S()(e),"_setRef",(function(t){e._mainDiv=t})),e}return o()(n,[{key:"componentDidMount",value:function(){j()(f()(n.prototype),"componentDidMount",this)&&j()(f()(n.prototype),"componentDidMount",this).call(this),this._checkSizeChange()}},{key:"componentDidUpdate",value:function(){this._checkSizeChange()}},{key:"renderCompat",value:function(){var e=this.props.forceNonDeterministicRendering?re(re(re({transform:this._getTransform(),WebkitTransform:this._getTransform()},ae.baseViewStyle),this.props.styleOverrides),this.animatorStyleOverrides):re(re(re({height:this.props.height,overflow:"hidden",width:this.props.width,transform:this._getTransform(),WebkitTransform:this._getTransform()},ae.baseViewStyle),this.props.styleOverrides),this.animatorStyleOverrides);return D.createElement("div",{ref:this._setRef,style:e},this.renderChild())}},{key:"getRef",value:function(){return this._mainDiv}},{key:"_getTransform",value:function(){return"translate("+this.props.x+"px,"+this.props.y+"px)"}},{key:"_checkSizeChange",value:function(){if(this.props.forceNonDeterministicRendering&&this.props.onSizeChanged){var e=this._mainDiv;e&&(this._dim.width=e.clientWidth,this._dim.height=e.clientHeight,this.props.width===this._dim.width&&this.props.height===this._dim.height||this.props.onSizeChanged(this._dim,this.props.index))}this._onItemRendered()}},{key:"_onItemRendered",value:function(){this.props.onItemLayout&&this.props.onItemLayout(this.props.index)}}]),n}(function(e){c()(n,e);var t=te(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),g()(S()(e),"animatorStyleOverrides",void 0),e}return o()(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.x!==e.x||this.props.y!==e.y,n=!e.forceNonDeterministicRendering&&(this.props.width!==e.width||this.props.height!==e.height)||this.props.layoutProvider!==e.layoutProvider,r=this.props.extendedState!==e.extendedState,o=this.props.internalSnapshot!==e.internalSnapshot,i=this.props.dataHasChanged&&this.props.dataHasChanged(this.props.data,e.data),a=n||i||r||o;return a?e.itemAnimator.animateWillUpdate(this.props.x,this.props.y,e.x,e.y,this.getRef(),e.index):t&&(a=!e.itemAnimator.animateShift(this.props.x,this.props.y,e.x,e.y,this.getRef(),e.index)),a}},{key:"componentDidMount",value:function(){this.animatorStyleOverrides=void 0,this.props.itemAnimator.animateDidMount(this.props.x,this.props.y,this.getRef(),this.props.index)}},{key:"componentWillMountCompat",value:function(){this.animatorStyleOverrides=this.props.itemAnimator.animateWillMount(this.props.x,this.props.y,this.props.index)}},{key:"componentWillUnmount",value:function(){this.props.itemAnimator.animateWillUnmount(this.props.x,this.props.y,this.getRef(),this.props.index)}},{key:"renderChild",value:function(){return this.props.childRenderer(this.props.layoutType,this.props.data,this.props.index,this.props.extendedState)}}]),n}(K)),ae={baseViewStyle:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"absolute",minHeight:0,minWidth:0,left:0,top:0}},le=ie,se=n(37);function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var ue=n(551),de=!se.a||"web"===se.a.OS,pe=function(e){c()(n,e);var t=ce(n);function n(e,r){var o;return a()(this,n),o=t.call(this,e,r),g()(S()(o),"refreshRequestDebouncer",ue((function(e){e()}))),g()(S()(o),"_virtualRenderer",void 0),g()(S()(o),"_onEndReachedCalled",!1),g()(S()(o),"_initComplete",!1),g()(S()(o),"_relayoutReqIndex",-1),g()(S()(o),"_params",{initialOffset:0,initialRenderIndex:0,isHorizontal:!1,itemCount:0,renderAheadOffset:250}),g()(S()(o),"_layout",{height:0,width:0}),g()(S()(o),"_pendingScrollToOffset",null),g()(S()(o),"_pendingRenderStack",void 0),g()(S()(o),"_tempDim",{height:0,width:0}),g()(S()(o),"_initialOffset",0),g()(S()(o),"_cachedLayouts",void 0),g()(S()(o),"_scrollComponent",null),g()(S()(o),"_windowCorrection",void 0),g()(S()(o),"_defaultItemAnimator",new Y),g()(S()(o),"timmer",void 0),g()(S()(o),"scrollToOffset",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o._scrollComponent&&(o.props.isHorizontal?t=0:e=0,o._scrollComponent.scrollTo(e,t,n))})),g()(S()(o),"_onSizeChanged",(function(e){if(o.props.canChangeSize||!o.props.layoutSize){var t=o._layout.height!==e.height,n=o._layout.width!==e.width;if(o._layout.height=e.height,o._layout.width=e.width,0===e.height||0===e.width)throw new P(N.layoutException);o._initComplete?t&&n||t&&o.props.isHorizontal||n&&!o.props.isHorizontal?o._checkAndChangeLayouts(o.props,!0):o._refreshViewability():(o._initComplete=!0,o._initTrackers(o.props),o._processOnEndReached())}})),g()(S()(o),"_renderStackWhenReady",(function(e){o._pendingScrollToOffset?o._pendingRenderStack=e:o._initStateIfRequired(e)||o.setState((function(){return{renderStack:e}}))})),g()(S()(o),"_dataHasChanged",(function(e,t){return o.props.dataProvider.rowHasChanged(e,t)})),g()(S()(o),"_onViewContainerSizeChange",(function(e,t){var n=o._virtualRenderer.getLayoutManager();if(o.props.debugHandlers&&o.props.debugHandlers.resizeDebugHandler){var r=n.getLayouts()[t];o.props.debugHandlers.resizeDebugHandler.resizeDebug({width:r.width,height:r.height},e,t)}})),g()(S()(o),"_onScroll",(function(e,t,n){o._virtualRenderer.updateOffset(e,t,!0,o._getWindowCorrection(e,t,o.props)),o.props.onScroll&&o.props.onScroll(n,e,t),o._processOnEndReached()})),o._virtualRenderer=new G(o._renderStackWhenReady,(function(e){o._pendingScrollToOffset=e}),(function(e){return o.props.dataProvider.getStableId(e)}),!e.disableRecycling),o._windowCorrection={startCorrection:0,endCorrection:0,windowShift:0},o._getContextFromContextProvider(e),e.layoutSize?(o._layout.height=e.layoutSize.height,o._layout.width=e.layoutSize.width,o._initComplete=!0,o._initTrackers(e)):o.state={internalSnapshot:{},renderStack:{}},o}return o()(n,[{key:"componentWillReceivePropsCompat",value:function(e){if(this._assertDependencyPresence(e),this._checkAndChangeLayouts(e),e.onVisibleIndicesChanged||this._virtualRenderer.removeVisibleItemsListener(),e.onVisibleIndexesChanged)throw new P(N.usingOldVisibleIndexesChangedParam);e.onVisibleIndicesChanged&&this._virtualRenderer.attachVisibleItemsListener(e.onVisibleIndicesChanged)}},{key:"componentDidUpdate",value:function(){this._processInitialOffset(),this._processOnEndReached(),this._checkAndChangeLayouts(this.props),this.props.dataProvider.getSize()}},{key:"componentDidMount",value:function(){this._initComplete&&(this._processInitialOffset(),this._processOnEndReached())}},{key:"componentWillUnmount",value:function(){if(this.props.contextProvider){var e=this.props.contextProvider.getUniqueKey();if(e&&(this.props.contextProvider.save(e+A,this.getCurrentScrollOffset()),this.props.forceNonDeterministicRendering&&this._virtualRenderer)){var t=this._virtualRenderer.getLayoutManager();if(t){var n=t.getLayouts();this.props.contextProvider.save(e+B,JSON.stringify({layoutArray:n}))}}}this.timmer&&clearTimeout(this.timmer)}},{key:"scrollToIndex",value:function(e,t){var n=this._virtualRenderer.getLayoutManager();if(n){var r=n.getOffsetForIndex(e);this.scrollToOffset(r.x,r.y,t)}}},{key:"bringToFocus",value:function(e,t){var n=this.getRenderedSize(),r=this.getLayout(e),o=this.getCurrentScrollOffset(),i=this.props.isHorizontal;if(r){var a=i?r.width:r.height,l=i?r.x:r.y,s=i?n.width:n.height,c=s+o;if(a>s||l<o||l>c)this.scrollToIndex(e);else{var u=l+a;if(u>c){var d=u-c;this.scrollToOffset(0,d+o,t)}}}}},{key:"scrollToItem",value:function(e,t){for(var n=this.props.dataProvider.getSize(),r=0;r<n;r++)if(this.props.dataProvider.getDataForIndex(r)===e){this.scrollToIndex(r,t);break}}},{key:"getLayout",value:function(e){var t=this._virtualRenderer.getLayoutManager();return t?t.getLayouts()[e]:void 0}},{key:"scrollToTop",value:function(e){this.scrollToOffset(0,0,e)}},{key:"scrollToEnd",value:function(e){var t=this.props.dataProvider.getSize()-1;this.scrollToIndex(t,e)}},{key:"updateRenderAheadOffset",value:function(e){var t=this._virtualRenderer.getViewabilityTracker();return!!t&&(t.updateRenderAheadOffset(e),!0)}},{key:"getCurrentRenderAheadOffset",value:function(){var e=this._virtualRenderer.getViewabilityTracker();return e?e.getCurrentRenderAheadOffset():this.props.renderAheadOffset}},{key:"getCurrentScrollOffset",value:function(){var e=this._virtualRenderer.getViewabilityTracker();return e?e.getLastActualOffset():0}},{key:"findApproxFirstVisibleIndex",value:function(){var e=this._virtualRenderer.getViewabilityTracker();return e?e.findFirstLogicallyVisibleIndex():0}},{key:"getRenderedSize",value:function(){return this._layout}},{key:"getContentDimension",value:function(){return this._virtualRenderer.getLayoutDimension()}},{key:"forceRerender",value:function(){this.setState({internalSnapshot:{}})}},{key:"renderCompat",value:function(){var e=this;return D.createElement(ee,L()({ref:function(t){return e._scrollComponent=t}},this.props,this.props.scrollViewProps,{onScroll:this._onScroll,onSizeChanged:this._onSizeChanged,contentHeight:this._initComplete?this._virtualRenderer.getLayoutDimension().height:0,contentWidth:this._initComplete?this._virtualRenderer.getLayoutDimension().width:0,renderAheadOffset:this.getCurrentRenderAheadOffset()}),this._generateRenderStack())}},{key:"getVirtualRenderer",value:function(){return this._virtualRenderer}},{key:"_processInitialOffset",value:function(){var e=this;this._pendingScrollToOffset&&(this.timmer=setTimeout((function(){if(e._pendingScrollToOffset){var t=e._pendingScrollToOffset;e._pendingScrollToOffset=null,e.props.isHorizontal?t.y=0:t.x=0,e.scrollToOffset(t.x,t.y,!1),e._pendingRenderStack&&(e._renderStackWhenReady(e._pendingRenderStack),e._pendingRenderStack=void 0)}}),0))}},{key:"_getContextFromContextProvider",value:function(e){if(e.contextProvider){var t=e.contextProvider.getUniqueKey();if(t){var n=e.contextProvider.get(t+A);if("number"==typeof n&&n>0&&(this._initialOffset=n,e.onRecreate&&e.onRecreate({lastOffset:this._initialOffset}),e.contextProvider.remove(t+A)),e.forceNonDeterministicRendering){var r=e.contextProvider.get(t+B);r&&"string"==typeof r&&(this._cachedLayouts=JSON.parse(r).layoutArray,e.contextProvider.remove(t+B))}}}}},{key:"_checkAndChangeLayouts",value:function(e,t){if(this._params.isHorizontal=e.isHorizontal,this._params.itemCount=e.dataProvider.getSize(),this._virtualRenderer.setParamsAndDimensions(this._params,this._layout),this._virtualRenderer.setLayoutProvider(e.layoutProvider),e.dataProvider.hasStableIds()&&this.props.dataProvider!==e.dataProvider&&e.dataProvider.requiresDataChangeHandling()&&this._virtualRenderer.handleDataSetChange(e.dataProvider,this.props.optimizeForInsertDeleteAnimations),this.props.layoutProvider!==e.layoutProvider||this.props.isHorizontal!==e.isHorizontal||this.props.columnCount!==e.columnCount||this.props.pageGutter!==e.pageGutter)this._virtualRenderer.setLayoutManager(new W(e.columnCount,e.gutter,e.pageGutter,e.layoutProvider,this._layout,e.isHorizontal)),e.layoutProvider.shouldRefreshWithAnchoring?this._virtualRenderer.refreshWithAnchor():this._virtualRenderer.refresh(),this._refreshViewability();else if(this.props.dataProvider!==e.dataProvider){e.dataProvider.getSize()>this.props.dataProvider.getSize()&&(this._onEndReachedCalled=!1);var n=this._virtualRenderer.getLayoutManager();n&&(n.reLayoutFromIndex(e.dataProvider.getFirstIndexToProcessInternal(),e.dataProvider.getSize()),this._virtualRenderer.refresh())}else if(t){var r=this._virtualRenderer.getLayoutManager();if(r){r.getLayouts();this._virtualRenderer.setLayoutManager(new W(e.columnCount,e.gutter,e.pageGutter,e.layoutProvider,this._layout,e.isHorizontal)),this._refreshViewability()}}else if(this._relayoutReqIndex>=0){var o=this._virtualRenderer.getLayoutManager();if(o){var i=e.dataProvider.getSize();o.reLayoutFromIndex(Math.min(Math.max(i-1,0),this._relayoutReqIndex),i),this._relayoutReqIndex=-1,this._refreshViewability()}}}},{key:"_refreshViewability",value:function(){this._virtualRenderer.refresh(),this._queueStateRefresh()}},{key:"_queueStateRefresh",value:function(){var e=this;this.refreshRequestDebouncer((function(){e.setState((function(e){return e}))}))}},{key:"_initStateIfRequired",value:function(e){return!this.state&&(this.state={internalSnapshot:{},renderStack:e},!0)}},{key:"_initTrackers",value:function(e){if(this._assertDependencyPresence(e),e.onVisibleIndexesChanged)throw new P(N.usingOldVisibleIndexesChangedParam);e.onVisibleIndicesChanged&&this._virtualRenderer.attachVisibleItemsListener(e.onVisibleIndicesChanged),this._params={initialOffset:this._initialOffset?this._initialOffset:e.initialOffset,initialRenderIndex:e.initialRenderIndex,isHorizontal:e.isHorizontal,itemCount:e.dataProvider.getSize(),renderAheadOffset:e.renderAheadOffset},this._virtualRenderer.setParamsAndDimensions(this._params,this._layout),this._virtualRenderer.setLayoutManager(new W(this.props.columnCount,this.props.gutter,this.props.pageGutter,this.props.layoutProvider,this._layout,this.props.isHorizontal,this._cachedLayouts)),this._virtualRenderer.setLayoutProvider(e.layoutProvider),this._virtualRenderer.init();var t=this._virtualRenderer.getInitialOffset();t.y>0||t.x>0?(this._pendingScrollToOffset=t,this.setState({})):this._virtualRenderer.startViewabilityTracker(this._getWindowCorrection(t.x,t.y,e))}},{key:"_getWindowCorrection",value:function(e,t,n){return n.applyWindowCorrection&&n.applyWindowCorrection(e,t,this._windowCorrection)||this._windowCorrection}},{key:"_assertDependencyPresence",value:function(e){if(!e.dataProvider||!e.layoutProvider)throw new P(N.unresolvedDependenciesException)}},{key:"_assertType",value:function(e){if(!e&&0!==e)throw new P(N.itemTypeNullException)}},{key:"_renderRowUsingMeta",value:function(e){var t=this.props.dataProvider.getSize(),n=e.dataIndex;if(!m.ObjectUtil.isNullOrUndefined(n)&&n<t){var r=this._virtualRenderer.getLayoutManager().getLayouts()[n],o=this.props.dataProvider.getDataForIndex(n),i=this.props.layoutProvider.getLayoutTypeForIndex(n),a=this._virtualRenderer.syncAndGetKey(n);return this._assertType(i),this.props.forceNonDeterministicRendering||this._checkExpectedDimensionDiscrepancy(r,i,n),D.createElement(le,{key:a,data:o,dataHasChanged:this._dataHasChanged,x:r.x,y:r.y,layoutType:i,index:n,pageGutter:this.props.pageGutter,layoutProvider:this.props.layoutProvider,forceNonDeterministicRendering:this.props.forceNonDeterministicRendering,isHorizontal:this.props.isHorizontal,onSizeChanged:this._onViewContainerSizeChange,childRenderer:this.props.rowRenderer,height:r.height,width:r.width,itemAnimator:m.Default.value(this.props.itemAnimator,this._defaultItemAnimator),extendedState:this.props.extendedState,internalSnapshot:this.state.internalSnapshot,onItemLayout:this.props.onItemLayout})}return null}},{key:"_checkExpectedDimensionDiscrepancy",value:function(e,t,n){this.props.layoutProvider.checkDimensionDiscrepancy(e,t,n)&&(-1===this._relayoutReqIndex?this._relayoutReqIndex=n:this._relayoutReqIndex=Math.min(this._relayoutReqIndex,n))}},{key:"_generateRenderStack",value:function(){var e=[];for(var t in this.state.renderStack)this.state.renderStack.hasOwnProperty(t)&&e.push(this._renderRowUsingMeta(this.state.renderStack[t]));return e}},{key:"_processOnEndReached",value:function(){var e=this;if(this.props.onEndReached&&this._virtualRenderer){var t=this._virtualRenderer.getLayoutDimension(),n=this._virtualRenderer.getViewabilityTracker();if(n)(this.props.isHorizontal?t.width-this._layout.width:t.height-this._layout.height)-(n?n.getLastOffset():0)<=m.Default.value(this.props.onEndReachedThreshold,0)?this.props.onEndReached&&!this._onEndReachedCalled&&(this._onEndReachedCalled=!0,this.props.onEndReached(),this.props.excuteTimeOut&&this.props.excuteTimeOut((function(){e._onEndReachedCalled=!1}))):this._onEndReachedCalled=!1}}}]),n}(K);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}g()(pe,"defaultProps",{canChangeSize:!1,disableRecycling:!1,initialOffset:0,initialRenderIndex:0,isHorizontal:!1,onEndReachedThreshold:0,renderAheadOffset:de?1e3:250,columnCount:2,gutter:8,pageGutter:16}),g()(pe,"propTypes",{}),pe.propTypes={layoutProvider:_.instanceOf(k).isRequired,dataProvider:_.instanceOf(v).isRequired,contextProvider:_.instanceOf(l),rowRenderer:_.func.isRequired,initialOffset:_.number,renderAheadOffset:_.number,isHorizontal:_.bool,onScroll:_.func,onRecreate:_.func,externalScrollView:_.func,onEndReached:_.func,onEndReachedThreshold:_.number,onVisibleIndexesChanged:_.func,onVisibleIndicesChanged:_.func,renderHeader:_.func,renderFooter:_.func,initialRenderIndex:_.number,layoutSize:_.object,scrollThrottle:_.number,canChangeSize:_.bool,useWindowScroll:_.bool,disableRecycling:_.bool,forceNonDeterministicRendering:_.bool,extendedState:_.object,itemAnimator:_.instanceOf(Y),renderContentContainer:_.func,optimizeForInsertDeleteAnimations:_.bool,style:_.oneOfType([_.object,_.number]),scrollViewProps:_.object,applyWindowCorrection:_.func,onItemLayout:_.func,columnCount:_.number,gutter:_.number,pageGutter:_.number,sceneName:_.string,onLoadMore:_.any};var he=function(e){c()(n,e);var t=fe(n);function n(e){return a()(this,n),t.call(this,e)}return o()(n)}(D.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var r=n(57),o=n(37),i=n(54),a=function(e){return r.a.create({space_app:{paddingLeft:e.paddingLeft_app,paddingRight:e.paddingRight_app},dotView:{height:32,position:"absolute",bottom:0,alignSelf:"center",flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},dot:{backgroundColor:"#00000019",minWidth:6,width:6,height:6,borderRadius:6,marginLeft:"web"===o.a.OS?1:4,marginRight:"web"===o.a.OS?1:4},activeDot:{backgroundColor:"#FFFFFF",width:12,height:6,borderRadius:6,marginLeft:"web"===o.a.OS?1:4,marginRight:"web"===o.a.OS?1:4}})},l=function(e){return r.a.create({space_pad:{marginLeft:e.paddingLeft_pad,marginRight:e.paddingRight_pad}})},s=function(e){return r.a.create({space_app:{paddingLeft:e.paddingLeft_app,paddingRight:e.paddingRight_app},imageButton:{width:24,height:24,top:16,left:16,zIndex:1},dotView:{height:32,position:"absolute",left:0,right:0,flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},dot:{backgroundColor:"#00000033",width:8,height:8,borderRadius:8,marginLeft:6,marginRight:6},activeDot:{backgroundColor:"#FFFFFF",width:12,height:8,borderRadius:8,marginLeft:6,marginRight:6},leftButtonFa:{width:80,height:80,left:i.a.get("window").width>1280?228:348},leftButtonFaShow:{width:80,height:80,left:(i.a.get("window").width-1200)/2+192},leftButtonFaShow1:{width:80,height:80,left:200},rightButtonFaShow:{width:80,height:80,right:(i.a.get("window").width-1200)/2-20},rightButtonFaShow1:{width:80,height:80,right:-12},rightButtonFa:{width:80,height:80,right:i.a.get("window").width>1280?228:348},leftButton:{width:56,height:56,top:12,left:12,position:"absolute",borderRadius:56},leftButtonHoverShadows:{width:56,height:56,position:"absolute",top:0,backgroundColor:"rgba(0,0,0,0.05)",borderRadius:56,zIndex:2},rightButton:{width:56,height:56,top:12,right:12,position:"absolute",borderRadius:56},rightButtonHoverShadows:{width:56,height:56,position:"absolute",top:0,backgroundColor:"rgba(0,0,0,0.05)",borderRadius:56,zIndex:2},buttonLeftCover:{position:"absolute",top:235,left:0},buttonRightCover:{position:"absolute",top:235,right:0}})},c=r.a.create({bannerItemStyle:{position:"relative",alignItems:"center",marginTop:-24},opacityNoTopHeight:{position:"absolute",opacity:0},opacityNoYesHeight:{position:"absolute",opacity:1}})},function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"j",(function(){return l})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return f}));var r={index:"100660001",product:"100660005",category:"100660007"},o={index:"100660013",product:"100660014",category:"100660015"},i={100660013:"店铺首页离开上报",100660014:"店铺全部商品页离开上报",100660015:"店铺分类页离开上报",100660017:"店铺搜索结果页离开上报"},a={100660001:"店铺首页加载上报",100660005:"店铺全部商品页加载上报",100660007:"店铺分类页加载上报",100660011:"店铺搜索结果页加载上报"},l={index:"200580001",product:"200580005",category:"200580007"},s={index:"200580013",product:"200580014",category:"200580015"},c={200580013:"店铺首页离开上报",200580014:"店铺全部商品页离开上报",200580015:"店铺分类页离开上报",200580017:"店铺搜索结果页离开上报"},u={200580001:"店铺首页加载上报",200580005:"店铺全部商品页加载上报",200580007:"店铺分类页加载上报",200580011:"店铺搜索结果页加载上报"},d={index:"1",product:"2",category:"3",service:"4"},p={searchPage:{pageCatCode:"p_ShopSearchPage",pageCatName:"店铺搜索页"},shopInfo:{pageCatCode:"p_ShopBaseinfoPage",pageCatName:"店铺信息页"},bottomNav:{pageCatCode:"p_ShopBottomNavigationBar",pageCatName:"店铺底部导航"},followShop:{pageCatCode:"p_ShopFollowListPage",pageCatName:"关注店铺列表页"}},f="shopTab"},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(87),w=n(49),S=n(43),C=n(152),O=n(102),P=n(12),T=n(57),x=n(37),I=n(3);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){return T.a.create({container:{position:"web"===x.a.OS||Object(I.F)()?"fixed":"absolute",width:"100%",height:"100%",padding:16,paddingBottom:64,display:"flex",alignItems:"center",justifyContent:"flex-end",top:0,right:0,bottom:0,left:0,margin:"auto",zIndex:2e3},content:{backgroundColor:"rgba(77,77,77,0.95)",borderRadius:18,paddingBottom:8.5,paddingLeft:16,paddingRight:16,paddingTop:8.5,maxWidth:"100%"},text:E(E({},e.C17),e.T7)})};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var L=function(e){u()(n,e);var t=R(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"lister1",void 0),m()(s()(r),"animateTimer",void 0),m()(s()(r),"containerStyle",{height:"100%"}),m()(s()(r),"show",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=!1;n===r.props.pageType&&(r.props.randomId&&""!==o?o===r.props.randomId&&(i=!0):i=!0),i?r.setState({text:e,isShow:!0,duration:t},(function(){r.state.opacityAnimate.setValue(.95),r.hide()})):r.setState({isShow:!1})})),r.state={text:"",isShow:!1,duration:1500,opacityAnimate:new b.a.Value(.95)},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this;this.lister1=w.a.addListener("showToast",(function(t){e.show(t.text,t.duration,t.pageType,t.randomId)}))}},{key:"componentWillUnmount",value:function(){this.animateTimer&&clearTimeout(this.animateTimer),this.lister1&&this.lister1.remove()}},{key:"hide",value:function(){var e=this;this.state.isShow&&(this.animateTimer&&clearTimeout(this.animateTimer),this.animateTimer=setTimeout((function(){b.a.timing(e.state.opacityAnimate,{toValue:0,duration:600,useNativeDriver:!0}).start((function(){e.setState({isShow:!1})}))}),this.state.duration))}},{key:"render",value:function(){var e=this,t=this.props,n=t.parentPageType,r=t.height;return n===P.g.harmonyConnectPage&&r&&(this.containerStyle.height=r),v.a.createElement(O.b,{themeStyles:j},(function(t){return e.state.isShow?v.a.createElement(S.a,{pointerEvents:"none",style:[t.container,e.containerStyle]},v.a.createElement(b.a.View,{style:[t.content,{opacity:e.state.opacityAnimate}]},v.a.createElement(C.a,{style:[t.text]},e.state.text))):null}))}}]),n}(v.a.PureComponent)},function(e,t,n){"use strict";var r,o,i,a,l,s,c,u,d=n(27),p=n.n(d),f=n(5),h=n.n(f),g=n(6),m=n.n(g),y=(n(1),n(18)),v=n.n(y),b=(n(60),n(16)),w=n(37),S=n(116),C=(r=function(){function e(){h()(this,e),p()(this,"layoutType",o,this),p()(this,"curTabTitle",i,this),p()(this,"keyword",a,this),p()(this,"isFollow",l,this),p()(this,"setData",s,this),p()(this,"getData",c,this),p()(this,"removeData",u,this)}return m()(e,[{key:"switchLayoutType",value:function(e){this.layoutType=e}},{key:"resetLayoutType",value:function(){this.layoutType=0}},{key:"setFollow",value:function(e){this.isFollow=e}},{key:"resetFolow",value:function(){this.isFollow="false"}}]),e}(),o=v()(r.prototype,"layoutType",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=v()(r.prototype,"curTabTitle",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"index"}}),a=v()(r.prototype,"keyword",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=v()(r.prototype,"isFollow",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"false"}}),v()(r.prototype,"switchLayoutType",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"switchLayoutType"),r.prototype),v()(r.prototype,"resetLayoutType",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"resetLayoutType"),r.prototype),s=v()(r.prototype,"setData",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){"web"===w.a.OS&&window.sessionStorage.setItem(t,JSON.stringify(n)),t===S.a?e.curTabTitle=n:e.keyword=n}}}),c=v()(r.prototype,"getData",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t===S.a?e.curTabTitle:e.keyword;if("web"===w.a.OS){var r=window.sessionStorage.getItem(t);n=r?JSON.parse(r):n}return n}}}),u=v()(r.prototype,"removeData",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){"web"===w.a.OS?window.sessionStorage.removeItem(t):t===S.a?e.curTabTitle="index":e.keyword=""}}}),v()(r.prototype,"setFollow",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"setFollow"),r.prototype),v()(r.prototype,"resetFolow",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"resetFolow"),r.prototype),r);t.a=new C},,,function(e,t,n){"use strict";var r,o=n(5),i=n.n(o),a=n(6),l=n.n(a),s=n(8),c=n.n(s),u=n(7),d=n.n(u),p=n(4),f=n.n(p),h=n(0),g=n.n(h),m=n(102),y=n(48),v=n(43),b=n(57),w=function(e){return b.a.create({commonStyle:{backgroundColor:e.S33.backgroundColor}})},S=n(32);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var O=Object(S.c)(r=function(e){c()(n,e);var t=C(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props.children;return g.a.createElement(m.b,{themeStyles:w},(function(t){return y.a.isApp?g.a.createElement(v.a,null,e):g.a.createElement(v.a,{style:t.commonStyle},e)}))}}]),n}(g.a.Component))||r;t.a=O},,function(e,t,n){var r;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r,o,i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(39),C=n.n(S),O=n(34),P=n.n(O),T=n(110),x=n.n(T),I=n(0),k=n.n(I),E=n(49),j=n(37),R=n(54),L=n(43),_=n(57),D=function(e){return _.a.create({loadingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},load:{margin:"auto",position:"absolute",top:80}})},N=n(103),W=n(183),A=n(40),B=n(48),M=n(102),F=n(433),H=n(1731),z=n(185),U=n(50),V=n(81),G=n(17),Y=n.n(G),J=n(26),K=n.n(J),q=n(65),Q=n.n(q),$=n(250),X=n(267),Z=n(115),ee=n(119),te=n(105),ne=n(177),re=n(35),oe=n.n(re),ie=n(87),ae=n(126),le=n(157),se=n(947),ce=n(270),ue=n(660),de=n(47),pe=n(51),fe=n(84);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ge="web"===j.a.OS&&(null===(r=navigator)||void 0===r||null===(o=r.userAgent)||void 0===o?void 0:o.indexOf("Firefox"))>-1,me=function(e){h()(n,e);var t=he(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"scrollView",void 0),w()(p()(r),"timer",void 0),w()(p()(r),"imgList_web",void 0),w()(p()(r),"webWidth",void 0),w()(p()(r),"webHeight",void 0),w()(p()(r),"flag",!0),w()(p()(r),"zIndex",void 0),w()(p()(r),"times",void 0),w()(p()(r),"refScrollView",(function(e){r.scrollView=e})),w()(p()(r),"onLayout",(function(e){(0,r.props.handleInfo)(e.nativeEvent.layout.height)})),w()(p()(r),"newReceiveRef",(function(e){r.setState({viewList:[].concat(oe()(r.state.viewList),[e])},(function(){}))})),r.state={currentPage:1,scrollWidth:0,viewList:[],opacity:new ie.a.Value(1),transitionDuration:"1s"},r.zIndex=r.props.zIndex||0,r}return u()(n,[{key:"onScroll",value:function(e){var t=Math.ceil(e.nativeEvent.contentOffset.x);if(0===t){var n;if(null===this.scrollView)return;this.setState({currentPage:this.imgList_web.length-2}),null===(n=this.scrollView)||void 0===n||n.scrollTo({x:(this.imgList_web.length-2)*this.webWidth,y:0,animated:!1})}else if(t===(this.imgList_web.length-1)*this.webWidth){var r;if(null===this.scrollView)return;E.a.emit("SwiperOnscroll"),this.setState({currentPage:1}),null===(r=this.scrollView)||void 0===r||r.scrollTo({x:this.webWidth,y:0,animated:!1})}}},{key:"componentDidMount",value:function(){var e;if(this.times=(new Date).getTime(),this.startTimer(),this.flag=!0,"web"===j.a.OS){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;document.body.removeChild(t),this.setState({scrollWidth:n})}this.setState({currentPage:1}),null===(e=this.scrollView)||void 0===e||e.scrollTo({x:this.webWidth,y:0,animated:!1})}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"shouldComponentUpdate",value:function(){return!B.a.isIE()||!((new Date).getTime()-this.times<3e3)}},{key:"startTimer",value:function(){var e=this;this.imgList_web.length<=1||(this.timer=setInterval((function(){var t;t=e.state.currentPage+1,e.setState({currentPage:t},(function(){var n;null===(n=e.scrollView)||void 0===n||n.scrollTo({x:t*e.webWidth,y:0,animated:!1}),e.fadeIn(!0)}));var n=e.state.viewList;"function"==typeof e.props.receiveRef&&e.props.receiveRef(n[t]),E.a.emit("SwiperOnscroll")}),5e3))}},{key:"clickDot",value:function(e){var t=this;clearTimeout(this.timer),this.setState({currentPage:e},(function(){var n;null===(n=t.scrollView)||void 0===n||n.scrollTo({x:t.webWidth*e,y:0,animated:!1}),t.fadeIn(!0)})),this.startTimer()}},{key:"clickButton",value:function(e){var t=this;if(this.flag){this.flag=!1,clearTimeout(this.timer);var n=this.state.currentPage;"left"===e?n--:n++,this.setState({currentPage:n},(function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:t.webWidth*n,y:0,animated:!1}),t.fadeIn(!0)})),setTimeout((function(){t.flag=!0}),0),this.startTimer()}}},{key:"buttonShadow",value:function(e,t,n){var r=this,o=this.props,i=(o.width,o.showCategory),a=void 0===i?[]:i;R.a.get("window").width;n[0]&&n[1]&&n[2];return k.a.createElement(L.a,{style:["left"===e?t.buttonLeftCover:t.buttonRightCover,{height:this.webWidth/Object(fe.a)(this.imgList_web[0].imgProportion)}]},a?k.a.createElement(ue.a,null,(function(n){return k.a.createElement(ae.a,{style:1200===r.webWidth?"left"===e?t.leftButtonFaShow1:t.rightButtonFaShow1:"left"===e?t.leftButtonFaShow:t.rightButtonFaShow,onPress:function(){r.clickButton(e)}},k.a.createElement(L.a,{style:["left"===e?t.leftButton:t.rightButton,{backgroundColor:"rgba(0,0,0,0.2)"}]},k.a.createElement(le.a,{source:{uri:"left"===e?pe.m:pe.j},style:t.imageButton}),k.a.createElement(L.a,{style:n?"left"===e?t.leftButtonHoverShadows:t.rightButtonHoverShadows:"left"===e?t.leftButton:t.rightButton})))})):null)}},{key:"fadeIn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t?.95:1;return new Promise((function(){ie.a.timing(e.state.opacity,{toValue:n,duration:600,easing:se.a.linear,useNativeDriver:!0}).start((function(){e.fadeIn(!1)}))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.imgList,r=t.receiveRef,o=t.isShowCategory,i=t.showCategory,a=t.booleDaate,l=t.fillScreenWidth,s=t.pageCatCode,c=t.pageCatName,u=this.state.scrollWidth,d=ge?17:u;if(n.length<=1)this.imgList_web=n;else{var p=[n[0]],f=[n[n.length-1]];this.imgList_web=f.concat(n),this.imgList_web=this.imgList_web.concat(p)}var h=R.a.get("window").width;this.webWidth="true"===l||!0===l?h>3840?3840:h-d:1200;var g=i&&a,m=this.imgList_web.map((function(t,o){var i=parseInt(t.imgProportion.split(":")[0]),a=parseInt(t.imgProportion.split(":")[1]);e.webHeight=i/a>2?2:i/a;var u=0;return o-1>0&&(u=o-1),u>n.length-1&&(u=n.length-1),k.a.createElement(L.a,{style:[{width:e.webWidth}],key:o,ref:r},k.a.createElement(de.a,{imgUri:t.imgUri,imgProportion:"true"==l?e.webHeight:Object(fe.a)(t.imgProportion),actionUrl:t.actionUrl,actionUrlWeb:t.actionUrlWeb,actionUrlWap:t.actionUrlWap,comId:t.comId,gotoPageId:t.gotoPageId,dataCode:t.dataCode,index:u,imgWidth:e.webWidth,newReceiveRef:e.newReceiveRef,showCategory:"true"==l||g,style:{height:"true"==l?550:""},pageId:e.props.pageId,pageCatCode:s,pageCatName:c,resSiteCode:e.props.resSiteCode,resSiteName:e.props.resSiteName,index_name:t.title}))}));return k.a.createElement(M.b,{themeStyles:Z.c},(function(t){var r=[t.dotView];return k.a.createElement(L.a,{onLayout:e.onLayout,style:{width:"web"===j.a.OS?e.webWidth:"100%",margin:"auto",height:"true"==l||g?550:e.webWidth/Object(fe.a)(e.imgList_web[0].imgProportion),marginTop:"true"==l||i?0:24}},k.a.createElement(ie.a.View,{style:{opacity:B.a.isIE()?null:e.state.opacity}},k.a.createElement(ce.a,{ref:e.refScrollView,style:{backgroundColor:"#eee"},horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,onScroll:function(t){e.onScroll(t)},keyboardShouldPersistTaps:!0},m)),k.a.createElement(L.a,{style:[r,{bottom:"true"==l||i?24:0,width:20*e.imgList_web.length,margin:"auto"}]},e.imgList_web<=1?null:function(t){var r=[t.dot],o=[t.dot,t.activeDot],i=[],a=function(t){var n=parseInt(t);i.push(n+1===e.state.currentPage?k.a.createElement(ae.a,{key:t,onPress:function(){e.clickDot(n+1)}},k.a.createElement(L.a,{style:o})):k.a.createElement(ae.a,{key:t,onPress:function(){e.clickDot(n+1)}},k.a.createElement(L.a,{style:r})))};for(var l in n)a(l);return i}(t)),e.buttonShadow("left",t,o),e.buttonShadow("right",t,o))}))}}]),n}(k.a.PureComponent);w()(me,"defaultProps",{});var ye,ve,be,we,Se=me,Ce=n(44),Oe=n(30),Pe=n(46),Te=n(27),xe=n.n(Te),Ie=n(18),ke=n.n(Ie),Ee=(n(60),n(16)),je=new(ye=function(){function e(){s()(this,e),xe()(this,"immersive",ve,this)}return u()(e,[{key:"setImmersive",value:function(e){this.immersive=e}}]),e}(),ve=ke()(ye.prototype,"immersive",[Ee.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ke()(ye.prototype,"setImmersive",[Ee.d],Object.getOwnPropertyDescriptor(ye.prototype,"setImmersive"),ye.prototype),ye),Re=n(32);function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var _e=Object(Re.c)((we=function(e){h()(n,e);var t=Le(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"listenerNative",void 0),w()(p()(r),"imgListWap",void 0),w()(p()(r),"scrollView",void 0),w()(p()(r),"timer",void 0),w()(p()(r),"homePageId",void 0),w()(p()(r),"listener1",void 0),w()(p()(r),"listener2",void 0),w()(p()(r),"listener3",void 0),w()(p()(r),"scrollTimer",void 0),w()(p()(r),"onScrollLister",void 0),w()(p()(r),"onOutScroll",void 0),w()(p()(r),"onOutScroll2",void 0),w()(p()(r),"onOutScroll3",void 0),w()(p()(r),"widths",void 0),w()(p()(r),"curPage",1),w()(p()(r),"_getSize",(function(){return{width:r.state.width}})),w()(p()(r),"isApp",(function(){return"small"===Object(A.a)(r._getSize().width)})),w()(p()(r),"isHorizontal",(function(){var e=r._getSize().width;return e>=Pe.a.height&&e>=1024})),w()(p()(r),"refScrollView",(function(e){r.scrollView=e})),w()(p()(r),"onLayout",(function(){var e;B.a.isIOS()||null===(e=r.scrollView)||void 0===e||e.scrollTo({x:r.state.width,y:0,animated:!1})})),w()(p()(r),"onScrollApp",(function(e){r.setState({scrollY:e})})),w()(p()(r),"bannerStart",(function(e){String(e)===String(r.props.pageId)&&r.startTimer()})),w()(p()(r),"bannerStop",(function(e){String(e)===String(r.props.pageId)&&r.stopTimer()})),w()(p()(r),"pullDown",(function(){je.setImmersive(!1)})),w()(p()(r),"pullEnd",(function(){je.setImmersive(!1)})),w()(p()(r),"pullFinished",(function(){je.setImmersive(!0)})),w()(p()(r),"switchover",(function(e){var t=e.nativeEvent.contentOffset.x,n=Math.round(t/r.state.width);if(r.curPage!==n){if(r.curPage=n,r.setState({currentPage:n}),0===n){var o;if(r.setState({currentPage:r.imgListWap.length-2}),null===r.scrollView)return;null===(o=r.scrollView)||void 0===o||o.scrollTo({x:(r.imgListWap.length-2)*r.state.width,y:0,animated:!1})}if(n===r.imgListWap.length-1){if(r.setState({currentPage:1}),null===r.scrollView)return;clearTimeout(r.scrollTimer),r.scrollTimer=setTimeout((function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:r.state.width,y:0,animated:!1})}),100)}}})),w()(p()(r),"newReceiveRef",(function(e){r.setState({viewList:[].concat(oe()(r.state.viewList),[e])},(function(){}))})),w()(p()(r),"initWidth",function(){var e=K()(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.state.width!==t&&r.setState({width:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.state={currentPage:1,viewList:[],scrollY:0,pullDownRefresh:!1,finished:!1,width:Object(Ce.d)(r.props.pageType).screenWidth},r.homePageId=Oe.a.pageId,r}return u()(n,[{key:"componentDidMount",value:function(){"android"!==j.a.OS&&"ios"!==j.a.OS||(this.widths=this.state.width,this.startTimer(),this.listener1=E.a.addListener("swiperStop",this.bannerStop),this.listener2=E.a.addListener("swiperStart",this.bannerStart),this.onScrollLister=E.a.addListener("onOutScrollViewScroll",this.onScrollApp),this.onOutScroll=E.a.addListener("PullDownFromScratch",this.pullDown),this.onOutScroll2=E.a.addListener("PullDownAndRebound",this.pullFinished),this.onOutScroll3=E.a.addListener("subTabViewRefresh",this.pullEnd))}},{key:"componentDidUpdate",value:function(e,t){this.state.currentPage!==t.currentPage&&(this.stopTimer(),this.startTimer())}},{key:"componentWillUnmount",value:function(){"android"!==j.a.OS&&"ios"!==j.a.OS||(this.stopTimer(),this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.onScrollLister&&this.onScrollLister.remove(),this.onOutScroll&&this.onOutScroll.remove(),this.onOutScroll2&&this.onOutScroll2.remove(),this.onOutScroll3&&this.onOutScroll3.remove(),this.scrollTimer&&clearTimeout(this.scrollTimer))}},{key:"stopTimer",value:function(){clearTimeout(this.timer)}},{key:"scrollBeginDrag",value:function(){this.stopTimer()}},{key:"scrollEndDrag",value:function(){this.startTimer()}},{key:"onAnimatinonEnd",value:function(e){E.a.emit("SwiperOnscroll",e),this.switchover(e)}},{key:"onScroll",value:function(e){this.switchover(e)}},{key:"startTimer",value:function(){var e=this,t=this.imgListWap.length;this.stopTimer(),this.timer=setTimeout((function(){var n,r,o=0,i=(o=e.state.currentPage+1>=t?0:e.state.currentPage+1)*e.state.width;o===e.imgListWap.length-1?null===(n=e.scrollView)||void 0===n||n.scrollTo({x:e.imgListWap.length*e.state.width,y:0,animated:!0}):null===(r=e.scrollView)||void 0===r||r.scrollTo({x:i,y:0,animated:!0});var a=e.state.viewList;"function"==typeof e.props.receiveRef&&e.props.receiveRef(a[o]),E.a.emit("SwiperOnscroll")}),5e3)}},{key:"clickDot",value:function(e){var t;this.setState({currentPage:e}),null===(t=this.scrollView)||void 0===t||t.scrollTo({x:this.state.width*e,y:0,animated:!0})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.imgList,o=n.receiveRef,i=n.pageCatCode,a=n.pageCatName,l=n.padCImgList,s=n.padVImgList,c=n.tabHeight,u=n.resizeConfig,d=this.state.width;if((e=this.isApp()?r:this.isHorizontal()?(null==l?void 0:l.length)>0?l:r:(null==s?void 0:s.length)>0?s:r).length<=1)this.imgListWap=e;else{var p=[e[0]],f=[e[e.length-1]];this.imgListWap=f.concat(e,p)}var h=[0,this.imgListWap.length-1],g=this.imgListWap.map((function(e,n){var r=t.imgListWap.length>=2&&h.includes(n)?null:o,l=t.isApp()?Object(fe.a)(e.imgProportion):t.isHorizontal()?3:16/9,s=n-1>0?n-1:0;return k.a.createElement(L.a,{key:n,style:[{width:d}]},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:l,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,clickAd:t.props.clickAd,comId:e.comId,resizeConfig:u,gotoPageId:e.gotoPageId,dataCode:e.dataCode,style:[!je.immersive&&{top:-c},{borderRadius:0}],index:s,imgWidth:d,isHighQuality:!0,receiveRef:r,pageId:t.props.pageId,pageCatCode:i,pageCatName:a,resSiteCode:t.props.resSiteCode,resSiteName:t.props.resSiteName,index_name:e.title}))})),m=e[0],y=this.isApp()?Object(fe.a)(r[0].imgProportion):this.isHorizontal()?3:16/9,v=Math.floor(d/y);return k.a.createElement(M.b,{themeStyles:Z.a},(function(n,r,l){l!==t.widths&&(t.initWidth(l),t.widths=l);var s=[n.dotView];return k.a.createElement(L.a,{collapsable:!1,style:[{marginTop:-8,height:je.immersive?v:v-c}]},g&&(null==g?void 0:g.length)>1?k.a.createElement(L.a,{onLayout:t.onLayout,style:{height:v}},k.a.createElement(ce.a,{ref:t.refScrollView,horizontal:!0,contentOffset:{x:t.state.width,y:0},showsHorizontalScrollIndicator:!1,pagingEnabled:!0,onScrollBeginDrag:function(){return t.scrollBeginDrag()},onScrollEndDrag:function(){return t.scrollEndDrag()},onMomentumScrollEnd:function(e){return t.onAnimatinonEnd(e)},onScroll:function(e){t.onScroll(e)}},g),k.a.createElement(L.a,{style:[s,!1===je.immersive&&{bottom:t.isApp()?110:118}]},function(n){var r=[n.dot],o=[n.activeDot],i=[],a=function(e){var n=parseInt(e);i.push(n+1===t.state.currentPage?k.a.createElement(ae.a,{key:e,onPress:function(){t.clickDot(n+1)}},k.a.createElement(L.a,{style:o})):k.a.createElement(ae.a,{key:e,onPress:function(){t.clickDot(n+1)}},k.a.createElement(L.a,{style:r})))};for(var l in e)a(l);return i}(n))):k.a.createElement(de.a,{imgUri:null==m?void 0:m.imgUri,imgProportion:Object(fe.a)(m.imgProportion),resizeConfig:u,actionUrl:m.actionUrl,actionUrlWeb:m.actionUrlWeb,actionUrlWap:m.actionUrlWap,clickAd:t.props.clickAd,style:{borderRadius:0},comId:m.comId,gotoPageId:m.gotoPageId,dataCode:m.comId,index:0,imgWidth:l,receiveRef:o,pageId:t.props.pageId,pageCatCode:i,pageCatName:a,resSiteCode:t.props.resSiteCode,resSiteName:t.props.resSiteName,index_name:m.title,isHighQuality:!0}))}))}}]),n}(k.a.PureComponent),w()(we,"defaultProps",{}),be=we))||be,De=n(21),Ne=n(10);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be={exposeItem:function(e){var t=this.props,n=t.imgList,r=t.pageCatCode,o=t.pageCatName,i=t.resSiteCode,a=t.resSiteName,l={array:e.map((function(e,t){var r,o={comId:n[0].comId?n[0].comId.toString():"",index:null===(r=e.key)||void 0===r?void 0:r.toString(),index_name:n[e.key].title||"",sId:"",ruleId:"",dataCode:n[0].dataCode?n[0].dataCode.toString():"",dataType:Ne.c.ADS},i={};if(n[e.key].hotArea&&JSON.parse(n[e.key].hotArea).length>0){var a=JSON.parse(n[e.key].hotArea)[0];i.hotspot_type=a.hotAreaType,i.hotspot_index=a.id,i.hotspot_index_name=a.name}return Ae(Ae({},o),i)}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"图片卡片-轮播图曝光",eventType:Ne.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a},content:l.array}}},Me=n(25),Fe=n(169),He=n(71);function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ue=function(e){h()(n,e);var t=ze(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"lister2",void 0),w()(p()(r),"itemlist",[]),w()(p()(r),"webHeight",void 0),w()(p()(r),"layView",void 0),w()(p()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),w()(p()(r),"isWeb",(function(){return"web"===j.a.OS})),w()(p()(r),"receiveRef",(function(e){var t=r.props.imgList;e&&("web"===j.a.OS?(1===t.length?0===r.itemlist.length&&r.itemlist.push(e):2===t.length&&"medium"===Object(A.a)(r.props.width)&&t.map((function(t,n){var o,i,a;(null===(o=e.props)||void 0===o||null===(i=o.children)||void 0===i||null===(a=i.props)||void 0===a?void 0:a.index)==n&&r.itemlist.push(e)})),t.map((function(t,n){var o,i,a;(null===(o=e.props)||void 0===o||null===(i=o.children)||void 0===i||null===(a=i.props)||void 0===a?void 0:a.index)-1==n&&r.itemlist.push(e)}))):r.itemlist.push(e))})),w()(p()(r),"handleSelect",(function(e){r.webHeight=e})),w()(p()(r),"isPad",(function(){return"medium"===Object(A.a)(r.props.width)||"large"===Object(A.a)(r.props.width)&&r.props.width<ee.a.safety_area})),w()(p()(r),"isLeft",(function(){return(r.props.width-1200)/2})),w()(p()(r),"isIE",(function(){return B.a.isIE()})),w()(p()(r),"immersiveSwiper",(function(){var e=r.props,t=e.imgList,n=e.width,o=e.boxWidth,i=e.hasMargin,a=e.pageCatCode,l=e.pageCatName,s=e.resSiteCode,c=e.resSiteName,u=e.pageId,d=e.padVImgList,p=e.padCImgList,f=e.tabHeight,h=e.resizeConfig;return k.a.createElement(k.a.Fragment,null,k.a.createElement(_e,{imgList:t,width:n,boxWidth:o,hasMargin:i,receiveRef:r.receiveRef,pageId:u,resizeConfig:h,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c,padVImgList:d,padCImgList:p,tabHeight:f}))})),r.state={refWeb:"",offsetLeft:0},r}return u()(n,[{key:"componentDidUpdate",value:function(){if(this.isWeb()&&this._getheighthide(),this.itemlist.length>this.props.imgList.length){var e=this.itemlist.slice(0-this.props.imgList.length);this.itemlist=e}}},{key:"_layout",value:function(e){var t=Object($.a)(e)||0;return new Promise((function(e){X.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"_getheighthide",value:function(){var e=this.props.configInfo,t=Q()(He.a,"showBannerCategory"),n=(e||{}).showCategory;this._layout(this.layView).then(function(){var e=K()(Y.a.mark((function e(r){var o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.pageY+r.height,!t||"true"!==n&&!0!==n){e.next=5;break}o<74?He.a.setBannerVisible(!1):He.a.setBannerVisible(!0),e.next=6;break;case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this,t=this.props,n=t.imgList,r=t.width,o=t.configInfo,i=t.boxWidth,a=t.hasMargin,l=t.pageType,s=t.pageCatCode,c=t.pageCatName,u=t.resSiteCode,d=t.resSiteName,p=t.withTabs,f=t.fillScreenWidth,h=t.layoutType,g=t.isSwitchImmersive,m=t.pageId,y=t.resizeConfig;r=i||r;this.isPad;var v,b=this.isLeft,w=!0===g||"true"===g,S="true"===(null==o?void 0:o.showCategory),O="true"===Q()(He.a,"showBannerCategory"),P=Object(A.a)(r),T=Q()(He.a,"allCategory"),x=Q()(T,"subCategoryList[0]"),I="o2oGuide"===l?C()(x)>0&&O:C()(x)>0;S&&I?He.a.getSubCategory(!0):He.a.getSubCategory(!1);var E="o2oGuide"===l?27:0;switch(this.webHeight>0&&(E=(this.webHeight-496)/2),P){case"small":k.a.Fragment,"ImmersiveBanner"===h&&w?v=this.immersiveSwiper():"ImmersiveBanner"!==h&&(v=k.a.createElement(te.a,{imgList:n,width:r,boxWidth:i,hasMargin:a,receiveRef:this.receiveRef,pageId:m,resizeConfig:y,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d,fillScreenWidth:f}));break;case"medium":k.a.Fragment,"ImmersiveBanner"===h&&w?v=this.immersiveSwiper():"ImmersiveBanner"!==h&&(v=k.a.createElement(ne.a,{imgList:n,width:r,receiveRef:this.receiveRef,pageType:l,pageId:m,resizeConfig:y,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d}));break;case"large":k.a.Fragment,"ImmersiveBanner"===h||(v=k.a.createElement(L.a,{style:Z.d.bannerItemStyle},k.a.createElement(Se,{imgList:n,width:r,receiveRef:this.receiveRef,handleInfo:this.handleSelect,ref:function(t){e.layView=t},isShowCategory:[S,I,E],showCategory:S,booleDaate:I,fillScreenWidth:f,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d}),S&&I&&E?k.a.createElement(L.a,{style:[f&&{position:"absolute",left:b(),top:E},this.isIE()&&f&&{position:"absolute",top:"50%",transform:[{translateY:"-50%"}]}]},k.a.createElement(Fe.a,{actionName:!0,width:r,configInfo:o,category:T,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d})):null));break;default:v=null}return k.a.createElement(M.b,{themeStyles:Z.a},(function(t){return k.a.createElement(L.a,{collapsable:!1,onLayout:e.props.onLayout,style:[e.isApkOrIos()?{marginTop:"true"===p||!0===p?"homePage"===l?-8:-12:null}:{marginTop:"true"===p||!0===p?-8:null}]},v)}))}}]),n}(k.a.PureComponent);w()(Ue,"defaultProps",{hasMargin:!0});var Ve=Object(z.a)(Object(De.a)(Be)(Object(Me.a)(Ue))),Ge=n(11);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke={exposeItem:function(e){var t,n=this,r=this.props,o=r.imgList,i=r.layoutType,a=r.pageCatCode,l=r.pageCatName,s=r.resSiteCode,c=r.resSiteName,u="图片卡片-单行多个组件曝光",d={array:e.map((function(e,t){var n,r={};if(o[e.key].hotArea&&JSON.parse(o[e.key].hotArea).length>0){var i=JSON.parse(o[e.key].hotArea)[0];r.hotspot_type=i.hotAreaType,r.hotspot_index=i.id,r.hotspot_index_name=i.name}return Je(Je({},{comId:o[0].comId?o[0].comId.toString():"",index:o[0].index?o[0].index.toString():null===(n=e.key)||void 0===n?void 0:n.toString(),index_name:o[e.key].title||"",sId:"",ruleId:"",dataCode:o[0].dataCode?o[0].dataCode.toString():"",dataType:Ne.c.ADS}),r)}))};return"StaggeredLayout"===i&&(d.array.map((function(e,t){e.hybridShelfdCardType=o[t].labelFlag?o[t].cardType+"_"+o[t].labelFlag:o[t].cardType.toString(),e.dataType=n.props.bigMixCrad?"44":"31",e.row=n.props.bigMixCrad?void 0:"",e.column=n.props.bigMixCrad?void 0:"",e.ruleId=n.props.bigMixCrad?void 0:o[0].ruleId||"",e.sId=n.props.bigMixCrad?void 0:o[0].sId||"",e.index_name=n.props.bigMixCrad?void 0:"",e.dataCode=o[0].cardCode?o[0].cardCode.toString():""})),u="立体货架-图片基础组件"),{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:u,eventType:Ne.e.EVENT_TYPE_EXPOSURE,pageId:"undefined"!==this.props.pageId&&null!==(t=this.props)&&void 0!==t&&t.pageId?this.props.pageId:Ge.a.pageId,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c},content:d.array}}},qe=n(33),Qe=n(90);function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Xe=function(e){h()(r,e);var t,n=$e(r);function r(e){var t;s()(this,r),t=n.call(this,e),w()(p()(t),"itemlist",[]),w()(p()(t),"timer",void 0),w()(p()(t),"refreshListener",void 0),w()(p()(t),"sizeListener",void 0),w()(p()(t),"fixScreen",void 0),w()(p()(t),"imageList",void 0),w()(p()(t),"receiveRef",(function(e){e&&(e.tabIndex=t.props.tabIndex,t.itemlist.push(e),"function"==typeof t.props.receiveRef&&t.props.receiveRef(e))})),w()(p()(t),"_getSize",(function(){return{width:Object(Ce.d)(t.props.pageType).screenWidth,height:Object(Ce.d)(t.props.pageType).screenHeight}})),w()(p()(t),"getWindowSize",(function(e){var t,n;return{screenWidth:null!==(t=Pe.a.getWidthWithParams(e))&&void 0!==t?t:Pe.a.width,screenHeight:null!==(n=Pe.a.getHeightWithParams(e))&&void 0!==n?n:Pe.a.height}})),w()(p()(t),"getWitd",(function(){return t.getWindowSize().screenWidth})),w()(p()(t),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),w()(p()(t),"isPad",(function(){return"medium"===Object(A.a)(t._getSize().width)})),w()(p()(t),"getPlatformPrefix",(function(){var e="small"===Object(A.a)(t.state.width);return"web"===j.a.OS?e?Ne.f.WAP:Ne.f.PC:Ne.f.APP})),w()(p()(t),"isHorizontal",(function(){var e="web"===j.a.OS?R.a.get("window").width:Pe.a.width;return e>=("web"===j.a.OS?R.a.get("window").height:Pe.a.height)&&e>=1024})),w()(p()(t),"getImageList",(function(e,n){var r,o,i,a,l,s=e.rows,c=e.columnNumber,u=e.imgList,d=e.padVImgList,p=e.padCImgList;(a=t.isPad()&&!Object(qe.j)()?t.isHorizontal()?t.fixScreen?(null==d?void 0:d.length)>0?d:u:(null==p?void 0:p.length)>0?p:u:t.state.isPadApk&&!t.fixScreen&&"small"===Object(A.a)(t.state.width)?u:(null==d?void 0:d.length)>0?d:u:u,o="web"===j.a.OS&&"large"===Object(A.a)(n)&&u&&"3:2"===u[0].imgProportion&&2===c?4*s:"medium"===Object(A.a)(n)&&1===c&&"4:5"===u[0].imgProportion?2*s:s*c,(null===(r=a)||void 0===r?void 0:r.length)>o)?i=null===(l=a)||void 0===l?void 0:l.slice(0,null!==Ge.a&&void 0!==Ge.a&&Ge.a.carrierCode&&1===c?5:o):i=a;return i})),w()(p()(t),"initWidth",(function(e){t.state.layoutWidth!==e&&(t.setState({layoutWidth:e},(function(){t.initImageList(t.props)})),"smartlife"===t.props.pageType&&t.initImageList(t.props))}));var o=Object(Ce.d)(t.props.pageType).screenWidth,i=Object(qe.j)()?t.getImageList(e,Object(Ce.d)(t.props.pageType).screenWidth):[],a=Object(qe.j)()?t.getImageList(e,Object(Ce.d)(t.props.pageType).screenWidth):[],l=Object(qe.j)()?t.getImageList(e,Object(Ce.d)(t.props.pageType).screenWidth):[];return t.state={imgList:i,imgPadC:l,imgPadV:a,columnNumber:t.props.columnNumber,close:t.props.isClosed,scene:t.props.scene,width:o,layoutWidth:Object(qe.j)()?o:R.a.get("window").width,isFixScreen:!1,isPadApk:!1},t}return u()(r,[{key:"callBackClose",value:function(e){var t,n=this.state.imgList;n&&n.splice(e,1),this.setState({imgList:n}),this.forceUpdate();var r=n.length>0;null===(t=this.props)||void 0===t||t.setHeaderCardShow(r)}},{key:"componentDidMount",value:function(){var e=this;"topMenu"===this.props.scene?Qe.a.setTopMenu(!0):Qe.a.setTopMenu(!1),this.initImageList(this.props),Object(qe.j)()||(this.refreshListener=E.a.addListener("homeRefresh",(function(t){"ios"===j.a.OS&&e.props.isClosed&&t==e.props.pageType&&e.initImageList(e.props)})),this.sizeListener=E.a.addListener("switchScreenDir",(function(){e.setState({width:e.getWindowSize(e.props.pageType).screenWidth,height:e.getWindowSize(e.props.pageType).screenHeight})})),B.a.isAndroid()&&Object(qe.l)().then((function(t){null!=t&&t.pad&&"true"===(null==t?void 0:t.pad)?e.setState({isPadApk:!0}):e.setState({isPadApk:!1})})))}},{key:"componentDidUpdate",value:(t=K()(Y.a.mark((function e(){var t=this;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sizeListener=!Object(qe.j)()&&E.a.addListener("switchScreenDir",(function(){t.setState({height:t.getWindowSize(t.props.pageType).screenHeight},(function(){}))})),!this.isApkOrIos()){e.next=5;break}return e.next=4,Object(qe.i)();case 4:this.fixScreen=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.refreshListener&&this.refreshListener.remove(),this.sizeListener&&this.sizeListener.remove()}},{key:"initImageList",value:function(e){if(!Object(qe.j)()){var t=this.getImageList(e,this.state.width);this.setState({imgList:t,imgPadC:t,imgPadV:t})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.imgList,r=t.columnNumber,o=t.close,i=t.scene,a=t.width,l=t.imgPadV,s=t.imgPadC,c=this.props,u=c.boxWidth,d=c.hasMargin,p=c.selfStyle,f=void 0===p?{}:p,h=c.pageType,g=c.layoutType,m=c.withTabs,y=c.padVImgProp,v=c.padCImgProp,b=c.fillScreenWidth,w=c.title,S=c.titleShow;"web"!==j.a.OS&&(a=this._getSize().width);var C,O,P="true"===m||!0===m,T=!0===b||"true"===b;a=u||a;var x,I=d?32:0,E=3===r&&n.length%3!=0?{}:{justifyContent:"space-between"};"small"===Object(A.a)(a)?(C=8,O=T?a:a-I):"medium"===Object(A.a)(a)?(C=8,O=T?a:a-48):"topMenu"===i?C=0:(C=12,O=T?a:1200),this.props.bigMixCrad&&(C=12);var _=(this.isPad()&&!Object(qe.j)()?this.isHorizontal()?this.fixScreen?(null==l?void 0:l.length)>0?l:n:(null==s?void 0:s.length)>0?s:n:this.state.isPadApk&&!this.fixScreen&&"small"===Object(A.a)(this.state.width)?n:(null==l?void 0:l.length)>0?l:n:n).map((function(t,l){var s,c,p=R.a.get("window");p.width,p.height;if(s=e.isPad()?e.isHorizontal()?v||t.imgProportion:y||t.imgProportion:t.imgProportion,"small"===Object(A.a)(a))1===r&&(c=a-(d?32:0)),2===r&&(c=(a-(d?40:8))/2),3===r&&(c=(a-(d?48:16))/3);else if("medium"===Object(A.a)(a)){if(1===r&&(c="4:5"===t.imgProportion?(a-60)/2:a-48),2===r)if("3:2"===t.imgProportion){var m=Object(qe.k)()?84:72;c=(a-m)/4}else{var b=Object(qe.k)()?60:56;c=(a-b)/2}if(3===r){var I=Object(qe.k)()?72:64;c=(a-I)/3}}else 1===r&&(c=1200),2===r&&(c="3:2"===t.imgProportion?291:594);var E={shadowColor:"#000000",shadowOffset:{width:0,height:0},shadowOpacity:.12,shadowRadius:36,marginLeft:x=3===r?l%3==0||n.length%3==0?0:8:0,borderRadius:16},j=e.props.onClick;"scenarized"==i&&e.isPad()&&(c=u),"StaggeredLayout"===g&&(c=u);var _="true"===S&&!w||"false"===S,D=P?0===l||2===r&&1===l?_?-12:10:C:C,N=_?0:8,W=_?"homePage"===h?0:-4:8,B=e.isApkOrIos()?W:N,M=0===l||2===r&&1===l||3===r&&1===l||3===r&&2===l?B:C,F=P?M:C,H=e.state.isPadApk&&!e.fixScreen&&"small"===Object(A.a)(e.state.width)?O+2:O;return k.a.createElement(ue.a,null,(function(n){return k.a.createElement(L.a,{style:[n&&null!=t&&t.actionUrlWeb?E:{marginLeft:x},e.isApkOrIos()?{marginTop:P?M:C}:{marginTop:"large"===Object(A.a)(a)?D:F}],key:l,ref:e.isApkOrIos()?null:e.receiveRef},k.a.createElement(de.a,{imgUri:t.imgUri,imgProportion:Object(fe.a)(s||t.imgProportion),sourceImgProportion:s||t.imgProportion,actionUrl:t.actionUrl,actionUrlWeb:t.actionUrlWeb,actionUrlWap:t.actionUrlWap,comId:t.comId,gotoPageId:t.gotoPageId,dataCode:t.dataCode?t.dataCode:t.cardCode,index:t.index?t.index:l,receiveRef:e.isApkOrIos()?e.receiveRef:null,imgWidth:T?H:c,columnNumber:r,scene:i,showAnchor:t.showAnchor,hotArea:t.hotArea,cardHotArea:t.anchor,isClosed:o,callBackClose:function(){return e.callBackClose(l)},boxWidth:T?a:u,hasMargin:d,style:T?{borderRadius:0}:f,pageType:h,layoutType:g,onClick:j,ruleId:t.ruleId,sId:t.sId,pageId:e.props.pageId,pageCatCode:e.props.pageCatCode,pageCatName:e.props.pageCatName,resSiteCode:e.props.resSiteCode,resSiteName:e.props.resSiteName,index_name:t.title,bigMixCrad:e.props.bigMixCrad,isHighQuality:!0}))}))})),N=this.state.isPadApk&&!this.fixScreen&&"small"===Object(A.a)(this.state.width)?O+2:O;return k.a.createElement(M.b,{themeStyles:D},(function(t,n,r){return r=Object(qe.j)()?Object(Ce.d)().screenWidth:r,e.initWidth(r),k.a.createElement(k.a.Fragment,null,"topMenu"===i?k.a.createElement(L.a,null,_):"scenarized"===i?k.a.createElement(L.a,{style:[{flexDirection:"row",flexWrap:"wrap",width:O,marginTop:-C,marginLeft:0},e.isPad()&&{flexDirection:"row",flexWrap:"wrap",width:O,marginTop:-C,marginLeft:24},E,"StaggeredLayout"===g?{marginTop:0}:{}]},_):k.a.createElement(H.a,{type:"autoPadding",style:[!e.props.bigMixCrad&&{alignItems:"center"},e.props.bigMixCrad&&{paddingRight:0,paddingLeft:0}]},k.a.createElement(L.a,{style:[{flexDirection:"row",flexWrap:"wrap",width:N,marginTop:-C,justifyContent:"space-between"},E,"StaggeredLayout"===g?{marginTop:0}:{}]},_)))}))}}]),r}(I.PureComponent);w()(Xe,"defaultProps",{hasMargin:!0});var Ze=Object(z.a)(Object(De.a)(Ke)(Object(Me.a)(Xe))),et=n(152),tt=function(){return _.a.create({mixedLayoutStyle:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start"}})};_.a.create({imgListWrap1:{flexDirection:"row",justifyContent:"space-between"},imgListWrap2:{flexDirection:"row",justifyContent:"center",alignItems:"flex-start",flexWrap:"wrap",alignContent:"space-between"},imgListWrap3:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap"},mediumImgListWrap1:{flexDirection:"row",justifyContent:"space-between",marginLeft:24,marginRight:24},mediumImgListWrap2:{flexDirection:"column",justifyContent:"space-between"},mediumImgListWrap3:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24},mediumImgListHorizontal1:{flexDirection:"row",justifyContent:"center",marginLeft:24,marginRight:24},mediumImgListHorizontal2:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",flexWrap:"wrap"},mediumImgListHorizontal3:{flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24},imgListViewSt1:{flexDirection:"row",marginLeft:24,marginRight:24},imgListViewSt2:{flexDirection:"row",flexWrap:"wrap"},imgListViewSt3:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24},flexColumnBet:{flexDirection:"column",justifyContent:"space-between"},flexRow:{flexDirection:"row"},bigImgList3:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"wrap"},bigImgList4:{flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24},midImgList3:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24}});function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot={exposeItem:function(e){var t=this.props,n=t.imgList,r=t.pageCatCode,o=t.pageCatName,i=t.resSiteCode,a=t.resSiteName,l={array:e.map((function(e,t){var r,o={comId:n[0].comId?n[0].comId.toString():"",index:null===(r=e.key)||void 0===r?void 0:r.toString(),index_name:n[e.key].title||"",sId:"",ruleId:"",dataCode:n[0].dataCode?n[0].dataCode.toString():"",dataType:Ne.c.ADS},i={};if(n[e.key].hotArea&&JSON.parse(n[e.key].hotArea).length>0){var a=JSON.parse(n[e.key].hotArea)[0];i.hotspot_type=a.hotAreaType,i.hotspot_index=a.id,i.hotspot_index_name=a.name}return rt(rt({},o),i)}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"图片卡片-混合拼接曝光",eventType:Ne.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a},content:l.array}}};function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var at=R.a.get("window"),lt=function(e){h()(n,e);var t=it(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"itemlist",[]),w()(p()(r),"pageTypePadding",void 0),w()(p()(r),"receiveRef",(function(e){var t=r.props.imgList;e&&("web"===j.a.OS?t.map((function(t,n){var o,i,a;(null===(o=e.props)||void 0===o||null===(i=o.children)||void 0===i||null===(a=i.props)||void 0===a?void 0:a.index)-1==n&&r.itemlist.push(e)})):(e.tabIndex=r.props.tabIndex,r.itemlist.push(e)))})),w()(p()(r),"getPlatformPrefix",(function(){var e="small"===Object(A.a)(r.props.width);return"web"===j.a.OS?e?Ne.f.WAP:Ne.f.PC:Ne.f.APP})),w()(p()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),w()(p()(r),"isWeb",(function(){return"web"===j.a.OS})),w()(p()(r),"isHorizontal",(function(){return("web"===j.a.OS?R.a.get("window").width:Pe.a.width)>=("web"===j.a.OS?R.a.get("window").height:Pe.a.height)})),r.state={layoutWidth:0,scrollWidth:0,isPadApk:!1},r.onLayout=r.onLayout.bind(p()(r)),r}return u()(n,[{key:"onLayout",value:function(e){this.setState({layoutWidth:e.nativeEvent.layout.width})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.pageType,n=this.isApkOrIos()&&this.isHorizontal()?10:6;if(this.pageTypePadding="homePage"===t?8:n,"web"===j.a.OS){var r=document.createElement("div");r.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(r);var o=r.offsetWidth-r.clientWidth;document.body.removeChild(r),this.setState({scrollWidth:o})}B.a.isAndroid()&&Object(qe.l)().then((function(t){null!=t&&t.pad&&"true"===(null==t?void 0:t.pad)?e.setState({isPadApk:!0}):e.setState({isPadApk:!1})}))}},{key:"componentDidUpdate",value:function(){var e=this.props.pageType,t=this.isApkOrIos()&&this.isHorizontal()?10:6;this.pageTypePadding="homePage"===e?8:t}},{key:"render",value:function(){var e,t,n,r,o,i,a,l,s,c,u,d,p,f=this,h=this.props,g=h.imgList,m=h.boxWidth,y=h.hasMargin,v=h.pageCatCode,b=h.pageCatName,w=h.withTabs,S=h.pageType,C=h.title,O=(null===(e=this.props)||void 0===e?void 0:e.configInfo)||{},P=O.carouselPicNum,T=O.titleShow,x=at.width>at.height,I=Object(A.a)(m||this.props.width),E=m||("large"===I?1200:this.props.width-this.state.scrollWidth),j={shadowColor:"#000000",shadowOffset:{width:0,height:0},shadowOpacity:.1,shadowRadius:36},R=y?32:0,_=g.slice(0,P),D=!P||P<2?1:parseInt(P),N="false"===T||"true"===T&&!C;switch(I){case"small":d=2/3,p=40/29,l=this.state.isPadApk&&"small"===Object(A.a)(this.state.width)?160*(E-R)/328:Math.floor(160*(E-R)/328),c=l,u=8*(E-32)/328;var W=l/d,B=N?0:10;t=g.slice(0,1).map((function(e,t){return k.a.createElement(L.a,{key:t,ref:f.isWeb()?f.receiveRef:null},P>=2?k.a.createElement(te.a,{imgList:_,width:l,boxWidth:l,imgProportion:d,height:W,receiveRef:f.receiveRef,pageId:f.props.pageId,mixedSwiper:!0,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName}):k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:d,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,boxWidth:m,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),n=g.slice(D,D+2).map((function(e,t){return k.a.createElement(L.a,{key:t,style:{width:c,marginTop:y?u:0},ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+D:t+1,imgWidth:l,boxWidth:m,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),r=g.slice(D+2).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+(D+2):t+3,imgWidth:l,boxWidth:m,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),i=k.a.createElement(L.a,{style:[{flexDirection:"row",justifyContent:"space-between",marginTop:w?B:-u,paddingTop:"smartlife"===S?u:0},y?{marginLeft:16,marginRight:16}:{}]},k.a.createElement(L.a,{style:[{width:l,marginTop:y?u:0},P>=2&&{overflow:"hidden",borderRadius:8}]},t),k.a.createElement(L.a,{style:{width:c,flexDirection:"row",justifyContent:"center",alignItems:"flex-start",flexWrap:"wrap",alignContent:"space-between"}},n)),a=k.a.createElement(L.a,{style:[{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap"},y?{marginLeft:16,marginRight:16}:{}]},r);break;case"medium":if(E<841)if(d=192/287,p=192/139.6,g.length<=3){s=192*(E-48)/394/(192/287),c=l=192*(E-48)/394,u=Math.floor(8*(E-48)/394);var F=N?0:8,z=l/d;t=g.slice(0,1).map((function(e,t){return k.a.createElement(L.a,{ref:f.isWeb()?f.receiveRef:null},P>=2?k.a.createElement(te.a,{imgList:_,width:l,boxWidth:l,imgProportion:d,height:z,receiveRef:f.receiveRef,pageId:f.props.pageId,mixedSwiper:!0,mixedPad:!0}):k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:d,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),n=g.slice(D,D+3).map((function(e,t){return k.a.createElement(L.a,{key:t,style:{width:c},ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+D:t+1,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),r=g.slice(3).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t+3,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),i=k.a.createElement(L.a,{style:{flexDirection:"row",justifyContent:"space-between",marginLeft:24,marginRight:24,marginTop:w?F:0}},k.a.createElement(L.a,{style:[{width:l},P>=2&&{overflow:"hidden",borderRadius:8}]},t),k.a.createElement(L.a,{style:{height:s,flexDirection:"column",justifyContent:"space-between"}},n)),a=k.a.createElement(L.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24}},r)}else{l=192*(E-48)/592,u=Math.floor(8*(E-48)/592),c=2*(l+u);var U=N?this.isApkOrIos()?-18:-14:-8,V=l/d;t=g.slice(0,1).map((function(e,t){return k.a.createElement(L.a,{ref:f.isWeb()?f.receiveRef:null},P>=2?k.a.createElement(te.a,{imgList:_,width:l,boxWidth:l,imgProportion:d,height:V,receiveRef:f.receiveRef,pageId:f.props.pageId,mixedSwiper:!0,mixedPad:!0}):k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:d,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),n=g.slice(D,D+4).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u,marginLeft:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+D:t+1,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),r=g.slice(D+4).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u,marginRight:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+(D+4):t+5,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),i=k.a.createElement(L.a,{style:{flexDirection:"row",justifyContent:"center",marginLeft:24,marginRight:24,marginTop:w?U:-14,paddingTop:this.pageTypePadding}},k.a.createElement(L.a,{style:[{width:l,marginTop:u},P>=2&&{overflow:"hidden",borderRadius:8}]},t),k.a.createElement(L.a,{style:{width:c,flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",flexWrap:"wrap"}},n)),a=k.a.createElement(L.a,{style:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24,width:E-24}},r)}else{238/357,238/172.55,c=l=(E-48-3*(u=x?12:8))/4;var G=N?this.isApkOrIos()?-24:-18:-12;if(g.length<=4){var Y=l/(238/357);t=g.slice(0,1).map((function(e,t){return k.a.createElement(L.a,{ref:f.isWeb()?f.receiveRef:null},P>=2?k.a.createElement(te.a,{imgList:_,width:l,boxWidth:l,imgProportion:238/357,height:Y,receiveRef:f.receiveRef,pageId:f.props.pageId,mixedSwiper:!0,mixedPad:!0}):k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:238/357,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),n=g.slice(D,g.length).map((function(e,t){return k.a.createElement(L.a,{key:t,style:{width:c,marginTop:u,marginLeft:u},ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+D:t+1,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),r=g.slice(5).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u,marginRight:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t+3,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),i=k.a.createElement(L.a,{style:{flexDirection:"row",marginLeft:24,marginRight:24,marginTop:w?G:N?-16:-20,paddingTop:this.pageTypePadding}},k.a.createElement(L.a,{style:[{width:l-1,marginTop:u},P>=2&&{overflow:"hidden",borderRadius:8}]},t),k.a.createElement(L.a,{style:{flexDirection:"row",flexWrap:"wrap"}},n)),a=k.a.createElement(L.a,{style:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24,width:E-24}},r)}else if(g.length>4&&g.length<=7){var J=l/(238/357);t=g.slice(0,1).map((function(e,t){return k.a.createElement(L.a,{ref:f.isWeb()?f.receiveRef:null},P>=2?k.a.createElement(te.a,{imgList:_,width:l,boxWidth:l,imgProportion:238/357,height:J,receiveRef:f.receiveRef,pageId:f.props.pageId,mixedSwiper:!0,mixedPad:!0}):k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:238/357,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),n=g.slice(D,D+3).map((function(e,t){return k.a.createElement(L.a,{key:t,style:{width:c,marginTop:u,marginLeft:u},ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+D:t+1,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),r=g.slice(D+3,g.length).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginLeft:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+(D+3):t+4,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),i=k.a.createElement(L.a,{style:{flexDirection:"row",marginLeft:24,marginRight:24,marginTop:w?G:-18,paddingTop:this.pageTypePadding}},k.a.createElement(L.a,{style:[{width:l-1,marginTop:u},P>=2&&{overflow:"hidden",borderRadius:8}]},t),k.a.createElement(L.a,{style:{flexDirection:"column",justifyContent:"space-between",width:3*c+3*u}},k.a.createElement(L.a,{style:{flexDirection:"row"}},n),k.a.createElement(L.a,{style:{flexDirection:"row"}},r)))}else if(g.length>7){var K=l/(238/357);t=g.slice(0,1).map((function(e,t){return k.a.createElement(L.a,{ref:f.isWeb()?f.receiveRef:null},P>=2?k.a.createElement(te.a,{imgList:_,width:l,boxWidth:l,imgProportion:238/357,height:K,receiveRef:f.receiveRef,pageId:f.props.pageId,mixedSwiper:!0,mixedPad:!0}):k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:238/357,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),n=g.slice(D,D+3).map((function(e,t){return k.a.createElement(L.a,{key:t,style:{width:c,marginTop:u,marginLeft:u},ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+D:t+1,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),r=g.slice(D+3,D+6).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u,marginLeft:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+(D+3):t+3,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),o=g.splice(D+6,g.length).map((function(e,t){return k.a.createElement(L.a,{style:{width:l,marginTop:u,marginRight:u},key:t,ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:238/172.55,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:P>=2?t+5:t+4,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageId:f.props.pageId,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))})),i=k.a.createElement(L.a,{style:{flexDirection:"row",marginLeft:24,marginRight:24,marginTop:w?G:-18,paddingTop:this.pageTypePadding}},k.a.createElement(L.a,{style:[{width:l-1,marginTop:u},P>=2&&{overflow:"hidden",borderRadius:8}]},t),k.a.createElement(L.a,{style:{flexDirection:"column",justifyContent:"space-between",width:3*c+3*u}},k.a.createElement(L.a,{style:{flexDirection:"row"}},n),k.a.createElement(L.a,{style:{flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",flexWrap:"wrap"}},r))),a=k.a.createElement(L.a,{style:{flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap",marginLeft:24,marginRight:24,width:E-24}},o)}}break;case"large":d=594/520,p=594/254,u=12,c=l=594;var q=N?-u:12;t=g.slice(0,1).map((function(e,t){return k.a.createElement(ue.a,{key:t},(function(n){return k.a.createElement(L.a,{style:n&&null!=e&&e.actionUrlWeb?j:{},ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{key:t,imgUri:e.imgUri,imgProportion:d,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))}))})),n=g.slice(1,3).map((function(e,t){return k.a.createElement(ue.a,{key:t+"a"},(function(n){return k.a.createElement(L.a,{style:[{width:c,marginTop:u},n&&null!=e&&e.actionUrlWeb?j:{}],ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t+1,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageCatCode:v,pageCatName:b,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName,index_name:e.title}))}))})),r=g.slice(3).map((function(e,t){return k.a.createElement(ue.a,{key:t+"c"},(function(n){return k.a.createElement(L.a,{style:[{width:l,marginTop:u},n&&null!=e&&e.actionUrlWeb?j:{}],ref:f.isWeb()?f.receiveRef:null},k.a.createElement(de.a,{imgUri:e.imgUri,imgProportion:p,actionUrl:e.actionUrl,actionUrlWeb:e.actionUrlWeb,actionUrlWap:e.actionUrlWap,comId:e.comId,gotoPageId:e.gotoPageId,dataCode:e.dataCode,index:t+3,imgWidth:l,receiveRef:f.isApkOrIos()?f.receiveRef:null,pageCatCode:v,pageCatName:b,index_name:e.title,resSiteCode:f.props.resSiteCode,resSiteName:f.props.resSiteName}))}))})),i=k.a.createElement(L.a,{style:{flexDirection:"row",justifyContent:"space-between",marginTop:w?q:-u}},k.a.createElement(L.a,{style:{width:l,marginTop:u}},t),k.a.createElement(L.a,{style:{width:c,flexDirection:"row",justifyContent:"flex-start",marginLeft:u,alignItems:"flex-start",flexWrap:"wrap"}},n)),a=k.a.createElement(L.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap"}},r);break;default:return null}var Q="true"===w||!0===w?"large"===I?-24:"small"===I?-19:-8:0;return k.a.createElement(M.b,{themeStyles:tt},(function(e){return m?k.a.createElement(L.a,{style:{marginTop:Q}},k.a.createElement(et.a,{style:{height:0}}," "),i,a):k.a.createElement(H.a,{onLayout:f.onLayout,style:{marginTop:Q}},i,a)}))}}]),n}(k.a.PureComponent);w()(lt,"defaultProps",{hasMargin:!0});var st=Object(z.a)(Object(De.a)(ot)(Object(Me.a)(lt))),ct=n(3);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt="web"===j.a.OS?{touchAction:"pan-y"}:{},ft=function(){return _.a.create({picturesDotView:{height:32,position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},picturesDot:{backgroundColor:"#00000019",minWidth:6,width:6,height:6,borderRadius:6,marginLeft:4,marginRight:4},picturesActiveDot:{backgroundColor:"#FFFFFF",width:6,height:6,borderRadius:6,marginLeft:4,marginRight:4},buttonLeftCover:{position:"absolute",width:56,height:56,left:0},buttonRightCover:{position:"absolute",width:56,height:56,right:0},button:{backgroundColor:"#00000033",width:24,height:24,top:16,left:16,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},button_circle:{position:"absolute",width:24,height:24,borderRadius:26,borderColor:"#FFFFFF33",borderWidth:.5,zIndex:3},scrollView:dt({position:"relative"},pt)})},ht=n(20),gt=n(24),mt=n(168);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt={clickItem:function(e,t,n,r){var o,i,a=Object(ct.F)()?this:this.props,l=a.pageCatCode,s=a.pageCatName,c=a.resSiteCode,u=a.resSiteName;return{data:{actionCode:"ios"===j.a.OS||"android"===j.a.OS?"110000101":Object(ct.F)()?"410000101":"210000101",actionName:"点击翻页按钮",eventType:Ne.e.EVENT_TYPE_CLICK,pageId:t,content:{comId:null==e||null===(o=e.comId)||void 0===o?void 0:o.toString(),gotoPageId:(null==e?void 0:e.gotoPageId.toString())||"",gotoUrl:(null==e?void 0:e.url)||"",ruleId:"",sId:"",dataCode:null==e?void 0:e.dataCode,dataType:"3",row:"",column:"",index:null==n?void 0:n.toString(),clickType:r?"39":"40",nextPage:null!=e&&e.nextPage?null==e||null===(i=e.nextPage)||void 0===i?void 0:i.toString():""},pageCatCode:l,pageCatName:s,resSiteCode:c,resSiteName:u}}},exposeItem:function(e){var t,n=this.props,r=n.imgList,o=n.pageCatCode,i=n.pageCatName,a=n.resSiteCode,l=n.resSiteName,s={array:e.map((function(e,t){var n,o={};if(r[e.key].hotArea&&JSON.parse(r[e.key].hotArea).length>0){var i=JSON.parse(r[e.key].hotArea)[0];o.hotspot_type=i.hotAreaType,o.hotspot_index=i.id,o.hotspot_index_name=i.name}return vt(vt({},{comId:r[0].comId?r[0].comId.toString():"",index:r[0].index?r[0].index.toString():null===(n=e.key)||void 0===n?void 0:n.toString(),index_name:r[e.key].title||"",sId:"",ruleId:"",dataCode:r[0].dataCode?r[0].dataCode.toString():"",dataType:Ne.c.ADS}),o)}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"图片卡片-单行多个组件曝光",eventType:Ne.e.EVENT_TYPE_EXPOSURE,pageId:"undefined"!==this.props.pageId&&null!==(t=this.props)&&void 0!==t&&t.pageId?this.props.pageId:Ge.a.pageId,pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l},content:s.array}}},wt=n(554),St=n.n(wt),Ct=n(104),Ot=n.n(Ct),Pt=n(52),Tt=n.n(Pt),xt=n(555),It=n.n(xt),kt=n(53);function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=function(e){return _.a.create({imgPad:{},rightCon:{padding:12,paddingTop:10,paddingBottom:10,paddingRight:0,overflow:"hidden",backgroundColor:e.S31.backgroundColor,justifyContent:"space-between",borderBottomLeftRadius:16,borderBottomRightRadius:16},rightPad:{paddingLeft:16,paddingTop:16,borderBottomLeftRadius:0,paddingBottom:0,backgroundColor:e.C33.color,borderTopRightRadius:16,borderBottomRightRadius:16},rightText:jt(jt({opacity:.9,fontFamily:kt.a.fontFamilyBase,color:e.C12.color,textAlign:"left",height:28},e.T10),{},{lineHeight:"android"===j.a.OS?24:28}),rightTextPad:jt({marginBottom:12,opacity:.9,fontFamily:kt.a.fontFamilyMedium,color:e.C12.color,textAlign:"left"},e.T10),rightTwoText:jt({opacity:.6,fontFamily:kt.a.fontFamilyBase,color:e.C13.color,textAlign:"left",marginBottom:16},e.T7),renderText:jt(jt({color:e.C13.color,opacity:.6,fontFamily:"ios"===j.a.OS?null:"LucidaGrande",paddingBottom:6},e.T3),{},{marginRight:1}),renderContent:{backgroundColor:e.C39.color+"19",padding:3,borderRadius:8,overflow:"hidden"},renderBorder:{borderWidth:1,borderColor:e.C33.color+"19",backgroundColor:e.S31.backgroundColor},renderConten:{width:24,height:24,borderRadius:16,justifyContent:"center",alignItems:"center",paddingLeft:2,backgroundColor:e.C16.color+"21"},renderRightConten:{width:24,height:24,borderRadius:16,justifyContent:"center",alignItems:"center",paddingLeft:7,backgroundColor:e.C16.color+"21"},BorderCurrentPage:{borderWidth:1,borderColor:e.C39.color+"19"},ContenCurrentPage:{width:24,height:24,borderRadius:16,justifyContent:"center",alignItems:"center",backgroundColor:e.C33.color},imgSize:{width:12,height:8},imgWrap:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:25,height:25}})},Lt=n(432),_t={clickItem:function(e,t,n){var r,o,i=Object(ct.F)()?this:this.props,a=i.pageCatCode,l=i.pageCatName,s=i.resSiteCode,c=i.resSiteName;return{data:{actionCode:"ios"===j.a.OS||"android"===j.a.OS?"110000101":Object(ct.F)()?"410000101":"210000101",actionName:"点击商品",eventType:Ne.e.EVENT_TYPE_CLICK,pageId:t,content:{comId:null==e||null===(r=e.comId)||void 0===r?void 0:r.toString(),gotoPageId:"",gotoUrl:(null==e?void 0:e.url)||"",ruleId:"",sId:"",dataCode:null==e?void 0:e.dataCode,dataType:"3",row:"",column:"",index:null==n?void 0:n.toString(),clickType:"37",nextPage:null!=e&&e.nextPage?null==e||null===(o=e.nextPage)||void 0===o?void 0:o.toString():""},pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}}},Dt=n(120),Nt=n(22);function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var At=Object(ct.F)()?n(427).ScrollView:n(9).ScrollView,Bt=function(e){h()(r,e);var t,n=Wt(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"imgWidth",void 0),w()(p()(t),"isHorizontalScreen",void 0),w()(p()(t),"layoutWidth",void 0),w()(p()(t),"isShowClick",void 0),w()(p()(t),"imgList",void 0),w()(p()(t),"scrollView",void 0),w()(p()(t),"scrollViewTow",void 0),w()(p()(t),"timmer",void 0),w()(p()(t),"isPad",(function(){return"medium"===Object(A.a)(t.getWidth())})),w()(p()(t),"isPadH",(function(){return t.getWidth()>t.getHeight()})),w()(p()(t),"isApp",(function(){return"small"===Object(A.a)(t.getWidth())})),w()(p()(t),"isAPk",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),w()(p()(t),"isImage",(function(){return"3:4"==t.props.configInfo.imgProportion&&t.isPad()&&!t.isHorizontalScreen})),w()(p()(t),"getWidth",(function(){return"web"===j.a.OS?R.a.get("window").width:t.layoutWidth})),w()(p()(t),"getHeight",(function(){return"web"===j.a.OS?R.a.get("window").height:Pe.a.height})),w()(p()(t),"refScrollView",(function(e){t.scrollView=e})),w()(p()(t),"refScrollViewTwo",(function(e){t.scrollViewTow=e})),w()(p()(t),"renderItem",(function(e,n,r){var o;t.imgWidth=.505*(t.getWidth()-(t.isHorizontalScreen?60:55));null===(o=t.props)||void 0===o||o.imgList.length;var i=.25*(t.getWidth()-32-24-24),a=.25*(t.imgWidth-32-32),l=.2*(t.imgWidth-32-48);return(null==n?void 0:n.length)&&(null==n?void 0:n.map((function(n,o){var s,c,u="{}"==JSON.stringify(n),d="";"1"===n.priceMode?d=null!==(c=n.displayPrice)&&void 0!==c?c:n.salePrice:"2"===n.priceMode&&(d="暂无报价");var p=null!==(s=n.photoPath)&&void 0!==s&&s.includes("product")?"".concat(Ge.a.cmsCndProdPath,"/").concat(n.photoPath,"/428_428_").concat(n.photoName):"".concat(Ge.a.cmsCndProdPath,"/").concat(n.photoPath,"/").concat(n.photoName);return k.a.createElement(L.a,{key:n.prdId,style:[{opacity:u?0:1,flexDirection:"column",alignItems:"center"},!t.isAPk()&&{paddingRight:r-1===o?16:0,paddingBottom:11},{marginRight:o===r-1?0:t.isHorizontalScreen?12:t.isApp()?8:10}]},k.a.createElement(ae.a,{onPress:function(){return t.gotoDetails(n,o)},activeOpacity:1,style:[e.renderContent,{borderRadius:8,width:i,height:i,overflow:"hidden"},t.isPad()&&{borderRadius:8,width:a,height:a},t.isHorizontalScreen&&{borderRadius:8,width:l,height:l}]},k.a.createElement(gt.a,{imgStyle:{width:"100%",height:"100%"},imgUri:p})),k.a.createElement(ae.a,{onPress:function(){return t.gotoDetails(n,o)},activeOpacity:1,style:[{paddingTop:8,flexDirection:"row",paddingLeft:2,paddingRight:2,justifyContent:"center"},{width:i},t.isPad()&&{width:Object(ct.F)()?a+4:a},t.isHorizontalScreen&&{width:l}]},"1"===n.priceMode?k.a.createElement(et.a,{style:[e.renderText,{marginRight:1}]},"¥"):null,k.a.createElement(et.a,{numberOfLines:1,ellipsizeMode:"tail",style:e.renderText},d)))})))})),t.state={},t.layoutWidth=R.a.get("window").width,t.isHorizontalScreen=R.a.get("window").width-R.a.get("window").height>0&&R.a.get("window").width>=1024,t}return u()(r,[{key:"gotoDetails",value:(t=K()(Y.a.mark((function e(t,n){var r,o,i,a,l,s,c,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P()(t)){e.next=2;break}return e.abrupt("return");case 2:return r=this.props.clickItem,o=this.props.imgList,i=o.comId,a=o.dataCode,l=o.gotoPageId,s=t.prdId,e.next=7,Object(ct.p)(t.prdId,t.skuCode);case 7:c=e.sent,u={nextPage:s,comId:i,dataCode:a,gotoPageId:l,index:n,url:c},this.timmer=setTimeout((function(){Object(ct.B)(String(t.prdId),String(t.skuCode)),t.skuCode||t.prdId||Object(Nt.b)("",!0)}),150),r(u);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.timmer&&clearTimeout(this.timmer)}},{key:"render",value:function(){Object(ct.F)()&&(this.layoutWidth=Object(ct.x)().screenWidth,this.isHorizontalScreen=this.layoutWidth-Object(ct.x)().screenHeight>0&&this.layoutWidth>=1024);var e=this.props,t=e._s,n=e.oneData,r=e.twoDate,o=C()(n||r);return k.a.createElement(k.a.Fragment,null,C()(n)>0?Object(ct.F)()?k.a.createElement(L.a,{style:{display:"flex",flexDirection:"row"}},this.renderItem(t,n,o)):k.a.createElement(At,{ref:this.refScrollView,horizontal:!0,scrollEnabled:!this.isAPk(),contentContainerStyle:{flexWrap:"wrap"},showsHorizontalScrollIndicator:!1,pagingEnabled:!0},this.renderItem(t,n,o)):null,C()(r)>0?Object(ct.F)()?k.a.createElement(L.a,{style:{display:"flex",flexDirection:"row"}},this.renderItem(t,r,o)):k.a.createElement(At,{ref:this.refScrollViewTwo,horizontal:!0,scrollEnabled:!this.isAPk(),contentContainerStyle:{flexWrap:"wrap"},showsHorizontalScrollIndicator:!1,pagingEnabled:!0},this.renderItem(t,r,o)):null)}}]),r}(I.PureComponent);function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ft=Object(ct.F)()?n(427).ScrollView:n(9).ScrollView,Ht=function(e){h()(r,e);var t,n=Mt(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"textNum",void 0),w()(p()(t),"imgWidth",void 0),w()(p()(t),"scrollView",void 0),w()(p()(t),"scrollViewTow",void 0),w()(p()(t),"cardNum",void 0),w()(p()(t),"page",void 0),w()(p()(t),"isShowClick",void 0),w()(p()(t),"isShowClickSingle",void 0),w()(p()(t),"productList",void 0),w()(p()(t),"isHorizontalScreen",void 0),w()(p()(t),"productListAll",void 0),w()(p()(t),"wrapperWidth",void 0),w()(p()(t),"listener",void 0),w()(p()(t),"timmer",void 0),w()(p()(t),"funObjectData",(function(e){try{var n,r,o;t.productList=null===JSON||void 0===JSON?void 0:JSON.parse(null===JSON||void 0===JSON?void 0:JSON.stringify(null===(n=t.props)||void 0===n||null===(r=n.imgList[null!==(o=t.props)&&void 0!==o&&o.isShowCardItem?e:0])||void 0===r?void 0:r.products))}catch(e){t.productList=[]}var i=t.state.isHorizontal?5:4,a=It()(t.productList||{},t.isHorizontalScreen?5:4),l=[],s=[];Tt()(a,(function(e,t){t%2==0?l=[].concat(oe()(l),oe()(e)):s=[].concat(oe()(s),oe()(e))}));var c=Math.ceil(C()(t.productList)/i),u=i*c-C()(l)||[],d=i*c-C()(s)||[];if(t.productList.length>(t.isHorizontalScreen?10:8)&&t.isAPk()){var p=Ot()(u,(function(){return{}})),f=Ot()(d,(function(){return{}}));l=[].concat(oe()(l),oe()(p)),s=[].concat(oe()(s),oe()(f))}t.setState({isTree:t.isHorizontalScreen?5:4}),t.setState({oneData:l,twoDate:s,indexItem:e,currentPage:1},(function(){t.page=1,t.shopscrollTo(!1)}))})),w()(p()(t),"initLayoutWidth",(function(e){e=Object(ct.F)()?Object(ct.x)().screenWidth:e;var n="medium"===Object(A.a)(e);if(t.wrapperWidth=n?(e-48)/2:e-32,t.state.layoutWidth!==e){t.isHorizontalScreen=t.state.layoutWidth<e&&e>=1024;var r=Object(ct.x)(t.props.pageType)||{},o=r.screenWidth,i=r.screenHeight;t.wrapperWidth=n?(e-48)/2:e-32,t.setState({layoutWidth:e,isTree:t.isHorizontalScreen?5:4,isHorizontal:o>i,currentPage:1}),t.page=1,t.scrollView&&t.scrollView.scrollTo({x:0}),t.scrollViewTow&&t.scrollViewTow.scrollTo({x:0}),t.objectDate(),t.infoList()}})),w()(p()(t),"infoList",(function(){var e=t.props.configInfo,n=e.titleVerticalScreenShow,r=e.guideVerticalScreenShow,o=e.productListVerticalScreenShow;"false"==n&&t.setState({negation:!0}),"false"!=n&&"false"!=r||t.setState({showNegation:!1}),t.setState({isTitle:"true"==n,isContent:"true"==r,isShop:"true"==o}),"false"==r&&t.setState({isTitle:!1})})),w()(p()(t),"OnedataFun",(function(e){var n,r;if(e<(null===(n=t.props)||void 0===n?void 0:n.imgList.length))try{var o,i;t.productListAll=JSON.parse(JSON.stringify(null===(o=t.props)||void 0===o||null===(i=o.imgList[e])||void 0===i?void 0:i.products))}catch(e){t.productListAll=[]}else try{var a,l;t.productListAll=JSON.parse(JSON.stringify(null===(a=t.props)||void 0===a||null===(l=a.imgList[0])||void 0===l?void 0:l.products))}catch(e){t.productListAll=[]}var s=(null===(r=t.productListAll)||void 0===r?void 0:r.length)%4;if(t.productListAll&&0!==s&&t.isAPk())for(var c=4-s,u=0;u<c;u++)t.productListAll.push({});t.setState({arrAll:t.productListAll,indexItem:e,currentPage:1},(function(){t.page=1,t.shopscrollTo(!1)}))})),w()(p()(t),"isImgListNoProduct",(function(){var e,n,r;return!((null===(e=t.props)||void 0===e||null===(n=e.imgList)||void 0===n?void 0:n.length)>0)||-1===x()(null===(r=t.props)||void 0===r?void 0:r.imgList,(function(e){return C()(e.products)>0}))})),w()(p()(t),"OnTitleClick",(function(){t.setState({negation:!t.state.negation})})),w()(p()(t),"refScrollView",(function(e){t.scrollView=e})),w()(p()(t),"refScrollViewTwo",(function(e){t.scrollViewTow=e})),w()(p()(t),"shopscrollTo",(function(e){t.scrollView&&t.scrollView.scrollTo({x:(t.isApp()?t.getWidth()-24-24:t.isHorizontalScreen?t.imgWidth-30:t.imgWidth-40+15)*(t.page-1),y:0,animated:e}),t.scrollViewTow&&t.scrollViewTow.scrollTo({x:(t.isApp()?t.getWidth()-24-24:t.isHorizontalScreen?t.imgWidth-30:t.imgWidth-40+15)*(t.page-1),y:0,animated:e})})),w()(p()(t),"isPadH",(function(){return t.getWidth()>t.getHeight()})),w()(p()(t),"isApp",(function(){return"small"===Object(A.a)(t.getWidth())})),w()(p()(t),"isAPk",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),w()(p()(t),"isPad",(function(){return"medium"===t.getSize()})),w()(p()(t),"getSize",(function(){return Object(A.a)(t.state.layoutWidth)})),w()(p()(t),"isImage",(function(){return"3:4"==t.props.configInfo.imgProportion&&t.isPad()&&!t.isHorizontalScreen})),w()(p()(t),"getWidth",(function(){return"web"===j.a.OS?R.a.get("window").width:t.state.layoutWidth})),w()(p()(t),"getHeight",(function(){return"web"===j.a.OS?R.a.get("window").height:Pe.a.height})),w()(p()(t),"header",(function(e,n){return n?k.a.createElement(et.a,{style:[e.rightTwoText],numberOfLines:t.textNum,ellipsizeMode:"tail"},n):null})),w()(p()(t),"clickItemMp",(function(e,n,r){var o,i,a=t.props,l=a.pageCatCode,s=a.pageCatName,c=a.resSiteCode,u=a.resSiteName,d=a.isShowCardItem?t.state.indexItem:0;Object(Nt.a)({actionCode:"410000101",actionName:"点击商品",eventType:Ne.e.EVENT_TYPE_CLICK,pageId:n,content:{comId:null==e||null===(o=e.comId)||void 0===o?void 0:o.toString(),gotoPageId:"",gotoUrl:(null==e?void 0:e.url)||"",ruleId:"",sId:"",dataCode:null==e?void 0:e.dataCode,dataType:"3",row:"",column:"",index:(null==r?void 0:r.toString())||d.toString(),clickType:"37",nextPage:null!=e&&e.nextPage?null==e||null===(i=e.nextPage)||void 0===i?void 0:i.toString():""},pageCatCode:l,pageCatName:s,resSiteCode:c,resSiteName:u})})),w()(p()(t),"renderItem",(function(e,n){var r,o,i;t.imgWidth=.505*(t.getWidth()-(t.isHorizontalScreen?60:55));var a=null===(r=t.props)||void 0===r||null===(o=r.imgList[null!==(i=t.props)&&void 0!==i&&i.isShowCardItem?t.state.indexItem:0])||void 0===o?void 0:o.products.length,l=.25*(t.getWidth()-32-24-24),s=.25*(t.imgWidth-32-32),c=.2*(t.imgWidth-32-48);return(null==n?void 0:n.length)>0?null==n?void 0:n.map((function(n,r){var o,i,u="{}"==JSON.stringify(n),d="";"1"===n.priceMode?d=null!==(i=n.displayPrice)&&void 0!==i?i:n.salePrice:"2"===n.priceMode&&(d=Object(Lt.b)("without_price"));var p=null!==(o=n.photoPath)&&void 0!==o&&o.includes("product")?"".concat(Ge.a.cmsCndProdPath,"/").concat(n.photoPath,"/428_428_").concat(n.photoName):"".concat(Ge.a.cmsCndProdPath,"/").concat(n.photoPath,"/").concat(n.photoName);return k.a.createElement(L.a,{key:n.prdId+r.toString(),style:[{opacity:u?0:1,flexDirection:"column",alignItems:"center"},!t.isAPk()&&{paddingRight:a-1===r?11:0},{marginRight:r===a-1?0:t.isHorizontalScreen?12:t.isApp()?8:10}]},k.a.createElement(ae.a,{onPress:function(){return t.gotoDetails(n,r)},activeOpacity:1,style:[e.renderContent,{borderRadius:8,width:l,height:l,overflow:"hidden"},t.isPad()&&{borderRadius:8,width:s,height:s},t.isHorizontalScreen&&{borderRadius:8,width:c,height:c}]},k.a.createElement(gt.a,{imgStyle:{width:"100%",height:"100%"},imgUri:p})),k.a.createElement(ae.a,{onPress:function(){return t.gotoDetails(n,r)},activeOpacity:1,style:[{paddingTop:8,flexDirection:"row",paddingLeft:2,paddingRight:2,justifyContent:"center"},{width:l},t.isPad()&&{width:s},t.isHorizontalScreen&&{width:c}]},"1"===n.priceMode?k.a.createElement(et.a,{style:[e.renderText]},"¥"):null,k.a.createElement(et.a,{numberOfLines:1,ellipsizeMode:"tail",style:e.renderText},d)))})):k.a.createElement(L.a,{style:[{width:"100%",height:l+30}]})})),w()(p()(t),"indicator",(function(){var e,n,r,o=t.isHorizontalScreen?10:4;t.isImage()&&(o=8);var i=Oe.a.darkBool,a=Math.ceil((null===(e=t.props)||void 0===e||null===(n=e.imgList[null!==(r=t.props)&&void 0!==r&&r.isShowCardItem?t.state.indexItem:0])||void 0===n?void 0:n.products.length)/o);return Ot()(a,(function(e){return t.state.currentPage==e+1?k.a.createElement(L.a,{key:e,style:[{width:4,height:4,marginRight:8,borderRadius:16,backgroundColor:i?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)"}]}):k.a.createElement(L.a,{style:[{width:4,height:4,marginRight:8,borderRadius:16,backgroundColor:i?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"}]})}))})),w()(p()(t),"_restartTimer",St()((function(){t.props.isShowCardItem&&t.props.restartTimer()}),1e3,{trailing:!1})),t.isHorizontalScreen=R.a.get("window").width-R.a.get("window").height>0&&R.a.get("window").width>=1024,t.state={negation:!1,showNegation:!0,currentPage:1,oneData:[],twoDate:[],arrAll:[],isTitle:!0,isContent:!0,isShop:!0,isTree:t.isHorizontalScreen?5:4,isHorizontal:!1,layoutWidth:R.a.get("window").width,indexItem:0},t}return u()(r,[{key:"componentDidMount",value:function(){var e=this.props.configInfo.imgProportion;this.textNum=this.isHorizontalScreen?7:this.isApp()?10:8,"3:4"==e&&(this.textNum=8),this.page=this.state.currentPage,this.isPad()&&this.objectDate(),this.infoList(),this.OnedataFun(0)}},{key:"componentDidUpdate",value:function(e){e.brotherIndex!==this.props.brotherIndex&&this.props.brotherIndex&&(this.isHorizontalScreen||this.isImage()?this.objectDate(this.props.brotherIndex.activePage||0):this.OnedataFun(this.props.brotherIndex.activePage||0))}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.remove(),this.timmer&&clearTimeout(this.timmer)}},{key:"objectDate",value:function(e){if(this.props.isShowCardItem){var t,n,r,o,i;if(e<(null===(t=this.props)||void 0===t?void 0:t.imgList.length))this.productListAll=JSON.parse(JSON.stringify(null===(n=this.props)||void 0===n||null===(r=n.imgList[e])||void 0===r?void 0:r.products));else this.productListAll=JSON.parse(JSON.stringify(null===(o=this.props)||void 0===o||null===(i=o.imgList[0])||void 0===i?void 0:i.products));this.funObjectData(e||0)}else this.funObjectData(0)}},{key:"clickShopButton",value:function(e,t){var n=this,r=this.state.isTree;this._restartTimer(),this.page=this.state.currentPage,"left"===e?this.page--:this.page++,(this.page<=0||this.page>Math.ceil(t/r))&&(this.page=this.state.currentPage),this.setState({currentPage:this.page},(function(){n.shopscrollTo(!0)}))}},{key:"gotoDetails",value:(t=K()(Y.a.mark((function e(t,n){var r,o,i,a,l,s,c,u,d,p,f,h;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P()(t)){e.next=2;break}return e.abrupt("return");case 2:return this._restartTimer(),r=this.props,o=r.clickItem,i=r.pageId,a=r.isShowCardItem,l=a?this.state.indexItem:0,s=this.props.imgList[l],c=s.comId,u=s.dataCode,d=s.gotoPageId,p=t.prdId,e.next=9,Object(ct.p)(t.prdId,t.skuCode);case 9:f=e.sent,h={nextPage:p,comId:c,dataCode:u,gotoPageId:d,index:n,url:f},this.timmer&&clearTimeout(this.timmer),this.timmer=setTimeout((function(){Object(ct.B)(String(t.prdId),String(t.skuCode)),t.skuCode||t.prdId||Object(Dt.c)("",!0)}),150),Object(ct.F)()?this.clickItemMp(h,i,l):o(h,i,l);case 14:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.negation,r=t.showNegation,o=t.oneData,i=t.twoDate,a=t.isTitle,l=t.isContent,s=t.currentPage,c=t.arrAll,u=this.props.configInfo,d=u.guide,p=u.cardTitle;this.cardNum=this.isHorizontalScreen?10:this.isImage()?8:4,this.imgWidth=.505*(this.getWidth()-(this.isHorizontalScreen?60:55));var f=[];try{var h,g;f=JSON.parse(JSON.stringify(null===(h=this.props)||void 0===h||null===(g=h.imgList[this.state.indexItem])||void 0===g?void 0:g.products))}catch(e){f=[]}var m=this.isImage()&&!this.isHorizontalScreen?8:this.isHorizontalScreen?10:4,y=Math.ceil(C()(f)/m);if(this.props.isShowCardItem&&this.isAPk()&&this.isApp()){var v,b=x()(null===(v=this.props)||void 0===v?void 0:v.imgList,(function(t){var n=[];try{n=JSON.parse(JSON.stringify(null==t?void 0:t.products))}catch(e){n=[]}return n.length>e.cardNum}));this.isShowClick=-1!==b}else this.isShowClick=f.length>this.cardNum;this.isShowClickSingle=f.length>this.cardNum;var w=Oe.a.darkBool;return k.a.createElement(M.b,{themeStyles:Rt},(function(t,u,h){var g,m,v,b;e.initLayoutWidth(h);var S=e.state.isShop;return"medium"===Object(A.a)(h)&&(S=!0),k.a.createElement(L.a,{style:[t.rightCon,e.isPad()&&t.rightPad,e.isShowClick&&e.isAPk()&&{paddingBottom:e.isAPk()?0:12},!e.isAPk()&&S&&{paddingBottom:10},!e.isShowClick&&e.isPad()&&S&&!e.isImage()&&!e.isHorizontalScreen&&{paddingBottom:10},e.isImage()&&!e.isAPk()&&{paddingBottom:0},!e.isAPk()&&e.isHorizontalScreen&&{paddingBottom:0},{width:e.wrapperWidth}]},e.isApp()?k.a.createElement(L.a,{style:[{flexDirection:"column",paddingRight:16},n?{marginBottom:0}:{marginBottom:10}]},k.a.createElement(L.a,{style:[{flexDirection:"row",width:e.getWidth()-75},!e.isAPk()&&{width:e.getWidth()-55},n?{marginBottom:10}:{marginBottom:0}]},a?k.a.createElement(et.a,{numberOfLines:1,ellipsizeMode:"tail",style:t.rightText},p):null,r?k.a.createElement(ae.a,{onPress:e.OnTitleClick,activeOpacity:1},n?Object(ct.F)()?k.a.createElement(L.a,{style:t.imgWrap},k.a.createElement(le.a,{source:{uri:"/static/images/arrow-up.svg"},style:t.imgSize})):k.a.createElement(ht.a,{opacity:.4,normalCol:w?u.C13.color:"#000000",iconName:"up",width:"25",height:"25"}):Object(ct.F)()?k.a.createElement(L.a,{style:t.imgWrap},k.a.createElement(le.a,{source:{uri:"/static/images/arrow-down.svg"},style:t.imgSize})):k.a.createElement(ht.a,{opacity:.4,normalCol:w?u.C13.color:"#000000",iconName:"down",width:"25",height:"25"})):null),l&&n?e.header(t,d):null):null,e.isPad()?k.a.createElement(L.a,{style:{flexDirection:"column",width:e.imgWidth-19,paddingRight:19}},k.a.createElement(et.a,{numberOfLines:1,ellipsizeMode:"tail",style:t.rightTextPad},p),e.header(t,d)):null,S?k.a.createElement(L.a,null,k.a.createElement(ie.a.View,{style:[!e.isAPk()&&{paddingRight:0},e.isAPk()&&{justifyContent:"space-between",paddingRight:e.isPad()?14:12,flexDirection:"column",overflow:"hidden",marginBottom:e.isAPk()?0:16}]},e.isHorizontalScreen||e.isImage()?e.isAPk()?k.a.createElement(k.a.Fragment,null,C()(o)>0?k.a.createElement(Ft,{ref:e.refScrollView,horizontal:!0,scrollEnabled:!e.isAPk(),contentContainerStyle:[{flexWrap:"wrap"},e.isAPk()&&e.isPad()&&{marginBottom:11}],showsHorizontalScrollIndicator:!1,pagingEnabled:!0,scrollEventThrottle:16,onScroll:e._restartTimer},e.renderItem(t,o)):null,C()(i)>0?k.a.createElement(Ft,{ref:e.refScrollViewTwo,horizontal:!0,scrollEnabled:!e.isAPk(),contentContainerStyle:[{flexWrap:"wrap"},!e.isShowClick&&e.isAPk()&&e.isPad()&&{marginBottom:11}],showsHorizontalScrollIndicator:!1,pagingEnabled:!0,scrollEventThrottle:16,onScroll:e._restartTimer},e.renderItem(t,i)):null):Object(ct.F)()?k.a.createElement(Ft,{"scroll-x":!0,bindscroll:e._restartTimer},k.a.createElement(Bt,{_s:t,oneData:o,twoDate:i,imgList:null===(g=e.props)||void 0===g?void 0:g.imgList[null!==(m=e.props)&&void 0!==m&&m.isShowCardItem?e.state.indexItem:0],clickItem:e.clickItemMp})):k.a.createElement(Ft,{horizontal:!0,scrollEnabled:!e.isAPk(),contentContainerStyle:{flexDirection:"column"},showsHorizontalScrollIndicator:!1,scrollEventThrottle:16,onScroll:e._restartTimer},k.a.createElement(Bt,{_s:t,oneData:o,twoDate:i,imgList:null===(v=e.props)||void 0===v?void 0:v.imgList[null!==(b=e.props)&&void 0!==b&&b.isShowCardItem?e.state.indexItem:0]})):e.isImgListNoProduct()?null:Object(ct.F)()?k.a.createElement(Ft,{"scroll-x":!0,bindscroll:e._restartTimer},k.a.createElement(L.a,{style:{display:"flex",flexDirection:"row"}},e.renderItem(t,c))):k.a.createElement(Ft,{ref:e.refScrollView,horizontal:!0,scrollEnabled:!e.isAPk(),contentContainerStyle:{alignItems:"center",flexWrap:"wrap"},scrollEventThrottle:16,onScroll:e._restartTimer,showsHorizontalScrollIndicator:!1,pagingEnabled:!0},e.renderItem(t,c))),e.isShowClick&&e.isAPk()?k.a.createElement(L.a,{style:{height:48,flexDirection:"row",alignItems:"center",marginBottom:4}},e.isShowClickSingle&&e.isAPk()?k.a.createElement(k.a.Fragment,null,k.a.createElement(L.a,{style:{width:"50%",height:4,flexDirection:"row",justifyContent:"flex-start"}},e.indicator()),k.a.createElement(L.a,{style:{width:"50%",height:48,flexDirection:"row",justifyContent:"flex-end"}},k.a.createElement(ae.a,{activeOpacity:1,style:{width:48,alignItems:"center",justifyContent:"center"},onPress:function(){e.clickShopButton("left",f)},disabled:1===s},k.a.createElement(L.a,{style:[t.renderBorder,t.renderConten,1===s&&t.BorderCurrentPage,1===s&&t.ContenCurrentPage]},k.a.createElement(ht.a,{normalCol:1===s?u.C12.color+"19":w?u.C25.color+"99":u.C25.color,iconName:"ic-back",width:"12",height:"12"}))),k.a.createElement(ae.a,{activeOpacity:1,style:{width:48,alignItems:"center",justifyContent:"center"},onPress:function(){e.clickShopButton("right",f)},disabled:s===y},k.a.createElement(L.a,{style:[t.renderBorder,t.renderRightConten,s===y&&t.BorderCurrentPage,s===y&&t.ContenCurrentPage,{paddingLeft:7}]},k.a.createElement(ht.a,{normalCol:s===y?u.C12.color+"19":w?u.C25.color+"99":u.C25.color,iconName:"ic-next",width:"12",height:"12"}))))):null):null):null)}))}}]),r}(I.PureComponent),zt=Object(z.a)(Object(De.a)(_t)(Object(Me.a)(Ht)));function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Vt=function(e){h()(n,e);var t=Ut(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"scrollView",void 0),w()(p()(r),"timer",void 0),w()(p()(r),"timer1",void 0),w()(p()(r),"flagTimer",void 0),w()(p()(r),"pictureWidth",void 0),w()(p()(r),"imgList_picture",void 0),w()(p()(r),"scrollOffset",void 0),w()(p()(r),"layoutWidth",0),w()(p()(r),"flag",!0),w()(p()(r),"listener1",void 0),w()(p()(r),"listener2",void 0),w()(p()(r),"itemlist",[]),w()(p()(r),"isInView",!0),w()(p()(r),"refScrollView",(function(e){r.scrollView=e})),w()(p()(r),"receiveRef",(function(e){e&&(e.tabIndex=r.props.tabIndex,r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e))})),w()(p()(r),"onScrollEnd",(function(e){var t=Math.ceil(e.nativeEvent.contentOffset.x);if(0===t){if(null===r.scrollView)return;r.setState({currentPicture:r.imgList_picture.length-2},(function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:(r.imgList_picture.length-2)*r.pictureWidth,y:0,animated:!1})}))}else if(Math.abs(t-(r.imgList_picture.length-1)*r.pictureWidth)<3){if(null===r.scrollView)return;r.setState({currentPicture:1},(function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:r.pictureWidth,y:0,animated:!1})}))}})),w()(p()(r),"restartTimer",(function(){r.timer&&clearInterval(r.timer),r.timer1&&clearTimeout(r.timer1),r.timer1=setTimeout((function(){r.startTimer()}),1500)})),w()(p()(r),"stopTimer",(function(){r.timer&&clearInterval(r.timer),r.timer1&&clearTimeout(r.timer1)})),w()(p()(r),"clickButton",(function(e){var t=r.props,n=t.clickItem,o=t.tmpPictures,i=t.pageId;if(r.timer&&clearInterval(r.timer),r.timer1&&clearTimeout(r.timer1),r.flag){r.flag=!1;var a=r.state.currentPicture,l="left"===e;l?a--:a++;var s=r.state.currentPicture;"left"!==e&&o.length===r.state.currentPicture&&(s=0),"left"===e&&(s=r.state.currentPicture-2),"left"===e&&r.state.currentPicture-1==0&&(s=o.length-1),n(o[s],i,s,l),a<=o.length+1&&r.setState({currentPicture:a},(function(){var e;r._brothervalue(a),null===(e=r.scrollView)||void 0===e||e.scrollTo({x:a*r.pictureWidth,y:0,duration:500})})),r.flagTimer=setTimeout((function(){r.flag=!0}),0),r.timer1=setTimeout((function(){r.startTimer()}),1500)}})),w()(p()(r),"_brothervalue",(function(e){var t=r.props.tmpPictures;e===t.length+1?e=1:0===e&&(e=t.length),r.setState({pageItem:e-1})})),w()(p()(r),"isPad",(function(){return"medium"===Object(A.a)(r.props.layoutWidth)})),w()(p()(r),"_switchWidthRestart",(function(){var e;r.timer&&clearInterval(r.timer),r.timer1&&clearTimeout(r.timer1),r.isPad()?r.pictureWidth=r.props.iWidth:r.pictureWidth=r.props.iWidth-32,r._brothervalue(r.state.currentPicture),null===(e=r.scrollView)||void 0===e||e.scrollTo({x:r.state.currentPicture*r.pictureWidth,y:0,animated:!1}),r.timer1=setTimeout((function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:r.state.currentPicture*r.pictureWidth,y:0,animated:!1}),r.startTimer()}),200)})),r.state={currentPicture:1,newFlexDirection:"column",recordIndex:0,pageItem:0},r}return u()(n,[{key:"componentDidMount",value:function(){var e,t=this;null===(e=this.scrollView)||void 0===e||e.scrollTo({x:this.pictureWidth,y:0,animated:!1}),"android"!==j.a.OS&&"ios"!==j.a.OS||(this.listener1=E.a.addListener("swiperStop",(function(e){e===t.props.pageId&&t.stopTimer()})),this.listener2=E.a.addListener("swiperStart",(function(e){e===t.props.pageId&&t.stopTimer()})))}},{key:"componentDidUpdate",value:function(e){e.iWidth!==this.props.iWidth&&this._switchWidthRestart()}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer),this.timer1&&clearTimeout(this.timer1),this.flagTimer&&clearTimeout(this.flagTimer),"android"!==j.a.OS&&"ios"!==j.a.OS||(this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove())}},{key:"startTimer",value:function(){var e=this;(this.timer&&clearInterval(this.timer),this.timer1&&clearTimeout(this.timer1),this.isInView)&&(this.imgList_picture.length<=1||(this.timer=setInterval((function(){var t;t=e.state.currentPicture+1;var n=e.props.tmpPictures;t<=n.length+1&&e.setState({currentPicture:t,recordIndex:t},(function(){var n;e._brothervalue(t),null===(n=e.scrollView)||void 0===n||n.scrollTo({x:t*e.pictureWidth,y:0,duration:500})}))}),4e3)))}},{key:"buttonShadow",value:function(e,t){var n=this;return k.a.createElement(ae.a,{style:["left"===e?t.buttonLeftCover:t.buttonRightCover,{top:this.pictureWidth/this.props.imgProps/2-24}],onPress:function(){n.clickButton(e)},activeOpacity:1},k.a.createElement(L.a,{style:t.button},k.a.createElement(L.a,{style:t.button_circle}),k.a.createElement(L.a,{style:{position:"absolute",left:"left"===e?8:10,zIndex:3}},k.a.createElement(ht.a,{opacity:.86,normalCol:"#FFFFFF",iconName:"left"===e?"ic-back":"ic-next",width:"12",height:"12"}))))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.isShowCard,o=n.isShowCardItem,i=n.imgProps,a=n.pageCatCode,l=n.pageCatName,s=n.resSiteCode,c=n.resSiteName,u=n.pageId,d=n.pageType,p=n.tmpPictures,f=n.configInfo,h=n.cardId,g={activePage:this.state.pageItem,cardId:h};this.props.tmpPictures.length<=1?this.imgList_picture=this.props.tmpPictures:this.imgList_picture=[this.props.tmpPictures[this.props.tmpPictures.length-1]].concat(oe()(this.props.tmpPictures),[this.props.tmpPictures[0]]),this.isPad()?(e={borderTopLeftRadius:16,borderTopRightRadius:0,borderBottomLeftRadius:16,borderBottomRightRadius:0,overflow:"hidden"},this.pictureWidth=this.props.iWidth):(e={borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:r?0:16,borderBottomRightRadius:r?0:16,overflow:"hidden"},this.pictureWidth=this.props.iWidth-32);var m={width:this.pictureWidth,height:this.pictureWidth/i},y=this.imgList_picture.map((function(n,r){return k.a.createElement(L.a,{key:r,ref:t.receiveRef,collapsable:!1},k.a.createElement(gt.a,{imgUri:null!=n&&n.imgUri?null==n?void 0:n.imgUri:pe.l,imgStyleWidth:m.width,imgStyleHeight:m.height,imgWidth:t.pictureWidth,imgProportion:t.props.imgProps,style:e}),k.a.createElement(mt.a,{imgSize:m,newHotArea:n.newHotArea,cardHotArea:n.anchor,showAnchor:n.showAnchor,currentPicture:t.state.currentPicture,isShowCardItem:o,comId:n.comId,gotoPageId:n.gotoPageId,dataCode:n.dataCode,scene:"scenarized",pageType:n.pageType,pageId:n.pageId,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c,index_name:n.title}))})),v=1==this.imgList_picture.length;return k.a.createElement(M.b,{themeStyles:ft},(function(n,r){return k.a.createElement(k.a.Fragment,null,k.a.createElement(L.a,{style:e},0===t.imgList_picture.length?k.a.createElement(gt.a,{imgUri:pe.l,imgStyle:{width:t.pictureWidth,height:t.pictureWidth/t.props.imgProps,backgroundColor:r.C34.color}}):k.a.createElement(ce.a,{style:[n.scrollView,{width:t.pictureWidth,height:t.pictureWidth/t.props.imgProps}],ref:t.refScrollView,scrollEnabled:"web"===j.a.OS,horizontal:!0,showsHorizontalScrollIndicator:!1,contentOffset:{x:v?0:t.pictureWidth,y:0},pagingEnabled:!0,scrollEventThrottle:16,onScroll:t.onScrollEnd},y),k.a.createElement(L.a,{style:n.picturesDotView},t.props.tmpPictures.length<=1?null:function(e){var n=[e.picturesDot],r=[e.picturesDot,e.picturesActiveDot],o=[];for(var i in t.props.tmpPictures){var a=parseInt(i);o.push(a+1===t.state.currentPicture?k.a.createElement(L.a,{style:r}):k.a.createElement(L.a,{style:n}))}return o}(n)),t.imgList_picture.length<=1?null:t.buttonShadow("left",n),t.imgList_picture.length<=1?null:t.buttonShadow("right",n)),t.props.isShowCard?k.a.createElement(zt,{cardId:h,configInfo:f,imgList:p,isShowCardItem:o,pageType:d,pageId:u,brotherIndex:g,restartTimer:function(){t.restartTimer()},pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}):null)}))}}]),n}(I.PureComponent),Gt=Object(z.a)(Object(De.a)(bt)(Object(Me.a)(Vt)));function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var qt=function(e){h()(n,e);var t=Kt(n);function n(e){var r;s()(this,n),r=t.call(this,e),w()(p()(r),"eventListener",void 0),w()(p()(r),"refreshListener",void 0),w()(p()(r),"preLayoutWidth",void 0),w()(p()(r),"switchScreenDirLister",void 0),w()(p()(r),"isShowCard",void 0),w()(p()(r),"isHorizontalScreen",void 0),w()(p()(r),"loginListener",void 0),w()(p()(r),"getWindowSize",(function(e){var t,n;return{screenWidth:null!==(t=Pe.a.getWidthWithParams(e))&&void 0!==t?t:Pe.a.width,screenHeight:null!==(n=Pe.a.getHeightWithParams(e))&&void 0!==n?n:Pe.a.height}})),w()(p()(r),"getWitd",(function(){return r.getWindowSize().screenWidth})),w()(p()(r),"onListLayout",(function(e){var t=e.nativeEvent.layout.height,n=r.props.currentIndex;!Object(ct.F)()&&E.a.emit("onProductLayout",{listHeight:t,currentIndex:n})})),w()(p()(r),"isLoginWeb",(function(){Object(ct.D)(N.a.get("uid"))?r.setState({isLogin:!1}):r.setState({groupTags:N.a.get("grouptags")||[],isLogin:!0})})),w()(p()(r),"isLogin",(function(){r.eventListener=E.a.addListener("NativeCallAction",(function(e){var t;"groupID"==(null==e?void 0:e.action)&&"saveValueState"==(null==e?void 0:e.service)&&r.setState({isLogin:!0,groupTags:(null==e||null===(t=e.param)||void 0===t?void 0:t.groupTags)||[]})})),W.a.invokeVmallNative("common","getLoginAndGroupInfo",{}).then((function(e){e&&r.setState({isLogin:!!e.isLogin,groupTags:e.isLogin&&e.groupTags||[]})}))})),w()(p()(r),"getGroupTags",(function(){W.a.invokeVmallNative("common","getSpValue",{key:"grouptags"}).then((function(e){e&&r.setState({groupTags:e.value.split("|")||[]})}))})),w()(p()(r),"isShowImage",(function(e,t,n){if("StaggeredLayout"===n||"OneColumnLayout"===n||"BannerLayout"===n){var o=e.targetCrowdShow,i=void 0!==o&&o,a=e.targetCrowdIncludeNotLoggedIn,l=e.targetCrowdShowToGroup,s=e.targetCrowdGroupId,c=void 0===s?"":s;e.targetCrowdGroupName;return c=c.toString(),1!=i&&"true"!=i||(r.state.isLogin?1==l||"true"==l?t.includes(c):!t.includes(c):1==a||"true"==a)}return!0})),w()(p()(r),"isPad",(function(){return"medium"===Object(A.a)(r.state.layoutWidth)})),w()(p()(r),"isPc",(function(){return"large"===Object(A.a)(r.state.layoutWidth)})),w()(p()(r),"initLayoutWidth",(function(e){if(r.state.layoutWidth!==e){if(r.setState({layoutWidth:e}),r.props.styleChange){var t=Object(ct.i)(r.props.styleChange,Object(A.a)(e));Object(ct.d)(t)&&r.setState({headerBoxStyle:t})}r.isHorizontalScreen=r.state.layoutWidth<e&&e>=1024}})),w()(p()(r),"getWidth",(function(){return"web"===j.a.OS?R.a.get("window").width:r.state.layoutWidth})),w()(p()(r),"receiveRef",(function(e){e&&"function"==typeof r.props.receiveRef&&e&&r.props.receiveRef(e)})),w()(p()(r),"setHeaderCardShow",(function(e){r.setState({showHeader:e})}));var o={bgImg:"",imgStyle:{},textStyle:{color:""}};if(r.props.styleChange){var i=Object(ct.i)(r.props.styleChange,Object(A.a)(R.a.get("window").width));Object(ct.d)(i)&&(o=i)}return r.state={showFullLoading:r.props.withTabs,width:Object(ct.x)(r.props.pageType).screenWidth,height:Object(ct.x)(r.props.pageType).screenHeight,layoutWidth:R.a.get("window").width,headerBoxStyle:o,isLogin:!1,groupTags:[],newFlexDirection:"column",openApiDomain:"",showHeader:!0},r.isShowCard=!0,r.isHorizontalScreen=R.a.get("window").width-R.a.get("window").height>0&&R.a.get("window").width>=1024,r}return u()(n,[{key:"componentDidMount",value:function(){var e=this;if(!1!==this.state.showFullLoading&&this.setState({showFullLoading:!1}),B.a.isApp()){this.isLogin();var t=this.props,n=t.dataSourceList,r=t.comId,o=t.imgList,i=t.pageId,a=t.configInfo;0!==(null==n?void 0:n.length)&&0!==(null==o?void 0:o.length)||Object(ct.K)({time:0,exceptionType:1,pageid:i,requestAddress:"/mcp/content/getPageInfoListAsync",comid:r+"",reason:("BannerLayout"==a.layoutType?"轮播图":"图片")+"组件数据为空！"})}else Object(ct.F)()||(this.loginListener=E.a.addListener("popupLoginSuccess",(function(){e.isLoginWeb()})),this.isLoginWeb());this.isPad()&&"scenarized"==this.props.scene&&"row"!==this.state.newFlexDirection&&this.setState({newFlexDirection:"row"}),this.switchScreenDirLister=!Object(ct.F)()&&E.a.addListener("switchScreenDir",(function(){e.setState({width:e.getWindowSize(e.props.pageType).screenWidth,height:e.getWindowSize(e.props.pageType).screenHeight})})),this.refreshListener=!Object(ct.F)()&&E.a.addListener("homeRefresh",(function(t){"ios"===j.a.OS&&t==e.props.pageType&&e.isLogin()}))}},{key:"componentDidUpdate",value:function(e,t){"scenarized"!==this.props.scene||this.isPc()||(this.isPad()&&this.state.layoutWidth!==t.layoutWidth&&this.setState({newFlexDirection:"row"}),Object(ct.a)(this.state.layoutWidth)&&this.state.layoutWidth!==t.layoutWidth&&this.setState({newFlexDirection:"column"}))}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.switchScreenDirLister&&this.switchScreenDirLister.remove(),this.loginListener&&this.loginListener.remove(),this.refreshListener&&this.refreshListener.remove()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.layoutType,o=n.imgList,i=n.isDisplayTitleBar,l=n.title,s=n.isDisplayMore,c=(n.subTitle,n.showSetting),u=n.imgNormal,d=n.imgDarkMode,p=n.width,f=n.style,h=n.tabIndex,g=n.rows,m=n.isClosed,y=n.configInfo,v=n.scene,b=n.boxWidth,w=n.hasMargin,S=n.styleChange,O=n.selfStyle,T=n.pageType,I=n.withTabs,E=n.pageId,R=n.pageCatCode,_=n.pageCatName,N=n.resSiteCode,W=n.resSiteName,B=n.padVImgList,z=n.padCImgList,G=n.tabHeight,Y=n.isSwitchImmersive,J=(null===(e=this.props)||void 0===e?void 0:e.configInfo)||{},K=J.fillScreenWidth,q=void 0!==K&&K,Q=J.padVImgProp,$=J.padCImgProp,X=J.titleShow,Z=J.resize,ee=Z?Number(Z):"",te=this.state,ne=te.layoutWidth,re=te.showHeader;"web"===j.a.OS?p=ne:b=b||ne||p,b=Object(ct.F)()?Object(ct.x)().screenWidth:b;var oe,ie=this.state.newFlexDirection;if("scenarized"===v){var ae=y.guideVerticalScreenShow,le=y.titleVerticalScreenShow,se=y.productListVerticalScreenShow;if(i=!1,s=!1,"false"!=le||"false"!=ae||"false"!=se||this.isPad()?this.isShowCard=!0:this.isShowCard=!1,this.isPad())b=Object(ct.F)()?b/2-24:this.state.layoutWidth/2-24,w=!1,O={borderTopLeftRadius:16,borderTopRightRadius:0,borderBottomLeftRadius:16,borderBottomRightRadius:0};else{var ce;if("false"==ae&&"true"==le)i=!0,-1===x()(null===(ce=this.props)||void 0===ce?void 0:ce.imgList,(function(e){var t=[];try{t=JSON.parse(JSON.stringify(null==e?void 0:e.products))}catch(e){t=[]}return t.length>0}))&&(this.isShowCard=!1);b=Object(ct.F)()?b:this.state.layoutWidth,O={borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:this.isShowCard?0:16,borderBottomRightRadius:this.isShowCard?0:16}}}this.isPc()&&(oe="topMenu"===this.props.scene?0:-24);var ue,de=y.moreTitle?y.moreTitle:"",pe=Object(A.a)(b||p),he=[],ge=[],me=[];for(var ye in o)"PC"===o[ye].type?he.push(o[ye]):"APP"===o[ye].type&&ge.push(o[ye]);if(0===(me="large"===pe&&"web"===j.a.OS?he:ge).length)ue=null,i=!1;else{var ve=Jt(Jt({},O),{},{borderRadius:Object(ct.E)(ne)?0:16}),be=this.props.onClick;switch(r){case"StaggeredLayout":ue=k.a.createElement(Ze,{receiveRef:this.receiveRef,onClick:be,imgList:me,columnNumber:1,tabIndex:h,rows:g,isClosed:m,scene:v,componentName:"ColumnNumber",selfStyle:O,boxWidth:b,hasMargin:w,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,bigMixCrad:this.props.bigMixCrad,withTabs:I,title:l,titleShow:X});break;case"OneColumnLayout":ue=k.a.createElement(Ze,{imgList:me,padVImgList:B,padCImgList:z,columnNumber:1,tabIndex:h,rows:g,isClosed:m,scene:v,componentName:"ColumnNumber",selfStyle:ve,boxWidth:b,width:ne,hasMargin:w,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,setHeaderCardShow:this.setHeaderCardShow,withTabs:I,fillScreenWidth:q,padVImgProp:Q,padCImgProp:$,title:l,titleShow:X});break;case"TwoColumnLayout":ue=k.a.createElement(Ze,{imgList:me,padVImgList:B,padCImgList:z,columnNumber:2,tabIndex:h,rows:g,componentName:"ColumnNumber",boxWidth:b,width:ne,hasMargin:w,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,withTabs:I,padVImgProp:Q,padCImgProp:$,selfStyle:ve,title:l,titleShow:X});break;case"ThreeColumnLayout":ue=k.a.createElement(Ze,{imgList:me,columnNumber:3,tabIndex:h,rows:g,componentName:"ColumnNumber",boxWidth:b,width:ne,hasMargin:w,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,withTabs:I,selfStyle:ve,title:l,titleShow:X});break;case"BannerLayout":ue=k.a.createElement(Ve,{imgList:me,tabIndex:h,componentName:"Swiper",configInfo:y,resizeConfig:ee,boxWidth:b,hasMargin:w,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,withTabs:I,fillScreenWidth:q,pageLifetimes:this.props.pageLifetimes});break;case"ScrollLayoutOne":case"ScrollLayoutTwo":ue=k.a.createElement(Ve,{imgList:me,tabIndex:h,componentName:"Swiper",resizeConfig:ee,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,withTabs:I,pageLifetimes:this.props.pageLifetimes});break;case"OnePlusNLayout":ue=k.a.createElement(st,{imgList:me,tabIndex:h,componentName:"MixedLayout",boxWidth:b,hasMargin:w,pageType:T,width:ne,layoutType:r,pageId:this.props.pageId,configInfo:y,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,withTabs:I,title:l});break;case"ImmersiveBanner":ue=k.a.createElement(Ve,{imgList:me,tabIndex:h,componentName:"Swiper",configInfo:y,resizeConfig:ee,boxWidth:b,hasMargin:w,pageType:T,layoutType:r,pageId:this.props.pageId,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,withTabs:I,pageLifetimes:this.props.pageLifetimes,padVImgList:B,padCImgList:z,tabHeight:G,isSwitchImmersive:Y});break;default:ue=null}}var we=!P()(S)&&Oe.a.darkBool,Se=me.length>1,Ce="true"===X&&!l||"false"===X?0:this.isPc()?-36:-12;return me.length&&this.isShowImage(y,this.state.groupTags,r)?k.a.createElement(M.b,{themeStyles:D},(function(e,n,o){var p;return o=Object(ct.F)()?Object(ct.x)().screenWidth:o,t.initLayoutWidth(o),k.a.createElement(U.a,{imgUri:t.state.headerBoxStyle.bgImg,style:[null===(p=t.state.headerBoxStyle)||void 0===p?void 0:p.imgStyle]},t.state.showFullLoading?k.a.createElement(L.a,{style:[e.load,{width:o}]},k.a.createElement(F.a,{showLoading:!0,position:"bottom",loadState:1,height:56,iconSize:24,titleStyle:e.loadingTitle})):null,k.a.createElement(L.a,a()({style:[f,b?{width:b}:{},{marginTop:I?Ce:0}]},Object(ct.F)()?{}:{onLayout:t.onListLayout}),"OneColumnLayout"===r&&"1"===m?k.a.createElement(H.a,null,re?k.a.createElement(V.a,{isDisplayTitleBar:i,title:l,isDisplayMore:t.isPc()&&I?null:s,subTitle:de,moreUrl:Object(ct.l)(y),showSetting:c,imgNormal:u,imgDarkMode:d,styleChange:S,pageType:T,boxWidth:b,hasMargin:w,hasCrossDressing:we,titleLocation:null==y?void 0:y.titleLocation}):null):k.a.createElement(H.a,null,k.a.createElement(V.a,{isDisplayTitleBar:i,title:l,isDisplayMore:t.isPc()&&I?null:s,subTitle:de,moreUrl:Object(ct.l)(y),showSetting:c,imgNormal:u,imgDarkMode:d,styleChange:S,pageType:T,boxWidth:b,hasMargin:w,hasCrossDressing:we,titleLocation:null==y?void 0:y.titleLocation})),"scenarized"!==t.props.scene&&ue),"scenarized"==t.props.scene&&!t.isPc()&&C()(me)>0&&k.a.createElement(L.a,{style:[{position:"relative",flexDirection:ie,paddingRight:16,paddingLeft:16},t.isPad()&&{paddingRight:24,paddingLeft:24}]},k.a.createElement(Gt,{imgList:me,receiveRef:t.receiveRef,tabIndex:h,pageType:T,layoutType:r,tmpPictures:me,iWidth:b,imgProps:Object(fe.a)(y.imgProportion),layoutWidth:Object(ct.F)()?o:t.state.layoutWidth,isShowCard:t.isShowCard,pageId:E,selfStyle:O,cardId:t.props.comId,isShowCardItem:Se,pageCatCode:R,pageCatName:_,resSiteCode:N,resSiteName:W,configInfo:y})))})):k.a.createElement(L.a,{style:{marginTop:this.isPc()?oe:"homepage"===(null==T?void 0:T.toLowerCase())?-8:-12}})}}]),n}(I.PureComponent);w()(qt,"defaultProps",{style:{reportUrl:"",showSetting:"1",imgNormal:""},hasMargin:!0,withTabs:!1});t.a=Object(z.a)(qt)},function(e,t,n){"use strict";var r=n(35),o=n.n(r),i=n(17),a=n.n(i),l=n(26),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(34),P=n.n(O),T=n(0),x=n.n(T),I=n(37),k=n(49),E=n(43),j=n(126),R=n(152),L=n(270),_=n(250),D=n(267),N=n(40),W=n(102),A=n(1731),B=n(660),M=n(185),F=n(21),H=n(25),z=n(10),U={exposeItem:function(){var e=this.props,t=e.pageCatCode,n=e.pageCatName;return{data:{actionCode:z.f.PC+z.d.PC,actionName:"pc工具栏组件曝光",eventType:z.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,content:{},pageCatCode:t,pageCatName:n}}}},V=n(20),G=n(15),Y=n.n(G),J=n(103),K=n(443),q=n.n(K),Q=n(52),$=n.n(Q),X=n(39),Z=n.n(X),ee=n(65),te=n.n(ee),ne=n(47),re=n(100),oe=n(57),ie=n(119);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se={display:"flex",flexDirection:"row",alignItems:"center"},ce=function(e){return oe.a.create({flexBox:se,bgbox:{display:"flex",backgroundColor:"#000",zIndex:10,lineHeight:36,minHeight:36,minWidth:ie.a.safety_area},container:le(le({},se),{},{alignItems:"flex-start"}),leftbox:le(le({},se),{},{width:"50%"}),rightbox:le(le({},se),{},{justifyContent:"flex-end",flexGrow:1,height:36}),textnormal:{fontSize:12,color:"#FFFFFF99",lineHeight:36},textactive:{color:"#FFFFFF"},paddinghorizontal:{paddingHorizontal:8},textfirst:{paddingLeft:0},line:{height:12,borderRightWidth:1,borderColor:"#414141"},cartbox:le(le({},se),{},{justifyContent:"center",backgroundColor:"#424242"}),itemcontainer:le({},se),cartimg:{marginHorizontal:5,width:16},selectcontainer:{position:"relative",backgroundColor:"#FFF"},selectbox:{position:"absolute",top:36,right:0,backgroundColor:"#FDFDFD"},selecttext:{lineHeight:32},selecttextnormal:{color:"#777777",lineHeight:32},selecttextactive:{color:e.primaryColor},imgline:{width:"100%",marginVertical:20,borderBottomWidth:1,borderBottomColor:"#DDDDDD"},selectarrow:{position:"relative",left:-2,width:12,marginRight:8},navigationbox:le(le({},se),{},{width:770,height:236,paddingTop:28,paddingLeft:68,paddingBottom:18,paddingRight:18}),navhomebox:{width:50,height:"100%",marginHorizontal:30},navtextbox:{flex:1,height:"100%"},navigationtitle:{fontSize:16,color:"#333",fontWeight:"600",textAlign:"left",lineHeight:20,marginBottom:8},navimgbox:{padding:10,borderRadius:"50%",backgroundColor:"#eee"},navtitlebox:{flexGrow:1,flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start",marginRight:10},navtextnormal:{color:"#777",lineHeight:32},navtextwidth:{width:"100%",textAlign:"left"},aligncenter:{textAlign:"center"},memberavatar:{height:74,width:74,backgroundColor:"#ddd",borderRadius:"50%",marginRight:15,overflow:"hidden"},membermsgbox:{width:200},membermsgimg:{width:16,marginRight:5},memberprogress:{height:20,marginBottom:10},membermsg:le(le({},se),{},{justifyContent:"center",width:90,height:30,marginRight:10,backgroundColor:"#F5F5F5"}),membertitle:le(le({},se),{},{height:32,width:300,marginTop:32,borderBottomWidth:1}),membertitlemore:{textAlign:"right",fontSize:12,color:"#717171"},membertitleleft:{flexGrow:1,textAlign:"left"},membergoods:{flexGrow:1,height:32},membergoodstext:{fontSize:12,color:"#3A3A3A"},greyborder:{borderColor:"#EEEEEE"},memberparam:le(le({},se),{},{paddingVertical:16}),memberparamvalue:{fontSize:16,color:"#000000"},memberparamtext:{fontSize:12,color:"#717171"},memberlogoutbox:{borderTopWidth:1},memberlogout:{lineHeight:12,paddingTop:16},noProductWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:50,paddingBottom:50},buycartbox:{display:"flex",flexDirection:"column",width:460,height:"auto",maxHeight:519,shadowColor:"rgba(0, 0, 0, 0.1)",shadowOffset:{width:0,height:5},shadowOpacity:1,shadowRadius:10},primaryCls:{maxHeight:434,overflowX:"hidden",overflow:"auto",width:460,top:0,position:"relative"},productWrapper:{width:460,top:0,maxHeight:434,overflow:"auto",position:"relative",paddingRight:20,paddingLeft:20},productPaddingRightCls:{width:460,top:0,maxHeight:434,overflow:"auto",position:"relative",paddingLeft:20,paddingRight:36},primaryMaskCls:{width:55,top:0,left:0,position:"absolute",zIndex:10,height:"100%"},subItemText:{marginLeft:8},invalidClickCls:{color:"#a4a4a4"},settlementOpacityCls:{opacity:.4},settlementCls:{backgroundColor:"#f1f3f5",width:460,height:85,paddingTop:10,paddingLeft:20,paddingRight:20,paddingBottom:16,flexDirection:"column"},settlementTitleCls:{height:16,lineHeight:16,fontSize:12,color:"#000000",opacity:.9},settlementPriceCls:{display:"flex",flexDirection:"row",justifyContent:"space-between"},settlementSalePriceCls:{fontSize:24,color:"#CF0A2C"},salePricecls:{width:72,marginLeft:8,textDecorationLine:"line-through",color:" #000000",opacity:.6},settlementCountPriceCls:{paddingLeft:10,alignSelf:"flex-start",flex:2,textDecorationLine:"line-through",fontSize:12,color:" #000000",opacity:.6},settlementCountCls:{width:150,height:40,backgroundColor:"#CF0A2C",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4},bottomColorLine:{borderWidth:1,borderTopColor:"#fff",borderRightColor:"#fff",borderLeftColor:"#fff",borderBottomColor:"rgba(0,0,0,0.05)",marginTop:20},primaryProductCls:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:64,marginBottom:5,marginTop:20},invalidCauseReasonTitle:{fontSize:12,color:"#CF0A2C",marginTop:4},primaryProductIcon:{height:20,width:20},primaryProductContainer:{height:64,flex:1,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingLeft:16},subItemWrapperCls:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingLeft:18,flexWrap:"wrap"},commonTypeCls:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",paddingLeft:13,flexWrap:"wrap",marginTop:11},subQtyCls:{width:40,textAlign:"right"},itemNameDescriptionCls:{color:"rgba(0, 0, 0, 0.9)",fontSize:12,lineHeight:16,flex:1,flexWrap:"wrap"},itemTypeTitle:{width:80,opacity:.9,fontSize:12,color:" #000000",fontWeight:400},primaryImg:{height:64,width:64},textContainerCls:{display:"flex",flex:1,alignItems:"flex-start",borderWidth:2,borderColor:"red"},primaryTitle:{flex:1,paddingLeft:12,paddingRight:13,fontSize:12,color:"#000000",fontWeight:400,display:"flex",flexDirection:"column"},prdItemText:{display:"flex",maxHeight:38,lineHeight:19,overflow:"hidden"},normalPrice:{flexWrap:"wrap",opacity:.9},primaryPrice:{display:"flex",flexDirection:"row",justifyContent:"flex-end",width:120},priceTotal:{display:"flex",flexDirection:"column",alignItems:"flex-end",width:72,textAlign:"right"},underlinedPrice:{flexWrap:"wrap"},originalPrice:{width:72,marginLeft:8,opacity:.9},primaryQty:{width:50,marginLeft:8,opacity:.9,alignSelf:"flex-start"},prdItemHover:{color:"#CA151D"},settlementHoverCls:{opacity:.8},buycartnull:le(le({},se),{},{justifyContent:"center",marginHorizontal:"auto",width:100,height:100}),buycartmsgnull:{fontSize:14,color:"#A4A4A4",lineHeight:32},progressbox:{position:"relative",width:"100%",borderRadius:4,backgroundColor:"#EAEAEA"},progressitem:{height:8,borderRadius:4},progresschild:le(le({position:"absolute"},se),{},{left:0,top:-5,height:20,width:20}),qrcodetitle:{fontSize:14,fontWeight:700},qrcodemsg:{fontSize:12,lineHeight:16},selectregion:le(le({position:"web"===I.a.OS?"fixed":"absolute"},se),{},{justifyContent:"center",top:0,left:0,height:"100vh",width:"100vw",backgroundColor:"#00000058"}),selectregioncon:{backgroundColor:"#FFFFFF",width:720,maxHeight:"80%"},selectregiontitle:{fontSize:24,textAlign:"center",paddingTop:30}})},ue=n(3),de=n(19),pe=n(11),fe=n(12),he=JSON.parse(JSON.stringify([{text:"首页",url:"/"},{text:"华为官网",url:"https://consumer.huawei.com/cn/",newTab:!0},{text:"花粉俱乐部",url:"https://club.huawei.com/",newTab:!0},{text:"V码(优购码)",url:"/priority"},{text:"企业购",url:"https://company.vmall.com/",newTab:!0},{text:"Select Region",url:""},{text:"更多精彩",url:"",type:"select",list:[{text:"EMUI",url:"https://emui.huawei.com/",newTab:!0},{text:"应用市场",url:"https://appgallery.huawei.com/",newTab:!0},{text:"华为终端云空间",url:"https://cloud.huawei.com/",newTab:!0},{text:"开发者联盟",url:"https://developer.huawei.com/",newTab:!0}]}]));he.splice.apply(he,[5,0].concat([{text:"优惠内购",url:"/member/enterprise",timeStamp:1},{text:"内部要货",url:"/member/assets",timeStamp:1}]));var ge=[{text:"我的订单",url:"/member/order",timeStamp:1,mustLogin:!0,code:"my_order",targetUrl:"member/order"},{text:"客户服务",url:"",type:"select",code:"customer_service",list:[{text:"服务中心",url:"/help/index.html",newTab:!0,code:"service_center"},{text:"联系客服",mustLogin:!0,isCustomer:!0,url:"",code:"call_us"}]},{text:"网站导航",url:"",type:"navigation",code:"navigation"},{text:"手机版",url:"",type:"qrcode",code:"mobile_version",list:[{imgUrl:de.a.tool_app,imgwidth:90,imgProportion:1,url:"https://www.vmall.com/appdownload",text:"华为商城APP",msgList:[{text:"新人专享好礼",color:"C18"},{text:"最高5000积分",color:"C18"}],iconList:[{icon:"android-icon",textIcon:"android"},{icon:"iphone-icon",textIcon:"iphone"},{icon:"wechat-icon",textIcon:"wechat"}]},{imgUrl:de.a.tool_public,imgwidth:90,imgProportion:1,url:"",text:"华为商城公众号",msgList:[{text:"微信扫一扫",color:""}],iconList:[{icon:"wechat-icon",textIcon:"wechat"}]},{imgUrl:de.a.tool_mp,imgwidth:90,imgProportion:1,url:"",text:"微信小程序",iconList:[{icon:"wechat-icon",textIcon:"wechat"}]}]}],me=(Object({NODE_ENV:"production",ENV_CONFIG:"prod",SET_PAGE:"webpack.prod.config.js"}).env_config,[{text:"请登录",isLogin:!0,code:"to_login"},{text:"注册",isRegister:!0,code:"register"}]),ye=(pe.a.webDomain,fe.j.PERSONAL_URL_WEB,[{text:"您好!",url:J.a.get("rnpersonalurlweb")?J.a.get("rnpersonalurlweb"):pe.a.webDomain+fe.j.PERSONAL_URL_WEB,timeStamp:1,type:"member"}]),ve={text:"购物车",code:"shortcut_cart",style:{paddingHorizontal:2},url:"/cart2",type:"buyCart",icon:"cart",iconStyle:{marginLeft:6,marginBottom:3},iconSize:16,_value:0},be=[{text:"频道",code:"channel",list:[{text:"华为专区",url:"/huawei",code:"for_huawei"},{text:"企业购",url:"https://company.vmall.com/client",code:"group_purchase"}]},{text:"产品",code:"product",flex:2,list:[{text:"手机",code:"phone",url:"https://www.vmall.com/list-36"},{text:"笔记本",code:"MateBook",url:"https://www.vmall.com/list-676"},{text:"平板",code:"MatePad",url:"https://www.vmall.com/list-678"},{text:"智能穿戴",code:"smart_wear",url:"https://www.vmall.com/list-59"},{text:"智能家居",code:"smart_home",url:"https://www.vmall.com/list-714"},{text:"智慧屏",code:"TV",url:"https://www.vmall.com/list-646"},{text:"耳机音箱",code:"speakers",url:"https://www.vmall.com/list-652"},{text:"热销配件",code:"accessories",url:"https://www.vmall.com/list-54"},{text:"生态产品",code:"ecological",url:"https://www.vmall.com/list-43"},{text:"增值服务",code:"appreciation",url:"https://www.vmall.com/list-34"}]},{text:"增值服务",code:"appreciation",list:[{text:"以旧换新",code:"old_for_new_service",url:"https://vmall.aihuishou.com/"},{text:"补购保障",code:"security",url:"https://www.vmall.com/order/tcsProductIndex"},{text:"一口价换电池",code:"battery_change",url:"/order/batteryRenew"}]},{text:"会员",code:"members",list:[{text:"会员频道",code:"members_zone",url:"https://www.vmall.com/privilege"}]}],we=[{text:"待付款",url:"/member/order?tab=unpaid",timeStamp:1,code:"not_paying"},{text:"待收货",url:"/member/order?tab=send",timeStamp:1,code:"not_receiving"},{text:"待评价",url:"/member/order?tab=nocomment",timeStamp:1,code:"not_evaluation"},{text:"退换货",url:"/member/exchange",timeStamp:1,code:"exchange"},{text:"旧机回收",url:"/member/recycle/index",timeStamp:1,code:"recycle"}],Se=n(432),Ce=n(73);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var Pe=function(e){m()(n,e);var t=Oe(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={list:be},r}return p()(n,[{key:"render",value:function(){var e=this,t=this.props.templateMap;return t&&t.webNav&&Object(Ce.b)(t.webNav,"dropdown-navs")||x.a.createElement(W.b,{themeStyles:ce},(function(t){return x.a.createElement(E.a,{style:t.navigationbox},e.state.list.map((function(n){return x.a.createElement(E.a,{style:[t.navtextbox,n.flex&&{flex:n.flex}]},x.a.createElement(R.a,{style:[t.navigationtitle]},n.code&&Object(Se.b)(n.code)||n.text),x.a.createElement(E.a,{style:t.navtitlebox},n.list&&n.list.map((function(r){return x.a.createElement(j.a,{activeOpacity:1,style:[t.navtextwidth,n.flex&&{width:"".concat(100/n.flex,"%")}],onPress:function(){return e.onPress(r.url,!!r.newTab)}},x.a.createElement(B.a,null,(function(e){return x.a.createElement(R.a,{style:[t.textnormal,t.navtextnormal,e&&t.selecttextactive]},r.code&&Object(Se.b)(r.code)||r.text)})))}))))})))}))}},{key:"onPress",value:function(e,t){e&&Object(ue.A)(e,t)}}]),n}(x.a.Component);function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var xe=function(e){m()(n,e);var t=Te(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={},r}return p()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.total,n=void 0===t?100:t,r=e.value,o=void 0===r?0:r,i=e.color,a=void 0===i?"#D4D4D4":i,l=e.children,s=100*o/n,c={width:s<0?0:(s>100?100:s)+"%",backgroundColor:a};return x.a.createElement(W.b,{themeStyles:ce},(function(e){return x.a.createElement(E.a,{style:[e.progressbox]},x.a.createElement(E.a,{style:[e.progressitem,c]}),x.a.createElement(E.a,{style:e.progresschild},l))}))}}]),n}(x.a.Component);function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var ke,Ee=function(e){m()(n,e);var t=Ie(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={},r}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.text,r=t.url,o=t.textStyle,i=t.boxStyle,a=t.newTab,l=t.timeStamp;return x.a.createElement(W.b,{themeStyles:ce},(function(t){return x.a.createElement(j.a,{activeOpacity:1,onPress:function(){return e.onPress(r,!!a,l)},style:i},x.a.createElement(B.a,null,(function(r){return x.a.createElement(R.a,Y()({style:[t.textnormal,o,r&&t.selecttextactive]},e.props),n)})))}))}},{key:"onPress",value:function(e,t,n){if(e)if(n){var r=e.includes("?")?"&":"?";Object(ue.A)("".concat(e).concat(r,"t=").concat((new Date).getTime()),t)}else Object(ue.A)(e,t);else{var o=this.props.onPress,i=void 0===o?function(){}:o;i()}}}]),n}(x.a.Component),je=n(23),Re=n(24);function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var _e=!1,De="web"===I.a.OS&&(null===(ke=window.sessionStorage)||void 0===ke?void 0:ke.getItem("memberInfo")),Ne=De&&JSON.parse(De)||{headPictureURL:de.a.tool_avatar,level:"V0",unread:0,pointBlance:0,couponCount:0,balanceAmount:"0.00",progressTotal:100,progressValue:0,isAuthentication:!1},We=function(e){m()(n,e);var t=Le(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={list:we,memberInfo:Ne,msgNum:0,medalList:{V0:{img:de.a.tool_medal0,color:"#D4D4D4"},V1:{img:de.a.tool_medal1,color:"#D4D4D4"},V2:{img:de.a.tool_medal2,color:"#D4D4D4"},V3:{img:de.a.tool_medal3,color:"#FF989C"},V4:{img:de.a.tool_medal4,color:"#FF989C"},V5:{img:de.a.tool_medal5,color:"#EAEAEA"}},paramList:[{text:"积分",code:"bonus_points",key:"pointBlance",url:"/member/newpoint"},{text:"优惠券",code:"coupons",key:"couponCount",url:"/member/coupon"},{text:"代金券",code:"vouchers",key:"balanceAmount",url:"/member/balance"}]},r}return p()(n,[{key:"render",value:function(){var e=this;return x.a.createElement(W.b,{themeStyles:ce},(function(t,n){return x.a.createElement(j.a,{activeOpacity:1,style:[t.aligncenter,{padding:18}]},x.a.createElement(E.a,{style:t.flexBox},x.a.createElement(E.a,{style:t.memberavatar},x.a.createElement(j.a,{activeOpacity:1,onPress:function(){var e=pe.a.webDomain+fe.j.PERSONAL_URL_WEB;J.a.get("rnpersonalurlweb")?(e=J.a.get("rnpersonalurlweb"),Object(ue.A)(e+"&t="+(new Date).getTime(),!1)):(e=pe.a.webDomain+fe.j.PERSONAL_URL_WEB,Object(ue.A)(e+"?t="+(new Date).getTime(),!1))}},x.a.createElement(Re.a,{imgUri:e.state.memberInfo.headPictureURL,imgStyle:t.memberavatar}))),x.a.createElement(E.a,{style:t.membermsgbox},x.a.createElement(E.a,{style:t.memberprogress},x.a.createElement(xe,{value:e.state.memberInfo.progressValue,total:e.state.memberInfo.progressTotal,color:e.state.medalList[e.state.memberInfo.level].color},x.a.createElement(Re.a,{imgUri:e.state.medalList[e.state.memberInfo.level].img,imgStyle:{width:20,height:20}}))),x.a.createElement(E.a,{style:t.flexBox},x.a.createElement(E.a,{style:t.membermsg},e.state.memberInfo.isAuthentication?x.a.createElement(x.a.Fragment,null,x.a.createElement(E.a,{style:t.membermsgimg},x.a.createElement(V.a,{normalCol:n.C41.color,opacity:n.C41.opacity,iconName:"web-real-name",width:16,height:16})),x.a.createElement(R.a,{style:t.membergoodstext},"".concat(Object(Se.b)("autonym")||"已实名"))):x.a.createElement(x.a.Fragment,null,x.a.createElement(E.a,{style:t.membermsgimg},x.a.createElement(V.a,{normalCol:n.C15.color,opacity:n.C15.opacity,iconName:"web-real-name",width:16,height:16})),x.a.createElement(Ee,{text:"".concat(Object(Se.b)("no_autonym")||"未实名"),url:"/authmember/accesstoken",timeStamp:1,textStyle:t.membergoodstext}))),x.a.createElement(E.a,{style:t.membermsg},x.a.createElement(E.a,{style:t.membermsgimg},x.a.createElement(V.a,{normalCol:n.C41.color,opacity:n.C41.opacity,iconName:"web-nav-message",width:16,height:16})),x.a.createElement(Ee,{text:"".concat(Object(Se.b)("message")||"消息","(").concat(e.state.memberInfo.unread||0,")"),timeStamp:1,url:"/member/msg",textStyle:t.membergoodstext}))))),x.a.createElement(E.a,{style:[t.membertitle,t.greyborder]},x.a.createElement(R.a,{style:t.membertitleleft},Object(Se.b)("my_order")),x.a.createElement(Ee,{newTab:!0,text:Object(Se.b)("common_more"),url:"/member/order",timeStamp:1,textStyle:t.membertitlemore})),x.a.createElement(E.a,{style:[t.flexBox,{flexWrap:"wrap"}]},e.state.list.map((function(e,n){return x.a.createElement(x.a.Fragment,null,0===n?null:x.a.createElement(E.a,{style:[t.line,t.greyborder]}),x.a.createElement(Ee,{text:e.code&&Object(Se.b)(e.code)||e.text,url:e.url,boxStyle:t.membergoods,textStyle:t.membergoodstext,ellipsizeMode:"tail",timeStamp:1,numberOfLines:3}))}))),x.a.createElement(E.a,{style:t.memberparam},e.state.paramList.map((function(n){return x.a.createElement(E.a,{style:{flex:1}},x.a.createElement(Ee,{newTab:!0,text:e.state.memberInfo[n.key],url:n.url,timeStamp:1,textStyle:t.memberparamvalue}),x.a.createElement(R.a,{style:t.memberparamtext},n.code&&Object(Se.b)(n.code)||n.text))}))),x.a.createElement(E.a,{style:[t.memberlogoutbox,t.greyborder]},x.a.createElement(Ee,{text:Object(Se.b)("logout_full"),newTab:!0,onPress:function(){return e.logout()},textStyle:[t.memberlogout,t.membergoodstext]})))}))}},{key:"onPress",value:function(e){e&&Object(ue.A)(e,!0)}},{key:"decode",value:function(e){if("web"===I.a.OS){if("string"==typeof e&&e.indexOf("&")>-1){var t=document.createElement("textarea");t.innerHTML=e,e=t.value}return e}}},{key:"logout",value:function(){var e=this;"web"===I.a.OS&&(window.sessionStorage.setItem("memberInfo",""),Object(je.L)().then((function(t){t&&t.redirectUrl&&(window.location.href=Object(Ce.a)(e.decode(t.redirectUrl)))})))}},{key:"componentDidMount",value:function(){var e=this,t=J.a.get("TID");J.a.get("callAB")||_e||(_e=!0,Object(je.v)(t,"1")),Object(Ce.c)().then((function(t){e.setState({memberInfo:t})})).catch((function(e){})).finally((function(){}))}}]),n}(x.a.Component),Ae=n(444),Be=n.n(Ae),Me=n(312),Fe=n.n(Me),He=n(92),ze=n.n(He),Ue=n(58),Ve=n.n(Ue),Ge=n(952),Ye=n(157),Je=n(38),Ke=n(29),qe=[{reasonType:1,description:"此商品已失效"},{reasonType:2,description:"此商品已失效"},{reasonType:3,description:"此商品已失效"},{reasonType:4,description:"此商品已失效"},{reasonType:5,description:"此商品暂不可购买"},{reasonType:6,description:"此商品暂时缺货"},{reasonType:7,description:"此商品限购"},{reasonType:8,description:"超过内购限额"},{reasonType:9,description:"此商品不在本渠道销售"},{reasonType:10,description:"此商品已失效"},{reasonType:12,description:"此商品暂不支持该地区的配送"},{reasonType:18,description:"已超出限购数量"},{reasonType:101,description:"此套餐已失效"},{reasonType:106,description:"此套餐暂时缺货"}];function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}Object(pe.b)(Je.a);var $e=pe.a.openApiDomain;function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var et={navigation:Pe,member:We,buyCart:function(e){m()(r,e);var t,n=Qe(r);function r(e){var t;return u()(this,r),t=n.call(this,e),C()(h()(t),"gotoProductDetail",(function(e){var t=te()(e,"sbom.productId")||"",n=Je.a.webDomain+"product/"+t+".html";Object(ue.A)(n,!0)})),C()(h()(t),"selectCartItem",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",t=arguments.length>1?arguments[1]:void 0,n="".concat(Je.a.openApiDomain).concat(fe.j.SELECT_CART_ITEM);return Ke.a.post(n,{portal:e,mainItemIds:t,country:"CN",lang:"zh-CN"})})),C()(h()(t),"disselectCartItem",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",t=arguments.length>1?arguments[1]:void 0,n="".concat(Je.a.openApiDomain).concat(fe.j.DISSELECT_CART_ITEM);return Ke.a.post(n,{portal:e,mainItemIds:t,country:"CN",lang:"zh-CN"})})),C()(h()(t),"renderItemTypePOrG",(function(e,t,n,r,o){return x.a.createElement(E.a,{style:e.commonTypeCls},x.a.createElement(R.a,{style:e.itemTypeTitle},"【",o,"】"),x.a.createElement(R.a,{style:e.itemNameDescriptionCls,numberOfLines:1},x.a.createElement(R.a,null,$()(t,(function(o,i){var a=0!==o.invalidCauseReason?e.invalidClickCls:null,l=parseInt(i,10)!==Z()(t)-1,s="G"===n?r:o.qty;return x.a.createElement(R.a,{style:[e.subItemText,a]},o.itemName," x ",s,l?x.a.createElement(R.a,null,","):null)})))))})),C()(h()(t),"renderItemCommonType",(function(e,t){var n={DP:Object(Se.b)("collocation"),S6:Object(Se.b)("broken_screen_treasure"),S1:Object(Se.b)("extended_warranty"),S15:Object(Se.b)("worry_free_service")};return $()(t,(function(t){var r=t.salePrice,o=t.originalPrice,i=r!==o?r:o,a=0!==t.invalidCauseReason?e.invalidClickCls:null;return x.a.createElement(E.a,{style:e.commonTypeCls},x.a.createElement(R.a,{style:[e.itemTypeTitle,a]},x.a.createElement(R.a,null,"【",n[t.itemType],"】")),x.a.createElement(R.a,{style:[e.itemNameDescriptionCls,a],numberOfLines:1},t.itemName),x.a.createElement(R.a,{style:e.primaryPrice},x.a.createElement(R.a,{style:[e.normalPrice,a]},"¥ ",i.toFixed(2),x.a.createElement(R.a,{style:e.primaryQty}," x ",t.qty))))}))})),C()(h()(t),"renderSubitem",(function(e,n,r){var o=Ve()(r,(function(e){return"G"===e.itemType})),i=Ve()(r,(function(e){return"P"===e.itemType})),a=Ve()(r,(function(e){return"G"!==e.itemType&&"P"!==e.itemType}));return x.a.createElement(E.a,{style:e.subItemWrapperCls},Z()(o)>0?t.renderItemTypePOrG(e,o,"G",n,Object(Se.b)("match")):null,Z()(i)>0?t.renderItemTypePOrG(e,i,"P",n,Object(Se.b)("set_meal")):null,Z()(a)>0?t.renderItemCommonType(e,a):null)})),C()(h()(t),"renderPrimayProductTemplate",(function(){})),C()(h()(t),"getInvalidCause",(function(e){var t,n;if("DP"===e.itemType&&(6===e.invalidCauseReason?e.invalidCauseReason=106:7===e.invalidCauseReason?e.numblimit||(e.invalidCauseReason=101):e.invalidCauseReason>0&&(e.invalidCauseReason=101)),"P"===e.itemType)if(6===e.invalidCauseReason)e.invalidCauseReason=106;else if(7===e.invalidCauseReason)e.numblimit||(e.invalidCauseReason=101);else if(e.invalidCauseReason>0)e.invalidCauseReason=101;else for(var r=e.subItems,o=0;o<r.length;o++)"P"===r[o].itemType&&r[o].invalidCauseReason>0&&(e.invalidCauseReason=101);var i=(ze()(Ve()(qe,(function(t){return t.reasonType===e.invalidCauseReason})))||{}).description,a=void 0===i?"":i,l=Math.min(null==e||null===(t=e.sbom)||void 0===t?void 0:t.productLimit,null==e||null===(n=e.sbom)||void 0===n?void 0:n.sbomLimit);return e.qty>l&&7===e.invalidCauseReason&&(a="此商品限购".concat(e.invalidCauseLeftValue,"件")),a})),C()(h()(t),"getMinLimit",(function(e){return 0!==e.sbom.productLimit&&0!==e.sbom.sbomLimit?Math.min(e.sbom.productLimit,e.sbom.sbomLimit):0!==e.sbom.productLimit?e.sbom.productLimit:0!==e.sbom.sbomLimit?e.sbom.sbomLimit:void 0})),C()(h()(t),"renderPrimary",(function(){var e=te()(t.state.cartInfo,"itemInfos")||{},n=t.props.scrollY>434;return x.a.createElement(W.b,{themeStyles:ce},(function(r){return $()(e,(function(e){var o=e||{},i=o.sbom,a=o.subItems,l=i||{},s=l.photoName,c=void 0===s?"":s,u=l.photoPath,d=void 0===u?"":u,p=e.selected?"Checkbox-Checked-1":"Checkbox-Unchecked",f=e.selected?"#CF0A2C":"rgba(0,0,0,0.40)",h=t.getInvalidCause(e),g=e.qty>t.getMinLimit(e),m=h||g;return x.a.createElement(E.a,{style:[n?r.productPaddingRightCls:r.productWrapper]},x.a.createElement(E.a,{style:{opacity:m?.4:1}},x.a.createElement(E.a,{style:r.primaryProductCls},x.a.createElement(E.a,{style:r.primaryProductIcon},x.a.createElement(Ge.a,{underlayColor:"transparent",onPress:function(){return t.checkClick(e)},activeOpacity:1},x.a.createElement(V.a,{iconName:p,width:"20",height:"20",normalCol:f}))),x.a.createElement(E.a,{style:r.primaryProductContainer},x.a.createElement(j.a,{onPress:function(){return t.gotoProductDetail(e)},activeOpacity:1,style:r.primaryImg},x.a.createElement(E.a,null,x.a.createElement(Ye.a,{source:{uri:"".concat(Je.a.cmsCndProdPath,"/").concat(d,"78_78_").concat(c)},style:{height:64,maxWidth:64}}))),x.a.createElement(j.a,{onPress:function(){return t.gotoProductDetail(e)},activeOpacity:1,style:r.primaryTitle},x.a.createElement(R.a,null,x.a.createElement(B.a,null,(function(t){return x.a.createElement(R.a,{style:[t&&!m?r.prdItemHover:"",r.prdItemText],numberOfLines:2},e.itemName)})),x.a.createElement(R.a,{style:r.invalidCauseReasonTitle},h))),x.a.createElement(R.a,{style:r.primaryPrice,numberOfLines:1},x.a.createElement(R.a,{style:r.priceTotal,numberOfLines:1},x.a.createElement(R.a,{style:r.originalPrice,numberOfLines:1},"¥ ",e.salePrice.toFixed(2)),e.salePrice!==e.originalPrice?x.a.createElement(R.a,{style:r.salePricecls,numberOfLines:1},"¥ ",e.originalPrice.toFixed(2)):null),x.a.createElement(R.a,{style:r.primaryQty,numberOfLines:1},"x ",e.qty)))),x.a.createElement(E.a,{style:r.packageCls},t.renderSubitem(r,e.qty,a)),x.a.createElement(E.a,{style:r.bottomColorLine})),m?x.a.createElement(E.a,{style:r.primaryMaskCls}):null)}))}))})),C()(h()(t),"getLogin",(function(){var e=t.state,n=e.isLogin,r=e.cartInfo,i=te()(r,"itemInfos")||{},a=Fe()($()(i,"selected")),l="/account/login?url="+encodeURIComponent(window.location.href)+"&_t="+(new Date).getTime(),s=Ve()(i,(function(e){return e.selected})),c=$()(s,(function(e){var t=$()(e.subItems,(function(e){var t,n={itemId:e.itemCode,qty:e.qty,itemType:e.itemType};("S1"!==e.itemType&&"S6"!==e.itemType&&"S15"!==e.itemType||(n.mainSkuCode=e.mainItemCode),"DP"===e.itemType)&&(n.itemProp={dp_group:null==e||null===(t=e.attrsMap)||void 0===t?void 0:t.dp_group});return n})),n=Be()(Ve()(t,(function(e){return"S0"!==e.itemType&&"G"!==e.itemType})),"itemId"),r=[],i={};Ve()(e.subItems,(function(e){var t,n,a,l=null==e||null===(t=e.attrsMap)||void 0===t?void 0:t.g_group,s=null==e||null===(n=e.attrsMap)||void 0===n?void 0:n.g_actId,c=null==e||null===(a=e.attrsMap)||void 0===a?void 0:a.g_type;"G"===e.itemType&&(i.sbomCode=e.itemCode,l&&(i.group=l),s&&(i.actId=s),c&&(i.type=c),r=[].concat(o()(r),[i]))}));var a,l,s={itemId:e.itemCode,qty:e.qty,itemType:e.itemType,id:e.itemId,gifts:r,subOrderItemReqArgs:n};(Z()(r)<1&&delete s.gifts,"DP"===e.itemType)&&(s.itemProp={dp_package_code:null==e||null===(a=e.attrsMap)||void 0===a?void 0:a.dp_package_code});"P"===e.itemType&&(s.itemProp={package_code:null==e||null===(l=e.attrsMap)||void 0===l?void 0:l.package_code});return s})),u=J.a.get("CSRF-TOKEN"),d=J.a.get("uid");Z()(a)>0&&(n||d?t.postForm({orderReqJson:JSON.stringify(c),state:1,CsrfToken:u}):Object(ue.A)(l,!0))})),C()(h()(t),"renderSettlement",(function(e){var n=t.state.cartInfo||{},r=n.originalPrice,o=n.cashPay,i=te()(t.state.cartInfo,"itemInfos")||{},a=Ve()(i,(function(e){return 0===e.invalidCauseReason})),l=Fe()($()(i,"selected"));return x.a.createElement(E.a,null,Z()(a)?x.a.createElement(E.a,{style:e.settlementCls},x.a.createElement(E.a,{style:e.settlementTitleCls},Object(Se.b)("total"),":"),x.a.createElement(E.a,{style:e.settlementPriceCls},x.a.createElement(E.a,{style:e.settlementSalePriceCls},o.toFixed(2)),o!==r?x.a.createElement(E.a,{style:e.settlementCountPriceCls},r.toFixed(2)):null,x.a.createElement(B.a,null,(function(n){return x.a.createElement(j.a,{activeOpacity:1},x.a.createElement(R.a,{style:[e.settlementCountCls,n?e.settlementHoverCls:"",Z()(l)>0?"":e.settlementOpacityCls],onPress:t.getLogin},Object(Se.b)("settlement")))})))):null)})),t.state={isChecked:"",cartInfo:{},preCartInfoData:{},isLogin:!1},t}return p()(r,[{key:"componentDidMount",value:(t=s()(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.k)();case 2:t=e.sent,this.setState({isLogin:t});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isLogin",value:function(){var e=this,t="".concat($e,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return Ke.a.get(t,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(t){var n=t.login;return e.setState({isLogin:n}),n}))}},{key:"checkClick",value:function(e){var t=this,n=JSON.stringify([e.itemId])+"";(e.selected?this.disselectCartItem:this.selectCartItem)("1",n).then((function(e){e&&e.cartInfo&&t.setState({cartInfo:e.cartInfo})}))}},{key:"postForm",value:function(e){if("web"===I.a.OS){var t="".concat(Je.a.webDomain,"order/confirmcart"),n=document.createElement("form");for(var r in n.action=t,n.method="post",n.target="_self",n.style.display="none",e){var o=document.createElement("input");o.name=r,o.value=e[r],n.appendChild(o)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}}},{key:"render",value:function(){var e=this,t=this.props.hasDataStatus;return x.a.createElement(W.b,{themeStyles:ce},(function(n){return x.a.createElement(j.a,{activeOpacity:1},x.a.createElement(E.a,{style:n.buycartbox},t?x.a.createElement(E.a,null,x.a.createElement(E.a,{style:n.primaryCls},e.renderPrimary()),x.a.createElement(E.a,null,e.renderSettlement(n))):x.a.createElement(E.a,{style:n.noProductWrapper},x.a.createElement(E.a,{style:n.buycartnull},x.a.createElement(E.a,{style:{width:80}},x.a.createElement(ne.a,{imgUri:de.a.tool_cartbig,imgProportion:1}))),x.a.createElement(R.a,{style:n.buycartmsgnull},Object(Se.b)("empty_shopping_cart")))))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.cartInfoData;if(n!==t.preCartInfoData)return{cartInfo:n,preCartInfoData:n}}}]),r}(x.a.PureComponent),qrcode:function(e){m()(n,e);var t=Xe(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={},r}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,r=t.templateMap;return r&&r.mobDownload&&Object(Ce.b)(r.mobDownload)||x.a.createElement(W.b,{themeStyles:ce},(function(t,r){return x.a.createElement(E.a,{style:{padding:22}},n&&n.map((function(n,o){return x.a.createElement(j.a,{activeOpacity:1,onPress:function(){return e.onPress(n)}},0===o?null:x.a.createElement(E.a,{style:t.imgline}),x.a.createElement(E.a,{style:[t.flexBox,{alignItems:"flex-start"}]},x.a.createElement(E.a,{style:{width:n.imgwidth,marginRight:12}},x.a.createElement(ne.a,{imgUri:n.imgUrl,imgProportion:n.imgProportion,actionUrlWeb:n.uri})),x.a.createElement(E.a,{style:{width:100}},x.a.createElement(R.a,{numberOfLines:1,style:t.qrcodetitle},n.code&&Object(Se.b)(n.code)||n.text),n.msgList&&n.msgList.map((function(e){return x.a.createElement(R.a,{numberOfLines:1,style:[t.qrcodemsg,{color:e.color&&r[e.color].color||r.C12.color}]},e.text)})),n.iconList&&x.a.createElement(E.a,{style:t.flexBox},n.iconList.map((function(e){return x.a.createElement(E.a,{style:{width:"33%",alignItems:"center",marginTop:5}},x.a.createElement(V.a,{normalCol:"#000000",opacity:.6,iconName:e.icon,width:20,height:20}),x.a.createElement(E.a,{style:{marginVertical:-10}},x.a.createElement(V.a,{normalCol:"#000000",opacity:.6,iconName:e.textIcon,width:30,height:30})))}))))))})))}))}},{key:"onPress",value:function(e){e.url&&Object(ue.A)(e.url,!!e.newTab)}}]),n}(x.a.Component)};Object(pe.b)(Je.a);var tt=pe.a.openApiDomain,nt=pe.a.webDomain,rt=pe.a.customerServiceUrl,ot=function(e){m()(r,e);var t,n=Ze(r);function r(e){var t;return u()(this,r),t=n.call(this,e),C()(h()(t),"cartNumTimer",null),t.state={cartInfo:{},cartScrollY:0,hasDataStatus:!0,showLoginWindow:!1},t.onClose=t.onClose.bind(h()(t)),t}return p()(r,[{key:"componentDidMount",value:function(){"buyCart"===this.props.type&&this._getCartNum()}},{key:"onClose",value:function(){this.setState({showLoginWindow:!1})}},{key:"shouldComponentUpdate",value:function(e){return e.active&&e.active!==this.props.active&&this._getCartNum(),!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.cartNumTimer)}},{key:"_getCartNum",value:function(){var e=this;clearTimeout(this.cartNumTimer),this.cartNumTimer=setTimeout((function(){Object(je.c)("1").then((function(t){var n=t&&te()(t.cartInfo,"itemInfos")||{};Z()(n)>0?e.setState({cartInfo:t.cartInfo},(function(){var t=te()(e.state.cartInfo,"itemInfos")||{},n=$()(t,(function(e){var t=(e||{}).subItems;return 27*Z()(t)+111}));e.setState({cartScrollY:q()(n),hasDataStatus:!0})})):e.setState({hasDataStatus:!1})}),(function(){e.setState({hasDataStatus:!1})}))}),1e3)}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.icon,o=t.title,i=t.list,a=t.active,l=t.custom,s=t.style,c=t.iconStyle,u=t._value,d=t.templateMap,p=this.state,f=p.cartInfo,h=p.cartScrollY,g=p.hasDataStatus,m=l&&et[n]||E.a,y=window.location.href,v="".concat(rt,"#/?businessUUID=902d812b8bdb44e089e34544fb5d77e2&enterurl=").concat(y,"&k=1&from=06&remark="),b="".concat(nt,"account/login?url=").concat(encodeURIComponent(v));return x.a.createElement(W.b,{themeStyles:ce},(function(t,p){return x.a.createElement(E.a,null,x.a.createElement(E.a,{style:[t.flexBox,a&&t.selectcontainer,s]},r&&x.a.createElement(E.a,{style:c},x.a.createElement(V.a,{normalCol:a?p.C75.color:"#FFFFFF",opacity:a?1:.6,iconName:r,width:16,height:16})),x.a.createElement(R.a,{style:[t.textnormal,a&&t.selecttextactive,t.paddinghorizontal]},o+(void 0!==u?"(".concat(u,")"):"")),"buyCart"===n?null:x.a.createElement(E.a,{style:t.selectarrow},x.a.createElement(V.a,{normalCol:a?p.C75.color:"#FFFFFF",iconName:a?"web-put-away":"web-drop-down",opacity:a?1:.6,width:16,height:16})),x.a.createElement(E.a,{style:[t.selectbox,!a&&{display:"none"},"select"===n&&{paddingHorizontal:18,paddingVertical:12}]},l?x.a.createElement(m,{list:i,templateMap:d,cartInfoData:f,scrollY:h,hasDataStatus:g}):i&&i.map((function(r,o){return x.a.createElement(j.a,{activeOpacity:1,style:t.aligncenter,onPress:function(){return e.onPress(r)}},x.a.createElement(B.a,null,(function(e){switch(n){case"image":return x.a.createElement(E.a,{style:{width:r.imgwidth}},0===o?null:x.a.createElement(E.a,{style:t.imgline}),x.a.createElement(ne.a,{style:{padding:4},imgUri:r.imgUrl,imgProportion:r.imgProportion}));default:return x.a.createElement(R.a,{numberOfLines:1,style:[t.textnormal,t.selecttextnormal,e&&t.selecttextactive]},r.code&&Object(Se.b)(r.code)||r.text)}})))})))),e.state.showLoginWindow?x.a.createElement(re.a,{targetLink:b,onClose:function(){return e.onClose()}}):null)}))}},{key:"isLogin",value:function(){var e="".concat(tt,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return Ke.a.get(e,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(e){return e.login}))}},{key:"onPress",value:(t=s()(a.a.mark((function e(t){var n,r,o,i,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,!t.isCustomer){e.next=8;break}return e.next=4,this.isLogin();case 4:r=e.sent,o=window.location.href,i="".concat(rt,"#/?businessUUID=902d812b8bdb44e089e34544fb5d77e2&enterurl=").concat(o,"&k=1&from=06&remark="),r?Object(ue.A)(i):"web"===I.a.OS&&(l="".concat(nt,"account/login?url=").concat(encodeURIComponent(i)),window.navigator.userAgent.toLowerCase().match(/chrome/)?Object(ue.A)(l):this.setState({showLoginWindow:!0}));case 8:n&&Object(ue.A)(n,!!t.newTab);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(x.a.Component);function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var at,lt=function(e){m()(n,e);var t=it(n);function n(e){var r;return u()(this,n),r=t.call(this,e),C()(h()(r),"account",{}),C()(h()(r),"listener",null),r.state={showLoginWindow:!1},r.onClose=r.onClose.bind(h()(r)),r}return p()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.index,o=t.children,i=t.templateMap;return x.a.createElement(W.b,{themeStyles:ce},(function(t){return x.a.createElement(x.a.Fragment,null,e.state.showLoginWindow?x.a.createElement(re.a,{targetLink:n.targetUrl&&Je.a.webDomain+n.targetUrl,onClose:function(){return e.onClose()}}):null,0===r||n.isRegister?null:x.a.createElement(E.a,{style:t.line}),x.a.createElement(j.a,{activeOpacity:1,onPress:function(){return e.onPress(n)}},x.a.createElement(B.a,{onHoverIn:function(){return e.onHoverIn(n)}},(function(e){switch(n.type){case"select":case"image":return x.a.createElement(E.a,{style:t.itemcontainer},x.a.createElement(ot,Y()({},n,{title:n.code&&Object(Se.b)(n.code)||n.text,active:e,type:n.type})));case"navigation":case"member":case"buyCart":case"qrcode":return x.a.createElement(E.a,{style:t.itemcontainer},x.a.createElement(ot,Y()({},n,{templateMap:i,custom:!0,title:n.code&&Object(Se.b)(n.code)||n.text,active:e,type:n.type})));default:return x.a.createElement(E.a,{style:t.itemcontainer},o,x.a.createElement(R.a,{style:[t.textnormal,t.paddinghorizontal,0===r&&t.textfirst,e&&t.textactive]},n.code&&Object(Se.b)(n.code)||n.text))}}))))}))}},{key:"componentDidMount",value:function(){this.listener=k.a.addListener("popupLoginSuccess",this.onClose)}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.remove()}},{key:"onHoverIn",value:function(e){if("member"===e.type)Object(Ce.d)().then((function(e){"clear"!==e&&"null"!==e||k.a.emit("refreshToolBar")}));else if("buyCart"===e.type){var t=this.props.refreshData;t&&t()}}},{key:"onClose",value:function(){this.setState({showLoginWindow:!1})}},{key:"onPress",value:function(e){var t=e.url,n="&loginChannel=26000000&reqClientType=26&lang=zh-cn&_t=".concat((new Date).getTime());if(t){var r=t.includes("?")?"&":"?";t+=e.timeStamp&&"".concat(r,"t=").concat((new Date).getTime())||""}var o=window.navigator.userAgent.toLowerCase();e.isLogin&&"web"===I.a.OS?o.match(/chrome/)?(t="".concat(Je.a.webDomain,"account/login?url=").concat(encodeURIComponent(Object(Ce.a)(window.location.href)),"&_t=").concat((new Date).getTime()),Object(ue.A)(t,!!e.newTab)):this.setState({showLoginWindow:!0}):e.isRegister?(t="".concat(Je.a.casLoginUrlDomain,"CAS/portal/userRegister/regbyphone.html?service=").concat(encodeURIComponent(Je.a.webDomain),"account%2Fcaslogin").concat(n),Object(ue.A)(t,!!e.newTab)):e.mustLogin?J.a.get("uid")?Object(ue.A)(t,!!e.newTab):o.match(/chrome/)?(t="".concat(Je.a.webDomain,"account/login?url=").concat(encodeURIComponent(e.targetUrl&&Je.a.webDomain+e.targetUrl||Object(Ce.a)(window.location.href)),"&_t=").concat((new Date).getTime()),Object(ue.A)(t,!!e.newTab)):this.setState({showLoginWindow:!0}):t&&Object(ue.A)(t,!!e.newTab)}}]),n}(x.a.Component),st=n(32),ct=n(90);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var ft=pe.a.openApiDomain;Object(pe.b)(Je.a);pe.a.webDomain;var ht=!1,gt=Object(st.b)("store")(at=Object(st.c)(at=function(e){m()(r,e);var t,n=pt(r);function r(e){var t;return u()(this,r),t=n.call(this,e),C()(h()(t),"itemlist",[]),C()(h()(t),"listener",null),C()(h()(t),"listener2",null),C()(h()(t),"listener3",null),C()(h()(t),"toolRefDom",void 0),C()(h()(t),"toolbarPageY",void 0),C()(h()(t),"showMsg",(function(){if("web"===I.a.OS){var e=document.getElementsByClassName("js-priorityCode")[0]||{};window.navigator.userAgent.toLowerCase().match(/chrome/)||(e.setAttribute("href","JavaScript:;"),t.setState({showLoginWindow:!0}))}})),C()(h()(t),"onClose",(function(){t.setState({showLoginWindow:!1})})),C()(h()(t),"toolRef",(function(e){e&&(t.toolRefDom=e,t.itemlist.push(e))})),C()(h()(t),"isLogin",(function(){var e="".concat(ft,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return Ke.a.get(e,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(e){var n=e.login;return t.setState({isLogin:n}),n}),(function(){return t.setState({isLogin:!1}),!1})).catch((function(){return t.setState({isLogin:!1}),!1}))})),C()(h()(t),"handleScrollEvent",(function(){t._layout(t.toolRefDom).then(function(){var e=s()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pageY>-30&&k.a.emit("onToolbarScrollEvent",!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),C()(h()(t),"handleTemplateData",(function(e){var n,r,o,i,a,l,s,c,u,d,p=t.state.isLogin,f=J.a.get("uid");t.setState({leftTemplate:(null===(n=e.templateMapping)||void 0===n||null===(r=n.web_top_shortcut)||void 0===r?void 0:r.content)||"",regionTemplate:(null===(o=e.templateMapping)||void 0===o||null===(i=o.region_select)||void 0===i?void 0:i.content)||"",templateRightMap:{webNav:(null===(a=e.templateMapping)||void 0===a||null===(l=a.index_shortcut_web_nav)||void 0===l?void 0:l.content)||"",mobDownload:(null===(s=e.templateMapping)||void 0===s||null===(c=s.index_shortcut_mob_download)||void 0===c?void 0:c.content)||""}},(function(){if("web"===I.a.OS){var e=(document.getElementsByClassName("js-select-region")||[])[0];e&&e.addEventListener("click",(function(){t.showOrHideSelect(!0)})),"true"===J.a.get("isEnterpriseUser")&&(p||f)&&(u=document.getElementById("li-enterprise-preferential"),d=document.getElementById("li-assets-internal"),u&&(u.innerHTML='<a href="/member/enterprise?t='.concat((new Date).getTime(),'" rel="nofollow">优惠内购</a>'),u.style.display="flex"),d&&(d.innerHTML='<a href="/member/assets?t='.concat((new Date).getTime(),'" rel="nofollow">内部要货</a>'),d.style.display="flex"))}}))})),t.state={rightList:ge,cartItem:ve,leftTemplate:"",regionTemplate:"",templateRightMap:{},showSelectRegion:!1,initFlag:!1,showLoginWindow:!1,isLogin:!1},t.fetchData=t.fetchData.bind(h()(t)),t.setCartData=t.setCartData.bind(h()(t)),t.setCartDataAsync=t.setCartDataAsync.bind(h()(t)),t}return p()(r,[{key:"componentDidUpdate",value:function(e,t){if("web"===I.a.OS&&t.leftTemplate!==this.state.leftTemplate){var n=document.getElementsByClassName("js-priorityCode1")[0]||{};!P()(n)&&n.addEventListener("click",this.showMsg,!1)}}},{key:"render",value:function(){var e=this,t=this.props.width;return("large"===Object(N.a)(t)||null)&&x.a.createElement(W.b,{themeStyles:ce},(function(t,n){return x.a.createElement(E.a,{style:t.bgbox,ref:e.toolRef},x.a.createElement(A.a,null,x.a.createElement(E.a,{style:t.container},x.a.createElement(E.a,{style:t.leftbox},Object(Ce.b)(e.state.leftTemplate)),x.a.createElement(E.a,{style:t.rightbox},e.state.rightList.map((function(t,n){return x.a.createElement(lt,{templateMap:e.state.templateRightMap,item:t,index:n,key:n})}))),x.a.createElement(E.a,{style:t.cartbox},x.a.createElement(lt,{item:e.state.cartItem,index:0,refreshData:function(){return e.setCartDataAsync()}})))),e.state.showSelectRegion&&x.a.createElement(j.a,{style:t.selectregion,activeOpacity:1,onPress:function(){return e.showOrHideSelect(!1)}},x.a.createElement(j.a,{style:t.selectregioncon,activeOpacity:1},x.a.createElement(E.a,{style:{position:"absolute",top:10,right:10}},x.a.createElement(B.a,null,(function(t){return x.a.createElement(j.a,{activeOpacity:1,onFocus:function(){return e.showOrHideSelect(!1)}},x.a.createElement(V.a,{iconName:"cancel-",width:20,height:20,isActive:t,normalCol:n.C24.color,opacity:t?n.C24.opacity:n.C23.opacity}))}))),x.a.createElement(R.a,{style:t.selectregiontitle},"- Please select your country or region -"),x.a.createElement(L.a,{style:{paddingHorizontal:30}},Object(Ce.b)(e.state.regionTemplate,"toolbar_select_region")))),e.state.showLoginWindow?x.a.createElement(re.a,{onClose:function(){return e.onClose()}}):null)}))}},{key:"onPress",value:function(e){e.actionUrl&&Object(ue.A)(e.actionUrl,!0)}},{key:"showOrHideSelect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.setState({showSelectRegion:e}),"web"===I.a.OS){var t,n=(null===(t=document)||void 0===t?void 0:t.body)||null,r=window.innerWidth-document.documentElement.offsetWidth||0;n&&(e?(n.style.overflow="hidden",n.style.paddingRight="".concat(r,"px")):(n.style.overflow="visible",n.style.paddingRight="0"))}}},{key:"componentDidMount",value:(t=s()(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ct.a.setTools(!0),e.next=3,Object(ue.k)();case 3:t=e.sent,this.setState({isLogin:t},(function(){n.fetchData()})),this.listener=k.a.addListener("popupLoginSuccess",this.fetchData),this.listener2=k.a.addListener("refreshToolBar",this.fetchData),this.listener3=k.a.addListener("refreshCartNum",this.setCartData),window.addEventListener("scroll",this.handleScrollEvent);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.remove(),this.listener2&&this.listener.remove(),this.listener3&&this.listener.remove(),window.removeEventListener("scroll",this.handleScrollEvent)}},{key:"_layout",value:function(e){var t=Object(_.a)(e)||0;return new Promise((function(e){D.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"setCartData",value:function(){var e=this.props.store,t=dt({},ve);t._value=(null==e?void 0:e.cartNum)>99?99:(null==e?void 0:e.cartNum)||0,this.setState({cartItem:t})}},{key:"setCartDataAsync",value:function(){var e=this,t=this.props.store,n=dt({},ve);if(null!=t&&t.getCartNum)null==t||t.getCartNum().finally((function(){n._value=(null==t?void 0:t.cartNum)>99?99:(null==t?void 0:t.cartNum)||0,e.setState({cartItem:n})}));else{var r=null;Object(je.x)().then((function(e){r=(e.data&&e.data>99?99:e.data)||0})).finally((function(){n._value=r||0,e.setState({cartItem:n})}))}}},{key:"getTopTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe.e.CN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe.d.CN,r="".concat(Je.a.openApiDomain,"mcp/queryTemplate");return Ke.a.get(r,{portal:e,country:n,lang:t,placeholder:'[\n        "web_top_shortcut","region_select","index_shortcut_mob_download","index_shortcut_web_nav"\n      ]'})}},{key:"fetchData",value:function(){var e=this,t=this.state.isLogin,n=J.a.get("uid"),r=this.props.store;!this.state.initFlag&&(null!=r&&r.cartNum||0===(null==r?void 0:r.cartNum))?this.setCartData():this.setCartDataAsync(),this.setState({initFlag:!0});var i=this.props.templateContent;if(i?this.handleTemplateData(i):this.getTopTemplate().then((function(t){e.handleTemplateData(t)})),n||t){var a=J.a.get("displayName")||J.a.get("name")||J.a.get("user")||"您好!",l=!1;ye[0].text=unescape(a),Object(Ce.c)().then((function(){l=!0})).catch((function(t){var n;"login"===(null==t||null===(n=t.data)||void 0===n?void 0:n.code)&&Object(je.L)().finally((function(){e.setState({isLogin:!1}),J.a.get("uid")||window.location.reload()}))})).finally((function(){if(l){var t=J.a.get("TID");if(J.a.get("callAB")||ht){var n=pe.a.webDomain+fe.j.PERSONAL_URL_WEB;n=J.a.get("rnpersonalurlweb")?J.a.get("rnpersonalurlweb"):pe.a.webDomain+fe.j.PERSONAL_URL_WEB,ye[0].url=n,e.setState({rightList:[].concat(o()(ye),o()(ge))})}else ht=!0,Object(je.v)(t,"1").finally((function(t){var n=pe.a.webDomain+fe.j.PERSONAL_URL_WEB;n=J.a.get("rnpersonalurlweb")?J.a.get("rnpersonalurlweb"):pe.a.webDomain+fe.j.PERSONAL_URL_WEB,ye[0].url=n,e.setState({rightList:[].concat(o()(ye),o()(ge))})}))}else e.setState({rightList:[].concat(o()(me),o()(ge))})}))}else this.setState({rightList:[].concat(o()(me),o()(ge))})}}]),r}(T.Component))||at)||at;t.a=Object(F.a)(U)(Object(H.a)(Object(M.a)(gt)))},,function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return Y}));var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(54),C=n(87),O=n(49),P=n(270),T=n(57),x=T.a.create({footer:{position:"absolute",bottom:0,left:0,right:0},abs:{position:"absolute",left:0,right:0,top:0},leftTop:{position:"absolute",left:0,top:0}});function I(e,t){try{var n=e();return null==n||isNaN(n)?t:n}catch(e){return t}}var k=n(154);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var j=function(e){p()(n,e);var t=E(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"state",{itemIndex:0}),r.updateOffset(e.offset,!0),r}return s()(n,[{key:"componentWillReceiveProps",value:function(e){this.updateOffset(e.offset,!1,e)}},{key:"updateOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;Math.abs(k.a.currentOffset-e)>2&&(k.a.setCurrentOffset(e),k.a.clearCurrentRenderIndexs());var r=0;n||(n=this.props);for(var o=0;o<n.input.length;++o)e>n.input[o]-S.a.get("window").height&&(r=o);var i=n.itemIndexes[r];k.a.pushCurrentRenderIndexs(i),i!==this.state.itemIndex&&(t?this.state={itemIndex:i}:this.setState({itemIndex:i}))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.style,r=e.heightForItem,i=e.renderItem,a=this.state.itemIndex;if(void 0===a||a<0||a>=t.length)return null;var l=T.a.flatten([n,{height:r(t[a],a)}]);return w.a.createElement(C.a.View,o()({},this.props,{style:l}),i(t[a],a))}}]),n}(w.a.Component);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var _=S.a.get("window"),D=Math.max(_.width,_.height),N=function(e){p()(n,e);var t=L(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"_size",void 0),v()(u()(r),"_headerLayout",void 0),v()(u()(r),"_footerLayout",void 0),v()(u()(r),"_orgOnHeaderLayout",void 0),v()(u()(r),"_orgOnFooterLayout",void 0),v()(u()(r),"_contentOffsetY",0),v()(u()(r),"_nativeOffset",void 0),v()(u()(r),"_offset",void 0),v()(u()(r),"_itemRefs",void 0),v()(u()(r),"_shouldUpdateContent",!0),v()(u()(r),"_scrollView",void 0),v()(u()(r),"footerRef",void 0),v()(u()(r),"refreshControl",void 0),v()(u()(r),"lister1",void 0),v()(u()(r),"lister2",void 0),v()(u()(r),"lister3",void 0),v()(u()(r),"_onScrollEvent",(function(e,t){"smartlife"===t&&r._onMomentumScrollEnd(e)})),v()(u()(r),"_onSizeChange",(function(e,t){r._size={height:S.a.get("window").height,width:e},r._shouldRenderContent()&&r.forceUpdate()})),v()(u()(r),"_onLayout",(function(e){r._size={height:e.nativeEvent.layout.height,width:e.nativeEvent.layout.width},r._shouldRenderContent()&&r.forceUpdate()})),v()(u()(r),"_onHeaderLayout",(function(e){r._headerLayout&&r._headerLayout.height===e.nativeEvent.layout.height||(r._headerLayout=e.nativeEvent.layout,r._orgOnHeaderLayout&&r._orgOnHeaderLayout(e),r._shouldRenderContent()&&r.forceUpdate())})),v()(u()(r),"_onFooterLayout",(function(e){r._footerLayout&&r._footerLayout.height===e.nativeEvent.layout.height||(r._footerLayout=e.nativeEvent.layout,r._orgOnFooterLayout&&r._orgOnFooterLayout(e),r._shouldRenderContent()&&r.forceUpdate())})),v()(u()(r),"_onScroll",(function(e){"smartlife"===r.props.pageType?r._contentOffsetY=e:r._contentOffsetY=e.nativeEvent.contentOffset.y,r.state.scrollY.setValue(r._contentOffsetY+(r.props.heightForRefreshControl?r.props.heightForRefreshControl:0));var t=(new Date).getTime();r._lastTick-t>30?r._lastTick=t:(r._lastTick=t,r.props.onScroll&&"smartlife"!==r.props.pageType&&r.props.onScroll(e),r._itemRefs&&0!=r._itemRefs.length&&r._shouldUpdateContent&&r._itemRefs.forEach((function(e){return e.forEach((function(e){return I((function(){return e.current.updateOffset(r._contentOffsetY)}))}))})),r.props.onScroll&&"smartlife"!==r.props.pageType&&r._shouldUpdateContent&&r.props.onScroll(e))})),v()(u()(r),"_onMomentumScrollEnd",(function(e){r.props.onMomentumScrollEnd&&r.props.onMomentumScrollEnd(e);e.nativeEvent.contentOffset.y;r.footerRef&&r._layout(r.footerRef).then((function(e){e&&e.pageY&&e.height&&_.height/2*5>e.pageY&&r.props.onLoadMore&&r.props.onLoadMore()}))})),r.state={scrollY:new C.a.Value(0),refreshing:!1},r.obtainOffset(),r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;"smartlife"===this.props.pageType&&(this.lister1=O.a.addListener("onScrollEvent",this._onScrollEvent),this.lister2=O.a.addListener("onOutScrollViewScroll",(function(t,n){"smartlife"===n&&e._onScroll(t)}))),this.lister3=O.a.addListener("switchScreenDir",(function(t){e.footerRef&&e._layout(e.footerRef).then((function(n){n&&n.pageY&&n.height&&t.nativeEvent.layout.height===n.pageY+48&&e.props.onLoadMore&&e.props.onLoadMore()}))}))}},{key:"componentWillUnmount",value:function(){this.lister1&&this.lister1.remove(),this.lister2&&this.lister2.remove(),this.lister3&&this.lister3.remove()}},{key:"componentWillReceiveProps",value:function(e){e.onNativeContentOffsetExtract&&this.props.onNativeContentOffsetExtract!==e.onNativeContentOffsetExtract&&this.obtainOffset()}},{key:"obtainOffset",value:function(){this._nativeOffset=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:new C.a.Value(0),y:new C.a.Value(0)},this.props.onNativeContentOffsetExtract),this._offset=this._nativeOffset.y}},{key:"render",value:function(){var e=this,t=this.props,n=t.numColumns,r=t.heightForItem,i=t.data,a=t.preferColumnWidth,l=t.gutter,s=t.pageGutter,c=[],u=null;if(this._shouldRenderContent()){this._itemRefs=[],u=I((function(){return e._headerLayout.height}),0),n||(n=Math.floor(this._size.width/a));for(var d=0;d<n;++d)c.push({sumHeight:0,indexes:[],tops:[],heights:[],cells:[],inputs:[],outputs:[],itemIndexes:[],inputItemIndexes:[]});i.forEach((function(t,n){var o=r(t,n),i=Number.MAX_SAFE_INTEGER,a=0;c.forEach((function(e,t){i>e.sumHeight&&(i=e.sumHeight,a=t)}));var l=I((function(){return c[a].heights[c[a].heights.length-1]}),0);c[a].sumHeight+=o,c[a].heights.push(o),c[a].indexes.push(n);var s=I((function(){return c[a].tops[c[a].tops.length-1]}),I((function(){return e._headerLayout.height}),0));c[a].tops.push(s+l)}));var p=Number.MIN_SAFE_INTEGER;c.forEach((function(e){p<e.sumHeight&&(p=e.sumHeight);var t=[];e.tops.forEach((function(n,r){var o=t[0];for(void 0!==o&&n+e.heights[r]-o>3*D&&t.splice(0,1),t.push(n);e.cells.length<t.length+2&&e.cells.length<e.tops.length;)e.cells.push(e.cells.length)}))})),u+=p,(u+=I((function(){return e._footerLayout.height}),0))<=this._size.height&&(u=this._size.height),c.forEach((function(t){t.indexes.forEach((function(n,r){var o=r%t.cells.length;t.inputs[o]||(t.inputs[o]=[Number.MIN_SAFE_INTEGER],t.inputItemIndexes[o]=[n]),t.outputs[o]||(t.outputs[o]=[I((function(){return t.tops[r]}),0)]),t.itemIndexes[o]||(t.itemIndexes[o]=[]),t.inputs[o].push(t.tops[r]-e._size.height,t.tops[r]-e._size.height+.1),t.inputItemIndexes[o].push(n,n),t.outputs[o].push(t.outputs[o][t.outputs[o].length-1]),t.outputs[o].push(I((function(){return t.tops[r]}),t.outputs[o][t.outputs[o].length-1])),t.itemIndexes[o].push(n)})),t.inputs.forEach((function(e,n){e.push(Number.MAX_SAFE_INTEGER),t.inputItemIndexes[n].push(t.inputItemIndexes[n][t.inputItemIndexes[n].length-1])})),t.outputs.forEach((function(e){return e.push(e[e.length-1])}))})),c.forEach((function(t){var n=[];t.itemIndexes.forEach((function(){n.push(w.a.createRef())})),e._itemRefs.push(n)}))}return w.a.createElement(P.a,o()({},this.props,{contentContainerStyle:{height:u},style:this.props.pageStyle,scrollEventThrottle:16,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,overScrollMode:"never",ref:function(t){e.props.scrollViewRef&&e.props.scrollViewRef(t),e._scrollView=t},refreshControl:this.props.refreshControl,onScroll:"smartlife"===this.props.pageType?null:this._onScroll,onContentSizeChange:this._onSizeChange,onScrollBeginDrag:this.props.onScrollBeginDrag,onMomentumScrollEnd:this._onMomentumScrollEnd}),this._renderHeader(),c.map((function(t,r){return t.itemIndexes.map((function(i,a){return w.a.createElement(j,o()({},e.props,{key:t.inputItemIndexes[a][0],ref:e._itemRefs[r][a],offset:e._contentOffsetY,itemIndexes:t.inputItemIndexes[a],input:t.inputs[a],output:t.outputs[a],style:T.a.flatten([x.leftTop,{width:(e._size.width-2*s-l*(n-1))/n,transform:[{translateY:e.state.scrollY.interpolate({inputRange:t.inputs[a],outputRange:t.outputs[a]})},{translateX:(e._size.width-2*s-l*(n-1))/n*r+(r>0?s+l*r:s)}]}])}))}))})),this._renderFooter())}},{key:"_renderHeader",value:function(){var e=this.props.renderHeader;if(!e)return null;var t={transform:[{translateY:this._shouldRenderContent()?0:1e4}]},n=w.a.Children.only(e());return this._orgOnHeaderLayout=n.onLayout,w.a.cloneElement(n,{style:T.a.flatten([n.props.style,t]),onLayout:this._onHeaderLayout})}},{key:"_renderFooter",value:function(){var e=this,t=this.props.renderFooter;if(!t)return null;var n={transform:[{translateY:this._shouldRenderContent()?0:1e4}]},r=w.a.Children.only(t());return this._orgOnFooterLayout=r.onLayout,w.a.cloneElement(r,{style:T.a.flatten([x.footer,r.props.style,n]),onLayout:this._onFooterLayout,ref:function(t){e.footerRef=t}})}},{key:"_shouldRenderContent",value:function(){var e=this.props,t=e.renderHeader,n=e.renderFooter;return this._size&&(!t||this._headerLayout)&&(!n||this._footerLayout)}},{key:"scrollTo",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._scrollView?(this._shouldUpdateContent=!1,this._itemRefs.forEach((function(t){return t.forEach((function(t){return I(t.current.updateOffset(e.y))}))})),this._scrollView.scrollTo(e,n).then((function(){return t._shouldUpdateContent=!0,Promise.resolve()}))):Promise.reject("WaterfallList has not been initialized yet!")}},{key:"_layout",value:function(e){return new Promise((function(t){e.measure((function(e,n,r,o,i,a){t({x:e,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}}]),n}(w.a.PureComponent),W=n(114),A=n(43);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var M,F=function(e){p()(n,e);var t=B(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(u()(e),"_scrollViewRef",void 0),e}return s()(n,[{key:"scrollTo",value:function(){var e;this._scrollViewRef&&(e=this._scrollViewRef).scrollTo.apply(e,arguments)}},{key:"render",value:function(){var e=this;return w.a.createElement(P.a,o()({},this.props,{ref:function(t){return e._scrollViewRef=t}}),this.props.topComponent?this.props.topComponent:null,w.a.createElement(A.a,{style:this.props.styleChange},this.props.children))}}]),n}(W.a),H=n(280),z=n(32);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Y=Object(z.c)(M=function(e){p()(n,e);var t=G(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"timmer",void 0),v()(u()(r),"excuteTimeOut",(function(e){"function"==typeof e&&(r.timmer&&clearTimeout(r.timmer),r.timmer=setTimeout(e,500))})),r}return s()(n,[{key:"componentWillUnmount",value:function(){this.timmer&&clearTimeout(this.timmer)}},{key:"render",value:function(){var e,t=this,n=this.props.newWaterFallBackground;return w.a.createElement(W.d,{style:[{backgroundColor:n||"transparent"},(!n||"transparent"===n)&&this.props.style],columnCount:this.props.columnCount,canChangeSize:!0,layoutProvider:this.props.layoutProvider,dataProvider:this.props.dataProvider,rowRenderer:function(e,n,r){return t.props.rowRenderer(e,n,r)},gutter:this.props.gutter,pageGutter:this.props.pageGutter,scrollViewProps:V(V({},this.props.scrollViewProps),{},{topComponent:this.props.topComponent}),ref:function(e){t.props.scrollViewRef&&t.props.scrollViewRef(e)},externalScrollView:F,onEndReached:function(){t.props.onLoadMore&&t.props.onLoadMore()},onScroll:this.props.onScroll,renderAheadOffset:null!==(e=this.props)&&void 0!==e&&e.bigMixCrad?4e3:5e3,onEndReachedThreshold:"littleCardHybrid"===this.props.sceneName?400:900,renderFooter:this.props.renderFooter,sceneName:this.props.sceneName,excuteTimeOut:this.excuteTimeOut,applyWindowCorrection:function(e,n,r){r.windowShift=0-H.a.getHeaderHeight(t.props.uniqueKey)},onVisibleIndicesChanged:this.props.onVisibleIndicesChanged})}}]),n}(w.a.PureComponent))||M},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(43);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var O=function(e){p()(n,e);var t=C(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(u()(e),"_root",null),e}return s()(n,[{key:"render",value:function(){var e=this;return w.a.createElement(S.a,o()({ref:function(t){return e._root=t}},this.props))}}]),n}(b.Component);t.a=O},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(1),o=n.n(r),i=n(57),a=n(122),l=n(53);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e,t){return t&&(e=a.a),i.a.create({hotList:{display:"flex",flexDirection:"column"},smallStyle:{marginHorizontal:16},mediumStyle:{marginHorizontal:24},card:{borderRadius:16,overflow:"hidden",backgroundColor:e.C33.color},flexLayout:{display:"flex",flexWrap:"wrap",flexDirection:"row",marginBottom:12},cardHeader:{height:48,display:"flex",flexDirection:"row",alignItems:"center",paddingTop:4},cardHeaderTitle:c({fontFamily:l.a.fontFamilyMedium,opacity:.9,fontSize:16,textAlign:"left",lineHeight:22,fontWeight:"500",marginRight:8,flexGrow:1,flexShrink:1,flexBasis:"0%",marginLeft:12},e.C11),cardHeaderMore:c({fontFamily:l.a.fontFamilyBase,fontSize:14,textAlign:"right",lineHeight:19,fontWeight:"400",marginRight:4,flexGrow:1,flexShrink:1,flexBasis:"auto"},e.C13),cardHeaderMoreWrap:{display:"flex",flexDirection:"row",alignItems:"center",marginRight:12,maxWidth:"33.33%"},productList:{display:"flex",flexDirection:"row",flexWrap:"wrap",paddingHorizontal:12}})};var u=i.a.create({productItem:{display:"flex",flexDirection:"column",position:"relative"},productImage:{borderRadius:8,marginBottom:8,overflow:"hidden"},productImageNormal:{backgroundColor:a.a.C32.color+a.a.opacityMap[.5]},productImageDark:{backgroundColor:"rgba(255, 255, 255, 0.05)"},productTitle:{textAlign:"left",fontSize:13,lineHeight:18,fontWeight:"400",fontFamily:l.a.fontFamilyBase,marginBottom:12,flexGrow:1,flexShrink:1,flexBasis:"auto",opacity:.9}}),d=i.a.create({image:{position:"absolute",top:0,left:0,width:16,height:"100%"},numberPosition:{position:"absolute",top:0,left:8,zIndex:1,width:16,display:"flex",alignItems:"center",justifyContent:"center"},numberView:{display:"flex",flexDirection:"column"},text:{color:"#ffffff",fontFamily:l.a.fontFamilyMedium,letterSpacing:0,textAlign:"center"},number123:{lineHeight:12,fontWeight:"700",position:"relative",top:2},fontSize9Wap:{fontSize:12,transform:[{scale:.75}]},fontSize6Wap:{fontSize:12,transform:[{scale:.5}]},fontSize9Apk:{fontSize:9},fontSize6Apk:{fontSize:6},number45:{lineHeight:12,fontWeight:"700",position:"relative",top:-1}})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.WebView=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(138)),i=n(0),a=s(i),l=n(9);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.WebView=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={html:null},r.setRef=function(e){return r.frameRef=e},r.handleSource=function(e,t){e.method&&(t?r.handleSourceInNewWindow(e,t):r.handleSourceInIFrame(e))},r.handleSourceInIFrame=function(e){var t=e.uri,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["uri"]),o=t.substr(0,t.lastIndexOf("/")+1);fetch(t,n).then((function(e){return e.text()})).then((function(e){return r.setState({html:'<base href="'+o+'" />'+e})}))},r.handleSourceInNewWindow=function(e,t){if("POST"===e.method){var r=e.headers["Content-Type"],i="";if(!r||!r.includes("application/x-www-form-urlencoded"))return void console.warn("[WebView] When opening a new window, this content-type is not supported yet, please make a PR!",r);i=o.default.parse(e.body),window.open(n(425)+"?"+o.default.stringify({uri:e.uri,body:JSON.stringify(i)}),t.name||"webview",t.features||void 0)}else console.warn("[WebView] When opening a new window, this method is not supported yet, please make a PR!",e.method)},r.onMessage=function(e){return r.props.onMessage({nativeEvent:e})},r.postMessage=function(e,t){r.frameRef.contentWindow.postMessage(e,t)},r.handleInjectedJavaScript=function(e){return r.props.injectedJavaScript&&e?e.replace("</body>","<script>"+r.props.injectedJavaScript+"<\/script></body>"):e},r.handleSource(e.source,e.newWindow),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.onMessage&&window.addEventListener("message",this.onMessage,!0)}},{key:"componentWillReceiveProps",value:function(e){this.props.source.uri===e.source.uri&&this.props.source.method===e.source.method&&this.props.source.body===e.source.body||this.handleSource(e.source,e.newWindow)}},{key:"componentWillUnmount",value:function(){this.props.onMessage&&window.removeEventListener("message",this.onMessage,!0)}},{key:"render",value:function(){if(this.props.newWindow)return a.default.createElement(l.View,{style:u.loadingContainer,__source:{fileName:"src/index.js",lineNumber:112}},a.default.createElement(l.ActivityIndicator,{__source:{fileName:"src/index.js",lineNumber:113}}));var e=this.props,t=e.title,n=e.source,r=e.onLoad,o=e.scrollEnabled,i=l.StyleSheet.flatten(this.props.style);return(0,l.unstable_createElement)("iframe",{title:t,ref:this.setRef,src:n.method?void 0:n.uri,srcDoc:this.handleInjectedJavaScript(this.state.html||n.html),width:i&&i.width,height:i&&i.height,style:l.StyleSheet.flatten([u.iframe,o&&u.noScroll,this.props.style]),allowFullScreen:!0,allowpaymentrequest:"true",frameBorder:"0",seamless:!0,onLoad:r})}}]),t}(i.Component);c.defaultProps={scrollEnabled:!0},t.default=c;var u=l.StyleSheet.create({loadingContainer:{flex:1,alignItems:"center",justifyContent:"center"},iframe:{width:"100%",height:"100%",borderWidth:0},noScroll:{overflow:"hidden"}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0});var o={BaseNavigationContainer:!0,createNavigatorFactory:!0,NavigationHelpersContext:!0,NavigationContext:!0,NavigationRouteContext:!0,CurrentRenderContext:!0,useNavigationBuilder:!0,useNavigation:!0,useRoute:!0,useFocusEffect:!0,useIsFocused:!0,useNavigationState:!0,getStateFromPath:!0,getPathFromState:!0,getActionFromState:!0,getFocusedRouteNameFromRoute:!0};Object.defineProperty(t,"BaseNavigationContainer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CurrentRenderContext",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"NavigationContext",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"NavigationHelpersContext",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"NavigationRouteContext",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createNavigatorFactory",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"getActionFromState",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"getFocusedRouteNameFromRoute",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"getPathFromState",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"getStateFromPath",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"useFocusEffect",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"useIsFocused",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"useNavigation",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"useNavigationBuilder",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"useNavigationState",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"useRoute",{enumerable:!0,get:function(){return h.default}});var i=n(180);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=r(n(479)),l=r(n(482)),s=r(n(340)),c=r(n(167)),u=r(n(146)),d=r(n(341)),p=r(n(483)),f=r(n(226)),h=r(n(498)),g=r(n(499)),m=r(n(500)),y=r(n(501)),v=r(n(502)),b=r(n(508)),w=r(n(509)),S=r(n(510)),C=n(274);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}))},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext({onDispatchAction:function(){},onOptionsChange:function(){}});t.default=o},function(e,t,n){"use strict";var r=n(10),o=n(37);t.a={handleDapReport:function(e,t,n,i){var a;if("function"!=typeof this.props.customClickReport){var l=this.props,s=l.pageCatCode,c=l.pageCatName,u=l.headerStyle,d=l.resSiteCode,p=l.resSiteName,f=(u||{}).common;return{data:{actionCode:"ios"===o.a.OS||"android"===o.a.OS?r.f.APP+r.d.APP:"wx"===o.a.OS?r.f.WECHAT+r.d.APP:r.f.WAP+r.d.APP,actionName:"点击顶部标题栏功能入口",eventType:r.e.EVENT_TYPE_CLICK,pageId:i?String(i):"",content:{comId:"head",index:null==n||null===(a=n.iconNo)||void 0===a?void 0:a.toString(),indexName:n.iconText,gotoPageId:"",gotoURL:n.actionUrl},pageCatCode:s,pageCatName:c,resSiteCode:d||(null!=f&&f.resSiteCode?null==f?void 0:f.resSiteCode:""),resSiteName:p||(null!=f&&f.resSiteName?null==f?void 0:f.resSiteName:"")}}}this.props.customClickReport(n)}}},function(e,t,n){"use strict";var r,o,i=n(15),a=n.n(i),l=n(17),s=n.n(l),c=n(26),u=n.n(c),d=n(5),p=n.n(d),f=n(6),h=n.n(f),g=n(2),m=n.n(g),y=n(8),v=n.n(y),b=n(7),w=n.n(b),S=n(4),C=n.n(S),O=n(1),P=n.n(O),T=n(0),x=n.n(T),I=n(54),k=n(49),E=n(37),j=n(43),R=n(270),L=n(48),_=n(40),D=n(119),N=n(660),W=n(102),A=n(185),B=n(227),M=n(21),F=n(228),H=n(25),z=n(229),U=n(181),V=n(3),G=n(32),Y=n(23);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var K=I.a.get("window"),q=[{title:"back_item",imgUrl:"",orderNum:9,actionUrl:"",actionUrlWap:"",actionUrlWeb:"",iconAttribute:"top"}],Q=Object(G.b)("store")(r=Object(G.c)((o=function(e){v()(r,e);var t,n=J(r);function r(e){var t;return p()(this,r),t=n.call(this,e),P()(m()(t),"cartTimer",null),P()(m()(t),"listener1",void 0),P()(m()(t),"listener2",void 0),P()(m()(t),"setCartData",(function(){if(!Object(V.F)()){var e=t.props.store;t.setState({cartItem:e.cartNum})}})),P()(m()(t),"setCartDataAsync",(function(e){if(e&&"cart"===e){var n=t.props.store;n.getCartNum().finally((function(){t.setState({cartItem:n.cartNum})}))}})),P()(m()(t),"bindHandleScroll",(function(){var e;(null!==(e=window)&&void 0!==e&&e.pageYOffset?window.pageYOffset:0)>=I.a.get("window").height?t.setState({isShowTop:!0},(function(){t.renderBuoysList()})):t.setState({isShowTop:!1},(function(){t.renderBuoysList()}))})),P()(m()(t),"renderBuoysList",(function(){var e=t.props,n=e.width,r=e.children,o=[],i=[],a=r;null==a||a.forEach((function(e){e.cardType&&"buoys"===e.cardType&&"1"===JSON.parse(e.configInfo).isFixed&&JSON.parse(e.configInfo).iconTexts.forEach((function(t){o.length<8&&"search"!==t.iconAttribute&&"setting"!==t.iconAttribute&&"userContentCenter"!==t.iconAttribute&&"scan"!==t.iconAttribute&&(t.card=e,o.push(t))}))})),i=L.a.isPc(n)?t.state.isShowTop?[].concat(o,q):[].concat(o):t.state.isShowTop?[].concat(q):[],Object(V.F)()||t.setState({fixedList:i})})),P()(m()(t),"isPad",(function(){return"medium"===Object(_.a)(t.props.width)||"large"===Object(_.a)(t.props.width)&&t.props.width<D.a.safety_area})),P()(m()(t),"isPadPc",(function(){return"large"===Object(_.a)(t.props.width)&&t.props.width<D.a.safety_area})),P()(m()(t),"float_main_fixed",(function(){return{width:80,backgroundColor:"#fff",borderRadius:10,zIndex:100,paddingTop:4,paddingBottom:16}})),P()(m()(t),"float_main_fixed_noPc",(function(){return{width:38,height:38,backgroundColor:"#fff",borderRadius:Object(V.F)()?24:19,right:this.isPad()?24:16,zIndex:1,margin:"auto"}})),P()(m()(t),"float_main_drag",(function(){return{width:this.props.width,height:I.a.get("window").height,maxHeight:I.a.get("window").height,top:0,left:0,zIndex:101}})),t.state={isShowTop:!!Object(V.F)(),isDisplay:"none",messageNum:0,fixPosition:"fixed",fixedList:[],cartItem:0},t}return h()(r,[{key:"componentDidMount",value:function(){var e,t,n=this;(null===(e=window)||void 0===e||e.addEventListener("scroll",this.bindHandleScroll),this.listener1=k.a.addListener("refreshCartNum",this.setCartData),this.setCartData(),this.renderBuoysList(),this.cartTimer&&clearTimeout(this.cartTimer),"web"===E.a.OS)&&(null!==(t=this.props)&&void 0!==t&&t.cartNum&&0!==this.props.cartNum||(this.cartTimer=setTimeout((function(){n._getMessageNum()}),1e3)))}},{key:"componentWillUnmount",value:function(){var e;this.cartTimer&&clearTimeout(this.cartTimer),null===(e=window)||void 0===e||e.removeEventListener("scroll",this.bindHandleScroll),this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.setState({isShowTop:!1})}},{key:"_getMessageNum",value:(t=u()(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.k)();case 2:e.sent&&Object(Y.i)("large"===Object(_.a)(K.width)?"1":"2").then((function(e){e&&(e.activityMsgNum||e.interactMsgnum||e.logisticsMsgNum||e.ntfMsgNum)&&t.setState({messageNum:parseInt(e.activityMsgNum+e.interactMsgnum+e.logisticsMsgNum+e.ntfMsgNum)||0})})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"renderDragBuoy",value:function(e){var t=this,n=this.props,r=n.width,o=n.clickItem,i=n.children,l=[],s=i;if(!L.a.isPc(r))return null==s||s.forEach((function(e){if(e.cardType&&"buoys"===e.cardType&&"0"===JSON.parse(e.configInfo).isFixed){var t=JSON.parse(e.configInfo);t.iconTexts.forEach((function(n){n.displayPosition=t.displayPosition,n.slideUp=t.slideUp,n.card=e,l.push(n)}))}})),l.map((function(e,n){return x.a.createElement(j.a,{key:n},x.a.createElement(U.a,a()({index:n,onReportDataDragBuoy:o,width:r,height:I.a.get("window").height,isWap:L.a.isWap(r),isApp:L.a.isApp(),onReportDataFixedBuoy:o},e,{pageType:t.props.pageType})))}))}},{key:"renderFixedBuoy",value:function(e){var t=this,n=this.props,r=n.width,o=n.clickItem,i=this.state,l=i.fixedList,s=i.cartItem;return l.map((function(n,i){return x.a.createElement(N.a,{key:i,onHoverIn:function(){return t.setCartDataAsync(null==n?void 0:n.iconAttribute)}},(function(i){return x.a.createElement(j.a,{style:L.a.isPc(t.props.width)?e.itemFixed:{flex:1}},x.a.createElement(z.a,a()({isHovered:i,onReportDataFixedBuoy:o,messageNum:t.state.messageNum,cartNum:s},n,{isPc:L.a.isPc(r),isWap:L.a.isWap(r)})))}))}))}},{key:"render",value:function(){var e=this,t=this.props.width,n=this.state,r=n.isShowTop,o=n.fixPosition,i=n.isDisplay,a=n.fixedList;return x.a.createElement(W.b,{themeStyles:B.a},(function(n){return x.a.createElement(x.a.Fragment,null,x.a.createElement(j.a,{style:[n.box_shadow,L.a.isPc(t)?a.length>0?[e.float_main_fixed(),{position:o,bottom:32,right:16}]:[e.float_main_fixed(),{position:o,bottom:32,right:16,display:i}]:r||Object(V.F)()?[e.float_main_fixed_noPc(),{position:o},Object(V.F)()?{bottom:24,width:48,height:48,margin:"auto"}:{bottom:70},n.box_shadow]:[e.float_main_fixed_noPc(),{display:i}]]},e.renderFixedBuoy(n)),Object(V.F)()?x.a.createElement(U.a,e.props):x.a.createElement(R.a,{pointerEvents:"box-none",scrollEnabled:!1,style:L.a.isWap(t)?[e.float_main_drag(),{position:o}]:{display:i}},e.renderDragBuoy(n)))}))}}]),r}(T.Component),P()(o,"defaultProps",{data:[]}),r=o))||r)||r;t.a=Object(A.a)(Object(M.a)(F.a)(Object(H.a)(Q)))},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(43);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var O=function(e){p()(n,e);var t=C(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(u()(e),"_root",null),v()(u()(e),"handleRef",(function(t){e._root=t,e.props.onRef&&e.props.onRef(t)})),e}return s()(n,[{key:"render",value:function(){var e=this;return w.a.createElement(S.a,o()({ref:function(t){return e.handleRef(t)}},this.props),this.props.children)}}]),n}(b.Component);t.a=O},function(e,t,n){"use strict";n.r(t),n.d(t,"BrowserRouter",(function(){return d})),n.d(t,"HashRouter",(function(){return p})),n.d(t,"Link",(function(){return v})),n.d(t,"NavLink",(function(){return S}));var r=n(66);n.d(t,"MemoryRouter",(function(){return r.a})),n.d(t,"Prompt",(function(){return r.b})),n.d(t,"Redirect",(function(){return r.c})),n.d(t,"Route",(function(){return r.d})),n.d(t,"Router",(function(){return r.e})),n.d(t,"StaticRouter",(function(){return r.f})),n.d(t,"Switch",(function(){return r.g})),n.d(t,"generatePath",(function(){return r.i})),n.d(t,"matchPath",(function(){return r.j})),n.d(t,"useHistory",(function(){return r.k})),n.d(t,"useLocation",(function(){return r.l})),n.d(t,"useParams",(function(){return r.m})),n.d(t,"useRouteMatch",(function(){return r.n})),n.d(t,"withRouter",(function(){return r.o}));var o=n(77),i=n(0),a=n.n(i),l=n(72),s=(n(28),n(62)),c=n(97),u=n(83),d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(l.a)(t.props),t}return Object(o.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.e,{history:this.history,children:this.props.children})},t}(a.a.Component);var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(l.b)(t.props),t}return Object(o.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.e,{history:this.history,children:this.props.children})},t}(a.a.Component);var f=function(e,t){return"function"==typeof e?e(t):e},h=function(e,t){return"string"==typeof e?Object(l.c)(e,null,null,t):e},g=function(e){return e},m=a.a.forwardRef;void 0===m&&(m=g);var y=m((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=Object(c.a)(e,["innerRef","navigate","onClick"]),l=i.target,u=Object(s.a)({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=g!==m&&t||n,a.a.createElement("a",u)}));var v=m((function(e,t){var n=e.component,o=void 0===n?y:n,i=e.replace,d=e.to,p=e.innerRef,v=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.h.Consumer,null,(function(e){e||Object(u.a)(!1);var n=e.history,r=h(f(d,e.location),e.location),c=r?n.createHref(r):"",y=Object(s.a)({},v,{href:c,navigate:function(){var t=f(d,e.location),r=Object(l.e)(e.location)===Object(l.e)(h(t));(i||r?n.replace:n.push)(t)}});return g!==m?y.ref=t||p:y.innerRef=p,a.a.createElement(o,y)}))})),b=function(e){return e},w=a.a.forwardRef;void 0===w&&(w=b);var S=w((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,l=void 0===i?"active":i,d=e.activeStyle,p=e.className,g=e.exact,m=e.isActive,y=e.location,S=e.sensitive,C=e.strict,O=e.style,P=e.to,T=e.innerRef,x=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.h.Consumer,null,(function(e){e||Object(u.a)(!1);var n=y||e.location,i=h(f(P,n),n),c=i.pathname,I=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),k=I?Object(r.j)(n.pathname,{path:I,exact:g,sensitive:S,strict:C}):null,E=!!(m?m(k,n):k),j="function"==typeof p?p(E):p,R="function"==typeof O?O(E):O;E&&(j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(j,l),R=Object(s.a)({},R,d));var L=Object(s.a)({"aria-current":E&&o||null,className:j,style:R,to:i},x);return b!==w?L.ref=t||T:L.innerRef=T,a.a.createElement(v,L)}))}))},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenStackHeaderRightView=t.ScreenStackHeaderLeftView=t.ScreenStackHeaderConfig=t.ScreenStackHeaderCenterView=t.ScreenStackHeaderBackButtonImage=t.ScreenStack=t.ScreenContainer=t.Screen=t.NativeScreenContainer=t.NativeScreen=void 0,t.enableScreens=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];g=e},t.screensEnabled=function(){return g},t.shouldUseActivityState=void 0;var o=r(n(56)),i=r(n(5)),a=r(n(6)),l=r(n(8)),s=r(n(7)),c=r(n(4)),u=r(n(0)),d=n(9),p=["active","activityState","style","enabled"];function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=!0;var m=function(e){(0,l.default)(n,e);var t=f(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.activityState,r=e.style,i=e.enabled,a=void 0===i||i,l=(0,o.default)(e,p);return void 0!==t&&void 0===n&&(n=0!==t?2:0),u.default.createElement(d.View,h({style:[r,g&&a&&2!==n?{display:"none"}:null]},l))}}]),n}(u.default.Component);t.NativeScreen=m;var y=d.Animated.createAnimatedComponent(m);t.Screen=y;var v=d.View;t.ScreenContainer=v;var b=d.View;t.NativeScreenContainer=b;var w=d.View;t.ScreenStack=w;var S=d.View;t.ScreenStackHeaderBackButtonImage=S;var C=d.View;t.ScreenStackHeaderLeftView=C;var O=d.View;t.ScreenStackHeaderRightView=O;var P=d.View;t.ScreenStackHeaderCenterView=P;var T=d.View;t.ScreenStackHeaderConfig=T;t.shouldUseActivityState=!0},function(e,t,n){"use strict";var r=n(372),o=n(382),i=n(189);e.exports={formats:i,parse:o,stringify:r}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(17),a=n.n(i),l=n(26),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(109),P=n.n(O),T=n(34),x=n.n(T),I=n(0),k=n.n(I),E=n(149),j=n(37),R=n(145),L=n(157),_=n(87),D=n(446),N=n(54),W=n(49),A=n(43),B=n(67),M=n(57),F=n(12);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=n(48),V=n(40),G=n(119),Y=n(103),J=n(122),K=n(102),q=n(185),Q=n(3),$=n(33),X=n(50),Z=n(155),ee=n(19),te=n(30);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var re=0;U.a.isIOS()&&Object($.e)().then((function(e){re=e})).catch((function(e){}));var oe=function(e){m()(r,e);var t,n=ne(r);function r(e){var t,o,i;u()(this,r),i=n.call(this,e),C()(h()(i),"itemlist",[]),C()(h()(i),"_panResponder",void 0),C()(h()(i),"_panResponderApk",void 0),C()(h()(i),"eventListener",void 0),C()(h()(i),"tabViewWrapper",null),C()(h()(i),"scrollY",null),C()(h()(i),"stickyLayoutY",0),C()(h()(i),"initWidth",function(){var e=s()(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.state.width===t){e.next=5;break}return e.next=3,i.getScreenHeight();case 3:n=+e.sent,i.setState({width:t,height:n},(function(){i.state.showType!==B.c.all&&i.state.showType!==B.c.bg||i.setmergeStyle()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C()(h()(i),"_getListBarHeight",(function(){return U.a.isAndroid()?56:U.a.isIOS()?56+re:U.a.isWap(i.state.width)?56:0})),C()(h()(i),"_getStatusBarHeight",(function(){var e,t,n;return"7"!==(null===(e=i.props)||void 0===e||null===(t=e.headeStyles)||void 0===t||null===(n=t.headStyle)||void 0===n?void 0:n.toString())||i.props.isShowLayout?0:U.a.isAndroid()?E.a.currentHeight:U.a.isIOS()?re:(U.a.isWap(i.state.width),0)})),C()(h()(i),"getScreenHeight",(function(){return new Promise((function(e,t){"android"===j.a.OS?R.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(t){isNaN(null==t?void 0:t.screenHeight)?e(Object(Q.x)(i.state.pageType).screenHeight):e(null==t?void 0:t.screenHeight)})).catch((function(){t(Object(Q.x)(i.state.pageType).screenHeight)})):e(Object(Q.x)(i.state.pageType).screenHeight)}))})),C()(h()(i),"listenNavTop",(function(){i.state.theTop>=i.state.stickyLayoutY?i.setState({navTop:!0}):i.setState({navTop:!1})})),C()(h()(i),"_initMergeStyle",(function(){var e=i.props,t=e.styleChange,n=e.groupStyle,r=Object(Q.x)(i.props.pageType).screenWidth,o=Object(V.a)(r);i.isPad()&&i.isPadHorizonta()&&(o="large");var a=x()(t)?null:Object(Q.i)(t,o),l=x()(n)?null:Object(Q.i)(n,o),s=!1,c=!1;return a&&null!=a&&a.bgImg?s=!1:(s=!0,c=i.judgeImageFail(a,l,!1)),{mergeStyle:a,isLoad:s,isImageFail:c}})),C()(h()(i),"_initImageSize",(function(){var e=i.props,t=e.styleChange,n=e.groupStyle,r=Object(V.a)(Object(Q.x)(i.props.pageType).screenWidth);i.isPad()&&i.isPadHorizonta()&&(r="large");var o=x()(t)?null:Object(Q.i)(t,r),a=x()(n)?null:Object(Q.i)(n,r);null!=o&&o.bgImg&&L.a.getSize(null==o?void 0:o.bgImg,(function(e,t){var n=t/e;i.setState(C()({isLoad:!0},"imageSize_".concat(r),{height:Object(Q.x)(i.props.pageType).screenWidth*n}))}),(function(){i.setState({isLoad:!0,isImageFail:i.judgeImageFail(o,a,!0)})}))})),C()(h()(i),"setmergeStyle",(function(){var e=i.props,t=e.styleChange,n=e.groupStyle,r=Object(V.a)(i.state.width);i.isPad()&&i.isPadHorizonta()&&(r="large");var o=x()(t)?null:Object(Q.i)(t,r),a=x()(n)?null:Object(Q.i)(n,r);i.state.mergeStyle&&P()(i.state.mergeStyle,o)?i.setState({isLoad:!0}):null!=o&&o.bgImg?i.setState({isLoad:!1,mergeStyle:o},(function(){L.a.getSize(null==o?void 0:o.bgImg,(function(e,t){var n=t/e;i.setState(C()({isLoad:!0},"imageSize_".concat(r),{height:i.state.width*n}))}),(function(){i.setState({isLoad:!0,isImageFail:i.judgeImageFail(o,a,!0)})}))})):i.setState({isLoad:!0,isImageFail:i.judgeImageFail(o,a,!1),mergeStyle:o})})),C()(h()(i),"_getDefaultBgImg",(function(){return te.a.darkBool?i.isPad()?i.isPadHorizonta()?ee.a.immersive_header_default_black_pad_12:ee.a.immersive_header_default_black_pad_8:ee.a.immersive_header_default_black:i.isPad()?i.isPadHorizonta()?ee.a.immersive_header_default_pad_12:ee.a.immersive_header_default_pad_8:ee.a.immersive_header_default})),C()(h()(i),"_getDefaultBgImgHeight",(function(){var e=i.state.width;return i.isPad()?i.isPadHorizonta()?e/1536*360:e/960*360:e/540*306})),C()(h()(i),"judgeImageFail",(function(e,t,n){var r,o;return!i.props.bgImg&&(!(null!=e&&e.bgImg||null!=e&&null!==(r=e.imgStyle)&&void 0!==r&&r.backgroundColor||null!=t&&t.bgImg||null!=t&&null!==(o=t.imgStyle)&&void 0!==o&&o.backgroundColor)||n)})),C()(h()(i),"isPad",(function(){var e,t=null!==(e=i.state)&&void 0!==e&&e.width?i.state.width:Object(Q.x)(i.props.pageType).screenWidth;return"medium"===Object(V.a)(t)||"large"===Object(V.a)(t)&&t<G.a.safety_area})),C()(h()(i),"isPadHorizonta",(function(){var e,t,n=null!==(e=i.state)&&void 0!==e&&e.width?i.state.width:Object(Q.x)(i.props.pageType).screenWidth;return!((null!==(t=i.state)&&void 0!==t&&t.height?i.state.height:Object(Q.x)(i.props.pageType).screenHeight)>n)})),C()(h()(i),"getSize",(function(){return{width:i.state.width,height:i.state.height}})),C()(h()(i),"handleApkBack",(function(){if("web"!==j.a.OS)return R.a.VmallNative.invokeNative({service:"page",action:"finished"}),!0;window.history.go(-1)})),C()(h()(i),"_onLayout",(function(e){var t,n,r,o;(U.a.isApp()&&e.persist(),"web"===j.a.OS)?i.stickyLayoutY=null==e||null===(t=e.nativeEvent)||void 0===t||null===(n=t.layout)||void 0===n?void 0:n.y:i.setState({stickyLayoutY:null==e||null===(r=e.nativeEvent)||void 0===r||null===(o=r.layout)||void 0===o?void 0:o.y})})),C()(h()(i),"onchange",(function(){i.tabViewWrapper&&i.tabViewWrapper.measure((function(e,t){i.stickyLayoutY=t}))})),C()(h()(i),"scrollyChange",(function(e){!i.state.navTop&&e>=i.state.stickyLayoutY&&i.setState({navTop:!0}),(e<i.state.stickyLayoutY&&i.state.navTop||e===i.state.stickyLayoutY&&0===i.state.stickyLayoutY)&&i.setState({navTop:!1}),i.getColorStyle(e||0),i.setState({theTop:e})})),C()(h()(i),"handleScrollyChange",(function(e,t,n){n&&i.props.randomId?n===i.props.randomId&&t===i.state.pageType&&i.scrollyChange(e):t===i.state.pageType&&i.scrollyChange(e)})),C()(h()(i),"handleScroll",(function(e){!i.state.navTop&&e>=i.state.stickyLayoutY&&i.setState({navTop:!0}),(e<i.state.stickyLayoutY&&i.state.navTop||e===i.state.stickyLayoutY&&0===i.state.stickyLayoutY)&&i.setState({navTop:!1}),i.getColorStyle(e||0)})),C()(h()(i),"getOpacity",(function(){var e;if("web"===j.a.OS)i.stickyLayoutY=i.stickyLayoutY>56?i.stickyLayoutY:56,e=i.scrollY.interpolate({inputRange:[-1,0,i.stickyLayoutY,i.stickyLayoutY+1],outputRange:[0,0,1,1]});else if(U.a.isApp()){var t=i.props.stickyLayoutY,n=56+i._getStatusBarHeight();e=t?t.interpolate({inputRange:[-1,0,n,n+1],outputRange:[0,0,1,1]}):0}return e})),C()(h()(i),"initialPosition",(function(){return U.a.isAndroid()?void 0!==i.state.theTop&&i.state.theTop>0||i.state.layoutType===B.b.low?0:56+i._getStatusBarHeight():0})),C()(h()(i),"getColorStyle",(function(e){var t,n;"web"===j.a.OS?n=i.stickyLayoutY>56?i.stickyLayoutY:56:U.a.isApp()&&(n=56+i._getStatusBarHeight()),t=e>=.666*n?B.a.dark:B.a.light,i.setState({colorStyle:t})}));var l=i._initMergeStyle(),c=l.mergeStyle,d=l.isLoad,p=l.isImageFail,f=!1;if("web"===j.a.OS){var g=F.b.UA_LIST.some((function(e){var t;return null===(t=navigator)||void 0===t?void 0:t.userAgent.toLowerCase().includes(e)})),m=F.b.CID_LIST.includes(Y.a.get("cps_id"));f=g||m}return i.scrollY=new _.a.Value(0),i.state={layoutType:(null===(t=i.props.configInfo)||void 0===t?void 0:t.layoutType)||B.b.high,mergeStyle:c,width:Object(Q.x)(i.props.pageType).screenWidth,height:Object(Q.x)(i.props.pageType).screenHeight,headTitle:(null===(o=i.props.headerStyle)||void 0===o?void 0:o.headTitle)||"",navTop:!1,colorStyle:B.a.light,stickyLayoutY:0,imageSize_small:{},imageSize_medium:{},imageSize_large:{},showType:i.props.showType||B.c.all,pageType:i.props.pageTypeName||F.g.activity,isImageFail:p,isLoad:d,theTop:0,isH5:f},i}return p()(r,[{key:"UNSAFE_componentWillMount",value:function(){Object($.j)()||(this._panResponder=D.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=D.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}}))}},{key:"componentDidMount",value:(t=s()(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.showType!==B.c.all&&this.state.showType!==B.c.title){e.next=20;break}if(!U.a.isWap(this.state.width)){e.next=6;break}this.state.isH5||document.addEventListener("scroll",_.a.event([{target:{scrollingElement:{scrollTop:this.scrollY}}}],{useNativeDriver:!0,listener:function(e){t.handleScroll(e.target.scrollingElement.scrollTop)}}),!1),N.a.addEventListener("change",this.onchange),e.next=20;break;case 6:if(!U.a.isApp()){e.next=19;break}if(this.scrollyChange(),W.a.addListener("onOutScrollViewScroll",this.handleScrollyChange),W.a.addListener("switchScreenDir",this.listenNavTop),!U.a.isAndroid()){e.next=17;break}return e.t0=this,e.next=14,this.getScreenHeight();case 14:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2);case 17:e.next=20;break;case 19:Object($.j)()&&wx.setNavigationBarColor({frontColor:"#000000",backgroundColor:J.a.C32.color});case 20:this.state.showType!==B.c.all&&this.state.showType!==B.c.bg||this._initImageSize();case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e=this;this.state.showType!==B.c.all&&this.state.showType!==B.c.title||("web"===j.a.OS?(N.a.removeEventListener("change",this.onchange),document.removeEventListener("scroll",_.a.event([{target:{scrollingElement:{scrollTop:this.scrollY}}}],{useNativeDriver:!0,listener:function(t){e.handleScroll(t.target.scrollingElement.scrollTop)}}),!1)):(W.a.removeListener("onOutScrollViewScroll",this.handleScrollyChange),W.a.removeListener("switchScreenDir",this.listenNavTop)))}},{key:"render",value:function(){var e=this,t=this.state,n=t.mergeStyle,r=t.layoutType,i=t.showType,a=t.pageType,l=t.isImageFail,s=t.isLoad;return"large"===Object(V.a)(this.state.width)?null:k.a.createElement(K.b,{themeStyles:function(t){return function(e,t,n,r){var o={position:"web"===j.a.OS?"-webkit-sticky":"relative"};return M.a.create({container:{width:"100%",position:"web"===j.a.OS?"relative":"absolute",elevation:2,zIndex:4,top:0},bgContainer:{width:"100%",position:"relative",overflow:"visible"},title:{position:"absolute",width:"100%",height:56+t,elevation:2,zIndex:2,flex:1,top:0,paddingTop:t,backgroundColor:e.C32.color},titleWrap:{position:"relative",elevation:2,zIndex:2,flex:1},transparent:{backgroundColor:"transparent"},fixedStyle:z(z({},o),{},{position:"web"===j.a.OS?"sticky":"relative",width:"100%",top:0,zIndex:4}),background:{width:"100%",position:"absolute",top:0},high:{height:n===F.g.activity?148+t:160+t},low:{height:n===F.g.activity?44+t:56+t},containerHeight:{height:56+t},highImage:{height:r?222:204},lowImage:{height:r?180:160},special:{height:219},highDefaultImage:{height:160},defaultImageStatusBar:z({width:"100%",height:t},e.S32),none:{opacity:0}})}(t,e._getStatusBarHeight(),a,e.isPad())}},(function(t,a,c){var u;Object($.j)()||e.initWidth(c);var d=Object(V.a)(c);return e.isPad()&&e.isPadHorizonta()&&(d="large"),k.a.createElement(k.a.Fragment,null,i!==B.c.all&&i!==B.c.title||Object($.j)()||e.state.isH5?null:k.a.createElement(A.a,o()({},Object($.j)()?{}:"web"===j.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,{onLayout:e._onLayout,ref:function(t){e.tabViewWrapper=t},style:[U.a.isApp()?t.containerHeight:{},"web"===j.a.OS?t.fixedStyle:t.container]}),k.a.createElement(A.a,{style:t.titleWrap},k.a.createElement(_.a.View,{style:[t.title,{top:-e.initialPosition(),opacity:e.getOpacity()}]}),k.a.createElement(A.a,{style:[t.title,t.transparent]},k.a.createElement(Z.a,o()({cartNum:e.props.cartNum||0,messageNum:e.props.messageNum||0,headerStyle:e.props.headerStyle,pageType:e.props.pageType||1,tabLength:e.props.tabLength||0,pageId:null===(u=e.props)||void 0===u?void 0:u.pageId,colorStyle:e.state.colorStyle,fromPage:e.props.fromPage||"",mergeStyle7:n,opacity:r===B.b.high?e.getOpacity():1,isImageFail:l,isInimmersiveHeader:!0,listBarHeight:e._getListBarHeight(),initialPosition:e.initialPosition()},e.props.titleStyle?e.props.titleStyle:{},{pageCatCode:e.props.pageCatCode,pageCatName:e.props.pageCatName,pageName:e.props.pageTypeName,isShowLayout:e.props.isShowLayout,DarkStyle:e.props.DarkStyle}))))),i===B.c.all||i===B.c.bg?k.a.createElement(A.a,{style:[t.bgContainer,r===B.b.high?t.high:t.low]},l?r===B.b.high?k.a.createElement(k.a.Fragment,null,k.a.createElement(A.a,{style:t.defaultImageStatusBar}),k.a.createElement(X.a,{style:[t.background,t.highDefaultImage,{height:e._getDefaultBgImgHeight()}],localSource:Object($.j)()?null:e._getDefaultBgImg(),imgUri:Object($.j)()?e._getDefaultBgImg():null,resizeMode:"stretch",isFromPersonal:!0})):null:k.a.createElement(X.a,{style:[t.background,r===B.b.high?t.highImage:t.lowImage,s?{}:t.none,e.state["imageSize_".concat(d)],e.props.bgImg?t.special:{},Object($.j)()&&{top:-12}],resizeMode:"stretch",imgViewStyle:null==n?void 0:n.imgStyle,imgUri:null!=n&&n.bgImg?null==n?void 0:n.bgImg:e.props.bgImg,isFromPersonal:!0})):null)}))}}]),r}(I.Component);t.a=Object(q.a)(oe)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(354);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=n(522);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(523);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=n(524);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(17),a=n.n(i),l=n(26),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(0),P=n.n(O),T=n(54),x=n(87),I=n(37),k=n(49),E=n(43),j=n(270),R=n(953),L=n(152),_=n(446),D=n(149),N=n(708),W=n(40),A=n(48),B=n(102),M=n(185),F=n(3),H=n(57);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V,G=function(e){return H.a.create({wrap:{backgroundColor:e.C32.color},container:{height:36,paddingTop:4,paddingBottom:4,backgroundColor:e.C32.color},containers:{height:36,paddingTop:4,paddingBottom:4},containerWap:{paddingLeft:16,paddingRight:16},containerPad:{paddingLeft:24,paddingRight:24},itemStyle:U(U({},e.S13),{},{height:28,textAlign:"center",borderRadius:14,paddingLeft:8,paddingRight:8}),itemPhone:{marginRight:8},itemPad:{marginRight:12},textStyle:U(U(U({},e.T3),e.C12),{},{lineHeight:28}),textStyles:U(U({},e.T3),{},{lineHeight:28}),currentTab:U(U(U({},e.T10),e.C18),{},{borderBottomColor:e.C35.color,borderBottomWidth:2,lineHeight:40,borderRadius:1}),currentTabs:U(U(U({},e.T10),e.C18),{},{borderBottomWidth:2,lineHeight:40,borderRadius:1}),maskWhite:{width:12,height:36,position:"absolute",right:16},maskGray:{width:12,height:36,position:"absolute",right:16}})},Y=n(32),J=n(45),K=n.n(J),q=n(11),Q=n(33),$=n(24);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var Z=0;"ios"===I.a.OS&&Object(Q.e)().then((function(e){Z=e})).catch((function(e){}));var ee,te,ne=Object(Y.c)(V=function(e){m()(n,e);var t=X(n);function n(e){var r;return u()(this,n),r=t.call(this,e),C()(h()(r),"flatListWidth",void 0),C()(h()(r),"_panResponder",void 0),C()(h()(r),"_panResponderApk",void 0),C()(h()(r),"textColor",void 0),C()(h()(r),"bgGridImg",void 0),C()(h()(r),"backgroundColor",void 0),C()(h()(r),"isBgGridImg",void 0),C()(h()(r),"isChangeStyle",void 0),C()(h()(r),"size",Object(W.a)(r.props.width)),C()(h()(r),"lister",null),C()(h()(r),"flatList",null),C()(h()(r),"chatView",null),C()(h()(r),"flatRef",(function(e){r.flatList=e,"function"==typeof r.props.reciveRef&&r.props.reciveRef(e)})),C()(h()(r),"_clickTab",(function(e,t){(0,r.props.onChange)(e,t),r.setState({currentTabIndex:t},(function(){var t=e.relatedPage,n="";A.a.isWap(r.props.width)?(2==e.relatedPageType?n=t:1==e.relatedPageType&&(n=q.a.webDomain+"portal/smarthome/index.html?pageId="+t),window.open(n,"_self")):(2==e.relatedPageType?n=e.relatedPage:1==e.relatedPageType&&(n="vmall://com.vmall.client/home/smart?isShowLayout=true&pageName="+e.tabName+"&pageId="+e.relatedPage),Object(F.A)(n))}))})),C()(h()(r),"_onScroll",(function(e){var t;A.a.isApp()&&e.persist(),r.setState({isShowMask:Math.round(r.flatListWidth-(null===(t=e.nativeEvent.contentOffset)||void 0===t?void 0:t.x))!==Math.round(r.props.width-("small"===r.size?A.a.isApp()?16:32:A.a.isApp()?24:48))?"1":"2"})})),C()(h()(r),"_onContentSizeChange",(function(e){r.flatListWidth!=e&&(r.flatListWidth=e,r.setState({flatListWidth:e,isShowMask:e>r.props.width-("small"===r.size?16:24)?"1":"2"}))})),C()(h()(r),"laout_list",[]),C()(h()(r),"scrollW",0),C()(h()(r),"chatRef",(function(e){r.chatView=e,"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),C()(h()(r),"_renderItem",(function(e){var t=e.item,n=e.index;return P.a.createElement(B.b,{themeStyles:G},(function(e,o){return P.a.createElement(R.a,{onPressIn:r._onPressIn.bind(h()(r),n),onPressOut:r._onPressOut.bind(h()(r),n),onPress:function(){return r._clickTab(t,n)},onLayout:function(e){var t;return r.setLaout(null===(t=e.nativeEvent)||void 0===t?void 0:t.layout,n)}},P.a.createElement(E.a,{style:[e.itemStyle,"small"===r.size?e.itemPhone:e.itemPad,t.pressed?{backgroundColor:"rgba(0,0,0,0.1)"}:{},r.isChangeStyle?{backgroundColor:"rgba(255,255,255,0.2)"}:{},n===r.state.tabs.length-1?{marginRight:A.a.isApp()?"small"===r.size?16:24:0}:{}]},P.a.createElement(L.a,{ref:r.chatRef,style:[e.textStyle,{color:r.isChangeStyle&&r.textColor?r.textColor:o.C11.color}]},t.tabName)))}))})),r.state={currentTabIndex:0,isShowMask:"0",switchType:r.props.switchType,tabs:[]},r}return p()(n,[{key:"componentDidMount",value:function(){var e=this;this.lister=k.a.addListener("slideItem",(function(t){e.slideItemCallBack(t.index)}));var t=this.props.tabs;(t=t.slice(1)).forEach((function(e){e.pressed=!1})),this.setState({tabs:t})}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=_.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=_.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}})}},{key:"componentWillUnmount",value:function(){this.lister.remove()}},{key:"slideItemCallBack",value:function(e){var t=this;this.setState({currentTabIndex:e},(function(){var n;null===(n=t.flatList)||void 0===n||n.scrollToIndex({index:e,animated:!0})}))}},{key:"scrollTo",value:function(e){var t=this.laout_list[e],n=this.laout_list[this.laout_list.length-1];this.scrollW=n.x+n.width;var r=this.props.width/2,o=(null==t?void 0:t.x)-r+(null==t?void 0:t.width)/2;o<0&&(o=0),o<this.scrollW-this.props.width&&this.flatList.scrollTo({x:o,animated:!0}),o>=this.scrollW-this.props.width&&this.flatList.scrollToEnd({animated:!0})}},{key:"setLaout",value:function(e,t){this.laout_list[t]=e}},{key:"_onPressIn",value:function(e){this.state.tabs.forEach((function(t,n){e===n&&(t.pressed=!0)})),this.setState({tabs:this.state.tabs})}},{key:"_onPressOut",value:function(e){this.state.tabs.forEach((function(t,n){e===n&&(t.pressed=!1)})),this.setState({tabs:this.state.tabs})}},{key:"render",value:function(){var e=this,t=Object(W.a)(Object(F.x)(this.props.pageType).screenWidth),n=this.props.pageName,r={height:92,top:-56},i=0,a=56;"homepage"===n&&(a+=i=A.a.isIOS()?Z:D.a.currentHeight,"web"!==I.a.OS&&(r.height=a+36,r.top=-(56+i)));var l=this.props.titleStyle.styleChange;if(l){this.textColor=l.fontColor,this.backgroundColor=l.bgColor;this.props.width;var s=Object(W.a)(Object(F.x)("homepage").screenWidth);"small"===s&&l.bgGridImg_4?this.bgGridImg=q.a.cmsCdnPath+l.bgGridImg_4:"medium"===s&&l.bgGridImg_8?this.bgGridImg=q.a.cmsCdnPath+l.bgGridImg_8:l.bgGridImg_12&&(this.bgGridImg=q.a.cmsCdnPath+l.bgGridImg_12),l.bgFill&&"2"===l.bgFill?this.isBgGridImg=!0:this.isBgGridImg=!1,this.isChangeStyle=!0}else this.isChangeStyle=!1;return P.a.createElement(B.b,{themeStyles:G},(function(n,i,a){return"web"===I.a.OS&&(a=e.props.width),P.a.createElement(E.a,o()({},"web"===I.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,{style:[!e.isChangeStyle||e.isBgGridImg?n.wrap:{backgroundColor:e.backgroundColor},{position:"relative",overflow:"hidden"}]}),P.a.createElement($.a,{imgUri:e.isBgGridImg?null==e?void 0:e.bgGridImg:"",imgStyle:{width:"100%",height:r.height,position:"absolute",left:0,top:r.top},showDefaultImage:!1,resizeMode:"stretch",isHighQuality:!0}),P.a.createElement(N.a,{ref:e.flatRef,onContentSizeChange:e._onContentSizeChange,style:[e.isChangeStyle?n.containers:n.container,{width:"small"===t?a-16:a-24,flex:1,paddingLeft:"small"===t?16:24,position:"relative"}],horizontal:!0,showsHorizontalScrollIndicator:!1,data:e.state.tabs,renderItem:e._renderItem,extraData:e.state,keyExtractor:function(e){return e.tabId.toString()},onScroll:e._onScroll}),"1"!==e.state.isShowMask||e.isBgGridImg?P.a.createElement(E.a,{key:3}):P.a.createElement(E.a,{style:[n.maskGray,{right:"small"===t?16:24}]},P.a.createElement(K.a,{start:{x:0,y:0},end:{x:1,y:0},colors:e.backgroundColor?[Object(F.f)(e.backgroundColor.toUpperCase(),0),Object(F.f)(e.backgroundColor.toUpperCase(),1)]:[Object(F.f)(i.C32.color,0),Object(F.f)(i.C32.color,1)],style:{height:36}},P.a.createElement(L.a,null," "))))}))}}]),n}(O.Component))||V,re=Object(M.a)(ne),oe=n(21),ie=n(10),ae={exposeItem:function(e){var t=this.props,n=t.cardId,r=t.pageId,o=t.pageCatCode,i=t.pageCatName,a=t.resSiteCode,l=t.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+"10000101",actionName:"子页签组件曝光",eventType:ie.e.EVENT_TYPE_EXPOSURE,content:{comId:null==n?void 0:n.toString()},pageId:r,pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l}}},clickItem:function(e,t,n){var r,o,i=Object(F.F)()?this:this.props,a=i.pageCatCode,l=i.pageCatName,s=i.resSiteCode,c=i.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"子页签-点击-"+(null==e?void 0:e.tabName),eventType:ie.e.EVENT_TYPE_CLICK,content:{clickType:"26",comId:null==n?void 0:n.toString(),index:null===(r=t-1)||void 0===r?void 0:r.toString(),tabName:null==e?void 0:e.tabName,tabIndex:null===(o=t-1)||void 0===o?void 0:o.toString(),goToPageId:1==e.relatedPageType?e.relatedPage:"",goToURL:2==e.relatedPageType?e.relatedPage:""},pageId:this.props.pageId,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}},slideItem:function(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,l=1===o?"子页签-点击-":"子页签-滑动-",s=e[t-1],c={actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:l+(null==s?void 0:s.tabName),eventType:1===o?ie.e.EVENT_TYPE_CLICK:i?ie.e.EVENT_TYPE_LEFT_SLIDE:ie.e.EVENT_TYPE_RIGHT_SLIDE,content:{comId:null==a?void 0:a.toString(),index:null===(n=t-1)||void 0===n?void 0:n.toString(),tabName:null==s?void 0:s.tabName,tabIndex:null===(r=t-1)||void 0===r?void 0:r.toString(),goToPageId:1==s.relatedPageType?s.relatedPage:"",goToURL:2==s.relatedPageType?s.relatedPage:""},pageId:this.props.pageId};return{data:c}}},le=n(25),se=n(22),ce=n(155),ue=n(63),de=n(23);function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var fe=T.a.get("window"),he=0,ge=!0,me=Object(Y.c)((te=function(e){m()(r,e);var t,n=pe(r);function r(e){var t;return u()(this,r),t=n.call(this,e),C()(h()(t),"cartTimer",null),C()(h()(t),"theTop",0),C()(h()(t),"currentValue",1),C()(h()(t),"switchScreen",(function(){t.theTop>=t.state.stickyLayoutY?t.setState({navTop:!0}):t.setState({navTop:!1})})),C()(h()(t),"tabContent",null),C()(h()(t),"tabViewWrapper",null),C()(h()(t),"tabBar",null),C()(h()(t),"itemlist",[]),C()(h()(t),"receiveRef",(function(e){e&&t.itemlist.push(e)})),C()(h()(t),"_onLayout",(function(e){var n,r;A.a.isApp()&&e.persist(),t.setState({stickyLayoutY:null==e||null===(n=e.nativeEvent)||void 0===n||null===(r=n.layout)||void 0===r?void 0:r.y})})),C()(h()(t),"scrollyChange",(function(e){!t.state.navTop&&e>=t.state.stickyLayoutY&&t.setState({navTop:!0}),(e<t.state.stickyLayoutY&&t.state.navTop||e==t.state.stickyLayoutY&&0==t.state.stickyLayoutY)&&t.setState({navTop:!1}),t.theTop=e})),t.state={scrollY:new x.a.Value(0),headHeight:-1,stickyLayoutY:0,cartNum:0,messageNum:0,navTop:!1,w:{width:"100%",zIndex:1},value:1,hasSubtabSet:!1,fixedStyle:{position:"fixed",top:0,width:"100%"},topTitle:!1},t}return p()(r,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.tabConfig,r=(n&&JSON.parse(n)||{}).topFixed;("true"==(void 0===r?"false":r)&&("web"===I.a.OS?(window.addEventListener("scroll",this.handleScroll.bind(this)),T.a.addEventListener("change",this.onchange.bind(this)),k.a.addListener("tabViewWeb",this.compareFixed.bind(this))):(this.scrollyChange(),k.a.addListener("onOutScrollViewScroll",this.scrollyChange),k.a.addListener("switchScreenDir",this.switchScreen)),k.a.addListener("TabsNavTop",this.compareFixedApp.bind(this))),this.cartTimer&&clearTimeout(this.cartTimer),"web"===I.a.OS)&&(window.addEventListener("scroll",this.handleScroll.bind(this)),null!==(e=this.props)&&void 0!==e&&e.cartNum&&0!==this.props.cartNum||(this.cartTimer=setTimeout((function(){t._getTotalNum(),t._getMessageNum()}),1e3)))}},{key:"componentWillUnmount",value:function(){this.cartTimer&&clearTimeout(this.cartTimer),"web"===I.a.OS?(window.removeEventListener("scroll",this.handleScroll.bind(this)),window.removeEventListener("scroll",this.handleTopTitle.bind(this)),k.a.removeListener("tabViewWeb",this.compareFixed.bind(this))):(this.props.stickyScrollY.removeAllListeners(),k.a.removeListener("onOutScrollViewScroll",this.scrollyChange),k.a.removeListener("TabsNavTop",this.compareFixedApp.bind(this)),k.a.removeListener("switchScreenDir",this.switchScreen))}},{key:"_getMessageNum",value:(t=s()(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.k)();case 2:e.sent&&Object(de.i)("large"===Object(W.a)(fe.width)?"1":"2").then((function(e){e&&(e.activityMsgNum||e.interactMsgnum||e.logisticsMsgNum||e.ntfMsgNum)&&t.setState({messageNum:parseInt(e.activityMsgNum+e.interactMsgnum+e.logisticsMsgNum+e.ntfMsgNum)||0})})).catch((function(e){}));case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"_getTotalNum",value:function(){var e=this;Object(de.x)().then((function(t){e.setState({cartNum:(t.data&&t.data>99?99:t.data)||0})}))}},{key:"compareFixed",value:function(e){A.a.isWap(this.props.width)&&this.setState({hasSubtabSet:e.navTop})}},{key:"compareFixedApp",value:function(){this.setState({hasSubtabSet:ue.a.tabsNavTop})}},{key:"handleChange",value:function(e,t,n){he=1,this.setState({value:t}),this.tabContent&&this.tabContent.scrollTo&&this.tabContent.scrollTo(t-1),"web"===I.a.OS&&this.state.navTop&&(document.documentElement.scrollTop=this.state.stickyLayoutY+1),this.props.clickItem&&this.props.clickItem(e,t,this.props.cardId),Object(se.b)("",!0),k.a.emit("tabSwitch",t-1)}},{key:"_dataFromSun",value:function(e){var t;(this.setState({value:e}),this.tabBar&&this.tabBar.scrollTo&&this.tabBar.scrollTo(e-1),"web"===I.a.OS)&&(ge=!(this.state.value-this.currentValue<0),this.currentValue=this.state.value,null===(t=this.props)||void 0===t||t.slideItem(this.props.tabs,e,he,ge,this.props.cardId));k.a.emit("tabSwitch",e-1)}},{key:"slideCallback",value:function(e){ge=0==e,"android"!==I.a.OS&&"ios"!==I.a.OS||this.props.slideItem(this.props.tabs,this.state.value,0,ge,this.props.cardId)}},{key:"onchange",value:function(){var e=this;this.tabViewWrapper&&this.tabViewWrapper.measure((function(t,n){e.setState({stickyLayoutY:n})}))}},{key:"handleScroll",value:function(){if(he=1,"web"===I.a.OS){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;!this.state.navTop&&e>=this.state.stickyLayoutY&&this.setState({navTop:!0}),(e<this.state.stickyLayoutY&&this.state.navTop||e==this.state.stickyLayoutY&&0==this.state.stickyLayoutY)&&this.setState({navTop:!1})}}},{key:"handleTopTitle",value:function(){if("web"===I.a.OS){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;!this.state.topTitle&&e>=this.state.stickyLayoutY&&this.setState({topTitle:!0}),(e<this.state.stickyLayoutY&&this.state.topTitle||e==this.state.stickyLayoutY&&0==this.state.stickyLayoutY)&&this.setState({topTitle:!1})}}},{key:"_renderTitle",value:function(){var e,t,n=this.props,r=n.headStyle,i=n.titleStyle,a=n.pageType,l=n.tabLength,s=n.pageCatCode,c=n.pageCatName,u=null!==(e=this.props)&&void 0!==e&&e.cartNum&&0!==this.props.cartNum?this.props.cartNum:this.state.cartNum;return r&&r.headStyle?P.a.createElement(E.a,{style:[{position:"relative",elevation:2,zIndex:2,flex:1},this.state.navTop?this.state.fixedStyle:{position:"relative",top:"auto"}]},P.a.createElement(ce.a,o()({configInfo:this.props.configInfo,cartNum:u,fromPage:this.props.fromPage,messageNum:this.state.messageNum,headerStyle:r,pageType:a,tabLength:l,pageId:null===(t=this.props)||void 0===t?void 0:t.pageId},i,{pageCatCode:s,pageCatName:c}))):P.a.createElement(P.a.Fragment,null)}},{key:"_renderTopNav",value:function(){var e=this,t=this.props,n=t.tabs,r=t.tabConfig,o=t.pageName,i=r&&JSON.parse(r)||{},a=i.topFixed,l=void 0===a?"false":a,s=i.subtabSwitch,c=void 0===s?"click":s;return(null==n?void 0:n.length)>1?P.a.createElement(x.a.View,{style:[this.state.w,{position:"relative",top:"auto"}]},P.a.createElement(re,{ref:function(t){e.tabBar=t},stickyScrollY:this.state.scrollY,stickyHeadY:this.state.headHeight,isFixed:l,pageName:o,navTop:this.state.navTop,switchType:c,width:this.props.width,height:this.props.height,titleStyle:this.props.titleStyle,receiveRef:this.receiveRef,onChange:function(t,n){e.handleChange(t,n+1,e.props.width)},tabs:n})):P.a.createElement(P.a.Fragment,null)}},{key:"render",value:function(){var e,t,n=this,r=this.props.showOption;return A.a.isAndroid()||A.a.isIOS()?P.a.createElement(j.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1},P.a.createElement(E.a,{onLayout:this._onLayout,ref:function(e){n.tabViewWrapper=e}},this._renderTopNav())):P.a.createElement(E.a,{onLayout:this._onLayout,ref:function(e){n.tabViewWrapper=e},style:[A.a.isWap(this.props.width)?{position:"relative",elevation:2,zIndex:3}:{},{backgroundColor:(null===(e=this.props.titleStyle)||void 0===e||null===(t=e.styleChange)||void 0===t?void 0:t.bgColor)||"#f1f3f5"},"category"==this.props.fromPage?{}:{flex:1}]},Object(F.F)()?null:"title"!==r&&r?P.a.createElement(P.a.Fragment,null):this._renderTitle(),"topNav"!==r&&r?P.a.createElement(P.a.Fragment,null):this._renderTopNav())}}]),r}(O.Component),C()(te,"defaultProps",{pageType:1}),ee=te))||ee;t.a=Object(M.a)(Object(oe.a)(ae)(Object(le.a)(me)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return ui})),n.d(t,"b",(function(){return di}));var r=n(37),o=n(121),i=n(162),a=n(124),l=n(235),s=n(190),c=n(148),u=n(236),d=n(237),p=n(153),f=n(238),h=n(125),g=n(299),m=n(300),y=n(15),v=n.n(y),b=n(5),w=n.n(b),S=n(6),C=n.n(S),O=n(8),P=n.n(O),T=n(7),x=n.n(T),I=n(4),k=n.n(I),E=n(1),j=n.n(E),R=n(0),L=n.n(R),_=n(185),D=n(2),N=n.n(D),W=n(87),A=n(43),B=n(49),M=n(250),F=n(267),H=n(102),z=n(660),U=n(1731),V=n(47),G=n(126),Y=n(951),J=n(3),K=n(57),q=n(53);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X,Z,ee=function(e){return K.a.create($($({},e),{},{layout:{zIndex:200,backgroundColor:e.S31.backgroundColor},layoutBottom:{zIndex:200,backgroundColor:e.S31.backgroundColor,borderColor:"rgba(0, 0, 0, 0.05)"},pcContainer:{display:"flex",position:"relative",height:e.navigationHeight,alignItems:"center",flexDirection:"row"},imgBox:{width:240,height:74},menuBox:{flex:1,marginLeft:8},iconBox:{},goodsBox:{position:"absolute",top:e.navigationHeight-1,left:0,width:"100%",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:32,borderBottomLeftRadius:32},subCategory:{marginTop:27,position:"absolute",top:e.navigationHeight-1,left:0},menuContainer:{flexDirection:"row",alignItems:"center"},menuSubContainer:{flexDirection:"row",alignItems:"center"},menuAllCategoryTitle:{marginLeft:4},menuTitle:{display:"flex",position:"relative",alignItems:"center",flexDirection:"column",fontSize:16,lineHeight:24,marginLeft:40,color:"#333333",fontFamily:"HYQiHei-EES",letterSpacing:0,fontWeight:400},menuSpacing:{marginLeft:0},menuTitleChoose:{color:"#CF0A2C",fontWeight:500},iconboxContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:3.5},iconboxItem:$($({marginLeft:16},e.C22),{},{alignItems:"center",justifyContent:"center"}),iconboxChoose:{marginLeft:16,color:"#000000",alignItems:"center",justifyContent:"center"},searchBox:{width:312,height:36,backgroundColor:"rgba(0,0,0,0.05)",borderRadius:18,flexGrow:1,flexDirection:"row",alignItems:"center"},inputBox:{fontFamily:q.a.fontFamilyBase,fontSize:16,color:"rgba(0,0,0,0.9)",textAlign:"left",lineHeight:22,fontWeight:400,paddingLeft:8,width:234},inputLeftIcon:{paddingLeft:12},inputRightIcon:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},inputRight:{height:36,width:36},goodslistContainer:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:56,paddingBottom:56},goodslistContainerBg:{backgroundColor:"#fefefe"},goodslistGoods:{position:"relative",flex:1,height:273},goodslistNav:{display:"flex",justifyContent:"center",width:180,height:228,paddingBottom:60},goodslistGoodsitem:{display:"flex",justifyContent:"center",alignItems:"center",color:"#000"},goodslistGoodsitemActive:$($($({},e.T11),e.C11),{},{marginTop:10,marginBottom:10,fontFamily:q.a.fontFamilyBase}),goodslistGoodsitemNormal:$($($({},e.T11),e.C14),{},{marginTop:10,marginBottom:10,fontFamily:q.a.fontFamilyBase}),goodslistGoodsRow:{justifyContent:"center"},goodslistGoodsTitle:{textAlign:"center",marginTop:52,fontSize:14,color:"#000"},goodslistGoodsChoose:$($({},e.C73),{},{textAlign:"center",marginTop:52,fontSize:14}),goodslistGoodsBox:{position:"relative",width:190,height:190,margin:"auto",backgroundColor:"#FFFFFF",overflow:"hidden"},goodslistGoodsImg:{position:"absolute",top:15,left:15,width:160,height:160},layoutPosition:{position:"absolute",top:0,justifyContent:"center"}}))},te=n(20),ne=n(38),re=n(32);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ie=ne.a.o2oWebDomain,ae="".concat(ie,"cart"),le=Object(re.b)("store")(X=Object(re.c)((Z=function(e){P()(n,e);var t=oe(n);function n(e){var r;return w()(this,n),r=t.call(this,e),j()(N()(r),"textInput",void 0),r.state={showCancel:!1},r.textInput=L.a.createRef(),r}return C()(n,[{key:"componentDidMount",value:function(){window.localStorage.setItem("o2osearchVal","")}},{key:"componentWillUnmount",value:function(){}},{key:"_onPressItemCart",value:function(){Object(J.A)(ae)}},{key:"searchValue",value:function(e){window.localStorage.setItem("o2osearchVal",e)}},{key:"turnToPage",value:function(){var e="".concat(ie,"psearch");Object(J.A)(e,!0)}},{key:"render",value:function(){var e=this,t=this.props.configInfo||{},n=t.showCart,r=t.showSearch;return L.a.createElement(H.b,{themeStyles:ee},(function(t){var o=e.props.list,i=[],a=function(o){i.push("true"==r&&L.a.createElement(A.a,{nativeID:"textInput",style:t.searchBox},L.a.createElement(z.a,null,(function(n){return L.a.createElement(A.a,{style:t.inputLeftIcon},L.a.createElement(G.a,{onPress:e.turnToPage},L.a.createElement(te.a,{iconName:"search",width:"16",height:"16",normalCol:n?"rgba(0,0,0,0.9)":"rgba(0,0,0,0.6)"})))})),L.a.createElement(Y.a,{style:t.inputBox,placeholderTextColor:"rgba(0,0,0,0.6)",placeholder:"搜索...",onFocus:function(){e.setState({showCancel:!0})},onBlur:function(){e.setState({showCancel:!1})},onChangeText:e.searchValue.bind(e),onSubmitEditing:e.turnToPage,ref:function(t){e.textInput=t}}),L.a.createElement(z.a,null,(function(n){return L.a.createElement(A.a,{style:t.inputRight},!0===e.state.showCancel||n?L.a.createElement(G.a,{style:t.inputRightIcon,onPress:function(){e.textInput.clear(),window.localStorage.setItem("o2osearchVal","")}},L.a.createElement(te.a,{iconName:"cancel1",width:"16",height:"16",normalCol:n?"rgba(0,0,0,0.9)":"rgba(0,0,0,0.4)"})):null)}))),"true"==n&&L.a.createElement(z.a,null,(function(n){return L.a.createElement(A.a,{style:{position:"relative"}},L.a.createElement(A.a,{key:o,style:[n?t.iconboxChoose:t.iconboxItem]},L.a.createElement(G.a,{onPress:function(){return e._onPressItemCart()}},L.a.createElement(te.a,{iconName:"cart",width:"24",height:"24",normalCol:n?"rgba(0,0,0)":"rgba(0,0,0,0.6)"}))))})))};for(var l in o)a(l);return L.a.createElement(A.a,{style:t.iconboxContainer},i)}))}},{key:"onPress",value:function(e){if(e.isSearch)this.props.toShowSearch(!0);else{var t=null==e?void 0:e.url;t&&Object(J.A)(t)}}}]),n}(L.a.Component),j()(Z,"defaultProps",{list:[{icon:"iconName",isSearch:!0}],toShowSearch:function(){}}),X=Z))||X)||X,se=n(152),ce=n(21),ue=n(10),de={onPress:function(e,t){var n,r=this.props,o=r.cardId,i=r.pageCatCode,a=r.pageCatName,l=r.resSiteCode,s=r.resSiteName;return{data:{actionCode:"910000007",actionName:"O2O导航栏组件点击主分类",eventType:ue.e.EVENT_TYPE_CLICK,content:{comId:(null==o?void 0:o.toString())||"",index:(null==t?void 0:t.toString())||"",gotoPageId:e&&null!=e&&e.gotoPageId?null==e?void 0:e.gotoPageId.toString():"",gotoURL:(null==e?void 0:e.actionUrlWeb)||"",tabName:(null==e?void 0:e.categoryName)||"",tabindex:(null==t?void 0:t.toString())||"",dataCode:(null==e||null===(n=e.dataSourceCode)||void 0===n?void 0:n.toString())||"",dateType:ue.c.TEXT_LINK,clickType:ue.b.CLICK_NAVIGATION},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}}}},pe=n(71),fe=n(22);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ge=function(e){P()(n,e);var t=he(n);function n(e){var r;return w()(this,n),(r=t.call(this,e)).state={hoverId:""},r}return C()(n,[{key:"render",value:function(){var e=this;return L.a.createElement(A.a,{style:{width:504,overflow:"hidden",marginLeft:32}},L.a.createElement(H.b,{themeStyles:ee},(function(t){var n=e.props,r=n.categoryList,o=n.chooseId,i=n.isShowItem,a=n.hasAllCategory,l=[],s=(null==r?void 0:r.length)||0;if(r){s>5&&r.splice(5);var c=function(n){if(r[n]){if(!i(r[n],n))return"continue";var s=t.menuSpacing;l.push(L.a.createElement(G.a,{key:n,activeOpacity:1,onPress:function(){return e.onClick(r[n],n)}},L.a.createElement(z.a,{onHoverIn:function(){return e.onHoverChange(n)},onHoverOut:function(){return e.onHoverChange()}},L.a.createElement(A.a,{style:t.menuSubContainer},"0"==n&&a?L.a.createElement(te.a,{iconName:"allCategory",width:"20",height:"20",normalCol:o===r[n].categoryId||e.state.hoverId===n?"#CF0A2C":"#333333"}):null,L.a.createElement(se.a,{style:[t.menuTitle,a&&0==pe.a.showSubCategory&&"1"==n&&s,(o===r[n].categoryId||e.state.hoverId===n)&&t.menuTitleChoose,"0"==n&&t.menuAllCategoryTitle]},r[n].categoryName)))))}};for(var u in r)c(u);return L.a.createElement(A.a,{style:t.menuContainer},l)}return null})))}},{key:"onClick",value:function(e,t){(0,this.props.clickItem)(e,t),this.onPress(e,t),Object(fe.b)("",!0)}},{key:"onHoverChange",value:function(e){this.setState({hoverId:e||""})}},{key:"onPress",value:function(e,t){}}]),n}(L.a.Component);j()(ge,"defaultProps",{categoryList:[],chooseId:"",isShowItem:function(){return!0},clickItem:function(){}});var me=Object(ce.a)(de)(ge),ye=n(1733),ve=n(1732),be=n(52),we=n.n(be);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Ce=function(e){P()(n,e);var t=Se(n);function n(e){var r;return w()(this,n),(r=t.call(this,e)).state={imgScale:new W.a.Value(1)},r}return C()(n,[{key:"imgHover",value:function(){this.state.imgScale.setValue(1),W.a.spring(this.state.imgScale,{toValue:1.2,bounciness:6,speed:5,useNativeDriver:!0}).start()}},{key:"componentDidMount",value:function(){this.dataHandle()}},{key:"imgHoverOut",value:function(){this.state.imgScale.setValue(1.2),W.a.spring(this.state.imgScale,{toValue:1,bounciness:1,speed:5,useNativeDriver:!0}).start()}},{key:"dataHandle",value:function(){var e=this.props,t=e.info,n=e.propsNew;if("tag"===t.dataType){var r=t.prdName,o=n.categoryName,i=JSON.parse(t.tagCode),a=[],l=[];we()(i,(function(e,t){a.push(e.cnName),l.push(e.code)}));encodeURIComponent(encodeURIComponent(o)),encodeURIComponent(encodeURIComponent(r))}}},{key:"render",value:function(){var e=this;return L.a.createElement(H.b,{themeStyles:ee},(function(t){var n=e.props,r=n.info,o=n.index,i=n.propsNew;return L.a.createElement(A.a,null,L.a.createElement(z.a,{key:o,onHoverIn:function(){return e.imgHover()},onHoverOut:function(){return e.imgHoverOut()}},(function(n){return L.a.createElement(A.a,{style:t.goodslistGoodsBox},L.a.createElement(W.a.View,{style:[t.goodslistGoodsImg,{transform:[{scale:e.state.imgScale}]}]},L.a.createElement(V.a,{propsNew:i,headIndex:o,imgUri:r.uri,info:r,imgProportion:1,headeClick:!0,actionUrlWeb:r.actionUrlWeb})))})),L.a.createElement(G.a,{onPress:function(){Object(J.A)(r.actionUrlWeb)}},L.a.createElement(z.a,{key:o},(function(e){return L.a.createElement(se.a,{ellipsizeMode:"tail",numberOfLines:1,style:[e?t.goodslistGoodsChoose:t.goodslistGoodsTitle]},r.prdName)}))))}))}}]),n}(L.a.Component);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Pe={onPress:function(e,t){var n=null,r=e.dataType,o=this.props,i=o.cardId,a=o.pageCatCode,l=o.pageCatName,s=o.resSiteCode,c=o.resSiteName;if("rich"===r||"link"===r){var u,d=this.state.navParams;n={actionCode:"910000008",actionName:"O2O导航栏组件点击子分类",eventType:ue.e.EVENT_TYPE_CLICK,content:{comId:(null==i?void 0:i.toString())||"",gotoPageId:(null==e?void 0:e.gotoPageId.toString())||"",gotoURL:"rich"===r?(null==e?void 0:e.actionUrlWeb)||"":(null==e?void 0:e.linkUrlWeb)||"",tabName:(null==d?void 0:d.title)||"",tabindex:null==d||null===(u=d.pIndex)||void 0===u?void 0:u.toString(),index:(null==t?void 0:t.toString())||"",dataCode:(null==e?void 0:e.id.toString())||"",dateType:"rich"===r?ue.c.SKU:ue.c.TEXT_LINK,clickType:ue.b.CLICK_NAVIGATION}}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({data:n},{pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c})}};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ke=null,Ee=function(e){P()(n,e);var t=Ie(n);function n(e){var r;return w()(this,n),(r=t.call(this,e)).state={goodsList:[],navList:[],activeId:"",opacity:new W.a.Value(1),boxOpacity:new W.a.Value(0),marginTop:new W.a.Value(50),display:"none"},r}return C()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state,o=r.goodsList,i=r.navList,a=this.props.list;o.length||i.length?a.length?e.list!==this.props.list&&this.toAction(!0).then((function(){a.length&&n.setData(a).then((function(){n.toAction()}))})):Promise.all([this.toAction(!0,!0),this.boxAction(!0)]).then((function(){n.setData(a)})):a.length?this.setData(a).then((function(){n.boxAction(),n.toAction(!1,!0)})):this.setData(a)}},{key:"componentWillUnmount",value:function(){ke&&clearTimeout(ke)}},{key:"setData",value:function(e){var t=this;return new Promise((function(n){t.setState({goodsList:e.filter((function(e){return"prod"===e.dataType||"tag"===e.dataType})).slice(0,5),navList:e.filter((function(e){return"link"===e.dataType})).map((function(e,t){return xe(xe({},e),{},{id:t})})).slice(0,5)},(function(){n(0)}))}))}},{key:"boxAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t?0:1;return new Promise((function(r){W.a.timing(e.state.boxOpacity,{toValue:n,duration:600,useNativeDriver:!0}).start((function(){r(0),t&&e.props.toHideGoods()}))}))}},{key:"toAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?0:1,o=t?50:0;return new Promise((function(t){W.a.timing(e.state.marginTop,{toValue:o,duration:300,useNativeDriver:!0}).start(),n?t(0):W.a.timing(e.state.opacity,{toValue:r,duration:300,useNativeDriver:!0}).start((function(){t(0)}))}))}},{key:"render",value:function(){var e=this;return L.a.createElement(H.b,{themeStyles:ee},(function(t){var n=e.state,r=n.goodsList,o=n.navList;return L.a.createElement(W.a.View,{style:[t.goodslistContainerBg,{opacity:e.state.boxOpacity}]},L.a.createElement(U.a,{style:t.goodslistContainer},L.a.createElement(W.a.View,{style:[t.goodslistGoods,{top:e.state.marginTop,opacity:e.state.opacity}]},L.a.createElement(ye.a,{size:5,style:t.goodslistGoodsRow,gutter:44},r.map((function(t,n){return L.a.createElement(ve.a,{key:n,sm:1},L.a.createElement(Ce,{propsNew:e.props,info:r[n],index:n}))})))),L.a.createElement(W.a.View,{style:[t.goodslistNav,{top:e.state.marginTop,opacity:e.state.opacity}]},o.map((function(n,r){return L.a.createElement(z.a,{key:r},(function(o){return L.a.createElement(G.a,{style:[t.goodslistGoodsitem],onPress:function(){return e.onPress(n,r)}},L.a.createElement(se.a,{style:[o||e.state.activeId===n.id?t.goodslistGoodsitemActive:t.goodslistGoodsitemNormal]},n.linkName))}))})))))}))}},{key:"onPress",value:function(e,t){this.setState({activeId:e.id}),e.linkUrlWeb&&(ke=setTimeout((function(){Object(J.A)(e.linkUrlWeb,!("1"!==e.newTabFlag))}),150))}}]),n}(L.a.Component);j()(Ee,"defaultProps",{list:[],toHideGoods:function(){}});var je,Re,Le=Object(ce.a)(Pe)(Ee),_e=n(51),De={exposeItem:function(){var e=this.props,t=e.cardId,n=e.pageCatCode,r=e.pageCatName,o=e.resSiteCode,i=e.resSiteName;return{data:{actionCode:"910000006",actionName:"O2O导航栏组件曝光",eventType:ue.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,content:{comId:t.toString()},pageCatCode:n,pageCatName:r,resSiteCode:o,resSiteName:i}}}},Ne=n(25),We=n(169),Ae=n(90);function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Me=Object(re.c)((Re=function(e){P()(n,e);var t=Be(n);function n(e){var o;return w()(this,n),o=t.call(this,e),j()(N()(o),"itemlist",[]),j()(N()(o),"_itemClickDate",void 0),j()(N()(o),"navigationpcRef",void 0),j()(N()(o),"listerNavigation",void 0),j()(N()(o),"navRef",(function(e){e&&o.itemlist.push(e)})),j()(N()(o),"onSetTabTopState",(function(e){o.setState({ZnavTop:e.navTop})})),j()(N()(o),"handleToolbarScrollEvent",(function(e){e&&(Ae.a.setNavTop(!1),o.setState({navTop:!1}))})),j()(N()(o),"_onLayout",(function(e){o.setState({stickyLayoutY:e.nativeEvent.layout.y})})),j()(N()(o),"getView",(function(){var e=o.props,t=e.configInfo,n=e.width,i=e.pageCatCode,a=e.pageCatName,l=e.resSiteCode,s=e.resSiteName,c=t.topFixed,u=o.state,d=(u.stickyLayoutY,u.ZnavTop);return L.a.createElement(H.b,{themeStyles:ee},(function(e){var u=o.props,p=u.categoryList,f=u.logo,h=u.cardId;return L.a.createElement(W.a.View,{onLayout:o._onLayout,nativeID:"naviBarLayout",ref:function(e){return o.navigationpcRef=e},style:["web"===r.a.OS?[o.state.w,"true"==c&&o.state.navTop&&{position:"fixed",top:0,width:"100%",margin:"auto",zIndex:11},d&&{position:"relative",top:"auto"},d?{zIndex:2}:{zIndex:4}]:null]},L.a.createElement(A.a,{style:[o.state.navTop?e.layoutBottom:e.layout],ref:o.navRef},L.a.createElement(z.a,{onHoverOut:function(){return o.clear()}},L.a.createElement(A.a,null,L.a.createElement(U.a,null,L.a.createElement(A.a,{style:e.pcContainer},L.a.createElement(A.a,{style:e.imgBox},L.a.createElement(V.a,v()({},f,{isRadius:!1}))),L.a.createElement(A.a,{style:e.menuBox},L.a.createElement(me,{chooseId:o.state.chooseId,categoryList:p,cardId:h,isShowItem:o.isShowItem,clickItem:o.clickItem,hasAllCategory:o.hasAllCategory(),pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s})),L.a.createElement(A.a,{style:e.iconBox},L.a.createElement(le,{configInfo:t}))),o.state.showSubCategoryView?L.a.createElement(z.a,{onHoverOut:function(){return o._onHoverInItem()}},L.a.createElement(A.a,{style:e.subCategory},L.a.createElement(We.a,{category:p[0],cardId:h,width:n,clickCateGoryStatus:o.state.showSubCategoryView,pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}))):null),o.state.showGoods?L.a.createElement(A.a,{style:e.goodsBox},L.a.createElement(Le,{list:o.state.chooseList,cardId:h,categoryName:o.state.categoryName,categoryIndex:o.state.categoryIndex,toHideGoods:function(){return o.toHideGoods()},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s})):null))))}))})),j()(N()(o),"isShowItem",(function(e,t){return!("0"==t&&o.hasAllCategory()&&!o.needShowAllCategory())})),j()(N()(o),"clickItem",(function(e,t){o.setState({categoryName:e.categoryName,categoryIndex:t}),null!=e&&e.actionUrlWeb?Object(J.A)(e.actionUrlWeb,!("1"!==e.newTabFlag)):"0"==t&&o.hasAllCategory()&&o.needShowAllCategory()?o.clickAllCategory():o.setChooseList(e.categoryId)})),o.state={chooseList:[],showGoods:!1,chooseId:"",showSubCategoryView:!1,stickyLayoutY:0,navTop:!1,ZnavTop:!1,categoryName:"",categoryIndex:""},o}return C()(n,[{key:"componentDidMount",value:function(){var e=this;this.onScroItem=B.a.addListener("onScrollEvent",(function(){e.setState({showSubCategoryView:!1})})),window.addEventListener("scroll",this.handleScroll.bind(this)),"web"===r.a.OS&&B.a.addListener("tabViewWeb",this.onSetTabTopState),this.listerNavigation=B.a.addListener("onToolbarScrollEvent",this.handleToolbarScrollEvent)}},{key:"_layout",value:function(e){var t=Object(M.a)(e)||0;return new Promise((function(e){F.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"handleScroll",value:function(){var e,t=document.getElementById("naviBarLayout");((null==t||null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.top)||0)<1&&(Ae.a.setNavTop(!0),this.setState({navTop:!0}))}},{key:"_onHoverInItem",value:function(){this.setState({showSubCategoryView:!1})}},{key:"componentWillUnmount",value:function(){"web"===r.a.OS&&(window.removeEventListener("scroll",this.handleScroll.bind(this)),B.a.removeListener("tabViewWeb",this.onSetTabTopState)),this.onScroItem.remove(),this.listerNavigation&&this.listerNavigation.remove()}},{key:"render",value:function(){var e=this.props.showBannerCategory;return pe.a.bannerVisible&&"true"==e&&this.state.showSubCategoryView&&this.setState({showSubCategoryView:!1}),this.getView()}},{key:"setChooseList",value:function(e){var t=this,n=this.props.categoryList;if(void 0!==e&&void 0!==n){var r=n.find((function(t){return t.categoryId===e}));if((null==r?void 0:r.categoryId)===this.state.chooseId)this.clear();else if(r&&r.productList)if(this.state.showGoods)this.setState({chooseList:r.productList,chooseId:r.categoryId});else{var o=r;this.setState({showGoods:!0,showSubCategoryView:!1},(function(){t.setState({chooseList:o.productList,chooseId:o.categoryId})}))}else this.clear()}else this.clear()}},{key:"clear",value:function(){this.setState({chooseList:[],chooseId:""})}},{key:"clickAllCategory",value:function(){var e=!this.state.showSubCategoryView;this.setState({showSubCategoryView:e,showGoods:!1}),this.clear()}},{key:"hasAllCategory",value:function(){var e=this.props.configInfo;return e&&"true"==e.showCategory}},{key:"needShowAllCategory",value:function(){var e=this.props.configInfo;return e&&"true"==e.showBannerCategory&&pe.a.bannerVisible?(pe.a.getAllCategory(!1),!1):(pe.a.getAllCategory(!0),!0)}},{key:"toHideGoods",value:function(){this.setState({showGoods:!1})}}]),n}(R.Component),j()(Re,"defaultProps",{logo:{imgUri:_e.k,imgProportion:240/74,actionUrl:"",actionUrlWeb:"https://o2o.vmall.com/"},configInfo:{showCategory:"false",showBannerCategory:"true"}}),je=Re))||je,Fe=Object(_.a)(Object(ce.a)(De)(Object(Ne.a)(Me))),He=n(29),ze=n(11),Ue=n(103),Ve=n(12),Ge=n(311);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Ke=function(e){P()(n,e);var t=Je(n);function n(e){var r;return w()(this,n),(r=t.call(this,e)).state={categoryList:[]},r}return C()(n,[{key:"configProductListWithCategoryList",value:function(){var e=this,t=this.props,n=t.categoryList,r=(t.width,t.configInfo);if(n.length){var o=r.showBannerCategory;pe.a.setShowBannerCategory(o),this.updateStoreAllCategory(n[0]),this.setState({categoryList:n});var i=this.calAllCategoryDateSource(n),a=JSON.stringify(i);return new Promise((function(t){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve.f.O2O_WEB,n="".concat(ze.a.openApiDomain).concat(Ve.j.GET_PRODINFOLIST_WITHPAGE_O2O),r={dataSourceList:e,lang:Ve.e.CN,country:Ve.d.CN,portal:t};return He.a.post(n,r)})(a).then((function(r){var o=!!r.dataMap&&r.dataMap;o&&e.calAllCategoryProductList(o,n),e.updateStoreAllCategory(n[0]),t(n)}))}))}return Promise.resolve()}},{key:"componentDidMount",value:function(){var e=this;this.configProductListWithCategoryList().then((function(t){e.setState({categoryList:t})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.reportUrl,r=e.cardId,o=e.configInfo,i=this.state.categoryList;return L.a.createElement(Fe,v()({},this.props,{categoryList:i,reportUrl:n,cardId:r,width:t,configInfo:o}))}},{key:"calAllCategoryDateSource",value:function(e){var t=this,n=this.calCategoryDateSource(e);return null==e||e.forEach((function(e){var r=t.calCategoryDateSource(e.subCategoryList);r.length&&(n=n.concat(r))})),n}},{key:"calCategoryDateSource",value:function(e){var t=[];return null==e||e.forEach((function(e){var n=JSON.parse(e.configInfo).dataSourceList[0];e.dataSourceType=n,t.push(n.dataSourceCode)})),t}},{key:"calCategoryProductList",value:function(e,t){null==t||t.forEach((function(t,n){var r=t.dataSourceType.dataSourceCode,o=e[r];t.productList=o&&o.dataInfos&&o.dataInfos.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,uri:ze.a.cmsCdnPath+e.photoPath+e.photoName},e)}))||[]}))}},{key:"calAllCategoryProductList",value:function(e,t){var n=this;this.calCategoryProductList(e,t),null==t||t.forEach((function(t){n.calAllCategoryProductList(e,t.subCategoryList)}))}},{key:"updateStoreAllCategory",value:function(e){var t=this.props.configInfo;t&&"true"==t.showBannerCategory&&pe.a.updateAllCategory(e)}}]),n}(R.Component);j()(Ke,"defaultProps",{categoryList:[]});var qe=Object(_.a)(Ke),Qe=n(35),$e=n.n(Qe),Xe=n(17),Ze=n.n(Xe),et=n(26),tt=n.n(et),nt=n(40),rt=n(34),ot=n.n(rt),it=n(119);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st={display:"flex",flexDirection:"row",alignItems:"center"},ct=function(e){return K.a.create({flexBox:st,bgbox:{display:"flex",backgroundColor:"#F1F3F5",zIndex:10,lineHeight:36,minHeight:36,minWidth:it.a.safety_area},container:lt(lt({},st),{},{alignItems:"flex-start"}),leftbox:lt(lt({},st),{},{width:"50%",flexWrap:"wrap",height:36,overflow:"hidden"}),rightbox:lt(lt({},st),{},{justifyContent:"flex-end",flexGrow:1,height:36}),itemflexBox:lt(lt({},st),{},{height:36}),itemBox:{height:36},textnormal:{opacity:.6,fontSize:13,color:"#000000",lineHeight:36},textactive:{opacity:.9,color:"#000000"},paddinghorizontal:{paddingHorizontal:8},textfirst:{paddingLeft:0},line:{height:8,borderRightWidth:1,borderColor:"#D3D3D3"},itemcontainer:lt({},st),selectcontainer:{position:"relative",backgroundColor:"#FFF"},selectbox:{position:"absolute",top:36,right:0},selectboxTwo:lt({backgroundColor:"#FDFDFD"},e.S43),selecttext:{lineHeight:32},selecttextnormal:{lineHeight:32},selectBgactive:{backgroundColor:"rgba(0,0,0,0.05)"},selecttextactive:{opacity:.9,color:"#000000"},imgline:{width:"100%",marginVertical:20,borderBottomWidth:1,borderBottomColor:"#DDDDDD"},selectarrow:{position:"relative",left:0,marginRight:8},aligncenter:{textAlign:"center"},administratorBox:{height:14,borderRadius:4,backgroundColor:"rgba(0,0,0,0.05)",paddingLeft:4,paddingRight:4,marginRight:8},administratorText:{opacity:.4,fontSize:12,color:"#000000",lineHeight:15}})},ut=n(432);function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}Object(ze.b)(ne.a);ze.a.openApiDomain;var pt=ze.a.webDomain,ft=ze.a.customerServiceUrl,ht=function(e){P()(r,e);var t,n=dt(r);function r(e){var t;return w()(this,r),(t=n.call(this,e)).state={hasDataStatus:!0,showLoginWindow:!1},t.onClose=t.onClose.bind(N()(t)),t}return C()(r,[{key:"componentDidMount",value:function(){this.props.type}},{key:"onClose",value:function(){this.setState({showLoginWindow:!1})}},{key:"shouldComponentUpdate",value:function(e){return!0}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.icon,o=t.title,i=t.list,a=t.active,l=t.style,s=t.iconStyle,c=t._value,u=t.selectType,d=(t.templateMap,this.state.hasDataStatus,window.location.href),p="".concat(ft,"#/?businessUUID=902d812b8bdb44e089e34544fb5d77e2&enterurl=")+"".concat(d,"&k=1&from=06&remark="),f=("".concat(pt,"account/login?url=").concat(encodeURIComponent(p)),"arrow"===u?{width:24}:{}),h="arrow"===u?{marginLeft:6}:{};return L.a.createElement(H.b,{themeStyles:ct},(function(t,d){return L.a.createElement(A.a,null,L.a.createElement(A.a,{style:[t.itemflexBox,l,f]},r&&L.a.createElement(A.a,{style:[s]},L.a.createElement(te.a,{normalCol:"#000000",opacity:.9,iconName:r,width:12,height:12})),"arrow"===u?null:L.a.createElement(se.a,{style:[t.textnormal,t.paddinghorizontal]},o+(void 0!==c?"(".concat(c,")"):"")),L.a.createElement(W.a.View,{style:[t.selectarrow,h,{transform:[{rotate:e.props.animatedValue}]}]},L.a.createElement(te.a,{normalCol:a?"rgba(0,0,0,0.90)":"rgba(0,0,0,0.50)",iconName:"web-drop-down",opacity:.9,width:12,height:12})),L.a.createElement(W.a.View,{style:[t.selectbox,!a&&{display:"none"},"select"===n&&{paddingTop:12},{opacity:e.props.animatedOpacity}]},L.a.createElement(A.a,{style:t.selectboxTwo},i&&i.map((function(r,o){return L.a.createElement(G.a,{activeOpacity:1,style:t.aligncenter,onPress:function(){return e.onPress(r)}},L.a.createElement(z.a,null,(function(e){switch(n){case"image":return L.a.createElement(A.a,{style:{width:r.imgwidth}},0===o?null:L.a.createElement(A.a,{style:t.imgline}),L.a.createElement(V.a,{style:{padding:4},imgUri:r.imgUrl,imgProportion:r.imgProportion}));default:return L.a.createElement(A.a,{style:[e&&t.selectBgactive,{paddingHorizontal:21,width:120}]},L.a.createElement(se.a,{numberOfLines:1,style:[t.textnormal,t.selecttextnormal,e&&t.selecttextactive]},r.code&&Object(ut.b)(r.code)||r.text))}})))}))))))}))}},{key:"onPress",value:(t=tt()(Ze.a.mark((function e(t){var n,r,o;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B.a.emit("o2oClickItem",t),"homepage"!==(null==t?void 0:t.tabType)){e.next=4;break}return B.a.emit("onHomePageChange",t),e.abrupt("return");case 4:(n=t.url)&&(r=n.includes("?")?"&":"?",o=t.timeStamp&&"".concat(r,"t=").concat((new Date).getTime())||"",n+=o,Object(J.A)(n,!!t.newTab));case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),r}(L.a.Component),gt=n(44);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(){return new Promise((function(e,t){var n;(n="".concat(ze.a.o2oWebDomain).concat(Ve.j.GET_O2O_PRIVILEGEINFO),He.a.post(n,{})).then((function(e){})).catch((function(t){e(t.data)}))}))},bt=function(e){var t=(null==e?void 0:e.userType)+"",n=(null==e?void 0:e.adminStatus)+"";return"2"===t?"门店店员":"3"===t&&"1"===n?"公司管理员":"3"===t&&"2"===n?"公司非管理员":null},wt=function(e){var t=yt({},e);return t.text=Object(gt.e)(null==e?void 0:e.strategyName)?null==e?void 0:e.tabName:null==e?void 0:e.strategyName,"1"==(null==e?void 0:e.relatedPageType)?t.gotoPageId=null==e?void 0:e.relatedPage:(t.url=null==e?void 0:e.relatedPage,t.newTab=St(null==e?void 0:e.relatedPage)),t},St=function(e){var t=ze.a.o2oWebDomain.substring(0,ze.a.o2oWebDomain.length-1);return-1==(e=e||ze.a.o2oWebDomain).indexOf(t)};function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Ot,Pt=function(e){P()(n,e);var t=Ct(n);function n(){var e;w()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),j()(N()(e),"account",{}),j()(N()(e),"animatedValue",new W.a.Value(0)),j()(N()(e),"animatedOpacity",new W.a.Value(0)),j()(N()(e),"onPress",(function(t){if(B.a.emit("o2oClickItem",t),t.isLoginOut)e.logout();else if("homepage"!==(null==t?void 0:t.tabType)){var n=t.url;if(n){var r=n.includes("?")?"&":"?";n+=t.timeStamp&&"".concat(r,"t=").concat((new Date).getTime())||""}Object(J.A)(n,!!t.newTab)}else B.a.emit("onHomePageChange",t)})),e}return C()(n,[{key:"render",value:function(){var e=this,t=this.animatedValue.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]}),n=this.props,r=n.item,o=n.index,i=n.children,a=(n.templateMap,(null==r?void 0:r.pageId)==(null==r?void 0:r.relatedPage)&&"homepage"===(null==r?void 0:r.tabType));return L.a.createElement(H.b,{themeStyles:ct},(function(n){return L.a.createElement(A.a,{style:n.itemBox},L.a.createElement(G.a,{activeOpacity:1,onPress:function(){return e.onPress(r)}},L.a.createElement(z.a,{onHoverIn:function(){return e.onHoverIn(r)},onHoverOut:function(){return e.onHoverOut(r)}},(function(l){switch(r.type){case"select":return L.a.createElement(A.a,{style:n.itemcontainer},0===o||r.isRegister||r.hideLine?null:L.a.createElement(A.a,{style:n.line}),L.a.createElement(ht,v()({},r,{title:r.code&&Object(ut.b)(r.code)||r.text,active:l,type:r.type,animatedValue:t,animatedOpacity:e.animatedOpacity,onHoverOut:e.onHoverOut})));default:return L.a.createElement(A.a,{style:[n.itemcontainer,a&&{backgroundColor:"#FFFFFF"}]},0===o||r.isRegister||r.hideLine?null:L.a.createElement(A.a,{style:n.line}),null==r||!r.isUserType||ot()(null==r?void 0:r.userRole)?null:L.a.createElement(A.a,{style:[n.administratorBox,l||a?{backgroundColor:"rgba(0,0,0,0.40)"}:{}]},L.a.createElement(se.a,{style:[n.administratorText,l||a?{color:"#FFFFFF",opacity:1}:{}]},null==r?void 0:r.userRole)),i,L.a.createElement(se.a,{style:[n.textnormal,n.paddinghorizontal,0===o&&n.textfirst,(l||a)&&n.textactive]},r.code&&Object(ut.b)(r.code)||r.text))}}))))}))}},{key:"onHoverIn",value:function(e){"select"==e.type&&(this.animatedValue.setValue(0),W.a.timing(this.animatedValue,{toValue:.5,duration:200,useNativeDriver:!0}).start(),this.animatedOpacity.setValue(0),W.a.timing(this.animatedOpacity,{toValue:1,duration:400,useNativeDriver:!1}).start())}},{key:"onHoverOut",value:function(e){"select"==e.type&&(this.animatedValue.setValue(0),this.animatedOpacity.setValue(0))}},{key:"decode",value:function(e){if("web"===r.a.OS){if("string"==typeof e&&e.indexOf("&")>-1){var t=document.createElement("textarea");t.innerHTML=e,e=t.value}return e}}},{key:"logout",value:function(){var e,t,n=this;"web"===r.a.OS&&(window.sessionStorage.setItem("memberInfo",""),(e="".concat(ze.a.webDomain,"customer/logout.json"),t={url:"".concat(ze.a.o2oWebDomain),csrfToken:Ue.a.get("CSRF-TOKEN"),dataPattern:"form"},Object(Ge.a)(),He.a.post(e,t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))).then((function(e){e&&e.redirectUrl&&(window.location.href=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["ANONYMITY_LOGIN_NAME","ANONYMITY_LOGIN_MOBILE"];if(e.includes("?")){var n=e.split("?")[0],r=e.split("?")[1],o=r.split("&");return o.forEach((function(e){var r=e.split("=")[0];if(!t.includes(r)){var o=e.split("=")[1]||"";o&&(n.includes("?")?n+="&":n+="?",n+="".concat(r,"=").concat(o))}})),n}return e}(n.decode(e.redirectUrl)))})).catch((function(e){Object(J.A)(ne.a.o2oWebDomain,!1)})))}}]),n}(L.a.Component),Tt=ze.a.o2oWebDomain+Ve.j.O2O_PERSONAL_URL_WEB,xt=[{text:"你好！",url:Tt,hideLine:!0,userRole:"",isUserType:!0,timeStamp:1},{text:"[退出]",url:Tt,isLoginOut:!0,hideLine:!0,timeStamp:1}];function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}ze.a.openApiDomain;Object(ze.b)(ne.a);ze.a.webDomain;var kt=Object(re.b)("store")(Ot=Object(re.c)(Ot=function(e){P()(n,e);var t=It(n);function n(e){var o;return w()(this,n),o=t.call(this,e),j()(N()(o),"toolRefDom",void 0),j()(N()(o),"toolbarPageY",void 0),j()(N()(o),"tabRightList",void 0),j()(N()(o),"tabLeftList",void 0),j()(N()(o),"showMsg",(function(){if("web"===r.a.OS){var e=document.getElementsByClassName("js-priorityCode")[0]||{};window.navigator.userAgent.toLowerCase().match(/chrome/)||(e.setAttribute("href","JavaScript:;"),o.setState({showLoginWindow:!0}))}})),j()(N()(o),"onClose",(function(){o.setState({showLoginWindow:!1})})),j()(N()(o),"toolRef",(function(e){e&&(o.toolRefDom=e)})),j()(N()(o),"handleScrollEvent",(function(){o._layout(o.toolRefDom).then(function(){var e=tt()(Ze.a.mark((function e(t){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pageY>-30&&B.a.emit("onToolbarScrollEvent",!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),o.state={rightList:[],templateRightMap:{},showLoginWindow:!1,isLogin:!1,userRole:null},o.fetchData=o.fetchData.bind(N()(o)),o}return C()(n,[{key:"componentDidUpdate",value:function(e,t){}},{key:"onPress",value:function(e){e.actionUrl&&Object(J.A)(e.actionUrl,!0)}},{key:"showOrHideSelect",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.setState({showSelectRegion:e}),"web"===r.a.OS){var t,n=(null===(t=document)||void 0===t?void 0:t.body)||null,o=window.innerWidth-document.documentElement.offsetWidth||0;n&&(e?(n.style.overflow="hidden",n.style.paddingRight="".concat(o,"px")):(n.style.overflow="visible",n.style.paddingRight="0"))}}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScrollEvent),new Promise((function(e,t){vt().then((function(t){e({userRole:bt(null==t?void 0:t.data)})}))})).then((function(t){e.setState({userRole:null==t?void 0:t.userRole})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScrollEvent)}},{key:"_layout",value:function(e){var t=Object(M.a)(e)||0;return new Promise((function(e){F.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"fetchData",value:function(){var e,t;xt[0].text=Ue.a.get("displayName")?Ue.a.get("displayName"):"你好!",xt[0].userRole=null!==(e=this.state)&&void 0!==e&&e.userRole?null===(t=this.state)||void 0===t?void 0:t.userRole:"";var n=[].concat($e()(xt),$e()(this.tabRightList));this.tabRightList=n}},{key:"render",value:function(){var e,t=this;this.tabRightList=function(e){var t=[],n=$e()(e.strategyIdList),r=[],o=[];if(n.length>3?(r=n.splice(3,n.length),o=n.splice(0,3)):o=n,t=o.map((function(t,n){return yt(yt({},wt(t)),{},{pageId:null==e?void 0:e.pageId,hideLine:!0,index:n,isRight:!0})})),r.length>0){var i={text:"",url:"",type:"select",selectType:"arrow",hideLine:!0,list:r.map((function(t,n){return yt(yt({},wt(t)),{},{pageId:null==e?void 0:e.pageId,isRight:!0,index:n+3})}))};t.push(i)}return t}(this.props),this.tabLeftList=function(e){var t=[];if((null==e?void 0:e.dataSourceList.length)>0){var n,r=null==e?void 0:e.dataSourceList[0];null==r||null===(n=r.icon)||void 0===n||n.dataInfos.forEach((function(e,n){var r=yt(yt({},e),{},{index:n,text:e.title,url:e.actionUrlWeb,newTab:St(e.actionUrlWeb)});t.push(r)}))}return t}(null===(e=this.props)||void 0===e?void 0:e.o2oToolBarData),this.fetchData();var n=this.props.width;return("large"===Object(nt.a)(n)||null)&&L.a.createElement(H.b,{themeStyles:ct},(function(e,n){return L.a.createElement(A.a,{style:e.bgbox,ref:t.toolRef},L.a.createElement(U.a,null,L.a.createElement(A.a,{style:e.container},L.a.createElement(A.a,{style:[e.leftbox]},t.tabLeftList.map((function(e,t){return L.a.createElement(Pt,{item:e,index:t})}))),L.a.createElement(A.a,{style:e.rightbox},t.tabRightList.map((function(e,n){return L.a.createElement(Pt,{templateMap:t.state.templateRightMap,item:e,index:n,key:n})}))))))}))}}]),n}(R.Component))||Ot)||Ot,Et=Object(_.a)(kt),jt=n(54),Rt=n(30),Lt={exposeItem:function(){var e,t,n,r=this.props,o=r.pageCatCode,i=r.pageCatName,a=null==this||null===(e=this.props)||void 0===e?void 0:e.o2oToolBarData,l=a.resSiteCode,s=a.resSiteName;return{data:{actionCode:"910000010",actionName:"o2o工具栏组件曝光",eventType:ue.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,pageCatCode:o,pageCatName:i,resSiteCode:l,resSiteName:s,content:{comId:null===(t=this.props)||void 0===t||null===(n=t.o2oToolBarData)||void 0===n?void 0:n.cardId}}}},clickItem:function(e,t,n,r){var o=t.resSiteCode,i=t.resSiteName;return{data:{actionCode:"910000009",actionName:"o2o工具栏点击-"+(null==e?void 0:e.text),eventType:ue.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,pageCatCode:n,pageCatName:r,resSiteCode:o,resSiteName:i,content:{comId:null==e?void 0:e.id,gotoPageId:null==e?void 0:e.gotoPageId,gotoURL:null==e?void 0:e.url,indexName:null==e?void 0:e.text,index:null==e?void 0:e.index}}}}};function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt=function(e){var t={bgImageTitle:{paddingLeft:12,paddingRight:12},bgImage:{paddingLeft:0,paddingRight:0}};return K.a.create(Dt(Dt({},t),{},{bgImageTitle:{paddingLeft:24,paddingRight:24},imgBackground:{width:it.a.safety_area,left:"50%",transform:"translateX(-50%)"},bgFlex:{backgroundColor:"#f9f9f9"}}))};function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var At=function(e){P()(n,e);var t=Wt(n);function n(e){var r;w()(this,n),r=t.call(this,e),j()(N()(r),"itemlist",[]),j()(N()(r),"o2oClickListener",void 0),j()(N()(r),"onHomeClickListener",void 0),j()(N()(r),"layoutWidth",void 0),j()(N()(r),"selfTheme",void 0),j()(N()(r),"onClickItem",(function(e){r.props.clickItem(e,r.props.o2oToolBarData,r.props.pageCatCode,r.props.pageCatName)})),j()(N()(r),"onHomePageChange",(function(e){var t=r.state,n=t.strategyIdList,o=t.pageId;if((null==e?void 0:e.relatedPage)!=o){if((null==e?void 0:e.index)>2&&"1"==(null==e?void 0:e.relatedPageType)){var i=n.splice(e.index,n.length),a=n.splice(0,e.index);n=[].concat($e()(i),$e()(a))}r.props.o2oHomePageChange(n,e)}})),j()(N()(r),"receiveRef",(function(e){e&&r.itemlist.push(e)})),j()(N()(r),"renderScreenType",(function(e){Object(nt.a)(e);var t,n=r.state,o=n.strategyIdList,i=n.pageId;return L.a.createElement(Et,v()({},r.props,{o2oToolBarData:null===(t=r.props)||void 0===t?void 0:t.o2oToolBarData,strategyIdList:o,pageId:i,onReportDataIconGrid:r.props.clickItem,receiveRef:r.receiveRef,widthProps:e}))})),j()(N()(r),"getBgStyle",(function(e){var t=r.props,n=t.configInfo,o=t.styleChange,i={};return"true"===(n||{}).bgBox?(i.paddingBottom=0,Rt.a.darkBool,!0===(null==o?void 0:o.isGroupStyleChange)?i.backgroundColor="#ffffff":null!=o&&o.bgColor?i.backgroundColor=null==o?void 0:o.bgColor:i.backgroundColor=null==e?void 0:e.S31.backgroundColor):i.backgroundColor="",i})),j()(N()(r),"toolRef",(function(e){e&&r.itemlist.push(e)}));var o=Nt,i={bgImg:"",imgStyle:{},textStyle:{}};if(!Object(J.D)(r.props.styleChange)){var a=Object(nt.a)(jt.a.get("window").width),l=Object(J.i)(r.props.styleChange,a);l&&(i=l)}return r.state={headerBoxStyle:i,DrawCardWapStyles:o,strategyIdList:e.strategyIdList,pageId:e.pageId},r.layoutWidth=jt.a.get("window").width,r}return C()(n,[{key:"componentDidMount",value:function(){this.o2oClickListener=B.a.addListener("o2oClickItem",this.onClickItem),this.onHomeClickListener=B.a.addListener("onHomePageChange",this.onHomePageChange)}},{key:"componentWillUnmount",value:function(){this.o2oClickListener&&this.o2oClickListener.remove(),this.onHomeClickListener&&this.onHomeClickListener.remove()}},{key:"render",value:function(){var e=this,t=this.state,n=(t.headerBoxStyle,t.DrawCardWapStyles);return L.a.createElement(H.b,{themeStyles:n},(function(t,n,r){var o;return(null===(o=e.props)||void 0===o?void 0:o.o2oToolBarData)&&L.a.createElement(A.a,{style:{backgroundColor:"#f9f9f9",zIndex:100},ref:e.toolRef},e.renderScreenType(r))}))}}]),n}(R.PureComponent),Bt=Object(_.a)(Object(ce.a)(Lt)(Object(Ne.a)(At))),Mt=n(310),Ft=n(305),Ht=n(207),zt=n(173),Ut=n(109),Vt=n.n(Ut),Gt=n(48),Yt=n(183),Jt=n(58),Kt=n.n(Jt),qt=n(708),Qt={exposeItem_product:function(e,t){var n,o=this.props,i=o.pageCatCode,a=o.pageCatName,l=o.resSiteCode,s=o.resSiteName,c={array:e.map((function(e,t){var n,r,o;return e.isViewable?{comId:(null===(n=e.cardId)||void 0===n?void 0:n.toString())||"",ruleId:"",sId:"",row:"",column:"",index:null===(r=e.index)||void 0===r?void 0:r.toString(),dataCode:e.item.batchCode,dateType:"4",index_name:e.item.couponName||""}:{comId:(null===(o=e.cardId)||void 0===o?void 0:o.toString())||"",ruleId:"",sId:"",row:"",column:"",index:null==t?void 0:t.toString(),dataCode:e.batchCode,dateType:"4",index_name:e.couponName||""}}))};if(c.array.length)return{isBatch:!0,commonData:{actionCode:e[0].judPlatform+"10000101",actionName:"优惠券-组件曝光",eventType:ue.e.EVENT_TYPE_EXPOSURE,pageId:t||(null==this||null===(n=this.props)||void 0===n?void 0:n.pageId)||"",resSiteCode:l,resSiteName:s,pageCatCode:i,pageCatName:a,at:"ios"===r.a.OS?"12":null},content:c.array}},clickItem:function(e,t,n,o,i,a,l,s,c,u,d,p,f){var h;return{data:{actionCode:l+"10000101",actionName:"优惠券"+(e||""),eventType:ue.e.EVENT_TYPE_CLICK,pageId:(null==this||null===(h=this.props)||void 0===h?void 0:h.pageId)||"",content:{comId:(null==s?void 0:s.toString())||"",gotoPageId:"",gotoURL:t||"",ruleId:"",sId:"",row:"",column:"",index:null==n?void 0:n.toString(),dataCode:o,dateType:"4",clickType:"34",index_name:e||""},pageCatCode:u,pageCatName:d,resSiteCode:p,resSiteName:f,at:"ios"===r.a.OS?"12":null}}}},$t=Qt.exposeItem_product,Xt={exposeItem:function(e){var t,n=e[0],r=((null==this?void 0:this.wrappedRef)||{}).currentViewableList;if(n&&0===n.key&&n.isViewable)if("function"==typeof(null==this||null===(t=this.wrappedRef)||void 0===t?void 0:t.recordInteraction)&&this.wrappedRef.waitForInteraction)this.wrappedRef.waitForInteraction=!1,this.wrappedRef.recordInteraction();else if("function"==typeof $t){var o;return $t(r,null==this||null===(o=this.props)||void 0===o?void 0:o.pageId)}}},Zt=n(282);function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var tn={viewAreaCoveragePercentThreshold:50,waitForInteraction:!0},nn=function(e){P()(n,e);var t=en(n);function n(e){var r,o,i;w()(this,n),i=t.call(this,e),j()(N()(i),"layView",void 0),j()(N()(i),"visiableItemList",[]),j()(N()(i),"scrollTimer",void 0),j()(N()(i),"layoutType",void 0),j()(N()(i),"waitForInteraction",!0),j()(N()(i),"currentViewableList",[]),j()(N()(i),"itemlist",[]),j()(N()(i),"receiveRef",(function(e,t,n,r){var o=i.props,a=o.cardId,l=o.width,s=Gt.a.isApp()?"1":Gt.a.isWap(l)?"2":"3";e&&(e.exposeObj=t,e.exposeObj.row=n,e.exposeObj.column=r,e.exposeObj.judPlatform=s,e.exposeObj.cardId=a,i.itemlist.push(e))})),j()(N()(i),"_onScrollMomentEnd",(function(){i.scrollTimer&&clearTimeout(i.scrollTimer),i.scrollTimer=setTimeout((function(){i.exposeItem_product(i.visiableItemList)}),500)})),j()(N()(i),"calWidth",(function(){var e=i.props.width;return i.isPad()?i.isPadHorizontal()?(e-24-36)/(3+1/3):(e-24-16)/(2+1/3):Gt.a.isPc(e)?392:(e-16-8)/(1+1/3)})),j()(N()(i),"isPad",(function(){return"medium"===Object(nt.a)(i.props.width)||"large"===Object(nt.a)(i.props.width)&&i.props.width<it.a.safety_area})),j()(N()(i),"isPadHorizontal",(function(){var e=i.props,t=e.width,n=e.pageType;return!(Object(J.x)(n||"homePage").screenHeight>t)&&t>=1024})),j()(N()(i),"renderCouponItem",(function(e){var t,n,r,o,a,l,s,c,u,d,p=e.item,f=e.index,h=i.state.couponItem,g=i.props,m=g.cardId,y=g.isLogin,v=g.pageType,b=g.mergeStyle,w=g.width,S=g.theme,C=i.calWidth();return L.a.createElement(A.a,{key:f,style:{marginRight:h&&h.length&&f===h.length-1?i.isPad()?24:16:i.isPad()&&i.isPadHorizontal()?12:8,marginLeft:0!==f||Gt.a.isPc(w)?0:i.isPad()?24:16,marginTop:12}},L.a.createElement(Zt.a,{index:f,isLogin:y,item:p,cwidth:C,width:w,layoutType:"ScrollLayoutOne",isPadHorizontal:i.isPadHorizontal(),onReportDataCoupon:i.clickItem,cardId:m,row:1,column:f+1,circle:S.C32.color,pageType:v,mergeStyle:b,randomId:i.props.randomId,pageCatCode:null===(t=N()(i))||void 0===t||null===(n=t.props)||void 0===n?void 0:n.pageCatCode,pageCatName:null===(r=N()(i))||void 0===r||null===(o=r.props)||void 0===o?void 0:o.pageCatName,pageId:null===(a=N()(i))||void 0===a||null===(l=a.props)||void 0===l?void 0:l.pageId,resSiteCode:null===(s=N()(i))||void 0===s||null===(c=s.props)||void 0===c?void 0:c.resSiteCode,resSiteName:null===(u=N()(i))||void 0===u||null===(d=u.props)||void 0===d?void 0:d.resSiteName}))})),j()(N()(i),"repositionCoupon",(function(){var e,t,n=i.props.width,r=Object(nt.a)(n),o=0;("small"===r?o=16:"medium"===r&&(o=24),"function"==typeof(null===(e=i.layView)||void 0===e?void 0:e.scrollToIndex))&&(null===(t=i.layView)||void 0===t||t.scrollToIndex({animated:!0,viewPosition:0,viewOffset:o,index:0}))})),j()(N()(i),"getItemLayout",(function(e,t){var n=i.calWidth();return{length:n,index:t,offset:(n+8)*t+(i.isPad()?24:16)}}));var a=i.props.dataSourceList,l=void 0===a?[]:a;return i.state={couponItem:(null===(r=l[0])||void 0===r||null===(o=r.coupon)||void 0===o?void 0:o.dataInfos)||[]},i.handleVisiableChange=i.handleVisiableChange.bind(N()(i)),i.recordInteraction=i.recordInteraction.bind(N()(i)),i}return C()(n,[{key:"handleVisiableChange",value:function(e){var t=this,n=this.props,r=n.cardId,o=n.width,i=this.state.couponItem;this.currentViewableList.length=0;var a=Gt.a.isApp()?"1":Gt.a.isWap(o)?"2":"3",l=e||{},s=l.changed,c=l.viewableItems;this.visiableItemList=Kt()(s,(function(e){if(e.isViewable){var n=0;e.cardId=r,e.judPlatform=a;for(var o=0;o<i.length;o++){var l,s;if((null===(l=i[o])||void 0===l?void 0:l.batchCode)===(null==e||null===(s=e.item)||void 0===s?void 0:s.batchCode)){n=o;break}}e.index=n,t.exposeItem_product([e])}})),null==c||c.forEach((function(e){if(e.isViewable){var n=0;e.cardId=r,e.judPlatform=a;for(var o=0;o<i.length;o++){var l,s;if((null===(l=i[o])||void 0===l?void 0:l.batchCode)===(null==e||null===(s=e.item)||void 0===s?void 0:s.batchCode)){n=o;break}}e.index=n,t.currentViewableList.push(e)}}))}},{key:"exposeItem_product",value:function(e){}},{key:"clickItem",value:function(){}},{key:"componentDidUpdate",value:function(e){e.width!==this.props.width&&Object(nt.a)(e.width)!==Object(nt.a)(this.props.width)&&this.repositionCoupon()}},{key:"recordInteraction",value:function(){var e;"function"==typeof(null===(e=this.layView)||void 0===e?void 0:e.recordInteraction)&&this.layView.recordInteraction()}},{key:"render",value:function(){var e=this,t=this.props._styles;return L.a.createElement(A.a,{style:[t.parentContainer,{height:Object(J.F)()&&this.isPad()?72:"auto"}],ref:function(t){e.itemlist[0]=t}},L.a.createElement(qt.a,{style:{marginTop:-12,height:Object(J.F)()?168:"auto"},ref:function(t){e.layView=t},keyExtractor:function(e){return null==e?void 0:e.couponId},data:this.state.couponItem,horizontal:!0,snapToAlignment:"center",decelerationRate:0,snapToInterval:this.calWidth()+16,showsHorizontalScrollIndicator:!1,renderItem:this.renderCouponItem,onMomentumScrollEnd:this._onScrollMomentEnd,onViewableItemsChanged:this.handleVisiableChange,viewabilityConfig:tn,getItemLayout:this.getItemLayout}))}}]),n}(L.a.PureComponent),rn=Object(ce.a)(Xt)(Object(Ne.a)(Object(ce.a)(Qt)(nn)));function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var an,ln=function(e){P()(n,e);var t=on(n);function n(e){var r,o,i;w()(this,n),i=t.call(this,e),j()(N()(i),"itemlist",[]),j()(N()(i),"receiveRef",(function(e,t,n,r){var o=i.props,a=o.cardId,l=o.width,s=Gt.a.isApp()?"1":Gt.a.isWap(l)?"2":"3";e&&(e.exposeObj=t,e.exposeObj.row=n,e.exposeObj.column=r,e.exposeObj.judPlatform=s,e.exposeObj.cardId=a,i.itemlist.push(e))})),j()(N()(i),"calWidth",(function(){var e=i.props.width;return i.isPad()?i.isPadHorizontal()?e/3-24:e/2-28:Gt.a.isPc(e)?392:e-32})),j()(N()(i),"isPad",(function(){return"medium"===Object(nt.a)(i.props.width)||"large"===Object(nt.a)(i.props.width)&&i.props.width<it.a.safety_area})),j()(N()(i),"getSize",(function(){return Object(nt.a)(i.props.width)})),j()(N()(i),"isPadHorizontal",(function(){var e=i.props,t=e.width,n=e.pageType;return!(Object(J.x)(n||"homePage").screenHeight>t)&&t>=1024})),j()(N()(i),"calRow",(function(e){var t=i.state.layoutType,n=i.props.width;return"small"===Object(nt.a)(n)&&"TwoColumnLayout"===t?Math.floor(e/2)+1:i.isPad()?i.isPadHorizontal()||Gt.a.isPc(n)?Math.floor(e/3)+1:Math.floor(e/2)+1:Gt.a.isPc(n)?Math.floor(e/3)+1:1})),j()(N()(i),"calCol",(function(e){var t=i.state.layoutType,n=i.props.width;return"small"===Object(nt.a)(n)&&"TwoColumnLayout"===t?e%2+1:i.isPad()?i.isPadHorizontal()||Gt.a.isPc(n)?e%3+1:e%2+1:Gt.a.isPc(n)?e%3+1:e+1})),j()(N()(i),"renderCouponItem",(function(e,t){var n,r=i.state,o=r.couponItem,a=r.layoutType,l=i.props,s=l.clickItem,c=l.configInfo,u=c.rowsPerScreen,d=c.ruleDesc,p=l.cardId,f=l.isLogin,h=l.pageType,g=l.mergeStyle,m=l.componentName,y=l.carrierCode,v=i.props.width,b=i.calWidth(),w=1;"small"===Object(nt.a)(v)&&"TwoColumnLayout"===a?(n=o.slice(0,2*Number(u)),w=2):i.isPad()?i.isPadHorizontal()?(n=o.slice(0,3*Number(u)),w=3):(n=o.slice(0,2*Number(u)),w=2):Gt.a.isPc(v)?"ScrollLayoutOne"===a?(n=o,w=3):(n=o.slice(0,3*Number(u)),w=3):(n=o.slice(0,Number(u)),w=1);var S=i.isPad()&&i.isPadHorizontal()||Gt.a.isPc(v)?12:8;return n.map((function(e,n){var r,o,l,c,u,C,O,P,T,x,I=0,k=0;return n%w&&(I=S),n>=w&&(k=12),L.a.createElement(A.a,{key:n,style:[{marginLeft:I,marginTop:k}]},L.a.createElement(Zt.a,{receiveRef:function(t){return i.receiveRef(t,e,i.calRow(n),i.calCol(n))},isLogin:f,index:n,item:e,cwidth:b,pwidth:v,layoutType:a,isPadHorizontal:i.isPadHorizontal(),onReportDataCoupon:s,cardId:p,row:i.calRow(n),column:i.calCol(n),circle:t,pageType:h,mergeStyle:g,randomId:i.props.randomId,pageCatCode:null===(r=N()(i))||void 0===r||null===(o=r.props)||void 0===o?void 0:o.pageCatCode,pageCatName:null===(l=N()(i))||void 0===l||null===(c=l.props)||void 0===c?void 0:c.pageCatName,pageId:null===(u=N()(i))||void 0===u||null===(C=u.props)||void 0===C?void 0:C.pageId,resSiteCode:null===(O=N()(i))||void 0===O||null===(P=O.props)||void 0===P?void 0:P.resSiteCode,resSiteName:null===(T=N()(i))||void 0===T||null===(x=T.props)||void 0===x?void 0:x.resSiteName,componentName:m,ruleDesc:d,carrierCode:y}))}))}));var a=i.props.dataSourceList,l=void 0===a?[]:a;return i.state={couponItem:(null===(r=l[0])||void 0===r||null===(o=r.coupon)||void 0===o?void 0:o.dataInfos)||[],layoutType:e.configInfo.layoutType},i}return C()(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e._styles,r=e.theme;return L.a.createElement(A.a,{style:[n.container,this.isPad()?n.prdAreaPad:Gt.a.isPc(t)?null:n.prdArea]},L.a.createElement(A.a,{style:[n.deviation]},this.renderCouponItem(n,r.C32.color)))}}]),n}(L.a.PureComponent),sn=Object(ce.a)(Qt)(Object(Ne.a)(ln)),cn=n(42),un=n(81),dn=n(50),pn=function(e){return K.a.create({parentContainer:{position:"relative",overflow:"hidden",flexGrow:1,display:"flex",justifyContent:"space-between",flexDirection:"row",flexWrap:"wrap"},container:{display:"flex",flexDirection:"row"},deviation:{position:"relative",overflow:"hidden",flex:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},prdArea:{paddingLeft:16,paddingRight:16},prdAreaPad:{paddingLeft:24,paddingRight:24},slidePrdArea:{paddingLeft:16},slidepPrdAreaPad:{paddingLeft:24}})},fn=K.a.create({negativeMargeTop8:{marginTop:-8},negativeMargeTop12:{marginTop:-12}});function hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var gn=0,mn=0,yn=Object(re.c)(an=function(e){P()(o,e);var t,n=hn(o);function o(e){var t;w()(this,o),t=n.call(this,e),j()(N()(t),"lister1",void 0),j()(N()(t),"eventListener",void 0),j()(N()(t),"windowType",void 0),j()(N()(t),"prefixPm",void 0),j()(N()(t),"handleStyleChange",(function(e,n){if(!e)return null;var r=Object(nt.a)(n);if(t.windowType!==r){var o,i,a;if(t.windowType&&t.state.mergeStyle&&"2"!==e.bgFill)return;t.windowType=r;var l=Object(J.i)(e,r);l._bgColor=e._bgColor||("transparent"===(null===(o=l.imgStyle)||void 0===o?void 0:o.backgroundColor)||null===(i=l.imgStyle)||void 0===i?void 0:i.backgroundColor),l.fontColor=null===(a=l.textStyle)||void 0===a?void 0:a.color,l.hasCrossDressing=!0,t.setState({mergeStyle:l})}})),j()(N()(t),"_updateTagStore",(function(){Object(J.O)().then((function(e){e&&!Vt()(e,t.state.groupTags)&&t.setState({groupTags:e})}))})),j()(N()(t),"_potalCode",(function(){return t._isPc()?"1":"2"})),j()(N()(t),"_isPc",(function(){return Gt.a.isPc(jt.a.get("window").width)})),j()(N()(t),"_toLogin",(function(){var e="";if("web"===r.a.OS){var t=window.location.href;e="".concat(ne.a.webDomain,"account/login?url=").concat(encodeURIComponent(t))}else Gt.a.isApp()&&(e="vmall://com.vmall.client/home/login");Object(J.A)(e)})),j()(N()(t),"canClick",(function(){return mn=(new Date).getTime()-gn,gn=(new Date).getTime(),!(mn<500)})),j()(N()(t),"_onClickMore",(function(){if(t.canClick()){var e=t.state.moreActionUrl;if(e){var n=t.props,o=n.pageId,i=n.cardId,a=n.pageCatCode,l=n.pageCatName,s=n.resSiteCode,c=n.resSiteName,u={actionCode:t.prefixPm+"10000101",actionName:"优惠券更多埋点",eventType:ue.e.EVENT_TYPE_CLICK,pageId:o,resSiteCode:s,resSiteName:c,pageCatCode:a,pageCatName:l,at:"ios"===r.a.OS?"12":null,content:{comId:i,index:"",dataCode:"",dateType:"4",clickType:"1",gotoPageId:"",gotoURL:e,ruleId:"",sId:"",row:"",column:"",index_name:""}};Object(fe.a)(u),Object(fe.b)("",!0),Object(J.A)(e)}}})),j()(N()(t),"_isShowCoupon",(function(){var e=t.props.configInfo,n=e.targetCrowdShow,r=void 0!==n&&n,o=e.targetCrowdIncludeNotLoggedIn,i=e.targetCrowdShowToGroup,a=e.targetCrowdGroupId,l=void 0===a?"":a,s=t.state,c=s.isLogin,u=s.groupTags;return l=String(l),!Gt.a.isApp()||(1!=r&&"true"!=r||"boolean"==typeof c&&(c?1==i||"true"==i?u.includes(l):!u.includes(l):1==o||"true"==o))}));var i=Object(J.l)(e.configInfo);e.configInfo.moreUrlType!=cn.e.h5&&(i="");var a=Object(J.x)(t.props.pageType).screenWidth;return t.state={isLogin:!!Gt.a.isAndroid()&&null,groupTags:[],moreActionUrl:i,mergeStyle:Object(J.F)()?t.handleStyleChangeMP(t.props.styleChange,Object(J.x)().screenWidth):null},"large"===Object(nt.a)(a)?t.prefixPm="3":"web"===r.a.OS?t.prefixPm="2":Object(J.F)()?t.prefixPm="4":Gt.a.isApp()&&(t.prefixPm="1"),t}return C()(o,[{key:"handleStyleChangeMP",value:function(e,t){if(!e)return null;var n=Object(nt.a)(t);if(this.windowType!==n){var r,o,i;if(this.windowType&&this.state.mergeStyle&&"2"!==e.bgFill)return;this.windowType=n;var a=Object(J.i)(e,n);return a._bgColor=e._bgColor||("transparent"===(null===(r=a.imgStyle)||void 0===r?void 0:r.backgroundColor)||null===(o=a.imgStyle)||void 0===o?void 0:o.backgroundColor),a.fontColor=null===(i=a.textStyle)||void 0===i?void 0:i.color,a.hasCrossDressing=!0,a}}},{key:"componentDidMount",value:function(){var e=this;this.eventListener=!Object(J.F)()&&B.a.addListener("NativeCallAction",(function(t){if(t){var n,r,o;if("login"===t.service&&"isLogin"===t.action)if((null===(n=t.param)||void 0===n?void 0:n.isLogin)!==e.state.isLogin)e.setState({isLogin:null===(r=t.param)||void 0===r?void 0:r.isLogin},(function(){e._updateTagStore()}));if("groupID"===t.action&&"saveValueState"===t.service)e.setState({isLogin:!0,groupTags:(null==t||null===(o=t.param)||void 0===o?void 0:o.groupTags)||[]})}})),this._isLogin(),this.lister1=B.a.addListener("isLogin",(function(t){t||(e._isLogin(),!e.state.isLogin&&e._toLogin())}))}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.lister1&&this.lister1.remove()}},{key:"_isLogin",value:(t=tt()(Ze.a.mark((function e(){var t,n=this;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gt.a.isApp()){e.next=4;break}Yt.a.invokeVmallNative("common","getLoginAndGroupInfo",{}).then((function(e){e&&(n.state.isLogin!==Boolean(e.isLogin)&&n.setState({isLogin:!!e.isLogin,groupTags:e.isLogin&&e.groupTags||[]}),n._updateTagStore())})).catch((function(){!1!==n.state.isLogin&&n.setState({isLogin:!1})})),e.next=8;break;case 4:return e.next=6,Object(J.k)();case 6:t=e.sent,this.setState({isLogin:t});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(!this._isShowCoupon()){var t=this.props.pageType,n=fn.negativeMargeTop8;return t!==Ve.g.homePage&&(n=fn.negativeMargeTop12),L.a.createElement(A.a,{style:n})}var r=this.state,o=r.isLogin,i=r.mergeStyle,a=r.moreActionUrl,l=this.props,s=l.configInfo.layoutType,c=l.configInfo,u=l.pageType,d=l.styleChange,p=this._isPc()?A.a:dn.a,f=this._isPc()?dn.a:A.a;return L.a.createElement(H.b,{themeStyles:pn},(function(t,n,r){return r=Object(J.F)()?Object(J.x)().screenWidth:r,e.handleStyleChange(d,r),L.a.createElement(p,{imgUri:null==i?void 0:i.bgImg,imgViewStyle:null==i?void 0:i.imgStyle,isFromPersonal:!0},L.a.createElement(U.a,null,L.a.createElement(f,{imgUri:null==i?void 0:i.bgImg,imgViewStyle:null==i?void 0:i.imgStyle,isFromPersonal:!0},L.a.createElement(un.a,{isDisplayTitleBar:"true"===c.titleShow,title:c.cardTitle,isDisplayMore:"2"===c.more,subTitle:null!=c&&c.moreTitle?null==c?void 0:c.moreTitle:Object(ut.b)("notice_more"),moreUrl:a,onClickMore:e._onClickMore,showSetting:null==c?void 0:c.showSetting,imgNormal:null==c?void 0:c.imgNormal,imgDarkMode:null==c?void 0:c.imgDarkMode,styleChange:i,pageType:u,boxWidth:r}),"ScrollLayoutOne"!==s||Gt.a.isPc(jt.a.get("window").width)?L.a.createElement(sn,v()({isLogin:o},e.props,{pageType:u,mergeStyle:i,_styles:t,theme:n,width:r})):L.a.createElement(rn,v()({isLogin:o},e.props,{pageType:u,mergeStyle:i,_styles:t,theme:n,width:r})))))}))}}]),o}(L.a.PureComponent))||an,vn=Object(_.a)(yn),bn=n(1018),wn={clickItem:function(e){var t=this.props,n=t.pageCatCode,r=t.pageCatName,o=t.resSiteCode,i=t.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"点击预约活动-"+(null==e?void 0:e.activityName),eventType:ue.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{comId:e.id.toString(),gotoURL:e.url?e.url:"",dataCode:e.activityCode,dataType:"活动",clickType:"30"},resSiteCode:o,resSiteName:i,pageCatCode:n,pageCatName:r}}}};function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=function(e){var t;return K.a.create({headerPcBox:{width:1200,marginLeft:"auto",marginRight:"auto"},container:{marginLeft:"auto",marginRight:"auto"},mainBox:{paddingLeft:16,paddingRight:16},mainBoxPad:{paddingLeft:24,paddingRight:24},mainBoxPc:{paddingLeft:0,paddingRight:0},containerPc:{display:"flex",flexDirection:"column"},prdTagsPlaceholder:{maxWidth:120,overflow:"hidden",color:"transparent",display:"flex",flexShrink:0},prdTagsPlaceholderApp:{fontSize:e.T4.fontSize,paddingLeft:3,paddingRight:3,marginLeft:3},prdTagsPlaceholderPc:{fontSize:e.T9.fontSize,paddingLeft:4,paddingRight:4,marginLeft:4},prdTagsPlaceholderPad:{fontSize:e.T4.fontSize,paddingLeft:3,paddingRight:3,marginLeft:3},prdTagsPlaceholderHorizontalPad:{fontSize:e.T12.fontSize,paddingLeft:4.55,paddingRight:4.55,marginLeft:8},prdBox:{width:"100%",flexDirection:"row",backgroundColor:e.S31.backgroundColor,borderRadius:16,overflow:"hidden"},prdBoxPad:{width:"100%",flexDirection:"row"},prdBoxApp:{flexDirection:"column"},prdBoxPc:{padding:0,borderRadius:0},isPadHorizontal:{flexDirection:"row"},topContent:{alignItems:"center",justifyContent:"center",borderRadius:16,width:"100%",height:jt.a.get("window").width-32},topContentPad:{borderRadius:16,height:254,width:"64.3581081081081%"},topContentHorizontalPad:{borderRadius:16,width:"64.35860655737705%",height:418.76,marginRight:0,marginLeft:0},topContentPc:{width:"100%",height:550,position:"relative"},img:{width:jt.a.get("window").width-32,height:jt.a.get("window").width-32},imgPc:{width:"100%",height:"100%"},imgPad:{width:"100%",height:"100%"},defaultImg:{},imgAd:{borderRadius:8},stockArea:{position:"absolute",left:0,top:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.38)"},stockBox:{alignItems:"center",justifyContent:"center",width:60,height:60,backgroundColor:"rgba(0,0,0,0.38)",borderRadius:60},stockBoxPc:{width:120,height:120,borderRadius:120},stockTitle:{fontFamily:q.a.fontFamilyBase,color:"#fff",fontSize:10},stockTitlePc:{fontSize:16},imgTopPromInfoWrapPc:{maxWidth:243},imgTopPromInfoApkOrIos:{lineHeight:13,height:14},prdCont:{flex:1,justifyContent:"space-between",borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:12,paddingRight:12},prdContPad:{paddingLeft:0,marginLeft:4},prdContPc:{textAlign:"left"},prdContTop:{height:52},textView:{height:61},prdTagNameWrap:{flexDirection:"row",alignItems:"center"},prdTagNamePc:{maxWidth:352},prdTagText:Cn(Cn(Cn({},e.T3),e.C33),{},{lineHeight:12}),prdTagNameWrapPc:{justifyContent:"center"},prdTag:Cn(Cn(Cn({},e.C17),e.T0),{},{borderRadius:4,maxWidth:120,paddingLeft:4,paddingRight:4,paddingTop:1,paddingBottom:0,marginRight:4,position:"absolute",top:.5,left:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),prdTagMp:Cn(Cn(Cn({},e.C17),e.T0),{},{color:e.C33.color,fontSize:e.T4.fontSize,display:Object(J.F)()?"inline-block":"none",height:18,lineHeight:16,borderRadius:4,maxWidth:120,paddingLeft:4,paddingRight:4,left:0,marginRight:4,marginBottom:-4,paddingTop:.5,textAlign:"center",overflow:"hidden"}),prdTagApp:{top:1},prdTagTextApp:{color:e.C33.color,fontSize:e.T4.fontSize,height:18,lineHeight:16,display:"flex",alignItems:"center",justifyContent:"center"},prdTagTextPc:{color:e.C33.color,fontSize:e.T9.fontSize,height:24,lineHeight:24,paddingLeft:4,paddingRight:4,maxWidth:120},prdTagTextPad:{color:e.C33.color,fontSize:e.T4.fontSize,height:18,lineHeight:16,display:"flex",alignItems:"center",justifyContent:"center"},prdTagHorizontalPad:{color:e.C33.color,fontSize:e.T12.fontSize,height:30,lineHeight:28,display:"flex",alignItems:"center",justifyContent:"center"},prdTagPc:{top:4,borderRadius:7.38,alignItems:"flex-start",paddingLeft:0,paddingRight:0},prdTagApkOrIos:{position:"absolute",top:3,left:0,alignItems:"center"},prdName:Cn(Cn({},e.T9),e.C11),prdNamePc:Cn(Cn(Cn({},e.T13),e.C12),{},{textAlign:"center"}),prdNameAll:{display:"flex",flexDirection:"row"},prdNameApp:Cn(Cn({},e.T10),e.C12),prdNamePad:Cn(Cn(Cn({},e.T10),e.C12),{},{fontWeight:"500"}),prdNameHorizontalPad:Cn(Cn({},e.T13),e.C12),prdNameBtTextH:{height:16},prdNameBtTextHPc:{height:19,marginTop:4},prdNameBtTextHPcHome:{height:19},promName:Cn(Cn(Cn({},e.T3),e.C14),{},{lineHeight:16}),promNamePc:Cn(Cn({},e.T7),{},{lineHeight:18}),priceBox:{justifyContent:"flex-start",alignItems:"flex-end",flexDirection:"row",height:21},priceBoxPc:{justifyContent:"flex-start",lineHeight:21,marginTop:16},priceBoxApp:{position:"absolute",bottom:4},priceBoxPad:{position:"absolute",bottom:4},priceBoxPcHome:{marginTop:10},priceMark:Cn(Cn({marginRight:2,marginTop:10,color:e.C18.color},e.T4),{},{fontWeight:"700"}),priceMarkPc:{marginRight:0,color:e.C18.color,fontSize:e.T9.fontSize},newPrice:Cn(Cn(Cn({},e.T10),e.C18),{},{lineHeight:16,fontWeight:"600"}),newPricePc:Cn(Cn({},e.T10),{},{lineHeight:16,fontWeight:"600"}),newPriceApp:{},newPriceApkOrIos:{lineHeight:22,overflow:"visible",height:20},oldPricePc:{fontSize:e.T3.fontSize},oldPrice:Cn(Cn({marginLeft:5,marginBottom:1.3,textDecorationLine:"line-through"},e.T1),e.C14),priceQi:Cn(Cn({marginLeft:2,color:e.C18.color},e.T4),{},{fontWeight:"600"}),promTagBox:{justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflow:"hidden"},promTagBoxPc:{justifyContent:"center"},promTagsAreaH:{height:16,marginTop:4},promTagsAreaHPc:{height:16,marginTop:8},promTagsAreaHApkOrIos:{height:14},promTagText:Cn(Cn({},e.T1),{},{color:"#CF0A2C",borderWidth:1,borderColor:(null==e||null===(t=e.C41)||void 0===t?void 0:t.color)||"rgba(207, 10, 44,.4)",borderRadius:4,marginRight:2,paddingLeft:4,paddingRight:4,height:16,lineHeight:16}),promTagTextPc:Cn(Cn({},e.T3),{},{lineHeight:16}),promTagTextApkOrIos:{lineHeight:13.5,height:14},reviewBox:Cn(Cn({flexDirection:"row",flexWrap:"wrap"},e.C14),{},{lineHeight:14}),reviewBoxPc:Cn(Cn({},e.T3),{},{justifyContent:"center"}),reviewAreaH:{height:14,marginTop:4},reviewAreaHPc:{height:16,marginTop:8},reviewNum:Cn({},e.T1),reviewRate:Cn(Cn({},e.T1),{},{marginLeft:16}),btnStyleView:{width:268,height:40,borderRadius:23,marginTop:52,marginLeft:"auto",marginRight:"auto"},btnStyleViewApp:{minWidth:101,height:28,borderRadius:14},btnStyleViewPad:{width:122,height:28,borderRadius:14,marginTop:32},btnStyleViewPadHor:{width:200,height:46.16,borderRadius:23,marginTop:52.11},btnBorder:{borderRadius:14},btnBorPadHor:{borderRadius:23.08},btnBorderPc:{borderRadius:23.08},btnStyleText:Cn(Cn({},e.T4),{},{color:"#FFFFFF",textAlign:"center",display:"flex",alignContent:"center",justifyContent:"center"}),btnborderText:Cn(Cn({},e.T11),e.C18),btnStylePcText:{fontSize:18,height:40,lineHeight:40},btnStyleAppText:{fontSize:12,lineHeight:28,paddingLeft:27,paddingRight:27},btnStylePadText:{fontSize:12,lineHeight:28},btnStyleTextHorizontalPad:{fontSize:19.78,lineHeight:46.16},btnBorderView:Cn(Cn(Cn(Cn({width:64,height:28},e.T1),e.C18),e.S15),{},{borderWidth:1,borderRadius:16,justifyContent:"center",alignItems:"center"}),prdItemHover:Cn({},e.S42),wordBox:{marginTop:14,paddingLeft:12,paddingRight:12,paddingBottom:16},innerBoxPc:{maxWidth:1200,height:550,position:"absolute",zIndex:2,width:1200,left:"50%",marginLeft:-600},innerBoxPad:{width:"35.6418918918919%",paddingLeft:16,paddingRight:12,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},innerBoxHorizontalPad:{display:"flex",alignItems:"center",justifyContent:"center"},wordBoxPc:{position:"absolute",top:60,right:0,width:400,height:430,borderRadius:4,backgroundColor:"rgba(255,255,255,0.90)",alignItems:"center",justifyContent:"center",paddingLeft:24,paddingRight:24},wordBoxtPad:{width:"100%"},wordBoxHorizontalPad:{},promTime:Cn(Cn({},e.C14),e.T3),promTimeName:{marginTop:6},promTimeNamePc:Cn(Cn({marginTop:12},e.T11),e.C14),promTimeNamePad:{marginTop:6},promTimeNameHorizontalPad:Cn(Cn({marginTop:9.14},e.T12),e.C14),btmBox:{flexDirection:"row",justifyContent:"flex-end",alignItems:"center",height:28,marginTop:16},orderBox:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:16,flexGrow:1,flexBasis:"0%"},orderBoxApp:{marginTop:0},orderBoxPc:{marginTop:32,display:"flex",justifyContent:"center",alignItems:"center"},orderBoxHorizontalPad:{marginTop:26.76},orderNum:Cn(Cn(Cn({borderRadius:4,borderStyle:"solid",borderWidth:.5,borderColor:e.C18.color},e.C18),e.T3),{},{lineHeight:16,paddingLeft:4,paddingRight:4,marginRight:6,textAlign:"center"}),orderNumApp:{height:17,marginRight:2},orderNumPc:Cn(Cn({},e.T11),{},{lineHeight:22,paddingLeft:6,paddingRight:6}),orderNumHorizontalPad:Cn(Cn({},e.T12),e.C18),orderText:Cn(Cn({},e.C15),e.T3),orderTextPc:Cn(Cn({},e.T11),{},{lineHeight:22}),orderTextHorizontalPad:Cn(Cn({},e.T11),{},{lineHeight:22})})},Pn=n(145),Tn=n(446),xn=n(45),In=n.n(xn),kn=n(24),En=n(73),jn=n(23);function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Ln=ne.a.wapDomain,_n=function(e){P()(o,e);var t,n=Rn(o);function o(e){var t;return w()(this,o),t=n.call(this,e),j()(N()(t),"lister3",void 0),j()(N()(t),"submitAppointment",0),j()(N()(t),"originWidth",void 0),j()(N()(t),"originHeight",void 0),j()(N()(t),"antiShake",!1),j()(N()(t),"item",void 0),j()(N()(t),"_panResponder",void 0),j()(N()(t),"reg",new RegExp("[\\u4E00-\\u9FFF]+","g")),j()(N()(t),"tokenCount",0),j()(N()(t),"clickedOrder",!1),j()(N()(t),"getSize",(function(){var e=t.originWidth||Object(J.x)(t.props.pageType||"homePage").screenWidth;return Object(nt.a)(e)})),j()(N()(t),"isPc",(function(){return"large"===t.getSize()})),j()(N()(t),"isPad",(function(){return"medium"===t.getSize()})),j()(N()(t),"isApp",(function(){return"small"===t.getSize()})),j()(N()(t),"isApkOrIos",(function(){return"android"===r.a.OS||"ios"===r.a.OS})),j()(N()(t),"getWidth",(function(){return t.originWidth||Object(J.x)(t.props.pageType||"homePage").screenWidth})),j()(N()(t),"getHeight",(function(){return t.state.screenHeight||Object(J.x)(t.props.pageType||"homePage").screenHeight})),j()(N()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"android"===r.a.OS?Pn.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(J.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(J.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(J.x)(t.props.pageType||"homePage").screenHeight)}))})),j()(N()(t),"isPadHorizontal",(function(){return t.isPad()&&t.getWidth()>=t.getHeight()})),j()(N()(t),"isL2r",(function(){return"l2r"===t.props.type})),j()(N()(t),"handlePress",(function(){if(Object(J.F)()&&t.clickedOrder)t.clickedOrder=!1;else{if(t.antiShake)return!1;t.antiShake=!0,setTimeout((function(){t.antiShake=!1}),1e3);var e=t.props.data,n=e.appLinkUrl,r=e.wapLinkUrl,o=e.pcLinkUrl,i="true"===t.props.configData.otherAreaClickSwitch,a=t.isApkOrIos()?n:t.isPc()?o:r;i&&Object(J.A)(a);var l=t.props.onClick;l&&i&&l()}})),j()(N()(t),"getLogin",(function(){var e="";"android"===r.a.OS||"ios"===r.a.OS?(e="vmall://com.vmall.client/home/login",Object(J.A)(e)):Object(J.F)()?Object(J.u)():"web"===r.a.OS&&(e=t.isPc()?"/account/login?url="+encodeURIComponent(window.location.href)+"&_t="+(new Date).getTime():Ln+"account/applogin?url="+encodeURIComponent(Object(En.a)(window.location.href))+"&_t="+(new Date).getTime(),Object(J.A)(e))})),j()(N()(t),"loginAppointment",(function(e){var t="".concat(ze.a.openApiDomain,"mcp/activity/loginAppointment");return e.portal=e.portal?e.portal:"1",e.lang=e.lang?e.lang:Ve.e.CN,e.country=e.country?e.country:Ve.d.CN,e.version=e.version?e.version:1,He.a.post(t,e)})),t.state={screenHeight:0,subscribe:0,width:Object(J.x)(t.props.pageType).screenWidth},t}return C()(o,[{key:"componentWillMount",value:function(){Object(J.F)()||(this._panResponder=Tn.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"componentDidMount",value:(t=tt()(Ze.a.mark((function e(){var t=this;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.t1=this.props.data.reservationNumber,e.next=4,this.getScreenHeight();case 4:e.t2=+e.sent,e.t3={subscribe:e.t1,screenHeight:e.t2},e.t0.setState.call(e.t0,e.t3),this.lister3=!Object(J.F)()&&B.a.addListener("switchScreenDir",function(){var e=tt()(Ze.a.mark((function e(n){return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.getScreenHeight();case 3:e.t1=+e.sent,e.t2={screenHeight:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.lister3&&this.lister3.remove()}},{key:"apkSubmit",value:function(e){var t=this,n=this.props.pageType,r=function(e){try{"200916"===e.resultCode?t.getLogin():"4003"===e.ret?B.a.emit("showToast",{text:Object(ut.b)("errorNetwork"),pageType:n}):e.msg?B.a.emit("showToast",{text:e.msg,pageType:n}):B.a.emit("showToast",{text:Object(ut.b)("systemBusy"),pageType:n})}catch(e){B.a.emit("showToast",{text:Object(ut.b)("systemBusy"),pageType:n})}},o={version:"1",portal:"3",activityCode:this.props.data.activityCode};this.loginAppointment(o).then((function(e){e.success?(B.a.emit("showToast",{text:Object(ut.b)("appointment_successful"),pageType:n}),t.setState({subscribe:t.state.subscribe+1})):r(e)})).catch((function(e){r(e)}))}},{key:"immediatelyOrder",value:function(e){var t=this;Object(J.F)()&&(this.clickedOrder=!0);var n=this.props,o=n.data,i=n.onClick,a=n.pageType;i&&i();var l=Object(J.o)(this.getWidth());if("android"===r.a.OS||"ios"===r.a.OS)return this.apkSubmit(l),!1;var s=function(e){var n=Object(J.F)()?e:e.data;try{"200916"==n.resultCode?t.getLogin():n.msg&&B.a.emit("showToast",{text:n.msg,pageType:a})}catch(e){t.tokenCount<2?(t.immediatelyOrder(""),t.tokenCount++):B.a.emit("showToast",{text:Object(ut.b)("systemBusy"),pageType:a})}},c=function(e){if(Object(J.F)()&&e||null!=e&&e.data){var n=(null!=e&&e.data?null==e?void 0:e.data:e).replace(/^[\s\S]*csrftoken\s=\s"([a-zA-Z0-9-]+)";[\s\S]*$/g,"$1"),r={portal:l,activityCode:o.activityCode,CsfrToken:n};t.loginAppointment(r).then((function(e){e.success?(B.a.emit("showToast",{text:Object(ut.b)("appointment_successful"),pageType:a}),t.setState({subscribe:t.state.subscribe+1})):s(e)})).catch((function(e){s(e)}))}else B.a.emit("showToast",{text:Object(ut.b)("systemBusy"),pageType:a})};Object(jn.f)().then((function(e){c(e)})).catch((function(e){c(e)}))}},{key:"writeTag",value:function(e,t){var n=this.isPc,o=this.isPad,i=this.isApp,a=this.isPadHorizontal;return"web"===r.a.OS?L.a.createElement(se.a,{style:[e.prdTagsPlaceholder,i()&&e.prdTagsPlaceholderApp,n()&&e.prdTagsPlaceholderPc,o()&&e.prdTagsPlaceholderPad,a()&&e.prdTagsPlaceholderHorizontalPad]},this.tagLimit(t)):L.a.createElement(se.a,{style:[e.prdTagsPlaceholder,i()&&e.prdTagsPlaceholderApp,n()&&e.prdTagsPlaceholderPc,o()&&e.prdTagsPlaceholderPad,a()&&e.prdTagsPlaceholderHorizontalPad]},this.tagLimit(t),"    ")}},{key:"tagLimit",value:function(e){return e&&"string"==typeof e&&e.length>9?e.substring(0,9):e}},{key:"touchable",value:function(e,t,n){var r=this,o=this.props,i=o.data,a=o.configData,l=(o.iWidth,o.iHeight,o.cardWidth,this.isPc),s=this.isPad,c=this.isApp,u=this.isPadHorizontal;return L.a.createElement(G.a,{onPress:this.handlePress,activeOpacity:.7,style:[e.prdBox,s()&&e.prdBoxPad,l()&&e.prdBoxPc,c()&&e.prdBoxApp,l()&&n&&e.prdItemHover,u()&&e.isPadHorizontal]},L.a.createElement(A.a,{style:[e.topContent,c()&&{height:this.getWidth()-32},l()&&e.topContentPc,s()&&e.topContentPad,u()&&e.topContentHorizontalPad,(null==a?void 0:a.bgColor)&&{backgroundColor:a.bgColor},s()&&{height:.6435*(this.getWidth()-32)/1.5}]},L.a.createElement(kn.a,{resizeMode:"contain",imgUri:l()?i.pcBgImgUrl:i.bgImgUrl,imgStyle:[l()&&e.imgPc,s()&&e.imgPad,c()&&{width:Object(J.F)()?this.getWidth()-64:this.getWidth()-32,height:this.getWidth()-32}]})),L.a.createElement(A.a,{style:[l()&&e.innerBoxPc,s()&&e.innerBoxPad,u()&&e.innerBoxHorizontalPad]},L.a.createElement(A.a,{style:[c()&&e.wordBox,l()&&e.wordBoxPc,s()&&e.wordBoxtPad,u()&&e.wordBoxHorizontalPad]},Object(J.F)()?L.a.createElement(se.a,{numberOfLines:null!=a&&a.prdNameNum?a.prdNameNum:2,ellipsizeMode:"tail",style:[e.prdName,c()&&e.prdNameApp,s()&&e.prdNamePad,u()&&e.prdNameHorizontalPad,{wordBreak:"break-all"}]},i.tag?L.a.createElement(se.a,{style:[e.prdTagMp,s()&&{color:t.C33.color,fontSize:t.T4.fontSize,height:18,lineHeight:16},u()&&{color:t.C33.color,fontSize:t.T12.fontSize,height:30,lineHeight:28,marginBottom:-6},{background:"linear-gradient(to right,#CF0A2C, #FF2D4E)"}]},this.tagLimit(i.tag)):null,i.activityName):L.a.createElement(A.a,{style:[e.prdTagNameWrap,l()&&e.prdTagNamePc]},i.tag?L.a.createElement(In.a,{start:{x:0,y:0},end:{x:1,y:0},colors:[t.J5[0],t.J5[1]],style:[e.prdTag,c()&&e.prdTagApp,l()&&e.prdTagPc]},L.a.createElement(se.a,{style:[c()&&e.prdTagTextApp,l()&&e.prdTagTextPc,s()&&e.prdTagTextPad,u()&&e.prdTagHorizontalPad]},this.tagLimit(i.tag))):null,L.a.createElement(se.a,{style:[e.prdNameAll,c()&&e.prdNameApp,l()&&e.prdNamePc,s()&&e.prdNamePad,u()&&e.prdNameHorizontalPad],numberOfLines:null!=a&&a.prdNameNum?a.prdNameNum:2,ellipsizeMode:"tail"},i.tag&&this.writeTag(e,i.tag),i.activityName)),L.a.createElement(se.a,{style:[e.promTime,c()&&e.promTimeName,l()&&e.promTimeNamePc,s()&&e.promTimeNamePad,u()&&e.promTimeNameHorizontalPad],numberOfLines:1,ellipsizeMode:"tail"},i.promotion),L.a.createElement(A.a,{style:[c()&&e.btmBox,l()&&e.btmBoxPc,s()&&e.btmBoxPad,u()&&e.btmBoxHorizontalPad]},"true"==(null==a?void 0:a.subscribeNumShow)&&L.a.createElement(A.a,{style:[e.orderBox,c()&&e.orderBoxApp,l()&&e.orderBoxPc,u()&&e.orderBoxHorizontalPad]},L.a.createElement(se.a,{style:[e.orderNum,c()&&e.orderNumApp,l()&&e.orderNumPc,u()&&e.orderNumHorizontalPad,Object(J.F)()&&"ios"===Object(J.m)()&&{height:16}]},this.state.subscribe),L.a.createElement(se.a,{style:[e.orderText,l()&&e.orderTextPc,u()&&e.orderTextHorizontalPad]},Object(ut.b)("person_has_made_an_appointment").replace(/%[s]/,""))),L.a.createElement(G.a,{onPress:function(e){r.immediatelyOrder(e)},activeOpacity:1,style:[l()&&e.btnStyleView,c()&&e.btnStyleViewApp,s()&&e.btnStyleViewPad,u()&&e.btnStyleViewPadHor]},Object(J.F)()?L.a.createElement(se.a,{style:[e.btnBorder,e.btnStyleText,l()&&e.btnBorderPc,u()&&e.btnBorPadHor,l()&&e.btnStylePcText,c()&&e.btnStyleAppText,s()&&e.btnStylePadText,u()&&e.btnStyleTextHorizontalPad,{background:"#D20A2C"}]},"default"==i.button||""==i.button?"立即预约":i.button):L.a.createElement(In.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#D20A2C","#D20A2C"],style:[e.btnBorder,l()&&e.btnBorderPc,u()&&e.btnBorPadHor]},L.a.createElement(se.a,{style:[e.btnStyleText,l()&&e.btnStylePcText,c()&&e.btnStyleAppText,s()&&e.btnStylePadText,u()&&e.btnStyleTextHorizontalPad]},"default"==i.button||""==i.button?"立即预约":i.button)))))))}},{key:"loadPage",value:function(e,t,n){var o;return o=this.isPc()?"100%":this.isPad()?this.getWidth()-48:this.getWidth()-32,"web"===r.a.OS?L.a.createElement(A.a,v()({style:[e.container,{width:o}]},this._panResponder.panHandlers),this.touchable(e,t,n)):L.a.createElement(A.a,{style:[e.container,{width:o}]},this.touchable(e,t,n))}},{key:"render",value:function(){var e=this;return L.a.createElement(H.b,{themeStyles:On},(function(t,n,r){return e.originWidth=Object(J.F)()?Object(J.x)().screenWidth:r,e.isPc()?L.a.createElement(z.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),o}(L.a.Component);j()(_n,"defaultProps",{data:{}});var Dn=_n;function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Wn=function(e){P()(n,e);var t=Nn(n);function n(e){var o;return w()(this,n),o=t.call(this,e),j()(N()(o),"setChangeStyle",(function(){if(o.props.styleChange){var e=Object(J.i)(o.props.styleChange,o.getSize());e&&o.setState({crossDressingStyle:e})}})),j()(N()(o),"initWidth",(function(e){o.state.width!==e&&o.setState({width:e},(function(){o.setChangeStyle()}))})),j()(N()(o),"getSize",(function(){var e=o.getItemWidth().width;return Object(nt.a)(e)})),j()(N()(o),"isPc",(function(){return"large"===o.getSize()})),j()(N()(o),"isPad",(function(){return"medium"===o.getSize()})),j()(N()(o),"isApp",(function(){return"small"===o.getSize()})),j()(N()(o),"isApkOrIos",(function(){return"android"===r.a.OS||"ios"===r.a.OS})),o.state={crossDressingStyle:{bgImg:"",imgStyle:{},textStyle:{}},width:Object(J.x)(o.props.pageType).screenWidth},o}return C()(n,[{key:"componentDidMount",value:function(){this.setChangeStyle()}},{key:"onPress",value:function(e){var t=this.props,n=t.pageCatCode,r=t.pageCatName,o=t.resSiteCode,i=t.resSiteName;if(e.id=this.props.id,e.url=e.moreActionUrl,this.isApkOrIos())e.url=e.appLinkUrl,this.props.clickItem(e);else if(this.isPc())e.url=e.pcLinkUrl,this.props.clickItem(e);else if(Object(J.F)()){var a,l;Object(fe.a)({actionCode:Object(J.n)().platformType+Object(J.n)().eventID,actionName:"点击预约活动-"+(null==e?void 0:e.activityName),eventType:ue.e.EVENT_TYPE_CLICK,pageId:null===(a=this.props.pageId)||void 0===a?void 0:a.toString(),pageCatCode:n,pageCatName:r,resSiteCode:o,resSiteName:i,content:{comId:null==e||null===(l=e.id)||void 0===l?void 0:l.toString(),gotoURL:e.wapLinkUrl?e.wapLinkUrl:"",dataCode:e.activityCode,dataType:"活动",clickType:"30"}})}else e.url=e.wapLinkUrl,this.props.clickItem(e)}},{key:"getItemWidth",value:function(){return{width:"web"===r.a.OS?jt.a.get("window").width:Object(J.x)(this.props.pageType).screenWidth,height:"web"===r.a.OS?jt.a.get("window").height:Object(J.x)(this.props.pageType).screenHeight}}},{key:"loadPage",value:function(){var e=this;return this.props.orderData.map((function(t){return L.a.createElement(Dn,v()({},e.props,{data:t,onClick:function(){e.onPress(t)}}))}))}},{key:"renderMain",value:function(e){var t=this.props,n=t.configData,r=t.styleChange;return L.a.createElement(L.a.Fragment,null,Object(J.F)()?L.a.createElement(un.a,{isDisplayTitleBar:n.titleShow,title:n.cardTitle,subTitle:null==n?void 0:n.moreTitle,moreUrl:Object(J.l)(n),showSetting:null==n?void 0:n.showSetting,imgNormal:null==n?void 0:n.imgNormal,imgDarkMode:null==n?void 0:n.imgDarkMode,styleChange:r}):L.a.createElement(A.a,{style:[this.isPc()&&e.headerPcBox]},L.a.createElement(un.a,{isDisplayTitleBar:n.titleShow,title:n.cardTitle,subTitle:null==n?void 0:n.moreTitle,moreUrl:Object(J.l)(n),showSetting:null==n?void 0:n.showSetting,imgNormal:null==n?void 0:n.imgNormal,imgDarkMode:null==n?void 0:n.imgDarkMode,styleChange:r})),L.a.createElement(A.a,{ref:this.receiveRef,style:[e.mainBox,this.isPad()&&e.mainBoxPad,this.isPc()&&e.mainBoxPc]},this.loadPage()))}},{key:"render",value:function(){var e=this;return L.a.createElement(H.b,{themeStyles:On},(function(t,n,r){return r=Object(J.F)()?Object(J.x)(e.props.pageType).screenWidth:r,e.initWidth(r),e.state.crossDressingStyle.bgImg?L.a.createElement(bn.a,{style:[e.state.crossDressingStyle.imgStyle],source:{uri:e.state.crossDressingStyle.bgImg},resizeMode:"stretch"},e.renderMain(t)):L.a.createElement(A.a,{style:[e.state.crossDressingStyle.imgStyle]},e.renderMain(t))}))}}]),n}(R.Component),An=Object(_.a)(Object(ce.a)(wn)(Object(Ne.a)(Wn))),Bn=n(302),Mn=n(269),Fn=n(184),Hn=n(206),zn=n(431),Un=function(e){return K.a.create({mgH16:{marginHorizontal:16},mgH24:{marginHorizontal:24},wrap:{overflow:"hidden",zIndex:3,height:48,borderRadius:16},lg:{position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%"},cdContent:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",zIndex:2,height:48},copywriting:{marginRight:8,maxWidth:160,height:48,lineHeight:48,fontSize:e.T8.fontSize,fontWeight:e.T8.fontWeight,color:"#fff"},copywritingPc:{fontFamily:q.a.fontFamilyBase,marginRight:8,maxWidth:160,height:48,lineHeight:48,textAlign:"left",fontSize:e.T11.fontSize,fontWeight:e.T11.fontWeight,color:"#fff"},mr8:{marginRight:8},dayNum:{paddingHorizontal:2,minWidth:24,height:24,lineHeight:24,backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:2,textAlign:"center",fontSize:e.T8.fontSize,fontWeight:e.T8.fontWeight,color:"#CF0A2C"},dayNumPc:{paddingHorizontal:2,fontFamily:q.a.fontFamilyMedium,minWidth:32,height:32,lineHeight:32,backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:2,textAlign:"center",fontSize:e.T11.fontSize,fontWeight:e.T11.fontWeight,color:"#CF0A2C"},timeNum:{width:24,height:24,lineHeight:24,backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:2,textAlign:"center",fontSize:e.T8.fontSize,fontWeight:e.T8.fontWeight,color:"#CF0A2C",overflow:"ios"===r.a.OS?"hidden":"visible"},timeNumPc:{width:32,height:32,fontFamily:q.a.fontFamilyMedium,lineHeight:32,backgroundColor:"rgba(255, 255, 255, 1)",borderRadius:2,textAlign:"center",fontSize:e.T11.fontSize,fontWeight:e.T11.fontWeight,color:"#CF0A2C"},colon:{width:10.5,height:48,lineHeight:46,textAlign:"center",fontSize:15,fontWeight:e.T8.fontWeight,color:"#fff"},colonPc:{width:13,height:48,lineHeight:48,fontFamily:"HYQiHei-FES",textAlign:"center",fontSize:15,fontWeight:"500",color:"#fff"},darkBg:{backgroundColor:"rgba(255, 255, 255, 0.86)"},darkFont:{color:"rgba(255, 255, 255, 0.86)"}})};function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Gn=function(e){P()(n,e);var t=Vn(n);function n(e){var r;return w()(this,n),r=t.call(this,e),j()(N()(r),"timer",null),j()(N()(r),"dateStr",""),j()(N()(r),"dayTime",864e5),j()(N()(r),"width",0),j()(N()(r),"title",void 0),j()(N()(r),"leftBg","rgba(255, 255, 255, 0)"),j()(N()(r),"rightBg","rgba(255, 255, 255, 0)"),j()(N()(r),"crossDressingStyle",void 0),j()(N()(r),"handleData",(function(){var e=r.props,t=e.configInfo,n=e.styleChange,o=e.comboStyleChange,i=r.props.width,a="",l=null,s="#FE5945",c="#D61A19";return t&&t.countDownText&&(a=t.countDownText).length>10&&(a=a.substring(0,10)+"..."),Object(J.D)(n)||(l=Object(J.i)(n,Object(nt.a)(i))),l&&l.bgImg?(s="rgba(255, 255, 255, 0)",c="rgba(255, 255, 255, 0)"):n&&n.bgColor&&(s=n.bgColor,c=n.bgColor),l&&l.imgStyle&&(l.imgStyle.borderRadius="large"===r.getSize()?0:16,l.imgStyle.overflow="hidden"),o&&(s="rgba(255, 255, 255, 0)",c="rgba(255, 255, 255, 0)"),{title:a,leftBg:s,rightBg:c,crossDressingStyle:l}})),j()(N()(r),"handleAppStateChange",(function(e){var t,n,o;"active"===e?null===(t=N()(r))||void 0===t||t.handleTime():null!==(n=N()(r))&&void 0!==n&&n.timer&&clearTimeout(null===(o=N()(r))||void 0===o?void 0:o.timer)})),j()(N()(r),"getSize",(function(){var e=r.props.width;return Object(nt.a)(e)})),j()(N()(r),"getDay",(function(){var e=r.state.day;return 1===e?Object(ut.b)("day.one").replace("%d",String(e)):Object(ut.b)("day.other").replace("%d",String(e))})),r.state={pageType:r.props.pageType||"activity",day:0,hour:"00",minute:"00",second:"00",showCountDown:!1},r}return C()(n,[{key:"componentDidMount",value:function(){this.handleData(),zn.a.addEventListener("change",this.handleAppStateChange),this.handleTime()}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer),zn.a.removeEventListener("change",this.handleAppStateChange)}},{key:"handleTime",value:function(){var e=this,t=this.props.configInfo||{},n=0,o=!1;if(t&&"cycleByDay"===t.countDownWay)o=!0;else if(t&&"byEndTime"===t.countDownWay){var i,a;n=t.countDownEndTime&&new Date(-1===(null===(i=t.countDownEndTime)||void 0===i?void 0:i.indexOf("T"))?null===(a=t.countDownEndTime)||void 0===a?void 0:a.replace(/-/g,"/"):t.countDownEndTime).getTime()}Object(jn.r)().then((function(t){var i=t&&1e3*t.serverTime||(new Date).getTime();if(o){var a=e.formatCurTime(i);n="ios"===r.a.OS?new Date(a+" 23:59:59").getTime()+1e3:"large"!==e.getSize()?new Date(a).getTime()+864e5:(new Date).setHours(0,0,0,0)+864e5-1}var l=n-i;l>1e3?e.setTime(l):(e.timer&&clearTimeout(e.timer),o?e.handleTime():e.setState({showCountDown:!1})),e.countFun(l,o)}))}},{key:"countFun",value:function(e,t){var n=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){if(e>=1e3){e-=1e3;var r=Math.floor(e/864e5),o=Math.floor(e/36e5%24),i=Math.floor(e/6e4%60),a=Math.floor(e/1e3%60);n.setState({showCountDown:!0,day:r+"",hour:o<10?"0"+o:o,minute:i<10?"0"+i:i,second:a<10?"0"+a:a}),n.countFun(e,t)}else if(clearTimeout(n.timer),t){var l=n.dayTime-1e3;n.setTime(l),n.countFun(l,t)}else n.setState({showCountDown:!1})}),1e3)}},{key:"setTime",value:function(e){var t=Math.floor(e/864e5),n=Math.floor(e/36e5%24),r=Math.floor(e/6e4%60),o=Math.floor(e/1e3%60);this.setState({showCountDown:!0,day:t+"",hour:n<10?"0"+n:n,minute:r<10?"0"+r:r,second:o<10?"0"+o:o})}},{key:"formatCurTime",value:function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"/"+t.getDate()}},{key:"render",value:function(){var e=this,t=this.state,n=t.day,r=t.hour,o=t.minute,i=t.second,a=t.showCountDown,l=Rt.a.darkBool,s=this.getSize();if(this.props.width!==this.width){this.width=this.props.width;var c=this.handleData();this.title=c.title,this.leftBg=c.leftBg,this.rightBg=c.rightBg,this.crossDressingStyle=c.crossDressingStyle}return a?L.a.createElement(H.b,{themeStyles:Un},(function(t){var a,c,u;return L.a.createElement(A.a,{style:"large"===s?{alignItems:"center"}:{}},L.a.createElement(dn.a,{style:["small"===s?t.mgH16:"large"===s?{width:1200}:t.mgH24],resizeMode:"stretch",imgViewStyle:null===(a=e.crossDressingStyle)||void 0===a?void 0:a.imgStyle,imgUri:null===(c=e.crossDressingStyle)||void 0===c?void 0:c.bgImg},L.a.createElement(A.a,{style:[t.wrap,"large"===s?{width:1200,height:80,alignItems:"center",justifyContent:"center",borderRadius:0}:{}]},L.a.createElement(In.a,{colors:[e.leftBg,e.rightBg],style:t.lg,start:{x:0,y:0},end:{x:1,y:0}}),L.a.createElement(A.a,{style:[t.cdContent]},L.a.createElement(se.a,{style:["large"===s?t.copywritingPc:t.copywriting,l&&t.darkFont,{marginRight:"large"===s?10:8}],numberOfLines:1},e.title),n>0&&L.a.createElement(L.a.Fragment,null,L.a.createElement(se.a,{style:["large"===s?t.dayNumPc:t.dayNum,t.mr8,l&&t.darkBg]},n),L.a.createElement(se.a,{style:["large"===s?t.copywritingPc:t.copywriting,l&&t.darkFont]},null===(u=e.getDay())||void 0===u?void 0:u.replace(n,"").trim())),L.a.createElement(se.a,{style:["large"===s?t.timeNumPc:t.timeNum,l&&t.darkBg]},r),L.a.createElement(se.a,{style:["large"===s?t.colonPc:t.colon,l&&t.darkFont]},":"),L.a.createElement(se.a,{style:["large"===s?t.timeNumPc:t.timeNum,l&&t.darkBg]},o),L.a.createElement(se.a,{style:["large"===s?t.colonPc:t.colon,l&&t.darkFont]},":"),L.a.createElement(se.a,{style:["large"===s?t.timeNumPc:t.timeNum,l&&t.darkBg]},i)))))})):L.a.createElement(L.a.Fragment,null)}}]),n}(R.Component),Yn=Object(_.a)(Gn);function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Kn,qn,Qn,$n=function(e){P()(n,e);var t=Jn(n);function n(e){var r;return w()(this,n),(r=t.call(this,e)).state={},r}return C()(n,[{key:"render",value:function(){var e=this;return L.a.createElement(H.b,{themeStyles:Un},(function(t,n,r){return L.a.createElement(Yn,v()({},e.props,{width:r}))}))}}]),n}(R.Component),Xn=Object(_.a)($n),Zn=n(298),er=n(304),tr=n(234),nr=n(266),rr=n(439),or=n(306),ir=n(307),ar=n(233),lr=n(141),sr=n(69),cr=n.n(sr),ur=n(270),dr=n(157),pr=n(1735),fr=n(433),hr=n(27),gr=n.n(hr),mr=n(18),yr=n.n(mr),vr=(n(60),n(16)),br=new(Kn=function(){function e(){w()(this,e),gr()(this,"keyword",qn,this),gr()(this,"source",Qn,this),"web"===r.a.OS&&(this.keyword=window.sessionStorage.getItem("keyword"))}return C()(e,[{key:"onUpdate",value:function(e){this.keyword=e,"web"===r.a.OS&&e&&window.sessionStorage.setItem("keyword",e)}},{key:"updateSource",value:function(e){this.source=e}}]),e}(),qn=yr()(Kn.prototype,"keyword",[vr.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qn=yr()(Kn.prototype,"source",[vr.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yr()(Kn.prototype,"onUpdate",[vr.d],Object.getOwnPropertyDescriptor(Kn.prototype,"onUpdate"),Kn.prototype),yr()(Kn.prototype,"updateSource",[vr.d],Object.getOwnPropertyDescriptor(Kn.prototype,"updateSource"),Kn.prototype),Kn);function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cr,Or={0:"1",2:"2",3:"3",1:"4"},Pr={exposeItem_product:function(e){var t=br.source,n={array:null==e?void 0:e.map((function(e,n){var r,o,i,a;return"recommend"===e.type?{Source:t,name:(null===(r=e[0])||void 0===r?void 0:r.type)||""}:"product"===e.type?{Source:t,searchWord:e.searchWord,searchSort:e.searchSort||"relevance",SKUCode:[null===(o=e.skuCode)||void 0===o?void 0:o.toString()],productId:[null===(i=e.productId)||void 0===i?void 0:i.toString()],location:null===(a=e.index)||void 0===a?void 0:a.toString(),attributeid:e.attributeid||[],attributename:e.attributename||[],ruleId:e.ruleId||"",exposure:"1",type:e.onPrd?"1":"2"}:void 0}))};return{isBatch:!0,commonData:{actionCode:"web"===r.a.OS?"200090401":"100090401",actionName:"商品曝光",eventType:ue.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId},content:n.array}},clickItem:function(e,t){var n=this.props.carrierCode||Object(J.q)("carrierCode"),o=this.props,i=o.resSiteCode,a=void 0===i?"":i,l=o.resSiteName,s=void 0===l?"":l,c=o.pageCatCode,u=void 0===c?"":c,d=o.pageCatName,p=void 0===d?"":d;return e.Source=br.source,"sort"===t?{data:{actionCode:"web"===r.a.OS?"200580006":"100660006",actionName:"用户点击排序按钮点击率",eventType:ue.e.EVENT_TYPE_CLICK,content:Sr(Sr({},e),{},{comId:this.props.id,type:"1",index:Or[e.id],CarrierCode:n}),resSiteCode:a,resSiteName:s,pageCatCode:u,pageCatName:p,pageId:this.props.pageId}}:"productTap"===t?{data:{actionCode:"web"===r.a.OS?"200580006":"100660006",actionName:"点击商品",eventType:ue.e.EVENT_TYPE_CLICK,content:Sr(Sr({},e),{},{comId:this.props.id,type:"2",CarrierCode:n}),resSiteCode:a,resSiteName:s,pageCatCode:u,pageCatName:p,pageId:this.props.pageId}}:"cateCard"===t?{data:{actionCode:"web"===r.a.OS?"200090203":"100090203",actionName:"便捷分类点击率",eventType:ue.e.EVENT_TYPE_CLICK,content:e,pageId:this.props.pageId}}:"filter"===t?{data:{actionCode:"web"===r.a.OS?"200090201":"100090201",actionName:"点击筛选按钮",eventType:ue.e.EVENT_TYPE_CLICK,content:e,pageId:this.props.pageId}}:"activity"===t?{data:{actionCode:"web"===r.a.OS?"200090602":"100090602",actionName:"活动模块点击",eventType:ue.e.EVENT_TYPE_CLICK,content:e,pageId:this.props.pageId}}:"condition"===t?{data:{actionCode:"web"===r.a.OS?"200090205":"100090205",actionName:"筛选侧边页用户筛选条件",eventType:ue.e.EVENT_TYPE_CLICK,content:e,pageId:this.props.pageId}}:void 0}},Tr=n(208),xr=n(19),Ir=n(318),kr=n(78),Er=n(68),jr=n(106),Rr=n(118),Lr=n(158);function _r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Dr,Nr,Wr={1:"l2r",0:"t2b"},Ar=["asc","desc"],Br=Object(re.c)(Cr=function(e){P()(o,e);var t,n=_r(o);function o(e){var t;return w()(this,o),t=n.call(this,e),j()(N()(t),"_panResponder",void 0),j()(N()(t),"_panResponderIos",void 0),j()(N()(t),"tid",""),j()(N()(t),"lister1",void 0),j()(N()(t),"lister2",void 0),j()(N()(t),"lister3",void 0),j()(N()(t),"lister4",void 0),j()(N()(t),"wapTimer",null),j()(N()(t),"wapTimer3",null),j()(N()(t),"eventListener",void 0),j()(N()(t),"loadMore",!0),j()(N()(t),"loadMore1",!0),j()(N()(t),"pageNum",1),j()(N()(t),"pageNum1",1),j()(N()(t),"pageSize",18),j()(N()(t),"pageSize1",18),j()(N()(t),"loadMore_r",!0),j()(N()(t),"pageNum_r",1),j()(N()(t),"pageSize_r",18),j()(N()(t),"id","search".concat((1e6*Math.random()).toFixed())),j()(N()(t),"customStyle",null),j()(N()(t),"attributeid",[]),j()(N()(t),"attributename",[]),j()(N()(t),"arry",[]),j()(N()(t),"canClick",!0),j()(N()(t),"curWinTop",0),j()(N()(t),"curTop",0),j()(N()(t),"slideDirection",""),j()(N()(t),"fixScreen",!1),j()(N()(t),"source",void 0),j()(N()(t),"isReport",!1),j()(N()(t),"originWidth",Object(J.x)(Ve.g.shop).screenWidth),j()(N()(t),"_searchRegexp",(function(e){var t="",n=/^[\f\n\r\t\v<>"'\(\)%\\`=&]{0,2048}$/;if(e){for(var r=0;r<e.length;r++)t+=e.substr(r,1).replace(n,"");return t}return t})),j()(N()(t),"isPad",(function(){var e=t.originWidth;return"medium"===Object(nt.a)(e)||"large"===Object(nt.a)(e)&&e<it.a.safety_area})),j()(N()(t),"getSize",(function(){var e=t.originWidth;return Object(nt.a)(e)})),j()(N()(t),"isPadHorizontal",(function(){var e=t.originWidth;return!(t.state.height>e)&&e>=1024})),j()(N()(t),"handleWaterFallStyle",(function(){t.state.isWaterfall&&(t.isPadHorizontal()?t.customStyle=jr.j:t.customStyle=jr.h)})),j()(N()(t),"_changeSortTap",(function(e){t.pageNum=1,t.itemlist=[],t.scrollListTop(),t.setState({searchSortField:e.searchSortField?e.searchSortField:t.state.searchSortField,searchSortType:Ar[e.searchSortType?e.searchSortType:t.state.searchSortType],boFilter:!0},(function(){t.batchReportFilter(),t._getQueryPrd_filter()}))})),j()(N()(t),"onBackTop",(function(){var e=t.props.scroller;"ios"===r.a.OS?setTimeout((function(){e&&e.scrollTo&&e.scrollTo({y:0,animated:!0})}),0):e&&e.scrollTo({y:0,animated:!0})})),j()(N()(t),"scrollListTop",(function(){"web"===r.a.OS?window.scrollTo({top:0}):"android"!==r.a.OS&&"ios"!==r.a.OS||t.onBackTop()})),j()(N()(t),"_getQueryPrd",(function(e){var n,r,o,i={};""!==t.state.category&&void 0!==t.state.category&&(i.category=[t.state.category]);var a=t.state.resultList,l=t.pageNum,s=t.state.totalCount;t.setState({showLoading:!0,loadState:1});var c={pageNumber:null===(n=t.pageNum)||void 0===n?void 0:n.toString(),pageSize:null===(r=t.pageSize)||void 0===r?void 0:r.toString(),searchSortField:null===(o=t.state.searchSortField)||void 0===o?void 0:o.toString(),searchSortType:t.state.searchSortType,tid:t.tid,sid:t.state.sid,searchFlag:t.state.searchFlag,carrierCode:t.state.carrierCode,topSpuList:t.state.topSpuList,keyWord:t.state.keyword};Object(Lr.h)(c).then((function(n){if(null!=n&&n.success){var r,o,c,u,d,p,f=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},h=null!==(o=null==f?void 0:f.page)&&void 0!==o?o:{};1===(l=null!==(c=null==h?void 0:h.pageNumber)&&void 0!==c?c:t.pageNum)&&(a=[]),a=null!==(u=null===(d=a)||void 0===d?void 0:d.concat(null!==(p=null==f?void 0:f.resultList)&&void 0!==p?p:[]))&&void 0!==u?u:[],s=(null==h?void 0:h.totalRow)||t.state.totalCount,e?t.setState({noEmpty:!e,firstEmpty:!1}):0===(a=a.map((function(e){return e.sellingPoint="",e}))).length||2===(null==f?void 0:f.resultType)?t.setState({noEmpty:!0,firstEmpty:!0},(function(){t._getRecommendedPrd()})):t.setState({noEmpty:!1,firstEmpty:!1}),0===a.length||s>l*t.pageSize?(t.loadMore=!0,t.pageNum+=1,t.setState({showLoading:1!==t.pageNum,loadState:1,resultList:a,labelList:null!=f&&f.labelList?null==f?void 0:f.labelList:[],labelList_r:null!=f&&f.labelList?null==f?void 0:f.labelList:[],pageNum:t.pageNum+1,sid:null==f?void 0:f.sid,resultType_r:null==f?void 0:f.resultType,resultType:null==f?void 0:f.resultType,totalCount:s,ruleId:null==f?void 0:f.ruleId,screenParams:i,sortFieldList:(null==f?void 0:f.sortFieldList)||[],loading:!1})):(t.loadMore=!1,t.setState({showLoading:!0,loadState:3,resultList:a,labelList:null!=f&&f.labelList?null==f?void 0:f.labelList:[],labelList_r:null!=f&&f.labelList?null==f?void 0:f.labelList:[],pageNum:t.pageNum+1,sid:null==f?void 0:f.sid,resultType_r:null==f?void 0:f.resultType,resultType:null==f?void 0:f.resultType,totalCount:s,ruleId:null==f?void 0:f.ruleId,screenParams:i,sortFieldList:(null==f?void 0:f.sortFieldList)||[],loading:!1},(function(){t._getRecommendedPrd()})))}else"10100"===n.resultCode&&t.setState({showLoading:!1,loadState:1,resultType_r:2,firstEmpty:!0,loading:!1,totalCount:0})})).catch((function(e){var n;"10100"===(null==e||null===(n=e.data)||void 0===n?void 0:n.resultCode)?t.setState({showLoading:!1,loadState:1,resultType_r:2,firstEmpty:!0,loading:!1,totalCount:0}):t.setState({showLoading:!1,loadState:2,totalCount:0})})).finally((function(){0===t.state.resultList.length&&t.setState({noEmpty:!0,errorEmpty:!0})}))})),j()(N()(t),"_getQueryPrd_filter",(function(e){var n,r,o,i=t.state.resultList,a=[],l=t.pageNum,s=t.state.totalCount;t.setState({showLoading:!0,loadState:1});var c={keyWord:t.state.keyword,pageNumber:null===(n=t.pageNum)||void 0===n?void 0:n.toString(),pageSize:null===(r=t.pageSize)||void 0===r?void 0:r.toString(),searchSortField:null===(o=t.state.searchSortField)||void 0===o?void 0:o.toString(),searchSortType:t.state.searchSortType,tid:t.tid,sid:t.state.sid,searchFlag:t.state.searchFlag,carrierCode:t.state.carrierCode,topSpuList:t.state.topSpuList};Object(Lr.h)(c).then((function(e){if(null!=e&&e.success){var n,r,o,c,u,d,p,f=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{},h=null!==(r=null==f?void 0:f.page)&&void 0!==r?r:{};1===(l=null!==(o=null==h?void 0:h.pageNumber)&&void 0!==o?o:t.pageNum)&&(i=[]),i=null!==(c=null===(u=i)||void 0===u?void 0:u.concat(null!==(d=null==f?void 0:f.resultList)&&void 0!==d?d:[]))&&void 0!==c?c:[],s=(null==h?void 0:h.totalRow)||t.state.totalCount,null!==(p=i)&&void 0!==p&&p.length?t.setState({noEmpty:!1,firstEmpty:!1}):t.setState({noEmpty:!0,firstEmpty:!1}),0===i.length||s>l*t.pageSize?(t.loadMore=!0,t.pageNum+=1,t.setState({showLoading:1!==t.pageNum,loadState:1,resultList:i,labelList_r:a,pageNum:t.pageNum+1,sid:null==f?void 0:f.sid,resultType:null==f?void 0:f.resultType,totalCount:s,ruleId:null==f?void 0:f.ruleId,loading:!1})):(t.loadMore=!1,t.setState({showLoading:!0,loadState:3,resultList:i,labelList_r:a,pageNum:t.pageNum+1,sid:null==f?void 0:f.sid,resultType:null==f?void 0:f.resultType,totalCount:s,ruleId:null==f?void 0:f.ruleId,loading:!1},(function(){t._getRecommendedPrd()})))}})).catch((function(){t.setState({showLoading:!1,loadState:2,totalCount:0,loading:!1})}))})),j()(N()(t),"_getRecommendedPrd",(function(){var e,n,r=t.state.recommendList,o=t.pageNum1,i=t.state.totalCount1;t.setState({showLoading1:!0,loadState1:1});var a={pageNumber:null===(e=t.pageNum1)||void 0===e?void 0:e.toString(),pageSize:null===(n=t.pageSize1)||void 0===n?void 0:n.toString(),searchSortField:"0",searchSortType:t.state.searchSortType,tid:t.tid,sid:t.state.sid,searchFlag:t.state.searchFlag,carrierCode:t.state.carrierCode};Object(Lr.h)(a).then((function(e){if(null!=e&&e.success){var n,a,l,s,c,u,d,p=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:{},f=null!==(a=null==p?void 0:p.page)&&void 0!==a?a:{};1===(o=null!==(l=null==f?void 0:f.pageNumber)&&void 0!==l?l:t.pageNum1)&&(r=[]),r=null!==(s=null===(c=r)||void 0===c?void 0:c.concat(null!==(u=null==p?void 0:p.resultList)&&void 0!==u?u:[]))&&void 0!==s?s:[],i=(null==f?void 0:f.totalRow)||t.state.totalCount1,0===(null===(d=r)||void 0===d?void 0:d.length)||i>o*t.pageSize1?(t.loadMore1=!0,t.pageNum1+=1,t.setState({showLoading1:1!==t.pageNum1,loadState1:1,recommendList:r,pageNum1:t.pageNum+1,sid:null==p?void 0:p.sid,totalCount1:i,ruleId:null==p?void 0:p.ruleId})):(t.loadMore1=!1,t.setState({showLoading1:!0,loadState1:3,recommendList:r,pageNum1:t.pageNum1+1,sid:null==p?void 0:p.sid,totalCount1:i,ruleId:null==p?void 0:p.ruleId}))}})).catch((function(){t.setState({showLoading1:!1,loadState1:2,totalCount1:0})}))})),j()(N()(t),"_loadMore",cr()((function(){t.loadMore&&(t.loadMore=!1,t.state.boFilter?t._getQueryPrd_filter(!0):t._getQueryPrd(!0))}),200)),j()(N()(t),"_loadMore1",cr()((function(){t.loadMore1&&(t.loadMore1=!1,t._getRecommendedPrd())}),200)),j()(N()(t),"searchSorts",(function(){var e=t.state,n=e.searchSortField,r=e.searchSortType;return 0==n?"relevance":2==n?"newes":3==n?"review":1==n?"desc"===r?"pricedown":"priceup":void 0})),j()(N()(t),"getPrdAppUrl",(function(e,t){var n="vmall://com.vmall.client/product/detail?prdId=".concat(e);return t?n.concat("&skuCode=").concat(t):n})),j()(N()(t),"onClickPrd",(function(e,n,r){var o,i,a,l;if(t.canClick){t.canClick=!1,setTimeout((function(){t.canClick=!0}),500);var s={searchWord:t.state.keyword,searchSort:t.searchSorts()||"relevance",productId:null===(o=e.productId)||void 0===o?void 0:o.toString(),productname:null===(i=e.prdName)||void 0===i?void 0:i.toString(),SKUCode:null===(a=e.skuCode)||void 0===a?void 0:a.toString(),location:null===(l=r+1)||void 0===l?void 0:l.toString(),attributeid:t.attributeid||[],attributename:t.attributename||[],sid:t.state.sid||"",ruleId:t.state.ruleId||"",click:"1",type:"1",url:Gt.a.isApp()?t.getPrdAppUrl(String(e.productId),String(e.skuCode)):e.wapurl};t.props.clickItem(s,"productTap"),Object(fe.b)("",!0),t.wapTimer3&&clearTimeout(t.wapTimer3),t.wapTimer3=setTimeout((function(){Gt.a.isApp()?Object(J.C)(String(e.productId),String(e.skuCode)):Object(J.A)(e.wapurl)}),150)}})),j()(N()(t),"renderFlatlist",(function(e){return"web"===r.a.OS?L.a.createElement(A.a,{style:[e.productWrap]},t.renderProductList(e)):L.a.createElement(L.a.Fragment,null,t.renderProductList(e))})),j()(N()(t),"getSingleWidth",(function(e,n,r){var o=(e-(n-1)*r)/n;t.setState({singleWidth_r:o})})),j()(N()(t),"colNum",(function(e){return"l2r"===e?t.isPad()?t.isPadHorizontal()?3:2:1:"t2b"===e?t.isPad()?t.isPadHorizontal()?4:3:2:void 0})),j()(N()(t),"colGutter",(function(){return t.isPad()&&t.isPadHorizontal()?12:8})),j()(N()(t),"boxWidth",(function(){var e=t.isPad()?48:32;return t.originWidth-e})),j()(N()(t),"_renderScroll",(function(e){return"web"===r.a.OS?L.a.createElement(A.a,e):L.a.createElement(ur.a,v()({},e,{removeClippedSubviews:!1}))})),j()(N()(t),"loadPage",(function(e){var n=t.state,o=n.loading,i=n.slideShow;return"web"===r.a.OS&&(o||i?(document.body.addEventListener("touchmove",t.bodyScroll,!1),document.body.style.overflow="hidden"):(document.body.removeEventListener("touchmove",t.bodyScroll,!1),document.body.style.overflow="")),o?"web"===r.a.OS?L.a.createElement(A.a,{style:e.loadWrap},t.loadingCon(e)):t.loadingCon(e):null})),j()(N()(t),"loadingCon",(function(e){return L.a.createElement(A.a,{style:[e.loadPage,{height:"web"===r.a.OS?"100%":t.state.height}]},L.a.createElement(dr.a,{style:[e.loadPageImg],source:Rt.a.darkBool?xr.a.loading_dark:xr.a.loading}),L.a.createElement(se.a,{style:[e.loadPageText]},Object(ut.b)("loading")))})),j()(N()(t),"renderProductList",(function(e){var n=t.state.layoutType,r=t.props.pageAlias,o=t.colNum(n),i="l2r"===n?12:8,a=(t.boxWidth()-(o-1)*i)/o;return t.state.resultList.length>0&&1===t.state.resultType?L.a.createElement(A.a,{style:[e.productList,{paddingHorizontal:t.isPad()?24:16}]},L.a.createElement(pr.a,{col:o,rowGutter:"l2r"===n?12:8,colGutter:t.colGutter(),pageGutter:0,dataArray:t.state.resultList,boxWidth:t.boxWidth(),containerType:"ScrollView",renderScrollComponent:function(e){return t._renderScroll(e)},initialNumToRender:t.state.resultList.length,loadMore:t._loadMore,renderItem:function(n){var r=n.item,o=n.index;return t.renderProduct(r,o,e,a)}}),t.renderFooter(e)):t.state.noEmpty||"2"==t.state.resultType?L.a.createElement(L.a.Fragment,null,L.a.createElement(A.a,{style:[e.emptyC,t.state.firstEmpty?null:{height:t.getEmptyHeight()},t.state.firstEmpty?{marginTop:24,marginBottom:24}:null]},L.a.createElement(dr.a,{source:xr.a.notyet,style:e.emptyImg}),L.a.createElement(se.a,{style:[e.emptyT,t.isPad()?e.prdAreaPad_r:e.prdArea_r],ellipsizeMode:"tail",numberOfLines:2},Object(ut.b)("no_offering"))),r?t.renderRecommentPrd(e):null):null})),j()(N()(t),"renderProduct",(function(e,n,r,o){var i,a=void 0!==e.originIndex?e.originIndex:n,l=ze.a.cmsCndProdPath+e.photoPath+"428_428_"+e.photoName;e.promotionRules=e.promoLabels,e.imgUrl=l,e.prdName=e.briefName,e.originPrice=e.price,e.salePrice=void 0!==e.promoPrice?e.promoPrice:e.price,e.reviewCount=e.remarkNumber,e.goodReviewRate=100*(null!==(i=null==e?void 0:e.goodRate)&&void 0!==i?i:0),e.wapurl=e.skuCode?ze.a.wapDomain+"product/ord-"+e.skuCode+".html":ze.a.wapDomain+"product/"+e.productId+".html",e.weburl=ze.a.webDomain+"product/"+e.productId+".html";var s=t.state.layoutType;return L.a.createElement(A.a,{style:r.productItemWrap},t.state.showProduct?L.a.createElement(kr.a,{receiveRef:function(r){return t.receiveRef(r,e,"product",n,!0)},key:e.productId,data:e,structure:s,type:"base",config:{bgColor:!0,prodTagShow:!0,outOfStockTagShow:!0,promotionTagShow:!0,mutiTagTagShow:!0,promotionShow:!0,prodSellPoint:!0,originPriceShow:!0,buyIconShow:!1,commentCountShow:!0,prdNameNum:2,promotionTextLineNum:2},onClick:function(){return t.onClickPrd(e,a,n)},iWidth:o,iHeight:"l2r"===s?140:"auto"}):null)})),j()(N()(t),"renderFooter",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.state,o=r.resultList,i=r.loadState,a=r.loadState1,l=r.showLoading1,s=r.showLoading,c=r.recommendList,u=t.props.pageAlias;return L.a.createElement(L.a.Fragment,null,3===i&&u&&!n?t.renderRecommentPrd(e):L.a.createElement(fr.a,{showLoading:n?l:s,position:t.state.loadingPostion,loadState:n?a:i,errorCallback:n?t._getRecommendedPrd:t._getQueryPrd,height:56,iconSize:24,titleStyle:e.lodingTitle}),n?o.length>=10&&L.a.createElement(A.a,{style:{height:20}}):c.length>=10&&L.a.createElement(A.a,{style:{height:20}}))})),j()(N()(t),"renderRecommentPrd",(function(e){var n=t.state,r=n.layoutType,o=n.recommendList,i=n.noEmpty,a=t.colNum(r),l="l2r"===r?12:8,s=(t.boxWidth()-(a-1)*l)/a;return L.a.createElement(L.a.Fragment,null,(null==o?void 0:o.length)>0?L.a.createElement(L.a.Fragment,null,L.a.createElement(se.a,{style:e.recommendShopPrdText},"没有找到更多商品，为你推荐本店其他商品"),L.a.createElement(A.a,{style:[e.productList,i&&{paddingHorizontal:t.isPad()?24:16}]},L.a.createElement(pr.a,{col:a,rowGutter:l,colGutter:t.colGutter(),pageGutter:0,dataArray:o,boxWidth:t.boxWidth(),containerType:"ScrollView",renderScrollComponent:function(e){return t._renderScroll(e)},loadMore:t._loadMore1,initialNumToRender:null==o?void 0:o.length,renderItem:function(n){var r=n.item,o=n.index;return t.renderProduct(r,o,e,s)}}),t.renderFooter(e,!0))):null)})),j()(N()(t),"getTitleBarHeight",(function(){return 144})),j()(N()(t),"_onScrollWeb",(function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,n=156;t.curWinTop<e?(n=0,document.getElementById("filterWrap").style.position=e>=156?"fixed":"absolute"):t.curWinTop>e&&(n=0,e<=156&&(document.getElementById("filterWrap").style.position="absolute",n=0)),document.getElementById("filterWrap").style.top=n+"px",t.curWinTop=e})),j()(N()(t),"batchReportFilter",(function(){var e=t.props.clickItem,n=t.state,r=n.labelList,o=n.moreItems,i=n.labelContentSelect,a=[],l=[];(r.forEach((function(e,n){if(t.state.category===e.category)return a.push("1,".concat(n+1)),void l.push(Object(ut.b)("category")+","+e.categoryName)})),o.forEach((function(e,t){i[e.fieldName]&&i[e.fieldName].length>0&&e.itemEntryList.forEach((function(n,r){i[e.fieldName].includes(n.key)&&(a.push("".concat(t+2,",").concat(r+1)),l.push(e.displayName+","+n.value))}))})),t.attributeid=a,t.attributename=l,a.length>0)&&(e({attributeid:a,attributename:l,click:"1"},"condition"),Object(fe.b)("",!0))})),j()(N()(t),"getEmptyHeight",(function(){var e=t.getTitleBarHeight()+40,n=t.state.labelList.length>1?86:0;return t.state.height-e-n})),j()(N()(t),"_onLayout",(function(e){t.setState({stickyLayoutY:e.nativeEvent.layout.y})})),j()(N()(t),"itemlist",[]),j()(N()(t),"receiveRef",(function(e,n,o,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e&&(e.exposeObj=n,e.exposeObj.type=o,e.exposeObj.attributeid=t.attributeid||[],e.exposeObj.attributename=t.attributename||[],e.exposeObj.index=i+1||"",e.exposeObj.searchWord=t.state.keyword,e.exposeObj.searchSort=t.searchSorts()||"relevance",e.exposeObj.ruleId=t.state.ruleId,e.exposeObj.onPrd=a,"ios"===r.a.OS&&t.state.resultList.length>0&&t.state.resultList.length<10&&1===t.state.resultType?t.itemlist[i]=e:t.itemlist.push(e))})),t.state={scrollYWeb:0,ativeContentList:[],showLoading:!0,showLoading1:!0,loadState:1,loadState1:1,showLoading_r:!0,loadState_r:1,loadingPostion:"bottom",layoutType:Wr[Rr.a.layoutType||0],slideShow:!1,totalCount:0,searchFlag:"0",searchSortField:0,searchSortType:"desc",sid:void 0,ruleId:"",screenParams:void 0,sortFieldList:[],resultList:[],labelList:[],labelList_r:[],productList:[],category:"",singleWidth:0,singleWidth_r:160,noData:!1,resultType:1,resultType_r:1,isWaterfall:"StaggeredLayout",titleBarHeight:new W.a.Value(0),cardItem:[],cardItemRemaining:[],searchSortField_slide:0,searchSortType_slide:"1",showAll:!1,onShowAll:!1,moreItems:[],translateX:new W.a.Value(0),mininumPrice:"",maxinumPrice:"",mininumPriceFocus:!1,maxinumPriceFocus:!1,labelContentSelect:{},labelContentList:[],boFilter:!1,noEmpty:!1,noEmpty1:!1,firstEmpty:!1,sTop:0,stickyLayoutY:0,loading:!0,keyword:t.props.keyWord,showProduct:!0,isLogin:!1,keywordText:"",errorEmpty:!1,fontSize:10,maxinumPricePlc:!0,mininumPricePlc:!0,screenHeight:0,titleTop:0,filterTop:0,isPadApk:!1,searchId:"",carrierCode:"",topSpuList:[],width:Object(J.x)(Ve.g.shop).screenWidth,height:Object(J.x)(Ve.g.shop).screenHeight,recommendList:[],totalCount1:0},t.customStyle=jr.customStyleMix,t.handleWaterFallStyle(),t}return C()(o,[{key:"componentDidMount",value:(t=tt()(Ze.a.mark((function e(){var t,n,o,i,a,l,s,c,u,d=this;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=this.props,a=i.route,l=i.carrierCode,s=void 0===l?Object(J.q)("carrierCode"):l,c=i.topSpuList,u=void 0===c?Object(J.q)("topSpuList"):c,this.setState({searchFlag:"0",isLogin:null==a||null===(t=a.params)||void 0===t?void 0:t.isLogin,carrierCode:s,topSpuList:null!==(n=null==u||null===(o=u.split(","))||void 0===o?void 0:o.filter(Boolean))&&void 0!==n?n:[]},(function(){d._getQueryPrd()})),"android"===r.a.OS||"ios"===r.a.OS?Yt.a.invokeVmallNative("device","isPad",{}).then((function(e){null!=e&&e.pad&&"true"===(null==e?void 0:e.pad)?d.setState({isPadApk:!0}):d.setState({isPadApk:!1})})):"web"===r.a.OS&&(this.tid=Object(Er.c)(),document.addEventListener("scroll",this._onScrollWeb)),this.lister4=B.a.addListener("switchOrderType_shop",(function(e){d.setState({layoutType:Wr[null!=e?e:1]})}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){this.handleWaterFallStyle()}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.lister1&&this.lister1.remove(),this.lister2&&this.lister2.remove(),this.lister3&&this.lister3.remove(),this.lister4&&this.lister4.remove(),this.wapTimer&&clearTimeout(this.wapTimer),this.wapTimer3&&clearTimeout(this.wapTimer3),this.canClick=!0,"web"===r.a.OS&&document.removeEventListener("scroll",this._onScrollWeb)}},{key:"componentWillMount",value:function(){this._panResponderIos=Tn.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponder=Tn.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"render",value:function(){var e,t=this,n=this.state,o=n.slideShow,i=n.sortFieldList,a=n.labelList,l=n.keyword,s=n.filterTop,c=n.stickyLayoutY,u=this.props,d=u.stickyScrollY,p=u.clickItem,f=d.interpolate({inputRange:[-1,0,c,c+1],outputRange:[0,0,0,1]});return e=i.length?40:null,L.a.createElement(H.b,{themeStyles:Tr.c},(function(n,c,u){return t.originWidth=u,L.a.createElement(A.a,{style:[n.productWrap,Rt.a.darkBool?n.wrap:null,"web"===r.a.OS&&n.wrap,{minHeight:"web"===r.a.OS?window.innerHeight+"px":t.state.height},o?{zIndex:2}:null],onLayout:t._onLayout},"web"===r.a.OS?L.a.createElement(L.a.Fragment,null,t.loadPage(n),L.a.createElement(A.a,{nativeID:"filterWrap",style:[n.posiFix,{position:"absolute",top:s}]},i.length&&!t.state.loading?L.a.createElement(Ir.a,{onChangesTap:t._changeSortTap,data:i,clickItem:p,searchWord:l}):null),L.a.createElement(A.a,{nativeID:t.id,style:{marginTop:e}},t.state.loading?null:L.a.createElement(L.a.Fragment,null,t.renderFlatlist(n)))):L.a.createElement(L.a.Fragment,null,t.loadPage(n),L.a.createElement(W.a.View,{style:[{zIndex:9,elevation:9,transform:[{translateY:f}]}]},i.length&&!t.state.loading?L.a.createElement(A.a,{style:{zIndex:9,elevation:9}},L.a.createElement(Ir.a,{onChangesTap:t._changeSortTap,data:i,labelListLength:a.length,clickItem:p,searchWord:l})):null),t.state.loading?null:L.a.createElement(L.a.Fragment,null,t.renderFlatlist(n))))}))}}]),o}(L.a.PureComponent))||Cr,Mr=Object(_.a)(Object(ce.a)(Pr)(Object(Ne.a)(Br))),Fr=n(303),Hr=n(122);function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.normal=0]="normal",e[e.market=1]="market",e[e.tag=2]="tag"}(Dr||(Dr={})),function(e){e.default="1",e.native="2",e.other="3",e.h5="4"}(Nr||(Nr={}));var Vr=function(e){return K.a.create({container:{overflow:"hidden"},itemAll:{height:20,overflow:"hidden",flexDirection:"row",width:"100%"},numView:{borderRadius:2,backgroundColor:e.C94.color,height:14,width:14,marginRight:4,flexDirection:"row",justifyContent:"center",alignContent:"center",marginVertical:3},numViewColor:{backgroundColor:e.C95.color},numText:{fontSize:e.T2.fontSize,fontWeight:e.T2.fontWeight,color:"#FFFFFF",textAlign:"center",lineHeight:14},numTextApk:{fontFamily:q.a.fontFamilyMedium},title:Ur(Ur({marginRight:4,fontSize:e.T7.fontSize,fontWeight:e.T7.fontWeight},e.C21),{},{flexShrink:1}),titleWap:{lineHeight:20},titleIOS:{lineHeight:19},iconView:{width:16,height:16,marginRight:4,marginVertical:2},icon:{width:16,height:16},count:Ur(Ur(Ur({textAlign:"left"},e.T1),e.C13),{},{paddingVertical:3,flexShrink:0}),countMp:{lineHeight:20,paddingVertical:0},more:{flexDirection:"row",width:"100%",height:20,overflow:"hidden"},moreTitle:{color:e.C74.color,fontSize:e.T7.fontSize,fontWeight:e.T7.fontWeight,flexShrink:1},moreTitleIOS:{lineHeight:19},svgView:{marginTop:1,flexShrink:0},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity}})},Gr=n(210),Yr={exposeItem_product:function(e){var t,n,r,o,i,a=this,l=this.props.layout.layoutType,s={array:e.map((function(e,t){return{comId:a.props.cardId,dataCode:null==e?void 0:e.dataCode,dateType:"Staggered"===l?"57":"58",index:null!=e&&e.index?String(null==e?void 0:e.index):"0"}}))};return{isBatch:!0,commonData:{actionCode:"110000103",actionName:"Staggered"===l?"话题榜曝光——瀑布流":"话题榜曝光——一行两个",eventType:ue.e.EVENT_TYPE_EXPOSURE,pageCatCode:(null===(t=this.props)||void 0===t?void 0:t.pageCatCode)||"",pageCatName:(null===(n=this.props)||void 0===n?void 0:n.pageCatName)||"",resSiteCode:(null===(r=this.props)||void 0===r?void 0:r.resSiteCode)||"",resSiteName:(null===(o=this.props)||void 0===o?void 0:o.resSiteName)||"",pageId:(null===(i=this.props)||void 0===i?void 0:i.pageId)||ze.a.pageId},content:s.array}}};function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Qr=function(e){P()(o,e);var t=qr(o);function o(e){var i,a,l,s;w()(this,o),s=t.call(this,e),j()(N()(s),"originWidth",jt.a.get("window").width),j()(N()(s),"originHeight",jt.a.get("window").height),j()(N()(s),"time",(new Date).getTime()),j()(N()(s),"topicMore",{topicId:"",topicType:"",title:""}),j()(N()(s),"gotoURL",void 0),j()(N()(s),"itemlist",[]),j()(N()(s),"additionInfo",{}),j()(N()(s),"isAsync",!1),j()(N()(s),"dataArray",[]),j()(N()(s),"styleChange",{}),j()(N()(s),"layoutWidth",void 0),j()(N()(s),"getSize",(function(){var e=s.originWidth;return"web"===r.a.OS&&(e=Object(J.x)(s.props.pageType||"activity").screenWidth),Object(nt.a)(e)})),j()(N()(s),"isPad",(function(){return"medium"===s.getSize()})),j()(N()(s),"isApp",(function(){return"small"===s.getSize()})),j()(N()(s),"getWidth",(function(){var e=s.originWidth;return("web"===r.a.OS||s.props.isNewWaterfall)&&(e=Object(J.x)(s.props.pageType||"activity").screenWidth),e})),j()(N()(s),"getHeight",(function(){return Object(J.x)(s.props.pageType||"activity").screenHeight})),j()(N()(s),"isPadHorizontal",(function(){return s.isPad()&&s.getWidth()>=jt.a.get("window").height&&s.getWidth()>=1024})),j()(N()(s),"topicClick",(function(e,t){var n=e+t;n&&(s.gotoURL=JSON.parse(JSON.stringify(n))),Object(J.A)(n)})),j()(N()(s),"moreClick",(function(e){var t=e;t&&(s.gotoURL=JSON.parse(JSON.stringify(t))),Object(J.A)(t)})),j()(N()(s),"dapReportClickData",(function(e,t,n){(0,s.props.dapReportClick)({comId:s.props.cardId,gotoPageId:"",gotoURL:s.gotoURL,nextLocation:e,dataCode:e,index:t,clickType:null==n?void 0:n.toString()}),Object(fe.b)("",!0)})),j()(N()(s),"receiveRef",(function(e,t,n){e&&(n&&(e.exposeObj=n),s.itemlist[t]=e)})),j()(N()(s),"handleCount",(function(e){if(e){var t=e.indexOf("万"),n=e.replace(/[^\d.]/g,"");return-1===t?n:n+"W"}return""})),j()(N()(s),"handleCountNumber",(function(e){if(!new RegExp(/^[0-9.]*$/).test(e))return"0";var t=Number(e);return t>9999?(t/=1e4).toFixed(1)+"W":t})),j()(N()(s),"buildParams",tt()(Ze.a.mark((function e(){var t,n,o,i,a,l,c;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=s.additionInfo.recommendScene,n=s.isPadHorizontal()?3:2,o=s.props.configInfo.rowsPerScreen*n,i={pageNum:1,pageSize:o,sceneId:t,isRecommended:!0,recommendScope:s.additionInfo.recommendScope},a={},"web"!==r.a.OS){e.next=7;break}a={tid:Object(Er.c)()},e.next=16;break;case 7:if(!Object(J.F)()){e.next=11;break}a={tid:Object(Gr.getStorageSync)("tid")},e.next=16;break;case 11:return c={},e.next=14,Object(J.j)("getDeviceInfo");case 14:c=e.sent,a={tid:null===(l=c)||void 0===l?void 0:l.tid};case 16:return e.abrupt("return",Kr(Kr({},a),i));case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))),j()(N()(s),"_getRecommendTopicList",tt()(Ze.a.mark((function e(){var t;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.buildParams();case 2:t=e.sent,Object(jn.o)(t).then((function(e){if(null!=e&&e.topicList&&Array.isArray(null==e?void 0:e.topicList)){0===(null==e?void 0:e.topicList.length)&&s.setState({noData:!0});var t=null==e?void 0:e.topicList;s.setState({dataArray:t,noData:!1})}else s.setState({noData:!0})})).catch((function(e){s.setState({noData:!0})}));case 4:case"end":return e.stop()}}),e)})))),j()(N()(s),"renderTitleAndMore",(function(e,t){var n;return L.a.createElement(un.a,{isDisplayTitleBar:e.titleShow,title:e.cardTitle,showSetting:null==e?void 0:e.showSetting,imgNormal:null==e?void 0:e.imgNormal,imgDarkMode:null==e?void 0:e.imgDarkMode,styleChange:t,style:[(null===(n=s.styleChange)||void 0===n?void 0:n.imgStyle)||{},{paddingBottom:8,marginBottom:0}],pageType:s.props.pageType})})),j()(N()(s),"renderSingleTopic",(function(e,t,n,o,i,a,l,c){var u,d,p,f=!(null==e||!e.weight)&&(null==e?void 0:e.weight)>=90,h=!(null==e||!e.createTime)&&s.time-(null==e?void 0:e.createTime)<=432e6,g=f,m=(!f||"true"!==n.hotIconShow)&&h,y=!(""!==n.postOrReadNumShow||g&&"true"===n.hotIconShow||m&&"true"===n.newIconShow),v=(s.isPadHorizontal()?s.originWidth:s.isPad()?s.originWidth:s.originWidth,n.moreTitle?n.moreTitle:Object(ut.b)("more_topic")),b="";n.moreUrlType===Nr.h5&&(b=Gt.a.isApp()?null==n?void 0:n.moreActionApkUrl:"web"===r.a.OS?null==n?void 0:n.moreActionWapUrl:null==n?void 0:n.moreActionAppletUrl);var w={dataCode:null==e?void 0:e.topicId,index:t},S=s.isAsync?s.handleCount(e.contentCount):s.handleCountNumber(e.contentCount),C=s.isAsync?s.handleCount(e.viewCount):s.handleCountNumber(e.viewCount),O=t%l!=0&&Object(J.F)();return"2"===n.more&&""===e.title?L.a.createElement(G.a,{style:[o.more,O&&{marginLeft:c}],onPress:function(){s.moreClick(b),s.dapReportClickData("",t,1)},activeOpacity:1},L.a.createElement(se.a,{numberOfLines:1,ellipsizeMode:"tail",style:[o.moreTitle,"ios"===r.a.OS&&o.moreTitleIOS]},v),L.a.createElement(A.a,{style:o.svgView},Object(J.F)()?L.a.createElement(dr.a,{source:{uri:s.state.mpIMG},style:{width:17,height:19}}):L.a.createElement(te.a,{iconName:"Webarrow",width:"17",height:"19",normalCol:i.C74.color}))):L.a.createElement(G.a,{style:[o.itemAll,O&&{marginLeft:c}],onPress:function(){Gt.a.isAndroid()&&s.topicClick("vmall://com.vmall.client/discoverNew/topic?topicId=",null==e?void 0:e.topicId),s.dapReportClickData(null==e?void 0:e.topicId,t,4)},activeOpacity:1,ref:function(e){return s.receiveRef(e,t,w)}},"true"===n.serialNumShow&&L.a.createElement(A.a,{style:[o.numView,t<2&&o.numViewColor]},L.a.createElement(se.a,{style:[o.numText,"android"===r.a.OS&&o.numTextApk]},t+1)),L.a.createElement(se.a,{style:[o.title,"ios"===r.a.OS&&o.titleIOS,"web"===r.a.OS&&o.titleWap,(null===(u=s.styleChange)||void 0===u||null===(d=u.textStyle)||void 0===d?void 0:d.color)&&(null===(p=s.styleChange)||void 0===p?void 0:p.textStyle),y&&{marginRight:0}],numberOfLines:1,ellipsizeMode:"tail"},e.title),g&&"true"===n.hotIconShow&&L.a.createElement(A.a,{style:o.iconView},L.a.createElement(kn.a,{localSource:Object(J.F)()?null:"web"===r.a.OS?xr.a.ic_hot_wap:xr.a.ic_hot,imgUri:Object(J.F)()?xr.a.ic_hot:null,imgStyle:o.icon})),m&&"true"===n.newIconShow&&L.a.createElement(A.a,{style:o.iconView},L.a.createElement(kn.a,{localSource:Object(J.F)()?null:"web"===r.a.OS?xr.a.ic_new_wap:xr.a.ic_new,imgUri:Object(J.F)()?xr.a.ic_new:null,imgStyle:o.icon})),""===n.postOrReadNumShow?null:L.a.createElement(se.a,{style:[o.count,Object(J.F)()&&o.countMp],numberOfLines:1,ellipsizeMode:"clip"},"postNum"===n.postOrReadNumShow?S:C))})),j()(N()(s),"renderTopicRankList",(function(e,t,n,r){var o,i=s.isPadHorizontal()?3:2,a=s.isApp()?24:32,l=s.isApp()?16:24,c=t.rowsPerScreen*i,u=c<=e.length?c-1:Math.ceil(e.length/i)*i-1,d=e.slice(0,c);return"2"===t.more&&(d.length%i==0?d[d.length-1]=s.topicMore:d[d.length]=s.topicMore),L.a.createElement(pr.a,{col:i,colGutter:a,rowGutter:8,pageGutter:l,boxWidth:s.originWidth,dataArray:d,renderItem:function(e){var o=e.item,l=e.index;return s.renderSingleTopic(o,l,t,n,r,u,i,a)},mainStyle:[(null===(o=s.styleChange)||void 0===o?void 0:o.imgStyle)||{},Object(J.F)()&&{marginLeft:0}],singleItemStyle:Object(J.F)()&&{marginLeft:0},initialNumToRender:Math.ceil(d.length/i)})})),j()(N()(s),"initColNum",(function(e){e!=s.layoutWidth&&!Object(J.F)()&&s.isAsync&&(s._getRecommendTopicList(),s.layoutWidth=e)}));var c=s.props.dataSourceList?s.props.dataSourceList[0].dataSourceCode:null;if(s.additionInfo=c?(null===(i=s.props.pageData["".concat(c)])||void 0===i?void 0:i.additionInfo)&&JSON.parse(null===(a=s.props.pageData["".concat(c)])||void 0===a?void 0:a.additionInfo):null,s.isAsync=null!==s.additionInfo&&void 0!==s.additionInfo,s.isAsync&&s._getRecommendTopicList(),s.dataArray=c&&(null===(l=s.props.pageData["".concat(c)])||void 0===l?void 0:l.topicList)||[],s.props.styleChange){var u=Object(J.i)(s.props.styleChange,"small");u&&(s.styleChange=u)}var d=Hr.a,p=Object(J.F)()&&Object(J.c)(n(205),d.C74.color);return s.layoutWidth=jt.a.get("window").width,s.state={dataArray:s.dataArray,noData:!!s.isAsync||0===s.dataArray.length,mpIMG:p},s}return C()(o,[{key:"render",value:function(){var e=this,t=this.props,n=t.configInfo,r=t.styleChange;return this.state.noData?L.a.createElement(A.a,{style:{marginTop:-12}}):L.a.createElement(H.b,{themeStyles:Vr},(function(t,o,i){var a,l;return e.originWidth=Object(J.F)()?Object(J.x)().screenWidth:i,e.initColNum(e.originWidth),L.a.createElement(A.a,{style:t.container},L.a.createElement(dn.a,{imgViewStyle:null===(a=e.styleChange)||void 0===a?void 0:a.imgStyle,imgUri:null===(l=e.styleChange)||void 0===l?void 0:l.bgImg},"true"===n.titleShow&&e.renderTitleAndMore(n,r),e.renderTopicRankList(e.state.dataArray,n,t,o)))}))}}]),o}(L.a.PureComponent),$r=Object(_.a)(Object(ce.a)(Yr)(Object(Ne.a)(Qr)));function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ro=function(e){P()(n,e);var t=no(n);function n(e){var o,i,a,l;w()(this,n),l=t.call(this,e),j()(N()(l),"dataArray",[]),j()(N()(l),"itemlist",[]),j()(N()(l),"showSetting",{}),j()(N()(l),"additionInfo",{}),j()(N()(l),"pageNum",1),j()(N()(l),"loadMore",!1),j()(N()(l),"pageSize",18),j()(N()(l),"isAsync",!1),j()(N()(l),"styleChange",{}),j()(N()(l),"comId",l.props.cardId),j()(N()(l),"_styles",void 0),j()(N()(l),"theme",void 0),j()(N()(l),"gotoURL",void 0),j()(N()(l),"originWidth",void 0),j()(N()(l),"buildParams",tt()(Ze.a.mark((function e(){var t,n,o,i,a;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=l.additionInfo.recommendScene,n={pageNum:l.pageNum,pageSize:l.pageSize,sceneId:t,isRecommended:!0,recommendScope:l.additionInfo.recommendScope},o={},"web"!==r.a.OS){e.next=7;break}o={tid:Object(Er.c)()},e.next=16;break;case 7:if(!Object(J.F)()){e.next=11;break}o={tid:Object(Gr.getStorageSync)("tid")},e.next=16;break;case 11:return a={},e.next=14,Object(J.j)("getDeviceInfo");case 14:a=e.sent,o={tid:null===(i=a)||void 0===i?void 0:i.tid};case 16:return e.abrupt("return",to(to({},o),n));case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))),j()(N()(l),"_getRecommendTopicList",tt()(Ze.a.mark((function e(){var t;return Ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.loadMore){e.next=2;break}return e.abrupt("return");case 2:return l.loadMore=!1,e.next=5,l.buildParams();case 5:t=e.sent,Object(jn.o)(t).then((function(e){if(l.loadMore=!0,null!=e&&e.topicList&&Array.isArray(null==e?void 0:e.topicList)){if((null==e?void 0:e.topicList.length)<l.pageSize&&(l.loadMore=!1,l.setState({loadState:cn.c.loadAll})),0!==(null==e?void 0:e.topicList.length)){var t=l.state.dataArray.concat(null==e?void 0:e.topicList);l.setState({dataArray:t}),l.pageNum+=1}}else l.setState({loadState:cn.c.loadError})})).catch((function(e){l.loadMore=!0,l.setState({loadState:cn.c.loadError})}));case 7:case"end":return e.stop()}}),e)})))),j()(N()(l),"initShowSetting",(function(){if(l.props.configInfo){var e=l.props.configInfo,t=e.hotIconShow,n=e.newIconShow,r=e.postNumShow,o=e.readNumShow,i=e.thumbnailShow;l.showSetting.hotIconShow="true"===t,l.showSetting.newIconShow="true"===n,l.showSetting.postNumShow="true"===r,l.showSetting.readNumShow="true"===o,l.showSetting.thumbnailShow="true"===i}})),j()(N()(l),"updateWidth",(function(e){e==l.state.width||Object(J.F)()||l.setState({width:e})})),j()(N()(l),"isiPad",(function(){var e=l.state.width;return"medium"===Object(nt.a)(e)})),j()(N()(l),"isPadHorizonta",(function(){var e=l.state,t=e.width;return!(e.height>t)})),j()(N()(l),"colSize",(function(){return l.isiPad()?l.isPadHorizonta()?4:6:12})),j()(N()(l),"utilGotoPage",(function(e,t){var n=l.props.dapReportClick;Gt.a.isApp()&&e.topicId&&(l.gotoURL="vmall://com.vmall.client/discoverNew/topic?topicId=".concat(e.topicId),Object(J.A)(l.gotoURL)),n({comId:l.props.cardId,gotoPageId:"",gotoURL:l.gotoURL,nextLocation:e.topicId,dataCode:e.topicId,index:t,clickType:"4"})})),j()(N()(l),"receiveRef",(function(e,t,n){e&&(n&&(e.exposeObj=n),l.itemlist[t]=e)})),j()(N()(l),"ImageArea",(function(e,t){return L.a.createElement(A.a,{style:{marginRight:8}},L.a.createElement(kn.a,{imgUri:e,imgStyle:t.titleImage}))})),j()(N()(l),"showNewOrHot",(function(e){return e.weight>=90&&l.showSetting.hotIconShow?1:(new Date).getTime()-e.createTime<432e6&&l.showSetting.newIconShow?2:0})),j()(N()(l),"renderSingleTopic",(function(e){var t,n,o,i,a=e.item,s=e.index;i="#".concat(a.title);Rt.a.darkBool;var c=Object(ut.b)("read.other").replace(" %d",":"),u=Object(ut.b)("contents.other").replace(" %d",":"),d=l.showSetting.postNumShow||l.showSetting.readNumShow,p={dataCode:null==a?void 0:a.topicId,index:s},f=l.showNewOrHot(a),h=1===f?"web"===r.a.OS?xr.a.ic_hot_wap:xr.a.ic_hot:2===f?"web"===r.a.OS?xr.a.ic_new_wap:xr.a.ic_new:null;return L.a.createElement(G.a,{style:l._styles.main,ref:function(e){return l.receiveRef(e,s,p)},onPress:function(){l.utilGotoPage(a,s)}},l.showSetting.thumbnailShow&&l.ImageArea(a.thumbnailUri,l._styles),L.a.createElement(A.a,{style:l._styles.titleConent},L.a.createElement(A.a,{style:{flexDirection:"row",alignItems:"center",marginBottom:4}},L.a.createElement(se.a,{numberOfLines:d?1:2,ellipsizeMode:"tail",style:[l._styles.title,(null===(t=l.styleChange)||void 0===t||null===(n=t.textStyle)||void 0===n?void 0:n.color)&&(null===(o=l.styleChange)||void 0===o?void 0:o.textStyle)]},i),0!==f?L.a.createElement(A.a,{style:l._styles.iconView},L.a.createElement(kn.a,{localSource:Object(J.F)()?null:h,imgUri:Object(J.F)()?h:null,imgStyle:l._styles.iconImage})):null),d?L.a.createElement(A.a,{style:{height:4}}):null,d&&L.a.createElement(A.a,{style:l._styles.subtitleWrap},l.showSetting.postNumShow&&L.a.createElement(se.a,{style:[l._styles.subtitle],numberOfLines:1,ellipsizeMode:"tail"},l.isAsync?a.contentCount:u+a.contentCount),l.showSetting.readNumShow&&L.a.createElement(se.a,{style:[l._styles.subtitle],numberOfLines:1,ellipsizeMode:"tail"},l.isAsync?a.viewCount:c+a.viewCount))),L.a.createElement(A.a,{style:[l._styles.line,{left:l.showSetting.thumbnailShow?56:0}]}))})),j()(N()(l),"getLoadingView",(function(){var e=l._styles;return L.a.createElement(fr.a,{showLoading:!0,position:"bottom",errorCallback:l._getRecommendTopicList,loadState:l.state.loadState,width:"100%",height:l.state.loadState===cn.c.loadAll?48:56,iconSize:24,titleStyle:to({},e.lodingTitle)})})),j()(N()(l),"renderScroll",(function(e){var t;return"web"===r.a.OS?L.a.createElement(A.a,e):L.a.createElement(ur.a,v()({},e,{style:[{width:"100%",paddingHorizontal:l.isiPad()?24:16},null===(t=l.styleChange)||void 0===t?void 0:t.imgStyle],removeClippedSubviews:"ios"!==r.a.OS}))}));var s=l.props.dataSourceList?l.props.dataSourceList[0].dataSourceCode:null;if(l.additionInfo=s?(null===(o=l.props.pageData["".concat(s)])||void 0===o?void 0:o.additionInfo)&&JSON.parse(null===(i=l.props.pageData["".concat(s)])||void 0===i?void 0:i.additionInfo):null,l.isAsync=null!==l.additionInfo&&void 0!==l.additionInfo,l.isAsync&&(l.loadMore=!0,l._getRecommendTopicList()),l.props.styleChange){var c=Object(J.i)(l.props.styleChange,"small");c&&(l.styleChange=c)}return l.dataArray=s&&(null===(a=l.props.pageData["".concat(s)])||void 0===a?void 0:a.topicList)||[],l.initShowSetting(),l.state={dataArray:l.dataArray,width:jt.a.get("window").width,height:jt.a.get("window").height,loadState:cn.c.loadingIcon},l}return C()(n,[{key:"render",value:function(){var e,t=this,n=this.props.configInfo;return(null===(e=this.state.dataArray)||void 0===e?void 0:e.length)>0?L.a.createElement(H.b,{themeStyles:function(e){return function(e,t){var n,r=t?24:16;return K.a.create({container:{overflow:"hidden",width:"100%",paddingHorizontal:r,paddingTop:19.5,height:"auto"},main:{flexDirection:"row",width:"100%"},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},titleImage:{resizeMode:"cover",width:48,height:48,borderRadius:8,flexGrow:0,flexShrink:0,overflow:"hidden",flexBasis:"auto",marginVertical:8},iconView:{width:16,height:16,marginLeft:4,marginBottom:2},iconImage:{width:16,height:16},titleConent:{flexGrow:1,flexShrink:1,overflow:"hidden",justifyContent:"center"},title:Zr(Zr(Zr({textAlign:"left"},e.T10),e.C12),{},{fontFamily:q.a.fontFamilyMedium,flexShrink:1}),subtitleWrap:{width:"100%",flexDirection:"row"},subtitle:Zr(Zr(Zr({width:90,textAlign:"left"},e.T3),e.C14),{},{fontFamily:q.a.fontFamilyBase}),line:Zr(Zr({position:"absolute",bottom:.5,right:0,height:.5},e.C76),{},{backgroundColor:null===(n=e.C76)||void 0===n?void 0:n.color})})}(e,t.isiPad())}},(function(e,r,o){var i,a;return t.originWidth=Object(J.F)()?Object(J.x)().screenWidth:o,t.updateWidth(t.originWidth),t._styles=e,t.theme=r,L.a.createElement(L.a.Fragment,null,L.a.createElement(un.a,{isDisplayTitleBar:n.titleShow&&JSON.parse(n.titleShow),title:n.cardTitle,styleChange:t.props.styleChange,style:[(null===(i=t.styleChange)||void 0===i?void 0:i.imgStyle)||{},{marginBottom:0,paddingBottom:0}],showSetting:null==n?void 0:n.showSetting,imgNormal:null==n?void 0:n.imgNormal,imgDarkMode:null==n?void 0:n.imgDarkMode}),L.a.createElement(pr.a,v()({col:1,rowGutter:8,boxWidth:t.originWidth,pageGutter:t.isiPad()?24:16,colGutter:0,mainStyle:(null===(a=t.styleChange)||void 0===a?void 0:a.imgStyle)||{},typeuuid:t.props.typeuuid,containerType:"ScrollView",renderScrollComponent:function(e){return t.renderScroll(e)}},t.isAsync?{loadMore:t._getRecommendTopicList}:{},{initialNumToRender:20,dataArray:t.state.dataArray,renderItem:t.renderSingleTopic,footer:t.isAsync?t.getLoadingView:null})))})):null}}]),n}(L.a.PureComponent),oo=Object(ce.a)(Yr)(Object(Ne.a)(ro));function io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ao=function(e){P()(n,e);var t=io(n);function n(){var e;w()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),j()(N()(e),"dapReportClick",(function(t){var n,r,o,i,a,l,s,c=e.props.layout.layoutType,u={actionCode:"110000102",actionName:"Staggered"===c?"点击话题-瀑布流话题榜":("4"===t.clickType?"话题榜点击话题":"话题榜点击更多")+"——一行两个",eventType:ue.e.EVENT_TYPE_CLICK,pageCatCode:(null===(n=e.props)||void 0===n?void 0:n.pageCatCode)||"",pageCatName:(null===(r=e.props)||void 0===r?void 0:r.pageCatName)||"",resSiteCode:(null===(o=e.props)||void 0===o?void 0:o.resSiteCode)||"",resSiteName:(null===(i=e.props)||void 0===i?void 0:i.resSiteName)||"",pageId:(null===(a=e.props)||void 0===a?void 0:a.pageId)||ze.a.pageId,content:"OneLineTwo"===c&&"1"===t.clickType?{comId:t.comId||"",gotoPageId:t.gotoPageId||"",gotoURL:t.gotoURL||"",nextLocation:(null==t?void 0:t.nextLocation)||"",dateType:"Staggered"===c?"57":"58",index:(null===(l=t.index)||void 0===l?void 0:l.toString())||"",clickType:t.clickType||""}:{comId:t.comId||"",gotoPageId:t.gotoPageId||"",gotoURL:t.gotoURL||"",nextLocation:(null==t?void 0:t.nextLocation)||"",dataCode:t.dataCode||"",dateType:"Staggered"===c?"57":"58",index:(null===(s=t.index)||void 0===s?void 0:s.toString())||"",clickType:t.clickType||""}};Object(fe.a)(u)})),e}return C()(n,[{key:"render",value:function(){if(Gt.a.isPc(jt.a.get("window").width))return null;var e=this.props.layout.layoutType;return"Staggered"===e?L.a.createElement(oo,v()({},this.props,{dapReportClick:this.dapReportClick})):"OneLineTwo"===e?L.a.createElement($r,v()({},this.props,{dapReportClick:this.dapReportClick})):null}}]),n}(L.a.Component),lo=n(39),so=n.n(lo),co=n(104),uo=n.n(co),po=n(149),fo=n(281),ho=n(135);function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yo=jt.a.get("window").width,vo="medium"===Object(nt.a)(yo)?yo-48:yo-32,bo=function(e,t){return K.a.create({tabWrap:{display:"flex",flex:1,flexDirection:"row",height:56},rootWapHeight:{width:yo,position:"absolute",zIndex:10,top:55},rootappHeight:{width:yo},textdeCol:{color:"#fff",fontSize:12,opacity:.6},rootWebHeight:{height:80,width:yo,position:"absolute",zIndex:10,top:55},rootPCHeight:{height:80},rootPadHeight:{height:80},list:{backgroundColor:"green",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},text:{fontFamily:q.a.fontFamilyBase,fontSize:12,color:"#CF0A2C",textAlign:"center",lineHeight:17,fontWeight:"400"},clickTextWap:{color:"green"},textWap:{fontSize:10,fontFamily:q.a.fontFamilyBase,color:"#FFFFFF",textAlign:"center",lineHeight:17,opacity:.7},bgChColor:{backgroundColor:"green"},chRedTextColor:{color:"#CF0A2C"},chWhTextColor:{color:"#fff"},mapTextTwo:{fontSize:12,opacity:.6},clickWap:{height:17,justifyContent:"center",backgroundColor:"#fff",borderRadius:9,paddingLeft:5,paddingRight:5},valueStyle:{paddingTop:8,paddingBottom:8,justifyContent:"flex-start",alignItems:"center"},pcValueStyle:{height:80,justifyContent:"center",alignItems:"center"},PadContent:{marginTop:20,paddingBottom:490},webContent:{marginTop:20,width:1200},wapTextStyle:{fontSize:14,color:"#fff",lineHeight:22,height:22},mobileContent:{marginTop:12,paddingBottom:430},wapContent:{width:vo,marginTop:12,marginBottom:50},leftpaddStyle:{paddingLeft:10},leftPadDateStyle:{paddingLeft:5},leftPcMonthStyle:{paddingLeft:0},indexStyle:{backgroundColor:"#fff",borderRadius:9,width:"100%",paddingLeft:2,paddingRight:2,height:17,textAlign:"center"},tabPadWidth:{width:719},tabPadChWidth:{width:719,margin:"auto"},tabWapWidth:{margin:"auto"},wapHeight:{width:"20%"},padHeight:{height:56},tabWrapPC:{width:1200,maxWidth:1200,display:"flex",flex:1,flexDirection:"row",height:80,lineHeight:80,backgroundColor:"#fff"},topStyle:{height:1200},pcWidthAuto:{width:1200},pcChWidth:{margin:"auto",height:80,width:1200,backgroundColor:"#fff"},judgeWidth:{width:"20%"},listPC:{backgroundColor:"#fff",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},boxPC:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:80},borderClickPC:{borderWidth:0},bgColor:{backgroundColor:"#D62625"},containerBox:{display:"flex",flexDirection:"row",justifyContent:"center"},selectDayText:{color:"#fff",marginTop:7},selectTimeText:{color:"#fff",marginTop:6},indexStylePC:{borderRadius:12,marginLeft:14,height:24,paddingLeft:8,paddingRight:8,textAlign:"center",borderWidth:1,opacity:.7,borderColor:"#000000"},textwap1:{color:"#fff"},textwap2:{color:"#fff"},texTPC1:{height:24,lineHeight:24},texTPC:{opacity:.7,fontFamily:q.a.fontFamilyBase,fontSize:14,color:"#000000",height:24,textAlign:"center",lineHeight:22},selectItemTwo:{height:24,lineHeight:24,marginTop:10,display:"flex",flexDirection:"row",alignContent:"center"},selectItemIext:{marginRight:6,lineHeight:24,fontSize:18,color:"#FFFFFF"},selectItemTextTo:{},selectedText:{fontSize:14,color:"#FFFFFF",lineHeight:24},comeStyle:{backgroundColor:"#FFFFFF",borderRadius:9,height:17,lineHeight:18,paddingLeft:4,paddingRight:4,textAlign:"center",color:"#CF0A2C",fontSize:12},tab:{alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20},container:{height:50,borderWidth:1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderColor:"#ccc",borderBottomWidth:0},tabs:{flexDirection:"row",justifyContent:"flex-start"},tabsWap:{flexDirection:"row",justifyContent:"flex-start"},publicWidth:{maxWidth:1200,width:"100%",margin:"auto",position:"relative"},emptyWap:{position:"absolute",top:64,left:0,right:0,zIndex:2},prdAreaPad:{paddingLeft:24,paddingRight:24},prdArea:{paddingLeft:16,paddingRight:16},emptyWapContent:{flex:1,backgroundColor:"#fff",borderRadius:16,position:"relative"},emptyImg:{width:120,height:120},emptyText:{marginTop:8,textAlign:"center",opacity:.4,fontSize:14,color:"#000"},emptyContainer:{height:500,backgroundColor:"#FFF",marginBottom:24},padStyle:{width:"20%",height:80},webEmpty:{marginTop:20,height:500,borderRadius:2,backgroundColor:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center"},wapEmpty:{width:vo,height:jt.a.get("window").height-240,borderRadius:16,backgroundColor:"#ffffff",display:"flex",justifyContent:"center",alignItems:"center"},appEmpty:{borderRadius:16,backgroundColor:e.C33.color,display:"flex",justifyContent:"center",alignItems:"center"},mpbox:{marginLeft:"auto",marginRight:"auto",width:vo},wapbox:{marginLeft:"auto",marginRight:"auto",width:vo},appbox:{marginTop:0,width:"100%"},wapPrebox:{width:1200,marginLeft:"auto",marginRight:"auto"},padbox:{marginLeft:"auto",marginRight:"auto",width:vo},wapboxHeader:{marginTop:1,display:"flex",borderRadius:12,backgroundColor:"#FFF0F1",width:vo,height:40,alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingLeft:16,paddingRight:16},appboxHeader:{display:"flex",borderRadius:12,backgroundColor:"#FFF0F1",height:40,alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingLeft:16,paddingRight:16},waptitle:{alignItems:"center",justifyContent:"center",flexDirection:"row"},pctitle:{width:719},fire:{width:14,height:16},wapfire:mo(mo({marginLeft:6},e.C11),e.T8),wapcountdownEnd:mo(mo({},e.T2),{},{marginRight:6}),wapcountdownNum:mo(mo(mo({},e.T2),e.C17),{},{width:16,height:16,backgroundColor:"#CF0A2C",borderRadius:2,textAlign:"center"}),wapcountdownPoint:mo(mo({},e.T2),{},{color:"#CF0A2C",textAlign:"center",lineHeight:14,marginLeft:3,marginRight:3}),wapInner:{backgroundColor:"#ffffff",height:596,paddingBottom:48},isShowDate:{display:"none"},isHasOverDaySty:{marginTop:16},loadingText:mo(mo({},e.C15),{},{fontSize:12,textAlign:"center"}),loadingWebText:{width:1200},productWrap:{display:"flex",flexDirection:"row",flexWrap:"wrap"}})};function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Co=jt.a.get("window").width,Oo=(Object(nt.a)(Co),function(e,t,n,r){return K.a.create({borderClickPC:{borderWidth:0},bgColor:{backgroundColor:"#D62625"},groupStyColor:{backgroundColor:"transparent"},containerBox:{display:"flex",flexDirection:"row",justifyContent:"center"},tab:{alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20},tabs:{flexDirection:"row",backgroundColor:t||"transparent",height:72,margin:"auto"},isShowDate:{display:"none"},isHasOverDaySty:{marginTop:16},twoSessionCen:{margin:"auto"},ImgContainer:{justifyContent:"center",width:40.4},ImgInnerSize:{width:"100%",height:59},textdeCol:So(So({},t||r?e.C17:e.C11),{},{fontSize:n>2?12:16,fontWeight:"400",lineHeight:2==n?22:17,height:2==n?22:17,opacity:.6}),textClickdeCol:So(So({},t||r?e.C17:e.C18),{},{fontSize:n>2?12:16,fontWeight:"400",lineHeight:2==n?22:17,height:2==n?22:17}),wapTextStyle:So(So({},t||r?e.C17:e.C11),{},{fontSize:16,lineHeight:22,height:22,fontWeight:"400",opacity:.6}),wapTextClickStyle:So(So({},t||r?e.C17:e.C18),{},{fontSize:16,lineHeight:22,height:22,fontWeight:"400"}),chWhTextColor:So(So({},t||r?e.C17:e.C11),{},{fontSize:12,lineHeight:17,fontWeight:"400",opacity:.6}),rightContainer:{flex:1,alignItems:"center",justifyContent:"center"},chRedTextColor:So(So({},t||r?e.C18:e.C17),{},{fontSize:12}),loadingText:So(So({},e.C15),{},{fontSize:12,textAlign:"center"}),cardTitleStyle:{fontSize:20,fontWeight:"500",color:e.C11.color},itemMargin:{marginRight:8},itemTopSty:{marginTop:4},containerLayout:{flex:1,alignItems:"center",justifyContent:"center"},ItemDirectionRowSty:{flexDirection:"row",alignItems:"center"},ItemDirectionColumnSty:{flexDirection:"column",alignItems:"center"},BottomBoxMargin:{marginBottom:8},clickWap:{height:17,justifyContent:"center",alignItems:"center",backgroundColor:r?e.C33.color:t?e.C17.color:e.C18.color,borderRadius:9,paddingLeft:5,paddingRight:5},notClickType:{justifyContent:"center",alignItems:"center"},renderDataOneLen:{justifyContent:"center",alignItems:"center"},renderOneTex:{lineHeight:17,height:17},bottomItemWidth:{width:84,textAlign:"center"}})});function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var To=jt.a.get("window").width,xo=jt.a.get("window"),Io=Object(nt.a)(xo.width),ko=function(e){P()(n,e);var t=Po(n);function n(e){var o;return w()(this,n),o=t.call(this,e),j()(N()(o),"_tabsMeasurements",void 0),j()(N()(o),"_tabContainerMeasurements",void 0),j()(N()(o),"containerMeasurements",void 0),j()(N()(o),"_scrollView",void 0),j()(N()(o),"handleSwitchScreenDir",(function(){var e="medium"===Object(nt.a)(o.props.width)?o.props.width-48:o.props.width-32;o.setState({width:o.props.width,size:e})})),j()(N()(o),"updateView",(function(e){var t=Math.floor(e.value),n=e.value%1,r=o.props.tabs.length,i=r-1;0===r||e.value<0||e.value>i||o.necessarilyMeasurementsCompleted(t,t===i)&&(o.updateTabPanel(t,n),o.updateTabUnderline(t,n,r))})),j()(N()(o),"necessarilyMeasurementsCompleted",(function(e,t){return o._tabsMeasurements[e]&&(t||o._tabsMeasurements[e+1])&&o._tabContainerMeasurements&&o.containerMeasurements})),j()(N()(o),"updateTabPanel",(function(e,t){var n=o.containerMeasurements.width,i=o._tabsMeasurements[e].width,a=o._tabsMeasurements[e+1],l=a&&a.width||0,s=o._tabsMeasurements[e].left+t*i;if(s=(s-=(n-(1-t)*i-t*l)/2)>=0?s:0,"android"===r.a.OS)o._scrollView.scrollTo({x:s,y:0,animated:!1});else{var c=o._tabContainerMeasurements.width-o.containerMeasurements.width;s=s>c?c:s,o._scrollView.scrollTo({x:s,y:0,animated:!1})}})),j()(N()(o),"updateTabUnderline",(function(e,t,n){var r=o._tabsMeasurements[e].left,i=o._tabsMeasurements[e].right;if(e<n-1){var a=t*o._tabsMeasurements[e+1].left+(1-t)*r,l=t*o._tabsMeasurements[e+1].right+(1-t)*i;o.state._leftTabUnderline.setValue(a),o.state._widthTabUnderline.setValue(l-a)}else o.state._leftTabUnderline.setValue(r),o.state._widthTabUnderline.setValue(i-r)})),j()(N()(o),"renderTab",(function(e,t,n,r,i){var a=o.state.nowTime,l=new Date(e).getTime(),s=o.getResultTime(e),c=o.getResultDate(e),u=a-l<0,d=Object(J.G)(e,a),p=o.props.seckData,f=!1,h=p&&Array.isArray(p)&&p.length;return p.every((function(e){return Object(J.G)(e.snapUpStartTime,a)}))&&(f=!0),L.a.createElement(G.a,{style:i.containerLayout,onPress:function(){return o.onPressHandler(n)}},L.a.createElement(A.a,{style:[i.valueStyle,{flexDirection:h>1?"column":"row"},h<=2?i.renderDataOneLen:null]},L.a.createElement(A.a,{style:[h>2?i.ItemDirectionColumnSty:i.ItemDirectionRowSty,2===h&&d?i.twoSessionCen:null]},L.a.createElement(A.a,{style:[h<=2?i.itemMargin:null,f?i.isShowDate:null]},L.a.createElement(se.a,{ellipsizeMode:"tail",numberOfLines:1,style:r?i.textClickdeCol:i.textdeCol},c)),L.a.createElement(A.a,{style:[h<2?i.itemMargin:null]},L.a.createElement(se.a,{style:[r?i.wapTextClickStyle:i.wapTextStyle,1===h?i.renderOneTex:null]},s))),L.a.createElement(A.a,{style:[r?i.clickWap:i.notClickType,2!=h||f?{}:i.itemTopSty]},L.a.createElement(se.a,{numberOfLines:1,ellipsizeMode:"tail",style:[r?i.chRedTextColor:i.chWhTextColor,i.mapTextTwo,h<=2?i.bottomItemWidth:{}]},u?Object(ut.b)("comingSoon"):Object(ut.b)("onGoing")))))})),j()(N()(o),"measureTab",(function(e,t){var n=t.nativeEvent.layout,r=n.x,i=n.width,a=n.height;o._tabsMeasurements[e]={left:r,right:r+i,width:i,height:a},o.updateView({value:o.props.scrollValue.__getValue()})})),j()(N()(o),"getResultTime",(function(e){var t=new Date(e),n=function(e){return(e<10?"0":"")+e};return n(t.getHours())+":"+n(t.getMinutes())})),j()(N()(o),"getResultDate",(function(e){var t=new Date(e);return t.getMonth()+1+Object(ut.b)("month")+t.getDate()+Object(ut.b)("date")})),j()(N()(o),"onTabContainerLayout",(function(e){o._tabContainerMeasurements=e.nativeEvent.layout;var t=o._tabContainerMeasurements.width;t<To&&(t=To),o.setState({_containerWidth:t}),o.updateView({value:o.props.scrollValue.__getValue()})})),j()(N()(o),"onContainerLayout",(function(e){o.containerMeasurements=e.nativeEvent.layout,o.updateView({value:o.props.scrollValue.__getValue()})})),j()(N()(o),"getImgUrl",(function(e,t){var n=e||{},r=n.imgNormal,o=n.imgDarkMode;return t?ze.a.cmsCdnPath+(o||r):ze.a.cmsCdnPath+(r||o)})),o._tabsMeasurements=[],o.state={_leftTabUnderline:new W.a.Value(0),_widthTabUnderline:new W.a.Value(0),_containerWidth:null,defaultIndex:"0",width:o.props.width,size:"medium"===Object(nt.a)(o.props.width)?o.props.width-48:o.props.width-32,nowTime:""},o}return C()(n,[{key:"componentDidMount",value:function(){this.props.scrollValue.addListener(this.updateView),B.a.addListener("switchScreenDir",this.handleSwitchScreenDir),this.handleTime()}},{key:"componentWillMount",value:function(){B.a.removeListener("switchScreenDir",this.handleSwitchScreenDir)}},{key:"handleTime",value:function(){var e,t=this;Object(jn.r)().then((function(n){e=n.success?1e3*n.serverTime:(new Date).getTime(),t.setState({nowTime:e})})).catch((function(){e=(new Date).getTime(),t.setState({nowTime:e})}))}},{key:"isStart",value:function(e){return this.state.nowTime<e?"未开始":"已开始"}},{key:"onPressHandler",value:function(e){this.props.goToPage(e),this.setState({defaultIndex:e})}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.tabs)!==JSON.stringify(this.props.tabs)&&this.state._containerWidth&&this.setState({_containerWidth:null})}},{key:"render",value:function(){var e=this,t=this.props||{},n=t.stickyScrollY,r=t.layoutY,o=("true"===this.props.isFixed&&n.interpolate({inputRange:[-1,0,r,r+1],outputRange:[0,0,0,1]}),this.props.seckData),i=this.props||{},a=i.configInfo,l=i.darkStyle,s=a||{},c=s.showSetting,u=s.cardTitle,d=s.titleShow,p=this.props.width,f=Object(nt.a)(p),h=o&&Array.isArray(o)&&o.length;return L.a.createElement(H.b,{themeStyles:function(t){return Oo(t,e.props.styleChageSty,h,l)}},(function(t,n,r){return L.a.createElement(W.a.View,{style:["small"===Io?{}:t.rootPadHeight,{justifyContent:"center",alignItems:"center"}],onLayout:e.onContainerLayout},L.a.createElement(ur.a,{automaticallyAdjustContentInsets:!1,ref:function(t){e._scrollView=t},horizontal:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,directionalLockEnabled:!0,onScroll:e.props.onScroll,bounces:!1,scrollsToTop:!1},o&&o.length>0?L.a.createElement(A.a,{style:[t.tabs,{width:e.props.width,paddingHorizontal:"small"===f?16:24}],onLayout:e.onTabContainerLayout},"true"===d?L.a.createElement(A.a,{style:t.ImgContainer},"2"===c?L.a.createElement(dr.a,{style:t.ImgInnerSize,source:{uri:e.getImgUrl(a,l)},resizeMode:"contain"}):"1"===c?L.a.createElement(se.a,{style:t.cardTitleStyle,numberOfLines:2,ellipsizeMode:"tail"},u):null):null,L.a.createElement(A.a,{style:[t.rightContainer,{flexDirection:h>1?"row":"column"}]},o.slice(0,"true"===d?4:5).map((function(n,r){var o=e.props.activeTab===r;return(e.props.renderTab||e.renderTab)(n.snapUpStartTime,n.snapUpEndTime,r,o,t)})))):null))}))}}]),n}(R.Component);j()(ko,"defaultProps",{scrollOffset:52,activeTextColor:"navy",inactiveTextColor:"black",backgroundColor:null,style:{},tabStyle:{},tabsContainerStyle:{},underlineStyle:{}});var Eo=ko;function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lo={exposeItem_product:function(e){var t=this,n={},r=[];return null==e||e.map((function(e,o){var i,a,l,s,c;n={actionCode:"910000000",actionName:"秒杀频道组件曝光",eventType:ue.e.EVENT_TYPE_EXPOSURE,pageId:t.props.pageId},r.push({comId:"flashSaleChannel",SKUCode:null===(i=e.skuCode)||void 0===i?void 0:i.toString(),index:null===(a=e.index)||void 0===a?void 0:a.toString(),ruleId:"",sId:"",reportCode:null===(l=e.reportCode)||void 0===l?void 0:l.toString(),flashSaleStatus:null===(s=e.flashSaleStatus)||void 0===s?void 0:s.toString(),flashSaleType:"0",row:e.row.toString(),column:e.column.toString(),ProductID:null===(c=e.productId)||void 0===c?void 0:c.toString()})})),{isBatch:!0,commonData:Ro(Ro({},n),{},{pageCatCode:"p_seckill",pageCatName:"秒杀频道页",resSiteCode:"s_seckill_limseckill",resSiteName:"限时秒杀"}),content:r}},clickItem_product:function(e){var t,n,r,o;return{data:{actionName:"秒杀频道组件点击商品",actionCode:"910000002",pageId:this.props.pageId,content:{comId:"flashSaleChannel",SKUCode:null===(t=e.skuCode)||void 0===t?void 0:t.toString(),ProductID:null===(n=e.productId)||void 0===n?void 0:n.toString(),row:e.row.toString(),column:e.column.toString(),reportCode:null===(r=e.sessionCode)||void 0===r?void 0:r.toString(),flashSaleStatus:null===(o=e.sessionState)||void 0===o?void 0:o.toString(),flashSaleType:"0"},pageCatCode:"p_seckill",pageCatName:"秒杀频道页",resSiteCode:"s_seckill_limseckill",resSiteName:"限时秒杀"}}},clickItem:function(e,t){return{data:{actionCode:"910000001",actionName:"秒杀频道组件点击场次",pageId:this.props.pageId,content:{comId:"flashSaleChannel",reportCode:null==e?void 0:e.toString(),flashSaleStatus:null==t?void 0:t.toString(),flashSaleType:"0"},pageCatCode:"p_seckill",pageCatName:"秒杀频道页",resSiteCode:"s_seckill_limseckill",resSiteName:"限时秒杀"}}}},_o=n(33),Do=n(59),No=n(63),Wo=n(46),Ao=function(){var e=this;return{isSmall:function(){return"small"===Object(nt.a)(e.layoutWidth)},isPad:function(){return"medium"===Object(nt.a)(e.layoutWidth)||"large"===Object(nt.a)(e.layoutWidth)&&e.state.width<it.a.safety_area},isPadCeilling:function(){return"medium"===Object(nt.a)(e.layoutWidth)},iswapCeilling:function(){return"small"===Object(nt.a)(e.layoutWidth)},iswebCeilling:function(){return"large"===Object(nt.a)(e.layoutWidth)},isApkOrIos:function(){return"android"===r.a.OS||"ios"===r.a.OS},isSessionOver:function(t){if(e.state.nowTime<new Date(t).getTime())return!0},isStart:function(t){return e.state.nowTime<t?"未开始":"已开始"},showFirstTime:function(t){e.setState({reload:t})},isHorizontal:function(){var e=jt.a.get("window").width;return e>jt.a.get("window").height&&e>=1024},calacColumn:function(e){var t={row:0,column:0},n=e+1;return this.isSmall()&&(t.row=n,t.column=1),this.isPadCeilling()&&(n%2==0?(t.row=n&&n/2,t.column=2):n%2!=0&&(t.row=n&&Math.ceil(n/2),t.column=1)),this.isHorizontal()&&(n%3==0?(t.row=n&&n/3,t.column=3):n%3==1?(t.row=n&&Math.ceil(n/3),t.column=1):n%3==2&&(t.row=n&&Math.ceil(n/3),t.column=2)),t},getTotalNumber:function(e){var t;return this.isSmall()&&(t=e),this.isPadCeilling()&&(t=2*e),this.isHorizontal()&&(t=3*e),t}}};function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ho(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var Uo={viewAreaCoveragePercentThreshold:50},Vo=jt.a.get("window"),Go=function(e){P()(n,e);var t=zo(n);function n(e){var o;return w()(this,n),o=t.call(this,e),j()(N()(o),"newArry",[]),j()(N()(o),"pageParamListFilter",[]),j()(N()(o),"handleViewableItemsChanged",void 0),j()(N()(o),"itemlist",[]),j()(N()(o),"timers",void 0),j()(N()(o),"isLoading",!1),j()(N()(o),"pageIndexArr",uo()(5,(function(){return 1}))),j()(N()(o),"loadAll",uo()(5,(function(){return!1}))),j()(N()(o),"curTabIndex",0),j()(N()(o),"originWidth",jt.a.get("window").width),j()(N()(o),"originHeight",jt.a.get("window").height),j()(N()(o),"visiableItemList",[]),j()(N()(o),"scrollTimer",void 0),j()(N()(o),"layoutWidth",void 0),j()(N()(o),"layView",void 0),j()(N()(o),"sessionCodeRes",void 0),j()(N()(o),"interTimer",void 0),j()(N()(o),"CommonJs",void 0),j()(N()(o),"handleScrollEvent",(function(e){var t=e.nativeEvent.contentOffset.y;o._layout(o.layView).then((function(e){if(e&&e.pageY&&e.height&&t>e.pageY+t+e.height-Vo.height/2*3){var n=o.curTabIndex,r=o.state,i=r.sonData,a=r.loadAll;o.interTimer=setTimeout((function(){var e;a[n]||o.getSeckillInfo(null===(e=i[n])||void 0===e?void 0:e.sessionCode)}),300)}}))})),j()(N()(o),"handleswitchScreenDir",(function(){var e="medium"===Object(nt.a)(Wo.a.width)?Wo.a.width-48:Wo.a.width-32;o.setState({width:Wo.a.width,size:e})})),j()(N()(o),"_onScrollMomentEnd",(function(e){B.a.emit("onScrollEvent",e)})),j()(N()(o),"isPad",(function(){return"medium"===Object(nt.a)(o.props.curWidth)||"large"===Object(nt.a)(o.props.curWidth)&&o.state.width<it.a.safety_area})),j()(N()(o),"receiveRef",(function(e,t){e&&(e.exposeObj=t,o.itemlist.push(e))})),j()(N()(o),"getWidth",(function(e){o.setState({singleWidth:e.width})})),j()(N()(o),"renderFooter",(function(e,t){var n=o.state,r=(n.loadState,n.loadAll);return L.a.createElement(L.a.Fragment,null,t>18?L.a.createElement(se.a,{style:[e.loadingText,{marginTop:12,width:o.layoutWidth,color:Rt.a.darkBool?"rgba(255,255,255,.9)":"rgba(0,0,0,.9)"}]},r[o.curTabIndex]?Object(ut.b)("in_the_end"):Object(ut.b)("load_more_products")):null)})),j()(N()(o),"isApkOrIos",(function(){return"android"===r.a.OS||"ios"===r.a.OS})),j()(N()(o),"getHorWidth",(function(){return o.CommonJs.isApkOrIos()?Wo.a.width:jt.a.get("window").width})),j()(N()(o),"isPadHorizontal",(function(){var e=o.layoutWidth;return o.CommonJs.isPad()&&e>=o.originWidth&&e>=o.originHeight&&e>=1024})),j()(N()(o),"isApkPadHorizontal",(function(){var e=o.layoutWidth;return o.CommonJs.isPad()&&e>=o.originWidth&&e>=o.props.screenHeight})),j()(N()(o),"getStyleChage",(function(e,t){var n,r,i=(o.props.styleChange||{})._bgColor;return i||(e&&null!=e&&e.imgStyle?"transparent"!==(null==e||null===(n=e.imgStyle)||void 0===n?void 0:n.backgroundColor)&&(null==e||null===(r=e.imgStyle)||void 0===r?void 0:r.backgroundColor):1==(null==t?void 0:t.bgFill)?t.bgColor:void 0)})),j()(N()(o),"setmergeStyle",(function(){var e=o.props.styleChange,t=Object(nt.a)(o.layoutWidth);return Object(gt.e)(e)?"":Object(gt.a)(e,t)})),j()(N()(o),"getRenderRes",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="true"===e?t.slice(0,4):t.slice(0,5);return so()(t)>0?n:[]})),o.CommonJs=Ao.call(N()(o),e),o.state={relList:[],productList:[],pageData:[],showLoading:!1,loadState:2,loadAll:[!1,!1,!1,!1,!1],loadingPostion:"bottom",hours:"00",minutes:"00",seconds:"00",sonData:[],categoryList:[],pageParamList:[],width:Wo.a.width,size:"medium"===Object(nt.a)(Wo.a.width)?Wo.a.width-48:Wo.a.width-32,nowTime:"",singleWidth:160,reload:!1,isFixScreen:!1,isPadApk:!1,layoutY:0},o.handleViewableItemsChanged=o.handleVisibleChange.bind(N()(o)),o._onLayout=o.onLayout.bind(N()(o)),o}return C()(n,[{key:"showFirstTime",value:function(e){this.setState({reload:e})}},{key:"componentDidMount",value:function(){var e=this;Yt.a.invokeVmallNative("device","isPad",{}).then((function(t){"true"===(null==t?void 0:t.pad)?e.setState({isPadApk:!0}):e.setState({isPadApk:!1})})),Object(_o.i)().then((function(t){e.setState({isFixScreen:t})})),this.handleTime(),B.a.addListener("switchScreenDir",this.handleswitchScreenDir),B.a.addListener("onScrollEvent",this.handleScrollEvent)}},{key:"_layout",value:function(e){var t=Object(M.a)(e)||0;return new Promise((function(e){F.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"componentWillMount",value:function(){this.scrollTimer&&clearTimeout(this.scrollTimer),this.interTimer&&clearTimeout(this.interTimer)}},{key:"componentWillUnmount",value:function(){B.a.removeListener("switchScreenDir",this.handleswitchScreenDir),B.a.removeListener("onScrollEvent",this.handleScrollEvent)}},{key:"exposeItem",value:function(e){}},{key:"handleVisibleChange",value:function(e){var t,n=[],r=Fo(e.viewableItems);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o.index)}}catch(e){r.e(e)}finally{r.f()}this.visiableItemList=n}},{key:"handleTime",value:function(){var e,t=this;Object(jn.r)().then((function(n){e=n.success?1e3*n.serverTime:(new Date).getTime(),t.setState({nowTime:e},(function(){t.setDataFormat()}))})).catch((function(){e=(new Date).getTime(),t.setState({nowTime:e},(function(){t.setDataFormat()}))}))}},{key:"isSessionOver",value:function(e){if(this.state.nowTime<new Date(e).getTime())return!0}},{key:"setDataFormat",value:function(){var e=this,t=((this.props||{}).dataSourceList[0]||{}).dataSourceCode,n=JSON.parse(JSON.stringify(this.props.pageData)),r=n&&n[t],o=this.newArry;this.setState({pageParamList:this.pageParamListFilter});var i=[],a=this.state.nowTime;r&&0!==r.length&&r.forEach((function(e){if(so()(e.sessions)>0)for(var t=0;t<e.sessions.length;t++){var n,r=new Date(e.sessions[t].snapUpEndTime).getTime();a<=r&&null!=e&&null!==(n=e.sessions[t])&&void 0!==n&&n.sbomList.length&&i.push(e.sessions[t])}}));var l=so()(i)>0?i.slice(0,5):[];l&&(null==l||l.map((function(t){var n=e.state.nowTime,r=new Date(t.snapUpStartTime).getTime(),o=new Date(t.snapUpEndTime).getTime();n-r<0?t.sessionState="1":n-r>0&&n-o<0&&(t.sessionState="0")})));for(var s=[!1,!1,!1,!1,!1],c=0;c<l.length;c++)l[c].sbomList.length<18&&(s[c]=!0);this.setState({loadAll:s,sonData:l,categoryList:o},(function(){}))}},{key:"changeTab",value:function(e){No.a.setShowLoading(!1);var t=this.state.sonData;this.curTabIndex=e.i,this.props.clickItem&&this.props.clickItem(t[e.i].sessionCode,t[e.i].sessionState)}},{key:"dealListData",value:function(e){var t=1,n=Object(nt.a)(this.layoutWidth);t="small"===n?1:"medium"===n?2:3,this.isPadHorizontal()&&(t=3);for(var r=[],o=[],i=0;i<e.length;i++)o.push(e[i]),(i+1)%t==0&&(r.push(o),o=[]);return e.length%t!=0&&r.push(o),r}},{key:"onPressProduct",value:function(e){this.props.clickItem_product&&this.props.clickItem_product(e);var t=e.productID,n=e.skuCode;Object(Do.d)(t,n)}},{key:"cutArray",value:function(e,t){for(var n=0,r=[];n<e.length;)r.push(e.slice(n,n+=t));return r}},{key:"getSeckillInfo",value:function(e){var t=this;this.isLoading=!0,this.state.loadAll[this.curTabIndex]=!1,this.setState({loadState:1}),this.pageIndexArr[this.curTabIndex]=this.pageIndexArr[this.curTabIndex]+1,Object(jn.q)(e,this.pageIndexArr[this.curTabIndex]).then((function(e){if(t.setState({loadState:2}),t.isLoading=!1,"0"===e.code){if(e.sbomList.length<18){var n=t.state.loadAll;n[t.curTabIndex]=!0,t.setState({loadAll:n})}var r=t.state.sonData,o=r[t.curTabIndex].sbomList.concat(e.sbomList);r[t.curTabIndex].sbomList=o,t.setState({sonData:r})}})).catch((function(){t.isLoading=!1}))}},{key:"isStart",value:function(e){return this.state.nowTime<e?"未开始":"已开始"}},{key:"renderList",value:function(e,t,n,r,o){var i=this,a=this.layoutWidth,l=e.sbomList;"1"==this.pageIndexArr[this.curTabIndex]&&(l=l.slice(0,18));var s=e.sessionCode,c=e.sessionState,u=Object(nt.a)(a),d=jt.a.get("window"),p=this.props.screenHeight,f=d.width,h=(po.a.currentHeight,this.layoutWidth,this.state||{}),g=h.isFixScreen,m=h.isPadApk,y=!g&&m;f>d.height&&(this.isApkPadHorizontal()&&po.a.currentHeight),"small"===u&&(y?po.a.currentHeight:po.a.currentHeight);var v=l&&this.dealListData(l)&&this.dealListData(l.slice(0,r));return L.a.createElement(ho.a,{heading:"Tab122"},L.a.createElement(A.a,{style:[n.appbox,{width:this.layoutWidth}]},L.a.createElement(qt.a,{ref:function(e){i.layView=e},style:n.productWrap,onMomentumScrollEnd:this._onScrollMomentEnd,data:v,showsVerticalScrollIndicator:!1,renderItem:function(e){var t=e.item,n=e.index;return i.renderBox(t,n,s,c)},keyExtractor:function(e,t){return null==t?void 0:t.toString()},ListFooterComponent:this.renderFooter(n,r),refreshing:!1,onViewableItemsChanged:this.handleViewableItemsChanged,viewabilityConfig:Uo})))}},{key:"getList",value:function(e){this.setState({relList:e})}},{key:"onLayout",value:function(e){this.setState({layoutY:e.nativeEvent.layout.y})}},{key:"renderBox",value:function(e,t,n,r){var o=this,i=this.layoutWidth,a=1,l=Object(nt.a)(i);a="small"===l?1:"medium"===l?2:3,this.isPadHorizontal()&&(a=3);var s="medium"===l?i-48:"small"===l?i-32:it.a.safety_area,c=(this.state.relList,(s-12*(a-1))/a);return L.a.createElement(L.a.Fragment,null,L.a.createElement(A.a,{style:{display:"flex",flexDirection:"row",width:s,marginLeft:"small"===l?16:24}},e.map((function(e,i){return o.renderItemBox(e,t,n,r,c,i)}))))}},{key:"renderItemBox",value:function(e,t,n,r,o,i){var a,l,s,c,u,d=this;e.prdName=e.productName,u=e.webpPhotoName&&Gt.a.isApp()?ze.a.cmsCndProdPath+e.webpPhotoPath+"800_800_"+e.webpPhotoName:ze.a.cmsCndProdPath+e.photoPath+"428_428_"+e.photoName,e.imgUrl=u,e.originPrice=e.price,e.sessionCode=e.sessionCode?e.sessionCode:n,e.itemIndex=t,e.salePrice=e.secKillPrice,e.productId=e.productID,e.priceMode=1,e.skuCode=e.skuCode?e.skuCode:"",e.skuName=e.skuName?e.skuName:"",e.sellingPoint=e.sellingPoint?e.sellingPoint:"",e.hasInventory=!!Object(gt.e)(e.hasInventory)||e.hasInventory,e.isInv=e.productID&&!e.hasInventory?0:1,"1"===r?(e.btnName=Object(ut.b)("Take_look"),e.btnType=3):(e.btnType=2,e.hasInventory?e.btnName=Object(ut.b)("snap_up"):e.btnName=Object(ut.b)("originalPricePurchase")),e.buttonLink=e.buttonLink?e.buttonLink:"",e.promotionInfo=e.promoWord?e.promoWord:"",e.sessionState=e.sessionState?e.sessionState:r,e.row=e.itemIndex?null===(a=this.CommonJs.calacColumn(e.itemIndex))||void 0===a?void 0:a.row:0,e.column=e.itemIndex?null===(l=this.CommonJs.calacColumn(e.itemIndex))||void 0===l?void 0:l.column:0;var p=Mo(Mo({},this.props.configData),{},{promotionShow:!0,prdNameNum:2,originPriceShow:!0,buyIconShow:!0,outOfStockTagShow:!0,outOfStockTagText:Object(ut.b)("seckillSoldOut"),activeOpacity:1});this.isPadHorizontal()&&(p.isPadHorizontal=!0);var f={type:"product",skuCode:e.skuCode,row:null===(s=this.CommonJs.calacColumn(e.itemIndex))||void 0===s?void 0:s.row,column:null===(c=this.CommonJs.calacColumn(e.itemIndex))||void 0===c?void 0:c.column,reportCode:e.sessionCode,flashSaleStatus:e.sessionState,productId:e.productId};return L.a.createElement(L.a.Fragment,null,L.a.createElement(A.a,{style:{marginTop:12,marginLeft:0!==i?12:0}},L.a.createElement(kr.a,{key:e.productId+t,structure:"l2r",type:"activity",data:e,config:p,iWidth:o,onClick:function(){return d.onPressProduct(e)},receiveRef:function(e){return d.receiveRef(e,f)}})))}},{key:"render",value:function(){var e=this,t=this.setmergeStyle(),n=this.state,r=n.sonData,o=n.categoryList,i=this.props.configInfo||{},a=i.rowsPerScreen,l=i.titleShow,s=this.getRenderRes(l,r),c=this.CommonJs.getTotalNumber(a),u=this.getStyleChage(t,this.props.groupStyleChange),d="homePage"===this.props.pageType?-8:-12;return 0===r.length?L.a.createElement(A.a,{style:{marginTop:d}}):L.a.createElement(H.b,{themeStyles:function(e){return bo(e)}},(function(n,r,i){return e.layoutWidth=i,L.a.createElement(L.a.Fragment,null,L.a.createElement(A.a,{onLayout:e._onLayout}),L.a.createElement(A.a,{style:[u&&{backgroundColor:u}]},L.a.createElement(fo.a,{pageType:"seckill",renderTabBar:function(){return L.a.createElement(Eo,{seckData:s,configInfo:e.props.configInfo,darkStyle:e.props.darkStyle,layoutY:e.state.layoutY,stickyScrollY:e.props.stickyScrollY,isFixed:"true",width:i,groupStyleChange:e.props.groupStyleChange,styleChageSty:u})},onChangeTab:function(t){return e.changeTab(t)},isFromSeckillChannel:!0,isFromSeckill:!0,curWidth:e.layoutWidth},we()(s,(function(r){return e.renderList(r,o,n,c,t)})))))}))}}]),n}(L.a.Component),Yo=Object(_.a)(Object(ce.a)(Lo)(Object(Ne.a)(Go))),Jo=n(178);function Ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var qo=jt.a.get("window").width,Qo=jt.a.get("window"),$o=Object(nt.a)(Qo.width),Xo=function(e){P()(n,e);var t=Ko(n);function n(e){var o;return w()(this,n),o=t.call(this,e),j()(N()(o),"_tabsMeasurements",void 0),j()(N()(o),"_tabContainerMeasurements",void 0),j()(N()(o),"containerMeasurements",void 0),j()(N()(o),"_scrollView",void 0),j()(N()(o),"handleSwitchScreenDir",(function(){var e="medium"===Object(nt.a)(o.props.width)?o.props.width-48:o.props.width-32;o.setState({width:o.props.width,size:e})})),j()(N()(o),"updateView",(function(e){var t=Math.floor(e.value),n=e.value%1,r=o.props.tabs.length,i=r-1;0===r||e.value<0||e.value>i||o.necessarilyMeasurementsCompleted(t,t===i)&&(o.updateTabPanel(t,n),o.updateTabUnderline(t,n,r))})),j()(N()(o),"necessarilyMeasurementsCompleted",(function(e,t){return o._tabsMeasurements[e]&&(t||o._tabsMeasurements[e+1])&&o._tabContainerMeasurements&&o.containerMeasurements})),j()(N()(o),"updateTabPanel",(function(e,t){var n=o.containerMeasurements.width,i=o._tabsMeasurements[e].width,a=o._tabsMeasurements[e+1],l=a&&a.width||0,s=o._tabsMeasurements[e].left+t*i;if(s=(s-=(n-(1-t)*i-t*l)/2)>=0?s:0,"android"===r.a.OS)o._scrollView.scrollTo({x:s,y:0,animated:!1});else{var c=o._tabContainerMeasurements.width-o.containerMeasurements.width;s=s>c?c:s,o._scrollView.scrollTo({x:s,y:0,animated:!1})}})),j()(N()(o),"updateTabUnderline",(function(e,t,n){var r=o._tabsMeasurements[e].left,i=o._tabsMeasurements[e].right;if(e<n-1){var a=t*o._tabsMeasurements[e+1].left+(1-t)*r,l=t*o._tabsMeasurements[e+1].right+(1-t)*i;o.state._leftTabUnderline.setValue(a),o.state._widthTabUnderline.setValue(l-a)}else o.state._leftTabUnderline.setValue(r),o.state._widthTabUnderline.setValue(i-r)})),j()(N()(o),"renderTab",(function(e,t,n,r,i){var a,l="medium"===$o,s=o.state.nowTime,c=new Date(e).getTime(),u=o.getResultTime(e),d=o.getResultDate(e),p=new Date(t).getTime(),f=s-c<0,h=s-c>0&&s-p<0,g=Object(J.G)(e,s),m=o.props.seckData,y=m&&Array.isArray(m)&&m.length;return m.every((function(e){return Object(J.G)(e.snapUpStartTime,s)}))&&(a=!0),o.renderItem(n,r,i,y,{isPad:l,nowTime:s,startTime:c,displayTime:u,displayDate:d,endTime:p,toStart:f,onGoing:h,isTheSameDay:g,IsHasOverDay:a})})),j()(N()(o),"renderItem",(function(e,t,n,r,i){var a=i||{},l=a.displayTime,s=a.displayDate,c=a.toStart,u=a.isTheSameDay,d=a.IsHasOverDay;return L.a.createElement(G.a,{style:n.containerLayout,onPress:function(){return o.onPressHandler(e)}},L.a.createElement(A.a,{style:[n.valueStyle,{flexDirection:r>1?"column":"row"},r<=2?n.renderDataOneLen:null]},L.a.createElement(A.a,{style:[r>2?n.ItemDirectionColumnSty:n.ItemDirectionRowSty,2===r&&u?n.twoSessionCen:null]},L.a.createElement(A.a,{style:[r<=2?n.itemMargin:null,d?n.isShowDate:null]},L.a.createElement(se.a,{ellipsizeMode:"tail",numberOfLines:1,style:t?n.textClickdeCol:n.textdeCol},s)),L.a.createElement(A.a,{style:[r<2?n.itemMargin:null]},L.a.createElement(se.a,{style:[t?n.wapTextClickStyle:n.wapTextStyle,1===r?n.renderOneTex:null]},l))),L.a.createElement(A.a,{style:[t?n.clickWap:n.notClickType,2!=r||d?{}:n.itemTopSty]},L.a.createElement(se.a,{numberOfLines:1,ellipsizeMode:"tail",style:[t?n.chRedTextColor:n.chWhTextColor,n.mapTextTwo,r<=2?n.bottomItemWidth:{}]},c?Object(ut.b)("comingSoon"):Object(ut.b)("onGoing")))))})),j()(N()(o),"measureTab",(function(e,t){var n=t.nativeEvent.layout,r=n.x,i=n.width,a=n.height;o._tabsMeasurements[e]={left:r,right:r+i,width:i,height:a},o.updateView({value:o.props.scrollValue.__getValue()})})),j()(N()(o),"getResultTime",(function(e){var t=new Date(e),n=function(e){return(e<10?"0":"")+e};return n(t.getHours())+":"+n(t.getMinutes())})),j()(N()(o),"getResultDate",(function(e){var t=new Date(e);return t.getMonth()+1+Object(ut.b)("month")+t.getDate()+Object(ut.b)("date")})),j()(N()(o),"onTabContainerLayout",(function(e){o._tabContainerMeasurements=e.nativeEvent.layout;var t=o._tabContainerMeasurements.width;t<qo&&(t=qo),o.setState({_containerWidth:t}),o.updateView({value:o.props.scrollValue.__getValue()})})),j()(N()(o),"onContainerLayout",(function(e){o.containerMeasurements=e.nativeEvent.layout,o.updateView({value:o.props.scrollValue.__getValue()})})),j()(N()(o),"getImgUrl",(function(e,t){var n=e||{},r=n.imgNormal,o=n.imgDarkMode;return t?ze.a.cmsCdnPath+o:ze.a.cmsCdnPath+r})),o._tabsMeasurements=[],o.state={_leftTabUnderline:new W.a.Value(0),_widthTabUnderline:new W.a.Value(0),_containerWidth:null,defaultIndex:"0",width:o.props.width,size:"medium"===Object(nt.a)(o.props.width)?o.props.width-48:o.props.width-32,nowTime:""},o}return C()(n,[{key:"componentDidMount",value:function(){this.props.scrollValue.addListener(this.updateView),B.a.addListener("switchScreenDir",this.handleSwitchScreenDir),this.handleTime()}},{key:"componentWillMount",value:function(){B.a.removeListener("switchScreenDir",this.handleSwitchScreenDir)}},{key:"handleTime",value:function(){var e,t=this;Object(jn.r)().then((function(n){e=n.success?1e3*n.serverTime:(new Date).getTime(),t.setState({nowTime:e})})).catch((function(){e=(new Date).getTime(),t.setState({nowTime:e})}))}},{key:"isStart",value:function(e){return this.state.nowTime<e?"未开始":"已开始"}},{key:"onPressHandler",value:function(e){this.props.goToPage(e),this.setState({defaultIndex:e})}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.tabs)!==JSON.stringify(this.props.tabs)&&this.state._containerWidth&&this.setState({_containerWidth:null})}},{key:"render",value:function(){var e=this,t="medium"===Object(nt.a)(this.props.width),n=this.props||{},r=n.seckData,o=n.configInfo,i=n.darkStyle,a=(n.groupStyleChange,o||{}),l=a.showSetting,s=a.cardTitle,c=a.titleShow,u=r,d=u&&Array.isArray(u)&&u.length;return L.a.createElement(H.b,{themeStyles:function(t){return Oo(t,e.props.styleChageSty,d,i)}},(function(n,r,a){return L.a.createElement(L.a.Fragment,null,u&&u.length>0?L.a.createElement(A.a,{style:[n.rootWapHeight],onLayout:e.onContainerLayout},L.a.createElement(A.a,{style:[n.tabs,{width:e.props.width,paddingLeft:t?24:16,paddingRight:t?24:16}],onLayout:e.onTabContainerLayout},"true"===c?L.a.createElement(A.a,{style:n.ImgContainer},"2"===l?L.a.createElement(dr.a,{style:n.ImgInnerSize,source:{uri:e.getImgUrl(o,i)},resizeMode:"contain"}):"1"===l?L.a.createElement(se.a,{style:n.cardTitleStyle,numberOfLines:2,ellipsizeMode:"tail"},s):null):null,L.a.createElement(A.a,{style:[n.rightContainer,{flexDirection:d>1?"row":"column"}]},u&&u.slice(0,"true"===c?4:5).map((function(t,r){var o=e.props.activeTab===r;return(e.props.renderTab||e.renderTab)(t.snapUpStartTime,t.snapUpEndTime,r,o,n)}))))):null)}))}}]),n}(R.Component);j()(Xo,"defaultProps",{scrollOffset:52,activeTextColor:"navy",inactiveTextColor:"black",backgroundColor:null,style:{},tabStyle:{},tabsContainerStyle:{},underlineStyle:{}});var Zo=Xo,ei=n(64),ti=n.n(ei);function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ii,ai=function(e){P()(n,e);var t=oi(n);function n(e){var r;return w()(this,n),r=t.call(this,e),j()(N()(r),"pageParamListFilter",[]),j()(N()(r),"itemlist",[]),j()(N()(r),"timers",void 0),j()(N()(r),"isLoading",!1),j()(N()(r),"pageIndexArr",uo()(5,(function(){return 1}))),j()(N()(r),"loadAll",uo()(5,(function(){return!1}))),j()(N()(r),"toTheEnd",uo()(5,(function(){return!1}))),j()(N()(r),"curTabIndex",0),j()(N()(r),"layoutWidth",void 0),j()(N()(r),"refWrapper",void 0),j()(N()(r),"CommonJs",void 0),j()(N()(r),"onScroll",(function(){var e=r.state.loadAll,t=ti.a.findDOMNode(r.refWrapper),n=((null==t?void 0:t.getBoundingClientRect())||{}).top,o=r.curTabIndex,i=r.state.sonData;n<jt.a.get("window").height&&!r.toTheEnd[o]&&(r.interTimer=setTimeout((function(){var t;e[o]||r.getSeckillInfo(null===(t=i[o])||void 0===t?void 0:t.sessionCode)}),300),r.toTheEnd[o]=!0)})),j()(N()(r),"receiveRef",(function(e,t){e&&(e.exposeObj=t,r.itemlist.push(e))})),j()(N()(r),"getWidth",(function(e){r.setState({singleWidth:e.width})})),j()(N()(r),"renderFooter",(function(e,t){var n=r.state.loadAll;return L.a.createElement(L.a.Fragment,null,t>18?L.a.createElement(se.a,{ref:function(e){return r.refWrapper=e},style:[e.loadingText,{marginTop:Gt.a.isPc(r.props.width)?8:12,marginBottom:Gt.a.isPc(r.props.width)?48:null}]},n[r.curTabIndex]?Object(ut.b)("in_the_end"):Object(ut.b)("load_more_products")):null)})),j()(N()(r),"getStyleChage",(function(e,t){var n,o,i=(r.props.styleChange||{})._bgColor;return i||(e&&null!=e&&e.imgStyle?"transparent"!==(null==e||null===(n=e.imgStyle)||void 0===n?void 0:n.backgroundColor)&&(null==e||null===(o=e.imgStyle)||void 0===o?void 0:o.backgroundColor):1==(null==t?void 0:t.bgFill)?t.bgColor:void 0)})),j()(N()(r),"setmergeStyle",(function(){var e=r.props.styleChange,t=Object(nt.a)(r.layoutWidth);return Object(J.D)(e)?"":Object(J.i)(e,t)})),r.CommonJs=Ao.call(N()(r),e),r.toTheEnd=uo()(5,(function(){return!1})),r.state={relList:[],productList:[],pageData:[],width:r.props.width,showLoading:!1,loadState:2,loadAll:uo()(5,(function(){return!1})),loadingPostion:"bottom",hours:"00",minutes:"00",seconds:"00",sonData:[],pageParamList:[],nowTime:"",showProductList:!0,singleWidth:160,reload:!1,newWidth:jt.a.get("window").width},r}return C()(n,[{key:"componentDidMount",value:function(){No.a.setSecillToTop(!0),this.handleTime(),document.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnMount",value:function(){document.removeEventListener("onScrollEvent",this.onScroll),this.interTimer&&clearTimeout(this.interTimer)}},{key:"handleTime",value:function(){var e,t=this;Object(jn.r)().then((function(n){e=n.success?1e3*n.serverTime:(new Date).getTime(),t.setState({nowTime:e},(function(){t.setDataFormat()}))})).catch((function(){e=(new Date).getTime(),t.setState({nowTime:e},(function(){t.setDataFormat()}))}))}},{key:"setDataFormat",value:function(){var e=this,t=((this.props||{}).dataSourceList[0]||{}).dataSourceCode,n=JSON.parse(JSON.stringify(this.props.pageData)),r=n&&n[t];this.setState({pageParamList:this.pageParamListFilter});var o=[],i=this.state.nowTime;r&&r.forEach((function(e){if(e.sessions&&0!==e.sessions.length)for(var t=0;t<e.sessions.length;t++){var n=new Date(e.sessions[t].snapUpEndTime).getTime();i<=n&&e.sessions[t].sbomList.length&&o.push(e.sessions[t])}}));var a=so()(o)>0?o.slice(0,5):[];a&&(null==a||a.map((function(t){var n=e.state.nowTime,r=new Date(t.snapUpStartTime).getTime(),o=new Date(t.snapUpEndTime).getTime();n-r<0?t.sessionState="1":n-r>0&&n-o<0&&(t.sessionState="0")})));for(var l=[!1,!1,!1,!1,!1],s=0;s<a.length;s++)a[s].sbomList.length<18&&(l[s]=!0);this.setState({loadAll:l,sonData:a})}},{key:"changeTab",value:function(e){No.a.setShowLoading(!1);var t=this.state.sonData;this.curTabIndex=e.i,this.props.clickItem&&this.props.clickItem(t[e.i].sessionCode,t[e.i].sessionState)}},{key:"onPressProduct",value:function(e){var t=e.productID,n=e.skuCode;this.props.clickItem_product&&this.props.clickItem_product(e),Object(Do.d)(t,n)}},{key:"eventClickByLoad",value:function(e){var t,n,r,o;Object(fe.a)({actionCode:"400061003",actionName:"限时秒杀-商品卡片点击曝光",eventType:ue.e.EVENT_TYPE_CLICK,pageId:null===(t=this.props.pageId)||void 0===t?void 0:t.toString(),content:{comId:"limseckill",SKUCode:null===(n=e.skuCode)||void 0===n?void 0:n.toString(),ProductID:null===(r=e.productId)||void 0===r?void 0:r.toString(),row:"",column:"",reportCode:null===(o=e.sessionCode)||void 0===o?void 0:o.toString(),click:"1"},pageCatCode:"p_seckill",pageCatName:"秒杀频道页",resSiteCode:"s_seckill_limseckill",resSiteName:"限时秒杀"})}},{key:"cutArray",value:function(e,t){for(var n=0,r=[];n<e.length;)r.push(e.slice(n,n+=t));return r}},{key:"getRefreshData",value:function(){}},{key:"getSeckillInfo",value:function(e){var t=this;this.isLoading=!0,this.setState({loadState:1}),this.pageIndexArr[this.curTabIndex]=this.pageIndexArr[this.curTabIndex]+1,Object(jn.q)(e,this.pageIndexArr[this.curTabIndex]).then((function(e){if(t.setState({loadState:2}),t.isLoading=!1,"0"===e.code){if(e.sbomList.length<18){var n=t.state.loadAll;n[t.curTabIndex]=!0,t.setState({loadAll:n})}var r=t.state.sonData,o=r[t.curTabIndex].sbomList,i=[].concat($e()(o),$e()(e.sbomList));r[t.curTabIndex].sbomList=i,t.setState({sonData:r})}})).catch((function(){t.isLoading=!1}))}},{key:"setWrapHeight",value:function(e){}},{key:"renderDomList",value:function(e,t,n,r,o){var i=this,a=e.sbomList,l=e.sessionCode,s=e.sessionState,c=a&&a.length>0&&a.slice(0,r);return L.a.createElement(ho.a,{heading:"data.sessionCode"},L.a.createElement(A.a,{key:n,style:[this.CommonJs.iswapCeilling()?t.wapbox:this.CommonJs.isPadCeilling()?t.padbox:t.wapPrebox,o&&(null==o?void 0:o.imgStyle)]},a&&a.length>0?L.a.createElement(A.a,{onLayout:function(e){return i.setWrapHeight(e)}},L.a.createElement(A.a,null,this.renderBox(c,l,s),this.renderFooter(t,r))):null))}},{key:"getList",value:function(e){this.setState({relList:e})}},{key:"renderBox",value:function(e,t,n){var r=this,o=JSON.parse(JSON.stringify(e)),i=this.layoutWidth,a=1,l=8,s=Object(nt.a)(i);"small"===s?a=1:"medium"===s?a=2:(a=3,l=12),this.CommonJs.isHorizontal()&&(a=3,l=12);var c="medium"===Object(nt.a)(i)?i-48:"small"===Object(nt.a)(i)?i-32:it.a.safety_area,u=(c-(a-1)*l)/a;return L.a.createElement(L.a.Fragment,null,L.a.createElement(pr.a,{col:a,colGutter:l,rowGutter:12,pageGutter:0,boxWidth:c,gridCallBack:this.getWidth,dataArray:o,renderItem:function(e){var o=e.item,i=e.index;return r.renderItemBox(o,i,t,n,u)},mainStyle:{overflowX:"visible",overflowY:"visible",marginBottom:12}}))}},{key:"renderItemBox",value:function(e,t,n,r,o){var i,a,l,s,c,u=this;e.prdName=e.productName,c=e.webpPhotoName&&Gt.a.isApp()?ze.a.cmsCndProdPath+e.webpPhotoPath+"800_800_"+e.webpPhotoName:ze.a.cmsCndProdPath+e.photoPath+"428_428_"+e.photoName,e.imgUrl=c,e.originPrice=e.price,e.sessionCode=e.sessionCode?e.sessionCode:n,e.itemIndex=t,e.salePrice=e.secKillPrice,e.productId=e.productID,e.priceMode=1,e.skuCode=e.skuCode?e.skuCode:"",e.skuName=e.skuName?e.skuName:"",e.sellingPoint=e.sellingPoint?e.sellingPoint:"",e.hasInventory=!!Object(J.D)(e.hasInventory)||e.hasInventory,e.isInv=e.productID&&!e.hasInventory?0:1,"1"===r?(e.btnName=Object(ut.b)("Take_look"),e.btnType=3):(e.btnType=2,e.hasInventory?e.btnName=Object(ut.b)("snap_up"):e.btnName=Object(ut.b)("originalPricePurchase")),e.buttonLink=e.buttonLink?e.buttonLink:"",e.promotionInfo=e.promoWord?e.promoWord:"",e.sessionState=e.sessionState?e.sessionState:r,e.row=e.itemIndex?null===(i=this.CommonJs.calacColumn(e.itemIndex))||void 0===i?void 0:i.row:0,e.column=e.itemIndex?null===(a=this.CommonJs.calacColumn(e.itemIndex))||void 0===a?void 0:a.column:0;var d=ri(ri({},this.props.configData),{},{promotionShow:!0,prdNameNum:2,originPriceShow:!0,buyIconShow:!0,outOfStockTagShow:!0,outOfStockTagText:Object(ut.b)("seckillSoldOut"),activeOpacity:1});this.CommonJs.isHorizontal()&&(d.isPadHorizontal=!0);var p={type:"product",skuCode:e.skuCode,row:null===(l=this.CommonJs.calacColumn(e.itemIndex))||void 0===l?void 0:l.row,column:null===(s=this.CommonJs.calacColumn(e.itemIndex))||void 0===s?void 0:s.column,reportCode:e.sessionCode,flashSaleStatus:e.sessionState,productId:e.productId};return L.a.createElement(kr.a,{key:e.productId+t,structure:"l2r",type:"activity",data:e,config:d,iWidth:o,onClick:function(){return u.onPressProduct(e)},receiveRef:function(e){return u.receiveRef(e,p)}})}},{key:"render",value:function(){var e=this,t=this.setmergeStyle(),n=this.state.sonData,r=(this.props.configInfo||{}).rowsPerScreen,o=this.CommonJs.getTotalNumber(r),i=this.getStyleChage(t,this.props.groupStyleChange),a="homePage"===this.props.pageType?-8:-12;return 0===n.length?L.a.createElement(A.a,{style:{marginTop:a}}):L.a.createElement(H.b,{themeStyles:function(e){return bo(e)}},(function(r,a,l){return e.layoutWidth=l,L.a.createElement(A.a,{style:[i&&{backgroundColor:i}]},L.a.createElement(Jo.a,{renderTabBar:function(){return L.a.createElement(Zo,{seckData:n,style:r,configInfo:e.props.configInfo,darkStyle:e.props.darkStyle,width:l,groupStyleChange:e.props.groupStyleChange,styleChageSty:i})},initialPage:0,isFromSeckill:!!e.CommonJs.iswebCeilling(),topDistance:!1,scrollWithoutAnimation:!0,onChangeTab:function(t){return e.changeTab(t)},locked:!0,isSeckill:!0,isFromSeckillChannel:!0,pageName:"seckillChannel"},n&&(null==n?void 0:n.map((function(n,i){return e.renderDomList(n,r,i,o,t)})))))}))}}]),n}(R.Component),li=Object(_.a)(Object(ce.a)(Lo)(Object(Ne.a)(ai)));function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k()(e);if(t){var o=k()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x()(this,n)}}var ci=Object(re.c)(ii=function(e){P()(n,e);var t=si(n);function n(){return w()(this,n),t.apply(this,arguments)}return C()(n,[{key:"render",value:function(){return Gt.a.isPc(jt.a.get("window").width)?null:Gt.a.isApp()?L.a.createElement(Yo,v()({},this.props,{darkStyle:Rt.a.darkBool,isFixed:!0})):L.a.createElement(li,v()({},this.props,{darkStyle:Rt.a.darkBool}))}}]),n}(L.a.Component))||ii,ui={base:o.a,blank:i.a,groupComponent:f.a,ad:a.a,prod:l.a,hybrid:Hn.a,icon_grid:s.a,menu:c.a,subTabSet:"web"===r.a.OS?Fn.a.previewTop?Mn.a:Ft.a:Mt.a,bulletin:u.a,operation_des:d.a,footer:p.a,tools:h.a,seckill:g.a,drawCard:Ht.a,rushbuy:m.a,orderDiscount:zt.a,coupon:vn,newSubscribe:An,groupBuy:Bn.a,countDown:Xn,contentBig:Zn.a,taskActivity:er.a,crowdTest:tr.a,shop:rr.a,memberInfo:or.a,earnPointsInfo:ir.a,prodRankList:ar.a,immersiveHeader:lr.a,shopProdList:Mr,activityCombine:Fr.a,topicRankList:ao,seckillChannel:ci,o2oMenu:qe,collectShop:vn,o2oToolbar:Bt},di=(h.a,o.a,{base:o.a,couponAssists:nr.a})},,function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(40),w=n(185),S=n(2),C=n.n(S),O=n(37),P=n(54),T=n(1018),x=n(43),I=n(126),k=n(102),E=n(3),j=n(39),R=n.n(j),L=n(92),_=n.n(L),D=n(52),N=n.n(D),W=n(764),A=n(953),B=n(152),M=n(708),F=n(103),H=n(47),z=n(57),U=n(53);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){return z.a.create({container:{zIndex:99999,elevation:9},header:{backgroundColor:e.fillBase,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:e.hSpacingXL,height:56},logo:{width:80},right:{width:120,flexDirection:"row",justifyContent:"flex-end"},button:G({marginLeft:16,alignSelf:"center"},e.C21),menuContainer:{position:"absolute",width:"100%",top:56},menu:{flex:1,backgroundColor:e.fillBase},sectionHeader:{height:48,backgroundColor:e.fillBase,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},sectionTitle:{fontSize:16,color:e.C11.color},separator:{position:"absolute",width:"100%",height:1,top:47,backgroundColor:"#eeeeee"},itemSeparator:{width:"100%",height:1,backgroundColor:"#eeeeee",marginVertical:16},openSection:{width:24,height:24},flatListContentContainerStyle:{flex:1,paddingHorizontal:8},goodsListContainer:{backgroundColor:"white",paddingTop:8},goods:{paddingHorizontal:4,width:"100%"},goodsImageContainer:{backgroundColor:e.fillGray,borderRadius:e.radiusimage},goodsImageContainerApp:{backgroundColor:e.fillGray,borderRadius:e.radiusimage},goodsImage:{flex:1,borderRadius:e.radiusimage},goodsTitle:G({marginTop:8,marginBottom:44,color:e.C11.color},e.T8),subTitleContainer:{},subTitleItemContainer:{opacity:.8,height:40,marginHorizontal:e.hSpacingXL,justifyContent:"center"},subTitleList:{fontSize:14,height:24,fontFamily:U.a.fontFamilyBase,color:"#808080"}})},J=n(157),K=n(87),q=n(947);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var $=function(e){u()(n,e);var t=Q(n);function n(e){var r;return a()(this,n),r=t.call(this,e),m()(C()(r),"tag",void 0),r.state={tag:e.shown,fade:new K.a.Value(e.shown&&!e.firstLoadAnimated?1:0)},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this.state.fade,t=this.props,n=t.shown;t.firstLoadAnimated&&n&&K.a.timing(e,{toValue:1,duration:100,easing:q.a.linear,useNativeDriver:!0}).start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=this.props.shown,r=e.shown;if(r!==n){r&&this.setState({tag:!0});var o=this.state.fade;K.a.timing(o,{toValue:r?1:0,duration:100,easing:q.a.linear,useNativeDriver:!0}).start((function(){n&&t.setState({tag:!1})}))}}},{key:"render",value:function(){var e=this.state,t=e.fade,n=e.tag,r=this.props,o=r.style,i=r.children;return n?v.a.createElement(K.a.View,{style:[{opacity:t},o]},i):null}}]),n}(y.Component);m()($,"defaultProps",{shown:!1,firstLoadAnimated:!1});var X=n(446);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var ee=function(e){u()(n,e);var t=Z(n);function n(e){var r;return a()(this,n),r=t.call(this,e),m()(C()(r),"_panResponder",null),r}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.imageStyle,r=e.src,i=e.activeOpacity,a=e.imgProportion;return v.a.createElement(x.a,o()({style:t,activeOpacity:i},this._panResponder.panHandlers),v.a.createElement(H.a,{isRadius:!1,imgUri:r.uri,imgProportion:a,style:[{flex:1},n]}))}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.onPress;this._panResponder=X.a.create({onStartShouldSetPanResponder:function(){return!0},onStartShouldSetPanResponderCapture:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponderCapture:function(){return!0},onPanResponderEnd:function(){e&&e()}})}}]),n}(y.Component);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}m()(ee,"defaultProps",{style:{},imgProportion:1,imageStyle:{},activeOpacity:.2,onPress:function(e){}});var ne=function(e){u()(n,e);var t=te(n);function n(e){return a()(this,n),t.call(this,e)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.imageStyle,r=e.selected,o=e.selSrc,i=e.unSelSrc,a=e.touachEnabled,l=e.onPress,s={flex:1};return v.a.createElement(x.a,{style:t},v.a.createElement($,{style:re.imageContainer,shown:!r},a?v.a.createElement(ee,{style:s,imageStyle:n,src:i,onPress:l}):v.a.createElement(J.a,{style:[s,n],source:i})),void 0!==o&&v.a.createElement($,{style:re.imageContainer,shown:r},a?v.a.createElement(ee,{style:s,imageStyle:n,src:o,onPress:l}):v.a.createElement(J.a,{style:[s,n],source:o})))}}]),n}(y.Component);m()(ne,"defaultProps",{selected:!1,touachEnabled:!1});var re=z.a.create({imageContainer:{position:"absolute",width:"100%",height:"100%"}}),oe=n(51),ie=n(10),ae={onPress:function(e){var t,n=this.props.cardId;return{data:{actionCode:ie.f.WAP+ie.d.NAVIGATION,actionName:"wap一级导航"+(null==e?void 0:e.title),eventType:ie.e.EVENT_TYPE_CLICK,content:{comId:n.toString(),index:null==e?void 0:e.index.toString(),gotoPageId:e&&e.gotoPageId?e.gotoPageId.toString():"",gotoURL:null==e?void 0:e.skipUrl,tabName:null==e?void 0:e.title,tabindex:null==e?void 0:e.index.toString(),dataCode:null==e||null===(t=e.dataSourceCode)||void 0===t?void 0:t.toString(),dateType:ie.c.TEXT_LINK,clickType:ie.b.CLICK_NAVIGATION}}}},onSectionPress:function(e){var t=this.props.cardId;return{data:{actionCode:ie.f.WAP+ie.d.NAVIGATION,eventType:ie.e.EVENT_TYPE_CLICK,actionName:"wap二级导航"+(null==e?void 0:e.prdName),content:{comId:t.toString(),gotoPageId:null==e?void 0:e.gotoPageId.toString(),gotoURL:null==e?void 0:e.actionUrl,tabName:null==e?void 0:e.prdName,tabindex:null==e?void 0:e.id.toString(),index:null==e?void 0:e.id.toString(),dataCode:e.skuCode,dateType:ie.c.SKU,clickType:ie.b.CLICK_NAVIGATION}}}}},le=n(21),se=n(12),ce=n(11);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var fe=function(e){u()(n,e);var t=pe(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={isMenuOpen:!1,data:[],AllClss:!1},r}return s()(n,[{key:"onPress",value:function(e,t){this.onSectionHeaderHandle(e,t)}},{key:"componentDidMount",value:function(){}},{key:"onSectionHeaderHandle",value:function(e,t){var n=e.isOpen,r=e.index,o=e.skipUrl,i=e.newTabFlag;if(o)Object(E.A)(o,!("1"!==i));else if(e.data&&e.data[0]&&e.data[0].goodsList&&e.data[0].goodsList.length>0||e.data&&e.data[0]&&e.data[0].subTitleList&&e.data[0].subTitleList.length>0){var a=this.state.data;a[r].isOpen=!t&&!n,this.setState(de({},a))}}},{key:"onSectionPress",value:function(e,t){var n=e.actionUrlWap;Object(E.A)(n)}},{key:"onSectionFocus",value:function(e,t){var n=e.actionUrlWap;Object(E.A)(n)}},{key:"render",value:function(){var e=this,t=this.state.data,n=this.props,r=n.style,o=n.width,i="true"===n.configInfo.showCategory,a="medium"===Object(b.a)(o),l=a?24:16,s=a?6:4,c=l-s,u={width:a?(o-64)/4-8:(o-36)/2-8},d=N()(t,(function(e,t){return i&&0===parseInt(t,10)?de(de({},e),{},{arrow:!0,skipUrl:"https://wapsit.test.vmall.com/category/view"}):e}));return v.a.createElement(k.b,{themeStyles:Y},(function(t){return v.a.createElement(W.a,{style:[t.menu,r],sections:d,stickySectionHeadersEnabled:!0,keyExtractor:function(e){return e.index},renderSectionHeader:function(n){var r=n.section,o=r.title,a=r.isOpen,s=r.data,c=r.arrow,u=r.skipUrl,d=r.index,p=_()(s)||{},f=p.goodsList,h=p.subTitleList,g=!u&&(0!==d||!i)&&(R()(f)>0||R()(h)>0),m="个人中心"===o&&s.length>1?40:0;return v.a.createElement(x.a,{style:{paddingTop:m}},v.a.createElement(A.a,{onPress:function(){return e.onPress(r,c)}},v.a.createElement(x.a,{style:[t.sectionHeader,{paddingLeft:l,paddingRight:l}]},v.a.createElement(B.a,{style:t.sectionTitle},o),g&&v.a.createElement(ne,{style:t.openSection,touachEnabled:!0,selected:a,unSelSrc:{uri:oe.i},selSrc:{uri:oe.h},onPress:function(){return e.onPress(r)}}),c&&v.a.createElement(x.a,{style:t.openSection},v.a.createElement(ne,{style:t.openSection,touachEnabled:!0,selected:a,unSelSrc:{uri:oe.g},selSrc:{uri:oe.g},onPress:function(){return e.onPress(r)}})),v.a.createElement(x.a,{style:t.separator}))))},renderItem:function(n){var r=n.item;return n.section.isOpen&&v.a.createElement($,{style:t.goodsListContainer,shown:!0,firstLoadAnimated:!0},v.a.createElement(v.a.Fragment,null,v.a.createElement(M.a,{horizontal:!0,data:r.goodsList,showsHorizontalScrollIndicator:!1,contentContainerStyle:[t.flatListContentContainerStyle,{paddingHorizontal:c}],renderItem:function(n){var r=n.item,o=n.index;return v.a.createElement(I.a,{onPress:function(){"web"!==O.a.OS&&e.onSectionPress(r)},onFocus:function(){"web"===O.a.OS&&e.onSectionFocus(r)}},v.a.createElement(x.a,{style:[t.goods,{paddingHorizontal:s}]},v.a.createElement(x.a,{style:[t.goodsImageContainer,u,{padding:0===o?0:10}]},v.a.createElement(H.a,{style:[t.goodsImage],imgUri:"https://picsit.test.vmall.com".concat(r.photoPath,"/").concat(r.photoName),imgProportion:1})),v.a.createElement(B.a,{style:[t.goodsTitle,u.width&&{maxWidth:u.width}],numberOfLines:2},r.prdName)))}}),r.goodsList.length&&r.subTitleList.length?v.a.createElement(x.a,{style:[t.itemSeparator,{marginLeft:l}]}):null,v.a.createElement(x.a,{style:t.subTitleContainer},r.subTitleList.map((function(e,n){return v.a.createElement(I.a,{key:"key_".concat(n),onPress:function(){return Object(E.A)(e.finalUrl,!("1"!==e.newTabFlag))},style:t.subTitleItemContainer},v.a.createElement(B.a,{style:t.subTitleList},e.linkName))})))))}})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.categoryList,r=[];if((null==n?void 0:n.length)!==t.data.length-1){null==n||n.forEach((function(e,t){var n,o=["android","ios"],i=null;i=o.includes(O.a.OS)?e.moreActionUrl:e.actionUrlWap,r.push({index:t,id:e.categoryId,newTabFlag:e.newTabFlag,title:e.categoryName,dataSourceCode:null===(n=e.dataSourceType)||void 0===n?void 0:n.dataSourceCode,data:e&&e.productList?[{goodsList:e.productList.filter((function(e){return"prod"===e.dataType})),subTitleList:e.productList.filter((function(e){return"link"===e.dataType})).map((function(e,t){return de(de({},e),{},{id:t,finalUrl:(o.includes(O.a.OS),e.linkUrlWap)})}))}]:[],isOpen:!1,skipUrl:i,arrow:!!i})}));var o=ce.a.wapDomain+se.j.PERSONAL_URL_WAP;return o=F.a.get("rnpersonalurlwap")?F.a.get("rnpersonalurlwap"):ce.a.wapDomain+se.j.PERSONAL_URL_WAP,r.push({index:r.length,title:"个人中心",data:[],skipUrl:o,isOpen:!1,arrow:!0}),{data:r}}return null}}]),n}(y.Component);m()(fe,"defaultProps",{data:[]});var he=Object(le.a)(ae)(fe),ge=n(20),me={exposeItem:function(){var e=this.props.cardId;return{data:{actionCode:ie.f.WAP+ie.d.NAVIGATION,actionName:"wap导航组件曝光",eventType:ie.e.EVENT_TYPE_EXPOSURE,content:{comId:e.toString()}}}}},ye=n(25),ve=n(70),be=n(23);function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Se=!1,Ce=function(e){u()(n,e);var t=we(n);function n(e){var r;return a()(this,n),r=t.call(this,e),m()(C()(r),"itemlist",[]),m()(C()(r),"navRef",(function(e){e&&r.itemlist.push(e)})),r.state={isMenuOpen:!1,naviBarTop:0,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},r}return s()(n,[{key:"componentDidMount",value:function(){if(this.props.styleChange||this.props.groupStyleChange){var e=Object(E.i)(this.props.styleChange,Object(b.a)(this.props.width)),t=this.props.groupStyleChange?Object(E.i)(this.props.groupStyleChange,Object(b.a)(this.props.width)):null;(e||t)&&this.setState({headerBoxStyle:Object.assign(e,t)})}var n=F.a.get("TID");F.a.get("callAB")||Se||(Se=!0,Object(be.v)(n,"2"))}},{key:"componentWillUnmount",value:function(){if("android"!==O.a.OS&&"ios"!==O.a.OS){var e,t=(null===(e=document)||void 0===e?void 0:e.body)||null;t&&(t.style.overflow="visible")}}},{key:"openOrCloseMenu",value:function(){var e,t=this.state.isMenuOpen;if("android"!==O.a.OS&&"ios"!==O.a.OS){var n,r=(null===(n=document)||void 0===n?void 0:n.body)||null;t?r&&(r.style.overflow="visible"):r&&(r.style.overflow="hidden")}var o=document.getElementById("naviBarLayout"),i=(null==o||null===(e=o.getBoundingClientRect())||void 0===e?void 0:e.top)||0;this.setState({isMenuOpen:!t,naviBarTop:i})}},{key:"render",value:function(){var e=this,t=P.a.get("window"),n=this.state.isMenuOpen,r=this.props,o=r.width,i=r.configInfo,a=(t.height,"medium"===Object(b.a)(o)?24:16),l=i||{},s=l.showCart,c=(l.showPersonalCenter,l.showSearch);return v.a.createElement(k.b,{themeStyles:Y},(function(r){var o,i,l,u,d,p,f,h,g,m,y,b;return v.a.createElement(T.a,{source:{uri:e.state.headerBoxStyle.bgImg},style:{position:"relative",zIndex:2}},v.a.createElement(x.a,{style:[r.container],ref:e.navRef,nativeID:"naviBarLayout"},v.a.createElement(x.a,{style:[r.header,{paddingHorizontal:a},e.state.headerBoxStyle.imgStyle]},v.a.createElement(ee,{style:r.logo,src:{uri:oe.c},imgProportion:100/35,onPress:function(){return Object(E.A)("https://m.vmall.com/")}}),v.a.createElement(x.a,{style:r.right},"true"==c?v.a.createElement(I.a,{onPress:function(){return Object(E.A)("https://m.vmall.com/search/index")},activeOpacity:1,style:r.button},v.a.createElement(ge.a,{iconName:"search",width:"24",height:"24",normalCol:null!==(o=e.state)&&void 0!==o&&null!==(i=o.headerBoxStyle)&&void 0!==i&&null!==(l=i.textStyle)&&void 0!==l&&l.color?e.state.headerBoxStyle.textStyle.color:"#000"})):null,"true"==s?v.a.createElement(I.a,{onPress:function(){return Object(E.A)("https://m.vmall.com/cart")},activeOpacity:1,style:r.button},v.a.createElement(ge.a,{iconName:"shoppingCart",width:"24",height:"24",normalCol:null!==(u=e.state)&&void 0!==u&&null!==(d=u.headerBoxStyle)&&void 0!==d&&null!==(p=d.textStyle)&&void 0!==p&&p.color?e.state.headerBoxStyle.textStyle.color:"#000"})):null,v.a.createElement(I.a,{onPress:function(){return e.openOrCloseMenu()},activeOpacity:1,style:r.button},n?v.a.createElement(ge.a,{iconName:"cancel1",width:"24",height:"24",normalCol:null!==(f=e.state)&&void 0!==f&&null!==(h=f.headerBoxStyle)&&void 0!==h&&null!==(g=h.textStyle)&&void 0!==g&&g.color?e.state.headerBoxStyle.textStyle.color:"#000"}):v.a.createElement(ge.a,{iconName:"drawer",width:"24",height:"24",normalCol:null!==(m=e.state)&&void 0!==m&&null!==(y=m.headerBoxStyle)&&void 0!==y&&null!==(b=y.textStyle)&&void 0!==b&&b.color?e.state.headerBoxStyle.textStyle.color:"#000"})))),v.a.createElement($,{style:[{height:t.height-56-e.state.naviBarTop-ve.a.barHeight},r.menuContainer],shown:n},v.a.createElement(he,e.props))))}))}}]),n}(y.Component);m()(Ce,"defaultProps",{categoryList:[],height:0});var Oe=Object(w.a)(Object(le.a)(me)(Object(ye.a)(Ce))),Pe=n(49),Te=n(250),xe=n(267),Ie=n(660),ke=n(1731),Ee=n(35),je=n.n(Ee),Re=n(951),Le=n(270),_e=n(952),De=n(122);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=z.a.create({searchItem:{position:"absolute",left:0,right:0,bottom:0,top:0,zIndex:11},fullScreen:{opacity:.3,height:"100vh",position:"relative",top:0,left:0,zIndex:9999,backgroundColor:"#000"},center:{position:"relative",justifyContent:"center",alignItems:"center",zIndex:1e4,backgroundColor:"transparent"},bar:{paddingLeft:24,paddingRight:24,marginTop:19,marginBottom:19},box:{paddingBottom:24,paddingTop:4,width:640,backgroundColor:"#ffffff",borderBottomEndRadius:16,borderBottomStartRadius:16,position:"absolute",top:70},inputBox:We(We({height:36,width:592,display:"flex",flexDirection:"row"},De.a.S13),{},{borderRadius:18}),inputBor:{borderWidth:1,borderColor:"rgba(0,0,0,0.05)",backgroundColor:"rgba(241,243,245,0.40)"},inputIcon:{display:"flex",justifyContent:"center",alignItems:"center"},inputIconLeft:{paddingLeft:2,paddingRight:10},inputIconRight:{paddingRight:5},inputImage:We(We({},De.a.C23),{},{width:36,height:36,alignItems:"center",justifyContent:"center"}),inputImage_choose:We(We({},De.a.C71),{},{width:36,height:36,alignItems:"center",justifyContent:"center"}),inputText:We(We({flex:1},De.a.T5),{},{fontFamily:"Microsoft YaHeiUI",color:"#191919",textAlignVertical:"center",borderWidth:0,borderColor:"transparent"}),placeholderTextColor:{opacity:.38,fontFamily:"Microsoft YaHeiUI",color:"#191919"},headNear:{marginTop:13,marginBottom:4,paddingHorizontal:24,flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:24,lineHeight:24},headFind:{marginTop:12,marginBottom:4,paddingHorizontal:24,flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:24,lineHeight:24},nearText:We({height:24,fontSize:De.a.T10.fontSize,lineHeight:24,fontWeight:De.a.T10.fontWeight,fontFamily:"HYQiHei-FES"},De.a.C11),queryList:{marginTop:12,marginHorizontal:24,flexDirection:"row",flexWrap:"wrap",overflow:"hidden",maxHeight:108,alignItems:"center",backgroundColor:"#fff"},recentSearch:{marginBottom:11},queryItem:We(We(We({flex:1,fontFamily:"HYQiHei-EES"},De.a.S13),{},{minHeight:28,lineHeight:28,fontSize:De.a.T3.fontSize},De.a.C12),{},{paddingHorizontal:8,borderRadius:14,marginRight:8,marginBottom:12,minWidth:44,maxWidth:592,textAlign:"center"}),hoverItem:We({},De.a.C18),listView:{flex:1,flexDirection:"row",justifyContent:"center",marginLeft:0,marginRight:0,marginTop:10},relationList:{marginLeft:24,marginRight:24},relationItem:We(We({},De.a.T7),{},{color:De.a.C11.color+De.a.opacityMap[De.a.C11.opacity]}),relationOrder:{borderBottomColor:"rgba(0,0,0,0.05)",borderBottomWidth:1},relationHover:We({},De.a.C18),keywords:We({},De.a.C14),wordItem:{height:48,flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomColor:De.a.C39.color+De.a.opacityMap[De.a.C39.opacity],borderStyle:"solid",borderBottomWidth:1,overflow:"hidden"},word:{flexDirection:"row",justifyContent:"flex-start",flex:1,maxHeight:19,overflow:"hidden"},wordLabels:{flex:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",flexWrap:"wrap",height:28,overflow:"hidden",marginRight:-8,marginLeft:8},wordLabelsPosition:{position:"absolute",maxWidth:320,flexDirection:"row",justifyContent:"flex-end",alignItems:"center",flexWrap:"wrap",height:28,overflow:"hidden",marginRight:-8,marginLeft:8,right:0,top:10},labelView:{borderRadius:20,backgroundColor:De.a.C39.color+De.a.opacityMap[De.a.C39.opacity],paddingHorizontal:8,paddingVertical:6,height:28,marginRight:8},labelText:We(We({},De.a.T3),{},{color:De.a.C21.color+De.a.opacityMap[De.a.C21.opacity]})}),Be=n(29),Me=n(432),Fe=n(38),He=n(48),ze={exposeItem:function(e){var t=this.props,n=(t.id,t.width);return{data:{actionCode:He.a.isPc(n)?"300090001":He.a.isApp()?"100090001":"200090001",actionName:"加载页面报全部商品列表",eventType:ie.e.EVENT_TYPE_LOADING_PAGE,pageId:this.props.pageId,content:{load:"1"}}}},slideItem:function(e){var t=this.props.width;return{data:{actionCode:He.a.isPc(t)?"300090003":He.a.isApp()?"100090003":"200090003",actionName:"热搜词曝光率",eventType:ie.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,content:{word:e}}}},clickItem:function(e,t,n){var r=this.props.width,o={actionCode:He.a.isPc(r)?"300090101":He.a.isApp()?"100090101":"200090101",actionName:"执行搜索动作",eventType:ie.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{searchWord:e,type:t+"",urlType:"1",click:"1"}};return 2===t&&(o.content.wordType=n),{data:o}}};function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}Object(ce.b)(Fe.a);var Ve=function(e){u()(n,e);var t=Ue(n);function n(e){var r;return a()(this,n),r=t.call(this,e),m()(C()(r),"hotWords",[]),m()(C()(r),"arrLabels",[]),m()(C()(r),"count",void 0),m()(C()(r),"showBox",(function(){if(r.isLogin(),r._getHotWords(),setTimeout((function(){r.setState({visible:!0})}),500),r.setScrollStyle(),"web"===O.a.OS){var e=document.querySelector("#searchMask"),t=r.state.banScroll,n=r.convertUndefined(t);n+="overflow-y:hidden;",null==e||e.setAttribute("style","".concat(n))}})),m()(C()(r),"hideBox",(function(){if(r.setState({visible:!1,showSearch:!0}),r.setScrollStyle("show"),"web"===O.a.OS){var e=document.querySelector("#searchMask"),t=r.state.initialStyle;null==e||e.setAttribute("style","".concat(r.convertUndefined(t)))}r.props.onHideSearch()})),m()(C()(r),"_onLayout",(function(e,t){var n=0,o=e.nativeEvent.layout.width;null==r.arrLabels[t]&&(r.arrLabels[t]=[]),r.arrLabels[t].push(o),r.arrLabels.map((function(e){n+=e.length})),r.count===n&&r.setState({labelsShow:!1})})),m()(C()(r),"_labelsListShow",(function(e,t,n,o){return null==t?void 0:t.map((function(t){return v.a.createElement(I.a,{style:[e.labelView],onLayout:function(e){r._onLayout(e,o)}},v.a.createElement(B.a,{style:[e.labelText]},t))}))})),m()(C()(r),"_labelsListShowOther",(function(e,t,n,o){return null==t?void 0:t.map((function(i,a){return o<r.arrLabels.length&&r.arrLabels[o]&&r.arrLabels[o][0]<=296?v.a.createElement(Ie.a,null,(function(o){return v.a.createElement(I.a,{style:[e.labelView],onPress:r.turnToPage.bind(C()(r),n+t[a],"",7)},v.a.createElement(B.a,{style:[e.labelText,o?Ae.relationHover:{}]},i))})):null}))})),m()(C()(r),"itemlist",[]),m()(C()(r),"receiveRef",(function(e){e&&r.itemlist.push(e)})),r.state={openApiDomain:"",searchConDomain:"",showSearch:!1,showBor:!1,value:"",visible:!1,isPostList:!1,keyword:"",searchHistory:[],hotTagsArr:[],relationArr:[],searchIconList:{},isLogin:!1,initialStyle:"",banScroll:"",slide:0,count:0,fadeAnim:new K.a.Value(0),plAnim:new K.a.Value(200),spinValue:new K.a.Value(0),freshValue:new K.a.Value(1),labelsShow:!0},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.setState({openApiDomain:ce.a.openApiDomain,searchConDomain:ce.a.searchConDomain},(function(){e.isLogin(),e.showBox(),e.fadeIn(),e.hideOutline()})),"web"===O.a.OS){var t,n,r=document.querySelector("#searchMask"),o=document.createElement("div");o.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(o);var i=o.offsetWidth-o.clientWidth;this.setState({initialStyle:null==r||null===(t=r.getAttribute("style"))||void 0===t?void 0:t.valueOf(),banScroll:null==r||null===(n=r.getAttributeNode("style"))||void 0===n?void 0:n.value,slide:i})}}},{key:"fadeIn",value:function(){K.a.timing(this.state.fadeAnim,{toValue:1,duration:500,useNativeDriver:!0}).start(),K.a.timing(this.state.plAnim,{toValue:0,duration:500,useNativeDriver:!0}).start()}},{key:"hideOutline",value:function(){if("web"===O.a.OS){var e=document.getElementsByTagName("input")||[];e&&Array.from(e).map((function(e){e.style.outline="none"}))}}},{key:"componentWillUnmount",value:function(){this.setScrollStyle("show")}},{key:"isLogin",value:function(){var e=this,t="".concat(this.state.openApiDomain,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();Be.a.get(t,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(t){var n=t.login;e.setState({isLogin:n}),e._getHistory(n)}))}},{key:"convertUndefined",value:function(e){return""==e||null==e||"undefined"==e?"":e}},{key:"setScrollStyle",value:function(e){if("web"===O.a.OS){var t="100%",n="hidden",r="scroll";if("show"===e&&(t="auto",n="auto",r=""),"web"===O.a.OS&&document.body){var o=document.body;if(o.style.height=t,o.style.overflowY=n,o.style.overflowX=n,o.parentNode){var i=o.parentNode;i.style&&(i.style.height=t,i.style.overflowY=r)}}}}},{key:"onChangeTextKeyword",value:function(){var e=this.state.value.trim();this.turnToPage(e,"",1)}},{key:"spin",value:function(){var e=this;K.a.timing(this.state.spinValue,{toValue:this.state.count,duration:1e3,easing:q.a.linear,useNativeDriver:!0}).start(),Promise.all([this.inAndOut(),this._getHotWords()]).then((function(){e.inAndOut(!1)}))}},{key:"inAndOut",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t?0:1;return new Promise((function(t){K.a.timing(e.state.freshValue,{toValue:n,duration:750,easing:q.a.linear,useNativeDriver:!0}).start((function(){t(0)}))}))}},{key:"_rotateHistory",value:function(){var e=this;this.setState({count:this.state.count+1},(function(){e.spin()}))}},{key:"_getHistory",value:function(e){var t=this;if(e){var n="".concat(this.state.openApiDomain,"mcp/querySearchHis?_=")+(new Date).getTime();Be.a.get(n,{brandType:0,country:"CN",lang:"zh-CN",portal:"1"}).then((function(e){var n=e.searchHistoryList||[];t.setState({searchHistory:n})}))}else if("web"===O.a.OS){var r=(window.localStorage.getItem("searchHistoryList")?JSON.parse(window.localStorage.getItem("searchHistoryList")||"[]"):[]).map((function(e){return{keyword:e}}));this.setState({searchHistory:r})}}},{key:"_delHistory",value:function(){this.setState({searchHistory:[]}),"web"===O.a.OS&&window.localStorage.setItem("searchHistoryList","");var e="".concat(this.state.openApiDomain,"mcp/v1/deleteQueryHis?_=")+(new Date).getTime();return Be.a.post(e,{brandType:0,country:"CN",lang:"zh-CN",portal:"1"})}},{key:"setLocalHistory",value:function(e){if(""!==e){var t=[];try{"web"===O.a.OS&&(t=JSON.parse(window.localStorage.getItem("searchHistoryList")||"[]").filter((function(t){return t!==e})))}catch(e){}t.unshift(e),t.splice(10),"web"===O.a.OS&&window.localStorage.setItem("searchHistoryList",JSON.stringify(t))}}},{key:"exposeHotWords",value:function(e){var t,n=[];(e.forEach((function(e){n.push(e.word+","+e.wordType)})),0===this.hotWords.length)&&((t=this.hotWords).push.apply(t,je()(e)),this.props.slideItem(n))}},{key:"_getHotWords",value:function(){var e=this,t=F.a.get("TID");this.hotWords.length,Object(be.h)(t||"88888888888").then((function(t){var n=t.hotWordList||[];e.setState({hotTagsArr:n}),e.exposeHotWords(n)})).catch((function(){e.setState({hotTagsArr:[]})}))}},{key:"turnToPage",value:function(e,t,n,r){if(this.props.clickItem(e,n,r),this.hideBox(),t)"web"===O.a.OS&&window.open(t,"_blank");else{this.state.isLogin||this.setLocalHistory(e);var o=F.a.get("CSRF-TOKEN");this.postForm({keyword:e,CsrfToken:o,configInfo:this.props.configInfo})}}},{key:"postForm",value:function(e){var t=Object(E.q)("searchHistoryShow");t=t||(this.props.configInfo&&this.props.configInfo.searchHistoryShow?this.props.configInfo.searchHistoryShow:"true");var n=Object(E.q)("searchResultPageProdShow");n=n||(this.props.configInfo&&this.props.configInfo.searchResultPageProdShow?this.props.configInfo.searchResultPageProdShow:"true"),e.keyword=encodeURIComponent(encodeURIComponent(e.keyword));var r="".concat(Fe.a.webDomain,"portal/search/index.html?targetRoute=searchresult&searchWord=").concat(e.keyword,"&searchHistoryShow=").concat(t,"&searchResultPageProdShow=").concat(n);Object(E.A)(r,!0)}},{key:"searchValue",value:function(e){this.setState({value:e,labelsShow:!0}),this.arrLabels=[],e?this.getAssociationWordList(e):this.setState({isPostList:!1,relationArr:[]})}},{key:"getAssociationWordList",value:function(e){var t=this,n="".concat(this.state.openApiDomain,"mcp/v1/queryAssociationWordInfo?_=")+(new Date).getTime();Be.a.post(n,{brandType:0,keyword:e,country:"CN",lang:"zh-CN",portal:"1"}).then((function(n){n.wordList.length>0?(t.setState({isPostList:!0,relationArr:n.wordList||[],keyword:e,labelsShow:!0}),t.count=0,n.wordList.map((function(e){var n;t.count+=null==e||null===(n=e.labels)||void 0===n?void 0:n.length})),t.arrLabels=[]):t.setState({isPostList:!1,keyword:"",relationArr:[]})}))}},{key:"queryPosListData",value:function(){var e=this,t=this.state.relationArr,n=(t.length,t.map((function(t,n){var r=t.keyword.indexOf(e.state.keyword);return v.a.createElement(x.a,null,v.a.createElement(Ie.a,null,(function(n){return v.a.createElement(I.a,{style:[Ae.wordItem],onPress:e.turnToPage.bind(e,t.keyword,"",4),activeOpacity:1},v.a.createElement(x.a,{key:t.keyword,style:[Ae.word]},r>=0?v.a.createElement(B.a,{style:[Ae.relationItem,n?Ae.relationHover:{}],numberOfLines:1,ellipsizeMode:"clip"},t.keyword.substr(0,r),v.a.createElement(B.a,{style:n?Ae.relationHover:Ae.keywords},e.state.keyword),t.keyword.substr(r+e.state.keyword.length)):v.a.createElement(B.a,{style:[Ae.relationItem,n?Ae.relationHover:{}],numberOfLines:1,ellipsizeMode:"clip"},t.keyword)),v.a.createElement(x.a,{style:[Ae.wordLabels]}))})),v.a.createElement(x.a,{style:[Ae.wordLabelsPosition]},e.state.labelsShow?e._labelsListShow(Ae,t.labels,t.keyword,n):e._labelsListShowOther(Ae,t.labels,t.keyword,n)))})));return v.a.createElement(x.a,{style:[Ae.box,{paddingBottom:16}]},v.a.createElement(x.a,{style:Ae.relationList},n))}},{key:"showBarStyle",value:function(){this.setState({showBor:!0})}},{key:"hideBarStyle",value:function(){this.setState({showBor:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.spinValue,r=t.freshValue,o=n.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]}),i=Object(E.q)("searchHistoryShow");return i=i||(this.props.configInfo&&this.props.configInfo.searchHistoryShow?this.props.configInfo.searchHistoryShow:"true"),v.a.createElement(x.a,{style:Ae.searchItem},!this.state.showSearch&&v.a.createElement(K.a.View,{style:{zIndex:11,opacity:this.state.fadeAnim},nativeID:"searchMask"},v.a.createElement(x.a,{style:Ae.center},v.a.createElement(x.a,null,v.a.createElement(x.a,{style:Ae.bar},v.a.createElement(K.a.View,{style:[Ae.inputBox,{paddingLeft:this.state.plAnim},this.state.showBor&&Ae.inputBor]},v.a.createElement(Ie.a,null,(function(t){var n,r,o;return v.a.createElement(x.a,{style:[Ae.inputIconLeft,Ae.inputIcon]},v.a.createElement(x.a,{style:t?Ae.inputImage_choose:Ae.inputImage},v.a.createElement(I.a,{activeOpacity:.3,onPress:e.turnToPage.bind(e,e.state.value,"",1)},v.a.createElement(ge.a,{iconName:"search",width:"16",height:"16",normalCol:null!==(n=e.props)&&void 0!==n&&null!==(r=n.color)&&void 0!==r&&null!==(o=r.textStyle)&&void 0!==o&&o.color?e.props.color.textStyle.color:"#000"}))))})),v.a.createElement(x.a,{nativeID:"textInput",style:{flex:1,marginLeft:-11},ref:this.receiveRef},v.a.createElement(Re.a,{style:Ae.inputText,ref:"xxx",autoCapitalize:"none",value:this.state.value,onChangeText:this.searchValue.bind(this),onSubmitEditing:this.onChangeTextKeyword.bind(this),returnKeyType:"done",placeholder:Object(Me.b)("search_placeholder"),placeholderTextColor:"rgba(25,25,25,0.38)",underlineColorAndroid:"transparent",clearButtonMode:"never",onFocus:function(){return e.showBarStyle()},onBlur:function(){return e.hideBarStyle()},keyboardType:"default",autoFocus:!0})),this.state.visible&&v.a.createElement(Ie.a,null,(function(t){var n,r,o;return v.a.createElement(x.a,{style:[Ae.inputIconRight,Ae.inputIcon]},v.a.createElement(x.a,{style:t?Ae.inputImage_choose:Ae.inputImage},v.a.createElement(I.a,{activeOpacity:.3,onPress:function(){"web"!==O.a.OS&&e.hideBox()},onFocus:function(){"web"===O.a.OS&&e.hideBox()}},v.a.createElement(ge.a,{iconName:"cancel1",width:"16",height:"16",normalCol:null!==(n=e.props)&&void 0!==n&&null!==(r=n.color)&&void 0!==r&&null!==(o=r.textStyle)&&void 0!==o&&o.color?e.props.color.textStyle.color:"#000"}))))})))),this.state.visible?this.state.isPostList?this.queryPosListData():v.a.createElement(K.a.View,{style:[Ae.box,{paddingLeft:this.state.plAnim}]},v.a.createElement(Le.a,null,this.state.searchHistory.length>0&&"true"===i&&v.a.createElement(x.a,null,v.a.createElement(x.a,{style:Ae.headNear},v.a.createElement(B.a,{style:[Ae.nearText]},Object(Me.b)("search_recent")),v.a.createElement(Ie.a,null,(function(t){var n,r,o;return v.a.createElement(x.a,{style:t?Ae.inputImage_choose:Ae.inputImage},v.a.createElement(I.a,{activeOpacity:.3,onPress:function(){"web"!==O.a.OS&&e._delHistory()},onFocus:function(){"web"===O.a.OS&&e._delHistory()}},v.a.createElement(ge.a,{iconName:"delete",width:"16",height:"16",normalCol:null!==(n=e.props)&&void 0!==n&&null!==(r=n.color)&&void 0!==r&&null!==(o=r.textStyle)&&void 0!==o&&o.color?e.props.color.textStyle.color:"#000"})))}))),v.a.createElement(K.a.View,{style:[Ae.queryList,Ae.recentSearch,{opacity:this.state.fadeAnim}]},this.state.searchHistory.map((function(t,n){return v.a.createElement(x.a,{key:n},v.a.createElement(Ie.a,null,(function(n){return v.a.createElement(I.a,{onPress:e.turnToPage.bind(e,t.keyword,"",3),activeOpacity:.3},v.a.createElement(B.a,{numberOfLines:1,style:[Ae.queryItem,n&&Ae.hoverItem]},t.keyword))})))})))),v.a.createElement(v.a.Fragment,null,v.a.createElement(x.a,{style:Ae.headFind},v.a.createElement(B.a,{style:[Ae.nearText]},Object(Me.b)("search_discovery")),v.a.createElement(Ie.a,null,(function(t){var n,r,i;return v.a.createElement(I.a,{activeOpacity:.3,onPress:function(){e._rotateHistory()}},v.a.createElement(K.a.View,{style:[t?Ae.inputImage_choose:Ae.inputImage,{transform:[{rotate:o}]}],testID:"refreshImage"},v.a.createElement(ge.a,{iconName:"rotate",width:"16",height:"16",normalCol:null!==(n=e.props)&&void 0!==n&&null!==(r=n.color)&&void 0!==r&&null!==(i=r.textStyle)&&void 0!==i&&i.color?e.props.color.textStyle.color:"#000"})))}))),this.state.hotTagsArr.length>0?v.a.createElement(K.a.View,{style:[Ae.queryList]},this.state.hotTagsArr.map((function(t){return v.a.createElement(Ie.a,null,(function(n){return v.a.createElement(K.a.View,{key:t.id,nativeID:"searchFindArr",style:{opacity:r}},v.a.createElement(I.a,{onPress:e.turnToPage.bind(e,t.word,t.activityUrl,2,t.wordType),activeOpacity:.3},v.a.createElement(B.a,{numberOfLines:1,style:[Ae.queryItem,n&&Ae.hoverItem]},t.word)))}))}))):v.a.createElement(x.a,{style:{paddingBottom:32}})))):null)),this.state.visible?v.a.createElement(_e.a,{activeOpacity:.3,onPress:function(){"web"!==O.a.OS&&e.hideBox()},onFocus:function(){"web"===O.a.OS&&e.hideBox()}},v.a.createElement(x.a,{style:[Ae.fullScreen,{width:window.innerWidth<1200?window.screen.width:window.innerWidth}],nativeID:"fullScreen"})):null))}}]),n}(v.a.Component),Ge=Object(w.a)(Object(le.a)(ze)(Object(ye.a)(Ve))),Ye=n(17),Je=n.n(Ye),Ke=n(26),qe=n.n(Ke);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe,Ze,et=function(e){return z.a.create($e($e({},e),{},{layout:{zIndex:200,backgroundColor:e.S31.backgroundColor},layout_search:{margin:"unset",width:"unset",fontWeight:e.T11.fontWeight},layout_bottom:{zIndex:200,backgroundColor:e.S31.backgroundColor,borderColor:"rgba(0, 0, 0, 0.05)"},pcContainer:{display:"flex",position:"relative",height:e.navigationHeight,alignItems:"center",flexDirection:"row"},img_Box:{width:103,height:74},menuBox:{flex:1,marginLeft:8},iconBox:{},goodsBox:{position:"absolute",top:e.navigationHeight-1,left:0,width:"100%",borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomRightRadius:32,borderBottomLeftRadius:32},subCategory:{marginTop:27,position:"absolute",top:e.navigationHeight-1,left:0},menu_container:{flexDirection:"row",alignItems:"center"},menu_sub_container:{flexDirection:"row",alignItems:"center"},menu_all_category_title:{marginLeft:4},menu_title:{display:"flex",position:"relative",alignItems:"center",flexDirection:"column",fontSize:e.T9.fontSize,lineHeight:16,marginLeft:40,color:e.C12.color,fontFamily:U.a.fontFamilyBase},menu_title_m:{marginLeft:40},menu_title_md:{marginLeft:30},menu_title_mini:{marginLeft:20},menu_title_choose:{color:e.C18.color,fontSize:e.T10.fontSize},menu_title_border:{display:"flex",position:"absolute",bottom:0,height:2,backgroundColor:e.primaryColor},iconbox_container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:3.5},iconbox_item:$e($e({marginLeft:16},e.C22),{},{width:26,height:26,alignItems:"center",justifyContent:"center"}),iconbox_cart:{height:16,position:"absolute",borderRadius:400,backgroundColor:"#CF0A2C",top:-2,zIndex:1},iconbox_cart_item:{textAlign:"center",color:"#FFFFFF",fontSize:10,lineHeight:16,fontWeight:400},iconbox_choose:{marginLeft:16,width:26,height:26,alignItems:"center",justifyContent:"center"},goodslist_container:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:56,paddingBottom:56},goodslist_container_bg:{backgroundColor:"#fefefe"},goodslist_goods:{position:"relative",flex:1,height:273},goodslist_nav:{display:"flex",justifyContent:"center",width:180,height:228,paddingBottom:60},goodslist_goodsitem:{display:"flex",justifyContent:"center",alignItems:"center",color:"#000"},goodslist_goodsitem_active:$e($e($e({},e.T11),e.C11),{},{marginTop:10,marginBottom:10,fontFamily:U.a.fontFamilyBase}),goodslist_goodsitem_normal:$e($e($e({},e.T11),e.C14),{},{marginTop:10,marginBottom:10,fontFamily:U.a.fontFamilyBase}),goodslist_goods_row:{justifyContent:"center"},goodslist_goods_title:{textAlign:"center",marginTop:52,fontSize:14,color:"#000"},goodslist_goods_choose:$e($e({},e.C73),{},{textAlign:"center",marginTop:52,fontSize:14}),goodslist_goods_box:{position:"relative",width:190,height:190,margin:"auto",backgroundColor:"#FFFFFF",overflow:"hidden"},goodslist_goods_img:{position:"absolute",top:15,left:15,width:160,height:160},layoutPosition:{position:"absolute",top:0,justifyContent:"center"}}))},tt=n(32);function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var rt=Fe.a.openApiDomain,ot=Fe.a.webDomain,it="".concat(ot,"cart2"),at=!1,lt=Object(tt.b)("store")(Xe=Object(tt.c)((Ze=function(e){u()(r,e);var t,n=nt(r);function r(e){var t;return a()(this,r),t=n.call(this,e),m()(C()(t),"listener1",void 0),m()(C()(t),"_panResponder",null),m()(C()(t),"setCartData",(function(){var e=t.props.store;t.setState({cartItem:e.cartNum})})),m()(C()(t),"setCartDataAsync",(function(){var e=t.props.store;e.getCartNum().finally((function(){t.setState({cartItem:e.cartNum})}))})),m()(C()(t),"onHoverIn",(function(){t.setCartDataAsync()})),m()(C()(t),"isShowStyleChange",(function(){var e=(t.props.styleChange||{}).bgFill;return"1"===e||"2"===e})),m()(C()(t),"isShowFontStyle",(function(){return!!t.props.styleChange.fontColor})),m()(C()(t),"isLogin",(function(){var e="".concat(rt,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return Be.a.get(e,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(e){return e.login}))})),t.state={cartItem:0},t}return s()(r,[{key:"componentDidMount",value:function(){this.listener1=Pe.a.addListener("refreshCartNum",this.setCartData),this.setCartData();var e=F.a.get("TID");F.a.get("callAB")||at||(at=!0,Object(be.v)(e,"1"))}},{key:"componentWillUnmount",value:function(){this.listener1&&this.listener1.remove()}},{key:"_onPressItemCart",value:function(){Object(E.A)(it)}},{key:"_onPressItemUser",value:function(){var e="".concat(ot,"member");e=F.a.get("rnpersonalurlweb")?F.a.get("rnpersonalurlweb"):ot+se.j.PERSONAL_URL_WEB,this.openOnlineCustome(e)}},{key:"openOnlineCustome",value:(t=qe()(Je.a.mark((function e(t){var n;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isLogin();case 2:e.sent?Object(E.A)(t):(n="".concat(ot,"account/login?url=").concat(encodeURIComponent(t)),Object(E.A)(n));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.configInfo||{},n=t.showCart,r=t.showPersonalCenter,i=t.showSearch,a=this.state.cartItem,l=a>9,s=this.isShowStyleChange();return v.a.createElement(k.b,{themeStyles:et},(function(t){var c=e.props.list,u=[],d=function(d){u.push("true"==i&&v.a.createElement(Ie.a,null,(function(n){return v.a.createElement(x.a,o()({},e._panResponder(c[d]).panHandlers,{key:d,style:n?t.iconbox_choose:t.iconbox_item}),v.a.createElement(I.a,null,v.a.createElement(ge.a,{iconName:"search",width:"26",height:"26",normalCol:s?"rgba(255,255,255,1)":"rgba(0,0,0,0.6)"})))})),"true"==r&&v.a.createElement(Ie.a,null,(function(n){return v.a.createElement(x.a,{key:d,style:[n?t.iconbox_choose:t.iconbox_item,{}]},v.a.createElement(I.a,{onPress:function(){return e._onPressItemUser()}},v.a.createElement(ge.a,{iconName:"user",width:"26",height:"26",normalCol:s?"rgba(255,255,255,1)":"rgba(0,0,0,0.6)"})))})),"true"==n&&v.a.createElement(Ie.a,{onHoverIn:function(){return e.onHoverIn()}},(function(n){return v.a.createElement(x.a,{style:{position:"relative"}},v.a.createElement(x.a,{key:d,style:[n?t.iconbox_choose:t.iconbox_item]},v.a.createElement(I.a,{onPress:function(){return e._onPressItemCart()}},v.a.createElement(ge.a,{iconName:"cart",width:"26",height:"26",normalCol:s?"rgba(255,255,255,1)":"rgba(0,0,0,0.6)"}))),a>0?v.a.createElement(x.a,{style:[t.iconbox_cart,{width:l?24:16,right:l?-10:-2}]},v.a.createElement(B.a,{style:t.iconbox_cart_item},a)):null)})))};for(var p in c)d(p);return v.a.createElement(x.a,{style:t.iconbox_container},u)}))}},{key:"onPress",value:function(e){if(e.isSearch)this.props.toShowSearch(!0);else{var t=null==e?void 0:e.url;t&&Object(E.A)(t)}}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this._panResponder=function(t){return X.a.create({onStartShouldSetPanResponder:function(){return!0},onStartShouldSetPanResponderCapture:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponderCapture:function(){return!0},onPanResponderEnd:function(){e.onPress(t)}})}}}]),r}(v.a.Component),m()(Ze,"defaultProps",{list:[{icon:"iconName",isSearch:!0}],toShowSearch:function(){}}),Xe=Ze))||Xe)||Xe,st={onPress:function(e,t){var n,r=this.props,o=r.cardId,i=r.pageCatCode,a=r.pageCatName,l=r.resSiteCode,s=r.resSiteName;return{data:{actionCode:ie.f.PC+ie.d.NAVIGATION,actionName:"pc一级导航"+(null==e?void 0:e.categoryName),eventType:ie.e.EVENT_TYPE_CLICK,content:{comId:(null==o?void 0:o.toString())||"",index:(null==t?void 0:t.toString())||"",gotoPageId:e&&null!=e&&e.gotoPageId?null==e?void 0:e.gotoPageId.toString():"",gotoURL:(null==e?void 0:e.actionUrlWeb)||"",tabName:(null==e?void 0:e.categoryName)||"",tabindex:(null==t?void 0:t.toString())||"",dataCode:(null==e||null===(n=e.dataSourceCode)||void 0===n?void 0:n.toString())||"",dateType:ie.c.TEXT_LINK,clickType:ie.b.CLICK_NAVIGATION},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}}}},ct=n(71),ut=n(22);function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var pt=function(e){u()(n,e);var t=dt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={hoverId:""},r}return s()(n,[{key:"render",value:function(){var e=this;return v.a.createElement(x.a,{style:{width:808,overflow:"hidden",marginLeft:32}},v.a.createElement(k.b,{themeStyles:et},(function(t){var n=e.props,r=n.categoryList,o=n.chooseId,i=n.isShowItem,a=n.hasAllCategory,l=[],s=(null==r?void 0:r.length)||0;if(r){s>12&&r.splice(12);var c=function(n){if(r[n]){var c,u,d,p,f,h;if(!i(r[n],n))return"continue";var g=s>8&&s<11?t.menu_title_md:s>10&&t.menu_title_mini;l.push(v.a.createElement(I.a,{key:n,activeOpacity:1,onPress:function(){return e.onClick(r[n],n)}},v.a.createElement(Ie.a,{onHoverIn:function(){return e.onHoverChange(n)},onHoverOut:function(){return e.onHoverChange()}},v.a.createElement(x.a,{style:t.menu_sub_container},"0"==n&&a?v.a.createElement(ge.a,{iconName:"allCategory",width:"20",height:"20",normalCol:o===r[n].categoryId||e.state.hoverId===n?"#CE0E2D":null!==(c=e.props)&&void 0!==c&&null!==(u=c.color)&&void 0!==u&&null!==(d=u.textStyle)&&void 0!==d&&d.color?e.props.color.textStyle.color:"#000",opacity:"0.9"}):null,v.a.createElement(B.a,{style:[t.menu_title,(ct.a.showSubCategory,g),{color:null!==(p=e.props)&&void 0!==p&&null!==(f=p.color)&&void 0!==f&&null!==(h=f.textStyle)&&void 0!==h&&h.color?e.props.color.textStyle.color:t.C11.color},(o===r[n].categoryId||e.state.hoverId===n)&&t.menu_title_choose,"0"==n&&t.menu_all_category_title]},r[n].categoryName)))))}};for(var u in r)c(u);return v.a.createElement(x.a,{style:t.menu_container},l)}return null})))}},{key:"onClick",value:function(e,t){(0,this.props.clickItem)(e,t),this.onPress(e,t),Object(ut.b)("",!0)}},{key:"onHoverChange",value:function(e){this.setState({hoverId:e||""})}},{key:"onPress",value:function(e,t){}}]),n}(v.a.Component);m()(pt,"defaultProps",{categoryList:[],chooseId:"",isShowItem:function(){return!0},clickItem:function(){}});var ft=Object(le.a)(st)(pt),ht=n(1733),gt=n(1732);function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var yt=function(e){u()(n,e);var t=mt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={imgScale:new K.a.Value(1),moreUrl:""},r}return s()(n,[{key:"imgHover",value:function(){this.state.imgScale.setValue(1),K.a.spring(this.state.imgScale,{toValue:1.2,bounciness:6,speed:5,useNativeDriver:!0}).start()}},{key:"componentDidMount",value:function(){this.dataHandle()}},{key:"imgHoverOut",value:function(){this.state.imgScale.setValue(1.2),K.a.spring(this.state.imgScale,{toValue:1,bounciness:1,speed:5,useNativeDriver:!0}).start()}},{key:"dataHandle",value:function(){var e=this.props,t=e.info,n=e.propsNew;if("tag"===t.dataType){var r=t.prdName,o=n.categoryName,i=JSON.parse(t.tagCode),a=[],l=[];N()(i,(function(e,t){a.push(e.cnName),l.push(e.code)}));var s=encodeURIComponent(encodeURIComponent(o)),c=encodeURIComponent(encodeURIComponent(r)),u="".concat(ce.a.webDomain,"portal/category/?targetRoute=CategoryList&tagid=").concat(l,"&categoryName=").concat(s,"&prdName=").concat(c,"&searchResultPageProdShow=true&searchHistoryShow=true");this.setState({moreUrl:u})}}},{key:"render",value:function(){var e=this;return v.a.createElement(k.b,{themeStyles:et},(function(t){var n=e.props,r=n.info,o=n.index,i=n.propsNew;return v.a.createElement(x.a,null,v.a.createElement(Ie.a,{key:o,onHoverIn:function(){return e.imgHover()},onHoverOut:function(){return e.imgHoverOut()}},(function(n){return v.a.createElement(x.a,{style:t.goodslist_goods_box},v.a.createElement(K.a.View,{style:[t.goodslist_goods_img,{transform:[{scale:e.state.imgScale}]}]},v.a.createElement(H.a,{propsNew:i,headIndex:o,imgUri:r.uri,info:r,imgProportion:1,headeClick:!0,actionUrlWeb:r.actionUrlWeb||e.state.moreUrl})))})),v.a.createElement(I.a,null,v.a.createElement(Ie.a,{key:o},(function(e){return v.a.createElement(B.a,{ellipsizeMode:"tail",numberOfLines:1,style:[e?t.goodslist_goods_choose:t.goodslist_goods_title]},r.prdName)}))))}))}}]),n}(v.a.Component);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var bt={onPress:function(e,t){var n=null,r=e.dataType,o=this.props,i=o.cardId,a=o.pageCatCode,l=o.pageCatName,s=o.resSiteCode,c=o.resSiteName;if("rich"===r){var u,d=this.state.navParams;n={actionCode:ie.f.PC+ie.d.NAVIGATION,actionName:"二级导航-"+(null==e?void 0:e.goodsTitle),eventType:ie.e.EVENT_TYPE_CLICK,content:{comId:(null==i?void 0:i.toString())||"",gotoPageId:(null==e?void 0:e.gotoPageId.toString())||"",gotoURL:(null==e?void 0:e.actionUrlWeb)||"",tabName:(null==d?void 0:d.title)||"",tabindex:null==d||null===(u=d.pIndex)||void 0===u?void 0:u.toString(),index:(null==t?void 0:t.toString())||"",dataCode:(null==e?void 0:e.id.toString())||"",dateType:ie.c.SKU,clickType:ie.b.CLICK_NAVIGATION}}}return"link"===r&&(n={actionCode:ie.f.PC+ie.d.NAVIGATION,actionName:"二级导航文字连接",eventType:ie.e.EVENT_TYPE_CLICK,content:{comId:(null==i?void 0:i.toString())||"",gotoPageId:(null==e?void 0:e.gotoPageId.toString())||"",gotoURL:(null==e?void 0:e.linkUrlWeb)||"",index:(null==t?void 0:t.toString())||"",dataCode:(null==e?void 0:e.id.toString())||"",dateType:ie.c.ADS,clickType:ie.b.CLICK_NAVIGATION}}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({data:n},{pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c})}};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Ot=null,Pt=function(e){u()(n,e);var t=Ct(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={goodsList:[],navList:[],activeId:"",opacity:new K.a.Value(1),boxOpacity:new K.a.Value(0),marginTop:new K.a.Value(50),display:"none"},r}return s()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state,o=r.goodsList,i=r.navList,a=this.props.list;o.length||i.length?a.length?e.list!==this.props.list&&this.toAction(!0).then((function(){a.length&&n.setData(a).then((function(){n.toAction()}))})):Promise.all([this.toAction(!0,!0),this.boxAction(!0)]).then((function(){n.setData(a)})):a.length?this.setData(a).then((function(){n.boxAction(),n.toAction(!1,!0)})):this.setData(a)}},{key:"componentWillUnmount",value:function(){Ot&&clearTimeout(Ot)}},{key:"setData",value:function(e){var t=this;return new Promise((function(n){t.setState({goodsList:e.filter((function(e){return"prod"===e.dataType||"tag"===e.dataType})).slice(0,5),navList:e.filter((function(e){return"link"===e.dataType})).map((function(e,t){return St(St({},e),{},{id:t})})).slice(0,5)},(function(){n(0)}))}))}},{key:"boxAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t?0:1;return new Promise((function(r){K.a.timing(e.state.boxOpacity,{toValue:n,duration:600,useNativeDriver:!0}).start((function(){r(0),t&&e.props.toHideGoods()}))}))}},{key:"toAction",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?0:1,o=t?50:0;return new Promise((function(t){K.a.timing(e.state.marginTop,{toValue:o,duration:300,useNativeDriver:!0}).start(),n?t(0):K.a.timing(e.state.opacity,{toValue:r,duration:300,useNativeDriver:!0}).start((function(){t(0)}))}))}},{key:"render",value:function(){var e=this;return v.a.createElement(k.b,{themeStyles:et},(function(t){var n=e.state,r=n.goodsList,o=n.navList;return v.a.createElement(K.a.View,{style:[t.goodslist_container_bg,{opacity:e.state.boxOpacity}]},v.a.createElement(ke.a,{style:t.goodslist_container},v.a.createElement(K.a.View,{style:[t.goodslist_goods,{top:e.state.marginTop,opacity:e.state.opacity}]},v.a.createElement(ht.a,{size:5,style:t.goodslist_goods_row,gutter:44},r.map((function(t,n){return v.a.createElement(gt.a,{key:n,sm:1},v.a.createElement(yt,{propsNew:e.props,info:r[n],index:n}))})))),v.a.createElement(K.a.View,{style:[t.goodslist_nav,{top:e.state.marginTop,opacity:e.state.opacity}]},o.map((function(n,r){return v.a.createElement(Ie.a,{key:r},(function(o){return v.a.createElement(I.a,{style:[t.goodslist_goodsitem],onPress:function(){return e.onPress(n,r)}},v.a.createElement(B.a,{style:[o||e.state.activeId===n.id?t.goodslist_goodsitem_active:t.goodslist_goodsitem_normal]},n.linkName))}))})))))}))}},{key:"onPress",value:function(e,t){this.setState({activeId:e.id}),e.linkUrlWeb&&(Ot=setTimeout((function(){Object(E.A)(e.linkUrlWeb,!("1"!==e.newTabFlag))}),150))}}]),n}(v.a.Component);m()(Pt,"defaultProps",{list:[],toHideGoods:function(){}});var Tt,xt,It=Object(le.a)(bt)(Pt),kt={exposeItem:function(){var e=this.props,t=e.cardId,n=e.pageCatCode,r=e.pageCatName,o=e.resSiteCode,i=e.resSiteName;return{data:{actionCode:ie.f.PC+ie.d.NAVIGATION,actionName:"pc导航组件曝光",eventType:ie.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,content:{comId:t.toString()},pageCatCode:n,pageCatName:r,resSiteCode:o,resSiteName:i}}}},Et=n(30),jt=n(169),Rt=n(90);function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var _t=Object(tt.c)((xt=function(e){u()(n,e);var t=Lt(n);function n(e){var r;return a()(this,n),r=t.call(this,e),m()(C()(r),"itemlist",[]),m()(C()(r),"_itemClickDate",void 0),m()(C()(r),"navigationpcRef",void 0),m()(C()(r),"listerNavigation",void 0),m()(C()(r),"tools",void 0),m()(C()(r),"topMenu",void 0),m()(C()(r),"navRef",(function(e){e&&r.itemlist.push(e)})),m()(C()(r),"onSetTabTopState",(function(e){r.setState({ZnavTop:e.navTop})})),m()(C()(r),"handleToolbarScrollEvent",(function(e){e&&(Rt.a.setNavTop(!1),r.setState({navTop:!1}))})),m()(C()(r),"_onLayout",(function(e){r.setState({stickyLayoutY:e.nativeEvent.layout.y})})),m()(C()(r),"getView",(function(){var e=r.props,t=e.stickyScrollY,n=e.isFixed,i=e.configInfo,a=e.styleChange,l=e.width,s=e.pageCatCode,c=e.pageCatName,u=e.resSiteCode,d=e.resSiteName,p=i.topFixed,f=r.state,h=f.stickyLayoutY,g=f.ZnavTop,m=h,y="true"==n?t.interpolate({inputRange:[-1,0,m,m+1],outputRange:[0,0,0,1]}):0;return v.a.createElement(k.b,{themeStyles:et},(function(e){var t=r.props,n=t.categoryList,f=t.logo,h=t.cardId;return v.a.createElement(K.a.View,{onLayout:r._onLayout,nativeID:"naviBarLayout",ref:function(e){return r.navigationpcRef=e},style:["web"===O.a.OS?[r.state.w,"true"==p&&r.state.navTop&&{position:"fixed",top:0,width:"100%",margin:"auto",zIndex:11},g&&{position:"relative",top:"auto"},g?{zIndex:2}:{zIndex:4}]:{zIndex:1,transform:[{translateY:y}]}]},v.a.createElement(T.a,{source:{uri:r.state.headerBoxStyle.bgImg},style:{position:"relative",zIndex:2}},v.a.createElement(x.a,{style:[r.state.navTop?e.layout_bottom:e.layout,r.state.showSearch&&e.layout_search,r.state.headerBoxStyle.imgStyle],ref:r.navRef},v.a.createElement(Ie.a,{onHoverOut:function(){return r.clear()}},r.state.showSearch?v.a.createElement(x.a,{style:e.pcContainer},v.a.createElement(Ge,{color:r.state.headerBoxStyle,onHideSearch:function(){return r.onHideSearch()},configInfo:r.props.configInfo})):v.a.createElement(x.a,null,v.a.createElement(ke.a,null,v.a.createElement(x.a,{style:e.pcContainer},v.a.createElement(x.a,{style:e.img_Box},v.a.createElement(H.a,o()({},f,{isRadius:!1}))),v.a.createElement(x.a,{style:e.menuBox},v.a.createElement(ft,{color:r.state.headerBoxStyle,chooseId:r.state.chooseId,categoryList:n,cardId:h,isShowItem:r.isShowItem,clickItem:r.clickItem,hasAllCategory:r.hasAllCategory(),pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d})),v.a.createElement(x.a,{style:e.iconBox},v.a.createElement(lt,{configInfo:i,color:r.state.headerBoxStyle,toShowSearch:function(e){return r.toShowSearch(e)},styleChange:a}))),r.state.showSubCategoryView?v.a.createElement(Ie.a,{onHoverOut:function(){return r._onHoverInItem()}},v.a.createElement(x.a,{style:e.subCategory},v.a.createElement(jt.a,{category:n[0],cardId:h,width:l,clickCateGoryStatus:r.state.showSubCategoryView,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d}))):null),r.state.showGoods?v.a.createElement(x.a,{style:e.goodsBox},v.a.createElement(It,{list:r.state.chooseList,cardId:h,categoryName:r.state.categoryName,categoryIndex:r.state.categoryIndex,toHideGoods:function(){return r.toHideGoods()},pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d})):null)))))}))})),m()(C()(r),"isShowItem",(function(e,t){return!("0"==t&&r.hasAllCategory()&&!r.needShowAllCategory())})),m()(C()(r),"clickItem",(function(e,t){r.setState({categoryName:e.categoryName,categoryIndex:t}),null!=e&&e.actionUrlWeb?Object(E.A)(e.actionUrlWeb,!("1"!==e.newTabFlag)):"0"==t&&r.hasAllCategory()&&r.needShowAllCategory()?r.clickAllCategory():r.setChooseList(e.categoryId)})),r.state={chooseList:[],showSearch:!1,showGoods:!1,chooseId:"",headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}},showSubCategoryView:!1,stickyLayoutY:0,navTop:!1,ZnavTop:!1,categoryName:"",categoryIndex:""},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.tools=Rt.a.getTools,this.topMenu=Rt.a.getTopMenu,this.onScroItem=Pe.a.addListener("onScrollEvent",(function(){e.setState({showSubCategoryView:!1})})),window.addEventListener("scroll",this.handleScroll.bind(this)),this.props.styleChange||this.props.groupStyleChange){var t=Object(E.i)(this.props.styleChange,"large"),n=this.props.groupStyleChange?Object(E.i)(this.props.groupStyleChange,"large"):null;(t||n)&&this.setState({headerBoxStyle:Object.assign(t,n)})}"web"===O.a.OS&&Pe.a.addListener("tabViewWeb",this.onSetTabTopState),this.listerNavigation=Pe.a.addListener("onToolbarScrollEvent",this.handleToolbarScrollEvent)}},{key:"_layout",value:function(e){var t=Object(Te.a)(e)||0;return new Promise((function(e){xe.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"handleScroll",value:function(){var e,t=document.getElementById("naviBarLayout"),n=(null==t||null===(e=t.getBoundingClientRect())||void 0===e?void 0:e.top)||0,r=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;this.tools?n<1&&(Rt.a.setNavTop(!0),this.setState({navTop:!0})):this.topMenu?r<90?(Rt.a.setNavTop(!1),this.setState({navTop:!1})):(Rt.a.setNavTop(!0),this.setState({navTop:!0})):r<4?(Rt.a.setNavTop(!1),this.setState({navTop:!1})):(Rt.a.setNavTop(!0),this.setState({navTop:!0}))}},{key:"_onHoverInItem",value:function(){this.setState({showSubCategoryView:!1}),Et.a.setclickGb(!1)}},{key:"componentWillUnmount",value:function(){"web"===O.a.OS&&(window.removeEventListener("scroll",this.handleScroll.bind(this)),Pe.a.removeListener("tabViewWeb",this.onSetTabTopState)),this.onScroItem.remove(),this.listerNavigation&&this.listerNavigation.remove()}},{key:"render",value:function(){var e=this.props.showBannerCategory;return ct.a.bannerVisible&&"true"==e&&this.state.showSubCategoryView&&this.setState({showSubCategoryView:!1}),this.getView()}},{key:"setChooseList",value:function(e){var t=this,n=this.props.categoryList;if(void 0!==e&&void 0!==n){var r=n.find((function(t){return t.categoryId===e}));if((null==r?void 0:r.categoryId)===this.state.chooseId)this.clear();else if(r&&r.productList)if(this.state.showGoods)this.setState({chooseList:r.productList,chooseId:r.categoryId});else{var o=r;this.setState({showGoods:!0,showSubCategoryView:!1},(function(){t.setState({chooseList:o.productList,chooseId:o.categoryId})}))}else this.clear()}else this.clear()}},{key:"clear",value:function(){this.setState({chooseList:[],chooseId:""})}},{key:"clickAllCategory",value:function(){var e=!this.state.showSubCategoryView;this.setState({showSubCategoryView:e,showGoods:!1}),Et.a.setclickGb(e),this.clear()}},{key:"hasAllCategory",value:function(){var e=this.props.configInfo;return e&&"true"==e.showCategory}},{key:"needShowAllCategory",value:function(){var e=this.props.configInfo;return e&&"true"==e.showBannerCategory&&ct.a.bannerVisible?(ct.a.getAllCategory(!1),!1):(ct.a.getAllCategory(!0),!0)}},{key:"toHideGoods",value:function(){this.setState({showGoods:!1})}},{key:"toShowSearch",value:function(e){this.setState({showSearch:e||!1})}},{key:"onHideSearch",value:function(){this.clear(),this.toShowSearch(!1)}}]),n}(y.Component),m()(xt,"defaultProps",{logo:{imgUri:oe.d,imgProportion:103/74,actionUrl:"",actionUrlWeb:ce.a.webDomain,actionUrlWap:ce.a.wapDomain},configInfo:{showCategory:"false",showBannerCategory:"true"},isFixed:"true",stickyScrollY:new K.a.Value(0)}),Tt=xt))||Tt,Dt=Object(w.a)(Object(le.a)(kt)(Object(ye.a)(_t)));function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var At=function(e){u()(n,e);var t=Wt(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={categoryList:[]},r}return s()(n,[{key:"configProductListWithCategoryList",value:function(){var e=this,t=this.props,n=t.categoryList,r=t.width,o=t.configInfo;if(n.length){var i=o.showBannerCategory;ct.a.setShowBannerCategory(i),this.updateStoreAllCategory(n[0]),this.setState({categoryList:n});var a,l=this.calAllCategoryDateSource(n),s=JSON.stringify(l);return a="large"===Object(b.a)(r)?"1":"2",new Promise((function(t){Object(be.n)(s,a).then((function(r){var o=!!r.dataMap&&r.dataMap;o&&e.calAllCategoryProductList(o,n),e.updateStoreAllCategory(n[0]),t(n)}))}))}return Promise.resolve()}},{key:"componentDidMount",value:function(){var e=this;this.configProductListWithCategoryList().then((function(t){e.setState({categoryList:t})})).catch((function(e){}))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.reportUrl,r=e.cardId,i=e.configInfo,a=this.state.categoryList;return"large"===Object(b.a)(t)?v.a.createElement(Dt,o()({},this.props,{categoryList:a,reportUrl:n,cardId:r,width:t,configInfo:i})):v.a.createElement(Oe,o()({},this.props,{width:t,categoryList:a,reportUrl:n,cardId:r}))}},{key:"calAllCategoryDateSource",value:function(e){var t=this,n=this.calCategoryDateSource(e);return null==e||e.forEach((function(e){var r=t.calCategoryDateSource(e.subCategoryList);r.length&&(n=n.concat(r))})),n}},{key:"calCategoryDateSource",value:function(e){var t=[];return null==e||e.forEach((function(e){var n=JSON.parse(e.configInfo).dataSourceList[0];e.dataSourceType=n,t.push(n.dataSourceCode)})),t}},{key:"calCategoryProductList",value:function(e,t){null==t||t.forEach((function(t,n){var r=t.dataSourceType.dataSourceCode,o=e[r];t.productList=o&&o.dataInfos&&o.dataInfos.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:t,uri:ce.a.cmsCdnPath+e.photoPath+e.photoName},e)}))||[]}))}},{key:"calAllCategoryProductList",value:function(e,t){var n=this;this.calCategoryProductList(e,t),null==t||t.forEach((function(t){n.calAllCategoryProductList(e,t.subCategoryList)}))}},{key:"updateStoreAllCategory",value:function(e){var t=this.props.configInfo;t&&"true"==t.showBannerCategory&&ct.a.updateAllCategory(e)}}]),n}(y.Component);m()(At,"defaultProps",{categoryList:[]});t.a=Object(w.a)(At)},,function(e,t,n){"use strict";var r,o,i,a,l,s,c,u,d=n(27),p=n.n(d),f=n(5),h=n.n(f),g=n(6),m=n.n(g),y=(n(1),n(18)),v=n.n(y),b=(n(60),n(16)),w=n(3),S=n(54),C=n(40),O=(r=function(){function e(){h()(this,e),p()(this,"background",o,this),p()(this,"styleChange",i,this),p()(this,"TopColor",a,this),p()(this,"CrossDressing",l,this),p()(this,"isBackgroundColor",s,this),p()(this,"backgroundColor",c,this),p()(this,"pageId",u,this)}return m()(e,[{key:"onUpdate",value:function(e,t){this.pageId=t,this.CrossDressing=!0,this.styleChange=Object(b.n)(JSON.parse(e));var n=Object(w.i)(this.styleChange,Object(C.a)(S.a.get("window").width));if(n.bgImg){var r;this.background=n.bgImg,this.TopColor=null===(r=n.textStyle)||void 0===r?void 0:r.color,this.isBackgroundColor=!1}else{var o,i,a,l;if(n.textStyle&&"none"!==(null===(o=n.imgStyle)||void 0===o?void 0:o.backgroundColor)||""!==(null===(i=n.imgStyle)||void 0===i?void 0:i.backgroundColor))this.isBackgroundColor=!0,this.backgroundColor=null===(l=n.imgStyle)||void 0===l?void 0:l.backgroundColor;this.TopColor=null===(a=n.textStyle)||void 0===a?void 0:a.color}}}]),e}(),o=v()(r.prototype,"background",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=v()(r.prototype,"styleChange",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=v()(r.prototype,"TopColor",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=v()(r.prototype,"CrossDressing",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=v()(r.prototype,"isBackgroundColor",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=v()(r.prototype,"backgroundColor",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=v()(r.prototype,"pageId",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v()(r.prototype,"onUpdate",[b.d],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),r);t.a=new O},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(49),S=n(126),C=n(43),O=n(157),P=n(152),T=n(48),x=n(102),I=n(185),k=n(3),E=n(1018),j=n(950),R=n(149),L=n(57),_=n(122),D=n(40),N=n(53);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=n(22),M=n(21),F=n(133),H=n(20);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var U=function(e){u()(n,e);var t=z(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"handleClose",(function(){r.props.changeShowStatus()})),r.state={iconList:[],_styles:{}},r}return a()(n,[{key:"handleDapReport",value:function(e,t,n,r){this.iconGoPage(e,t)}},{key:"iconGoPage",value:function(e,t){t&&(this.closeModal(),this.props.ListBarGotoPage(t))}},{key:"closeModal",value:function(){this.props.changeShowStatus()}},{key:"renderList",value:function(e,t){var n=this,r=(this.props||{}).fromPage;return v.a.createElement(x.b,{themeStyles:function(r){var o;return function(e,t,n,r,o,i,a,l,s,c,u){var d,p;t&&(e=_.a);var f={},h={};null!=t&&null!==(d=t.textStyle)&&void 0!==d&&d.color&&(f.color=t.textStyle.color),null!=t&&null!==(p=t.imgStyle)&&void 0!==p&&p.backgroundColor&&(h.backgroundColor=t.imgStyle.backgroundColor);var g=0;return g="allWithSubTab"===n&&"android"===b.a.OS?40:"active"===n?!0===i?a:"ios"===b.a.OS?s?l+100:l+56:366===r?112+(s?0:-56):c&&!u?56+(s?56-R.a.currentHeight:0):(s?R.a.currentHeight:0)+56:"personal"===n?40:("ios"===b.a.OS?l:0)+56,L.a.create({view:A(A({position:"absolute",backgroundColor:e.C33.color,borderRadius:16,right:"web"==b.a.OS?0:"medium"===Object(D.a)(o)?24:16,top:g,elevation:10,zIndex:9999},e.S41),{},{overflow:"hidden"},h),item:{height:48,flex:1,flexDirection:"row",alignItems:"center",overflow:"hidden"},border:{borderBottomColor:e.C39.color+e.opacityMap[e.C39.opacity],borderStyle:"solid",borderBottomWidth:1},borderNone:{borderBottomWidth:0},icon:{width:24,height:24,marginRight:8,position:"relative"},text:A(A({fontSize:16,color:e.C11.color,fontFamily:N.a.fontFamilyBase},f),{},{flex:1,height:48,lineHeight:48}),topIcon:{width:16,height:16,color:"white",position:"absolute",top:-4,right:-4,backgroundColor:"personal"==n?e.C17.color:e.C35.color,borderRadius:8},topText:A({fontSize:10,fontWeight:"400",lineHeight:16,color:"personal"==n?e.C35.color:e.C17.color,textAlign:"center"},f),topIconMore:{width:24},hidden:{display:"none",position:"relative"},clickWrap:{position:"absolute",top:24,right:0,width:"100%",height:"100%",zIndex:9998,elevation:9998},clickItem:{width:"100%",height:"100%",alignItems:"flex-end"},bgImage:{paddingTop:4,paddingBottom:4,paddingLeft:16,paddingRight:16},bgAll:{backgroundColor:"transparent",width:"100%",height:"100%",left:0,top:0}})}(r,n.props.mergeStyle,null===(o=n.props)||void 0===o?void 0:o.fromPage,e,t,n.props.isImmersiveHeader,n.props.listBarHeight,n.props.IosStatusBarHeight,n.props.isShowLayout,n.props.isPadApk,n.props.isFixScreen)}},(function(t,o){var i,a=n.props,l=a.mergeStyle,s=(a.newMergeStyle,null!=l&&null!==(i=l.textStyle)&&void 0!==i&&i.color?"#fff":o.C13.color);return"web"===b.a.OS?0===n.props.iconList.length?v.a.createElement(v.a.Fragment,null):v.a.createElement(C.a,{style:[t.view,{width:e}]},v.a.createElement(S.a,{style:[t.bgAll,{position:"fixed"}],onPress:n.handleClose}),v.a.createElement(E.a,{source:{uri:null==l?void 0:l.bgImg},style:t.bgImage||{}},n.props.iconList.map((function(e,i){return v.a.createElement(C.a,{style:{height:48},key:i},v.a.createElement(C.a,{style:[{flex:1}]},v.a.createElement(S.a,{activeOpacity:1,onPress:function(){var t;n.handleDapReport(!1,e.actionUrl,e,null===(t=n.props)||void 0===t?void 0:t.pageId),Object(B.b)("",!0)},style:[t.item]},v.a.createElement(C.a,{style:[t.icon]},"25"==e.clickType?v.a.createElement(O.a,{style:{width:24,height:24},source:{uri:e.iconUrl}}):v.a.createElement(v.a.Fragment,null,v.a.createElement(H.a,{normalCol:s,iconName:e.iconUrl,opacity:o.C13.opacity,width:24,height:24}),v.a.createElement(C.a,{style:[t.topIcon,(e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)>9?t.topIconMore:{},e.isCart||e.isMessage?0==(e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)?t.hidden:{}:t.hidden,"personal"===r?{backgroundColor:"#CF0A2C"}:null]},v.a.createElement(P.a,{style:[t.topText,"personal"===r?{color:"#fff"}:null]},(e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)>99?"99+":e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)))),v.a.createElement(P.a,{numberOfLines:1,style:[t.text,i===n.props.iconList.length-1?t.borderNone:t.border,{paddingTop:2}]},e.iconText))))})))):0===n.props.iconList.length?v.a.createElement(v.a.Fragment,null):v.a.createElement(j.a,{animationType:"fade",transparent:!0,visible:n.props.isModalShow,statusBarTranslucent:!0,onRequestClose:function(){n.closeModal()}},v.a.createElement(S.a,{activeOpacity:0,style:[t.clickWrap,{top:R.a.currentHeight}],onPress:function(){n.closeModal()}},v.a.createElement(C.a,{style:[t.clickItem]},v.a.createElement(C.a,{style:[t.view,{width:e}]},v.a.createElement(E.a,{source:{uri:null==l?void 0:l.bgImg},style:t.bgImage||{}},n.props.iconList.map((function(e,i){return v.a.createElement(S.a,{key:i,onPress:function(){var t;n.handleDapReport(!1,e.actionUrl,e,null===(t=n.props)||void 0===t?void 0:t.pageId),Object(B.b)("",!0)}},v.a.createElement(C.a,{style:[{flex:1}]},v.a.createElement(C.a,{style:[t.item]},v.a.createElement(C.a,{style:[t.icon]},"25"==e.clickType?v.a.createElement(O.a,{style:{width:24,height:24},source:{uri:e.iconUrl}}):v.a.createElement(v.a.Fragment,null,v.a.createElement(H.a,{normalCol:s,iconName:e.iconUrl,width:24,height:24,opacity:o.C13.opacity}),v.a.createElement(C.a,{style:[t.topIcon,(e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)>9?t.topIconMore:{},e.isCart||e.isMessage?0==(e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)?t.hidden:{}:t.hidden,"personal"===r?{backgroundColor:"#CF0A2C"}:null]},v.a.createElement(P.a,{style:[t.topText,"personal"===r?{color:"#fff"}:null]},(e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)>99?"99+":e.isCart?n.props.cartNum:e.isMessage?n.props.messageNum:0)))),v.a.createElement(P.a,{numberOfLines:1,style:[t.text,i===n.props.iconList.length-1?t.borderNone:t.border]},e.iconText))))})))))))}))}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.width,r="medium"===t?366:156;return v.a.createElement(v.a.Fragment,null,this.renderList(r,n))}}]),n}(y.Component),V=Object(I.a)(Object(M.a)(F.a)(U)),G=function(e){return L.a.create({})},Y=n(33),J=n(24);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var q=!1,Q=!1;T.a.isAndroid()&&(Object(Y.l)().then((function(e){q=(null==e?void 0:e.pad)&&"true"===(null==e?void 0:e.pad)})),Object(Y.i)().then((function(e){Q=e})));var $=function(e){u()(n,e);var t=K(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"listener1",void 0),m()(s()(r),"listener2",void 0),m()(s()(r),"timmer",void 0),m()(s()(r),"ListBarGotoPage",(function(e){r.timmer=setTimeout((function(){Object(k.A)(e)}),T.a.isIOS()?800:300)})),m()(s()(r),"hasShare",(function(e){return["share","ic_earnByShare"].includes(e)})),r.state={iconList:[],isIconListShow:!1,type:1,resIconList:[],showGifIcon:!0},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this;"android"===b.a.OS&&(this.listener1=w.a.addListener("swiperStop",(function(t){if(T.a.isAndroid()){if(q&&!Q)return;t===e.props.pageId&&e.setState({showGifIcon:!1})}else t===e.props.pageId&&e.setState({showGifIcon:!1})})),this.listener2=w.a.addListener("swiperStart",(function(t){t===e.props.pageId&&e.setState({showGifIcon:!0})})))}},{key:"componentWillUnmount",value:function(){"android"===b.a.OS&&(this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove()),this.timmer&&clearTimeout(this.timmer)}},{key:"handleDapReport",value:function(e,t,n){var r;arguments.length>3&&void 0!==arguments[3]||null===(r=this.props)||void 0===r||r.pageId;this.iconGoPage(e,t)}},{key:"iconGoPage",value:function(e,t){if(e){var n=!this.state.isIconListShow;this.setState({isIconListShow:n})}t&&Object(k.A)(t)}},{key:"closeModal",value:function(){this.setState({isIconListShow:!1})}},{key:"handleRender",value:function(){var e=this,t=this.props,n=t.shrinkCriticalValue,r=void 0===n?3:n,o=t.fromPage,i=t.hasCrossDressBg,a=t.isImmersive,l=t.defaultColor;return v.a.createElement(x.b,{themeStyles:G},(function(t,n){var s,c,u,d,p,f,h=n.C31.color;"allWithSubTab"==o?a?"white"===l?h="#FFFFFF":"black"===l&&(h="#000000"):null!==(s=e.props)&&void 0!==s&&null!==(c=s.mergeStyle)&&void 0!==c&&null!==(u=c.textStyle)&&void 0!==u&&u.color&&i&&(h="#FFFFFF"):null!==(d=e.props)&&void 0!==d&&null!==(p=d.mergeStyle)&&void 0!==p&&null!==(f=p.textStyle)&&void 0!==f&&f.color&&(h=e.props.mergeStyle.textStyle.color);if(0===e.props.iconList.length)return v.a.createElement(v.a.Fragment,null);var g,m,y,b,w,T,x=e.props.iconList[0].isCart?e.props.cartNum:e.props.iconList[0].isMessage?e.props.messageNum:0,I=e.props.iconList.length<3?0:e.props.iconList[1].isCart?e.props.cartNum:e.props.iconList[1].isMessage?e.props.messageNum:0;return e.props.iconList.length>r?v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{onPress:function(){var t;e.handleDapReport(!1,e.props.iconList[0].actionUrl,e.props.iconList[0],null===(t=e.props)||void 0===t?void 0:t.pageId),Object(B.b)("",!0)}},v.a.createElement(C.a,{style:[e.props.style.image,{position:"relative"}]},"25"==e.props.iconList[0].clickType?v.a.createElement(O.a,{style:{width:24,height:24},source:{uri:e.props.iconList[0].iconUrl}}):v.a.createElement(v.a.Fragment,null,v.a.createElement(H.a,{normalCol:h,iconName:e.props.iconList[0].iconUrl,opacity:e.hasShare(e.props.iconList[0].iconUrl)?n.C21.opacity:1,width:24,height:24}),v.a.createElement(C.a,{style:[e.props.style.topIcon,x>9?e.props.style.topIconMore:{},e.props.iconList[0].isCart||e.props.iconList[0].isMessage?0==x?e.props.style.hidden:{}:e.props.style.hidden]},v.a.createElement(P.a,{style:[e.props.style.topText,null!==(g=e.props)&&void 0!==g&&null!==(m=g.newMergeStyle)&&void 0!==m&&null!==(y=m.textStyle)&&void 0!==y&&y.color?{color:"#fff"}:null]},x>99?"99+":x))))),3==r?v.a.createElement(S.a,{onPress:function(){var t;e.handleDapReport(!1,e.props.iconList[1].actionUrl,e.props.iconList[1],null===(t=e.props)||void 0===t?void 0:t.pageId),Object(B.b)("",!0)}},v.a.createElement(C.a,{style:[e.props.style.image,{position:"relative"}]},"25"==e.props.iconList[1].clickType?v.a.createElement(O.a,{style:{width:24,height:24},source:{uri:e.props.iconList[1].iconUrl}}):v.a.createElement(v.a.Fragment,null,v.a.createElement(H.a,{normalCol:h,iconName:e.props.iconList[1].iconUrl,opacity:e.hasShare(e.props.iconList[1].iconUrl)?n.C21.opacity:1,width:24,height:24}),v.a.createElement(C.a,{style:[e.props.style.topIcon,I>9?e.props.style.topIconMore:{},e.props.iconList[1].isCart||e.props.iconList[1].isMessage?0==I?e.props.style.hidden:{}:e.props.style.hidden]},v.a.createElement(P.a,{style:[e.props.style.topText,null!==(b=e.props)&&void 0!==b&&null!==(w=b.newMergeStyle)&&void 0!==w&&null!==(T=w.textStyle)&&void 0!==T&&T.color?{color:"#fff"}:null]},I>99?"99+":I))))):null,v.a.createElement(S.a,{onPress:function(){var t;e.handleDapReport(!0,null,null,null===(t=e.props)||void 0===t?void 0:t.pageId),Object(B.b)("",!0)}},v.a.createElement(C.a,{style:[e.props.style.image,e.props.style.imageLast]},v.a.createElement(H.a,{normalCol:h,iconName:"more",width:24,height:24})))):e.props.iconList.map((function(t,r){var o,i,a;return v.a.createElement(S.a,{key:r,onPress:function(){var n;e.handleDapReport(!1,t.actionUrl,t,null===(n=e.props)||void 0===n?void 0:n.pageId),Object(B.b)("",!0)}},v.a.createElement(C.a,{style:[e.props.style.image,r===e.props.iconList.length-1?e.props.style.imageLast:{},{position:"relative"}]},"25"==t.clickType?e.state.showGifIcon?v.a.createElement(J.a,{imgStyle:{width:24,height:24},imgUri:t.iconUrl}):v.a.createElement(v.a.Fragment,null):v.a.createElement(v.a.Fragment,null,v.a.createElement(H.a,{normalCol:h,iconName:t.iconUrl,opacity:e.hasShare(t.iconUrl)?n.C21.opacity:1,width:24,height:24}),v.a.createElement(C.a,{style:[e.props.style.topIcon,(t.isCart?e.props.cartNum:t.isMessage?e.props.messageNum:0)>9?e.props.style.topIconMore:{},t.isCart||t.isMessage?0==(t.isCart?e.props.cartNum:t.isMessage?e.props.messageNum:0)?e.props.style.hidden:{}:e.props.style.hidden]},v.a.createElement(P.a,{style:[e.props.style.topText,null!==(o=e.props)&&void 0!==o&&null!==(i=o.newMergeStyle)&&void 0!==i&&null!==(a=i.textStyle)&&void 0!==a&&a.color?{color:"#fff"}:null]},(t.isCart?e.props.cartNum:t.isMessage?e.props.messageNum:0)>99?"99+":t.isCart?e.props.cartNum:t.isMessage?e.props.messageNum:0)))))}))}))}},{key:"render",value:function(){var e,t,n=this.props,r=n.size,o=n.newMergeStyle,i=n.pageCatCode,a=n.pageCatName,l=n.resSiteCode,s=n.resSiteName,c=n.shrinkCriticalValue,u=void 0===c?3:c,d=n.isShowLayout;return v.a.createElement(v.a.Fragment,null,v.a.createElement(C.a,{style:[this.props.style.view,this.props.style.rightWrap,{marginBottom:0}]},this.handleRender(),this.state.isIconListShow?v.a.createElement(V,{changeShowStatus:this.closeModal.bind(this),isModalShow:this.state.isIconListShow,fromPage:null===(e=this.props)||void 0===e?void 0:e.fromPage,cartNum:this.props.cartNum,messageNum:this.props.messageNum,size:r,pageId:null===(t=this.props)||void 0===t?void 0:t.pageId,width:this.props.width,newMergeStyle:o,iconList:this.props.iconList.length>u?this.props.iconList.slice(u-1):[],isImmersiveHeader:this.props.isImmersiveHeader,listBarHeight:this.props.listBarHeight,IosStatusBarHeight:this.props.IosStatusBarHeight,isPadApk:this.props.isPadApk,isFixScreen:this.props.isFixScreen,customClickReport:this.props.customClickReport,pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s,ListBarGotoPage:this.ListBarGotoPage,isShowLayout:d}):v.a.createElement(v.a.Fragment,null)))}}]),n}(y.Component);t.a=Object(I.a)(Object(M.a)(F.a)($))},,function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(37),m=n(17),y=n.n(m),v=n(26),b=n.n(v),w=n(2),S=n.n(w),C=n(1),O=n.n(C),P=n(34),T=n.n(P),x=n(152),I=n(157),k=n(43),E=n(432),j=n(1731),R=n(660),L=n(3),_=n(49),D=n(951),N=n(103),W=n(29),A=n(38),B=n(11),M=n(57),F=n(122);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=M.a.create({dialogWrap:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},dialogCon:{width:700,height:468,backgroundColor:"#fff"},dialogTitleWrap:{paddingTop:28},dialogTitleTxt:z(z({textAlign:"center",color:"#444"},F.a.T11),{},{fontWeight:"400"}),dialogClose:{position:"absolute",top:16,right:16,zIndex:2,width:20,height:20},dialogCloseImgCursor:{position:"relative",width:20,height:20},closeImg:{position:"absolute",top:0,left:0,zIndex:1,marginTop:2,marginLeft:3,width:15,height:14},dialogForm:{paddingTop:28,paddingRight:130},formControl:{flexDirection:"row",justifyContent:"flex-end"},formLableWrap:{flex:1,paddingRight:20,flexDirection:"row",justifyContent:"flex-end"},requiredFlag:{marginRight:8,height:30,lineHeight:30,fontSize:F.a.T7.fontSize,color:"#ca141d"},formLabel:{height:30,lineHeight:30,fontSize:F.a.T3.fontSize,color:"#a4a4a4",borderRadius:1.5},formInput:{position:"relative",width:360},suggestInput:{paddingTop:6,paddingBottom:20,paddingHorizontal:10,width:360,height:96,borderWidth:1,borderColor:"rgba(0, 0, 0, 0.05)",color:"#333",fontSize:F.a.T3.fontSize},contactInput:{paddingLeft:5,height:30,borderBottomWidth:1,borderBottomColor:"rgba(0, 0, 0, 0.05)",color:"#333",fontSize:F.a.T3.fontSize},mt33:{marginTop:33},mt24:{marginTop:24},codeWrap:{flexDirection:"row",width:360},w133:{width:133},codeInput:{paddingLeft:12,height:30,width:133,borderBottomWidth:1,borderBottomColor:"rgba(0, 0, 0, 0.05)",color:"#333",fontSize:F.a.T3.fontSize},codeImgWrap:{marginTop:-2,marginLeft:12,width:74,height:34},codeImgCursor:{position:"relative",width:74,height:34},codeImg:{position:"absolute",top:0,left:0,zIndex:1,width:74,height:34},codeBtnWrap:{marginLeft:32},codeBtn:{height:30,lineHeight:30,fontSize:F.a.T3.fontSize,color:"#717171"},submitWrap:{marginTop:40,paddingLeft:130},submitBtn:{marginHorizontal:"auto",width:172,height:46,lineHeight:46,borderRadius:2,backgroundColor:"#ca141d",textAlign:"center",fontSize:F.a.T11.fontSize,color:"#fff"},submitHover:{backgroundColor:"#ab0009"},waringStyle:{position:"absolute",left:2,bottom:-16,zIndex:1,width:358,fontSize:12,color:"#ff5f00"},wordStatistics:{flexDirection:"row",position:"absolute",right:18,bottom:9,zIndex:1,backgroundColor:"#fff"},c3a:{color:"#3a3a3a",fontSize:F.a.T3.fontSize},mt20:{marginTop:20},dropdownlistWrap:{position:"relative",width:360},dropdownInput:{width:"100%",height:30,borderWidth:1,borderColor:"rgba(0, 0, 0, 0.05)",borderRadius:1.5},dropdownTxt:z({paddingLeft:10,paddingRight:30,width:"100%",height:30,lineHeight:30,fontSize:F.a.T3.fontSize},F.a.C23),dropdownIcon:{position:"absolute",top:11,right:8,zIndex:-1,width:16,height:8},listItemWrap:{position:"absolute",top:30,left:0,zIndex:1,width:"100%",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.08)",elevation:10,shadowColor:"rgba(0, 0, 0, 0.1)",shadowOffset:{width:0,height:5},shadowOpacity:1,shadowRadius:10},downItem:z({paddingHorizontal:10,paddingVertical:7,fontSize:F.a.T3.fontSize},F.a.C23),zIndex2:{zIndex:2},listHoverBg:{backgroundColor:"rgba(0, 0, 0, 0.1)"},hideDownlist:{overflow:"hidden",height:0,elevation:0,borderWidth:0},dialogTipWrap:{position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)"},dialogTipCon:{position:"absolute",top:"50%",left:"50%",zIndex:1,marginTop:-84,marginLeft:-230,width:460,height:168,backgroundColor:"#fff"},dialogTipTxt:z(z({marginTop:35,textAlign:"center",color:"#444"},F.a.T11),{},{fontWeight:"400"}),pl0:{paddingLeft:0},submitTipWrap:{position:"absolute",bottom:20,left:144,zIndex:1}}),V=[{isHover:!1,selected:!0,text:"请选择疑问类型",value:"请选择疑问类型"},{isHover:!1,selected:!1,text:"商品质量（手机、平板等软、硬件质量）",value:"商品质量（手机、平板等软、硬件质量）"},{isHover:!1,selected:!1,text:"商品缺货",value:"商品缺货"},{isHover:!1,selected:!1,text:"物流发货（发货快慢、发错货、送件人态度等）",value:"物流发货（发货快慢、发错货、送件人态度等）"},{isHover:!1,selected:!1,text:"售后服务（服务网点、维修、退换货、客服）",value:"售后服务（服务网点、维修、退换货、客服）"},{isHover:!1,selected:!1,text:"网站问题（商城功能失效、不好用等）",value:"网站问题（商城功能失效、不好用等）"},{isHover:!1,selected:!1,text:"其他问题",value:"其他问题"}],G=n(19),Y=n(100);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}Object(B.b)(A.a);var K,q=B.a.openApiDomain,Q=B.a.webDomain,$=function(e){s()(i,e);var t,n,r=J(i);function i(e){var t;return o()(this,i),t=r.call(this,e),O()(S()(t),"listener",null),O()(S()(t),"clickDialog",(function(e){e.target.innerText!==t.state.type&&t.closeDownlist()})),O()(S()(t),"closeDialog",(function(){t.props.setDialogShow(!1)})),O()(S()(t),"changeImg",(function(){var e="".concat(Q,"feedback/randomCode?_t=").concat((new Date).getTime());t.setState({codeImgUrl:e})})),O()(S()(t),"clickDownlist",(function(){t.setState((function(e){return{showDownlist:!e.showDownlist}}))})),O()(S()(t),"onClose",(function(){t.setState({showLoginWindow:!1})})),t.state={isHoverSubmitBtn:!1,codeImgUrl:"",wordNum:0,type:"",content:"",contact:"",code:"",typeWarningTip:"",contentWarningTip:"",contactWarningTip:"",codeWarningTip:"",list:V,showDownlist:!1,translateWord:{},isHoverSubmitTipBtn:!1,showDialogTip:!1,showLoginWindow:!1},t}return a()(i,[{key:"componentDidMount",value:function(){this.setTranslateWord(),this.changeImg(),this.addDialogEvent(),this.setContactInfo(),this.listener=_.a.addListener("popupLoginSuccess",this.onClose)}},{key:"componentWillUnmount",value:function(){this.removeDialogEvent(),this.listener&&this.listener.remove()}},{key:"setTranslateWord",value:function(){var e=this;this.setState({type:Object(E.b)("question_type"),translateWord:{feedback_title:Object(E.b)("feedback_title"),issue_scenario:Object(E.b)("issue_scenario"),questions_suggestions:Object(E.b)("questions_suggestions"),contact_information:Object(E.b)("contact_information"),verification_code:Object(E.b)("verification_code"),change_it:Object(E.b)("change_it"),submit:Object(E.b)("submit"),question_type:Object(E.b)("question_type"),commodity_quality:Object(E.b)("commodity_quality"),out_stock:Object(E.b)("out_stock"),logistics_delivery:Object(E.b)("logistics_delivery"),after_sales:Object(E.b)("after_sales"),website_problems:Object(E.b)("website_problems"),other_issues:Object(E.b)("other_issues"),enter_verification_code:Object(E.b)("enter_verification_code"),submit_successfully:Object(E.b)("submit_successfully"),param_valid_failed:Object(E.b)("param_valid_failed"),select_problem_scenario:Object(E.b)("select_problem_scenario"),not_feedback_info:Object(E.b)("not_feedback_info"),con_limit_num:Object(E.b)("con_limit_num"),con_invalid_char:Object(E.b)("con_invalid_char"),enter_contact_info:Object(E.b)("enter_contact_info"),enter_correct_contact:Object(E.b)("enter_correct_contact"),desc_problem:Object(E.b)("desc_problem"),email_account:Object(E.b)("email_account"),confirm:Object(E.b)("confirm")}},(function(){e.mapDownlistData()}))}},{key:"setContactInfo",value:(n=b()(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isLogin();case 2:e.sent&&((t=this.getCookie("ac_lel"))&&(t=t.replace(/"/g,"")),n=t||N.a.get("ac_lmi")||N.a.get("ac_loNa")||"",this.setState({contact:n}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getCookie",value:function(e){var t,n=null;if("web"===g.a.OS&&document.cookie&&""!==document.cookie)for(var r=document.cookie.split(";"),o=0;o<r.length;o++){var i=(r[o]||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"");if(i.substring(0,e.length+1)===e+"="){t=(t=i.substring(e.length+1)).replace(/\+/g," "),n=decodeURIComponent(t);break}}return n}},{key:"mapDownlistData",value:function(){var e=this.state.translateWord;V.forEach((function(t,n){switch(n){case 0:t.text=e.question_type,t.value=e.question_type;break;case 1:t.text=e.commodity_quality,t.value=e.commodity_quality;break;case 2:t.text=e.out_stock,t.value=e.out_stock;break;case 3:t.text=e.logistics_delivery,t.value=e.logistics_delivery;break;case 4:t.text=e.after_sales,t.value=e.after_sales;break;case 5:t.text=e.website_problems,t.value=e.website_problems;break;case 6:t.text=e.other_issues,t.value=e.other_issues}})),this.setState({list:V})}},{key:"addDialogEvent",value:function(){if("web"===g.a.OS){var e=document.getElementById("dialogMask");e&&(e.addEventListener?e.addEventListener("click",this.clickDialog,!1):e.attachEvent("onclick",this.clickDialog))}}},{key:"removeDialogEvent",value:function(){if("web"===g.a.OS){var e=document.getElementById("dialogMask");e&&(e.removeEventListener?e.removeEventListener("click",this.clickDialog,!1):e.detachEvent("onclick",this.clickDialog))}}},{key:"changeValue",value:function(e,t){this.setState(O()({},e,t)),"content"===e&&this.setState({wordNum:t.length}),"code"===e&&t.length>=4&&this.validCode(t)}},{key:"inputBlue",value:function(e){switch(e){case"content":0!==this.state.content.length&&this.setState({contentWarningTip:""});break;case"contact":0!==this.state.contact.length&&this.setState({contactWarningTip:""});break;case"code":0!==this.state.code.length&&this.setState({codeWarningTip:""})}}},{key:"mouseinSubmitBtn",value:function(){this.setState({isHoverSubmitBtn:!0})}},{key:"mouseoutSubmitBtn",value:function(){this.setState({isHoverSubmitBtn:!1})}},{key:"mouseinSubmitTipBtn",value:function(){this.setState({isHoverSubmitTipBtn:!0})}},{key:"mouseoutSubmitTipBtn",value:function(){this.setState({isHoverSubmitTipBtn:!1})}},{key:"validCode",value:function(e){var t=this,n="".concat(Q,"feedback/validRandomCode?_t=").concat((new Date).getTime()),r=this.state.translateWord;W.a.post(n,{code:e,dataPattern:"form"}).then((function(e){e&&e.success?t.setState({codeWarningTip:""}):(t.setState({codeWarningTip:r.enter_verification_code,code:""}),t.changeImg())})).catch((function(){t.setState({codeWarningTip:r.enter_verification_code,code:""}),t.changeImg()}))}},{key:"emptyForm",value:function(){var e=this.state.translateWord;V.forEach((function(e,t){e.isHover=!1,e.selected=0===t})),this.setState({wordNum:0,type:e.question_type,content:"",contact:"",code:"",typeWarningTip:"",contentWarningTip:"",contactWarningTip:"",codeWarningTip:"",list:V})}},{key:"closeDownlist",value:function(){this.setState({showDownlist:!1})}},{key:"selectItem",value:function(e){var t=this.state,n=t.list,r=t.translateWord;n.forEach((function(t){t.text===e.text?t.selected=!0:t.selected=!1})),e!==r.question_type&&this.setState({typeWarningTip:""}),this.setState({list:n,type:e.text})}},{key:"mouseinDownItem",value:function(e){var t=this.state.list;t.forEach((function(t){t.text===e.text&&(t.isHover=!0)})),this.setState({list:t})}},{key:"mouseoutDownItem",value:function(e){var t=this.state.list;t.forEach((function(t){t.text===e.text&&(t.isHover=!1)})),this.setState({list:t})}},{key:"submitForm",value:(t=b()(y.a.mark((function e(){var t,n,r,o,i,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.translateWord,n=["type","content","contact","code"],r=0;case 3:if(!(r<n.length)){e.next=10;break}if(this.validForm(n[r])){e.next=7;break}return e.abrupt("return",!1);case 7:r++,e.next=3;break;case 10:return e.next=12,this.isLogin();case 12:if(!e.sent){e.next=20;break}return e.next=16,this.saveFormData();case 16:!0===(o=e.sent)?("web"===g.a.OS&&alert(t.submit_successfully),this.closeDialog()):405===(null==o?void 0:o.status)&&this.showDialogTip(),e.next=21;break;case 20:"web"===g.a.OS&&(i=window.location.href,a="".concat(Q,"account/login?url=").concat(encodeURIComponent(i)),window.navigator.userAgent.toLowerCase().match(/chrome/)?Object(L.A)(a):(this.setState({code:""}),this.changeImg(),this.setState({showLoginWindow:!0})));case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"validForm",value:function(e){var t="",n=!0,r=this.state.translateWord;switch(e){case"type":this.state.type===r.question_type&&(t=r.select_problem_scenario,n=!1),this.setState({typeWarningTip:t});break;case"content":var o=this.state.content.trim(),i=/^[^\\*\\+\\\\/\\$\\^\\;<>\"=\\{\\}%~&]+$/g.test(o);o?o.length<5?(t=r.con_limit_num,n=!1):i||(t=r.con_invalid_char,n=!1):(t=r.not_feedback_info,n=!1),this.setState({contentWarningTip:t});break;case"contact":var a=this.state.contact.trim();a?a.length<2&&(t=r.enter_correct_contact,n=!1):(t=r.enter_contact_info,n=!1),this.setState({contactWarningTip:t});break;case"code":this.state.code||(t=r.enter_verification_code,n=!1),this.setState({codeWarningTip:t});break;default:t=""}return n}},{key:"isLogin",value:function(){var e="".concat(q,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return W.a.get(e,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(e){return e.login}))}},{key:"saveFormData",value:function(){var e="".concat(Q,"feedback.json"),t=this.state,n=t.type,r=t.content,o=t.contact,i=t.code;return W.a.post(e,{type:n,content:r,contact:o,code:i,dataPattern:"form"}).then((function(e){return e.success})).catch((function(e){return e.response}))}},{key:"closeTipDialog",value:function(){this.setState({showDialogTip:!1})}},{key:"showDialogTip",value:function(){this.setState({showDialogTip:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isHoverSubmitBtn,r=t.codeImgUrl,o=t.type,i=t.content,a=t.contact,l=t.code,s=t.wordNum,c=t.typeWarningTip,u=t.contentWarningTip,d=t.contactWarningTip,p=t.codeWarningTip,f=t.list,m=t.showDownlist,y=t.translateWord,v=t.isHoverSubmitTipBtn,b=t.showDialogTip,w=t.showLoginWindow;return h.a.createElement(h.a.Fragment,null,"web"===g.a.OS&&h.a.createElement("div",{id:"dialogMask",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.3)"}},h.a.createElement(k.a,{style:U.dialogWrap},h.a.createElement(k.a,{style:U.dialogCon},h.a.createElement(k.a,null,h.a.createElement(k.a,{style:U.dialogTitleWrap},h.a.createElement(x.a,{style:U.dialogTitleTxt},y.feedback_title)),h.a.createElement(k.a,{style:U.dialogClose},h.a.createElement(x.a,{style:U.dialogCloseImgCursor,onPress:this.closeDialog},h.a.createElement(I.a,{style:U.closeImg,source:G.a.footer_close})))),h.a.createElement(k.a,{style:U.dialogForm},h.a.createElement(k.a,{style:[U.formControl,U.zIndex2]},h.a.createElement(k.a,{style:U.formLableWrap},h.a.createElement(x.a,{style:U.requiredFlag},"*"),h.a.createElement(x.a,{style:U.formLabel},y.issue_scenario)),h.a.createElement(k.a,{style:U.dropdownlistWrap},h.a.createElement(k.a,{style:U.dropdownInput},h.a.createElement(x.a,{style:U.dropdownTxt,numberOfLines:1,ellipsizeMode:"tail",onPress:this.clickDownlist},o),h.a.createElement(I.a,{style:U.dropdownIcon,source:G.a.footer_down})),h.a.createElement(x.a,{style:U.waringStyle},c),h.a.createElement(k.a,{style:[U.listItemWrap,!m&&U.hideDownlist]},f.map((function(t){return h.a.createElement(R.a,{key:t.value,onHoverIn:function(){return e.mouseinDownItem(t)},onHoverOut:function(){return e.mouseoutDownItem(t)}},h.a.createElement(x.a,{style:[U.downItem,(t.isHover||t.selected)&&U.listHoverBg],onPress:function(){return e.selectItem(t)}},t.text))}))))),h.a.createElement(k.a,{style:[U.formControl,U.mt20]},h.a.createElement(k.a,{style:U.formLableWrap},h.a.createElement(x.a,{style:U.requiredFlag},"*"),h.a.createElement(x.a,{style:U.formLabel},y.questions_suggestions)),h.a.createElement(k.a,{style:U.formInput},h.a.createElement(D.a,{style:U.suggestInput,multiline:!0,maxLength:200,placeholder:y.desc_problem,placeholderTextColor:"rgba(0, 0, 0, 0.2)",value:i,onChangeText:function(t){return e.changeValue("content",t)},onBlur:function(){return e.inputBlue("content")}}),h.a.createElement(k.a,{style:U.wordStatistics},h.a.createElement(x.a,{style:U.c3a},s),h.a.createElement(x.a,{style:U.c3a},"/200")),h.a.createElement(x.a,{style:U.waringStyle},u))),h.a.createElement(k.a,{style:[U.formControl,U.mt33]},h.a.createElement(k.a,{style:U.formLableWrap},h.a.createElement(x.a,{style:U.requiredFlag},"*"),h.a.createElement(x.a,{style:U.formLabel},y.contact_information)),h.a.createElement(k.a,{style:U.formInput},h.a.createElement(D.a,{style:U.contactInput,maxLength:100,placeholder:y.email_account,placeholderTextColor:"rgba(0, 0, 0, 0.2)",value:a,onChangeText:function(t){return e.changeValue("contact",t)},onBlur:function(){return e.inputBlue("contact")}}),h.a.createElement(x.a,{style:U.waringStyle},d))),h.a.createElement(k.a,{style:[U.formControl,U.mt24]},h.a.createElement(k.a,{style:U.formLableWrap},h.a.createElement(x.a,{style:U.requiredFlag},"*"),h.a.createElement(x.a,{style:U.formLabel},y.verification_code)),h.a.createElement(k.a,{style:U.codeWrap},h.a.createElement(k.a,{style:[U.formInput,U.w133]},h.a.createElement(D.a,{style:U.codeInput,value:l,onChangeText:function(t){return e.changeValue("code",t)},onBlur:function(){return e.inputBlue("code")}}),h.a.createElement(x.a,{style:U.waringStyle},p)),h.a.createElement(k.a,{style:U.codeImgWrap},h.a.createElement(x.a,{style:U.codeImgCursor,onPress:this.changeImg},h.a.createElement(I.a,{style:U.codeImg,source:{uri:r}}))),h.a.createElement(k.a,{style:U.codeBtnWrap},h.a.createElement(x.a,{onPress:this.changeImg,style:U.codeBtn},y.change_it)))),h.a.createElement(k.a,{style:U.submitWrap},h.a.createElement(R.a,{onHoverIn:function(){return e.mouseinSubmitBtn()},onHoverOut:function(){return e.mouseoutSubmitBtn()}},h.a.createElement(x.a,{style:[U.submitBtn,n&&U.submitHover],onPress:function(){return e.submitForm()}},y.submit)))))),b&&h.a.createElement(k.a,{style:U.dialogTipWrap},h.a.createElement(k.a,{style:U.dialogTipCon},h.a.createElement(k.a,{style:U.dialogClose},h.a.createElement(x.a,{style:U.dialogCloseImgCursor,onPress:function(){return e.closeTipDialog()}},h.a.createElement(I.a,{style:U.closeImg,source:G.a.footer_close}))),h.a.createElement(x.a,{style:U.dialogTipTxt},y.param_valid_failed),h.a.createElement(k.a,{style:U.submitTipWrap},h.a.createElement(R.a,{onHoverIn:function(){return e.mouseinSubmitTipBtn()},onHoverOut:function(){return e.mouseoutSubmitTipBtn()}},h.a.createElement(x.a,{style:[U.submitBtn,v&&U.submitHover],onPress:function(){return e.closeTipDialog()}},y.confirm))))),w?h.a.createElement(Y.a,{onClose:function(){return e.onClose()}}):null))}}]),i}(f.Component);!function(e){e.webFootContent="web_foot_content",e.copyright="copyright_notice4index",e.friendlyLink="friendly_link4index",e.aboutmall="web_footer_aboutmall",e.wapCopyright="wap_copyright"}(K||(K={}));var X=K;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=M.a.create({footerWrap:{backgroundColor:F.a.C33.color,zIndex:3},footerCon:{zIndex:2,paddingTop:56,paddingBottom:40,flexDirection:"row",borderTopWidth:1,borderTopColor:"rgba(0, 0, 0, 0.05)",borderBottomWidth:1,borderBottomColor:"rgba(0, 0, 0, 0.05)"},list:{flexDirection:"row",width:952},flex1:{flex:1},titleWrap:{width:159},title:ee(ee({flexDirection:"row",marginBottom:32},F.a.T7),F.a.C11),linkWrap:{width:159},linkIcon:{position:"absolute",top:0,left:1.75,zIndex:1,marginTop:4,width:4.5,height:8.54},linkLeftDisabled:{marginTop:3.73},linkRightDisabled:{marginTop:3.73},tLight:{position:"relative",marginTop:1.5,marginLeft:8,width:8,height:16},tRight:{position:"relative",marginTop:1.5,marginLeft:4,width:8,height:16},linkLeft:{marginTop:3.73},linkRight:{marginTop:3.73},hotLink:ee(ee({textAlign:"center"},F.a.T13),F.a.C11),hotLinkDec:ee(ee(ee({marginTop:2,textAlign:"center"},F.a.T7),F.a.C11),{},{fontSize:13}),onlineBtn:{marginTop:16,marginLeft:"auto",marginRight:"auto",width:170,height:34,borderTopLeftRadius:17,borderTopRightRadius:17,borderBottomLeftRadius:17,borderBottomRightRadius:17},onlineDefaultBg:{backgroundColor:"rgba(0, 0, 0, 0.9)"},onlineHoverBg:{backgroundColor:"rgba(0, 0, 0, 0.6)"},onlineTouch:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:34},onlineTxt:ee(ee({marginLeft:7},F.a.T3),F.a.C17),cusService:{width:24,height:24},footerAbout:{marginTop:21},footerFllowLine:{position:"absolute",top:0,left:0,zIndex:1,width:1,height:160,borderLeftWidth:1,borderLeftColor:"rgba(0, 0, 0, 0.05)"},copyrightWrap:{paddingTop:33.5,paddingBottom:40}}),ne=n(64),re=n.n(ne),oe=n(20);function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}Object(B.b)(A.a);var ae=B.a.openApiDomain,le=B.a.webDomain,se=B.a.customerServiceUrl,ce=function(e){s()(r,e);var t,n=ie(r);function r(e){var t;return o()(this,r),t=n.call(this,e),O()(S()(t),"pageId",void 0),O()(S()(t),"itemWidth",void 0),O()(S()(t),"hotline",void 0),O()(S()(t),"handleFooterData",(function(e){var n=null==e?void 0:e.templateMapping,r=null==n?void 0:n.copyright_notice4index.content,o=null==r?void 0:r.split("<script>")[0],i=null==n?void 0:n.friendly_link4index.content;t.setState({showFriendlyLink:!!i,webFootContent:null==n?void 0:n.web_foot_content.content,friendlyLink:i,aboutmall:null==n?void 0:n.web_footer_aboutmall.content,copyright:o},(function(){if("web"===g.a.OS){var e=document.getElementsByClassName("service-list")[0],n=0,r=!0;if(e){var o=(n=e.getElementsByTagName("ol").length)*t.itemWidth;0!==n&&1!==n||(r=!1),e.style.width=o+"px"}t.setState({showFriendlyBtn:r,linkWidth:t.itemWidth*n});var i=document.getElementById("j-copyrightyear");i&&(i.innerText=(new Date).getFullYear()),t.addClickEvent()}}))})),O()(S()(t),"onClose",(function(){t.setState({showLoginWindow:!1})})),t.pageId=B.a.pageId,t.itemWidth=159,t.hotline="950805",t.state={getLang:!1,webFootContent:"",copyright:"",friendlyLink:"",aboutmall:"",showFriendlyBtn:!0,showFriendlyLink:!0,isActivityRightBtn:!0,isActivityLeftBtn:!1,linkWidth:0,isHoverOnlineBtn:!1,showDialog:!1,translateWord:{},showLoginWindow:!1},t}return a()(r,[{key:"componentDidMount",value:function(){this.setTranslateWord();var e=this.props.templateContent;e?this.handleFooterData(e):this.getFooterData()}},{key:"componentWillUnmount",value:function(){this.removeClickEvent()}},{key:"setTranslateWord",value:function(){this.setState({translateWord:{friendly_link:Object(E.b)("friendly_link"),customer_hotline:Object(E.b)("customer_hotline"),online_robot:Object(E.b)("online_robot")}})}},{key:"getFooterData",value:function(){var e=this,t="".concat(ae,"mcp/queryTemplate");W.a.get(t,{portal:"1",country:"CN",lang:"zh-CN",pageId:this.pageId,placeholder:'[\n          "'.concat(X.webFootContent,'",\n          "').concat(X.friendlyLink,'",\n          "').concat(X.aboutmall,'",\n          "').concat(X.copyright,'",\n        ]')}).then((function(t){e.handleFooterData(t)}))}},{key:"addClickEvent",value:function(){var e=this;if("web"===g.a.OS){var t=document.getElementsByClassName("js-feedback")[0];t&&(t.addEventListener?t.addEventListener("click",(function(){e.setDialogShow(!0)})):t.attachEvent("click",(function(){e.setDialogShow(!0)})))}}},{key:"removeClickEvent",value:function(){var e=this;if("web"===g.a.OS){var t=document.getElementsByClassName("js-feedback")[0];t&&(t.removeEventListener?t.removeEventListener("click",(function(){e.setDialogShow(!0)}),!1):t.detachEvent("onclick",(function(){e.setDialogShow(!0)})))}}},{key:"setDialogShow",value:function(e){if(this.setState({showDialog:e}),!1===e&&"web"===g.a.OS){var t=document.getElementById("maskDialogWrap")||{};!T()(t)&&document.body.removeChild(t)}}},{key:"showhtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={__html:e};return h.a.createElement("div",{className:"footer ".concat(t),dangerouslySetInnerHTML:n})}},{key:"scrollLink",value:function(e){if("web"===g.a.OS){var t=this.state.linkWidth,n=document.getElementsByClassName("service-list")[0],r=Number.parseInt(n.style.left||0,10);if("right"===e){this.setState({isActivityLeftBtn:!0});var o=r-this.itemWidth;n.style.left=o+"px",Math.abs(o)+this.itemWidth>=t&&this.setState({isActivityRightBtn:!1})}else if("left"===e){this.setState({isActivityRightBtn:!0});var i=r+this.itemWidth;n.style.left=i+"px",0===i&&this.setState({isActivityLeftBtn:!1})}}}},{key:"setFriendlyLeftBtn",value:function(){var e=this;return this.state.isActivityLeftBtn?h.a.createElement(x.a,{style:te.tLight,onPress:function(){return e.scrollLink("left")}},h.a.createElement(I.a,{style:[te.linkIcon,te.linkLeft],source:G.a.footer_left})):h.a.createElement(x.a,{style:te.tLight},h.a.createElement(I.a,{style:[te.linkIcon,te.linkLeftDisabled],source:G.a.footer_left_disabled}))}},{key:"setFriendlyRightBtn",value:function(){var e=this;return this.state.isActivityRightBtn?h.a.createElement(x.a,{style:te.tRight,onPress:function(){return e.scrollLink("right")}},h.a.createElement(I.a,{style:[te.linkIcon,te.linkRight],source:G.a.footer_right})):h.a.createElement(x.a,{style:te.tRight},h.a.createElement(I.a,{style:[te.linkIcon,te.linkRightDisabled],source:G.a.footer_right_disabled}))}},{key:"mouseinOnlineBtn",value:function(){this.setState({isHoverOnlineBtn:!0})}},{key:"mouseoutOnlineBtn",value:function(){this.setState({isHoverOnlineBtn:!1})}},{key:"openOnlineCustome",value:(t=b()(y.a.mark((function e(){var t,n,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isLogin();case 2:t=e.sent,n=window.location.href,r="".concat(se,"#/?businessUUID=902d812b8bdb44e089e34544fb5d77e2&enterurl=").concat(n,"&k=1&from=06&remark="),t?Object(L.A)(r):"web"===g.a.OS&&(o="".concat(le,"account/login?url=").concat(encodeURIComponent(r)),window.navigator.userAgent.toLowerCase().match(/chrome/)?Object(L.A)(o):this.setState({showLoginWindow:!0}));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isLogin",value:function(){var e="".concat(ae,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return W.a.get(e,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(e){return e.login}))}},{key:"renderDialog",value:function(){var e=this,t=document.getElementById("maskDialogWrap")||{};if(T()(t)){var n=document.createElement("div");return n.setAttribute("id","maskDialogWrap"),document.body.appendChild(n),re.a.render(h.a.createElement($,{setDialogShow:function(t){return e.setDialogShow(t)}}),document.getElementById("maskDialogWrap"))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.webFootContent,r=t.friendlyLink,o=t.aboutmall,i=t.copyright,a=t.showFriendlyBtn,l=t.showFriendlyLink,s=t.isHoverOnlineBtn,c=t.showDialog,u=t.translateWord,d=t.showLoginWindow,p="",f="";a&&(p=this.setFriendlyLeftBtn(),f=this.setFriendlyRightBtn());var g=window.location.href,m="".concat(se,"#/?businessUUID=902d812b8bdb44e089e34544fb5d77e2&enterurl=").concat(g,"&k=1&from=06&remark=");return h.a.createElement(k.a,{style:te.footerWrap},h.a.createElement(j.a,{type:"safetyArea"},h.a.createElement(k.a,{style:te.footerCon},h.a.createElement(k.a,{style:te.list},h.a.createElement(k.a,null,this.showhtml(n)),l?h.a.createElement(k.a,null,h.a.createElement(k.a,{style:te.titleWrap},h.a.createElement(k.a,{style:te.title},h.a.createElement(x.a,null,u.friendly_link),p,f)),h.a.createElement(k.a,{style:te.linkWrap},this.showhtml(r,"link-wrap"))):null),h.a.createElement(k.a,{style:te.flex1},h.a.createElement(k.a,{style:te.footerFllowLine}),h.a.createElement(k.a,null,h.a.createElement(x.a,{style:te.hotLink},this.hotline),h.a.createElement(x.a,{style:te.hotLinkDec},u.customer_hotline)),h.a.createElement(R.a,{onHoverIn:function(){return e.mouseinOnlineBtn()},onHoverOut:function(){return e.mouseoutOnlineBtn()}},h.a.createElement(k.a,{style:[te.onlineBtn,s?te.onlineHoverBg:te.onlineDefaultBg]},h.a.createElement(x.a,{style:te.onlineTouch,onPress:function(){return e.openOnlineCustome()}},h.a.createElement(oe.a,{iconName:"ic_customer-service",width:24,height:24,isActive:!0,normalCol:"#fff",activeCol:"#fff",opacity:1}),h.a.createElement(x.a,{style:te.onlineTxt},u.online_robot)))),h.a.createElement(k.a,{style:te.footerAbout},this.showhtml(o,"followvmall")))),h.a.createElement(k.a,{style:te.copyrightWrap},this.showhtml(i,"copyright"))),c?h.a.createElement(h.a.Fragment,null,this.renderDialog()):null,d?h.a.createElement(Y.a,{targetLink:m,onClose:function(){return e.onClose()}}):null)}}]),r}(f.Component),ue=n(126);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=M.a.create({footerWrap:{backgroundColor:F.a.C32.color},footerTop:{flexDirection:"row",paddingTop:24,paddingBottom:16,borderBottomWidth:1,borderBottomColor:"rgba(0, 0, 0, 0.05)"},login:{flexDirection:"row",justifyContent:"flex-end",flex:1,paddingRight:24},feedback:{flexDirection:"row",justifyContent:"flex-start",flex:1,paddingLeft:24},footerTopTxt:pe(pe({},F.a.T8),F.a.C11),loginVLine:{marginTop:4.5,width:1,height:12,backgroundColor:"rgba(0, 0, 0, 0.05)"},touchImgs:{paddingTop:15,flexDirection:"row",justifyContent:"center"},touchImgItem:{justifyContent:"center"},touchImgWrap:{flexDirection:"row",justifyContent:"center"},touchTxt:pe(pe({marginTop:4,maxWidth:55},F.a.T3),F.a.C14),touchCenterTxt:{maxWidth:70},touchCenter:{marginHorizontal:50},touchIcon:{width:32,height:32},copyrightWrap:{paddingTop:16,paddingBottom:24}});function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}Object(B.b)(A.a);var ge=B.a.openApiDomain,me="".concat(B.a.webDomain,"portal/homepage/index.html?pageId="),ye=B.a.wapDomain,ve="";if("web"===g.a.OS){var be=window.location.href;ve="".concat(ye,"account/applogin?url=")+be}var we=function(e){s()(r,e);var t,n=he(r);function r(e){var t;return o()(this,r),t=n.call(this,e),O()(S()(t),"pageId",void 0),O()(S()(t),"logout",(function(){var e="".concat(B.a.webDomain,"customer/logout.json");W.a.post(e,null).then((function(){t.turnToWap()})).catch((function(){t.turnToWap()}))})),O()(S()(t),"turnToWap",(function(){if("web"===g.a.OS){var e=window.location.href;Object(L.A)(e)}})),O()(S()(t),"turnToApp",(function(){Object(L.A)("https://m.vmall.com/app/download")})),O()(S()(t),"turnToPc",(function(){N.a.set("redirectWap",1,{domain:".vmall.com"}),Object(L.A)(me+t.pageId)})),t.pageId=B.a.pageId,t.state={getLang:!1,wapCopyright:"",isLogin:!1,translateWord:{}},t}return a()(r,[{key:"componentDidMount",value:(t=b()(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setTranslateWord(),this.getFooterData(),e.next=4,Object(L.k)();case 4:t=e.sent,this.setState({isLogin:t});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){}},{key:"setTranslateWord",value:function(){this.setState({translateWord:{login:Object(E.b)("login"),logout:Object(E.b)("logout"),feedback:Object(E.b)("feedback"),client:Object(E.b)("client"),touchscreen:Object(E.b)("touchscreen"),computer_version:Object(E.b)("computer_version")}})}},{key:"isLogin",value:function(){var e=this,t="".concat(ge,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();W.a.get(t,{portal:"2",country:"CN",lang:"zh-CN"}).then((function(t){var n=t.login;e.setState({isLogin:n})}))}},{key:"getFooterData",value:function(){var e=this,t="".concat(ge,"mcp/queryTemplate");W.a.get(t,{portal:"2",country:"CN",lang:"zh-CN",pageId:this.pageId,placeholder:'[\n          "'.concat(X.wapCopyright,'",\n        ]')}).then((function(t){var n=t.templateMapping.wap_copyright.content.split("<script>")[0];e.setState({wapCopyright:n},(function(){if("web"===g.a.OS){var e=document.getElementById("j-copyrightyear");e&&(e.innerText=(new Date).getFullYear())}}))}))}},{key:"showhtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={__html:e};return h.a.createElement("div",{className:"footer ".concat(t),dangerouslySetInnerHTML:n})}},{key:"render",value:function(){var e=this,t=this.props.size,n=this.state,r=n.wapCopyright,o=n.isLogin,i=n.translateWord;return h.a.createElement(k.a,{style:fe.footerWrap},h.a.createElement(j.a,{safetyWidth:"small"===t?312:592},h.a.createElement(k.a,{style:fe.footerTop},h.a.createElement(k.a,{style:fe.login},o?h.a.createElement(ue.a,{activeOpacity:1,onPress:this.logout},h.a.createElement(x.a,{style:fe.footerTopTxt},i.logout)):h.a.createElement(ue.a,{activeOpacity:1,onPress:function(){return Object(L.A)(ve)}},h.a.createElement(x.a,{style:fe.footerTopTxt},i.login))),h.a.createElement(k.a,{style:fe.loginVLine}),h.a.createElement(k.a,{style:fe.feedback},h.a.createElement(ue.a,{activeOpacity:1,onPress:function(){return Object(L.A)("https://club.huawei.com/thread-1144534-1-1.html")}},h.a.createElement(x.a,{style:fe.footerTopTxt},i.feedback)))),h.a.createElement(k.a,{style:fe.touchImgs},h.a.createElement(k.a,null,h.a.createElement(ue.a,{activeOpacity:1,onPress:this.turnToApp},h.a.createElement(k.a,{style:fe.touchImgWrap},h.a.createElement(I.a,{style:fe.touchIcon,source:G.a.footer_app})),h.a.createElement(x.a,{style:fe.touchTxt},i.client))),h.a.createElement(k.a,{style:fe.touchCenter},h.a.createElement(ue.a,{activeOpacity:1,onPress:function(){return e.turnToWap()}},h.a.createElement(k.a,{style:fe.touchImgWrap},h.a.createElement(I.a,{style:fe.touchIcon,source:G.a.footer_wap})),h.a.createElement(x.a,{style:[fe.touchTxt,fe.touchCenterTxt]},i.touchscreen))),h.a.createElement(k.a,null,h.a.createElement(ue.a,{activeOpacity:1,onPress:this.turnToPc},h.a.createElement(k.a,{style:fe.touchImgWrap},h.a.createElement(I.a,{style:fe.touchIcon,source:G.a.footer_pc})),h.a.createElement(x.a,{style:fe.touchTxt},i.computer_version)))),h.a.createElement(k.a,{style:fe.copyrightWrap},this.showhtml(r,"wapcopyright"))))}}]),r}(f.Component),Se=n(40),Ce=n(185);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var Pe=function(e){s()(n,e);var t=Oe(n);function n(e){return o()(this,n),t.call(this,e)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.templateContent,r=Object(Se.a)(t);return"web"===g.a.OS?"large"===r?h.a.createElement(ce,{templateContent:n}):h.a.createElement(we,{size:r}):h.a.createElement(h.a.Fragment,null)}}]),n}(f.Component);t.a=Object(Ce.a)(Pe)},function(e,t,n){"use strict";var r,o=n(5),i=n.n(o),a=n(6),l=n.n(a),s=n(1),c=n.n(s),u=n(18),d=n.n(u),p=n(16),f=new(r=function(){function e(){i()(this,e),c()(this,"currentRenderIndexs",[]),c()(this,"currentOffset",-1)}return l()(e,[{key:"pushCurrentRenderIndexs",value:function(e){this.currentRenderIndexs.includes(e)||this.currentRenderIndexs.push(e)}},{key:"setCurrentOffset",value:function(e){this.currentOffset=e}},{key:"clearCurrentRenderIndexs",value:function(){this.currentRenderIndexs.length=0}}]),e}(),d()(r.prototype,"pushCurrentRenderIndexs",[p.d],Object.getOwnPropertyDescriptor(r.prototype,"pushCurrentRenderIndexs"),r.prototype),d()(r.prototype,"setCurrentOffset",[p.d],Object.getOwnPropertyDescriptor(r.prototype,"setCurrentOffset"),r.prototype),d()(r.prototype,"clearCurrentRenderIndexs",[p.d],Object.getOwnPropertyDescriptor(r.prototype,"clearCurrentRenderIndexs"),r.prototype),r);t.a=f},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(49),S=n(149),C=n(43),O=n(122),P=n(53),T=n(57);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=n(256),E=n.n(k),j=n(328),R=n.n(j),L=n(126),_=n(145),D=n(152),N=n(157),W=n(87),A=n(48),B=n(103),M=n(432),F=n(102),H=n(185),z=n(431);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){return T.a.create({view:V(V({},e.S13),{},{height:40,paddingLeft:13,flexDirection:"row",display:"flex",alignItems:"center",flex:1,justifyContent:"space-between"}),inputText:V(V({fontSize:16,color:e.C11.color,flex:1,fontFamily:P.a.fontFamilyBase},e.C13),{},{paddingRight:10}),inputView:{height:"100%",flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"flex-start",flex:1},inputRound20:{borderRadius:20},inputRound0:{borderRadius:0},icon:{width:16,height:16,marginTop:2,marginRight:8},scanIconStyle:{marginRight:12,marginLeft:8}})},Y=n(21),J=n(3),K=n(133),q=n(20),Q=n(11),$=n(22),X=n(29),Z=n(23);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var re=function(e){u()(n,e);var t=ne(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"pageId",void 0),m()(s()(r),"portal",void 0),m()(s()(r),"listener1",void 0),m()(s()(r),"listener2",void 0),m()(s()(r),"pageUnmount",!1),m()(s()(r),"animationTimer",null),m()(s()(r),"handleAppStateChange",(function(e){"active"!==e||r.pageUnmount?r.stopHotSearchKeyInterval():r.startHotSearchKeyInterval()})),r.pageId=r.props.pageId,r.state={searchText:"",startIndex:0,textArr:[]},r}return a()(n,[{key:"componentDidUpdate",value:function(e,t){t.searchText!==this.state.searchText&&this.startHotSearchKeyInterval()}},{key:"startHotSearchKeyInterval",value:function(){var e=this;this.animationTimer&&clearTimeout(this.animationTimer);var t=0;this.animationTimer=setTimeout((function(){t=e.state.startIndex>=e.state.textArr.length-1?0:e.state.startIndex+1,e.setState({startIndex:t,searchText:e.state.textArr[t]})}),4e3)}},{key:"stopHotSearchKeyInterval",value:function(){A.a.isIOS()||this.animationTimer&&clearTimeout(this.animationTimer)}},{key:"_getHotWords",value:function(){var e=this,t="".concat(Q.a.openApiDomain,"mcp/queryHotWord?_=")+(new Date).getTime();return X.a.get(t,{country:"CN",lang:"zh-CN",portal:"2"}).then((function(t){var n,r,o;0!=(null===(r=o=0!=(null==t||null===(n=t.hotWordList)||void 0===n?void 0:n.length)?t.hotWordList.map((function(e){return e.word})):[])||void 0===r?void 0:r.length)?e.loopText(o):e.setState({searchText:Object(M.b)("search")})})).catch((function(){e.setState({searchText:Object(M.b)("search")})})).finally((function(){return Promise.resolve()}))}},{key:"loopText",value:function(e){var t=this;this.setState({textArr:e,startIndex:0,searchText:e[0]},(function(){t.startHotSearchKeyInterval()}))}},{key:"componentWillUnmount",value:function(){this.pageUnmount=!0,this.animationTimer&&clearTimeout(this.animationTimer),this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),"web"===b.a.OS||A.a.isIOS()||z.a.removeEventListener("change",this.handleAppStateChange)}},{key:"hideOutline",value:function(){if("web"===b.a.OS){var e=document.getElementsByTagName("input")||[];e&&Array.from(e).map((function(e){e.style.outline="none"}))}}},{key:"componentDidMount",value:function(){var e=this;if(this.hideOutline(),"web"===b.a.OS)this._getHotWords();else{"android"===b.a.OS&&(this.listener1=w.a.addListener("swiperStop",(function(t){t===e.pageId&&e.stopHotSearchKeyInterval()})),this.listener2=w.a.addListener("swiperStart",(function(t){t!==e.pageId||e.pageUnmount||e.startHotSearchKeyInterval()}))),A.a.isIOS()||z.a.addEventListener("change",this.handleAppStateChange);var t=B.a.get("TID");Object(Z.h)(t).then((function(t){var n,r,o;0!=(null===(r=o=0!=(null==t||null===(n=t.hotWordList)||void 0===n?void 0:n.length)?t.hotWordList.map((function(e){return e.word})):[])||void 0===r?void 0:r.length)?e.loopText(o):e.setState({searchText:Object(M.b)("search")})})).catch((function(){e.setState({searchText:Object(M.b)("search")})}))}}},{key:"handleDapReport",value:function(e,t,n,r){this.iconGoPage(e,t)}},{key:"iconGoPage",value:function(e,t){if(e){var n=!this.state.isIconListShow;this.setState({isIconListShow:n})}t&&Object(J.A)(t)}},{key:"render",value:function(){var e=this;return v.a.createElement(F.b,{themeStyles:G},(function(t,n){var r,o,i,a,l,s,c=e.props,u=c.isRound,d=c.isIconShow,p=c.mergeStyle,f=c.fromPage,h=c.isScanShow,g=c.hasCrossDressBg,m=c.isImmersive,y=c.defaultColor;"allWithSubTab"==f?(g||null!=p&&null!==(s=p.imgStyle)&&void 0!==s&&s.backgroundColor)&&(n=O.a):p&&(n=O.a);var w=e.state.searchText,S={searchHistoryShow:"true",searchHotListShow:"true",searchResultPageProdShow:"true",searchResultPageActivityShow:"true",searchResultPageContentShow:"true"};e.props.configInfo&&(S=JSON.parse(e.props.configInfo)||{});var P,T,x="".concat(Q.a.wapDomain,"portal/search/index.html?targetRoute=").concat("SearchDefault","&searchWord=").concat(w,"&searchHistoryShow=").concat(S.searchHistoryShow,"&searchHotListShow=").concat(S.searchHotListShow,"&searchResultPageProdShow=").concat(S.searchResultPageProdShow,"&searchResultPageActivityShow=").concat(S.searchResultPageActivityShow,"&searchResultPageContentShow=").concat(S.searchResultPageContentShow),I=(e.state.searchText&&"vmall://com.vamll.client/home/search?hotWords=".concat(e.state.searchText),"android"===b.a.OS?encodeURIComponent(w||Object(M.b)("search")):w),k="vmall://com.vamll.client/home/rnSearch?targetRoute=".concat("SearchDefault","&searchWord=").concat(I,"&searchHistoryShow=").concat(S.searchHistoryShow,"&searchHotListShow=").concat(S.searchHotListShow,"&searchResultPageProdShow=").concat(S.searchResultPageProdShow,"&searchResultPageActivityShow=").concat(S.searchResultPageActivityShow,"&searchResultPageContentShow=").concat(S.searchResultPageContentShow),E={iconNo:null!==(r=e.props)&&void 0!==r&&r.iconNum?null===(o=e.props)||void 0===o?void 0:o.iconNum:19,gotoPageId:19,actionUrl:"android"===b.a.OS||"ios"===b.a.OS?k:Object(J.F)()?"/packageBase/pages/searchPage/searchPage":x,clickType:19,iconText:"搜索框"},j={iconNo:null!==(i=null===(a=e.props)||void 0===a?void 0:a.iconNum)&&void 0!==i?i:3,gotoPageId:"",actionUrl:"android"===b.a.OS||"ios"===b.a.OS?"vmall://com.vamll.client/home/scan":"",clickType:28,iconText:"扫一扫"};e.props.customReportInfo&&(E=te(te({},E),null===(P=e.props.customReportInfo)||void 0===P?void 0:P.input),j=te(te({},j),null===(T=e.props.customReportInfo)||void 0===T?void 0:T.scan));var R,_,N={};(null!=p&&null!==(l=p.imgStyle)&&void 0!==l&&l.backgroundColor&&"transparent"!==p.imgStyle.backgroundColor||null!=p&&p.bgImg)&&(N={backgroundColor:null===(R=O.a.C51)||void 0===R?void 0:R.color,opacity:null===(_=O.a.C51)||void 0===_?void 0:_.opacity},"allWithSubTab"==f&&(N={backgroundColor:g?"#FFFFFF":"rgba(255,255,255,.1)",opacity:1}));return v.a.createElement(C.a,{style:[u?t.inputRound20:t.inputRound0,t.view,e.props.style,N,"category"==f?{backgroundColor:n.S31.backgroundColor}:"allWithSubTab"==f&&m?"white"===y?{backgroundColor:"rgba(255,255,255,0.6)"}:{backgroundColor:"#FFFFFF"}:null]},v.a.createElement(L.a,{onPress:function(){var t;e.handleDapReport(!1,E.actionUrl,E,null===(t=e.props)||void 0===t?void 0:t.pageId),Object($.b)("",!0)},activeOpacity:1,style:[t.inputView]},d?v.a.createElement(C.a,{style:[t.icon,e.props.iconStyle]},v.a.createElement(q.a,{normalCol:"allWithSubTab"==f&&m?"#000000":n.C22.color,iconName:"searchShow",width:16,height:16,opacity:.6})):v.a.createElement(v.a.Fragment,null),v.a.createElement(D.a,{numberOfLines:1,style:"allWithSubTab"==f&&g||m?[t.inputText,{color:"#000000",fontSize:14,lineHeight:20,opacity:.6,marginLeft:-2}]:[t.inputText,te({},n.C13),e.props.inputTextStyle]},e.state.searchText)),h?v.a.createElement(D.a,{style:[t.icon,t.scanIconStyle,e.props.iconStyle],onPress:function(){var t;e.handleDapReport(!1,j.actionUrl,j,null===(t=e.props)||void 0===t?void 0:t.pageId),Object($.b)("",!0)}},v.a.createElement(q.a,{normalCol:"allWithSubTab"==f&&m?"#000000":n.C22.color,iconName:"scan",width:16,height:16,opacity:.6})):null)}))}}]),n}(y.Component),oe=Object(H.a)(Object(Y.a)(K.a)(re)),ie=n(33),ae=n(151),le=function(e){return T.a.create({})},se=n(12),ce=n(67),ue=n(51),de=n(30),pe=n(176);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var he=!1,ge=function(e){u()(n,e);var t=fe(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"wapTimer",null),m()(s()(r),"maxFontSize",12),m()(s()(r),"minFontSize",8),m()(s()(r),"hasShare",!1),m()(s()(r),"showShareIcon",!1),m()(s()(r),"timer",null),m()(s()(r),"getStatusBarStyle",(function(e,t){return t===ce.a.light?e===ce.d.white?"light-content":(ce.d.black,"dark-content"):de.a.darkBool?"light-content":"dark-content"})),m()(s()(r),"getShareInfo",(function(e,t){var n,o=t;Object(Z.s)(null===(n=r.props)||void 0===n?void 0:n.pageId,"").then((function(t){var n,i=(null==t||null===(n=t.shareIcons)||void 0===n?void 0:n.length)&&(null==t?void 0:t.shareIcons[0]);if(i&&"{}"!==JSON.stringify(i)){o.push("share"),r.showShareIcon=!0;var a=e.filter((function(e){return o.includes(e.listName)}));a.forEach((function(e){"shareShow"===(null==e?void 0:e.iconUrl)&&(e.iconUrl="0"==(null==i?void 0:i.shareType)?"share":"ic_earnByShare")})),r.setState({iconList:a.length>10?a.slice(0,10):a})}}))})),m()(s()(r),"calculeTotalLayout",(function(e){e.nativeEvent.layout.width>0&&r.setState({calculeTotalWidth:e.nativeEvent.layout.width},(function(){r.upDateFontSize()}))})),m()(s()(r),"totalLayout",(function(e){e.nativeEvent.layout.width>0&&r.setState({totalWidth:e.nativeEvent.layout.width},(function(){r.upDateFontSize()}))})),m()(s()(r),"upDateFontSize",(function(){var e=r.state,t=e.fontSize,n=e.calculeTotalWidth,o=e.totalWidth,i=e.oldTotalWidth;0!==o&&0!==n&&o!==i&&n>=o?(t>r.minFontSize&&(t-=2),r.setState({fontSize:t,oldPriceWidth:o},(function(){r.judgeFontSizeComplete()}))):r.judgeFontSizeComplete()})),m()(s()(r),"judgeFontSizeComplete",(function(){r.state.fontSizeComplete||0!==r.state.totalWidth&&0!==r.state.calculeTotalWidth&&(r.state.totalWidth>=r.state.calculeTotalWidth||r.state.fontSize===r.minFontSize)&&r.setState({fontSizeComplete:!0})})),m()(s()(r),"renderBackButton",(function(e){var t,n=r.props,o=n.style,i=n.headerStyle,a=n.mergeStyle,l=(Number(null==i?void 0:i.headStyle),e.C21.color);return null!=a&&null!==(t=a.textStyle)&&void 0!==t&&t.color&&(l=a.textStyle.color),v.a.createElement(L.a,{style:o.iconBack,onPress:function(){r.handleDapReport(!1,"",{iconNo:1,iconText:"返回按钮",actionUrl:""},r.props.pageId),Object($.b)("",!0)}},v.a.createElement(q.a,{iconName:"ic24-back",normalCol:l,opacity:e.C21.opacity,width:24,height:24}))})),m()(s()(r),"handleContainerStyle",(function(e){var t=Number(null==e?void 0:e.headStyle),n=null==e?void 0:e.iconTexts,o="web"===b.a.OS&&r.hasShare,i=A.a.isApp()&&r.showShareIcon;if(2==t&&1===(null==n?void 0:n.length)&&(o||i)||1==t)return{justifyContent:"flex-start"}})),r.state={iconList:[],calculeTotalWidth:0,totalWidth:0,fontSize:r.maxFontSize,oldTotalWidth:0,fontSizeComplete:!1},r}return a()(n,[{key:"handleIconList",value:function(e){var t=this;if(!Object(J.F)()){var n=A.a.isIOS()?["personalCenter","message","homePage","search","setting","userContentCenter","custom"]:["scan","cart","personalCenter","message","homePage","search","setting","userContentCenter","custom"],r=e.map((function(e,n){var r=(/(http|https):\/\/([\w.]+\/?)\S*/.test(e.imgUrl)?"":Q.a.cmsCndProdPath)+e.imgUrl;return{iconUrl:"custom"===e.iconAttribute?r:e.iconAttribute+"Show",iconText:t.handleIconText(e.iconAttribute,e.title),actionUrl:t.handleIconUrl(e.iconAttribute,e),iconNo:t.handleIndex(n+1),gotoPageId:n+1,clickType:t.handleListType(e.iconAttribute),isCart:"cart"==e.iconAttribute,isMessage:"message"==e.iconAttribute,listName:e.iconAttribute}})),o=r.filter((function(e){return n.includes(e.listName)}));this.setState({iconList:o.length>10?o.slice(0,10):o}),this.hasShare=e.some((function(e){return"share"==e.iconAttribute})),"web"!==b.a.OS&&this.hasShare&&this.getShareInfo(r,n)}}},{key:"handleIndex",value:function(e){var t,n;switch(Number(null===(t=this.props)||void 0===t||null===(n=t.headerStyle)||void 0===n?void 0:n.headStyle)){case 1:case 2:case 6:case 7:return e+1;case 3:return e+2;case 5:return 1==e?e:e+1;default:return e}}},{key:"componentDidMount",value:function(){var e=this.props.headerStyle;if(e&&e.iconTexts&&0!==e.iconTexts.length&&this.handleIconList(e.iconTexts),"web"===b.a.OS){var t=B.a.get("TID");B.a.get("callAB")||he||(he=!0,Object(Z.v)(t,"2"))}}},{key:"componentDidUpdate",value:function(e){if(e.DarkStyle!==this.props.DarkStyle){var t=this.props,n=t.headerStyle,r=t.colorStyle;if(7===Number(null==n?void 0:n.headStyle)){var o,i=(null==n||null===(o=n.attribute)||void 0===o?void 0:o.signalBarColor)||ce.d.black;if(r&&r===ce.a.light){var a=this.getStatusBarStyle(i,r);this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){pe.a.onUpdate({statusBarStyle:a}),Object(ie.m)(a)}),300)}}}}},{key:"componentWillUnmount",value:function(){this.wapTimer&&clearTimeout(this.wapTimer),this.timer&&clearTimeout(this.timer)}},{key:"handleIconText",value:function(e,t){switch(e){case"scan":return t||Object(M.b)("scan");case"cart":return t||Object(M.b)("shortcut_cart");case"personalCenter":return t||Object(M.b)("service");case"message":return t||Object(M.b)("message_center");case"homePage":return t||Object(M.b)("tab_index");case"search":return t||Object(M.b)("search");case"setting":return t||Object(M.b)("setting");case"userContentCenter":return t||Object(M.b)("userContentCenter");case"share":return t||Object(M.b)("share");case"custom":return t}}},{key:"handleIconUrl",value:function(e,t){return"ios"===b.a.OS||"android"===b.a.OS?this.handleApkUrl(e,t.actionUrl):this.handleWapUrl(e,t.actionUrlWap)}},{key:"handleApkUrl",value:function(e,t){var n={searchHistoryShow:"true",searchHotListShow:"true",searchResultPageProdShow:"true",searchResultPageActivityShow:"true",searchResultPageContentShow:"true"};this.props.configInfo&&(n=JSON.parse(this.props.configInfo)||{});var r="vmall://com.vamll.client/home/rnSearch?targetRoute=".concat("SearchDefault","&searchHistoryShow=").concat(n.searchHistoryShow,"&searchHotListShow=").concat(n.searchHotListShow,"&searchResultPageProdShow=").concat(n.searchResultPageProdShow,"&searchResultPageActivityShow=").concat(n.searchResultPageActivityShow,"&searchResultPageContentShow=").concat(n.searchResultPageContentShow);switch(e){case"scan":return t||"vmall://com.vamll.client/home/scan";case"cart":return t||"vmall://com.vamll.client/home/main?tabIndex=3";case"personalCenter":return t||"vmall://com.vamll.client/home/main?tabIndex=4";case"message":return t||"vmall://com.vamll.client/home/message";case"homePage":return t||"vmall://com.vamll.client/home/main?tabIndex=0";case"search":return t||r;case"setting":return t||"vmall://com.vamll.client/home/setting";case"userContentCenter":return t||"vmall://com.vamll.client/home/main?tabIndex=2";case"custom":return t;case"share":return""}}},{key:"handleWapUrl",value:function(e,t){var n={targetRoute:"SearchDefault",routeParams:{configInfo:encodeURIComponent(this.props.configInfo)}},r=(encodeURIComponent(JSON.stringify(n)),{searchHistoryShow:"true",searchHotListShow:"true",searchResultPageProdShow:"true",searchResultPageActivityShow:"true",searchResultPageContentShow:"true"});this.props.configInfo&&(r=JSON.parse(this.props.configInfo)||{});var o="".concat(Q.a.wapDomain,"portal/search/index.html?targetRoute=").concat("SearchDefault","&searchHistoryShow=").concat(r.searchHistoryShow,"&searchHotListShow=").concat(r.searchHotListShow,"&searchResultPageProdShow=").concat(r.searchResultPageProdShow,"&searchResultPageActivityShow=").concat(r.searchResultPageActivityShow,"&searchResultPageContentShow=").concat(r.searchResultPageContentShow);switch(e){case"scan":return t||"vmall://com.vamll.client/home/scan";case"cart":return t||"".concat(Q.a.wapDomain,"cart");case"personalCenter":var i=Q.a.wapDomain+se.j.PERSONAL_URL_WAP;return i=B.a.get("rnpersonalurlwap")?B.a.get("rnpersonalurlwap"):Q.a.wapDomain+se.j.PERSONAL_URL_WAP,t||i;case"message":return t||"".concat(Q.a.wapDomain,"message/index");case"homePage":return t||"".concat(Q.a.wapDomain);case"search":return t||o;case"setting":return t||"".concat(Q.a.wapDomain,"setting/index");case"userContentCenter":return t||"".concat(Q.a.wapDomain,"content/index");case"custom":return t}}},{key:"handleListType",value:function(e){switch(e){case"scan":return"28";case"cart":return"21";case"personalCenter":return"23";case"message":return"10";case"homePage":return"22";case"search":return"20";case"setting":return"9";case"userContentCenter":return"24";case"custom":return"25"}}},{key:"handleDapReport",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]||this.props.pageId;this.iconGoPage(e,t,n)}},{key:"iconGoPage",value:function(e,t,n){t?Object(J.A)(t):"返回按钮"===n.iconText&&(this.wapTimer&&clearTimeout(this.wapTimer),this.wapTimer=setTimeout((function(){"web"===b.a.OS?window.history.go(-1):_.a.VmallNative.invokeNative({service:"page",action:"finished"})}),300))}},{key:"renderLayout",value:function(){var e=this;return v.a.createElement(F.b,{themeStyles:le},(function(t,n){var r,o,i,a,l,s,c,u,d,p,f,h,g,m,y,b,w,S,O,P,T,x=e.props,I=x.size,k=x.headerStyle,j=x.style,_=x.mergeStyle,A=x.isChangeStyle,B=x.pageCatCode,M=x.pageCatName,F=x.isShowLayout,H=x.IosStatusBarHeight,z=Number(null==k?void 0:k.headStyle),U=E()(e.state.iconList),V=U[0],G=U.slice(1),Y=n.C31.color;null!=_&&null!==(r=_.textStyle)&&void 0!==r&&r.color&&(Y=_.textStyle.color);var K=null==k?void 0:k.attribute,Q=(null!=K?K:{}).backButtonShow,X=1==Q||"true"==Q;switch(z){case 1:T=v.a.createElement(v.a.Fragment,null,X&&e.renderBackButton(n),v.a.createElement(D.a,{numberOfLines:2,style:[j.text]},k.headTitle));break;case 2:T=v.a.createElement(v.a.Fragment,null,X&&e.renderBackButton(n),v.a.createElement(D.a,{numberOfLines:2,style:[j.text,0===e.state.iconList.length?{marginRight:0}:{marginRight:16,flex:1}]},k.headTitle),0!==e.state.iconList.length?v.a.createElement(ae.a,{fromPage:null===(o=e.props)||void 0===o?void 0:o.fromPage,titleType:2,width:e.props.width,isPadApk:e.props.isPadApk,isFixScreen:e.props.isFixScreen,cartNum:e.props.cartNum,messageNum:e.props.messageNum,style:j,pageId:null===(i=e.props)||void 0===i?void 0:i.pageId,iconList:e.state.iconList,mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k,IosStatusBarHeight:H,isShowLayout:F}):v.a.createElement(v.a.Fragment,null));break;case 3:T=v.a.createElement(v.a.Fragment,null,X&&e.renderBackButton(n),v.a.createElement(oe,{configInfo:e.props.configInfo,isRound:!0,iconNum:1,pageId:null===(a=e.props)||void 0===a?void 0:a.pageId,fromPage:e.props.fromPage,isIconShow:!0,style:[{flex:1},0===e.state.iconList.length?{marginRight:0}:{marginRight:16}],mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k}),0!==e.state.iconList.length?v.a.createElement(ae.a,{fromPage:null===(l=e.props)||void 0===l?void 0:l.fromPage,cartNum:e.props.cartNum,messageNum:e.props.messageNum,style:j,size:I,pageId:null===(s=e.props)||void 0===s?void 0:s.pageId,width:e.props.width,isPadApk:e.props.isPadApk,isFixScreen:e.props.isFixScreen,iconList:e.state.iconList,mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k,IosStatusBarHeight:H,isShowLayout:F}):v.a.createElement(v.a.Fragment,null));break;case 4:T=v.a.createElement(v.a.Fragment,null,v.a.createElement(oe,{configInfo:e.props.configInfo,isRound:!0,pageId:null===(c=e.props)||void 0===c?void 0:c.pageId,fromPage:e.props.fromPage,isIconShow:!0,style:[{marginRight:Object(J.F)()?0:16,flex:1}],mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k}),Object(J.F)()?null:v.a.createElement(D.a,{numberOfLines:2,style:[j.rightText,0===e.state.iconList.length?{marginRight:0}:{marginRight:16}]},"搜索"));break;case 5:if(0!==e.state.iconList.length){var Z,ee,te,ne,re=V.isCart?e.props.cartNum:V.isMessage?e.props.messageNum:0;T=1===e.state.iconList.length?v.a.createElement(v.a.Fragment,null,v.a.createElement(C.a,{style:[j.image,{marginRight:16,position:"relative"}]},"25"==V.clickType?v.a.createElement(N.a,{source:{uri:V.iconUrl},style:{width:24,height:24}}):v.a.createElement(L.a,{onPress:function(){e.handleDapReport(!1,V.actionUrl,V),Object($.b)("",!0)}},v.a.createElement(q.a,{normalCol:Y,iconName:V.iconUrl,width:24,height:24}),v.a.createElement(C.a,{style:[j.topIcon,re>9?j.topIconMore:{},V.isCart||V.isMessage?0==re?j.hidden:{}:j.hidden]},v.a.createElement(D.a,{style:[j.topText]},re)))),v.a.createElement(oe,{configInfo:e.props.configInfo,isRound:!0,iconNum:2,fromPage:e.props.fromPage,isIconShow:!0,pageId:null===(Z=e.props)||void 0===Z?void 0:Z.pageId,style:[{flex:1}],mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k})):v.a.createElement(v.a.Fragment,null,v.a.createElement(C.a,{style:[j.image,{marginRight:16,position:"relative"}]},"25"==V.clickType?v.a.createElement(L.a,{onPress:function(){e.handleDapReport(!1,V.actionUrl,V),Object($.b)("",!0)}},v.a.createElement(N.a,{source:{uri:V.iconUrl},style:{width:24,height:24}})):v.a.createElement(L.a,{onPress:function(){e.handleDapReport(!1,V.actionUrl,V),Object($.b)("",!0)}},v.a.createElement(q.a,{normalCol:Y,iconName:V.iconUrl,width:24,height:24}),v.a.createElement(C.a,{style:[j.topIcon,re>9?j.topIconMore:{},V.isCart||V.isMessage?0==re?j.hidden:{}:j.hidden]},v.a.createElement(D.a,{style:[j.topText]},re)))),v.a.createElement(oe,{configInfo:e.props.configInfo,isRound:!0,iconNum:2,pageId:null===(ee=e.props)||void 0===ee?void 0:ee.pageId,fromPage:e.props.fromPage,isIconShow:!0,style:[{flex:1},0===e.state.iconList.length?{marginRight:0}:{marginRight:16}],mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k}),v.a.createElement(ae.a,{fromPage:null===(te=e.props)||void 0===te?void 0:te.fromPage,cartNum:e.props.cartNum,messageNum:e.props.messageNum,style:j,width:e.props.width,isPadApk:e.props.isPadApk,isFixScreen:e.props.isFixScreen,size:I,pageId:null===(ne=e.props)||void 0===ne?void 0:ne.pageId,iconList:G,mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k,IosStatusBarHeight:H,isShowLayout:F}))}else{var le;T=v.a.createElement(v.a.Fragment,null,v.a.createElement(oe,{iconNum:1,configInfo:e.props.configInfo,pageId:null===(le=e.props)||void 0===le?void 0:le.pageId,isRound:!0,fromPage:e.props.fromPage,isIconShow:!0,style:[{flex:1}],mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k}))}break;case 6:T=v.a.createElement(v.a.Fragment,null,v.a.createElement(C.a,{style:[j.image,{marginRight:16,width:80}]},v.a.createElement(N.a,{source:{uri:A?ue.f:ue.e},style:{width:80,height:26}})),v.a.createElement(oe,{iconNum:1,configInfo:e.props.configInfo,isRound:!0,fromPage:e.props.fromPage,pageId:null===(u=e.props)||void 0===u?void 0:u.pageId,isIconShow:!0,style:[{flex:1},0===e.state.iconList.length?{marginRight:0}:{marginRight:16}],mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k}),0!==e.state.iconList?v.a.createElement(ae.a,{width:e.props.width,isPadApk:e.props.isPadApk,isFixScreen:e.props.isFixScreen,fromPage:null===(d=e.props)||void 0===d?void 0:d.fromPage,cartNum:e.props.cartNum,messageNum:e.props.messageNum,style:j,size:I,pageId:null===(p=e.props)||void 0===p?void 0:p.pageId,iconList:e.state.iconList,mergeStyle:_,pageCatCode:B,pageCatName:M,headerStyle:k,IosStatusBarHeight:H,isShowLayout:F}):v.a.createElement(v.a.Fragment,null));break;case 7:var se=e.props,de=se.mergeStyle7,fe=se.opacity,he=se.colorStyle,ge=se.initialPosition,me=e.state.fontSize,ye=de?R()(de):R()(_),ve=de?(null==de||null===(f=de.textStyle)||void 0===f?void 0:f.color)||n.C21.color:(null==_||null===(h=_.textStyle)||void 0===h?void 0:h.color)||n.C21.color,be=de?(null==de||null===(g=de.textStyle)||void 0===g?void 0:g.color)||n.C12.color:(null==_||null===(m=_.textStyle)||void 0===m?void 0:m.color)||n.C12.color,we=(null==k||null===(y=k.attribute)||void 0===y?void 0:y.backButtonBgColor)||n.C21.color,Se=(null==k||null===(b=k.attribute)||void 0===b?void 0:b.backButtonBgColor)||n.C12.color,Ce=ve,Oe={color:be},Pe=(null==k||null===(w=k.attribute)||void 0===w?void 0:w.signalBarColor)||ce.d.black;if(he){he===ce.a.light&&(Ce=we,Oe={color:Se});var Te=e.getStatusBarStyle(Pe,he);pe.a.statusBarStyle!==Te&&(pe.a.onUpdate({statusBarStyle:Te}),Object(ie.m)(Te))}ye&&null!==(S=ye)&&void 0!==S&&S.textStyle?ye.textStyle.color=Ce:ye={textStyle:{color:Ce}},T=v.a.createElement(v.a.Fragment,null,v.a.createElement(L.a,{style:j.iconBack,onPress:function(){e.handleDapReport(!1,"",{iconNo:1,iconText:"返回按钮",actionUrl:""},e.props.pageId),Object($.b)("",!0)}},v.a.createElement(q.a,{iconName:"ic24-back",normalCol:Ce,opacity:n.C21.opacity,width:24,height:24})),v.a.createElement(C.a,{style:[j.viewText7Wrap,!e.state.fontSizeComplete&&j.displayNone]},v.a.createElement(W.a.View,{style:[j.viewText7,{top:ge,opacity:fe}],onLayout:e.totalLayout},v.a.createElement(D.a,{numberOfLines:2,ellipsizeMode:"tail",style:[j.text7,Oe,j["T".concat(me)],0===e.state.iconList.length?{marginRight:0}:{marginRight:16}]},k.headTitle)),v.a.createElement(C.a,{style:j.viewText7Calcule,onLayout:e.calculeTotalLayout},v.a.createElement(D.a,{numberOfLines:1,ellipsizeMode:"tail",style:[j.text7,Oe,j["T".concat(me)]]},k.headTitle))),0!==e.state.iconList.length?v.a.createElement(ae.a,{width:e.props.width,isPadApk:e.props.isPadApk,isFixScreen:e.props.isFixScreen,fromPage:null===(O=e.props)||void 0===O?void 0:O.fromPage,cartNum:e.props.cartNum,messageNum:e.props.messageNum,style:j,size:I,pageId:null===(P=e.props)||void 0===P?void 0:P.pageId,iconList:e.state.iconList,mergeStyle:ye,isImmersiveHeader:!F,listBarHeight:e.props.listBarHeight,pageCatCode:B,pageCatName:M,headerStyle:k,IosStatusBarHeight:H,isShowLayout:F}):v.a.createElement(v.a.Fragment,null))}return T}))}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.headerStyle;return v.a.createElement(C.a,{style:[t.view,{flex:1},A.a.isApp()?{}:{height:58},this.handleContainerStyle(n)]},this.renderLayout())}}]),n}(y.PureComponent),me=Object(H.a)(Object(Y.a)(K.a)(ge)),ye=n(40),ve=n(183),be=n(44),we=n(50),Se=n(101);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Te=0;"ios"===b.a.OS&&Object(ie.e)().then((function(e){Te=e})).catch((function(e){}));var xe=function(e){u()(n,e);var t=Pe(n);function n(e){var r;o()(this,n),r=t.call(this,e),m()(s()(r),"eventListener",void 0),m()(s()(r),"refreshCartNumListener",void 0),m()(s()(r),"initWidth",(function(e){r.state.width!==e&&r.setState({width:e})})),m()(s()(r),"handleStyleChange",(function(e){var t=r.props.styleChange,n=r.state,o=n.screenType,i=n.mergeStyle,a=Object(ye.a)(e);if(o!==a&&!Object(be.e)(t)){if(o&&i&&"2"!==t.bgFill)return;r.setState({mergeStyle:Object(be.a)(t,a),screenType:a})}}));var i=!1;if("web"===b.a.OS){var a=se.b.UA_LIST.some((function(e){var t;return null===(t=navigator)||void 0===t?void 0:t.userAgent.toLowerCase().includes(e)})),l=se.b.CID_LIST.includes(B.a.get("cps_id"));i=a||l}var c=r.props.styleChange,u=Object(be.d)(r.props.pageType||"homePage").screenWidth,d=null,p=Object(ye.a)(u);return Object(be.e)(c)||"1"!==c.bgFill||(d=Object(be.a)(c,p)),r.state={mergeStyle:d,screenType:null,cartNum:r.props.cartNum,messageNum:r.props.messageNum,width:Object(be.d)(r.props.pageType||"homePage").screenWidth,isPadApk:!1,isFixScreen:!1,isH5:i},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this;"android"===b.a.OS&&(ve.a.invokeVmallNative("device","isPad",{}).then((function(t){null!=t&&t.pad&&"true"===(null==t?void 0:t.pad)?e.setState({isPadApk:!0}):e.setState({isPadApk:!1})})),Object(ie.i)().then((function(t){e.setState({isFixScreen:t})}))),A.a.isApp()&&(ve.a.invokeVmallNative("common","getCartAndMessageNmb",{}).then((function(t){var n=JSON.parse(t.firstCart),r=t.firstMessage&&JSON.parse(t.firstMessage);e.setState({cartNum:n||0,messageNum:r||0})})),this.eventListener=w.a.addListener("NativeCallAction",(function(t){var n,r,o,i;"car"===(null==t?void 0:t.service)&&"carNum"===(null==t?void 0:t.action)&&(null!=t&&null!==(n=t.param)&&void 0!==n&&n.num&&e.setState({cartNum:(null==t||null===(r=t.param)||void 0===r?void 0:r.num)||0}));"message"===(null==t?void 0:t.service)&&"messageNum"===(null==t?void 0:t.action)&&(null!=t&&null!==(o=t.param)&&void 0!==o&&o.num&&e.setState({messageNum:(null==t||null===(i=t.param)||void 0===i?void 0:i.num)||0}))}))),this.refreshCartNumListener=w.a.addListener("refreshCartNum",(function(){e.setState({cartNum:Se.a.cartNum})}))}},{key:"componentDidUpdate",value:function(e){this.props.cartNum!==e.cartNum&&"android"!==b.a.OS&&this.setState({cartNum:this.props.cartNum}),this.props.messageNum!==e.messageNum&&"android"!==b.a.OS&&this.setState({messageNum:this.props.messageNum})}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.refreshCartNumListener&&this.refreshCartNumListener.remove()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.pageName,o=n.pageType,i=n.tabLength,a=n.isIosNavTitle,l=n.pageCatCode,s=n.pageCatName,c=n.isShowLayout,u=n.headerStyle,d=n.isInimmersiveHeader,p=this.state.mergeStyle,f=Number(null==u?void 0:u.headStyle),h=Object(ye.a)(this.state.width),g={},m={},y=0;return(r!==se.g.homepage||a)&&(r!==se.g.activity||c||this.props.isInimmersiveHeader||!A.a.isApp())||(y=A.a.isIOS()?Te:S.a.currentHeight),"web"===b.a.OS?(g.height=94,m.height=58):(g.height=y+92,m.height=y+56),(2!==o||i<=1)&&("web"===b.a.OS?g.height=58:g.height=y+56),"7"===(null===(e=u.headStyle)||void 0===e?void 0:e.toString())&&d&&(p=null),"large"===h||this.state.isH5&&[1,2,3,7].includes(f)?"":v.a.createElement(F.b,{themeStyles:function(e){return function(e,t){var n;t&&(e=O.a);var r={},o={};return null!=t&&null!==(n=t.textStyle)&&void 0!==n&&n.color&&(r.color=t.textStyle.color),T.a.create({viewPad:{paddingLeft:24,paddingRight:24},viewWap:{paddingLeft:16,paddingRight:16},viewOuter:I({height:56,flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative"},o),view:I({height:56,flexDirection:"row",display:"flex",alignItems:"center",position:"relative"},o),image:{width:24,height:24,marginRight:24,justifyContent:"center"},imageLast:{marginRight:0},text:I(I(I({},e.T13),e.C11),{},{fontFamily:P.a.fontFamilyBase},r),iconBack:{flexGrow:0,flexShrink:0,flexBasis:"auto",width:24,height:24,justifyContent:"center",marginRight:16},viewText7Wrap:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"100%",height:56,overflow:"hidden"},viewText7:{textAlign:"left",width:"100%",justifyContent:"center",height:56},text7:I(I(I(I({},e.T12),e.C12),{},{fontFamily:P.a.fontFamilyMedium},r),{},{justifyContent:"center"}),viewText7Calcule:{position:"absolute",top:-100,width:"auto",height:56,textAlign:"left",opacity:0,overflow:"hidden"},T12:I({fontFamily:P.a.fontFamilyMedium},e.T12),T10:I({fontFamily:P.a.fontFamilyMedium},e.T10),T8:I({fontFamily:P.a.fontFamilyMedium},e.T8),rightWrap:{height:"100%",justifyContent:"flex-end",maxWidth:120},rightText:I(I({},e.T7),r),topIcon:{width:16,height:16,color:"white",position:"absolute",top:-4,right:-8,backgroundColor:e.C35.color,borderRadius:8},topText:I(I(I({},e.T1),e.C17),{},{textAlign:"center",lineHeight:16},r),topIconMore:{width:24},hidden:{display:"none",position:"relative"},bgImageView:{overflow:"hidden",width:"100%"},displayNone:{opacity:0}})}(e,p)}},(function(e,n,o){var i,u,f,w,O,P,T,x;Object(ie.j)()?o=Object(be.d)(t.props.pageType||"homePage").screenWidth:(t.initWidth(o),t.handleStyleChange(o)),h=Object(ye.a)(o);var I=null!==(i=p)&&void 0!==i&&null!==(u=i.imgStyle)&&void 0!==u&&u.backgroundColor&&"transparent"!==p.imgStyle.backgroundColor?{}:{backgroundColor:n.C32.color};t.props.colorStyle&&(I={});var k=(null===(f=p)||void 0===f||null===(w=f.imgStyle)||void 0===w?void 0:w.backgroundColor)&&"transparent"!==p.imgStyle.backgroundColor||(null===(O=p)||void 0===O?void 0:O.bgImg);return v.a.createElement(C.a,{style:{flex:1}},v.a.createElement(we.a,{showBgImg:!0,imgViewStyle:[e.bgImageView,m,I],imgUri:null===(P=p)||void 0===P?void 0:P.bgImg,imgStyle:Oe(Oe({},g),null===(T=p)||void 0===T?void 0:T.imgStyle),isHighQuality:!0},v.a.createElement(C.a,{style:["small"===h?e.viewWap:e.viewPad,e.viewOuter,t.props.style,A.a.isApp()?r===se.g.homepage?{height:"ios"===b.a.OS?a?56:56+Te:S.a.currentHeight+56,paddingTop:"ios"===b.a.OS?a?0:Te:S.a.currentHeight}:r!==se.g.activity||c||d||!A.a.isApp()?{}:{height:y+56,paddingTop:y}:{height:58}]},v.a.createElement(me,{configInfo:t.props.configInfo,cartNum:t.state.cartNum,messageNum:t.state.messageNum,style:e,pageId:null===(x=t.props)||void 0===x?void 0:x.pageId,fromPage:t.props.fromPage,size:h,width:t.state.width,isPadApk:t.state.isPadApk,isFixScreen:t.state.isFixScreen,headerStyle:t.props.headerStyle,colorStyle:t.props.colorStyle,mergeStyle:p,mergeStyle7:t.props.mergeStyle7,opacity:t.props.opacity,isImageFail:t.props.isImageFail,listBarHeight:t.props.listBarHeight,initialPosition:t.props.initialPosition,isChangeStyle:k,pageCatCode:l,pageCatName:s,IosStatusBarHeight:Te,isShowLayout:c,DarkStyle:t.props.DarkStyle}))))}))}}]),n}(y.PureComponent);m()(xe,"defaultProps",{tabLength:0});t.a=Object(H.a)(xe)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(126);t.a=function(e){return o.a.createElement(i.a,e,e.children)}},,function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return m}));var r=n(29),o=n(11),i=n(40),a=n(37),l=n(54),s=n(12),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;t="android"===a.a.OS||"ios"===a.a.OS?3:"large"===Object(i.a)(l.a.get("window").width)?1:2;var n="".concat(o.a.openApiDomain,"sc/shop/getCarrierCert?&portal=").concat(t,"&lang=").concat(s.e.CN,"&country=").concat(s.d.CN,"&carrierCode=").concat(e);return r.a.get(n)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;t="android"===a.a.OS||"ios"===a.a.OS?3:"large"===Object(i.a)(l.a.get("window").width)?1:2;var n="".concat(o.a.openApiDomain,"sc/shop/getShopBaseInfo?&portal=").concat(t,"&lang=").concat(s.e.CN,"&country=").concat(s.d.CN,"&carrierCode=").concat(e);return r.a.get(n)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a="".concat(o.a.openApiDomain,"cms/page/getPageInfoListAsync"),l={};return l=i?{pageAlias:i||"",lang:s.e.CN,country:s.d.CN,portal:t}:{pageId:n||"",lang:s.e.CN,country:s.d.CN,portal:t,carrierCode:e},r.a.get(a,l)},p=function(e,t,n,i,a,l){var c="".concat(o.a.openApiDomain,"cms/page/getPageInfoListAsync?carrierCode=").concat(t,"&lang=").concat(s.e.CN,"&portal=").concat(e,"&country=").concat(s.d.CN);return n&&(c+="&pageId=".concat(n)),i&&(c="".concat(o.a.openApiDomain,"cms/page/getPageInfoListAsync?lang=").concat(s.e.CN,"&portal=").concat(e,"&country=").concat(s.d.CN)+"&pageAlias=".concat(i)),a&&(c+="&preview=".concat(a)),l&&(c+="&previewToken=".concat(l)),r.a.get(c)},f=function(e){var t,n="".concat(o.a.openApiDomain,"sc/shop/queryProductByKeywordInShop");e.country=e.country||s.d.CN,e.lang=e.lang||s.e.CN.split("_").join("-"),e.personalizeSearch=e.personalizeSearch||"2",e.searchFlag=e.searchFlag||"1","2"===(null==e?void 0:e.searchSortField)?e.searchSortField="3":"3"===(null==e?void 0:e.searchSortField)?e.searchSortField="2":e.searchSortField=e.searchSortField||"0",e.carrierCode=e.carrierCode||"",e.keyWord=e.keyWord||"";e.searchSortType={desc:"1",asc:"0"}[null!==(t=null==e?void 0:e.searchSortType)&&void 0!==t?t:"desc"],e.topSpuList=e.topSpuList?JSON.stringify(e.topSpuList):"";var c=2;return c="large"===Object(i.a)(l.a.get("window").width)?s.i.web:"android"===a.a.OS||"ios"===a.a.OS?s.i.android:s.i.wap,e.saleChannel=c,e.pageNumber=e.pageNumber||"1",e.pageSize=e.pageSize||"20",r.a.post(n,e)},h=function(e){var t="".concat(o.a.openApiDomain,"sc/shop/getHotSearchWord");return e.lang=e.lang||s.e.CN.split("_").join("-"),e.country=e.country||s.d.CN,e.carrierCode=e.carrierCode||"",r.a.get(t,e)},g=function(e){var t,n="".concat(o.a.openApiDomain,"sc/shop/getFollowedShopList"),c=1;return c="android"===a.a.OS||"ios"===a.a.OS?3:"large"===Object(i.a)(l.a.get("window").width)?1:2,e.portal=e.portal||(null===(t=c)||void 0===t?void 0:t.toString()),e.lang=e.lang||s.e.CN.split("_").join("-"),e.country=e.country||s.d.CN,e.pageNumber=e.pageNumber||1,e.pageSize=e.pageSize||20,r.a.get(n,e)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(o.a.openApiDomain,"sc/shop/getRecommendShopList");return e.lang=s.e.CN.split("_").join("-"),e.country=s.d.CN,r.a.get(t,e)}},function(e,t,n){"use strict";var r=n(93),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?a:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var l=s(t),g=s(n),m=0;m<a.length;++m){var y=a[m];if(!(i[y]||r&&r[y]||g&&g[y]||l&&l[y])){var v=p(n,y);try{c(t,y,v)}catch(e){}}}}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window;t.default=r.vl=function(e,t){var n=e||100,o=t||750,i=r.document,a=navigator.userAgent,l=a.match(/Android[\S\s]+AppleWebkit\/(\d{3})/i),s=a.match(/U3\/((\d+|\.){5,})/i),c=s&&parseInt(s[1].split(".").join(""),10)>=80,u=i.documentElement,d=1;if(l&&l[1]>534||c){u.style.fontSize=n+"px";var p=i.createElement("div");p.setAttribute("style","width: 1rem;display:none"),u.appendChild(p);var f=r.getComputedStyle(p).width;if(u.removeChild(p),f!==u.style.fontSize){var h=parseInt(f,10);d=n/h}}var g=i.querySelector('meta[name="viewport"]');g||((g=i.createElement("meta")).setAttribute("name","viewport"),i.head.appendChild(g)),g.setAttribute("content","width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1");var m=function(){u.style.fontSize=n/o*u.clientWidth*d+"px"};m(),r.addEventListener("resize",m)},e.exports=t.default},function(e,t,n){var r=n(1);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach((function(t){r(e,t,n[t])}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(43),m=n(40),y=n(185),v=n(57).a.create({commonL:{marginTop:24},commonS:{marginTop:8},commonM:{marginTop:8},none:{}});function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var w=function(e){s()(n,e);var t=b(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.width,o=t.cardType,i=t.scene,a=t.boxWidth,l=t.pageType,s=Object(m.a)(a||r),c={},u="large"===s?["menu","prod","tools","buoys","footer","groupComponent","hybrid"]:["menu","groupComponent","prod","hybrid"];return"large"===s?e="topMenu"===i&&"ad"===o||"o2oMenu"===o||"o2oToolbar"===o?{marginTop:0}:v.commonL:"medium"===s?(e=v.commonM,"activity"!==l&&"bulletin"!==o&&"personal"!==l||(c.marginTop=12)):(e=v.commonS,"activity"!==l&&"personal"!==l||(c.marginTop=12)),u.includes(o)&&(c={marginTop:0},"activity"===l&&"large"!==s&&(c={marginTop:0})),"contentBig"!==o||"verticalDoubleRow"!==this.props.layoutType&&"oneLineOne"!==this.props.layoutType||(c={marginTop:0}),"smartlife-livecard"!==i&&"newSubscribe"!==o||(c={marginTop:"large"===s?24:12}),"operation_des"===o&&(c={marginTop:"large"===s?48:0},"activity"===l&&"large"!==s&&(c={marginTop:0})),"immersiveHeader"===o&&(c.marginTop=0),h.a.createElement(g.a,{style:[e,c]},n)}}]),n}(h.a.Component);t.a=Object(y.a)(w)},function(e,t,n){"use strict";var r,o,i,a,l,s,c,u,d,p,f=n(27),h=n.n(f),g=n(5),m=n.n(g),y=n(6),v=n.n(y),b=(n(1),n(18)),w=n.n(b),S=(n(60),n(16)),C=n(11),O=(r=function(){function e(){m()(this,e),h()(this,"background",o,this),h()(this,"textColor",i,this),h()(this,"isChangeStyle",a,this),h()(this,"isBgGridImg",l,this),h()(this,"backgroundColor",s,this),h()(this,"bgGridImg",c,this),h()(this,"_styleChange",u,this),h()(this,"relatedPage",d,this),h()(this,"isDeposit",p,this)}return v()(e,[{key:"onSubTabsUpdate",value:function(e){this._styleChange=null,"0"==e.bgFill&&""===e.fontColor&&""==e.bgColor&&""==e.bgGridImg_4&&""==e.bgGridImg_8&&""==e.bgGridImg_12?this.isChangeStyle=!1:e?(this._styleChange=e,e.bgFill&&"2"===e.bgFill?this.isBgGridImg=!0:this.isBgGridImg=!1,this.isChangeStyle=!0,"1"==e.fontFill&&(this.textColor=e.fontColor),this.backgroundColor=e.bgColor):this.isChangeStyle=!1}},{key:"onSize",value:function(e){this.bgGridImg="small"===e?C.a.cmsCdnPath+this._styleChange.bgGridImg_4:"medium"===e?C.a.cmsCdnPath+this._styleChange.bgGridImg_8:C.a.cmsCdnPath+this._styleChange.bgGridImg_12}},{key:"onRelatedPagee",value:function(e){this.relatedPage=e}}]),e}(),o=w()(r.prototype,"background",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=w()(r.prototype,"textColor",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=w()(r.prototype,"isChangeStyle",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=w()(r.prototype,"isBgGridImg",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=w()(r.prototype,"backgroundColor",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=w()(r.prototype,"bgGridImg",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=w()(r.prototype,"_styleChange",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w()(r.prototype,"relatedPage",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=w()(r.prototype,"isDeposit",[S.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w()(r.prototype,"onSubTabsUpdate",[S.d],Object.getOwnPropertyDescriptor(r.prototype,"onSubTabsUpdate"),r.prototype),w()(r.prototype,"onSize",[S.d],Object.getOwnPropertyDescriptor(r.prototype,"onSize"),r.prototype),w()(r.prototype,"onRelatedPagee",[S.d],Object.getOwnPropertyDescriptor(r.prototype,"onRelatedPagee"),r.prototype),r);t.a=new O},,function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(1),o=n.n(r),i=n(57),a=n(37),l=n(122),s=n(53),c=n(3);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.e=function(e,t){return t&&(e=l.a),i.a.create({hotList:{display:"flex",flexDirection:"column"},smallStyle:{marginHorizontal:16},mediumStyle:{marginHorizontal:24},card:{borderRadius:16,overflow:"hidden",backgroundColor:e.C33.color},flexLayout:{display:"flex",flexWrap:"wrap",flexDirection:"row",marginBottom:12},cardHeader:{display:"flex",flexDirection:"row",alignItems:"center",backgroundColor:e.C33.color},cardHeaderTitle:d(d({paddingTop:13,paddingBottom:13,fontFamily:s.a.fontFamilyMedium,opacity:.9,fontSize:16,textAlign:"left",lineHeight:22,fontWeight:"500",marginRight:8,flexGrow:1,flexShrink:1,flexBasis:"0%"},e.C11),{},{paddingLeft:12}),moreTitleStyle:{maxWidth:"33%",marginLeft:"auto",paddingBottom:13,paddingTop:13},cardHeaderMore:d({fontFamily:s.a.fontFamilyBase,fontSize:14,textAlign:"right",lineHeight:19,fontWeight:"400",marginRight:4,flexGrow:1,flexShrink:1,flexBasis:"auto"},e.C13),cardHeaderMoreWrap:{display:"flex",flexDirection:"row",alignItems:"center"},productList:{display:"flex",flexDirection:"row",flexWrap:"wrap"},isRankingContainer:{position:"relative",width:122,height:122,backgroundColor:"#F1F3F5",justifyContent:"center",alignItems:"center"},isRankingBox:{borderBottomStartRadius:0,borderBottomRightRadius:4,borderTopLeftRadius:8,borderTopRightRadius:0,width:16,height:16,textAlign:"center",position:"absolute",left:0,top:0},isRankingText:{fontSize:10,color:"#fff",letterSpacing:0,textAlign:"center",fontWeight:"900"},rankingChildView:{display:"flex",flexDirection:"row",alignItems:"center",height:14,lineHeight:14,marginTop:4},rankingBox:{marginRight:2,marginVertical:"auto",alignItems:"center",justifyContent:"center"},rankingTextSize:{width:12,height:12},rankingTextStyle:{color:"#CF0A2C",fontSize:10},titleText:d(d(d({fontFamily:s.a.fontFamilyBase},e.T10),e.C11),{},{flexGrow:1,flexBasis:"0%",flexShrink:1,marginRight:8,fontWeight:"bold",textAlign:"left"})})};var p=function(e){return i.a.create({topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:16,margin:12,borderRadius:8,backgroundColor:Object(c.f)(e.C34.color,.4)},topContentPadH:{margin:14},btnPad:d(d(d({},e.T4),e.C17),{},{minWidth:80,maxWidth:90,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:8,paddingRight:8,borderRadius:14,backgroundColor:e.C18.color,fontWeight:"500"}),btn:d(d(d({},e.T4),e.C17),{},{minWidth:64,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:8,paddingRight:8,borderRadius:14,backgroundColor:e.C18.color,fontWeight:"500",overflow:"ios"===a.a.OS?"hidden":"visible"}),prdName:d(d(d({},e.T6),e.C12),{},{justifyContent:"center",fontWeight:"web"===a.a.OS?"bold":"600"})})},f=function(e){return i.a.create({prdBox:{width:"100%",flexDirection:"row",height:"auto",overflow:"hidden",borderRadius:16,backgroundColor:e.C33.color},topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:16,margin:12,borderRadius:8,backgroundColor:"rgba(255, 255, 255, 0.05)"},topContentPadH:{margin:14},btnPad:d(d(d({},e.T4),e.C17),{},{minWidth:80,maxWidth:76,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:8,paddingRight:8,borderRadius:14,backgroundColor:e.C18.color,fontWeight:"500"}),prdName:d(d(d({},e.T6),e.C12),{},{justifyContent:"center",fontWeight:e.T11.fontWeight})})},h=function(){return i.a.create({numberPosition:{position:"absolute",top:12,left:20,zIndex:1,width:16,display:"flex",alignItems:"center",justifyContent:"center"}})},g=function(e){return i.a.create({numberPosition:{position:"absolute",top:0,left:e?14:12,zIndex:1,width:16,display:"flex",alignItems:"center",justifyContent:"center"}})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.nanoid=t.customAlphabet=void 0;var n="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";t.customAlphabet=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21;return function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r="",o=n;o--;)r+=e[Math.random()*e.length|0];return r}};t.nanoid=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",r=e;r--;)t+=n[64*Math.random()|0];return t}},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ce}));var r=n(55),o=n.n(r),i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(86),C=n.n(S),O=n(52),P=n.n(O),T=n(216),x=n.n(T),I=n(34),k=n.n(I),E=n(48),j=n(103),R=n(432),L=n(40),_=n(183),D=n(0),N=n.n(D),W=n(37),A=n(43),B=n(126),M=n(49),F=n(446),H=n(3),z=n(23),U=n(29),V=n(12),G=n(44),Y=n(11),J=n(22),K=n(10),q=n(17),Q=n.n(q),$=n(26),X=n.n($),Z=n(54),ee=n(152),te=n(87),ne={clickItem:function(e,t,n,r){var o,i,a,l,s=Object(H.F)()?this:this.props,c=s.pageCatCode,u=s.pageCatName,d=s.resSiteCode,p=s.resSiteName;return{data:{actionCode:"ios"===W.a.OS||"android"===W.a.OS?"110000101":Object(H.F)()?"410000101":"210000101",actionName:"点击气泡/锚点",eventType:K.e.EVENT_TYPE_CLICK,pageId:t,content:{comId:null==e||null===(o=e.comId)||void 0===o?void 0:o.toString(),gotoPageId:"",gotoUrl:e.url||"",ruleId:"",sId:"",dataCode:null==e?void 0:e.dataCode,dataType:"3",row:"",column:"",index:null==e||null===(i=e.indexImg)||void 0===i?void 0:i.toString(),index_name:null==e||null===(a=e.title)||void 0===a?void 0:a.toString(),hotspot_type:"anchor",hotspot_index:n,hotspot_index_name:r,clickType:"38",nextPage:null!=e&&e.nextPage?null==e||null===(l=e.nextPage)||void 0===l?void 0:l.toString():""},pageCatCode:c,pageCatName:u,resSiteCode:d,resSiteName:p}}}},re=n(21),oe=n(25),ie=n(102),ae=n(185),le=n(120);function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ce=function(e){h()(r,e);var t,n=se(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"showAnchor",void 0),w()(p()(t),"isHshow",void 0),w()(p()(t),"clickTimer",void 0),w()(p()(t),"getWidth",(function(){return"web"===W.a.OS?Z.a.get("window").width:t.state.layoutWidth})),w()(p()(t),"isPad",(function(){return"medium"===Object(L.a)(t.getWidth())})),w()(p()(t),"isWeb",(function(){return"web"===W.a.OS})),w()(p()(t),"getWintdhotArea",(function(e,t,n){return x()(e/t*n)})),w()(p()(t),"initWidth",(function(e){t.state.layoutWidth!==e&&t.setState({layoutWidth:e})})),w()(p()(t),"bubbleView",(function(e,n,r,o){var i,a,l,s,c=t.props.imgSize,u=(t.state.viewWidth,"");"1"===(null==e||null===(i=e.relatedProducts)||void 0===i?void 0:i.priceMode)?u=null!==(a=null==e||null===(l=e.relatedProducts)||void 0===l?void 0:l.displayPrice)&&void 0!==a?a:null==e||null===(s=e.relatedProducts)||void 0===s?void 0:s.salePrice:u="暂无报价";var d=t.getWintdhotArea(e.pointX,e.picWidth,c.width),p=t.getWintdhotArea(e.pointY,e.picHeight,c.height),f=(C()(d),t.isPad()?c.width:t.getWidth()-32),h=C()(d)?0:d,g=C()(p)?0:p;0==r&&0==o&&(d=h<16?16:h,p=g<16?16:g+(t.isWeb()?5:0)),1==r&&0==o&&(d=c.width-h<16?h-16:h,p=g<16?20:g+(t.isWeb()?5:0)),0==r&&1==o&&(d=h<16?16:h,p=c.height-g<20?g-16:g+(t.isWeb()?4:0)),1==r&&1==o&&(d=c.width-h<16?h-16:h,p=c.height-g<16?g-16:g+(t.isWeb()?4:0));var m=function(){return t.hotAreaonPressBtn(e,n)};return N.a.createElement(ie.b,null,(function(o,i,a){var l;return t.initWidth(a),N.a.createElement(B.a,{key:n+1,onPress:m,activeOpacity:1,style:[0==r&&{position:"absolute",left:C()(d)?0:d+12.5+4,top:C()(p)?0:p-12.5},1==r&&{position:"absolute",right:C()(d)?0:f-d+5.5,top:C()(p)?0:p-12.5}]},N.a.createElement(A.a,{style:{backgroundColor:"rgba(0,0,0,.5)",borderRadius:5,maxWidth:120,minWidth:48,paddingLeft:8,paddingRight:8,paddingBottom:4,paddingTop:4}},N.a.createElement(ee.a,{style:{fontSize:8,color:"#FFFFFF",opacity:.9},selectable:!1,numberOfLines:2,ellipsizeMode:"tail"},e.productTitle),N.a.createElement(A.a,{style:{flexDirection:"row"}},"1"===(null==e||null===(l=e.relatedProducts)||void 0===l?void 0:l.priceMode)?N.a.createElement(ee.a,{style:{fontSize:10,color:"#FFFFFF",opacity:.9,marginRight:2,marginTop:"暂无报价"===u?Object(H.F)()?.5:"web"===W.a.OS?2:0:0}},"¥"):null,N.a.createElement(ee.a,{style:{fontSize:10,color:"#FFFFFF"}},u))))}))})),t.state={viewWidth:0,AnminWidth:new te.a.Value(.8),AnminOpacity:new te.a.Value(1),layoutWidth:Z.a.get("window").width},t}return u()(r,[{key:"hotAreaonPressBtn",value:(t=X()(Q.a.mark((function e(t,n){var r,o,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b,w,S,C,O;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.relatedProducts,!k()(r)){e.next=3;break}return e.abrupt("return");case 3:return o=this.props,i=o.clickItem,a=o.pageId,l=o.currentPicture,s=o.isShowCardItem,c=o.pageCatCode,u=o.pageCatName,d=o.resSiteCode,p=o.resSiteName,f=o.index_name,h=s?l-1:"0",g=this.props.newObj,m=g.comId,y=g.dataCode,v=g.gotoPageId,e.next=8,Object(H.p)(r.prdId,r.skuCode);case 8:b=e.sent,w=r.prdId,S={nextPage:w,comId:m,dataCode:y,gotoPageId:v,indexImg:h,url:b,title:f},this.clickTimer&&clearTimeout(this.clickTimer),this.clickTimer=setTimeout((function(){Object(H.B)(String(r.prdId),String(r.skuCode)),r.skuCode||r.prdId||Object(le.c)("",!0)}),150),Object(H.F)()?Object(J.a)({actionCode:"410000101",actionName:"点击气泡/锚点",eventType:K.e.EVENT_TYPE_CLICK,pageId:a,content:{comId:null==m?void 0:m.toString(),gotoPageId:"",gotoUrl:b||"",ruleId:"",sId:"",dataCode:y,dataType:"3",row:"",column:"",index:null==h?void 0:h.toString(),index_name:f,hotspot_type:"anchor",hotspot_index:null===(C=t.id)||void 0===C?void 0:C.toString(),hotspot_index_name:t.productTitle,clickType:"38",nextPage:r.prdId?null===(O=r.prdId)||void 0===O?void 0:O.toString():""},pageCatCode:c,pageCatName:u,resSiteCode:d,resSiteName:p}):i(S,a,t.id.toString(),t.productTitle);case 14:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"componentDidMount",value:function(){Object(H.F)()||this.animateEffect(.8)}},{key:"componentWillUnmount",value:function(){this.clickTimer&&clearTimeout(this.clickTimer)}},{key:"animateEffect",value:function(e){var t=this;e+=.06,te.a.timing(this.state.AnminWidth,{toValue:e,duration:60,delay:60,useNativeDriver:!0}).start((function(){e>1.4&&(e=.8,t.state.AnminWidth.setValue(.8)),t.animateEffect(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cardHotArea,r=t.imgSize;return P()(n,(function(t,n){var o=e.getWintdhotArea(t.pointX,t.picWidth,r.width),i=e.getWintdhotArea(t.pointY,t.picHeight,r.height),a=t.pointX>t.picWidth/2,l=t.pointY>t.picHeight/2,s=C()(o)?0:o,c=C()(i)?0:i-(e.isWeb()?0:2);e.showAnchor=t.showAnchor,0==a&&0==l&&(o=s<16?16:s,i=c<16?16:c),1==a&&0==l&&(o=r.width-s<16?s-16:s,i=c<16?16:c),0==a&&1==l&&(o=s<16?16:s,i=r.height-c<20?c-16:c),1==a&&1==l&&(o=r.width-s<16?s-16:s,i=r.height-c<16?c-16:c);return N.a.createElement(N.a.Fragment,null,"Y"==t.showAnchor?N.a.createElement(N.a.Fragment,null,N.a.createElement(B.a,{key:n,onPress:function(){return e.hotAreaonPressBtn(t,n)},activeOpacity:1,style:{position:"absolute",left:o,top:i}},N.a.createElement(A.a,{style:{flexDirection:"row"}},N.a.createElement(te.a.View,{style:[{position:"relative",width:12,height:12,backgroundColor:"rgba(0,0,0,.5)",borderRadius:16,justifyContent:"center",alignItems:"center",marginRight:4,transform:[{scale:e.state.AnminWidth}]}]}),N.a.createElement(A.a,{style:{position:"absolute",top:"50%",left:"50%",marginTop:-2,marginLeft:-4,width:4,height:4,backgroundColor:"rgba(255,255,255,.5)",borderRadius:16}}))),e.bubbleView(t,n,a,l)):null)}))}}]),r}(D.Component),ue=Object(ae.a)(Object(re.a)(ne)(Object(oe.a)(ce))),de=n(19),pe=n(215),fe=n(24),he=n(57).a.create({imageView:{position:"absolute",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},image:{width:"100%",height:"100%"}});function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var me=function(e){h()(n,e);var t=ge(n);function n(){var e;s()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),w()(p()(e),"handleImageClick",(function(){var t=e.props,n=t.onPress,r=t.item,o=t.index;"function"==typeof n&&n(r,o)})),e}return u()(n,[{key:"render",value:function(){var e,t=this.props,n=t.localSource,r=t.hotAreaWidth,o=t.hotAreaHeight,i=t.resizeMode;return e=r<=o?r<48?r:48:o<48?o:48,N.a.createElement(A.a,{style:[he.imageView,{width:r,height:o}]},N.a.createElement(B.a,{onPress:this.handleImageClick},N.a.createElement(fe.a,{localSource:Object(H.F)()?{uri:n}:n,resizeMode:i,imgStyle:{width:e,height:e}})))}}]),n}(N.a.PureComponent);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}w()(me,"defaultProps",{onPress:function(){},resizeMode:"contain"});var we=0,Se=0,Ce=function(e){h()(n,e);var t=be(n);function n(e){var r;s()(this,n),r=t.call(this,e),w()(p()(r),"_panResponder",void 0),w()(p()(r),"_panResponderApk",void 0),w()(p()(r),"eventListener",void 0),w()(p()(r),"failButtonList",void 0),w()(p()(r),"successButtonList",void 0),w()(p()(r),"prefixPm",void 0),w()(p()(r),"closeTimer",void 0),w()(p()(r),"confirmTimer",void 0),w()(p()(r),"handleCloseModal",(function(){r.setState({modalVisible:!1})})),w()(p()(r),"canClick",(function(){return Se=(new Date).getTime()-we,we=(new Date).getTime(),!(Se<500)})),w()(p()(r),"getWintdhotArea",(function(e,t,n){return x()(e/t*n)})),w()(p()(r),"isWx",(function(){return Object(H.F)()})),w()(p()(r),"isWeb",(function(e){return E.a.isPc(e)})),w()(p()(r),"isWap",(function(e){return E.a.isWap(e)})),w()(p()(r),"isApk",(function(){return"ios"===W.a.OS||"android"===W.a.OS})),w()(p()(r),"judgeScreenType",(function(e){var t=r.state.width,n=e.link,o=e.webLink,i=e.wapLink,a=e.mpLink;return E.a.isPc(t)?o:E.a.isWap(t)?i:"ios"===W.a.OS||"android"===W.a.OS?n:Object(H.F)()?a:void 0})),w()(p()(r),"eventTracingReportByClick",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.props,a=i.comId,l=i.pageId,s=i.imageIndex,c=i.pageCatCode,u=i.pageCatName,d=i.resSiteCode,p=i.resSiteName,f=e.couponType,h=ve(ve({actionCode:r.prefixPm+"10000101",actionName:"PIC领券",eventType:K.e.EVENT_TYPE_CLICK,pageId:l},n),{},{content:ve(ve({comId:a,index:"".concat(s+1),dataCode:"package"===f?"1":"",dateType:"4",clickType:"34",gotoPageId:"",gotoURL:"",ruleId:"",sId:"",row:"",column:""},o),{},{index_name:r.props.index_name||"",hotspot_type:e.hotAreaType,hotspot_index:e.id,hotspot_index_name:e.name}),pageCatCode:c,pageCatName:u,resSiteCode:d,resSiteName:p});Object(J.a)(h),Object(J.b)("",!0)})),w()(p()(r),"_getLoginStatus",(function(){if("web"===W.a.OS){var e=j.a.get("uid");if(!e){var t=window.location.href,n="".concat(Y.a.webDomain,"account/login?url=").concat(encodeURIComponent(t));Object(H.A)(n)}return e}if(Object(H.F)()){var o,i,a,l,s=null===(o=getApp())||void 0===o||null===(i=o.globalData)||void 0===i?void 0:i.userInfo;return s||(Object(H.u)(),null===(a=getApp())||void 0===a||null===(l=a.globalData)||void 0===l?void 0:l.userInfo)}if(E.a.isApp()){var c=r.state.isLogin;if(!c){Object(H.A)("vmall://com.vmall.client/home/login")}return c}})),w()(p()(r),"batchReceiveCoupons",(function(e){var t;if(!e||null==e||null===(t=e.listReceiveCoupon)||void 0===t||!t.length)return Promise.reject({success:!1,msg:"未传参或必传参数listReceiveCoupon未传"});var n="".concat(Y.a.openApiDomain,"ams/coupon/batchReceiveCoupons");return e.lang=e.lang||V.e.CN,e.country=e.country||V.d.CN,e.portal=e.portal||Object(G.b)(),E.a.isApp()&&(e.listReceiveCoupon=JSON.stringify(e.listReceiveCoupon)),U.a.post(n,e)})),w()(p()(r),"handleCollectionFailed",(function(e,t,n){var o=r.state.width;r.eventTracingReportByClick(e,t,void 0,{dataCode:""}),r.setState({collectionStatus:!1,modalVisible:!0,modealContent:n&&(n.errorTip||n.msg||(E.a.isApp()?n.appReviceFinishTip:E.a.isPc(o)?n.pcReviceFinishTip:n.wapReviceFinishTip))||Object(R.b)("operationFailed")})})),w()(p()(r),"handleBatchCollectionFailed",(function(e,t,n){r.eventTracingReportByClick(e,t,void 0,{dataCode:""}),r.setState({collectionStatus:!1,modalVisible:!0,modealContent:(null==n?void 0:n.errorTip)||(null==n?void 0:n.msg)||Object(R.b)("operationFailed"),iconType:"failIcon"})})),w()(p()(r),"isShowHotAreaItem",(function(e){var t=e.hotAreaType,n=e.couponList,o=r.props.pageType;return"coupon"===t?Boolean(null==n?void 0:n.length)&&o!==V.g.smartlife:r.judgeScreenType(e)})),w()(p()(r),"hotArea",(function(e,t){return P()(e,(function(e,n){var o,i,l=r.getWintdhotArea(e.width,e.picWidth,t.width),s=r.getWintdhotArea(e.height,e.picHeight,t.height),c=r.getWintdhotArea(e.startPointX,e.picWidth,t.width),u=r.getWintdhotArea(e.startPointY,e.picHeight,t.height);return r.isShowHotAreaItem(e)?N.a.createElement(A.a,a()({style:{position:"absolute",left:C()(c)?0:c,top:C()(u)?0:u},key:e.id},"web"===W.a.OS?(null===(o=r._panResponder)||void 0===o?void 0:o.panHandlers)||[]:(null===(i=r._panResponderApk)||void 0===i?void 0:i.panHandlers)||[]),N.a.createElement(B.a,{key:n,onPress:function(){return r.hotAreaonPressBtn(e,n)},activeOpacity:1,style:{width:C()(l)?0:l,height:C()(s)?0:s}}),r.renderStamp(e,n,l,s)):null}))})),w()(p()(r),"toUse",(function(e,t){if(r.canClick()){var n,i=!1,a=r.state.width;try{var l=o()(e.couponList,1)[0];E.a.isApp()?n="vmall://com.vmall.client/product/coupon?couponBatchCode=".concat(l.batchCode):Object(H.F)()?n="/packageUserCenter/pages/couponGoods/couponGoods?batchcode="+l.batchCode:"web"===W.a.OS&&(E.a.isPc(a)?(n="".concat(Y.a.webDomain,"product/coupon/queryPrdForCoupon"),i=!0,r.eventTracingReportByClick(e,t,void 0,{dataCode:l.batchCode,gotoURL:n}),r.postForm({url:n,batchCode:l.batchCode,CsrfToken:j.a.get("CSRF-TOKEN")})):n="".concat(Y.a.wapDomain,"member/couponPrd/list?batchCode=").concat(l.batchCode)),i||(r.eventTracingReportByClick(e,t,void 0,{dataCode:l.batchCode,gotoURL:n}),Object(H.A)(n))}catch(e){}}})),w()(p()(r),"renderStamp",(function(e,t,n,o){var i=r.state.receiveStates,a=e.hotAreaType,l=e.couponType;if("coupon"===a&&"single"===l&&i[t])return N.a.createElement(me,{localSource:"3"===r.prefixPm&&de.a.hot_ticket_use_large||de.a.hot_ticket_use,hotAreaWidth:n,hotAreaHeight:o,item:e,index:t,onPress:r.toUse});return null}));var i=Object(H.x)(r.props.pageType).screenWidth;return r.state={width:i,receiveStates:[],isLogin:!1,modalVisible:!1,iconType:"failIcon",showIcon:"large"===Object(L.a)(i),modealTitle:Object(R.b)("couponCollection"),modealContent:Object(R.b)("collectionSucceeded"),collectionStatus:!1,receiveCoupons:null,modalId:"modal-hotarea-".concat(Object(H.J)(6))},"large"===Object(L.a)(i)?r.prefixPm="3":"web"===W.a.OS?r.prefixPm="2":Object(H.F)()?r.prefixPm="4":E.a.isApp()&&(r.prefixPm="1"),r.closeModal=r.closeModal.bind(p()(r)),r.confirmModal=r.confirmModal.bind(p()(r)),r.failButtonList=[{onPress:r.closeModal,text:Object(R.b)("common_ok")}],r.successButtonList=[{onPress:r.closeModal,text:Object(R.b)("common_cancel")},{onPress:r.confirmModal,text:Object(R.b)("lookUp")}],r}return u()(n,[{key:"componentDidMount",value:function(){var e=this;E.a.isApp()&&(_.a.invokeVmallNative("common","getIsLogin",{}).then((function(t){if(t){var n=!!t.isLogin;n!==e.state.isLogin&&e.setState({isLogin:n})}})),this.eventListener=M.a.addListener("NativeCallAction",(function(t){var n,r;t&&("login"===t.service&&"isLogin"===t.action&&e.state.isLogin!==(null===(n=t.param)||void 0===n?void 0:n.isLogin)&&e.setState({isLogin:null===(r=t.param)||void 0===r?void 0:r.isLogin}))})))}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.closeTimer&&clearTimeout(this.closeTimer),this.confirmTimer&&clearTimeout(this.confirmTimer)}},{key:"closeModal",value:function(){var e=this;this.canClick()&&(("web"===W.a.OS||Object(H.F)())&&(this.closeTimer&&clearTimeout(this.closeTimer),this.closeTimer=setTimeout((function(){e.props.pageType!==V.g.smartlife&&(document.documentElement.style.overflowY="scroll");var t=document.getElementById(e.state.modalId);k()(t)||document.body.removeChild(t)}),100)),this.handleCloseModal())}},{key:"confirmModal",value:function(){if(this.canClick()){var e,t=this.state,n=t.width,r=t.receiveCoupons,o=t.modalId;if(E.a.isApp())r&&this.eventTracingReportByClick(r.item,r.index,void 0,{gotoURL:"vmall://com.vmall.client/product/couponlist"}),E.a.isAndroid()?(Object(H.A)("vmall://com.vmall.client/product/couponlist"),this.handleCloseModal()):(this.confirmTimer&&clearTimeout(this.confirmTimer),this.confirmTimer=setTimeout((function(){Object(H.A)("vmall://com.vmall.client/product/couponlist")}),550),this.handleCloseModal());else this.handleCloseModal(),("web"===W.a.OS||Object(H.F)())&&(this.closeTimer&&clearTimeout(this.closeTimer),this.closeTimer=setTimeout((function(){document.documentElement.style.overflowY="scroll";var e=document.getElementById(o);k()(e)||document.body.removeChild(e)}),100)),e=E.a.isPc(n)?"".concat(Y.a.webDomain,"member/coupon"):Object(H.F)()?"/packageUserCenter/pages/couponList/couponList":"".concat(Y.a.wapDomain,"member/coupon"),r&&this.eventTracingReportByClick(r.item,r.index,void 0,{gotoURL:e}),Object(H.A)(e)}}},{key:"hotAreaonPressBtn",value:function(e,t){var n=this;if(this.canClick()){var r=this.props.pageType,o=e.newPageOpen,i=e.hotAreaType,a=e.couponType,l=e.couponList;if("coupon"===i){if(r===V.g.smartlife)return;if(null!=l&&l.length&&this._getLoginStatus())if("single"===a){var s=l[0],c=s.activityCode,u=s.batchCode;Object(z.e)(c,u).then((function(r){if(null!=r&&r.success){n.eventTracingReportByClick(e,t,void 0,{dataCode:u});var o=n.state.receiveStates;o[t]=r.state,n.setState({receiveStates:o})}else n.handleCollectionFailed(e,t,r)})).catch((function(r){var o=(r||{}).data;n.handleCollectionFailed(e,t,o)}))}else"package"===a&&this.batchReceiveCoupons({listReceiveCoupon:l.map((function(e){return{activityCode:e.activityCode,batchCode:e.batchCode}}))}).then((function(r){null!=r&&r.success?(n.eventTracingReportByClick(e,t),n.setState({collectionStatus:!0,modalVisible:!0,modealContent:Object(R.b)("collectionSucceeded"),receiveCoupons:{item:e,index:t},iconType:"successIcon"})):n.handleBatchCollectionFailed(e,t,r)})).catch((function(r){var o=(r||{}).data;n.handleBatchCollectionFailed(e,t,o)}))}else{var d=this.judgeScreenType(e);this.eventTracingReportByClick(e,t,{actionName:"PIC热区"},{dateType:"",clickType:"",dataCode:"",gotoURL:d}),"Y"==o?Object(H.A)(d,!0):Object(H.A)(d,!1)}}}},{key:"postForm",value:function(e){var t=document.createElement("form");for(var n in t.action=e.url,t.method="post",t.target="_blank",t.style.display="none",e){var r=document.createElement("input");r.name=n,r.value=e[n],t.appendChild(r)}document.body.appendChild(t),t.submit(),document.body.removeChild(t)}},{key:"UNSAFE_componentWillMount",value:function(){Object(H.F)()||(this._panResponder=F.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=F.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}}))}},{key:"render",value:function(){var e=this.props,t=e.newHotArea,n=e.imgSize,r=e.cardHotArea,o=e.scene,i=e.gotoPageId,a=e.comId,l=e.dataCode,s=e.pageType,c=e.layoutType,u=e.pageId,d=e.currentPicture,p=e.isShowCardItem,f=e.pageCatCode,h=e.pageCatName,g=e.resSiteCode,m=e.resSiteName,y=e.index_name,v=this.state,b=v.modalVisible,w=v.iconType,S=v.showIcon,C=v.modealTitle,O=v.modealContent,P=v.collectionStatus,T=v.modalId,x={gotoPageId:i,comId:a,dataCode:l},I=!1;return null!=t&&t.length&&(I=null==t?void 0:t.some((function(e){var t=e.hotAreaType,n=e.couponList;return"coupon"===t&&(null==n?void 0:n.length)}))),N.a.createElement(N.a.Fragment,null,r&&"scenarized"==o?N.a.createElement(ue,{isShowCardItem:p,currentPicture:d,cardHotArea:r,imgSize:n,newObj:x,pageId:u,index_name:y,pageCatCode:f,pageCatName:h,resSiteCode:g,resSiteName:m}):("OneColumnLayout"===c||"TwoColumnLayout"===c)&&N.a.createElement(N.a.Fragment,null,this.hotArea(t,n),s!==V.g.smartlife&&I?N.a.createElement(pe.a,{title:C,content:O,modalVisible:b,buttonList:P?this.successButtonList:this.failButtonList,pageType:s,onCancel:this.handleCloseModal,iconType:w,showIcon:S,modalId:T}):null))}}]),n}(D.Component)},function(e,t,n){"use strict";var r=n(35),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(65),w=n.n(b),S=n(39),C=n.n(S),O=n(58),P=n.n(O),T=n(0),x=n.n(T),I=n(43),k=n(660),E=n(57),j=n(122),R=n(53);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=E.a.create({bannerBody:_({display:"flex",flexDirection:"row"},j.a.S42)}),N=E.a.create({itemBody:{position:"relative",display:"flex",paddingTop:8,height:496,paddingBottom:8,backgroundColor:"rgba(255,255,255,1)"},itemBodyBg:{position:"relative",display:"flex",paddingTop:8,height:496,paddingBottom:8,backgroundColor:"rgba(255,255,255,0.9)"},itemChild:{flex:1,width:200,display:"flex",flexDirection:"row",justifyContent:"center"},item:{flex:8,width:200,display:"flex",flexDirection:"row",paddingLeft:24,justifyContent:"center",fontFamily:R.a.fontFamilyBase},itemText:_(_({},j.a.C13),j.a.T7),itemTextCls:{flexGrow:1,display:"flex",alignItems:"center"},itemGt:{flex:2,right:10,width:12,justifyContent:"center",alignItems:"flex-end",marginRight:3},itemGtBgHove:_(_({},j.a.C33),{},{backgroundColor:"#ffffff"}),itemGtBgOut:{},textBgHove:_(_({},j.a.T7),j.a.C11),textGtBgOut:_(_({},j.a.T7),j.a.C13)}),W=E.a.create({rightContent:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"baseline",alignContent:"flex-start",height:496,backgroundColor:"#ffffff"},rightContentHide:{display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"baseline",alignContent:"flex-start",height:496,backgroundColor:"#ffffff",overflow:"hidden"},rightBoy:{width:214,height:72,display:"flex",alignItems:"center",flexDirection:"row",marginBottom:23.2,marginRight:16},rightText:_(_({width:138,textAlign:"auto",fontFamily:R.a.fontFamilyBase,marginLeft:8},j.a.T7),j.a.C13),rightImage:{width:52,height:52,marginLeft:8},hoverText:_(_({},j.a.C18),j.a.T7),hoverBackgroun:{backgroundColor:"#FFFFFF"},childBtn:{position:"relative",width:136,height:44,marginLeft:14,marginTop:13},childImage:{height:44,width:136},childText:_(_(_({},j.a.T5),j.a.C15),{},{fontFamily:R.a.fontFamilyBase,lineHeight:44,width:77,textAlign:"left",marginLeft:56,position:"absolute",top:0})}),A=n(126),B=n(152),M=n(119),F=n(20),H=n(3),z=n(40),U=n(30),V=n(21),G=n(25),Y=n(10),J={clickItem:function(e,t,n,r){var o=e.dataSourceType,i=o.dataSourceCode,a=(o.dataSourceType,this.props),l=a.pageCatCode,s=a.pageCatName,c=a.resSiteCode,u=a.resSiteName;return{data:{actionCode:Y.f.PC+Y.d.NAVIGATION,actionName:r?"轮播图-分类组件-点击":"导航栏-全部分类组件-点击",eventType:Y.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{comId:"PC分类栏",gotoPageId:t||"",gotoURL:n||"",tabName:e.categoryName,tabindex:t.toString(),dataCode:i,dateType:Y.c.TEXT_LINK,index:t.toString(),clickType:Y.b.CLICK_NAVIGATION},pageCatCode:l,pageCatName:s,resSiteCode:c,resSiteName:u}}}},K=n(22);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Q=null,$=function(e){p()(n,e);var t=q(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"isPad",(function(){return"medium"===Object(z.a)(r.props.width)||"large"===Object(z.a)(r.props.width)&&r.props.width<M.a.safety_area})),r.state={isHover:!1,bannerHight:"",listener:"",isShow:!1,bool:!1,currentIndex:0},r}return s()(n,[{key:"componentDidMount",value:function(){}},{key:"onHoverChange",value:function(e){this.props.itemClickData(e,!0)}},{key:"_onPressButton",value:function(e,t){var n=this;Q=setTimeout((function(){var r=t.actionUrlWeb,o=t.newTabFlag,i=n.props,a=i.clickItem,l=i.actionName;a(t,e,r,l),Object(K.b)("",!0),"1"===o&&r?Object(H.A)(r,!0):Object(H.A)(r,!1)}),150)}},{key:"_onPressButtonPad",value:function(e){var t=this,n=this.state,r=n.isShow,o=n.currentIndex;e===o?this.setState({isShow:!r},(function(){t.props.itemClickData(e,t.state.isShow)})):this.setState({isShow:!0},(function(){t.props.itemClickData(e,t.state.isShow)})),this.props.itemClickData(e),this.setState({currentIndex:e})}},{key:"componentWillUnmount",value:function(){Q&&clearTimeout(Q)}},{key:"render",value:function(){var e=this,t=(this.props.data||{}).subCategoryList,n=void 0===t?[]:t;return x.a.createElement(I.a,{style:U.a.clickGb?N.itemBody:N.itemBodyBg},n.slice(0,14).map((function(t,n){return x.a.createElement(I.a,{style:N.itemChild},x.a.createElement(k.a,{key:n,onHoverIn:function(){return e.onHoverChange(n)}},(function(r){return x.a.createElement(I.a,{style:[{width:"100%",flexDirection:"row"},r?N.itemGtBgHove:N.itemGtBgOut]},x.a.createElement(A.a,{activeOpacity:1,style:[N.item,r?N.itemGtBgHove:N.itemGtBgOut],onPress:function(){return e._onPressButton(n,t)}},x.a.createElement(B.a,{style:[N.itemTextCls,r?N.textBgHove:N.textGtBgOut]},t.categoryName)),x.a.createElement(A.a,{style:[N.itemGt,N.textGtBgOut],onPress:function(){return e._onPressButtonPad(n)}},x.a.createElement(F.a,{iconName:"Webarrow",width:"12",height:"12"})))})))})))}}]),n}(T.Component),X=Object(V.a)(J)(Object(G.a)($)),Z=n(92),ee=n.n(Z),te=n(52),ne=n.n(te),re=n(157),oe=n(19);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le={clickItem:function(e,t,n,r,o,i){var a=null,l=this.props,s=l.pageCatCode,c=l.pageCatName,u=l.resSiteCode,d=l.resSiteName;return"prod"!==t.dataType&&"tag"!==t.dataType||(a={actionCode:Y.f.PC+Y.d.NAVIGATION,actionName:r?"轮播图-分类组件-点击":"导航栏-全部分类组件-点击",eventType:Y.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{comId:"PC分类栏",gotoPageId:e||"",gotoURL:n,tabName:i,tabindex:o,dataCode:t.skuCode||"",dateType:Y.c.SKU,index:e,clickType:Y.b.CLICK_NAVIGATION}}),"link"===t.dataType&&(a={actionCode:Y.f.PC+Y.d.NAVIGATION,actionName:"二级导航文字连接",eventType:Y.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{comId:"PC分类栏",gotoPageId:e||"",gotoURL:n,tabName:i,tabindex:o,dataCode:t.skuCode||"",index:e,clickType:Y.b.CLICK_NAVIGATION,dateType:Y.c.TEXT_LINK}}),{data:a=ae(ae({},a),{},{pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d})}}},se=n(11);function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ue=function(e){p()(n,e);var t=ce(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={dataList:" "},r}return s()(n,[{key:"componentDidMount",value:function(){}},{key:"_onPressButton",value:function(e,t){var n=this.props,r=n.clickItem,o=n.categoryName,i=n.actionName,a=n.indexLeft;t>15&&(t=15);var l=w()(e,"linkUrlWeb");r(t,e,l,i,a,o),"1"===e.newTabFlag&&l?Object(H.A)(l,!0):Object(H.A)(l,!1)}},{key:"_onPressItemText",value:function(e,t){var n=this;setTimeout((function(){var r=e.actionUrlWeb,o=e.newTabFlag,i=n.props,a=i.clickItem,l=i.categoryName,s=i.actionName,c=i.indexLeft;if("tag"===e.dataType){var u=e.prdName,d=JSON.parse(e.tagCode),p=[],f=[];ne()(d,(function(e,t){p.push(e.cnName),f.push(e.code)}));var h=encodeURIComponent(encodeURIComponent(l)),g=encodeURIComponent(encodeURIComponent(u)),m="".concat(se.a.webDomain,"portal/category/?targetRoute=CategoryList&tagid=").concat(f,"&categoryName=").concat(h,"&prdName=").concat(g,"&searchResultPageProdShow=true&searchHistoryShow=true");a(t,e,m,s,c,l),Object(K.b)("",!0),Object(H.A)(m)}else a(t,e,r,s,c,l),"1"===o&&r?Object(H.A)(r,!0):Object(H.A)(r,!1)}),150)}},{key:"render",value:function(){var e=this,t=this.props,n=t.newDataSource,r=t.isShow,o=P()(n,(function(e){return"prod"===e.dataType||"tag"===e.dataType}))||[],i=P()(n,(function(e){return"link"===e.dataType}))||[],a=C()(o)+C()(i),l=a?16:0,s=a?16:0,c=a>10?706:a>5?470.6:0===a?0:235.3;return x.a.createElement(I.a,{style:[r?W.rightContentHide:W.rightContent,{paddingLeft:l,paddingTop:20,paddingRight:s,paddingBottom:-4,width:c,overflow:"hidden"}]},null==o?void 0:o.slice(0,15).map((function(t,n){return x.a.createElement(k.a,{key:n},(function(r){return x.a.createElement(A.a,{activeOpacity:1,onPress:function(){return e._onPressItemText(t,n)},style:[W.rightBoy,r?W.hoverBackgroun:W.rightBoy]},x.a.createElement(re.a,{style:W.rightImage,source:{uri:t.uri}}),x.a.createElement(B.a,{numberOfLines:2,style:[W.rightText,r?W.hoverText:W.rightText]},t.prdName))}))})),C()(i)>0&&x.a.createElement(A.a,{activeOpacity:1,onPress:function(){return e._onPressButton(ee()(i),a)},style:W.childBtn},x.a.createElement(re.a,{style:W.childImage,source:oe.a.chaImage}),x.a.createElement(B.a,{numberOfLines:1,style:W.childText},i[0].linkName)))}}]),n}(T.Component),de=Object(V.a)(le)(Object(G.a)(ue));function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var fe=function(e){p()(n,e);var t=pe(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"_itemClickDate",(function(e,t){var n=r.props.category;r.setState({allCateGoryStatus:!1,isShow:t});var o=n.subCategoryList;o&&o.map((function(t,n){e===n&&r.setState({indexLeft:e,childWebUrl:t,childdata:r.handleLinkData(t.productList),categoryName:t.categoryName})}))})),v()(u()(r),"handleLinkData",(function(e){var t,n;return t=P()(e,(function(e){return e.customImage}))||[],n=P()(e,(function(e){return!e.customImage}))||[],C()(e)<15?[].concat(o()(t),o()(n)):e})),r.state={isShow:!1,clickCateGoryStatus:!1,allCateGoryStatus:!1,preCategoryList:!1,childdata:"",childWebUrl:"",customImage:null,categoryName:"",actionName:r.props.actionName||!1,indexLeft:0},r}return s()(n,[{key:"componentDidMount",value:function(){}},{key:"onHoverOutChange",value:function(){this.setState({isShow:!1,allCateGoryStatus:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.category,r=void 0===n?[]:n,o=t.width,i=t.pageCatCode,a=t.pageCatName,l=t.resSiteCode,s=t.resSiteName,c=this.state,u=c.isShow,d=c.childdata,p=c.childWebUrl,f=void 0===p?[]:p,h=c.allCateGoryStatus,g=c.customImage,m=void 0===g?"":g,y=c.categoryName,v=c.indexLeft,b=c.actionName,S=[];if(this.state.allCateGoryStatus&&C()(r)>0){var O=w()(r,"subCategoryList[0].productList");S=this.handleLinkData(O)}var P=d||S;return x.a.createElement(k.a,{onHoverOut:function(){return e.onHoverOutChange()}},x.a.createElement(I.a,{style:D.bannerBody},x.a.createElement(X,{data:r,dataUrl:f,itemClickData:this._itemClickDate,width:o,actionName:b,pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}),(u||h&&C()(P)>0)&&x.a.createElement(de,{newDataSource:P,isShow:u,dataUrl:f,indexLeft:v,customImage:m,categoryName:y,actionName:b,pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.clickCateGoryStatus;if(n!==t.clickCateGoryStatus)return{clickCateGoryStatus:n,allCateGoryStatus:n}}}]),n}(T.PureComponent);t.a=fe},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(54),C=n(49),O=n(37),P=n(43),T=n(126),x=n(87),I=n(40),k=n(119),E=n(48),j=n(102),R=n(185),L=n(227),_=n(21),D=n(228),N=n(25),W=n(22),A=n(229),B=n(181);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var F=[{title:"back_item",imgUrl:"",orderNum:9,actionUrl:"",actionUrlWap:"",actionUrlWeb:"",iconAttribute:"top"}],H=function(e){p()(n,e);var t=M(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"listener1",void 0),v()(u()(r),"listener2",void 0),v()(u()(r),"initWidth",(function(e){r.state.width!==e&&r.setState({width:e,isShowTop:!1})})),v()(u()(r),"scrollyChange",(function(e,t,n,o){t==r.props.pageType&&n===r.props.randomId&&r.props.pageCard===o&&((null==e?void 0:e.nativeEvent.contentOffset.y)>=S.a.get("window").height?r.setState({isShowTop:!0},(function(){r.renderBuoysList()})):r.setState({isShowTop:!1},(function(){r.renderBuoysList()})))})),v()(u()(r),"renderBuoysList",(function(){r.state.isShowTop?r.setState({fixedList:[].concat(F)}):0===r.state.fixedList.length||r.setState({fixedList:[]})})),v()(u()(r),"isPad",(function(){return"medium"===Object(I.a)(r.props.width)||"large"===Object(I.a)(r.props.width)&&r.props.width<k.a.safety_area})),v()(u()(r),"isPadPc",(function(){return"large"===Object(I.a)(r.props.width)&&r.props.width<k.a.safety_area})),v()(u()(r),"float_main_fixed_noPc",(function(){return{width:38,height:38,backgroundColor:"#fff",borderRadius:19,right:this.isPad()?24:16}})),v()(u()(r),"onPressTap",(function(){var e=r.props,t=e.onBackTop,n=e.clickItem,o=e.pageType;r.setState({isShowTop:!1},(function(){t&&t(),n&&n("","top",9,"","2"),Object(W.b)("",!0),C.a.emit("isTopTap",{e:"",pageType:o})}))})),r.state={isShowTop:!1,absPosition:"absolute",fixedList:[],showGifIcon:!0,width:r.props.width},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;this.listener1=C.a.addListener("onScrollEvent",this.scrollyChange),this.renderBuoysList(),this.listener2=C.a.addListener("showTop",(function(t){t!==e.state.isShowTop&&e.setState({isShowTop:!0},(function(){e.renderBuoysList()}))})),"android"===O.a.OS&&(this.listener3=C.a.addListener("swiperStop",(function(t){t===e.props.pageId&&e.setState({showGifIcon:!1})})),this.listener4=C.a.addListener("swiperStart",(function(t){t===e.props.pageId&&e.setState({showGifIcon:!0})})))}},{key:"componentWillUnmount",value:function(){this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.listener3&&this.listener3.remove(),this.listener4&&this.listener4.remove(),this.setState({isShowTop:!1})}},{key:"renderDragBuoy",value:function(e){var t=this,n=this.props,r=n.width,i=n.clickItem,a=n.children,l=n.pageType,s=n.bottonNav,c=n.containerHeight,u=n.tabHeight,d=[],p=a;return null==p||p.forEach((function(e){if(e.cardType&&"buoys"===e.cardType&&"0"===JSON.parse(e.configInfo).isFixed){var t=JSON.parse(e.configInfo);t.iconTexts.forEach((function(n){n.displayPosition=t.displayPosition,n.slideUp=t.slideUp,n.card=e,d.push(n)}))}})),d.map((function(e,n){return w.a.createElement(P.a,{key:n},w.a.createElement(B.a,o()({index:n,onReportDataDragBuoy:i,width:r,bottonNav:s,containerHeight:c,height:S.a.get("window").height,isWap:E.a.isWap(r),isApp:E.a.isApp(),onReportDataFixedBuoy:i},e,{pageType:l,isImmersiveHeader:t.props.isImmersiveHeader,tabHeight:u||0})))}))}},{key:"renderFixedBuoy",value:function(e){var t=this.props,n=t.width,r=t.clickItem,i=t.messageNum,a=t.cartNum;return this.state.fixedList.map((function(e,t){return w.a.createElement(P.a,{key:t},w.a.createElement(A.a,o()({onReportDataFixedBuoy:r,messageNum:i,cartNum:a},e,{isPc:E.a.isPc(n),isWap:E.a.isWap(n)})))}))}},{key:"render",value:function(){var e=this,t=this.props.fixedButton,n=this.state,r=n.isShowTop,o=n.absPosition;return w.a.createElement(j.b,{themeStyles:L.a},(function(n,i,a){return e.initWidth(a),t?w.a.createElement(w.a.Fragment,null,r?w.a.createElement(T.a,{onPress:e.onPressTap,style:{flex:1},activeOpacity:1},w.a.createElement(P.a,{style:[n.box_shadow,e.float_main_fixed_noPc(),{position:o,right:e.isPad()?8:0,top:0}]},e.renderFixedBuoy(n))):null):e.state.showGifIcon?w.a.createElement(x.a.View,{style:n.float_main,pointerEvents:"box-none"},e.renderDragBuoy(n)):w.a.createElement(w.a.Fragment,null)}))}}]),n}(b.Component);v()(H,"defaultProps",{data:[]}),t.a=Object(R.a)(Object(_.a)(D.a)(Object(N.a)(H)))},,,function(e,t,n){"use strict";var r,o,i,a,l,s=n(15),c=n.n(s),u=n(17),d=n.n(u),p=n(26),f=n.n(p),h=n(5),g=n.n(h),m=n(6),y=n.n(m),v=n(2),b=n.n(v),w=n(8),S=n.n(w),C=n(7),O=n.n(C),P=n(4),T=n.n(P),x=n(1),I=n.n(x),k=n(69),E=n.n(k),j=n(34),R=n.n(j),L=n(0),_=n.n(L),D=n(37),N=n(145),W=n(43),A=n(152),B=n(157),M=n(953),F=n(446),H=n(40),z=n(432),U=n(122),V=n(48),G=n(102),Y=n(1735),J=n(185),K=n(3),q=n(57);!function(e){e[e.none=1]="none",e[e.topRight=2]="topRight",e[e.bottom=3]="bottom",e[e.up=4]="up",e[e.current=5]="current"}(r||(r={})),function(e){e[e.default=1]="default",e[e.native=2]="native",e[e.other=3]="other",e[e.h5=4]="h5"}(o||(o={})),function(e){e[e.DiscountRate=1]="DiscountRate",e[e.DecreaseAmount=2]="DecreaseAmount",e[e.FreeShipping=3]="FreeShipping",e[e.RewardCoupons=4]="RewardCoupons",e[e.BonusBonusEnvelope=5]="BonusBonusEnvelope",e[e.PresentingGifts=6]="PresentingGifts",e[e.NumberOfRewardedPetals=7]="NumberOfRewardedPetals",e[e.TradeIn=8]="TradeIn"}(i||(i={})),function(e){e[e.textShow=1]="textShow",e[e.imgShow=2]="imgShow"}(a||(a={})),function(e){e.oneByOne="OneColumnLayout",e.oneByThree="ThreeColumnLayout"}(l||(l={}));var Q=n(53);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z,ee,te=n(21),ne=n(10),re=n(27),oe=n.n(re),ie=n(18),ae=n.n(ie),le=(n(60),n(16)),se=new(Z=function(){function e(){g()(this,e),oe()(this,"judPlatform",ee,this),I()(this,"ISMini",!1),I()(this,"pageId","")}return y()(e,[{key:"onUpdate",value:function(e){this.judPlatform=e.judPlatform,this.ISMini=e.ISMini,this.pageId=e.pageId}}]),e}(),ee=ae()(Z.prototype,"judPlatform",[le.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ae()(Z.prototype,"onUpdate",[le.d],Object.getOwnPropertyDescriptor(Z.prototype,"onUpdate"),Z.prototype),Z);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de={exposeItem_product:function(e){var t=this.props,n=t.resSiteCode,r=t.resSiteName,o=t.pageCatCode,i=t.pageCatName,a={array:e.map((function(e){var t,n,r;return{row:null==e||null===(t=e.row)||void 0===t?void 0:t.toString(),column:null==e||null===(n=e.column)||void 0===n?void 0:n.toString(),index:null==e||null===(r=e.index)||void 0===r?void 0:r.toString(),ruleId:"",sId:"",dataCode:e.sbomCode,dataType:ne.c.SKU}}))};return{isBatch:!0,commonData:{actionCode:"1"===se.judPlatform?ne.d.ORDERPROMOTIONACTIVITYAPP:"2"===se.judPlatform?ne.d.ORDERPROMOTIONACTIVITYWAP:ne.d.ORDERPROMOTIONACTIVITYPC,actionName:"订单促销活动组件曝光",eventType:ne.e.EVENT_TYPE_EXPOSURE,pageId:se.ISMini?"":se.pageId,resSiteCode:n,resSiteName:r,pageCatCode:o,pageCatName:i},content:a.array}},clickItem:function(e,t){var n,r,o,i=this.props,a=i.cardId,l=i.ISMini,s=i.pageId,c=i.resSiteCode,u=i.resSiteName,d=i.pageCatCode,p=i.pageCatName,f={},h={comId:null==a?void 0:a.toString(),ruleId:"",sId:"",row:null==e||null===(n=e.row)||void 0===n?void 0:n.toString(),column:null==e||null===(r=e.column)||void 0===r?void 0:r.toString(),index:null==e||null===(o=e.index)||void 0===o?void 0:o.toString(),dataCode:e.sbomCode,dataType:ne.c.SKU};return"更多"===t?f={comId:null==a?void 0:a.toString(),gotoPageId:"",gotoURL:e.moreUrl,clickType:ne.b.CLICK_MORE}:"商品"===t?f=ue(ue({},h),{},{gotoPageId:"",gotoURL:e.gotoURL,clickType:ne.b.CLICK_GOODS_CONTENT}):"加购物车"===t&&(f=ue(ue({},h),{},{clickType:ne.b.CLICK_CART_ICON})),{data:{actionCode:"1"===se.judPlatform?ne.d.ORDERPROMOTIONACTIVITYAPP:"2"===se.judPlatform?ne.d.ORDERPROMOTIONACTIVITYWAP:ne.d.ORDERPROMOTIONACTIVITYPC,actionName:"订单促销活动组件点击“".concat(t,"”"),eventType:ne.e.EVENT_TYPE_CLICK,content:f,pageId:l?"":s,resSiteCode:c,resSiteName:u,pageCatCode:d,pageCatName:p}}}},pe=n(25),fe=n(11),he=n(20),ge=n(256),me=n.n(ge),ye=n(49),ve=n(24),be=n(23),we=n(45),Se=n.n(we),Ce=n(101),Oe=n(606),Pe=n(22);function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}var xe,Ie=function(e){S()(n,e);var t=Te(n);function n(e){var r;return g()(this,n),r=t.call(this,e),I()(b()(r),"wapTimer",null),I()(b()(r),"oneByOneFontSizeArray",[10,8,6,4]),I()(b()(r),"oneByThreeFontSizeArray",[4,2]),I()(b()(r),"price10_width",0),I()(b()(r),"price8_width",0),I()(b()(r),"price6_width",0),I()(b()(r),"price4_width",0),I()(b()(r),"price2_width",0),I()(b()(r),"priceMaxWidth",0),I()(b()(r),"newGotoURL",""),I()(b()(r),"utilGotoPage",E()(f()(d.a.mark((function e(){var t,n,o,i,a,l,s,c,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props,n=t.clickItem,o=t.product,i={gotoURL:r.newGotoURL,row:r.props.row,column:r.props.col,index:r.props.index+1,sbomCode:r.props.product.sbomCode},Object(K.F)()?Object(Pe.a)({actionCode:"410000101",actionName:"订单促销活动组件点击商品",eventType:ne.e.EVENT_TYPE_CLICK,pageId:r.props.ISMini?"":r.props.pageId,content:{comId:null===(a=r.props.cardId)||void 0===a?void 0:a.toString(),ruleId:"",sId:"",row:null===(l=r.props)||void 0===l||null===(s=l.row)||void 0===s?void 0:s.toString(),column:null===(c=r.props)||void 0===c||null===(u=c.col)||void 0===u?void 0:u.toString(),index:(r.props.index+1).toString(),dataCode:r.props.product.sbomCode,dataType:ne.c.SKU,gotoPageId:"",gotoURL:r.newGotoURL,clickType:ne.b.CLICK_GOODS_CONTENT}}):n(i,"商品"),r.wapTimer&&clearTimeout(r.wapTimer),r.wapTimer=setTimeout((function(){Object(K.B)(o.productId,o.sbomCode)}),150);case 5:case"end":return e.stop()}}),e)}))),200)),I()(b()(r),"_addToCart",E()((function(){if(!r.state.isLoading){r.setState({isLoading:!0});var e,t,n,o,i,a,l=r.props.clickItem,s={row:r.props.row,column:r.props.col,index:r.props.index+1,sbomCode:r.props.product.sbomCode};if(Object(K.F)())Object(Pe.a)({actionCode:"410000101",actionName:"订单促销活动组件点击加购物车",eventType:ne.e.EVENT_TYPE_CLICK,pageId:r.props.ISMini?"":r.props.pageId,content:{comId:null===(e=r.props.cardId)||void 0===e?void 0:e.toString(),ruleId:"",sId:"",row:null===(t=r.props)||void 0===t||null===(n=t.row)||void 0===n?void 0:n.toString(),column:null===(o=r.props)||void 0===o||null===(i=o.col)||void 0===i?void 0:i.toString(),index:null===(a=r.props.index+1)||void 0===a?void 0:a.toString(),dataCode:r.props.product.sbomCode,dataType:ne.c.SKU,clickType:ne.b.CLICK_CART_ICON}});else l(s,"加购物车");"web"===D.a.OS?Object(be.f)().then((function(e){r._goToAddCart(e)})).catch((function(e){r._goToAddCart(e)})):r._goToAddCart(null)}}),200)),I()(b()(r),"_goToAddCart",(function(e){if(e&&e.data||V.a.isApp()||Object(K.F)()){var t,n=null==e||null===(t=e.data)||void 0===t?void 0:t.replace(/^[\s\S]*csrftoken\s=\s"([a-zA-Z0-9-]+)";[\s\S]*$/g,"$1");Object(be.a)({itemCode:r.props.product.sbomCode,itemType:"S0",qty:1,CsfrToken:n}).then((function(e){e&&e.success?(ye.a.emit("showToast",{text:Object(z.b)("add_to_cart_success"),pageType:r.props.pageType,randomId:r.props.randomId}),Ce.a.getCartNum("1001",se.judPlatform)):e&&e.msg?ye.a.emit("showToast",{text:e.msg,pageType:r.props.pageType,randomId:r.props.randomId}):e&&e.info?ye.a.emit("showToast",{text:e.info,pageType:r.props.pageType,randomId:r.props.randomId}):ye.a.emit("showToast",{text:Object(z.b)("systemBusy"),pageType:r.props.pageType,randomId:r.props.randomId}),r.setState({isLoading:!1})})).catch((function(){ye.a.emit("showToast",{text:Object(z.b)("systemBusy"),pageType:r.props.pageType,randomId:r.props.randomId}),r.setState({isLoading:!1})}))}else ye.a.emit("showToast",{text:Object(z.b)("systemBusy"),pageType:r.props.pageType,randomId:r.props.randomId}),r.setState({isLoading:!1})})),I()(b()(r),"refItem",(function(e){"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),I()(b()(r),"judgeFontSizeMp",(function(e){var t=wx.createSelectorQuery(),n=["#orderDiscount_price_".concat(r.props.index,"_").concat(r.props.randomMpId)];e.forEach((function(e){n.push("#orderDiscount_price_calcule_".concat(r.props.index,"_").concat(r.props.randomMpId,"_T").concat(e))})),t.selectAll(n.join(",")).fields({size:!0}).exec((function(t){if(t&&t.length>0){for(var n=me()(t[0]),o=n[0],i=n.slice(1),a=r.props.layoutType===l.oneByOne?4:2,s=0;s<i.length;s++)if(i[s].width<=o.width){a=e[s];break}r.setState({fontSize:a})}}))})),I()(b()(r),"rowGutter",(function(){return r.props.isPad&&r.props.isPadHorizonta?12:8})),I()(b()(r),"imgUrl",(function(){return r.props.product.webpPhotoName&&V.a.isApp()?r.props.product.webpPhotoPath:r.props.product.photoPath})),I()(b()(r),"onLayout",(function(e){r.props.layoutType===l.oneByThree&&(r.props.setHeight(e.nativeEvent.layout.height),r.setState({height:e.nativeEvent.layout.height}))})),I()(b()(r),"getImgaeAreaWidth",(function(){return r.props.layoutType===l.oneByOne?r.props.isPad?r.props.cardWidth-188>140?108:r.props.cardWidth-220:108:r.props.cardWidth-24})),I()(b()(r),"onLayoutHeight",(function(e){r.props.setHeight(e.nativeEvent.layout.height),r.setState({height:e.nativeEvent.layout.height})})),I()(b()(r),"priceMarginRight",(function(){return{marginRight:!r.props.bottonShow||1!==r.props.product.buttonMode&&10!==r.props.product.buttonMode?0:r.props.layoutType===l.oneByOne?12:8}})),I()(b()(r),"onPriceMaxLayout",(function(e){r.priceMaxWidth=e.nativeEvent.layout.width,r.upDateFontSize()})),I()(b()(r),"onPriceLayout",(function(e,t){r["price".concat(t,"_width")]=e.nativeEvent.layout.width,r.upDateFontSize()})),I()(b()(r),"upDateFontSize",(function(){if(!Object(K.F)()){var e=r.props.layoutType===l.oneByOne?4:2;if(r.props.layoutType===l.oneByOne)if(r.price10_width>0&&r.price8_width>0&&r.price6_width>0&&r.price4_width>0&&r.priceMaxWidth>0){for(var t=0;t<r.oneByOneFontSizeArray.length;t++)if(r["price".concat(r.oneByOneFontSizeArray[t],"_width")]<=r.priceMaxWidth){e=r.oneByOneFontSizeArray[t];break}r.setState({fontSize:e,fontSizeComplete:!0})}else r.setState({fontSize:4,fontSizeComplete:!0});else if(r.props.layoutType===l.oneByThree)if(r.price4_width>0&&r.price2_width>0&&r.priceMaxWidth>0){for(var n=0;n<r.oneByThreeFontSizeArray.length;n++)if(r["price".concat(r.oneByThreeFontSizeArray[n],"_width")]<=r.priceMaxWidth){e=r.oneByThreeFontSizeArray[n];break}r.setState({fontSize:e,fontSizeComplete:!0})}else r.setState({fontSize:10,fontSizeComplete:!0})}})),r.state={priceMaxWidth:0,priceWidth:0,oldPriceWidth:0,isLoading:!1,fontSize:r.props.layoutType===l.oneByOne?10:4,fontSizeComplete:!1,height:0},r}return y()(n,[{key:"componentDidMount",value:function(){var e=this;Object(K.F)()&&(this.props.layoutType===l.oneByThree?this.judgeFontSizeMp(this.oneByThreeFontSizeArray):this.props.layoutType===l.oneByOne&&this.judgeFontSizeMp(this.oneByOneFontSizeArray));var t=this.props.product;Object(K.p)(t.productId,t.sbomCode).then((function(t){e.newGotoURL=t}))}},{key:"componentWillUnmount",value:function(){this.wapTimer&&clearTimeout(this.wapTimer)}},{key:"render",value:function(){var e,t,n,r,o,i,a,s,u,d,p,f,h=this;return this.props.product.productId?this.props.layoutType===l.oneByThree?_.a.createElement(W.a,c()({style:this.props.style.card_1_3},Object(K.F)()?{}:{onLayout:this.onLayout},{ref:this.refItem}),_.a.createElement(M.a,{onPress:this.utilGotoPage},_.a.createElement(W.a,null,_.a.createElement(W.a,{style:this.props.style.card_1_3_imageWrap},_.a.createElement(W.a,{style:[this.props.style.card_1_3_imageArea,{width:this.getImgaeAreaWidth(),height:this.getImgaeAreaWidth()}]},_.a.createElement(ve.a,{imgUri:this.imgUrl(),imgStyle:[{width:this.getImgaeAreaWidth(),height:this.getImgaeAreaWidth()}]}))),this.props.activityTagShow&&this.props.tag?Object(K.F)()?_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:[this.props.style.card_1_3_tag_mp,{background:"linear-gradient(to right, ".concat(Object(K.f)(null===(e=U.a.C45.color[0])||void 0===e?void 0:e.toUpperCase(),1),", ").concat(Object(K.f)(null===(t=U.a.C45.color[1])||void 0===t?void 0:t.toUpperCase(),1),")")}]},this.props.tag):_.a.createElement(Se.a,{start:{x:0,y:0},end:{x:1,y:0},colors:this.props.styleChange?[Object(K.f)(null===(n=U.a.C45.color[0])||void 0===n?void 0:n.toUpperCase(),1),Object(K.f)(null===(r=U.a.C45.color[1])||void 0===r?void 0:r.toUpperCase(),1)]:[Object(K.f)(this.props.theme.C45.color[0].toUpperCase(),1),Object(K.f)(this.props.theme.C45.color[1].toUpperCase(),1)],style:this.props.style.card_1_3_tag},_.a.createElement(A.a,{style:this.props.style.card_tag_text},this.props.tag)):null,_.a.createElement(W.a,{style:this.props.style.card_1_3_name},this.props.productNameShow?_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:2,style:[this.props.style.card_1_3_name_text,V.a.isIOS()&&{lineHeight:15,height:36}]},this.props.product.sbomName):null))),_.a.createElement(W.a,{style:this.props.style.card_1_3_priceAndButton},_.a.createElement(M.a,{style:this.props.style.card_1_3_price,onPress:this.utilGotoPage},_.a.createElement(W.a,c()({style:[this.props.style.card_1_3_price,this.priceMarginRight(),Object(K.F)()||this.state.fontSizeComplete?{}:this.props.style.displayNone]},Object(K.F)()?{id:"orderDiscount_price_".concat(this.props.index,"_").concat(this.props.randomMpId)}:{onLayout:this.onPriceMaxLayout}),_.a.createElement(A.a,{style:[this.props.style.card_1_3_price_text,this.props.style["T".concat(this.state.fontSize)]],ellipsizeMode:"tail",numberOfLines:1},"¥".concat(this.props.product.originalPrice)))),!this.props.bottonShow||1!==this.props.product.buttonMode&&10!==this.props.product.buttonMode?null:_.a.createElement(M.a,{onPress:this._addToCart},_.a.createElement(W.a,{style:this.props.style.card_1_3_cart},Object(K.F)()?_.a.createElement(B.a,{source:{uri:Oe.a.cart},style:{width:"100%",height:"100%"}}):_.a.createElement(he.a,{normalCol:this.props.styleChange?U.a.C22.color:this.props.theme.C22.color,opacity:this.props.styleChange?U.a.C22.opacity:this.props.theme.C22.opacity,iconName:"cart",width:16,height:16})))),_.a.createElement(W.a,{style:this.props.style.card_1_3_priceAndButtonCalcule},this.oneByThreeFontSizeArray.map((function(e){return _.a.createElement(W.a,c()({style:h.props.style.card_1_3_price_calcule},Object(K.F)()?{id:"orderDiscount_price_calcule_".concat(h.props.index,"_").concat(h.props.randomMpId,"_T").concat(e)}:{onLayout:function(t){h.onPriceLayout(t,e)}}),_.a.createElement(A.a,{style:[h.props.style.card_1_3_price_text,h.props.style["T".concat(e)]],ellipsizeMode:"tail",numberOfLines:1},"¥".concat(h.props.product.originalPrice)))})))):_.a.createElement(W.a,c()({style:this.props.style.card_1_1,ref:this.refItem},Object(K.F)()?{}:{onLayout:this.onLayoutHeight}),_.a.createElement(M.a,{onPress:this.utilGotoPage},_.a.createElement(W.a,c()({style:this.props.style.card_1_1_left},Object(K.F)()?{}:{onLayout:this.onLayout}),_.a.createElement(W.a,{style:[this.props.style.card_1_1_imageArea,{width:this.getImgaeAreaWidth(),height:this.getImgaeAreaWidth()}]},_.a.createElement(ve.a,{imgUri:this.imgUrl(),imgStyle:[{width:this.getImgaeAreaWidth(),height:this.getImgaeAreaWidth()}]})),this.props.activityTagShow&&this.props.tag?Object(K.F)()?_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:[this.props.style.card_1_1_tag_mp,{background:"linear-gradient(to right, ".concat(Object(K.f)(null===(o=U.a.C45.color[0])||void 0===o?void 0:o.toUpperCase(),1),", ").concat(Object(K.f)(null===(i=U.a.C45.color[1])||void 0===i?void 0:i.toUpperCase(),1),")")}]},this.props.tag):_.a.createElement(Se.a,{start:{x:0,y:0},end:{x:1,y:0},colors:this.props.styleChange?[Object(K.f)(null===(a=U.a.C45.color[0])||void 0===a?void 0:a.toUpperCase(),1),Object(K.f)(null===(s=U.a.C45.color[1])||void 0===s?void 0:s.toUpperCase(),1)]:[Object(K.f)(this.props.theme.C45.color[0].toUpperCase(),1),Object(K.f)(this.props.theme.C45.color[1].toUpperCase(),1)],style:this.props.style.card_1_1_tag},_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:this.props.style.card_tag_text},this.props.tag)):null)),_.a.createElement(W.a,{style:this.props.style.card_1_1_right},_.a.createElement(M.a,{onPress:this.utilGotoPage},_.a.createElement(W.a,{style:this.props.style.card_1_1_right_up},_.a.createElement(W.a,{style:this.props.style.card_1_1_name},this.props.productNameShow?_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:2,style:this.props.style.card_1_1_name_text},this.props.product.sbomName):null),this.props.promotionShow?_.a.createElement(W.a,{style:this.props.style.card_1_1_promo},_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:this.props.style.card_1_1_promo_text},this.props.product.promoWord)):null)),_.a.createElement(W.a,{style:this.props.style.card_1_1_priceAndButton},_.a.createElement(M.a,{style:this.props.style.card_1_1_price,onPress:this.utilGotoPage},_.a.createElement(W.a,c()({style:[this.props.style.card_1_1_price,this.priceMarginRight(),Object(K.F)()||this.state.fontSizeComplete?{}:this.props.style.displayNone]},Object(K.F)()?{id:"orderDiscount_price_".concat(this.props.index,"_").concat(this.props.randomMpId)}:{onLayout:this.onPriceMaxLayout}),_.a.createElement(A.a,{style:[this.props.style.card_1_1_priceUnit,this.props.style["priceUnit_".concat(this.state.fontSize)]]},"¥"),_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:[this.props.style.card_1_1_price_text,this.props.style["T".concat(this.state.fontSize)]]},this.props.product.originalPrice))),!this.props.bottonShow||1!==this.props.product.buttonMode&&10!==this.props.product.buttonMode?null:_.a.createElement(M.a,{onPress:this._addToCart},Object(K.F)()?_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:[this.props.style.card_1_1_cart,this.props.style.card_1_1_cart_text,{background:"linear-gradient(to right, ".concat(Object(K.f)(null===(u=U.a.C45.color[0])||void 0===u?void 0:u.toUpperCase(),1),", ").concat(Object(K.f)(null===(d=U.a.C45.color[1])||void 0===d?void 0:d.toUpperCase(),1),")")}]},Object(z.b)("add_to_cart")):_.a.createElement(Se.a,{start:{x:0,y:0},end:{x:1,y:0},colors:this.props.styleChange?[Object(K.f)(null===(p=U.a.C45.color[0])||void 0===p?void 0:p.toUpperCase(),1),Object(K.f)(null===(f=U.a.C45.color[1])||void 0===f?void 0:f.toUpperCase(),1)]:[Object(K.f)(this.props.theme.C45.color[0].toUpperCase(),1),Object(K.f)(this.props.theme.C45.color[1].toUpperCase(),1)],style:this.props.style.card_1_1_cart},_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:this.props.style.card_1_1_cart_text},Object(z.b)("add_to_cart"))))),this.oneByOneFontSizeArray.map((function(e){return _.a.createElement(W.a,c()({style:h.props.style.card_1_1_priceAndButtonCalcule},Object(K.F)()?{id:"orderDiscount_price_calcule_".concat(h.props.index,"_").concat(h.props.randomMpId,"_T").concat(e)}:{onLayout:function(t){h.onPriceLayout(t,e)}}),_.a.createElement(A.a,{style:[h.props.style.card_1_1_priceUnit,h.props.style["priceUnit_".concat(e)]]},"¥"),_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:[h.props.style.card_1_1_price_text,h.props.style["T".concat(e)]]},h.props.product.originalPrice))})))):this.props.layoutType===l.oneByThree?_.a.createElement(W.a,{style:this.props.style.card_1_3,ref:this.refItem}):_.a.createElement(W.a,{style:this.props.style.card_1_1,ref:this.refItem})}}]),n}(L.Component),ke=n(32),Ee=n(50);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var o=T()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}var _e=Object(ke.c)(xe=function(e){S()(a,e);var t,i=Le(a);function a(e){var t;g()(this,a),t=i.call(this,e),I()(b()(t),"itemlist",[]),I()(b()(t),"_panResponder",void 0),I()(b()(t),"_panResponderApk",void 0),I()(b()(t),"wapTimer",null),I()(b()(t),"receiveRef",(function(e,n,r,o,i){e&&n.productId&&(e.exposeObj=n,e.exposeObj.index=i+1,e.exposeObj.row=r,e.exposeObj.column=o,t.itemlist.push(e))})),I()(b()(t),"initSbomList",(function(){var e,n,r=[],o=t.props.ISMini?t.props.sbomList||[]:(null===(e=t.props.pageData)||void 0===e?void 0:e.sbomList)||[];if(t.props.ISMini){var i;n=null===(i=t.props.sbomList)||void 0===i?void 0:i.length}else{var a=Math.ceil((null==o?void 0:o.length)/t.colNum()),l=t.props.rowsPerScreen||1;n=t.colNum()*(l>=a?a:l)}if(o&&(null==o?void 0:o.length)>0)for(var s=0;s<n;s++)o.length-1<s?r.push({sbomCode:"",sbomName:"",productId:"",productName:"",originalPrice:0,photoPath:"",photoName:"",buttonMode:0}):r.push(o[s]);else r=[];return r})),I()(b()(t),"dealSbomList",(function(){t.setState({sbomList:t.initSbomList()})})),I()(b()(t),"initWidth",function(){var e=f()(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.width===n){e.next=5;break}return e.next=3,t.getScreenHeight();case 3:r=+e.sent,t.setState({width:n,height:r},(function(){t.dealSbomList(),t.setmergeStyle()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I()(b()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"android"===D.a.OS?N.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(K.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(K.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(K.x)(t.props.pageType||"homePage").screenHeight)}))})),I()(b()(t),"getHeight",(function(e){e>0&&e!==t.state.subHeight&&t.setState({subHeight:e},(function(){t.props.setHeight&&t.props.setHeight(e)}))})),I()(b()(t),"getSize",(function(){return"web"===D.a.OS||Object(K.F)()?{width:Object(K.x)(t.props.pageType||"homePage").screenWidth,height:Object(K.x)(t.props.pageType||"homePage").screenHeight}:t.state?{width:t.state.width,height:t.state.height}:{width:Object(K.x)(t.props.pageType||"homePage").screenWidth,height:Object(K.x)(t.props.pageType||"homePage").screenHeight}})),I()(b()(t),"isPad",(function(){var e=t.getSize().width;return"medium"===Object(H.a)(e)})),I()(b()(t),"isPadHorizonta",(function(){var e=t.getSize(),n=e.width;return!(e.height>n||n<1024)})),I()(b()(t),"setmergeStyle",(function(){var e=t.props.styleChange,n=Object(H.a)(t.getSize().width);t.isPad()&&t.isPadHorizonta()&&(n="large"),R()(e)||t.setState({mergeStyle:Object(K.i)(e,n)})})),I()(b()(t),"renderMore",(function(e,n){var o,i,a,l,s,c;switch(t.state.more){case r.none:return _.a.createElement(_.a.Fragment,null);case r.topRight:return _.a.createElement(W.a,{style:n.more},_.a.createElement(A.a,{ellipsizeMode:"clip",numberOfLines:1,style:n.moreText},t.state.moreTitle?t.state.moreTitle:Object(z.b)("common_more")),_.a.createElement(W.a,{style:n.moreIcon},Object(K.F)()?_.a.createElement(B.a,{source:{uri:null!==(o=t.state.mergeStyle)&&void 0!==o&&null!==(i=o.textStyle)&&void 0!==i&&i.color?t.state.mpIMG:t.state.SVG},style:{opacity:t.state.mergeStyle?U.a.C24.opacity:e.C24.opacity,width:12,height:24}}):_.a.createElement(he.a,{normalCol:t.state.mergeStyle?null!==(a=t.state.mergeStyle)&&void 0!==a&&null!==(l=a.textStyle)&&void 0!==l&&l.color?null===(s=t.state.mergeStyle)||void 0===s||null===(c=s.textStyle)||void 0===c?void 0:c.color:U.a.C24.color:e.C24.color,opacity:t.state.mergeStyle?U.a.C24.opacity:e.C24.opacity,iconName:"ic24-more",width:12,height:19})));case r.bottom:return _.a.createElement(M.a,{onPress:t.goToMore},_.a.createElement(W.a,{style:n.bottomMore},_.a.createElement(A.a,{style:n.moreButtonText,ellipsizeMode:"clip",numberOfLines:1},t.state.moreTitle?t.state.moreTitle:Object(z.b)("common_more"))));default:return _.a.createElement(_.a.Fragment,null)}})),I()(b()(t),"goToMore",E()((function(){var e="";switch(t.state.moreUrlType){case o.default:var n="";t.state.dataSourceList&&t.state.dataSourceList.length>0&&t.state.dataSourceList[0].dataSourceCode&&(n=t.state.dataSourceList[0].dataSourceCode);var r={targetRoute:"ActivityOrder",routeParams:{dataSourceCode:n}},i=encodeURIComponent(JSON.stringify(r));e=V.a.isApp()?"vmall://com.vmall.client/home/activity?targetRoute=ActivityOrder&dataSourceCode=".concat(n,"&isShowLayout=false"):"".concat(fe.a.webDomain,"portal/activity/?activityParams=").concat(i);break;case o.native:case o.other:break;case o.h5:e=Object(K.l)(t.props)}var a=t.props.clickItem;t.wapTimer&&clearTimeout(t.wapTimer),t.wapTimer=setTimeout((function(){Object(K.A)(e)}),150);var l,s={moreUrl:e};Object(K.F)()?Object(Pe.a)({actionCode:"410000101",actionName:"订单促销活动组件点击更多",eventType:ne.e.EVENT_TYPE_CLICK,pageId:t.props.ISMini?"":t.props.pageId,content:{comId:null===(l=t.props.cardId)||void 0===l?void 0:l.toString(),gotoPageId:"",gotoURL:e,clickType:ne.b.CLICK_MORE}}):a(s,"更多")}),200)),I()(b()(t),"renderHeader",(function(e,n){var o,i;return _.a.createElement(Ee.a,{style:[e.header,{height:t.getHeaderHeight()},0===t.getHeaderHeight()?e.none:{}],imgViewStyle:t.state.more===r.bottom&&t.state.layoutType===l.oneByThree||t.state.layoutType===l.oneByOne&&t.state.mergeStyle?null===(o=t.state.mergeStyle)||void 0===o?void 0:o.imgStyle:null,imgUri:t.state.more===r.bottom&&t.state.layoutType===l.oneByThree||t.state.layoutType===l.oneByOne&&t.state.mergeStyle?null===(i=t.state.mergeStyle)||void 0===i?void 0:i.bgImg:"",resizeMode:"stretch"},t.state.titleShow&&(t.state.activityName||t.state.promotion)?_.a.createElement(_.a.Fragment,null,""!==t.state.activityName?_.a.createElement(W.a,{style:e.headArea},_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:e.headTitle},t.state.activityName),t.state.more!==r.topRight||t.state.promotion?null:t.renderMore(n,e)):null,""!==t.state.promotion?_.a.createElement(W.a,{style:t.state.activityName?e.subTitleArea:e.headArea},_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:e.subTitle},t.state.promotion),t.state.more===r.topRight&&t.renderMore(n,e)):null):_.a.createElement(W.a,{style:e.headArea},_.a.createElement(A.a,{ellipsizeMode:"tail",numberOfLines:1,style:e.headTitle}),t.state.more===r.topRight?t.renderMore(n,e):null),t.state.layoutType===l.oneByOne?_.a.createElement(W.a,{style:[e.split,{width:t.boxWidth()}]},_.a.createElement(W.a,{style:e.line})):null)})),I()(b()(t),"colNum",(function(){return(t.props.layoutType||l.oneByOne)===l.oneByOne?t.isPad()&&t.isPadHorizonta()?3:t.isPad()&&!t.isPadHorizonta()?2:1:t.isPad()&&t.isPadHorizonta()?6:t.isPad()&&!t.isPadHorizonta()?5:3})),I()(b()(t),"colGutter",(function(){return t.isPad()&&t.isPadHorizonta()?12:8})),I()(b()(t),"rowWrapStyle",(function(e){return[t.state.layoutType===l.oneByOne?e.rowWrap_1_1:e.rowWrap_1_3]})),I()(b()(t),"rowStyle",(function(e){return[t.state.layoutType===l.oneByOne?e.row_1_1:e.row_1_3]})),I()(b()(t),"rowIndex",(function(e){return Math.ceil((e+1)/t.colNum())})),I()(b()(t),"colIndex",(function(e){return(e+1)%t.colNum()==0?t.colNum():(e+1)%t.colNum()})),I()(b()(t),"getHeaderHeight",(function(){var e=!t.state.titleShow||!t.state.activityName,n=!t.state.titleShow||!t.state.promotion,o=t.state.more!==r.topRight;return e&&n&&o?0:e||n?t.state.mergeStyle||t.state.layoutType!==l.oneByThree?52:44:68})),I()(b()(t),"boxWidth",(function(){var e=t.isPad()?48:32;return t.state.layoutType===l.oneByOne?t.getSize().width-e:t.getSize().width-e-24})),I()(b()(t),"getSingleWidth",(function(){return(t.boxWidth()-(t.colNum()-1)*t.colGutter())/t.colNum()}));var s=Object(K.F)()?n(205):"",c=t.props.styleChange,u=Object(H.a)(Object(K.x)(t.props.pageType||"homePage").screenWidth),p=!R()(c)&&Object(K.i)(c,u);if(Object(K.F)()){var h,m,y=U.a,v=null!=p&&null!==(h=p.textStyle)&&void 0!==h&&h.color?null==p||null===(m=p.textStyle)||void 0===m?void 0:m.color:y.C24.color;s=Object(K.c)(s,v)}return t.state=Re(Re({activityCode:"",activityName:"",promotion:"",bgImgUrl:"",pcBgImgUrl:"",tag:t.props.ISMini?t.props.tag:"",appLinkUrl:"",wapLinkUrl:"",pcLinkUrl:"",startTime:"",endTime:"",headTitle:"",subTitle:"",shareTitle:"",shareHeadPicUrl:"",appDetailRuleUrl:"",mpWapDetailRuleUrl:"",commonTeamBuyFlowUrl:"",prizeTeamBuyFlowUrl:"",singleWidth:96,cardName:t.props.cardName||"",layoutType:t.props.layoutType||l.oneByOne,rowsPerScreen:t.props.rowsPerScreen||1,titleShow:!t.props.ISMini&&t.props.titleShow,more:t.props.more||r.none,moreUrlType:t.props.moreUrlType||o.default,moreActionUrl:t.props.moreActionUrl||"",moreTitle:t.props.moreTitle||"",productNameShow:!!t.props.ISMini||t.props.productNameShow,activityTagShow:!!t.props.ISMini||t.props.activityTagShow,promotionShow:!!t.props.ISMini||t.props.promotionShow,promotionTagShow:!!t.props.ISMini||t.props.promotionTagShow,bottonShow:!!t.props.ISMini||t.props.bottonShow,bgColor:t.props.bgColor||"",dataSourceList:t.props.dataSourceList||[]},t.props.pageData),{},{width:Object(K.x)(t.props.pageType||"homePage").screenWidth,height:Object(K.x)(t.props.pageType||"homePage").screenHeight,sbomList:t.initSbomList(),subHeight:0,mergeStyle:p,currentTime:null,pageType:t.props.pageType||"homePage",SVG:s,mpIMG:s,randomMpId:Object(K.J)()}),t}return y()(a,[{key:"UNSAFE_componentWillMount",value:function(){Object(K.F)()||(this._panResponder=F.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=F.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}}))}},{key:"componentDidMount",value:(t=f()(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=V.a.isApp()?"1":V.a.isWap(this.getSize().width)?"2":"3",se.onUpdate({judPlatform:t,ISMini:this.props.ISMini,pageId:this.props.pageId}),"android"!==D.a.OS){e.next=10;break}return e.t0=this,e.next=6,this.getScreenHeight();case 6:e.t1=+e.sent,e.t2={height:e.t1},e.t3=function(){n.dealSbomList()},e.t0.setState.call(e.t0,e.t2,e.t3);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(){var e;this.props.ISMini&&(null===(e=this.props.sbomList)||void 0===e?void 0:e.length)!==this.state.sbomList.length&&this.dealSbomList()}},{key:"componentWillUnmount",value:function(){this.wapTimer&&clearTimeout(this.wapTimer)}},{key:"render",value:function(){var e=this;return"large"===Object(H.a)(this.getSize().width)||0===this.state.sbomList.length?null:_.a.createElement(G.b,{themeStyles:function(t){return function(e,t,n,r,o,i,a,s){var c,u,d,p;t&&(e=U.a);var f,h,g=X(X({},e.T10),e.C12),m=X(X({},e.T7),e.C13),y=X(X({},e.T7),e.C13),v=X(X({},e.T4),e.C13),b={borderRadius:i?16:0};f=i?0:s?4:0,h=i?0:a===l.oneByThree&&t?8:4;var w={};"web"===D.a.OS&&(w=I()({},"transform-Origin".split("-").join(""),"0 0"));var S={};"web"===D.a.OS&&(S=I()({},"transform-Origin".split("-").join(""),"left center")),null!=t&&null!==(c=t.textStyle)&&void 0!==c&&c.color&&(g.color=t.textStyle.color,m.color=t.textStyle.color,y.color=t.textStyle.color,v.color=t.textStyle.color);var C=.5;return"web"===D.a.OS&&null!==(u=navigator)&&void 0!==u&&null!==(d=u.userAgent)&&void 0!==d&&null!==(p=d.toLocaleUpperCase())&&void 0!==p&&p.includes("MQQBROWSER")&&(C=1),q.a.create({wrap:{overflow:"hidden",marginHorizontal:n?24:16,borderRadius:16},container:{width:"100%",paddingTop:f,paddingBottom:h,backgroundColor:i?null:e.S31.backgroundColor},header:{paddingTop:4,width:"100%",height:68},headArea:{width:"100%",height:21.5,marginTop:a===l.oneByThree?13:10,marginBottom:2,flexDirection:"row",paddingHorizontal:12},headTitle:X(X({flexGrow:1,flexShrink:1,flexBasis:"auto",fontFamily:Q.a.fontFamilyMedium},g),{},{fontWeight:"bold",textAlign:"left",lineHeight:22}),subTitleArea:{width:"100%",height:19,flexDirection:"row",paddingHorizontal:12},subTitle:X(X({flexGrow:1,flexShrink:1,flexBasis:"auto",fontFamily:Q.a.fontFamilyBase},m),{},{textAlign:"left",lineHeight:19}),more:{flexGrow:0,flexShrink:0,flexBasis:"auto",minWidth:42,maxWidth:"33.333%",height:19,marginLeft:8,flexDirection:"row"},moreText:X(X({flexGrow:1,flexShrink:1,flexBasis:"auto",textAlign:"right",fontFamily:Q.a.fontFamilyBase},y),{},{lineHeight:19,height:19,marginRight:2}),moreIcon:{position:"relative",left:4,top:V.a.isApp()?1:0},bottomMore:{width:"100%",marginTop:8,marginBottom:12,paddingHorizontal:12,justifyContent:"center",alignItems:"center",height:28},moreButtonText:X(X({},v),{},{fontFamily:Q.a.fontFamilyBase}),rowWrap_1_3:{width:"100%",height:"auto",paddingHorizontal:8,overflow:"hidden"},row_1_3:{width:"100%",height:"auto",paddingTop:8,overflow:"hidden",backgroundColor:t?e.S31.backgroundColor:null,borderRadius:10,paddingHorizontal:4},rowWrap_1_1:{width:"100%",height:"auto",overflow:"hidden"},row_1_1:{width:"100%",height:"auto",backgroundColor:t?e.S31.backgroundColor:null,overflow:"hidden"},card_tag_text:X(X(X({},e.T1),e.C17),{},{fontSize:"web"===D.a.OS?12:10,fontFamily:Q.a.fontFamilyBase,lineHeight:13,position:"relative",top:"web"===D.a.OS?C:0}),cardPic:{width:"100%"},card_1_3:{width:"100%",height:"auto",overflow:"hidden"},card_1_3_imageWrap:{width:"100%",height:"auto",backgroundColor:o||null,paddingVertical:12,alignItems:"center"},card_1_3_imageArea:{width:"auto",height:"auto"},card_1_3_tag:X({position:"absolute",top:4,left:4,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:"web"===D.a.OS?4.8:4,height:"web"===D.a.OS?16.8:14,transform:"web"===D.a.OS?[{scale:5/6}]:[]},w),card_1_3_tag_mp:X(X(X({position:"absolute",top:4,left:4,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:4,height:14},e.T1),e.C17),{},{fontSize:10,fontFamily:Q.a.fontFamilyBase,lineHeight:13}),card_1_3_name:{paddingHorizontal:8,width:"100%",height:36,paddingBottom:4},card_1_3_name_text:X(X(X({},e.T3),e.C12),{},{fontFamily:Q.a.fontFamilyBase,textAlign:"center"}),card_1_3_priceAndButton:{paddingHorizontal:8,width:"100%",height:24,flexDirection:"row",marginBottom:12},card_1_3_priceAndButtonCalcule:{position:"absolute",bottom:-100,width:"100%",height:24,flexDirection:"row",paddingHorizontal:8},card_1_3_price_calcule:{width:"auto",maxWidth:"100%",justifyContent:"center",marginRight:8,opacity:0},card_1_3_price:{flexGrow:1,flexShrink:1,flexBasis:"auto",height:24,justifyContent:"center"},card_1_3_price_text:X(X(X({},e.T4),e.C18),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold",textAlign:"left"}),card_1_3_cart:X({flexGrow:0,flexShrink:0,flexBasis:"auto",width:24,height:24,justifyContent:"center",alignItems:"center",borderRadius:12},e.S13),card_1_3_priceUnit:X(X(X({},e.T4),e.C18),{},{fontFamily:e.fontFamilyMedium,fontWeight:"bold",marginRight:0}),card_1_1:X(X({width:"100%",height:140,flexDirection:"row"},b),{},{backgroundColor:i?e.S31.backgroundColor:null,overflow:"hidden"}),card_1_1_left:{flexGrow:n?1:0,flexShrink:n?1:0,flexBasis:"auto",paddingVertical:16,alignItems:"center",justifyContent:"center",backgroundColor:o||null,width:n?"auto":140,minWidth:90},card_1_1_imageArea:{width:n?"100%":140},card_1_1_right:{flexGrow:n?0:1,flexShrink:n?0:1,flexBasis:"auto",width:n?172:"auto",marginLeft:4,marginRight:12,paddingTop:12},card_1_1_right_up:{width:"100%",height:84},card_1_1_name:{width:"100%",maxHeight:36},card_1_1_name_text:X(X(X({},e.T6),e.C11),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold",textAlign:"left"}),card_1_1_promo:{width:"100%"},card_1_1_promo_text:X(X(X({},e.T3),e.C14),{},{fontFamily:Q.a.fontFamilyBase,textAlign:"left"}),card_1_1_priceAndButton:{position:"absolute",bottom:16,width:"100%",height:"auto",flexDirection:"row"},card_1_1_priceAndButtonCalcule:{position:"absolute",bottom:-100,width:"auto",maxWidth:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-end",height:28,opacity:0},card_1_1_price:{flexGrow:1,flexShrink:1,flexBasis:"auto",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},card_1_1_price_text:X(X(X({},e.T10),e.C18),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold",textAlign:"left"}),card_1_1_priceUnit:X(X(X({},e.T4),e.C18),{},{height:17,fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold",marginRight:2}),card_1_1_cart:{flexGrow:0,flexShrink:0,flexBasis:"auto",height:28,minWidth:64,paddingHorizontal:8,borderRadius:14},card_1_1_cart_text:X(X(X({},e.T4),e.C17),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold",lineHeight:28}),card_1_1_tag:X({position:"absolute",top:12,left:12,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:"web"===D.a.OS?4.8:4,height:"web"===D.a.OS?16.8:14,transform:"web"===D.a.OS?[{scale:5/6}]:[]},w),card_1_1_tag_mp:X(X(X({position:"absolute",top:12,left:12,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:4,height:14},e.T1),e.C17),{},{fontSize:10,fontFamily:Q.a.fontFamilyBase,lineHeight:13}),none:{display:"none"},split:{position:"absolute",bottom:0,left:0,width:"100%",height:1,paddingHorizontal:12},line:{width:"auto",height:1,backgroundColor:e.S2.borderColor,transform:[{scaleY:.5}]},T10:X(X({},e.T10),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold"}),T8:X(X({},e.T8),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold"}),T6:X(X({},e.T6),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold"}),T4:X(X({},e.T4),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold"}),T2:X(X({},e.T2),{},{fontFamily:Q.a.fontFamilyMedium,fontWeight:"bold",fontSize:"web"===D.a.OS?12:10,transform:"web"===D.a.OS?[{scale:5/6}]:[]},S),priceUnit_10:{height:13,marginRight:2},priceUnit_8:{height:16,marginRight:2},priceUnit_6:{height:16,marginRight:2},priceUnit_4:{height:16,marginRight:0},priceUnit_2:{height:16,marginRight:0},displayNone:{opacity:0}})}(t,e.state.mergeStyle,e.isPad(),e.isPadHorizonta(),e.state.bgColor,e.props.ISMini,e.state.layoutType,0===e.getHeaderHeight())}},(function(t,n,o){var i,a;return o=Object(K.F)()?Object(K.x)(e.props.pageType||"homePage").screenWidth:o,Object(K.F)()||e.initWidth(o),_.a.createElement(W.a,c()({style:t.wrap},Object(K.F)()?{}:"web"===D.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers),_.a.createElement(Ee.a,{style:t.container,imgViewStyle:e.state.more!==r.topRight&&e.state.more!==r.none||e.state.layoutType!==l.oneByThree||!e.state.mergeStyle?null:null===(i=e.state.mergeStyle)||void 0===i?void 0:i.imgStyle,imgUri:e.state.more!==r.topRight&&e.state.more!==r.none||e.state.layoutType!==l.oneByThree||!e.state.mergeStyle?"":null===(a=e.state.mergeStyle)||void 0===a?void 0:a.bgImg,resizeMode:"stretch"},e.state.more===r.topRight?_.a.createElement(M.a,{onPress:e.goToMore},_.a.createElement(W.a,null,e.renderHeader(t,n))):e.renderHeader(t,n),_.a.createElement(W.a,{style:e.rowWrapStyle(t)},_.a.createElement(W.a,{style:e.rowStyle(t)},_.a.createElement(Y.a,{col:e.colNum(),rowGutter:12,colGutter:Object(K.F)()?0:e.colGutter(),pageGutter:0,dataArray:e.state.sbomList,boxWidth:e.boxWidth(),initialNumToRender:e.state.sbomList.length,renderItem:function(r){var o,i=r.item,a=r.index;return _.a.createElement(Ie,{layoutType:e.state.layoutType,productNameShow:e.state.productNameShow,activityTagShow:e.state.activityTagShow,promotionShow:e.state.promotionShow,promotionTagShow:e.state.promotionTagShow,bottonShow:e.state.bottonShow,bgColor:e.state.bgColor,tag:e.state.tag,product:i,styleChange:e.state.mergeStyle,dataInfos:null===(o=e.state)||void 0===o?void 0:o.dataInfos,clickItem:e.props.clickItem,receiveRef:function(t){return e.receiveRef(t,i,e.rowIndex(a),e.colIndex(a),a)},style:t,row:e.rowIndex(a),col:e.colIndex(a),index:a,theme:n,isPad:e.isPad(),isPadHorizonta:e.isPadHorizonta(),cardWidth:e.getSingleWidth(),width:e.getSize().width,setHeight:e.getHeight,pageType:e.state.pageType,randomId:e.props.randomId,cardId:e.props.cardId,randomMpId:e.state.randomMpId})}}))),e.state.more===r.bottom&&e.renderMore(n,t)))}))}}]),a}(L.Component))||xe;t.a=Object(J.a)(Object(te.a)(de)(Object(pe.a)(_e)))},,function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(57),a=n(37);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return i.a.create({container:{backgroundColor:e.C32.color},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},bottomNaviItem:{flex:1,alignItems:"center",paddingHorizontal:4},bottomNaviContainerWap:{flexDirection:"row",position:"web"===a.a.OS?"fixed":"absolute",width:"100%",bottom:0,backgroundColor:e.C32.color,opacity:1},bottomNaviContainerApp:{flexDirection:"row",backgroundColor:e.C32.color,opacity:1},iconStyle:{width:24,height:24,marginTop:7},labelUnSelect:s(s({marginTop:2},e.T1),e.C15),labelSelected:s(s({marginTop:2},e.T2),e.C18)})}},function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=(r=function(){function e(){s()(this,e),a()(this,"statusBarStyle",o,this)}return u()(e,[{key:"onUpdate",value:function(e){this.statusBarStyle=e.statusBarStyle}}]),e}(),o=p()(r.prototype,"statusBarStyle",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),p()(r.prototype,"onUpdate",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),r);t.a=new h},function(e,t,n){"use strict";var r=n(35),o=n.n(r),i=n(17),a=n.n(i),l=n(26),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(0),P=n.n(O),T=n(37),x=n(54),I=n(145),k=n(49),E=n(446),j=n(43),R=n(270),L=n(115),_=n(102),D=n(47),N=n(84),W=n(3);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var B=function(e){m()(r,e);var t,n=A(r);function r(e){var t;return u()(this,r),t=n.call(this,e),C()(h()(t),"scrollView",void 0),C()(h()(t),"timer",void 0),C()(h()(t),"_panResponder",void 0),C()(h()(t),"imgList_pad",void 0),C()(h()(t),"columnNum",void 0),C()(h()(t),"listener1",void 0),C()(h()(t),"listener2",void 0),C()(h()(t),"widths",void 0),C()(h()(t),"scrollTimer",void 0),C()(h()(t),"refScrollView",(function(e){null!==e&&(t.scrollView=e)})),C()(h()(t),"_getSize",(function(){return{width:"category"==t.props.fromPage?t.props.boxWidth:"web"===T.a.OS?x.a.get("window").width:t.state.width,height:"web"===T.a.OS?x.a.get("window").height:t.state.height}})),C()(h()(t),"_getCategoryWidth",(function(){var e=t.isPadHorizonta(),n=e?3:2,r=e?16:8;return(t._getSize().width-r)/n+8})),C()(h()(t),"onLayout",(function(){var e,n=t.isPadHorizonta()?3:2;null!=t.scrollView&&(null===(e=t.scrollView)||void 0===e||e.scrollTo({x:"category"==t.props.fromPage?t._getCategoryWidth()*n:t._getSize().width-40,animated:!1}))})),C()(h()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"web"!==T.a.OS?I.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(W.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(W.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(W.x)(t.props.pageType||"homePage").screenHeight)}))})),C()(h()(t),"isPadHorizonta",(function(){return("web"===T.a.OS?x.a.get("window").width:t.state.width)>=("web"===T.a.OS?x.a.get("window").height:t.state.height)})),C()(h()(t),"initWidth",function(){var e=s()(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getScreenHeight();case 2:r=+e.sent,t.state.width!==n&&t.setState({width:n,height:r},(function(){t.timer&&clearInterval(t.timer),t.startTimer()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C()(h()(t),"isApkOrIos",(function(){return"android"===T.a.OS||"ios"===T.a.OS})),C()(h()(t),"newReceiveRef",(function(e){t.setState({viewList:[].concat(o()(t.state.viewList),[e])})})),C()(h()(t),"handleCategoryLoop",(function(e){var n,r;"function"==typeof(null===(n=h()(t))||void 0===n||null===(r=n.props)||void 0===r?void 0:r.setSwiperRef)&&t.props.setSwiperRef(e)})),t.state={currentPage:1,viewList:[],padHorizontalScreen:!1,pageType:t.props.pageType||"homePage",width:Object(W.x)(t.props.pageType||"homePage").screenWidth,height:Object(W.x)(t.props.pageType||"homePage").screenHeight},t}return p()(r,[{key:"onScroll",value:function(e){var t=this,n=this.isPadHorizonta()?3:2,r=e.nativeEvent.contentOffset.x,o="category"==this.props.fromPage?Math.round(r/this._getCategoryWidth()):Math.round(r/((this._getSize().width-36)/n));if(0===o){var i;if(this.setState({currentPage:this.imgList_pad.length-2*n}),null===this.scrollView)return;null===(i=this.scrollView)||void 0===i||i.scrollTo({x:(this.imgList_pad.length-2*n)*("category"==this.props.fromPage?this._getCategoryWidth():(this._getSize().width-36)/n),y:0,animated:!1})}else if(o===this.imgList_pad.length-n){if(this.setState({currentPage:n}),null===this.scrollView)return;k.a.emit("SwiperOnscroll"),k.a.emit("PadSwiperOnFinalPic"),this.scrollTimer=setTimeout((function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:"category"==t.props.fromPage?t._getCategoryWidth()*n:t._getSize().width-40,y:0,animated:!1})}),500)}else this.setState({currentPage:o})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.listener1&&this.listener1.remove();var t=this.isPadHorizonta()?3:2;this._panResponder=E.a.create({onStartShouldSetPanResponder:function(){return!0},onStartShouldSetPanResponderCapture:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponderCapture:function(){return!0},onPanResponderGrant:function(){},onPanResponderMove:function(n,r){var o;clearTimeout(e.timer);var i=r.dx,a=e.state.currentPage*("category"==e.props.fromPage?e._getCategoryWidth():e._getSize().width-36)/t;null===(o=e.scrollView)||void 0===o||o.scrollTo({x:a-i,animated:!0})},onPanResponderTerminationRequest:function(){return!0},onPanResponderRelease:function(n,r){Math.abs(r.dx)>=e._getSize().width/t*2&&(r.dx>0?e.setState({currentPage:e.state.currentPage-1}):e.setState({currentPage:e.state.currentPage+1}))}})}},{key:"componentDidMount",value:(t=s()(a.a.mark((function e(){var t=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.widths=this.state.width,this.startTimer(),this.listener1=k.a.addListener("swiperStop",(function(e){e===t.props.pageId&&t.stopTimer()})),this.listener2=k.a.addListener("swiperStart",(function(e){e===t.props.pageId&&t.startTimer()})),"web"===T.a.OS){e.next=11;break}return e.t0=this,e.next=8,this.getScreenHeight();case 8:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.timer&&clearInterval(this.timer),this.scrollTimer&&clearTimeout(this.scrollTimer)}},{key:"componentDidUpdate",value:function(){this.state.width!==Object(W.x)(this.props.pageType||"homePage").screenWidth&&this.setState({currentPage:0})}},{key:"stopTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"scrollBeginDrag",value:function(){clearTimeout(this.timer)}},{key:"scrollEndDrag",value:function(){this.startTimer()}},{key:"onAnimatinonEnd",value:function(e){var t=this.isPadHorizonta()?3:2,n=e.nativeEvent.contentOffset.x,r="category"==this.props.fromPage?Math.round(n/this._getCategoryWidth()):Math.round(n/((this._getSize().width-36)/t));this.setState({currentPage:r})}},{key:"startTimer",value:function(){var e=this,t=this.isPadHorizonta(),n=t?3:2,r=t?36:40,o=this.imgList_pad.length;this.stopTimer(),this.timer=setInterval((function(){var t,i=0;i=e.state.currentPage+n>=o?n:e.state.currentPage+1,e.setState({currentPage:i});var a="category"==e.props.fromPage?i*e._getCategoryWidth():i*(e._getSize().width-r)/n;null===(t=e.scrollView)||void 0===t||t.scrollTo({x:a,y:0,animated:!0});var l=e.state.viewList;"function"==typeof e.props.receiveRef&&e.props.receiveRef(l[i]),k.a.emit("SwiperOnscroll")}),5e3)}},{key:"render",value:function(){var e=this,t=this.props,n=t.imgList,r=t.receiveRef,i=t.pageId,a=t.pageCatCode,l=t.pageCatName,s=t.resSiteCode,c=t.resSiteName,u=t.clickAd,d=t.resizeConfig,p=this.isPadHorizonta(),f=p?3:2;if(n.length>f){var h=[n[0],n[1]],g=[n[n.length-2],n[n.length-1]];3===f&&(h.push(n[2]),g=[n[n.length-3]].concat(o()(g))),this.imgList_pad=g.concat(n,h)}else this.imgList_pad=n;var m=p?72:56,y=p?16:8,v="category"==this.props.fromPage?(this._getSize().width-y)/f:(this._getSize().width-m)/f,b=p?-12:-16,w=[0,1,this.imgList_pad.length-1,this.imgList_pad.length-2],S=p?12:20,C=this.imgList_pad.map((function(t,o){var p=e.imgList_pad.length>=2&&w.includes(o)?null:r,f=0;o-1>0&&(f=o-2),f>n.length-1&&(f=0);var h=0;o-1>0&&(h=o-2),h>n.length-1&&(h=n.length-1);var g=e.isApkOrIos()?p:null,m=e.isApkOrIos()?f:h;return P.a.createElement(j.a,{style:[{width:v,marginLeft:"category"==e.props.fromPage?0:24},o===e.imgList_pad.length-1?{marginRight:"category"==e.props.fromPage?8:24}:{marginRight:"category"==e.props.fromPage?8:b}],key:o,ref:e.isApkOrIos()?null:r},P.a.createElement(D.a,{imgUri:t.imgUri,imgProportion:Object(N.a)(t.imgProportion),actionUrl:t.actionUrl,actionUrlWeb:t.actionUrlWeb,actionUrlWap:t.actionUrlWap,style:{borderRadius:16},comId:t.comId,gotoPageId:t.gotoPageId,clickAd:u,dataCode:t.dataCode,index:m,resizeConfig:d,imgWidth:v,newReceiveRef:e.newReceiveRef,receiveRef:g,isHighQuality:!0,pageId:i,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c,index_name:t.title}))}));return P.a.createElement(_.b,{themeStyles:L.b},(function(t,n,r){return(r=Object(W.F)()?Object(W.x)().screenWidth:r)!==e.widths&&(e.initWidth(r),e.widths=r),P.a.createElement(j.a,{onLayout:e.onLayout,ref:e.handleCategoryLoop},P.a.createElement(R.a,{ref:e.refScrollView,style:[{height:v/Object(N.a)(e.imgList_pad[0].imgProportion)}],horizontal:!0,showsHorizontalScrollIndicator:!1,snapToInterval:"category"==e.props.fromPage?0:e._getSize().width/f-S,pagingEnabled:!0,contentOffset:{x:"category"==e.props.fromPage?e._getCategoryWidth()*f:e._getSize().width-40,y:0},onScrollBeginDrag:function(){return e.scrollBeginDrag()},onScrollEndDrag:function(){return e.scrollEndDrag()},onMomentumScrollEnd:function(t){return e.onAnimatinonEnd(t)},onScroll:function(t){e.onScroll(t)}},C))}))}}]),r}(P.a.PureComponent);C()(B,"defaultProps",{}),t.a=B},function(e,t,n){"use strict";var r,o,i=n(107),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(65),C=n.n(S),O=n(0),P=n.n(O),T=n(244),x=n(48),I=n(40),k=n(433),E=n(102),j=n(54),R=n(43),L=n(37),_=n(87),D=n(49),N=n(57),W=n(245),A=n(246),B=n(63),M=n(16),F=n(241),H=n(32),z=n(94),U=n(184),V=n(3);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Y=j.a.get("window"),J=Object(H.c)((o=function(e){h()(n,e);var t=G(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"scrollView",null),w()(p()(r),"scrollToTimer",null),w()(p()(r),"requestAnimationFrame",null),w()(p()(r),"tabViewWrapper",void 0),w()(p()(r),"smartlifeLayoutY",0),w()(p()(r),"isShopPage","shop"===r.props.pageType),w()(p()(r),"_isWap",(function(e){return x.a.isWap(e)})),w()(p()(r),"UNSAFE_componentWillReceiveProps",(function(e){e.children!==r.props.children&&r.updateSceneKeys({page:r.state.currentPage,children:e.children}),e.page>=0&&e.page!==r.state.currentPage&&r.goToPage(e.page)})),w()(p()(r),"goToPage",(function(e){var t=e*r.state.containerWidth;r.scrollView&&setTimeout((function(){r.scrollView.scrollTo({x:t,y:0,animated:!r.props.scrollWithoutAnimation})}));var n=r.state.currentPage;r.updateSceneKeys({page:e,callback:r._onChangeTab.bind(p()(r),n,e)})})),w()(p()(r),"renderTabBar",(function(e){return!1===r.props.renderTabBar?null:r.props.renderTabBar?P.a.cloneElement(r.props.renderTabBar(e),e):P.a.createElement(A.a,e)})),w()(p()(r),"updateSceneKeys",(function(e){var t=e.page,n=e.children,o=void 0===n?r.props.children:n,i=e.callback,a=void 0===i?function(){}:i,l=r.newSceneKeys({previousKeys:r.state.sceneKeys,currentPage:t,children:o});r.setState({currentPage:t,sceneKeys:l},a)})),w()(p()(r),"newSceneKeys",(function(e){var t=e.previousKeys,n=void 0===t?[]:t,o=e.currentPage,i=void 0===o?0:o,a=e.children,l=void 0===a?r.props.children:a,s=[];return r._children(l).forEach((function(e,t){var o=r._makeSceneKey(e,t);(r._keyExists(n,o)||r._shouldRenderSceneKey(t,i))&&s.push(o)})),s})),w()(p()(r),"_shouldRenderSceneKey",(function(e,t){var n=r.props.prerenderingSiblingsNumber;return e<t+n+1&&e>t-n-1})),w()(p()(r),"_keyExists",(function(e,t){return e.find((function(e){return t===e}))})),w()(p()(r),"_makeSceneKey",(function(e,t){return"".concat(e.props.heading,"_").concat(t)})),w()(p()(r),"renderScrollableContent",(function(e,t){var n=r._composeScenes(e,t);return P.a.createElement(R.a,null,n)})),w()(p()(r),"_composeScenes",(function(e,t){var n="large"===Object(I.a)(r.props.width);return r._children().map((function(o,i){var a=r._makeSceneKey(o,i),l=r.props.isSmartLife;return l&&(t=!1),r.state.currentPage===i?P.a.createElement(P.a.Fragment,null,t&&l?P.a.createElement(R.a,{style:e.load},P.a.createElement(k.a,{showLoading:r.state.showLoading,position:"bottom",loadState:1,height:56,iconSize:24,titleStyle:e.lodingTitle})):P.a.createElement(W.a,{pageName:r.props.pageName,key:null==o?void 0:o.key,shouldUpdated:r._shouldRenderSceneKey(i,r.state.currentPage),currentPage:r.state.currentPage,style:l?{}:{width:n?document.body.clientWidth:r.state.containerWidth}},r._keyExists(r.state.sceneKeys,a)?o:P.a.createElement(R.a,{heading:o.props.heading}))):P.a.createElement(R.a,{style:l?{}:{width:n?document.body.clientWidth:r.state.containerWidth}})}))})),w()(p()(r),"_onMomentumScrollBeginAndEnd",(function(e){var t=e.nativeEvent.contentOffset.x,n=Math.round(t/r.state.containerWidth);r.state.currentPage!==n&&r._updateSelectedPage(n)})),w()(p()(r),"_updateSelectedPage",(function(e){var t=e;"object"===a()(t)&&(t=e.nativeEvent.position);var n=r.state.currentPage;r.updateSceneKeys({page:t,callback:r._onChangeTab.bind(p()(r),n,t)})})),w()(p()(r),"_onChangeTab",(function(e,t){var n=r.props,o=n.isSmartLife,i=n.isSeckill,a=o?z.a.smartLifeLayoutY:i?375:z.a.LayoutY;o&&Object(M.l)((function(){B.a.setShowLoading(!0)})),"web"===L.a.OS&&r.state.navTop&&!r.props.isFromSeckillChannel&&(document.documentElement.scrollTop>0?document.documentElement.scrollTop=a+1:document.body.scrollTop>0?document.body.scrollTop=a+1:document.scrollingElement.scrollTop=a+1),r.props.onChangeTab({i:t,ref:r._children()[t],from:e})})),w()(p()(r),"_updateScrollValue",(function(e){r.state.scrollValue.setValue(e),r.props.onScroll(e);var t=Math.round(e);r.state.currentPage!==t&&r._updateSelectedPage(t)})),w()(p()(r),"_handleLayout",(function(e){var t=r.state.isWap,n=r.props,o=n.isHomepage,i=n.isSmartLife;r.tabViewWrapper&&r.tabViewWrapper.measure((function(e,n,a,l,s,c){r.setState({stickyLayoutY:o?z.a.LayoutY:i?z.a.smartLifeLayoutY:t?c:n})}));var a=j.a.get("window").width;!a||a<=0||Math.round(a)===Math.round(r.state.containerWidth)||(r.setState({containerWidth:a}),r.requestAnimationFrame&&r.requestAnimationFrame((function(){r.goToPage(r.state.currentPage)})))})),w()(p()(r),"_children",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props.children;return P.a.Children.map(e,(function(e){return e}))})),r.state={tabWidth:{width:"100%",zIndex:1},navTop:!1,stickyLayoutY:0,currentPage:r.props.initialPage,scrollValue:new _.a.Value(r.props.initialPage),containerWidth:j.a.get("window").width,sceneKeys:r.newSceneKeys({currentPage:r.props.initialPage}),showLoading:!0},r}return u()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.width||Y.width;this.setState({isWap:this._isWap(t)}),"true"!==this.props.isFixed||"web"!==L.a.OS||this.props.isFromSeckillChannel||window.addEventListener("scroll",this.handleScroll.bind(this));T.a.runAfterInteractions((function(){e.scrollView&&e.state.scrollValue.setValue(e.props.initialPage)})),this.scrollToTimer=setTimeout((function(){e.scrollView&&e.scrollView.scrollTo({x:e.props.initialPage*e.state.containerWidth,animated:!1})}))}},{key:"componentWillUnmount",value:function(){"true"!==this.props.isFixed||"web"!==L.a.OS||this.props.isFromSeckillChannel||window.removeEventListener("scroll",this.handleScroll.bind(this)),this.scrollToTimer&&clearTimeout(this.scrollToTimer)}},{key:"handleScroll",value:function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,t=this.props.isSmartLife?z.a.smartLifeLayoutY:this.props.isSeckill?375:z.a.LayoutY;this.props.subTabSetIsFirst?(!this.state.navTop&&e>t&&(B.a.setTabsTop(!0),this.setState({navTop:!0},(function(){D.a.emit("tabViewWeb",{navTop:!0})}))),e<=t&&this.state.navTop&&(B.a.setTabsTop(!1),this.setState({navTop:!1},(function(){D.a.emit("tabViewWeb",{navTop:!1})})))):(!this.state.navTop&&e>t&&t>0&&(B.a.setTabsTop(!0),this.setState({navTop:!0},(function(){D.a.emit("tabViewWeb",{navTop:!0})}))),e<=t&&this.state.navTop&&(B.a.setTabsTop(!1),this.setState({navTop:!1},(function(){D.a.emit("tabViewWeb",{navTop:!1})}))))}},{key:"render",value:function(){var e=this,t="large"===Object(I.a)(this.props.width),n=this.props,r=n.titleHeight,o=n.isSmartLife,i="overlayTop"===this.props.tabBarPosition||"overlayBottom"===this.props.tabBarPosition,a=B.a.isShowLoading,l={goToPage:this.goToPage,tabs:this._children().map((function(e){return e.props.heading})),subTitle:this._children().map((function(e){return e.props.subTitleLabel})),topFixed:this._children().map((function(e){return e.props.topFixed})),subTitleShow:this._children().map((function(e){return e.props.subTitleShow})),tabStyle:this._children().map((function(e){return e.props.tabStyle})),activeTabStyle:this._children().map((function(e){return e.props.activeTabStyle})),textStyle:this._children().map((function(e){return e.props.textStyle})),activeTextStyle:this._children().map((function(e){return e.props.activeTextStyle})),tabHeaderStyle:this._children().map((function(e){return C()(e.props.heading.props,"style",void 0)})),disabled:this._children().map((function(e){return e.props.disabled})),accessible:this._children().map((function(e){return 0!=e.props.accessible})),accessibilityLabel:this._children().map((function(e){return e.props.accessibilityLabel})),activeTab:this.state.currentPage,scrollValue:this.state.scrollValue,containerWidth:this.state.containerWidth},s=this.props.isSeckill;return this.props.tabBarBackgroundColor&&(l.backgroundColor=this.props.tabBarBackgroundColor),this.props.tabBarActiveTextColor&&(l.activeTextColor=this.props.tabBarActiveTextColor),this.props.tabBarInactiveTextColor&&(l.inactiveTextColor=this.props.tabBarInactiveTextColor),this.props.tabBarTextStyle&&(l.textStyle=this.props.tabBarTextStyle),this.props.tabBarUnderlineStyle&&(l.underlineStyle=this.props.tabBarUnderlineStyle),this.props.tabContainerStyle&&(l.tabContainerStyle=this.props.tabContainerStyle),i&&(l.style=w()({position:"absolute",left:0,right:0},"overlayTop"===this.props.tabBarPosition?"top":"bottom",0)),P.a.createElement(E.b,{themeStyles:function(e){return Object(F.a)(e)}},(function(n,i){return P.a.createElement(R.a,{style:[K.container,e.props.style],onLayout:e._handleLayout,ref:function(t){e.tabViewWrapper=t}},"top"===e.props.tabBarPosition||"overlayTop"===e.props.tabBarPosition?P.a.createElement(P.a.Fragment,null,P.a.createElement(R.a,{style:"web"===L.a.OS||Object(V.F)()?[e.state.tabWidth,!e.state.navTop||e.isShopPage||e.props.isFromSeckillChannel?{position:"relative",top:"auto"}:{position:"fixed",top:U.a.previewTop?0:o?54:r}]:null},e.renderTabBar(l))):null,B.a.tabsTop&&!s?P.a.createElement(R.a,{style:{marginTop:t?64:56}}):null,e.renderScrollableContent(n,a),("bottom"===e.props.tabBarPosition||"overlayBottom"===e.props.tabBarPosition)&&e.renderTabBar(l))}))}}]),n}(O.Component),w()(o,"defaultProps",{isHomepage:!1,isSeckill:!1,isSmartLife:!1,isFixed:"true",stickyScrollY:new _.a.Value(0),tabBarPosition:"top",initialPage:0,page:-1,onChangeTab:function(){},onScroll:function(){},contentProps:{},scrollWithoutAnimation:!1,locked:!1,prerenderingSiblingsNumber:0,titleHeight:0}),r=o))||r;t.a=J;var K=N.a.create({container:{},scrollableContentAndroid:{}})},,function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0});var o={CommonActions:!0,BaseRouter:!0,StackRouter:!0,StackActions:!0,TabRouter:!0,TabActions:!0,DrawerRouter:!0,DrawerActions:!0};Object.defineProperty(t,"BaseRouter",{enumerable:!0,get:function(){return a.default}}),t.CommonActions=void 0,Object.defineProperty(t,"DrawerActions",{enumerable:!0,get:function(){return c.DrawerActions}}),Object.defineProperty(t,"DrawerRouter",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"StackActions",{enumerable:!0,get:function(){return l.StackActions}}),Object.defineProperty(t,"StackRouter",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"TabActions",{enumerable:!0,get:function(){return s.TabActions}}),Object.defineProperty(t,"TabRouter",{enumerable:!0,get:function(){return s.default}});var i=p(n(475));t.CommonActions=i;var a=r(n(272)),l=p(n(476)),s=p(n(332)),c=p(n(477)),u=n(478);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r=n(15),o=n.n(r),i=n(17),a=n.n(i),l=n(26),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(0),P=n.n(O),T=n(37),x=n(87),I=n(49),k=n(446),E=n(149),j=n(54),R=n(157),L=n(48),_=n(40),D=n(119),N=n(102),W=n(22),A=n(3),B=n(11),M=n(230),F=n(70),H=n(33);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var U=[],V=[],G=0,Y=0;"ios"===T.a.OS&&(Object(H.e)().then((function(e){Y=e})).catch((function(e){})),Object(H.a)().then((function(e){G=e})).catch((function(e){})));var J=function(e){m()(i,e);var t,n,r=z(i);function i(e){var t;u()(this,i),t=r.call(this,e),C()(h()(t),"touchX",void 0),C()(h()(t),"touchY",void 0),C()(h()(t),"_panResponder",void 0),C()(h()(t),"lister1",void 0),C()(h()(t),"lister2",void 0),C()(h()(t),"lister3",void 0),C()(h()(t),"lister4",void 0),C()(h()(t),"timer1",void 0),C()(h()(t),"listenHomepage",void 0),C()(h()(t),"pan",new x.a.ValueXY),C()(h()(t),"getCurrentLeft",(function(){var e=t.props,n=e.displayPosition,r=e.width;"lowerRight"===n?t.setState({left:(L.a.isApp()?t.state.width:r)-t.state.dragWidth-8,isRight:L.a.isApp()?t.state.width:r}):t.setState({left:8,isRight:L.a.isApp()?t.state.width:r})})),C()(h()(t),"getCurrentTop",(function(e){var n=t.props,r=n.displayPosition,o=n.index,i=n.bottonNav,a=n.containerHeight,l="web"!==T.a.OS?i&&a?a:t.state.height:t.props.height,s="homePage"===t.props.pageType?3/4:.5;"lowerRight"===r?(e&&V.push(o),t.setState({top:l*s-60*V.indexOf(o)-(t.props.tabHeight||0),isloadHeight:!1})):(e&&U.push(o),t.setState({top:l*s-60*U.indexOf(o)-(t.props.tabHeight||0),isloadHeight:!1}))})),C()(h()(t),"isPadHorizontal",(function(){var e=t.state,n=e.width;return!(e.height>n)})),C()(h()(t),"isPad",(function(){return"medium"===Object(_.a)(t.state.width)||"large"===Object(_.a)(t.state.width)&&t.props.width<D.a.safety_area})),C()(h()(t),"bindHandleScroll",(function(){"true"===t.props.slideUp&&(t.timer1=setTimeout((function(){t.setState({transitionDuration:"0.8s",isShow:!1})}),100))})),C()(h()(t),"_onScrollBeginDrag",(function(e,n){n===t.props.pageType&&"true"===t.props.slideUp&&x.a.timing(t.state.drdcAnim,{toValue:1,duration:600,useNativeDriver:!0}).start()})),C()(h()(t),"_unBindHandleScroll",(function(e,n){var r=t.props.isApp,o=L.a.isApp()?t.state.width:t.props.width,i=t.state,a=i.left,l=i.dragWidth;n===t.props.pageType&&(parseInt(a)===parseInt(o-l)||parseInt(a)===parseInt(o-l-8)?t.setState({left:o-t.state.dragWidth}):t.setState({left:0}),"true"===t.props.slideUp&&(t.timer1=setTimeout((function(){t.setState({isShow:!0,transitionDuration:"0.8s"})}),800),r&&x.a.sequence([x.a.delay(800),x.a.timing(t.state.drdcAnim,{toValue:0,duration:600,useNativeDriver:!0})]).start()))})),C()(h()(t),"_scrollyChange",(function(e,n){n===t.props.pageType&&0===e&&x.a.sequence([x.a.delay(800),x.a.timing(t.state.drdcAnim,{toValue:0,duration:600,useNativeDriver:!0})]).start()}));var n=t.props,o=n.bottonNav,a=n.containerHeight;return t.state={width:Object(A.x)(t.props.pageType).screenWidth,height:o&&a?a:Object(A.x)(t.props.pageType||"homePage").screenHeight,dragWidth:48,left:0,isRight:t.props.width,top:0,transitionDuration:"0s",isShow:!0,drdcAnim:new x.a.Value(0),posAbs:"absolute",posFix:"fixed",isloadHeight:!0},t}return p()(i,[{key:"componentDidMount",value:(n=s()(a.a.mark((function e(){var t,n,r,o=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.getCurrentLeft(),t=this.props,n=t.bottonNav,r=t.containerHeight,!("android"!==T.a.OS||n&&r)){e.next=6;break}this.getCurrentTop(!0),e.next=13;break;case 6:return e.t0=this,e.next=9,Object(A.t)();case 9:e.t1=+e.sent,e.t2={height:e.t1},e.t3=function(){o.getCurrentTop(!0)},e.t0.setState.call(e.t0,e.t2,e.t3);case 13:"web"===T.a.OS?(window.addEventListener("scroll",this.bindHandleScroll),this.listenHomepage=I.a.addListener("scroll",this.bindHandleScroll)):(this.lister1=I.a.addListener("onOutScrollViewScroll",this._scrollyChange),this.lister3=I.a.addListener("onScrollBeginDragEvent",this._onScrollBeginDrag),this.lister4=I.a.addListener("isTopTap",(function(e){o._onScrollBeginDrag(e.e,e.pageType)}))),this.lister2=I.a.addListener(L.a.isIOS()?"iosForOnScrollEvent":"onScrollEvent",this._unBindHandleScroll);case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){"web"===T.a.OS?(window.removeEventListener("scroll",this.bindHandleScroll),this.listenHomepage&&this.listenHomepage.remove()):(this.lister1&&this.lister1.remove(),this.lister3&&this.lister3.remove(),this.lister4&&this.lister4.remove()),this.lister2&&this.lister2.remove(),this.timer1&&clearTimeout(this.timer1)}},{key:"componentWillMount",value:function(){var e=this;this._panResponder=k.a.create({onStartShouldSetPanResponder:function(){return!0},onMoveShouldSetPanResponder:function(){return!0},onPanResponderGrant:function(){e.touchX=e.state.left,e.touchY=e.state.top,e.setState({transitionDuration:"0s"})},onPanResponderMove:function(t,n){var r=e.props,o=r.pageType,i=r.bottonNav,a=r.containerHeight,l="web"!==T.a.OS?Object(A.x)(e.props.pageType||"homePage").screenHeight:e.props.height,s=("homePage"===o||"personal"===o||e.props.isImmersiveHeader)&&L.a.isApp()?L.a.isAndroid()?56+E.a.currentHeight:i?56:56+Y:0;s=i?e.props.isImmersiveHeader?E.a.currentHeight+56+Y:"homePage"===o||"personal"===o?E.a.currentHeight+56:E.a.currentHeight:e.props.tabHeight?e.props.tabHeight||0:s;var c=L.a.isApp()?e.state.width:e.props.width,u=e.state.dragWidth,d=e.touchX+n.dx,p=e.touchY+n.dy;d>=c-u&&(d=c-u),i?p>=a-u&&(p=a-u):p>=l-u-F.a.barHeight&&(p=l-u-F.a.barHeight),d<=0&&(d=0),p<=s-(e.props.tabHeight||0)&&(p=s-(e.props.tabHeight||0)),L.a.isIOS()&&(p=p>j.a.get("window").height-G-u?j.a.get("window").height-G-u:p),e.setState({left:d,top:p})},onPanResponderRelease:function(t,n){e._undrag(n);var r=L.a.isApp()?e.state.width:e.props.width,o=e.state.dragWidth,i=n.x0,a=n.dx,l=0,s=r-o;l=a>0&&i<=s/2?Math.abs(a)<=s/2?0:s:a<0&&i>s/2?Math.abs(a)<=s/2?s:0:i<=s/2?0:s,e.setState({left:l,transitionDuration:"0.8s"})},onPanResponderTerminate:function(){}})}},{key:"_undrag",value:function(e){var t=this.props,n=t.title,r=t.orderNum,o=t.actionUrl,i=t.actionUrlWap,a=t.isWap,l=t.card,s=t.width,c=this.state.left>Math.round(s/2)?"2":"1",u=a?i:o;0===e.dx?(this.props.onReportDataFixedBuoy(l,n,r,u,c),Object(W.b)("",!0),Object(A.A)(u,!1)):this.props.onReportDataFixedBuoy(l,n,r,u,c,1)}},{key:"initWidth",value:(t=s()(a.a.mark((function e(t){var n,r,o,i,l=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.width==t){e.next=6;break}return e.next=3,Object(A.t)();case 3:n=+e.sent,r=this.props,o=r.bottonNav,i=r.containerHeight,this.setState({width:t,height:o&&i?i:n},(function(){l.getCurrentLeft(),l.getCurrentTop()}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.left,r=t.top,i=t.transitionDuration,a=t.isShow,l=t.isRight,s=t.dragWidth,c=t.posAbs,u=t.posFix,d=t.isloadHeight,p=this.props.imgUrl,f=L.a.isApp()?this.state.width:this.props.width,h=parseInt(n)===parseInt(f-s)||parseInt(n)===parseInt(f-s-8);return P.a.createElement(N.b,{themeStyles:M.a},(function(t,f,g){return e.initWidth(g),!d&&P.a.createElement(x.a.View,o()({style:[t.container,{position:"web"===T.a.OS?u:c,left:a?n:h?l:-s,top:r,transitionDuration:i,width:s,height:s,transform:[{translateX:e.state.drdcAnim.interpolate({inputRange:[0,1],outputRange:[0,h?s:-s]})}]}]},e._panResponder.panHandlers),P.a.createElement(R.a,{style:t.dragButton,source:{uri:B.a.cmsCdnPath+p}}))}))}}]),i}(O.Component)},,,function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=new(r=function(){function e(){s()(this,e),a()(this,"previewTop",o,this)}return u()(e,[{key:"setPreviewTop",value:function(e){this.previewTop=e}}]),e}(),o=p()(r.prototype,"previewTop",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p()(r.prototype,"setPreviewTop",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"setPreviewTop"),r.prototype),r);t.a=h},,,function(e,t,n){"use strict";var r=SyntaxError,o=Function,i=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var s=function(){throw new i},c=l?function(){try{return s}catch(e){try{return l(arguments,"callee").get}catch(e){return s}}}():s,u=n(374)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?void 0:d(Uint8Array),h={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?d((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?d((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=n(188),y=n(377),v=m.call(Function.call,Array.prototype.concat),b=m.call(Function.apply,Array.prototype.splice),w=m.call(Function.call,String.prototype.replace),S=m.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,P=function(e){var t=S(e,0,1),n=S(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var o=[];return w(e,C,(function(e,t,n,r){o[o.length]=n?w(r,O,"$1"):t||e})),o},T=function(e,t){var n,o=e;if(y(g,o)&&(o="%"+(n=g[o])[0]+"%"),y(h,o)){var l=h[o];if(l===p&&(l=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=d(o.prototype))}return h[t]=n,n}(o)),void 0===l&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:o,value:l}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var n=P(e),o=n.length>0?n[0]:"",a=T("%"+o+"%",t),s=a.name,c=a.value,u=!1,d=a.alias;d&&(o=d[0],b(n,v([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var g=n[p],m=S(g,0,1),w=S(g,-1);if(('"'===m||"'"===m||"`"===m||'"'===w||"'"===w||"`"===w)&&m!==w)throw new r("property names with quotes must have matching quotes");if("constructor"!==g&&f||(u=!0),y(h,s="%"+(o+="."+g)+"%"))c=h[s];else if(null!=c){if(!(g in c)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=n.length){var C=l(c,g);c=(f=!!C)&&"get"in C&&!("originalValue"in C.get)?C.get:c[g]}else f=y(c,g),c=c[g];f&&!u&&(h[s]=c)}}return c}},function(e,t,n){"use strict";var r=n(376);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";e.exports={default:a,formatters:{RFC1738:function(e){return r.call(e,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:i,RFC3986:a}},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(39),w=n.n(b),S=n(34),C=n.n(S),O=n(0),P=n.n(O),T=n(17),x=n.n(T),I=n(26),k=n.n(I),E=n(92),j=n.n(E),R=n(58),L=n.n(R),_=n(37),D=n(43),N=n(126),W=n(152),A=n(49),B=n(250),M=n(267),F=n(446),H=n(54),z=n(708),U=n(57),V=n(102),G=n(1741),Y=n(185),J=n(50),K=n(30),q=n(53);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=n(24),Z=n(3),ee=n(22),te=n(10),ne=n(21),re=n(48);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae={exposeItem:function(e){var t=this,n=this.props,r=n.id,o=n.width,i=(n.pageId,n.pageCatCode),a=n.pageCatName,l=n.resSiteCode,s=n.resSiteName,c={array:e.map((function(e,n){if(e.hasOwnProperty("comId"))return{comId:e.comId,index:e.index.toString(),index_name:e.title.toString()};var o,i=t.props.data[e.key];return{comId:r.toString(),index:e.key.toString(),index_name:(null==i||null===(o=i.title)||void 0===o?void 0:o.toString())||""}}))};return{isBatch:!0,commonData:{actionCode:re.a.isPc(o)?"310000101":re.a.isApp()?"110000101":"210000101",actionName:"图标网格组件曝光",eventType:te.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId,pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s},content:c.array}},clickItem:function(e,t,n,r){var o=Object(Z.F)()?this:this.props,i=o.id,a=(o.pageId,o.pageCatCode),l=o.pageCatName,s=o.resSiteCode,c=o.resSiteName,u="",d={};return"更多"===r?(u="图标网格组件-点击-更多",d={index:"",gotoURL:n,clickType:te.b.CLICK_MORE}):u="图标网格组件-点击-"+(null==e?void 0:e.title),{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:u,eventType:te.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:ie({comId:i.toString(),gotoPageId:"",gotoURL:n,index:t.toString(),index_name:null==e?void 0:e.title,row:"",column:"",clickType:te.b.CLICK_GOODS_CONTENT},d),pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ce={minimumViewTime:300,viewAreaCoveragePercentThreshold:10,waitForInteraction:!0},ue=null,de=function(e){p()(n,e);var t=se(n);function n(e){var r;a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"layView",void 0),v()(u()(r),"_panResponder",void 0),v()(u()(r),"handleViewableItemsChanged",void 0),v()(u()(r),"scrollChanged",void 0),v()(u()(r),"visiableItemList",[]),v()(u()(r),"itemlist",[]),v()(u()(r),"scrollTimer",void 0),v()(u()(r),"listener1",void 0),v()(u()(r),"tmpItemIndex",[]),v()(u()(r),"viewableItems",[]),v()(u()(r),"isVisiableView",void 0),v()(u()(r),"onScroItem",void 0),v()(u()(r),"refItem",(function(e){r.item=e,"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),v()(u()(r),"_onScrollMomentEnd",(function(){r.scrollTimer&&clearTimeout(r.scrollTimer),r.scrollTimer=setTimeout((function(){r.exposeItem(r.visiableItemList)}),500)})),v()(u()(r),"onLayout",(function(e){e.nativeEvent.layout.height>16&&r.setState({heights:32})})),v()(u()(r),"isApkOrIos",(function(){return"android"===_.a.OS||"ios"===_.a.OS||Object(Z.F)()?{}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r._panResponder.panHandlers)})),v()(u()(r),"towRowScrollRenderItem",(function(e,t,n){var i=r.props.bgBox;return P.a.createElement(D.a,o()({ref:r.refItem,style:{borderWidth:1,borderColor:"transparent"}},r.isApkOrIos()),P.a.createElement(N.a,{onPress:function(){r.utilGotoPage(e,t)},style:{justifyContent:"center",alignItems:"center",marginBottom:t>4?0:8,paddingTop:i?0:8},activeOpacity:1},P.a.createElement(D.a,null,P.a.createElement(X.a,{imgUri:e.imgUrl,imgStyle:n.image})),P.a.createElement(W.a,{numberOfLines:2,style:[n.text,r.state.headerBoxStyle.textStyle]},e.title)))}));var i={bgImg:"",imgStyle:{},textStyle:{}};r.props.styleChange&&(i=Object(Z.i)(r.props.styleChange,"small")||i);return r.state={dataLength:0,heights:16,preVisiableIndex:[],headerBoxStyle:i,offsetX:0,itemRefList:[],itemPreItemIndexList:[]},r.handleViewableItemsChanged=r.handleVisiableChange.bind(u()(r)),r}return s()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;this._layout(this.layView).then(function(){var e=k()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.pageY<0?n.isVisiableView=!1:n.setState({iconPageY:t.pageY});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.iconPageY!==this.state.iconPageY&&this._layout(this.layView).then(function(){var e=k()(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.state.iconPageY>0&&n.layView.recordInteraction();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var e=this;this.onScroItem=A.a.addListener("onScrollEvent",(function(t){e._layout(e.layView).then(function(){var t=k()(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.pageY<0?e.isVisiableView=!1:(e.setState({iconPageY:n.pageY}),e.isVisiableView||(e.visiableItemList=L()(e.viewableItems,(function(t){t.isViewable&&e.exposeItem([t])}))),e.isVisiableView=!0);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"_layout",value:function(e){var t=Object(B.a)(e)||0;return new Promise((function(e){M.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"handleVisiableChange",value:function(e){var t=this,n=e||{},r=n.changed,o=n.viewableItems;this.viewableItems=o,this.visiableItemList=L()(r,(function(e){e.isViewable&&t.exposeItem([e])}))}},{key:"exposeItem",value:function(e){}},{key:"clickItem",value:function(e,t,n){}},{key:"UNSAFE_componentWillMount",value:function(){Object(Z.F)()||(this._panResponder=F.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"utilGotoPage",value:function(e,t){var n=this.props.onReportDataIconGrid,r="";if(r="ios"===_.a.OS||"android"===_.a.OS?e.actionUrl:e.actionUrlWap,Object(Z.F)()?Object(Z.A)(r):ue=setTimeout((function(){Object(Z.A)(r)}),150),Object(Z.F)()){var o=this.props,i=o.id,a=o.pageCatCode,l=o.pageCatName,s=o.resSiteCode,c=o.resSiteName;Object(ee.a)({actionCode:Object(Z.n)().platformType+Object(Z.n)().eventID,actionName:"图标网格组件-点击-"+(null==e?void 0:e.title),eventType:te.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{comId:i.toString(),gotoPageId:"",gotoURL:e.actionUrlWap,index:t.toString(),index_name:null==e?void 0:e.title,row:"",column:"",clickType:te.b.CLICK_GOODS_CONTENT},pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c})}else n&&n(e,t,r)}},{key:"componentWillUnmount",value:function(){ue&&clearTimeout(ue),this.scrollTimer&&clearTimeout(this.scrollTimer),this.onScroItem.remove()}},{key:"renderScrollLayout",value:function(e,t,n,r,i,a,l){var s=this,c=this.props,u=(c.data,c.isShop),d=void 0!==u&&u;return P.a.createElement(D.a,this.isApkOrIos(),P.a.createElement(N.a,{onPress:function(){s.utilGotoPage(e,t)},key:t,style:[a.item,{width:r}],activeOpacity:1},P.a.createElement(D.a,null,P.a.createElement(X.a,{imgUri:e.imgUrl,imgStyle:a.image,imgProportion:1,imgWidth:d?0:r})),P.a.createElement(W.a,o()({numberOfLines:d?1:2,style:[a.text,{minHeight:this.state.heights},this.state.headerBoxStyle.textStyle]},Object(Z.F)()?{}:{onLayout:this.onLayout}),e.title)))}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.data,a=r.layoutType,l=r.rowsPerScreen,s=r.groupStyleChange,c=r.styleChange,u=r.configInfo,d=r.layoutPageWidth,p=r.isShop,f=void 0!==p&&p,h=r.shopItem,g=u||{},m=g.bgBox,y=g.titleShow,v=g.more,b=g.iconSize,w=this.state.headerBoxStyle,S=0,O=0,T=0,x={},I={},k="true"===m,E={},R=!1;(w.bgImg||null!==(e=w.imgStyle)&&void 0!==e&&e.backgroundColor)&&(T=12,x.paddingTop=k?null:8,R=!0,x.borderRadius=16,E.backgroundColor=null===(t=w.imgStyle)||void 0===t?void 0:t.backgroundColor);var L={},A="web"===_.a.OS?H.a.get("window").width:d;"true"===y&&k||"2"===v&&k?(L.width=A-32,L.marginTop=8,L.marginBottom=10):k&&"false"===y?(L.resizeMode="stretch",L.marginBottom=10,L.marginTop=8,L.width=A-32):L.marginTop=0;var B=K.a.darkBool,M=((j()(s)||{}).styleChange,!C()(c));switch(a){case"FourColumnLayout":S=(Math.floor(A)-32-2*T)/4,O=4*l;break;case"FiveColumnLayout":S=(Math.floor(A)-32-2*T)/5,O=5*l;break;case"ScrollLayoutFour":var F;if(f)S=null!==(F=null==h?void 0:h.itemWidth)&&void 0!==F?F:78;else S=k?(A-20-(R?24:12))/4.5:(A-20-12-T)/4.5;break;case"TowRowScrollLayout":S=(A-20-(R?32:16)-T)/4.5}return P.a.createElement(V.b,{themeStyles:function(e){return function(e,t,n,r,o,i){var a=(null==n?void 0:n.textStyle).color;return U.a.create({indicatorBgStyle:{borderRadius:3,width:40,height:4,backgroundColor:e.C33.color},indicatorStyle:{borderRadius:3,height:4,width:20,backgroundColor:e.C35.color},scrollViewCls:{display:"flex"},scroll:{height:"100%",flex:1,flexDirection:"row"},item:{justifyContent:"flex-start",alignItems:"center",flexDirection:"column",paddingTop:8},image:{width:i||(1==o?48:40),height:i||(1==o?48:40),justifyContent:"center",borderRadius:i?8:0},text:$($($({},e.T3),e.C12),{},{color:a&&r?a:e.C12.color,marginTop:4,marginBottom:4,textAlign:"center",fontFamily:q.a.fontFamilyBase})})}(e,0,w,B,b,null==h?void 0:h.imgSize)}},(function(e,t,r){return"ScrollLayoutFour"===a?P.a.createElement(J.a,{style:[w.imgStyle,fe.wapContainer,x,L,{tintColor:""},Object(Z.F)()?{height:100}:{}]},P.a.createElement(z.a,{style:[e.scrollViewCls,{paddingHorizontal:T}],horizontal:!0,data:i,renderItem:function(t){var o=t.item,i=t.index;return n.renderScrollLayout(o,i,O,S,r,e,R)},ref:function(e){n.layView=e},initialNumToRender:20,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,onMomentumScrollEnd:n._onScrollMomentEnd,onViewableItemsChanged:n.handleViewableItemsChanged,viewabilityConfig:ce,keyExtractor:function(e,t){return t.toString()}})):"TowRowScrollLayout"===a?P.a.createElement(J.a,{style:[w.imgStyle,fe.wapContainer,E,x,I,L]},P.a.createElement(G.a,o()({phoneOrPad:!0,isMp:!!Object(Z.F)(),dataArray:i,phonePadding:T,indicatorBgStyle:[e.indicatorBgStyle,M?{backgroundColor:"#00000033"}:k?{backgroundColor:"rgba(0,0,0,0.05)"}:{}],indicatorStyle:[e.indicatorStyle,M?{backgroundColor:"#fff"}:{}]},Object(Z.F)()&&{query:wx.createSelectorQuery()},{container:{width:A-32},renderItem:function(t){var r=t.item,o=t.index;return n.towRowScrollRenderItem(r,o,e)}},"wx"!==_.a.OS&&"ali"!==_.a.OS?n._panResponder.panHandlers:{}))):"FiveColumnLayout"===a||"FourColumnLayout"===a?P.a.createElement(J.a,{style:[w.imgStyle,fe.wapContainer,x,I,L]},P.a.createElement(D.a,{style:[{paddingHorizontal:T},fe.noPadding]},i.slice(0,O).map((function(t,r){return P.a.createElement(D.a,o()({key:r,style:[e.item,{width:S}],ref:n.refItem,collapsable:!1},n.isApkOrIos()),P.a.createElement(N.a,{style:[fe.item,{width:S}],onPress:function(){n.utilGotoPage(t,r)},activeOpacity:1},P.a.createElement(D.a,null,P.a.createElement(X.a,{imgUri:t.imgUrl,imgStyle:e.image,imgProportion:1,imgWidth:S})),P.a.createElement(W.a,{numberOfLines:2,style:[e.text,w.textStyle]},t.title)))})))):void 0}))}}]),n}(O.PureComponent),pe=Object(Y.a)(Object(ne.a)(ae)(de)),fe=U.a.create({container:{height:"100%",flex:1,flexDirection:"row",flexWrap:"wrap"},noPadding:{flexWrap:"wrap",flexDirection:"row"},wapContainer:{overflow:"hidden"},item:{justifyContent:"center",alignItems:"center"}}),he=n(1018),ge=n(40);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=H.a.get("window").width,be=Object(ge.a)(ve),we=function(e){return U.a.create({item:{alignItems:"center",paddingTop:8,paddingBottom:8,paddingHorizontal:4,minHeight:95},image:{borderRadius:48,width:48,height:48,justifyContent:"center",alignItems:"center",overflow:"hidden"},text:{textAlign:"center",fontFamily:q.a.fontFamilyBase,marginTop:10,paddingLeft:28,paddingRight:28},textHover:ye(ye({fontWeight:"400"},e.C73),{},{textAlign:"center",fontFamily:q.a.fontFamilyBase,marginTop:10,paddingLeft:28,paddingRight:28}),background:{borderRadius:48,width:48,height:48,justifyContent:"center",alignItems:"center"},backgroundHover:{borderRadius:48,backgroundColor:"rgba(0,0,0,0.05)",width:48,height:48,justifyContent:"center",alignItems:"center"},bgImageIcon:{resizeMode:"stretch",borderRadius:16,paddingTop:12,paddingBottom:12},bgImage:{resizeMode:"stretch",borderTopLeftRadius:"large"===be?null:16,borderTopRightRadius:"large"===be?null:16,marginLeft:"medium"===be?24:16,marginRight:"medium"===be?24:16},bgImageWeb:{resizeMode:"stretch",borderTopLeftRadius:"large"===be?null:16,borderTopRightRadius:"large"===be?null:16},bgImageTitle:{resizeMode:"stretch",paddingTop:8,paddingBottom:"large"===be?null:12,borderTopLeftRadius:"large"===be?null:16,borderTopRightRadius:"large"===be?null:16}})},Se=n(119),Ce=n(660);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Pe=null,Te=function(e){p()(n,e);var t=Oe(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"refItem",(function(e){r.item=e,"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),r.state={headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},r}return s()(n,[{key:"utilGotoPage",value:function(e,t){(0,this.props.onReportDataIconGrid)(e,t,e.actionUrlWeb),Pe=setTimeout((function(){Object(Z.A)(e.actionUrlWeb)}),150)}},{key:"componentWillUnmount",value:function(){Pe&&clearTimeout(Pe)}},{key:"componentDidMount",value:function(){if(this.props.styleChange){var e=Object(Z.i)(this.props.styleChange,"large");e&&this.setState({headerBoxStyle:e})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.configInfo||{},o=r.bgBox,i=(r.titleShow,r.more,"true"===o),a={paddingTop:12,paddingBottom:12};return P.a.createElement(V.b,{themeStyles:we},(function(t,r,o){return"web"===_.a.OS&&(o=e.props.width),o>Se.a.IPAD_WIDTH&&o<Se.a.safety_area?P.a.createElement(D.a,{style:[xe.noPadding,{width:o,backgroundColor:i?r.S31.backgroundColor:null},e.state.headerBoxStyle.imgStyle,i?null:xe.borderRadius,i?t.bgImageWeb:null]},n.slice(0,8).map((function(n,r){return P.a.createElement(D.a,{style:[i&&a,{width:Se.a.safety_area,flex:1},e.state.headerBoxStyle.imgStyle],key:r,ref:e.refItem},P.a.createElement(Ce.a,null,(function(o){return P.a.createElement(N.a,{onPress:function(){e.utilGotoPage(n,r)}},P.a.createElement(D.a,{style:[t.item]},P.a.createElement(he.a,{source:{uri:n.imgUrl},style:t.image},P.a.createElement(D.a,{style:o?t.backgroundHover:t.background})),P.a.createElement(W.a,{numberOfLines:2,style:[o?t.textHover:t.text,e.state.headerBoxStyle.textStyle]},n.title)))})))}))):P.a.createElement(D.a,{style:[e.state.headerBoxStyle.imgStyle]},P.a.createElement(D.a,{style:[xe.container,{width:Se.a.safety_area,margin:"auto",flexWrap:"wrap",alignItems:"flex-start"},i&&a,e.state.headerBoxStyle.imgStyle]},n.length>8?n.slice(0,12).map((function(n,r){return P.a.createElement(D.a,{style:[{flexWrap:"wrap",alignItems:"flex-start",paddingBottom:i?12:null}],key:r,ref:e.refItem},P.a.createElement(Ce.a,null,(function(o){return P.a.createElement(N.a,{onPress:function(){e.utilGotoPage(n,r)}},P.a.createElement(D.a,{key:n.id,style:[{width:200},t.item]},P.a.createElement(he.a,{source:{uri:n.imgUrl},style:t.image},P.a.createElement(D.a,{style:o?t.backgroundHover:t.background})),P.a.createElement(W.a,{numberOfLines:2,style:[o?t.textHover:t.text,e.state.headerBoxStyle.textStyle]},n.title)))})))})):n.slice(0,8).map((function(n,o){return P.a.createElement(D.a,{style:[{width:Se.a.safety_area,flex:1,backgroundColor:i?r.S31.backgroundColor:null,paddingBottom:i?24:null},e.state.headerBoxStyle.imgStyle],key:o,ref:e.refItem},P.a.createElement(Ce.a,null,(function(r){return P.a.createElement(N.a,{onPress:function(){e.utilGotoPage(n,o)}},P.a.createElement(D.a,{key:n.id,style:t.item},P.a.createElement(he.a,{source:{uri:n.imgUrl},style:t.image},P.a.createElement(D.a,{style:r?t.backgroundHover:t.background})),P.a.createElement(W.a,{numberOfLines:2,style:[r?t.textHover:t.text,e.state.headerBoxStyle.textStyle]},n.title)))})))}))))}))}}]),n}(O.PureComponent),xe=U.a.create({container:{flexDirection:"row"},noPadding:{flexDirection:"row"},borderRadius:{overflow:"hidden",borderRadius:16}});function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var je=function(e){p()(n,e);var t=Ee(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"refItem",(function(e){r.item=e,"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),r.state={heights:16,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},r}return s()(n,[{key:"utilGotoPage",value:function(e,t){var n=this.props.onReportDataIconGrid;if("ios"===_.a.OS||"android"===_.a.OS)setTimeout((function(){Object(Z.A)(e.actionUrl)}),150),n(e,t,e.actionUrl);else if(Object(Z.F)()?Object(Z.A)(e.actionUrlWap):setTimeout((function(){Object(Z.A)(e.actionUrlWap)}),150),Object(Z.F)()){var r=this.props.id;Object(ee.a)({actionCode:Object(Z.n)().platformType+Object(Z.n)().eventID,actionName:"图标网格组件-点击-"+(null==e?void 0:e.title),eventType:te.e.EVENT_TYPE_CLICK,pageId:this.props.pageId,content:{comId:r.toString(),gotoPageId:"",gotoURL:e.actionUrlWap,index:t.toString(),index_name:null==e?void 0:e.title,row:"",column:"",clickType:te.b.CLICK_GOODS_CONTENT}})}else n(e,t,e.actionUrlWap)}},{key:"clickItem",value:function(e,t,n){}},{key:"componentDidMount",value:function(){if(!Object(Z.D)(this.props.styleChange)){var e=Object(Z.i)(this.props.styleChange,"medium");e&&this.setState({headerBoxStyle:e})}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.data,o=n.configInfo,i=n.layoutType,a=n.rowsPerScreen,l=n.groupStyleChange,s=(n.height,n.bgBox),c=n.widthProps,u=n.isPadVerticalScreen,d=n.styleChange,p=this.state.headerBoxStyle,f=(o||{}).iconSize,h=0,g=0,m=0,y={},v={};(p.bgImg||null!==(e=p.imgStyle)&&void 0!==e&&e.backgroundColor)&&(m=12,y.borderRadius=16,y.paddingTop=8,y.paddingBottom=8);var b=K.a.darkBool,w=((j()(l)||{}).styleChange,!C()(d));switch(i){case"FourColumnLayout":h=(Math.floor(c)-48-2*m)/4,g=4*a;break;case"FiveColumnLayout":h=(Math.floor(c)-48-2*m)/5,g=5*a;break;case"ScrollLayoutFour":h=(c-m?48:24-m)/6.5}return P.a.createElement(V.b,{themeStyles:function(e){return function(e,t,n,r,o){var i=(null==n?void 0:n.textStyle).color;return U.a.create({indicatorBgStyle:{width:40,height:4,backgroundColor:e.C33.color},indicatorStyle:{borderRadius:3,height:4,width:20,backgroundColor:e.C35.color},scroll:{height:"100%",flex:1,flexDirection:"row"},item:{justifyContent:"flex-start",alignItems:"center",paddingHorizontal:2,flexDirection:"column"},image:{width:1==o?48:40,height:1==o?48:40,justifyContent:"center"},text:ke(ke(ke({},e.T3),e.C12),{},{color:i&&r?i:e.C12.color,marginTop:4,marginBottom:4,textAlign:"center",fontFamily:q.a.fontFamilyBase}),bgImage:{resizeMode:"stretch"}})}(e,0,p,b,f)}},(function(e,n,o){return"ScrollLayoutFour"===i||"TowRowScrollLayout"===i?P.a.createElement(J.a,{style:[p.imgStyle,Re.margin,y,""]},P.a.createElement(G.a,{padScreenDirection:u,phoneOrPad:!1,dataArray:r,isMp:!!Object(Z.F)(),indicatorBgStyle:[e.indicatorBgStyle,w?{backgroundColor:"#00000033"}:{}],indicatorStyle:[e.indicatorStyle,w?{backgroundColor:"#fff"}:{}],padPadding:m,padContainer:Object(Z.F)()?{width:c-48,height:88}:{width:c-48},renderItem:function(n){var r=n.item,o=n.index;return P.a.createElement(D.a,null,P.a.createElement(N.a,{ref:t.refItem,onPress:function(){t.utilGotoPage(r,o)},style:{width:"100%",justifyContent:"center",alignItems:"center",paddingTop:"true"==s?0:8},activeOpacity:1},P.a.createElement(D.a,null,P.a.createElement(X.a,{imgUri:r.imgUrl,imgStyle:e.image})),P.a.createElement(W.a,{numberOfLines:2,style:[e.text,p.textStyle],ellipsizeMode:"tail"},r.title)))}})):"FiveColumnLayout"===i||"FourColumnLayout"===i?P.a.createElement(J.a,{style:[Re.container,p.imgStyle,Re.margin,e.bgImage,y,v],resizeMode:"stretch"},P.a.createElement(D.a,{style:[{paddingHorizontal:m,width:c},Re.noPadding]},r.slice(0,g).map((function(n,r){return P.a.createElement(D.a,{key:r,style:[e.item,{width:h}],ref:t.refItem,collapsable:!1},P.a.createElement(N.a,{style:[Re.item,{width:h}],onPress:function(){t.utilGotoPage(n,r)},activeOpacity:1},P.a.createElement(D.a,null,P.a.createElement(X.a,{imgUri:n.imgUrl,imgStyle:e.image})),P.a.createElement(W.a,{numberOfLines:2,style:[e.text,p.textStyle]},n.title)))})))):void 0}))}}]),n}(O.PureComponent);v()(je,"defaultProps",{subTitleShow:!1,rowsPerScreen:1});var Re=U.a.create({container:{height:"100%",flex:1,flexDirection:"row",flexWrap:"wrap"},item:{justifyContent:"center",alignItems:"center"},margin:{overflow:"hidden"},noPadding:{flexWrap:"wrap",flexDirection:"row"}}),Le=n(432),_e=n(25),De=n(81);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e){var t={bgImageTitle:{paddingLeft:12,paddingRight:12},bgImage:{paddingLeft:0,paddingRight:0}};return U.a.create(We(We({},t),{},{bgImageTitle:{paddingLeft:24,paddingRight:24},imgBackground:{width:Se.a.safety_area,left:"50%",transform:"translateX(-50%)"}}))},Be=function(e){var t={bgImageTitle:{paddingLeft:12,paddingRight:12},bgImage:{paddingLeft:0,paddingRight:0}};return U.a.create(We(We({},t),{},{imgBackground:{marginLeft:24,marginRight:24,borderRadius:16,overflow:"hidden"}}))},Me=function(e){var t={bgImageTitle:{paddingLeft:12,paddingRight:12},bgImage:{paddingLeft:0,paddingRight:0}};return U.a.create(We(We({},t),{},{imgBackground:{marginLeft:24,marginRight:24,borderRadius:16,overflow:"hidden"}}))},Fe=function(e){var t={bgImageTitle:{paddingLeft:12,paddingRight:12},bgImage:{paddingLeft:0,paddingRight:0}};return U.a.create(We(We({},t),{},{imgBackground:{marginLeft:16,marginRight:16,borderRadius:16,overflow:"hidden"}}))};function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ze=function(e){p()(n,e);var t=He(n);function n(e){var r;a()(this,n),r=t.call(this,e),v()(u()(r),"itemlist",[]),v()(u()(r),"isHorizontalScreen",void 0),v()(u()(r),"isPadVerticalScreen",void 0),v()(u()(r),"isPadHorizontalScreen",void 0),v()(u()(r),"layoutWidth",void 0),v()(u()(r),"selfTheme",void 0),v()(u()(r),"receiveRef",(function(e){e&&r.itemlist.push(e)})),v()(u()(r),"renderScreenType",(function(e){var t=r.props,n=t.rowsPerScreen,i=t.configInfo,a=t.isShop,l=void 0!==a&&a,s=i||{},c=s.titleShow,u=void 0===c?"":c,d=s.bgBox,p="true"===u,f=Object(ge.a)(e);return"small"===f||l?P.a.createElement(pe,o()({},r.props,{rowsPerScreen:n,onReportDataIconGrid:r.props.clickItem,receiveRef:r.receiveRef,layoutPageWidth:e,bgBox:d,shopItem:l&&r.getShopItem()})):"medium"===f||Object(Z.F)()?P.a.createElement(je,o()({},r.props,{rowsPerScreen:n,onReportDataIconGrid:r.props.clickItem,receiveRef:r.receiveRef,isDisplayTitleBar:p,widthProps:e,bgBox:d,isPadVerticalScreen:r.isPadVerticalScreen})):P.a.createElement(Te,o()({},r.props,{onReportDataIconGrid:r.props.clickItem,receiveRef:r.receiveRef,isDisplayTitleBar:p,widthProps:e}))})),v()(u()(r),"getDrawCardWapStyles",(function(e){var t;r.isPadHorizontalScreen&&(t=Be),r.isPadVerticalScreen&&(t=Me),Object(Z.a)(e)&&(t=Fe),Object(Z.E)(e)&&(t=Ae),r.setState({DrawCardWapStyles:t})})),v()(u()(r),"getShopItem",(function(){var e=r.props.pageType,t=78,n=56,o=Object(Z.x)(e).screenHeight,i="small"===Object(ge.a)(o)&&"small"!==Object(ge.a)(r.layoutWidth);return r.isPadHorizontalScreen&&(t=152.5,n=120),(r.isPadVerticalScreen||i)&&(t=140,n=96),{itemWidth:t,imgSize:n}})),v()(u()(r),"initLayoutWidth",(function(e,t){var n="medium"===Object(ge.a)(e);if(r.layoutWidth!==e){r.isHorizontalScreen=r.layoutWidth<e&&e>=1024;var o=Object(ge.a)(e),i=Object(Z.i)(r.props.styleChange,o);i&&r.setState({headerBoxStyle:i})}r.selfTheme=t,r.layoutWidth=e,r.isPadHorizontalScreen=r.isHorizontalScreen&&n,r.isPadVerticalScreen=!r.isHorizontalScreen&&n,Object(Z.F)()||r.getDrawCardWapStyles(e)})),v()(u()(r),"getBgStyle",(function(e){var t=r.props,n=t.configInfo,o=t.styleChange,i={};return"true"===(n||{}).bgBox?(i.paddingBottom=r.isPadHorizontalScreen||r.isPadVerticalScreen?12:0,K.a.darkBool,!0===(null==o?void 0:o.isGroupStyleChange)?i.backgroundColor="#ffffff":null!=o&&o.bgColor?i.backgroundColor=null==o?void 0:o.bgColor:i.backgroundColor=null==e?void 0:e.S31.backgroundColor):i.backgroundColor="",i})),v()(u()(r),"getContainerWidth",(function(e){return"small"===Object(ge.a)(e)?e-32:"medium"===Object(ge.a)(e)?e-48:1200})),v()(u()(r),"onClickTitleMore",(function(){var e=r.props.configInfo,t=Object(Z.l)(e);r.props.clickItem({},-1,t,"更多"),Object(Z.A)(t)})),v()(u()(r),"renderCardHeader",(function(e,t,n){var o=r.props,i=o.configInfo,a=o.styleChange,l=o.pageType,s=o.imgNormal,c=o.imgDarkMode,u=i||{},d=u.cardTitle,p=void 0===d?"":d,f=u.more,h=void 0===f?"":f,g=u.titleShow,m=void 0===g?"":g,y=u.moreTitle,v=u.bgBox,b=u.showSetting,w=!C()(a)&&"true"===v&&K.a.darkBool,S="2"===h,O=y||Object(Le.b)("notice_more"),T="true"===m,x="true"!==v?e.imgBackground:{};return P.a.createElement(D.a,{style:[t,{width:n,marginTop:"true"===v?7:0},x]},P.a.createElement(De.a,{isDisplayTitleBar:T,title:p,onClickMore:r.onClickTitleMore,moreUrl:Object(Z.l)(i),isDisplayMore:S,subTitle:O,styleChange:a,hasMargin:!1,pageType:l,imgNormal:s,imgDarkMode:c,showSetting:b,hasCrossDressing:w}))}));var i=Fe;if(Object(Z.F)()){var l=Object(Z.x)().screenWidth;i=Object(Z.a)(l)?Fe:Me}var s={bgImg:"",imgStyle:{},textStyle:{}};if(!Object(Z.D)(r.props.styleChange)){var c=Object(ge.a)(H.a.get("window").width),d=Object(Z.i)(r.props.styleChange,c);d&&(s=d)}return r.state={headerBoxStyle:s,DrawCardWapStyles:i},r.isHorizontalScreen=H.a.get("window").width-H.a.get("window").height>0&&H.a.get("window").width>=1024,r.layoutWidth=H.a.get("window").width,r}return s()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageId,n=e.data,r=void 0===n?[]:n,o=e.id,i=e.dataSourceList,a=void 0===i?[]:i;re.a.isApp()&&(0!==a.length&&0!==r.length||Object(Z.K)({time:0,exceptionType:1,pageid:t,requestAddress:"/mcp/content/getPageInfoListAsync",comid:o+"",reason:"网格图标组件数据为空!"}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.headerBoxStyle,r=t.DrawCardWapStyles,o=this.props,i=o.configInfo,a=o.data,l=o.layoutType,s=o.pageType,c=i||{},u=c.more,d=void 0===u?"":u,p=c.titleShow,f=void 0===p?"":p,h=c.bgBox,g="true"===h&&("true"===f||"2"===d);return w()(a)>0&&"ThreeColumnLayout"!==l?P.a.createElement(V.b,{themeStyles:r},(function(t,r,o){o=Object(Z.F)()?Object(Z.x)().screenWidth:o,e.initLayoutWidth(o,r);var i=e.getBgStyle(r),a=e.getContainerWidth(o),l=g?t.bgImageTitle:t.bgImage;return P.a.createElement(D.a,null,"true"!==h?e.renderCardHeader(t,l,a):null,P.a.createElement(he.a,{source:{uri:n.bgImg},style:[t.imgBackground,i],resizeMode:"stretch"},"true"===h?e.renderCardHeader(t,l,a):null,e.renderScreenType(o)))})):function(e,t){var n="homepage"===(null==t?void 0:t.toLowerCase())?-8:-12,r=Object(Z.E)(e)?-24:n;return P.a.createElement(D.a,{style:{marginTop:r}})}(this.layoutWidth,s)}}]),n}(O.PureComponent);v()(ze,"defaultProps",{layoutType:"FourColumnLayout",rowsPerScreen:2});t.a=Object(Y.a)(Object(ne.a)(ae)(Object(_e.a)(ze)))},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(390),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(391),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(258),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(394)),o=a(n(395)),i=a(n(258));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){var r=n(396);e.exports=f,e.exports.parse=i,e.exports.compile=function(e,t){return l(i(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=p;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,l="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],p=n[1],f=n.index;if(l+=e.slice(a,f),a=f+d.length,p)l+=p[1];else{var h=e[a],g=n[2],m=n[3],y=n[4],v=n[5],b=n[6],w=n[7];l&&(r.push(l),l="");var S=null!=g&&null!=h&&h!==g,C="+"===b||"*"===b,O="?"===b||"*"===b,P=n[2]||u,T=y||v;r.push({name:m||i++,prefix:g||"",delimiter:P,optional:O,repeat:C,partial:S,asterisk:!!w,pattern:T?c(T):w?".*":"[^"+s(P)+"]+?"})}}return a<e.length&&(l+=e.substr(a)),l&&r.push(l),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",d(t)));return function(t,o){for(var i="",l=t||{},s=(o||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var d,p=l[u.name];if(null==p){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(d=s(p[f]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",l=0;l<e.length;l++){var c=e[l];if("string"==typeof c)a+=s(c);else{var p=s(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+p+f+")*"),a+=f=c.optional?c.partial?p+"("+f+")?":"(?:"+p+"("+f+"))?":p+"("+f+")"}}var h=s(n.delimiter||"/"),g=a.slice(-h.length)===h;return o||(a=(g?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=i?"$":o&&g?"":"(?="+h+"|$)",u(new RegExp("^"+a,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(f(e[o],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=n(397)},function(e,t,n){"use strict";var r,o=n(15),i=n.n(o),a=n(5),l=n.n(a),s=n(6),c=n.n(s),u=n(2),d=n.n(u),p=n(8),f=n.n(p),h=n(7),g=n.n(h),m=n(4),y=n.n(m),v=n(1),b=n.n(v),w=n(34),S=n.n(w),C=n(58),O=n.n(C),P=n(110),T=n.n(P),x=n(48),I=n(102),k=n(433),E=n(122),j=n(659),R=n(183),L=n(85),_=n(22),D=n(98),N=n(95),W=n(170),A=n(0),B=n.n(A),M=n(32),F=n(74),H=n(11),z=n(163),U=n(63),V=n(44),G=n(37),Y=n(558),J=n(49),K=n(145),q=n(418),Q=n(43),$=n(658),X=n(149),Z=n(87),ee=n(431),te=n(23),ne=n(12),re=n(108),oe=n(143),ie=n(10),ae=n(144),le=n(117),se=n(155),ce=n(175),ue=n(91),de=n(141),pe=n(308),fe=n(301),he=n(202),ge=n.n(he),me=n(280),ye=n(298),ve=n(46),be=n(33),we=n(176);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var Ce=0,Oe="Activity";"ios"===G.a.OS&&Object(be.e)().then((function(e){Ce=e}));var Pe=Object(M.c)(r=function(e){f()(n,e);var t=Se(n);function n(e){var r;return l()(this,n),r=t.call(this,e),b()(d()(r),"scroller",void 0),b()(d()(r),"headStyle",{}),b()(d()(r),"titleStyle",{}),b()(d()(r),"tabs",void 0),b()(d()(r),"tabConfig",void 0),b()(d()(r),"cardId",void 0),b()(d()(r),"portal",void 0),b()(d()(r),"prefixPm","1"),b()(d()(r),"hasSubtabSet",!1),b()(d()(r),"strategyIdList",""),b()(d()(r),"bgColor",""),b()(d()(r),"pageType",1),b()(d()(r),"isFirst",!0),b()(d()(r),"tabname",void 0),b()(d()(r),"tabindex",void 0),b()(d()(r),"currentTime",(new Date).getTime()),b()(d()(r),"scrollViewKey",1),b()(d()(r),"otherParams",{}),b()(d()(r),"refreshTimer",void 0),b()(d()(r),"switchScreenDirLister",void 0),b()(d()(r),"scrollViewStartOffsetY",void 0),b()(d()(r),"immersiveHeader",{}),b()(d()(r),"navListener",void 0),b()(d()(r),"navListener1",void 0),b()(d()(r),"timmer",void 0),b()(d()(r),"topTimer",void 0),b()(d()(r),"isShowLayout",void 0),b()(d()(r),"activityUUID",ge()()),b()(d()(r),"pageCatCode",""),b()(d()(r),"pageCatName",""),b()(d()(r),"onlyId",(1e7*Math.random()).toFixed()),b()(d()(r),"data",void 0),b()(d()(r),"iosEventY",void 0),b()(d()(r),"caculateRender",!0),b()(d()(r),"isBottomNav","bottomNav"===r.props.container),b()(d()(r),"handleAppStateChange",(function(e){Object(te.A)(e)})),b()(d()(r),"switchScreen",(function(){r.setState({width:Object(V.d)(ne.g.activity).screenWidth})})),b()(d()(r),"handleAddListeners",(function(){r.props.pageType!==ne.g.subTabSetPage&&Y.a.addEventListener("hardwareBackPress",r.handleApkBack),J.a.addListener("TabsNavTop",r.compareFixed),J.a.addListener("switchSubTab",r.getTabInfo),J.a.addListener("homeScrollTo",r.onTabChanged)})),b()(d()(r),"eventTracingReportByLeave",(function(){r.props.pageType!==ne.g.subTabSetPage&&Object(_.a)({actionCode:r.prefixPm+"10000011",actionName:"Activity页面离开",eventType:ie.e.EVENT_TYPE_LEAVE,pageId:r.state.reportPageId||H.a.pageId,content:{},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})})),b()(d()(r),"eventTracingReportByLoad",(function(e){r.props.pageType!==ne.g.subTabSetPage&&Object(_.a)({actionCode:r.prefixPm+"10000000",actionName:"Activity页面加载完成",eventType:ie.e.EVENT_TYPE_LOADING_PAGE,pageId:e||r.state.reportPageId||r.state.pageId||H.a.pageId,content:{},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})})),b()(d()(r),"handleApkBack",(function(){return r.eventTracingReportByLeave(),K.a.VmallNative.invokeNative({service:"page",action:"finished"}).then((function(e){})),!0})),b()(d()(r),"onTabChanged",(function(e){e.navTop&&e.pageType===ne.g.activity&&("ios"===G.a.OS?setTimeout((function(){r.scroller&&r.scroller.scrollTo&&r.scroller.scrollTo({y:e.stickyLayoutY,animated:!1})}),0):r.scroller&&r.scroller.scrollTo&&r.scroller.scrollTo({y:e.stickyLayoutY,animated:!1}))})),b()(d()(r),"_getAndroidPageInfo",(function(e){if(!r.state.pageId&&!r.state.pageAlias)return r.eventTracingReportByLoad(),Promise.reject();var t=new Promise((function(e){return e(Object(te.l)(r.state.pageId,r.state.strategyIdList,"3",r.state.pageAlias))}));Object(te.C)(Oe,"_getAndroidPageInfo begin");var n=(new Date).getTime();return Object(V.g)(t,5e3).then((function(t){var o,i,a,l,s,c,u,d=(new Date).getTime()-n;Object(te.C)(Oe,"_getAndroidPageInfo back pageId:"+r.state.pageId+" cost:"+d),r.isFirst=!0,t=Object(ue.a)(t,"app");var p=r.state.pageId,f=r.state.pageId,h=10;if(null!==(o=t)&&void 0!==o&&null!==(i=o.pageInfos)&&void 0!==i&&i.length){var g,m;f=String(t.pageInfos[0].pageId),h=(null===(g=t.pageInfos[0])||void 0===g?void 0:g.initRenderNum)||10,r.props.pageType!==ne.g.subTabSetPage&&(H.a.pageId=p||f),r.props.pageType!==ne.g.subTabSetPage&&(H.a.appid=t.pageInfos[0].channel);var y=(null===(m=t)||void 0===m?void 0:m.pageInfos[0])||{},v=y.pageCatCode,b=y.pageCatName;r.pageCatCode=v,r.pageCatName=b}r.eventTracingReportByLoad(f);var w=x.a.isIOS()&&e;if(r.data=t,null!==(a=t)&&void 0!==a&&null!==(l=a.pageInfos)&&void 0!==l&&l.length&&null!==(s=t.pageInfos[0])&&void 0!==s&&s.cards&&(null===(c=t.pageInfos[0])||void 0===c?void 0:c.cards.length)>h&&!e&&!w){var S,C,O,P=null===(S=t.pageInfos[0])||void 0===S?void 0:S.cards.slice(0,h),T=JSON.parse(JSON.stringify(t));T.pageInfos[0].cards=P,r.setState({configInfo:JSON.stringify(null===(C=JSON.parse(null===(O=t)||void 0===O?void 0:O.pageInfos[0].headerStyle))||void 0===C?void 0:C.attribute),cmsData:T,pageId:p,reportPageId:f,showLoading:!0,error:!1,loading:!0},(function(){r.handleTitleStyle(),r._pageDataHandle()})),setTimeout((function(){r.setState({cmsData:t,pageId:p,reportPageId:f},(function(){r.handleTitleStyle(),r._pageDataHandle()}))})),setTimeout((function(){r.setState({showLoading:!1})}),150)}else{var I,k,E,j;r.setState({configInfo:(null===(I=t)||void 0===I||null===(k=I.pageInfos)||void 0===k?void 0:k.length)&&JSON.stringify(null===(E=JSON.parse(null===(j=t)||void 0===j?void 0:j.pageInfos[0].headerStyle))||void 0===E?void 0:E.attribute),cmsData:t,pageId:p,reportPageId:f},(function(){r.handleTitleStyle(),r._pageDataHandle()}))}return Object(ue.b)(null===(u=t)||void 0===u?void 0:u.pageInfos),Promise.resolve()})).catch((function(t){var n;r.eventTracingReportByLoad(),!e&&null!=t&&null!==(n=t.message)&&void 0!==n&&n.includes("Network Error")&&r.setState({errorType:ne.c.NETWORK_ERROR,error:!0,loadState:2})}))})),b()(d()(r),"handleTitleStyle",(function(){var e,t=r.state.cmsData;if(null!=t&&null!==(e=t.pageInfos)&&void 0!==e&&e.length){var n=t.pageInfos[0],o=n.pageId,i=n.styleChange,a=n.groupStyleChanges,l=t.pageInfos[0].pageStyleChange?JSON.parse(t.pageInfos[0].pageStyleChange):null;r.titleStyle={cardId:o,styleChange:i?JSON.parse(i):null,groupStyleChanges:a?JSON.parse(a):null},r.titleStyle.styleChange||(r.titleStyle.styleChange=l),r.titleStyle.styleChange&&(1==r.titleStyle.styleChange.bgFill&&r.titleStyle.styleChange.bgColor&&(r.bgColor=r.titleStyle.styleChange.bgColor),z.a.onSubTabsUpdate(r.titleStyle.styleChange))}})),b()(d()(r),"errorRefresh",(function(e){r.scrollViewKey=r.scrollViewKey+1,r._getPageInfo()})),b()(d()(r),"getPageInfoByTabApk",(function(e,t,n){var o;void 0===n&&r.onBackTop();var i=(null===(o=r.tabs)||void 0===o?void 0:o.length)>e&&r.tabs[e],a=t||i.relatedPage;Object(te.l)(a,r.strategyIdList).then((function(t){var n,o,i;null!=t&&null!==(n=t.pageInfos)&&void 0!==n&&n.length&&((null==t||null===(o=t.pageInfos[0].cards)||void 0===o?void 0:o.length)&&(null==t||null===(i=t.pageInfos[0].cards)||void 0===i||i.forEach((function(e,t){"subTabSet"===e.cardType&&U.a.getCardId(e.cardId)}))));return Object(ue.a)(t,"app"),r.isFirst=!1,r.setState({cmsData:t},(function(){var t,n,o,i,a=r.state.cmsData;0!=e&&null!=a&&null!==(t=a.pageInfos)&&void 0!==t&&t.length&&(r.tabs=(null==a||null===(n=a.pageInfos[0])||void 0===n?void 0:n.tabInfos)||[],r.tabConfig=null==a||null===(o=a.pageInfos[0])||void 0===o||null===(i=o.cards)||void 0===i?void 0:i.map((function(e){if("sub_tab"===e.cardType)return r.cardId=e.cardId,e.configInfo})),r.headStyle=JSON.parse(a.pageInfos[0].headerStyle))})),Object(ue.b)(null==t?void 0:t.pageInfos),Promise.resolve()}))})),b()(d()(r),"getTabInfo",(function(e){var t=e.id,n=e.index;r.setState({pageId:t,currentTabIndex:n,isClickTab:!0},(function(){r.getPageInfoByTabApk(n,t)}))})),b()(d()(r),"onBackTop",(function(){r.scroller&&r.scroller.scrollToTop&&r.scroller.scrollToTop(!0),r.scroller&&r.scroller.scrollTo&&r.scroller.scrollTo({y:0,animated:!0}),r.scroller||J.a.emit("scrollToTop"),r.topTimer&&clearTimeout(r.topTimer),r.topTimer=setTimeout((function(){J.a.emit("videoForOnScrollEvent")}),800)})),b()(d()(r),"_onMomentumScrollEnd",(function(e){r.props.pageType!==ne.g.subTabSetPage&&J.a.emit("onScrollEvent",e,ne.g.activity,r.otherParams.randomId)})),b()(d()(r),"_onScrollBeginDrag",(function(e){r.props.pageType!==ne.g.subTabSetPage&&J.a.emit("onScrollBeginDragEvent",e,"activity"),r.scrollViewStartOffsetY=e.nativeEvent.contentOffset.y})),b()(d()(r),"_onLayout",(function(e){if(r.props.pageType!==ne.g.subTabSetPage&&Object(F.b)(e),Object(F.a)(e,r.props.pageType||ne.g.activity),"android"===G.a.OS){var t=ne.g.activity+r.onlyId;ve.a.getWidthWithParams(t)!=e.nativeEvent.layout.width&&ve.a.setWidthWithParams(e.nativeEvent.layout.width,t)}})),b()(d()(r),"_onLayoutContainer",(function(e){var t;"bottomNav"===(null===(t=r.props)||void 0===t?void 0:t.container)&&r.setState({containerHeight:e.nativeEvent.layout.height})})),b()(d()(r),"_loadLoading",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.state.loadState;return Object(te.C)(Oe,"_loadLoading"),B.a.createElement(I.b,{themeStyles:ce.a},(function(n,o){return B.a.createElement(k.a,{showLoading:!0,position:e?"":"bottom",errorCallback:r._getAsyNcData,loadState:e?1:t,height:56,iconSize:24,titleStyle:n.lodingTitle})}))})),b()(d()(r),"_loadingPage",(function(){return r.props.pageType!==ne.g.subTabSetPage?(Object(te.C)(Oe,"Placeholder"),B.a.createElement(re.a,null)):r._loadLoading()})),b()(d()(r),"_getAsyNcData",(function(){r.setState({loadState:1,error:!1},(function(){r._getPageInfo()}))})),b()(d()(r),"_loadErrorPage",(function(){var e=r.props,t=e.pageType,n=e.height;return t!==ne.g.subTabSetPage?B.a.createElement(I.b,{themeStyles:ce.a},(function(e){return B.a.createElement(N.a,{errorType:r.state.errorType,blankAppStyle:e.container,pageType:"refreshPage",errorRefresh:r.errorRefresh,parentPageType:t,containerHeight:n})})):r._loadLoading()})),b()(d()(r),"_getImmersiveHeader",(function(e){var t=null,n=T()(null==e?void 0:e.children,(function(e){return"immersiveHeader"===e.type}));if(-1!==n){var r,o;if(0===(null==e||null===(r=e.children[n])||void 0===r||null===(o=r.props)||void 0===o?void 0:o.index))t=null==e?void 0:e.children[n];else(O()(null==e?void 0:e.children,(function(e,t){return("buoys"===e.cardType||"blank"===e.type)&&t<n}))||[]).length===n&&(t=null==e?void 0:e.children[n])}else{var i=T()(null==e?void 0:e.children,(function(e){return"groupComponent"===e.type}));if((O()(null==e?void 0:e.children,(function(e,t){return("buoys"===e.cardType||"blank"===e.type)&&t<i}))||[]).length===i){var a,l,s,c=T()(null==e||null===(a=e.children[i])||void 0===a?void 0:a.children,(function(e){return"immersiveHeader"===e.type}));if((O()(null==e||null===(l=e.children[i])||void 0===l?void 0:l.children,(function(e,t){return("buoys"===e.cardType||"blank"===e.type)&&t<c}))||[]).length===c)t=null==e||null===(s=e.children[i])||void 0===s?void 0:s.children[c]}}return t})),b()(d()(r),"_renderTopNavigation",(function(){return B.a.createElement(oe.a,{cartNum:r.state.cartNum,messageNum:r.state.messageNum,headStyle:r.headStyle,titleStyle:r.titleStyle,tabs:r.tabs,tabConfig:r.tabConfig[0],hasSubtabSet:r.hasSubtabSet,stickyScrollY:r.state.scrollY,freshTab:r.state.freshTab,cardId:r.cardId,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName})})),b()(d()(r),"receiveScrollY",(function(e){r.state.scrollY.setValue(e)})),b()(d()(r),"_refreshControl",(function(e){return r.props.pageType!==ne.g.subTabSetPage?B.a.createElement(q.a,{refreshing:r.state.isRefreshing,tintColor:e.C31.color,onRefresh:r._onRefresh}):null})),b()(d()(r),"_onScroll",(function(e){var t=e.nativeEvent.contentOffset.y;r.iosEventY=e.nativeEvent.contentOffset.y,r.state.scrollY.setValue(t),r.props.pageType!==ne.g.subTabSetPage&&J.a.emit("onOutScrollViewScroll",e.nativeEvent.contentOffset.y,ne.g.activity,r.otherParams.randomId),"ios"===G.a.OS&&(r.timmer&&clearTimeout(r.timmer),r.timmer=setTimeout((function(){var e={nativeEvent:{contentOffset:{x:0,y:r.iosEventY}}};J.a.emit("iosForOnScrollEvent",e,ne.g.activity)}),1e3))})),b()(d()(r),"_productTitleAndMore",(function(e){r.state.productTitleAndMore||r.setState({productTitleAndMore:e})})),b()(d()(r),"getShowFlag",(function(e){r.state.showFlag!==e&&r.setState({showFlag:e})})),b()(d()(r),"_renderApp",(function(e,t,n){var o=JSON.parse(JSON.stringify(r.data.pageInfos[0])),i=[];if(o.cards&&o.cards.length)for(var a=0;a<o.cards.length;a++)"contentBig"===o.cards[a].cardType&&a===o.cards.length-1&&(i.push(o.cards[a]),o.cards=i);if(o.cards.length>0){for(var l,s=Object(L.a)(o,ne.g.activity).children,c=0;c<s.length;c++)"contentBig"===s[c].type&&(l=s[c]);var u=r._renderAppTop(r.onlyId,n),d=l.props;return d.topComponent=u,d.scrollViewRef=function(e){r.scroller=e},d.refreshControl=r._refreshControl(t),d.heightForRefreshControl=96,d.pageStyle=void 0,d.backStyle=e,d.uniqueKey=ne.g.activity+r.onlyId,d.pageBackgroundColor=n,d.onScroll=r._onScroll,d.onScrollBeginDrag=r._onScrollBeginDrag,d.onMomentumScrollEnd=r._onMomentumScrollEnd,d.isNewWaterfall=!0,d.productTitleAndMore=function(e){return r._productTitleAndMore(e)},d.getShowFlag=function(e){return r.getShowFlag(e)},"contentBig"===o.cards[0].cardType?B.a.createElement(ye.a,d):B.a.createElement(Q.a,null)}})),b()(d()(r),"_renderAppTop",(function(e,t){var n,o=JSON.parse(JSON.stringify(r.state.cmsData.pageInfos[0])),a=[];if(o.cards&&o.cards.length)for(var l=0;l<o.cards.length;l++)l!==o.cards.length-1&&a.push(o.cards[l]);o.cards=a;var s=r.props,c=(s.pageType,s.parentPageType,null!==(n=r.headStyle)&&void 0!==n&&n.headStyle?56:0);return B.a.createElement(Q.a,{onLayout:function(t){me.a.setHeaderHeight(ne.g.activity+e,t.nativeEvent.layout.height)}},r._renderTopNavigation(),B.a.createElement(Q.a,{style:{backgroundColor:t||"transparent"}},B.a.createElement(D.a,i()({},Object(L.a)(o,ne.g.activity,c,r.isFirst,r.otherParams),{mapComponents:ae.a,stickyScrollY:r.state.scrollY,navigation:r.props.navigation,container:"Stack"},x.a.isIOS()?{refresh:r.scrollViewKey}:{key:r.scrollViewKey},{width:r.state.width,pageType:ne.g.activity})),r.state.showFlag&&r.state.productTitleAndMore))})),b()(d()(r),"_loadPage",(function(){var e,t,n,o,a,l,s,c,u,d,p,f,h,g,m,y,v,b=r.props,w=b.DarkStyle,C=b.pageType,O=(b.parentPageType,b.height),P=(null===(e=r.data)||void 0===e||null===(t=e.pageInfos)||void 0===t?void 0:t.length)&&JSON.parse(JSON.stringify(r.data.pageInfos[0])).cards,T=null===(n=r.state.cmsData)||void 0===n?void 0:n.pageInfos[0],I=null!==(o=r.headStyle)&&void 0!==o&&o.headStyle?56:0,k=Object(L.a)(T,ne.g.activity,I,r.isFirst,r.otherParams),R=null;k.pageStyleChange&&"1"===k.pageStyleChange.bgFill&&k.pageStyleChange.bgColor&&2!==k.pageTypeNumber&&(R=k.pageStyleChange.bgColor);var _=JSON.parse(JSON.stringify(T));_.cards=[];var N=E.a;w&&(N=j.a);var A={backgroundColor:R?"transparent":N.C32.color};C===ne.g.subTabSetPage&&(A={}),r.immersiveHeader=r._getImmersiveHeader(k);var M=x.a.isIOS()&&r.isShowLayout?$.a:Q.a,F=JSON.parse(JSON.stringify(k));F.children=[];var H,z,U,V,Y,K,ee,te=JSON.parse(JSON.stringify(F)),re={id:0,type:"",pageId:""},oe=null,ie={},ce=0;if("floor"===k.layoutType){var ue,pe=k.children.findIndex((function(e){return"floor"===e.type}));F.children=k.children.slice(0,pe);var he=k.children.slice(pe,pe+1);if(z=!(null===(ue=he[0].props.configInfo)||void 0===ue||!ue.cards||!he[0].props.cards),U=he[0].props.resSiteCode,V=he[0].props.resSiteName,z&&(te.children=(k.children.slice(pe+1)||[]).filter((function(e){return"floor"!==e.type})),oe=C!==ne.g.subTabSetPage?B.a.createElement(q.a,{refreshing:r.state.isRefreshing,tintColor:N.C31.color,onRefresh:r._onRefresh}):null,he.length>0)){var ge,me,ye=he[0];K=ye.id,ee=null===(ge=ye.props)||void 0===ge?void 0:ge.pageId,re.id=ye.id,re.type=ye.type,re.pageId=k.pageId.toString(),H=null===(me=ye.props.configInfo)||void 0===me?void 0:me.cards.map((function(e,t){var n,r,o,i,a;return ce+=null!==(n=ye.props.cards[t])&&void 0!==n&&null!==(r=n.cards)&&void 0!==r&&r.length?null===(o=ye.props.cards[t])||void 0===o||null===(i=o.cards)||void 0===i?void 0:i.length:0,{title:e.cardName,subTitle:e.configInfo?null===(a=JSON.parse(e.configInfo))||void 0===a?void 0:a.subTitle:"",data:[ye.props.cards[t]],floorSetting:ye.props.cards[t].floorSetting,key:t,index:t}})),Y=ye.props.isPageStyleChange,ie=ye.props.styleChange}}return B.a.createElement(B.a.Fragment,null,B.a.createElement(M,{style:A,onLayout:r._onLayout},B.a.createElement(Q.a,{onLayout:r._onLayoutContainer,style:{height:C!==ne.g.subTabSetPage?C===ne.g.harmonyConnectPage&&O?O:"100%":"auto"}},"bottomNav"!==(null===(a=r.props)||void 0===a?void 0:a.container)||!S()(r.immersiveHeader)&&"7"===(null===(l=r.headStyle)||void 0===l?void 0:l.headStyle)?null:B.a.createElement(Q.a,{style:{height:r.isShowLayout?X.a.currentHeight:0}}),r.isShowLayout||null!==(s=r.headStyle)&&void 0!==s&&s.headStyle?null:B.a.createElement(Q.a,{style:{height:x.a.isIOS()?Ce:X.a.currentHeight}}),S()(r.immersiveHeader)||"7"!==(null===(c=r.headStyle)||void 0===c?void 0:c.headStyle)?null!==(f=r.headStyle)&&void 0!==f&&f.headStyle?B.a.createElement(Q.a,{style:{position:"relative",elevation:2,zIndex:2,height:!r.isShowLayout&&x.a.isApp()?56+(x.a.isIOS()?Ce:X.a.currentHeight):56}},B.a.createElement(se.a,i()({configInfo:r.state.configInfo,pageId:r.state.reportPageId||ee,pageName:ne.g.activity,cartNum:r.state.cartNum,messageNum:r.state.messageNum,headerStyle:r.headStyle,pageType:r.pageType,tabLength:null===(h=r.tabs)||void 0===h?void 0:h.length,fromPage:"active"},r.titleStyle,{pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,isShowLayout:r.isShowLayout,DarkStyle:r.props.DarkStyle}))):B.a.createElement(B.a.Fragment,null):B.a.createElement(de.a,i()({pageName:ne.g.activity,cartNum:r.state.cartNum,messageNum:r.state.messageNum,headerStyle:r.headStyle,pageType:r.pageType,tabLength:null===(u=r.tabs)||void 0===u?void 0:u.length,fromPage:"active",titleStyle:r.titleStyle,stickyLayoutY:r.state.scrollY,pageTypeName:ne.g.activity},r.immersiveHeader.props,{showType:"title",container:null===(d=r.props)||void 0===d?void 0:d.container,DarkStyle:r.props.DarkStyle,isShowLayout:"bottomNav"!==(null===(p=r.props)||void 0===p?void 0:p.container)&&r.isShowLayout})),C===ne.g.subTabSetPage&&"ios"===G.a.OS?B.a.createElement(B.a.Fragment,null,r._renderTopNavigation(),B.a.createElement(Q.a,{style:{backgroundColor:R||"transparent"}},B.a.createElement(D.a,i()({},k,{mapComponents:ae.a,stickyScrollY:r.state.scrollY,navigation:r.props.navigation,container:"Stack",pageType:ne.g.activity})),C!==ne.g.subTabSetPage&&B.a.createElement(Q.a,{style:{height:24}}))):"floor"===k.layoutType&&z?B.a.createElement(fe.b,i()({titleHeight:I,sections:H,topTabNav:r._renderTopNavigation(),header:F,footer:te,otherParams:r.otherParams,pageDataBaseInfo:_,onScrollBeginDrag:r._onScrollBeginDrag,onMomentumScrollEnd:r._onMomentumScrollEnd,refreshControl:oe,comId:K,styleChange:ie,pageId:ee,pageType:ne.g.activity,initialNumToRender:ce,headerStyle:r.headStyle,receiveScrollY:r.receiveScrollY,randomId:r.otherParams.randomId,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:U,resSiteName:V,pageBackgroundColor:R,isPageStyleChange:Y},x.a.isIOS()?{}:{key:r.scrollViewKey})):P&&P.length>0&&"contentBig"===(null===(g=P[P.length-1])||void 0===g?void 0:g.cardType)&&"verticalDoubleRow"===(null===(m=P[P.length-1])||void 0===m?void 0:m.layout.layoutType)?r._renderApp(A,N,R):B.a.createElement(Z.a.ScrollView,{ref:function(e){r.scroller=e},refreshControl:C!==ne.g.subTabSetPage?B.a.createElement(q.a,{refreshing:r.state.isRefreshing,tintColor:N.C31.color,onRefresh:r._onRefresh}):null,onScroll:Z.a.event([{nativeEvent:{contentOffset:{y:r.state.scrollY}}}],{useNativeDriver:!0,listener:function(e){r.iosEventY=e.nativeEvent.contentOffset.y,C!==ne.g.subTabSetPage&&J.a.emit("onOutScrollViewScroll",e.nativeEvent.contentOffset.y,ne.g.activity,r.otherParams.randomId),"ios"===G.a.OS&&(r.timmer&&clearTimeout(r.timmer),r.timmer=setTimeout((function(){var e={nativeEvent:{contentOffset:{x:0,y:r.iosEventY}}};J.a.emit("iosForOnScrollEvent",e,ne.g.activity)}),1e3))}}),scrollEventThrottle:1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,overScrollMode:"never",onScrollBeginDrag:r._onScrollBeginDrag,onMomentumScrollEnd:r._onMomentumScrollEnd,removeClippedSubviews:"ios"!==G.a.OS},r._renderTopNavigation(),B.a.createElement(Q.a,{style:{backgroundColor:R||"transparent"}},B.a.createElement(D.a,i()({},k,{mapComponents:ae.a,stickyScrollY:r.state.scrollY,navigation:r.props.navigation,container:"Stack"},x.a.isIOS()?{refresh:r.scrollViewKey}:{key:r.scrollViewKey},{width:r.state.width,pageType:ne.g.activity})),C!==ne.g.subTabSetPage&&B.a.createElement(Q.a,{style:{height:24}}),r.state.showLoading&&r._loadLoading(!0))),B.a.createElement(Z.a.View,{pointerEvents:"box-none",style:{position:"absolute",top:0,left:0}},B.a.createElement(W.a,i()({},k,{fixedButton:!1,pageId:r.state.reportPageId,bottonNav:"bottomNav"===(null===(y=r.props)||void 0===y?void 0:y.container),containerHeight:r.state.containerHeight,isImmersiveHeader:!S()(r.immersiveHeader)&&"7"===(null===(v=r.headStyle)||void 0===v?void 0:v.headStyle),pageType:C===ne.g.subTabSetPage?ne.g.subTabSetPage:ne.g.activity,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName}))),C!==ne.g.subTabSetPage&&B.a.createElement(Z.a.View,{style:{position:"absolute",bottom:48,right:16,width:50,height:50}},B.a.createElement(W.a,i()({},k,{fixedButton:!0,pageId:r.state.reportPageId,onBackTop:r.onBackTop,pageType:C===ne.g.subTabSetPage?ne.g.subTabSetPage:ne.g.activity,randomId:r.otherParams.randomId,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName}))))),C!==ne.g.subTabSetPage&&B.a.createElement(le.a,{pageType:ne.g.activity,randomId:r.otherParams.randomId,parentPageType:C,height:O}))})),r.state={scrollY:new Z.a.Value(0),pageId:e.pageId,reportPageId:e.pageId,strategyIdList:null,cmsData:{pageInfos:[]},loading:!0,isRefreshing:!1,error:!1,freshTab:!0,cartNum:0,messageNum:0,currentTabIndex:0,isClickTab:!1,errorType:ne.c.OTHER_ERROR,loadState:1,pageAlias:r.props.pageAlias,width:Object(V.d)(ne.g.activity).screenWidth,bottomNavCard:{},containerHeight:Object(V.d)(ne.g.activity).screenHeight,showLoading:!1,configInfo:"",productTitleAndMore:null,showFlag:!1},Object(te.C)(Oe,"constructor"),Object(te.C)(Oe,"constructor harmonyConnectPage pageType:".concat(e.pageType," height:").concat(e.height)),r.otherParams.activityUUID=r.activityUUID,r.tabindex=Number(e.tabindex),r.tabname=e.tabname,r.otherParams.tabindex=r.tabindex,r.otherParams.tabname=r.tabname,r.otherParams.randomId=e.parentRandomId||Object(V.h)(),r._onRefresh=r._onRefresh.bind(d()(r)),r.isShowLayout=!1!==r.props.isShowLayout&&"false"!==r.props.isShowLayout,r.otherParams.isShowLayout=r.isShowLayout,r}return c()(n,[{key:"componentDidMount",value:function(){var e,t,n,r,o=this;Object(te.C)(Oe,"componentDidMount"),we.a.onUpdate({statusBarStyle:"default"}),this.navListener="bottomNav"===this.props.container&&(null===(e=this.props)||void 0===e||null===(t=e.navigation)||void 0===t?void 0:t.addListener("focus",(function(e){o.eventTracingReportByLoad()}))),ee.a.addEventListener("change",this.handleAppStateChange),this.navListener1="bottomNav"===this.props.container&&(null===(n=this.props)||void 0===n||null===(r=n.navigation)||void 0===r?void 0:r.addListener("blur",(function(e){o.eventTracingReportByLeave()}))),this._getPageInfo(),this.portal=ne.f.APP,R.a.invokeVmallNative("common","getCartAndMessageNmb",{}).then((function(e){var t=JSON.parse(e.firstCart),n=JSON.parse(e.firstMessage);o.setState({cartNum:t>99?99:t,messageNum:n>99?99:n})})),this.handleAddListeners(),this.switchScreenDirLister=J.a.addListener("switchScreenDir",this.switchScreen)}},{key:"compareFixed",value:function(){this.hasSubtabSet=U.a.tabsNavTop}},{key:"componentDidUpdate",value:function(e){var t,n,r,o,i;if(this.caculateRender&&(null===(t=this.state.cmsData)||void 0===t||null===(n=t.pageInfos)||void 0===n?void 0:n.length)>0&&(null===(r=this.state.cmsData)||void 0===r||null===(o=r.pageInfos[0])||void 0===o||null===(i=o.cards)||void 0===i?void 0:i.length)>0){this.caculateRender=!1;var a=this.isBottomNav&&this.props.naviCostTime?this.props.naviCostTime:0,l=(new Date).getTime()-this.currentTime+a;Object(te.C)(Oe,"componentDidUpdate bottomNavi:"+this.isBottomNav+" pageId:"+this.state.pageId+" cost:"+l)}this.props.pageType===e.pageType&&this.props.height===e.height||Object(te.C)(Oe,"componentDidUpdate harmonyConnectPage pageType:".concat(this.props.pageType," height:").concat(this.props.height))}},{key:"componentWillUnmount",value:function(){var e=this.props.pageType;this.navListener&&"function"==typeof this.navListener&&this.navListener(),this.navListener1&&"function"==typeof this.navListener1&&this.navListener1(),e!==ne.g.subTabSetPage&&Y.a.removeEventListener("hardwareBackPress",this.handleApkBack),x.a.isIOS()&&this.refreshTimer&&clearTimeout(this.refreshTimer),this.state.scrollY&&this.state.scrollY.removeAllListeners(),ee.a.removeEventListener("change",this.handleAppStateChange),J.a.removeListener("switchSubTab",this.getTabInfo),J.a.removeListener("homeScrollTo",this.onTabChanged),J.a.removeListener("TabsNavTop",this.compareFixed),this.switchScreenDirLister&&this.switchScreenDirLister.remove(),this.timmer&&clearTimeout(this.timmer),this.topTimer&&clearTimeout(this.topTimer),x.a.isIOS()&&this.eventTracingReportByLeave()}},{key:"_getPageInfo",value:function(e){var t=this;return this._getAndroidPageInfo().catch((function(e){var n;null!=e&&null!==(n=e.message)&&void 0!==n&&n.includes("Network Error")?t.setState({errorType:ne.c.NETWORK_ERROR}):t.setState({errorType:ne.c.OTHER_ERROR}),t.setState({error:!0,loadState:2})})).finally((function(){return t.setState({loading:!1,isRefreshing:!1}),Promise.resolve()}))}},{key:"_pageDataHandle",value:function(){var e,t,n=this,r=this.state.cmsData;if(null!=r&&null!==(e=r.pageInfos)&&void 0!==e&&e.length){var o,i,a,l,s,c,u,d;this.tabs=(null===(o=r.pageInfos[0])||void 0===o?void 0:o.tabInfos)||[];var p=null===(i=r.pageInfos[0])||void 0===i||null===(a=i.cards)||void 0===a?void 0:a.filter((function(e){return"bottomNav"===e.cardType}));if(p&&p.length>0)return void this.setState({bottomNavCard:p[0]});this.tabConfig=null===(l=r.pageInfos[0])||void 0===l||null===(s=l.cards)||void 0===s?void 0:s.map((function(e){if("sub_tab"===e.cardType)return n.cardId=e.cardId,e.configInfo})),this.headStyle=JSON.parse(r.pageInfos[0].headerStyle),this.pageType=null===(c=r.pageInfos[0])||void 0===c?void 0:c.pageType,this.otherParams.hasTabTop=(null===(u=this.tabs)||void 0===u?void 0:u.length)>1,this.otherParams.hasTitle=!(null===(d=this.headStyle)||void 0===d||!d.headStyle)}(null===(t=this.tabs)||void 0===t?void 0:t.length)>0&&this.getPageInfoByTabApk(0)}},{key:"_onRefresh",value:function(e){var t,n,r=this;if(this.state.isRefreshing)return Promise.resolve();x.a.isIOS()?(this.scrollViewKey=this.scrollViewKey+1,J.a.emit("onRefresh",this.activityUUID),this.setState({isRefreshing:!0}),this.refreshTimer=setTimeout((function(){r.setState({isRefreshing:!1})}),600)):this.scrollViewKey=this.scrollViewKey+1,(null===(t=this.tabs)||void 0===t?void 0:t.length)>0?this.getPageInfoByTabApk(0,void 0,!!x.a.isIOS()||void 0):this._getAndroidPageInfo(!0);var o=this.props,i=o.pageType,a=o.parentPageType;J.a.emit("homeRefresh",a||i||ne.g.activity),this.eventTracingReportByLeave(),(null===(n=this.tabs)||void 0===n?void 0:n.length)>0&&this.eventTracingReportByLoad()}},{key:"render",value:function(){var e,t=this.state,n=t.isRefreshing,r=t.loading,o=t.pageId,a=t.cmsData,l=t.error,s=t.pageAlias;return!n&&r?this._loadingPage():"{}"!=JSON.stringify(this.state.bottomNavCard)?B.a.createElement(pe.a,i()({},this.props,{isShowLayout:this.isShowLayout,cardInfo:this.state.bottomNavCard,pageId:o,pageCatCode:this.pageCatCode,pageCatName:this.pageCatName,currentTime:this.currentTime})):(o||s)&&a&&(null==a||null===(e=a.pageInfos)||void 0===e?void 0:e.length)&&!l&&this._loadPage()||this._loadErrorPage()}}]),n}(B.a.Component))||r;t.a=Pe},function(e){e.exports=JSON.parse('{"d":{"name":"HomePage","displayName":"vrn-homepage"},"h":{"name":"SecKill","displayName":"vrn-seckillpage"},"j":{"name":"SmartLife","displayName":"vrn-smartlife"},"a":{"name":"Activity","displayName":"vrn-activity"},"f":{"name":"Preview","displayName":"vrn-preview"},"c":{"name":"Category","displayName":"vrn-Category"},"g":{"name":"Search","displayName":"vrn-search"},"e":{"name":"Personal","displayName":"vrn-personal"},"b":{"name":"Assistance","displayName":"vrn-Assistance"},"i":{"name":"Shop","displayName":"vrn-Shop"}}')},,,function(e,t){e.exports=function(){const e=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let t=[];for(let n=0;n<35;n++)t[n]=7===n||12===n||17===n||22===n?"-":e[Math.floor(Math.random()*e.length-1)];return t.join("")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return y}));var r=n(48),o=n(103),i=n(40),a=n(41),l=n(54),s=n(157),c=n(29),u=n(11),d=n(172),p=n(12),f=l.a.get("window"),h=Object(d.a)();function g(e){var t,n=o.a.get("hasGroupAD");(e=e||o.a.get("uid"))&&"1"!==n?(t="".concat(u.a.openApiDomain,"mcp/promotion/querySaleInfoCfg?").concat(h),c.a.get(t)).then((function(e){if(e.success&&e.saleConfig&&"1"===e.saleConfig.sendPushMsg){var t=r.a.isPc(f.width)?"web_group_ads":"wap_group_ads";(function(e){var t="".concat(u.a.openApiDomain,"mcp/config/queryGroupAdvertisement?").concat(h,"&placeholder=").concat(e);return c.a.get(t)})(t).then((function(e){if(e.success&&e.advertisementInfos&&"{}"!==JSON.stringify(e.advertisementInfos)){var n=JSON.parse(e.advertisementInfos[t].content);n.groupAds[0].adPrdUrl?s.a.getSize(n.groupAds[0].adPicUrl,(function(e,t){Object(a.d)(a.a.ORDER_GROUP,a.b.WAITING,Object.assign(n.groupAds[0],{width:e,height:t}),(function(){o.a.set("hasGroupAD",1,{expires:new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1),path:"/",domain:".vmall.com"})}))}),(function(){Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)})):Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)}else Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)})).catch((function(){Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)}))}else Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)})).catch((function(){Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)})):Object(a.d)(a.a.ORDER_GROUP,a.b.DONE)}function m(e){var t,n;(e=e||o.a.get("uid"))?(t="".concat(u.a.openApiDomain,"mcp/imm/getTargetMessage"),n={lang:p.e.CN,country:p.d.CN,portal:"1",ownedPage:"1"},c.a.get(t,n)).then((function(e){e&&e.success&&e.activityCode?Object(a.d)(a.a.ORDER_DEPOSIT,a.b.WAITING,e):Object(a.d)(a.a.ORDER_DEPOSIT,a.b.DONE)})).catch((function(){Object(a.d)(a.a.ORDER_DEPOSIT,a.b.DONE)})):Object(a.d)(a.a.ORDER_DEPOSIT,a.b.DONE)}function y(e){var t,n,r,l,s,d;(e=e||o.a.get("uid"))?(t="".concat(u.a.openApiDomain,"mcp/agreement/queryAgreementSignLogs"),n="large"===Object(i.a)(f.width)?1:2,r=o.a.get("CSRF-TOKEN"),l=o.a.get("euid"),s="euid = ".concat(l),d={lang:p.e.CN,country:p.d.CN,portal:n,CsfrToken:r,Cookie:s,tokenType:2,agrInfo:[{agrType:134,country:p.d.CN,branchId:0},{agrType:10023,country:p.d.CN,branchId:0}],obtainVersion:!1},c.a.post(t,d)).then((function(e){var t=0;if(e&&e.success&&"ON"===e.signAgreementSwitch)if("2"===e.marketingMessageSwitch||0===e.signInfo.length)t=1,Object(a.d)(a.a.ORDER_PRIVACY,a.b.WAITING,t);else if(e.signInfo.length>1){var n=e.signInfo[0],r=e.signInfo[1];n.latestVersion>n.version&&r.latestVersion>r.version?(t=2,Object(a.d)(a.a.ORDER_PRIVACY,a.b.WAITING,t)):n.latestVersion>n.version?(t=3,Object(a.d)(a.a.ORDER_PRIVACY,a.b.WAITING,t)):r.latestVersion>r.version?(t=4,Object(a.d)(a.a.ORDER_PRIVACY,a.b.WAITING,t)):Object(a.d)(a.a.ORDER_PRIVACY,a.b.DONE)}else Object(a.d)(a.a.ORDER_PRIVACY,a.b.DONE);else Object(a.d)(a.a.ORDER_PRIVACY,a.b.DONE)})).catch((function(){Object(a.d)(a.a.ORDER_PRIVACY,a.b.DONE)})):Object(a.d)(a.a.ORDER_PRIVACY,a.b.DONE)}},,,function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(35),a=n.n(i),l=n(17),s=n.n(l),c=n(26),u=n.n(c),d=n(5),p=n.n(d),f=n(6),h=n.n(f),g=n(2),m=n.n(g),y=n(8),v=n.n(y),b=n(7),w=n.n(b),S=n(4),C=n.n(S),O=n(1),P=n.n(O),T=n(58),x=n.n(T),I=n(0),k=n.n(I),E=n(54),j=n(37),R=n(49),L=n(43),_=n(145),D=n(270),N=n(152),W=n(431),A=n(250),B=n(267),M=n(48),F=n(40),H=n(103),z=n(432),U=n(102),V=n(433),G=n(119),Y=n(1738),J=n(1731),K=n(185),q=n(78),Q=n(81),$=n(283),X=n(57);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te,ne,re=function(e){return X.a.create({prdAll:{width:"100%"},prdAllPc:{},noMarginBottom:{marginBottom:0},prdArea:{paddingLeft:16,paddingRight:16},prdAreaPad:{paddingLeft:24,paddingRight:24},prdAreaPc:{paddingLeft:0,paddingRight:0},WaterfallMainStyle:{marginTop:-8},moreBottomWrap:{display:"flex",marginLeft:24,marginRight:24,alignItems:"center",justifyContent:"center"},moreBottom:ee(ee(ee({},e.T7),e.C13),{},{textAlign:"center",display:"flex",flexDirection:"row",lineHeight:24,alignItems:"center",justifyContent:"center",maxWidth:"100%",paddingTop:15,paddingBottom:14}),nodata:{alignItems:"center",justifyContent:"center",height:48,fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},touchView:{flexDirection:"row"},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},load:{margin:"auto",position:"absolute",top:80,width:"100%"}})},oe=function(e){return X.a.create({prdBox:ee(ee({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8,marginTop:8})})},ie=function(e){return X.a.create({prdBox:ee(ee({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8,marginTop:12})})};!function(e){e.none="1",e.topRight="2",e.bottom="3",e.up="4",e.current="5"}(te||(te={})),function(e){e.default="1",e.native="2",e.other="3",e.h5="4"}(ne||(ne={}));var ae=n(29),le=n(12),se=n(23),ce=n(3),ue=n(11),de=n(21),pe=n(10);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge,me,ye=null,ve=[],be={exposeItem_product:function(e){var t=this,n="KcalFlow"===this.props.configData.layoutType;return{isBatch:!0,content:{array:e.map((function(e,r){return"2"===(null==e?void 0:e.keys)||"4"===(null==e?void 0:e.keys)||"6"===(null==e?void 0:e.keys)?null:{actionCode:t.getPlatformPrefix().platformType+t.getPlatformPrefix().eventID,actionName:(null==e?void 0:e.actionName)||"",eventType:pe.e.EVENT_TYPE_EXPOSURE,pageId:t.props.pageId,pageCatCode:(null==e?void 0:e.pageCatCode)||"",pageCatName:(null==e?void 0:e.pageCatName)||"",resSiteCode:(null==e?void 0:e.resSiteCode)||"",resSiteName:(null==e?void 0:e.resSiteName)||"",content:he({comId:(null==e?void 0:e.comId)||"",ruleId:n?void 0:(null==e?void 0:e.ruleId)||"",sId:n?void 0:(null==e?void 0:e.sid)||"",row:n?void 0:"",column:n?void 0:"",index:(null==e?void 0:e.index)||"",dataCode:"8"===(null==e?void 0:e.keys)?"":(null==e?void 0:e.dataCode)||"ADS",dataType:(null==e?void 0:e.dataType)||"",hybridShelfdCardType:"8"===(null==e?void 0:e.keys)?void 0:(null==e?void 0:e.hybridShelfdCardType)||""},null!=e&&e.productId?{productId:String(null==e?void 0:e.productId)}:null)}}))}.array}},exposeItem_videoCard:function(e,t){var n,r=this.playerList,o=[],i=!1;ye||(ye=r[0]),null==r||r.forEach((function(e,t){e&&o.push(t)}));for(var a=[],l=0;l<e.length;l++)e[l]&&o.includes(e[l].key)&&a.push(e[l]);if(a.length){var s,c,u=null;if(a[0]&&(u=r[a[0].key]),ye&&"function"==typeof(null===(s=ye)||void 0===s?void 0:s.pause))try{var d,p,f;u&&"function"==typeof(null===(d=u)||void 0===d?void 0:d.playStart)&&(null===(p=ye)||void 0===p?void 0:p.index)===(null===(f=u)||void 0===f?void 0:f.index)||(ye.pause(),i=!0)}catch(e){}var h,g,m=!0;if(ve&&ve.length>0)null===(h=ve)||void 0===h||h.forEach((function(e,t){var n;e&&e==(null===(n=u)||void 0===n?void 0:n.index)&&(m=!1)}));if((ve=[]).length=0,i)ve.push(null===(g=ye)||void 0===g?void 0:g.index);if(u&&"function"==typeof(null===(c=u)||void 0===c?void 0:c.playStart))try{var y,v,b;ye&&(null===(y=ye)||void 0===y?void 0:y.index)===(null===(v=u)||void 0===v?void 0:v.index)&&m||0!=o.length&&o[0]==(null===(b=u)||void 0===b?void 0:b.index)?u.play():u.playStart()}catch(e){}ye=u}else if(ye&&"function"==typeof(null===(n=ye)||void 0===n?void 0:n.pause))try{for(var w,S,C,O=null,P=r.length,T=0;T<P;T++)if(r[T]&&r[T].flag){O=r[T];break}O&&(null===(w=ye)||void 0===w?void 0:w.index)===(null===(S=O)||void 0===S?void 0:S.index)||(ye.pause(),i=!0);var x,I,k,E,j=!0;if(ve&&ve.length>0)null===(x=ve)||void 0===x||x.forEach((function(e,t){var n;e&&e==(null===(n=O)||void 0===n?void 0:n.index)&&(j=!1)}));if((ve=[]).length=0,i)ve.push(null===(I=ye)||void 0===I?void 0:I.index);if(O&&"function"==typeof(null===(C=O)||void 0===C?void 0:C.playStart))ye&&(null===(k=ye)||void 0===k?void 0:k.index)===(null===(E=O)||void 0===E?void 0:E.index)&&j?O.play():O.playStart(),ye=O}catch(e){}t.forEach((function(e){if(e){var t=e.key,n=r[t];if(n&&"function"==typeof(null==n?void 0:n.pause))try{var o;(null===(o=ye)||void 0===o?void 0:o.index)===n.index&&n.flag||(n.pause(),ve.push(t))}catch(e){}}}))},exposeScrollEvent:function(e,t){var n,r,o,i,a,l,s,c=e,u=null,d={index:(null===(n=u="upward"===t?c[c.length-1]:c[0])||void 0===n?void 0:n.itemIndex)+"",sid:null===(r=u)||void 0===r?void 0:r.sid,ruleId:null===(o=u)||void 0===o?void 0:o.ruleId,comId:this.props.id?this.props.id:""};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"upward"===t?"上滑瀑布流":"下拉瀑布流",eventType:"upward"===t?pe.e.EVENT_TYPE_PULL_SLIDEUP:pe.e.EVENT_TYPE_PULL_DOWN,pageId:this.props.pageId,pageCatCode:(null===(i=this.props)||void 0===i?void 0:i.pageCatCode)||"",pageCatName:(null===(a=this.props)||void 0===a?void 0:a.pageCatName)||"",resSiteCode:(null===(l=this.props)||void 0===l?void 0:l.resSiteCode)||"",resSiteName:(null===(s=this.props)||void 0===s?void 0:s.resSiteName)||""},content:[d]}},clickItem_product:function(e,t,n){var r,o,i,a,l,s,c=n.url,u=n.prefix,d=n.clickType;if("更多"===d)l="更多",s={comId:n.id?n.id:"",gotoURL:c,ruleId:n.ruleId?n.ruleId:"",sId:n.sid?n.sid:"",clickType:pe.b.CLICK_MORE};else if("商品"===d||void 0===d){var p;l=(null==e?void 0:e.prdName)||"商品",s={comId:n.id?n.id:"",gotoPageId:"",gotoURL:c||"",ruleId:n.ruleId?n.ruleId:"",sId:n.sid?n.sid:"",row:"",column:"",index:t+"",dataCode:"ad"===e.dataType?"ADS":e.skuCode+"",dateType:"ad"===e.dataType?pe.c.ADS:pe.c.SKU,clickType:pe.b.CLICK_GOODS_CONTENT,hybridShelfdCardType:"1",nextPage:null==e||null===(p=e.productId)||void 0===p?void 0:p.toString(),productId:"ad"===e.dataType?"":e.productId+"",skuCode:null!=e&&e.skuCode?null==e?void 0:e.skuCode:""}}return{data:{actionCode:u.platformType+u.eventID,actionName:"商品卡片-点击-"+l,eventType:pe.e.EVENT_TYPE_CLICK,content:s,pageId:this.props.pageId,pageCatCode:(null===(r=this.props)||void 0===r?void 0:r.pageCatCode)||"",pageCatName:(null===(o=this.props)||void 0===o?void 0:o.pageCatName)||"",resSiteCode:(null===(i=this.props)||void 0===i?void 0:i.resSiteCode)||"",resSiteName:(null===(a=this.props)||void 0===a?void 0:a.resSiteName)||""}}},clickItem:function(e){return e}},we=n(25),Se=n(68),Ce=n(63),Oe=n(32),Pe=n(124),Te=n(446),xe=n(953),Ie=n(126),ke=n(53),Ee=n(16),je=n(27),Re=n.n(je),Le=n(18),_e=n.n(Le),De=(n(60),new(ge=function(){function e(){p()(this,e),Re()(this,"dataList",me,this)}return h()(e,[{key:"onUpdate",value:function(e,t){this.dataList.set(t,e)}}]),e}(),me=_e()(ge.prototype,"dataList",[Ee.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),_e()(ge.prototype,"onUpdate",[Ee.d],Object.getOwnPropertyDescriptor(ge.prototype,"onUpdate"),ge.prototype),ge));function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae={exposeItem:function(e){var t,n,r,o,i,a=[We({},Object(Ee.n)(De.dataList,{exportMapsAsObjects:!1}).get(this.props.index))];return{isBatch:!0,commonData:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:6==this.props.cardType?"短视频卡片曝光":"直播卡片曝光",eventType:pe.e.EVENT_TYPE_EXPOSURE,pageId:"undefined"!==this.props.pageId&&null!==(t=this.props)&&void 0!==t&&t.pageId?this.props.pageId:ue.a.pageId,pageCatCode:(null===(n=this.props)||void 0===n?void 0:n.pageCatCode)||"",pageCatName:(null===(r=this.props)||void 0===r?void 0:r.pageCatName)||"",resSiteCode:(null===(o=this.props)||void 0===o?void 0:o.resSiteCode)||"",resSiteName:(null===(i=this.props)||void 0===i?void 0:i.resSiteName)||""},content:a}},expose_videoItem:function(e,t){var n,r={index:this.props.index,flag:e.length>0&&void 0===(null===(n=t[0])||void 0===n?void 0:n.key),comId:this.props.comId,onlyId:this.props.onlyId};R.a.emit("videoCardExpose",r)},clickItem:function(e,t){var n,r,o,i,a,l;return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:6===t?"点击短视频卡片":"点击直播卡片",eventType:pe.e.EVENT_TYPE_CLICK,pageId:"undefined"!==this.props.pageId&&null!==(n=this.props)&&void 0!==n&&n.pageId?this.props.pageId:ue.a.pageId,pageCatCode:(null===(r=this.props)||void 0===r?void 0:r.pageCatCode)||"",pageCatName:(null===(o=this.props)||void 0===o?void 0:o.pageCatName)||"",resSiteCode:(null===(i=this.props)||void 0===i?void 0:i.resSiteCode)||"",resSiteName:(null===(a=this.props)||void 0===a?void 0:a.resSiteName)||"",content:{comId:e.comId||"",gotoPageId:e.gotoPageId||"",gotoURL:e.gotoURL||"",ruleId:e.ruleId||"",sId:e.sId||"",dataCode:e.dataCode||"",dataType:e.dataType||"",index:(null===(l=e.index)||void 0===l?void 0:l.toString())||"",clickType:e.clickType||"",hybridShelfdCardType:e.hybridShelfdCardType||"",nextPage:e.nextPage||"",row:"",column:""}}}}};function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe,He,ze=function(e){return X.a.create({container:Me(Me({},e.S31),{},{overflow:"hidden",borderRadius:8,flexDirection:"column",marginTop:8}),topicOuter:{marginHorizontal:8,marginBottom:8,height:28,flexDirection:"row"},topicInner:Me(Me({},e.S13),{},{height:"100%",borderRadius:56,flexDirection:"column",justifyContent:"center",flexShrink:1}),topicText:Me(Me(Me({},e.T4),e.C11),{},{fontFamily:ke.a.fontFamilyMedium,flexShrink:1,marginHorizontal:8,textAlign:"center"}),bottomOuter:{marginHorizontal:8,marginBottom:8,flexDirection:"row"},bottomLeft:{marginRight:12,flexDirection:"row",flexShrink:1},userImageStyle:{marginRight:4,width:20,height:20,borderRadius:40},userNameStyle:{flexShrink:1,justifyContent:"center"},userNameText:Me(Me(Me({flexShrink:1},e.T3),e.C11),{},{opacity:.4,textAlign:"left",fontFamily:ke.a.fontFamilyBase}),bottomRight:{flexGrow:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},userThumbText:Me(Me(Me({},e.T1),e.C11),{},{opacity:.4,marginLeft:1,textAlign:"right",fontFamily:ke.a.fontFamilyBase})})},Ue=n(20),Ve=n(96),Ge=n(38),Ye=n(22),Je=n(19),Ke=n(24),qe=n(45),Qe=n.n(qe);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var et=function(e){v()(n,e);var t=Ze(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"componentName","VideoCard"),P()(m()(r),"firstScreenHeigt",void 0),P()(m()(r),"labelWidth",0),P()(m()(r),"showLabel",!0),P()(m()(r),"pictureUri",void 0),P()(m()(r),"gotoURL",void 0),P()(m()(r),"itemlist",[]),P()(m()(r),"dataList",void 0),P()(m()(r),"_panResponder",void 0),P()(m()(r),"_panResponderApk",void 0),P()(m()(r),"topStyle",void 0),P()(m()(r),"getHeight",(function(){return Object(ce.x)(r.props.pageType).screenHeight})),P()(m()(r),"getLabelType",(function(e){if(e){if(!new RegExp(/^[0-9.]*$/).test(e))return!1;var t=Number(e);1==t?r.showLabel=!1:2==t?(r.showLabel=!0,r.labelWidth=33,r.pictureUri="img_tag_woshai",r.topStyle={top:"web"===j.a.OS?-7:"ios"===j.a.OS?-9.5:-6.5}):3==t?(r.showLabel=!0,r.labelWidth=33,r.pictureUri="img_tag_strategy",r.topStyle={top:"web"===j.a.OS?-7:"ios"===j.a.OS?-9.5:-6.5}):4==t?(r.showLabel=!0,r.labelWidth=16,r.pictureUri="img_tag_rem",r.topStyle={top:"ios"===j.a.OS?.5:2}):5==t&&(r.showLabel=!0,r.labelWidth=22,r.pictureUri="ic_tag_evaluating",r.topStyle={top:"web"===j.a.OS?-1.5:"ios"===j.a.OS?-3:-1})}else r.showLabel=!1;return r.showLabel})),P()(m()(r),"receivePlayer",(function(e){"function"==typeof r.props.receivePlayer&&e&&r.props.receivePlayer(e)})),P()(m()(r),"prodRef",(function(e){var t;if(e)r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e);else if("web"!==j.a.OS&&null!==(t=m()(r))&&void 0!==t&&t.props){var n={index:r.props.index,flag:!1,comId:r.props.comId,onlyId:r.props.onlyId};R.a.emit("videoCardExpose",n)}})),P()(m()(r),"dapReportClickData",(function(e,t){var n;(0,r.props.clickItem)(Xe({gotoPageId:null===(n=r.props.gotoPageId)||void 0===n?void 0:n.toString(),gotoURL:r.gotoURL,clickType:null==t?void 0:t.toString(),nextPage:e},r.dataList),r.props.cardType),Object(Ye.b)("",!0)})),P()(m()(r),"handleZhibo",(function(e){var t="web"===j.a.OS?"".concat(Fe,"live/home"):e;t&&(r.gotoURL=JSON.parse(JSON.stringify(t))),Object(ce.A)(t)})),P()(m()(r),"handlePress",(function(e,t){var n=e+t;n&&(r.gotoURL=JSON.parse(JSON.stringify(n))),Object(ce.A)(n)})),P()(m()(r),"handleApkPress",(function(e,t){var n="vmall://com.vmall.client/discoverNew/"+(0===e?"longContent":1===e?"shortContent":"video")+"?contentId="+t;n&&(r.gotoURL=JSON.parse(JSON.stringify(n))),Object(ce.A)(n)})),P()(m()(r),"handlePressUser",(function(e,t,n,o){var i="vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+o;i&&(r.gotoURL=JSON.parse(JSON.stringify(i))),Object(ce.A)(i)})),P()(m()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),P()(m()(r),"getReadCount",(function(e){if(!new RegExp(/^[0-9.]*$/).test(e))return"0";var t=Number(e);return t>9999?(t/=1e4).toFixed(1)+"万":t})),r.state={},r}return h()(n,[{key:"componentDidMount",value:function(){Fe=Ge.a.wapDomain,He="".concat(Fe,"newContent/detail?contentId="),Ge.a.wapsmartLifemain}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return this.firstScreenHeigt=this.getHeight(),k.a.createElement(U.b,{themeStyles:ze},(function(t,n){var r,o,i,a,l,s,c,u,d,p=e.props,f=(p.index,p.showLabel),h=(p.showTopic,p.showUser,p.showReader,p.isPadHorizontal),g=e.props.dataItem,m=(g.contentType,g.anonymous),y=g.liveName,v=g.liveURL,b=g.liveIcon,w=g.accountDetail,S=g.user,C=g.viewCount,O=g.contentID,P=g.guideWord,T=g.labeFlag,x=g.guideURL,I=g.playURL,E=g.source,R=g.topicId,_=g.topicWord,D=(g.cardType,g.picturePath),W=g.webpPath,A=g.cardCode;v||(v="vmall://com.vmall.client/live/home"),1===E?(s=null==S?void 0:S.nickname,c=null==S?void 0:S.portraitUri,u=null==S?void 0:S.uid,d=null==S?void 0:S.portrait):Object(ce.D)(w)?Object(ce.D)(S)||(s=null==S?void 0:S.nickname,c=null==S?void 0:S.portraitUri,u=null==S?void 0:S.uid,d=null==S?void 0:S.portrait):(s=null==w?void 0:w.accountName,c=null==w?void 0:w.portraitUri,u=null==w?void 0:w.accountId,d=null==w?void 0:w.portrait),d=E+"";var B=null!==(r=e.props.dataItem)&&void 0!==r&&r.labeFlag?"_"+(null===(o=e.props.dataItem)||void 0===o?void 0:o.labeFlag):"";e.dataList={comId:e.props.comId?e.props.comId.toString():"",dataType:(4===e.props.cardType?35:33)+"",ruleId:e.props.ruleId||"",sId:e.props.sId||"",dataCode:A||"",index:(null===(i=e.props.index)||void 0===i?void 0:i.toString())||"",hybridShelfdCardType:(null===(a=e.props.cardType)||void 0===a?void 0:a.toString())+B,row:"",column:""},De.onUpdate(e.dataList,e.props.index),(f=!0)&&(f=e.getLabelType(T));var M=e.props.itemWidth,F=0===m?xe.a:Ie.a;return 0===m&&(s=Object(ce.b)(s)),4!==e.props.cardType&&6!==e.props.cardType?null:6===e.props.cardType?k.a.createElement(Ie.a,{onPress:function(){e.gotoURL=void 0,"web"===j.a.OS?e.handlePress(He,O):e.handleApkPress(2,O),e.dapReportClickData(O,26)},style:[t.container,{width:M},h&&{marginTop:12}],ref:e.prodRef},k.a.createElement(L.a,{style:{width:M,height:3*M/2,marginBottom:8}},k.a.createElement(Ve.a,{width:"100%",height:"100%",sourceUrl:x||I,isPause:!0,poster:W||D,aspectRatio_wap:"2:3",type:4,ref:e.receivePlayer}),k.a.createElement(Qe.a,{start:{x:0,y:0},end:{x:0,y:1},colors:[Object(ce.f)("#000000",0),Object(ce.f)("#000000",.5)],style:{position:"absolute",zIndex:1,bottom:0,left:0}},k.a.createElement(L.a,{style:{width:M-16,flexDirection:"row",alignItems:"center",margin:8}},f?k.a.createElement(L.a,{style:[{position:"absolute",zIndex:2,left:0,flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"},e.topStyle]},k.a.createElement(Ue.a,{iconName:e.pictureUri,width:e.labelWidth,height:e.labelWidth,normalCol:"#E64566"})):null,k.a.createElement(N.a,{style:Xe(Xe({},n.T8),{},{color:"#FFFFFF",fontFamily:ke.a.fontFamilyMedium,textAlign:"left"}),numberOfLines:2,ellipsizeMode:"tail"},"web"===j.a.OS?k.a.createElement(N.a,{style:{marginLeft:f?e.labelWidth+4:0}}):"android"===j.a.OS?k.a.createElement(N.a,{style:{letterSpacing:f?e.labelWidth+1:0}},f?" ":""):k.a.createElement(L.a,{style:{width:f?e.labelWidth+4:0,height:0,overflow:"hidden",opacity:0}}),k.a.createElement(N.a,null,P))))),_?k.a.createElement(L.a,{style:[t.topicOuter]},k.a.createElement(Ie.a,{style:t.topicInner,onPress:function(){e.gotoURL=void 0,e.isApkOrIos()&&e.handlePress("vmall://com.vmall.client/discoverNew/topic?topicId=",R),e.dapReportClickData(R,4)}},k.a.createElement(N.a,{style:t.topicText,numberOfLines:1,ellipsizeMode:"tail"},_.startsWith("#")?_:"#"+_))):null,k.a.createElement(L.a,{style:[t.bottomOuter,{marginBottom:8}]},k.a.createElement(L.a,{style:t.bottomLeft},k.a.createElement(F,{onPress:function(){e.gotoURL=void 0,0!==m&&(e.isApkOrIos()&&e.handlePressUser(u,s,c,d)),e.dapReportClickData(u,2)}},k.a.createElement(Ke.a,{localSource:c&&"null"!=c&&0!==m?{uri:c}:Je.a.empty_user,imgStyle:t.userImageStyle,isUser:!0,resizeMode:"cover"})),k.a.createElement(F,{style:[t.userNameStyle],onPress:function(){e.gotoURL=void 0,0!==m&&(e.isApkOrIos()&&e.handlePressUser(u,s,c,d)),e.dapReportClickData(u,6)}},k.a.createElement(N.a,{style:t.userNameText,numberOfLines:1,ellipsizeMode:"tail"},null!==(l=s)&&void 0!==l?l:""))),k.a.createElement(L.a,{style:t.bottomRight},k.a.createElement(Ue.a,{normalCol:n.C31.color+"66",iconName:"ic_public_password_visible",width:"16",height:"16"}),k.a.createElement(N.a,{style:t.userThumbText,numberOfLines:1},C?e.getReadCount(C):"0")))):k.a.createElement(Ie.a,{onPress:function(){e.gotoURL=void 0,e.handleZhibo(v),e.dapReportClickData(y,35)},style:{overflow:"hidden",borderRadius:8,flexDirection:"column",width:M,marginTop:h?12:8},ref:e.prodRef},k.a.createElement(L.a,{style:{width:M,height:4*M/3}},k.a.createElement(Ve.a,{width:"100%",height:"100%",sourceUrl:x,isPause:!0,poster:W||D,aspectRatio_wap:"3:4",type:5,ref:e.receivePlayer}),k.a.createElement(Qe.a,{colors:[Object(ce.f)("#E21236",1),Object(ce.f)("#FF5B75",1)],angle:270,useAngle:!0,angleCenter:{x:.5,y:.5},style:{position:"absolute",zIndex:1,height:14,top:0,left:0,margin:8,borderRadius:4,transform:[{scaleX:-1}]}},k.a.createElement(L.a,{style:{flexDirection:"row",alignItems:"center",height:"100%",transform:[{scaleX:-1}]}},k.a.createElement(L.a,{style:{marginLeft:2,marginRight:1,flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"}},k.a.createElement(Ke.a,{localSource:Je.a.biaoqian,imgStyle:{width:12,height:12},resizeMode:"contain"})),k.a.createElement(N.a,{style:Xe(Xe({},n.T0),{},{color:"#FFFFFF",fontFamily:ke.a.fontFamilyBase,textAlign:"center",marginRight:2}),numberOfLines:1,ellipsizeMode:"clip"},Object(z.b)("liveBroadcast"))))),k.a.createElement(Qe.a,{start:{x:0,y:0},end:{x:0,y:1},colors:[Object(ce.f)("#000000",0),Object(ce.f)("#000000",.5)],style:{position:"absolute",zIndex:1,bottom:0,left:0,padding:8,flexDirection:"row",alignItems:"center",width:M}},k.a.createElement(L.a,{style:{marginRight:4,flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"}},k.a.createElement(Ke.a,{localSource:b&&"null"!=b?{uri:b}:Je.a.ic_card_vmall,imgStyle:{width:20,height:20,borderRadius:40},resizeMode:"cover"})),k.a.createElement(N.a,{style:Xe(Xe({},n.T3),{},{color:"#FFFFFF",textAlign:"left",fontFamily:ke.a.fontFamilyBase,flexShrink:1}),numberOfLines:1,ellipsizeMode:"tail"},y)))}))}}]),n}(I.Component),tt=Object(de.a)(Ae)(Object(we.a)(et)),nt=n(157),rt={exposeItem:function(e){var t,n,r,o,i,a,l,s,c,u,d=[{comId:(null===(t=this.props)||void 0===t?void 0:t.comId)||"",ruleId:(null===(n=this.props)||void 0===n?void 0:n.ruleId)||"",sId:(null===(r=this.props)||void 0===r?void 0:r.sId)||"",dataCode:"",dataType:"15",index:(null===(o=this.props)||void 0===o||null===(i=o.index)||void 0===i?void 0:i.toString())||"",row:"",column:""}];return{isBatch:!0,commonData:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:"胶囊卡片曝光",eventType:pe.e.EVENT_TYPE_EXPOSURE,pageId:"undefined"!==this.props.pageId&&null!==(a=this.props)&&void 0!==a&&a.pageId?this.props.pageId:ue.a.pageId,pageCatCode:(null===(l=this.props)||void 0===l?void 0:l.pageCatCode)||"",pageCatName:(null===(s=this.props)||void 0===s?void 0:s.pageCatName)||"",resSiteCode:(null===(c=this.props)||void 0===c?void 0:c.resSiteCode)||"",resSiteName:(null===(u=this.props)||void 0===u?void 0:u.resSiteName)||""},content:d}},clickItem:function(e,t){var n,r,o;return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:"点击胶囊标签卡片",eventType:pe.e.EVENT_TYPE_CLICK,pageId:e,pageCatCode:(null==t?void 0:t.pageCatCode)||"",pageCatName:(null==t?void 0:t.pageCatName)||"",resSiteCode:(null==t?void 0:t.resSiteCode)||"",resSiteName:(null==t?void 0:t.resSiteName)||"",content:{comId:t.comId||"",gotoPageId:t.gotoPageId||"",gotoURL:t.gotoURL||"",ruleId:t.ruleId||"",sId:t.sId||"",dataCode:"",dataType:"15",index:(null===(n=t.index)||void 0===n?void 0:n.toString())||"",clickType:"36",row:"",column:"",capsuleIndex:(null===(r=t.capsuleIndex)||void 0===r?void 0:r.toString())||"",capsuleWord:(null===(o=t.capsuleWord)||void 0===o?void 0:o.toString())||""}}}}};function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at,lt=function(e){return X.a.create({container:it(it({},e.S31),{},{overflow:"hidden",borderRadius:8,flexDirection:"column",marginTop:8,alignItems:"center"}),outer:{width:"100%",height:28,flexDirection:"row",marginBottom:8},innerLeft:it(it({},e.S13),{},{height:"100%",marginHorizontal:8,paddingHorizontal:8,borderRadius:20,flexDirection:"column",justifyContent:"center"}),innerRight:it(it({},e.S13),{},{height:"100%",marginRight:8,paddingHorizontal:8,borderRadius:20,flexDirection:"column",justifyContent:"center"}),imageStyle:{marginRight:4,width:16,height:16,borderRadius:32}})};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var dt=function(e){v()(n,e);var t=ut(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"itemlist",[]),P()(m()(r),"_panResponder",void 0),P()(m()(r),"_panResponderApk",void 0),P()(m()(r),"getHeight",(function(){return Object(ce.x)(r.props.pageType).screenHeight})),P()(m()(r),"prodRef",(function(e){e&&"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),P()(m()(r),"handlePress",(function(e,t){var n,o,i,a,l,s,c,u,d,p,f=void 0;"web"===j.a.OS?(f="".concat(at,"portal/search/index.html?targetRoute=SearchPage&searchWord=").concat(e),Object(ce.A)(f)):(f="vmall://com.vamll.client/home/rnSearch?targetRoute=SearchPage&searchWord=".concat(e),Object(ce.A)(f));var h={gotoURL:f,capsuleIndex:t,capsuleWord:e,comId:(null===(n=r.props)||void 0===n?void 0:n.comId)||"",gotoPageId:(null===(o=r.props)||void 0===o?void 0:o.gotoPageId)||"",ruleId:(null===(i=r.props)||void 0===i?void 0:i.ruleId)||"",sId:(null===(a=r.props)||void 0===a?void 0:a.sId)||"",index:null===(l=r.props)||void 0===l?void 0:l.index,pageCatCode:(null===(s=r.props)||void 0===s?void 0:s.pageCatCode)||"",pageCatName:(null===(c=r.props)||void 0===c?void 0:c.pageCatName)||"",resSiteCode:(null===(u=r.props)||void 0===u?void 0:u.resSiteCode)||"",resSiteName:(null===(d=r.props)||void 0===d?void 0:d.resSiteName)||""},g="undefined"!==r.props.pageId&&null!==(p=r.props)&&void 0!==p&&p.pageId?r.props.pageId:ue.a.pageId;r.props.clickItem(rt.clickItem(g,h)),Object(Ye.b)("",!0)})),P()(m()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),P()(m()(r),"renderRow",(function(e,t,n,o){var i=r.props.dataItem.searchKeywords,a=!0;6===o&&(i.length<8&&(a=!1));return k.a.createElement(L.a,{style:[e.outer]},k.a.createElement(Ie.a,{onPress:function(){r.handlePress(i[o],o)},style:[e.innerLeft]},k.a.createElement(N.a,{style:ct(ct(ct({},t.T3),t.C11),{},{fontFamily:ke.a.fontFamilyBase,textAlign:"center",width:n}),numberOfLines:1,ellipsizeMode:"tail"},i[o])),a?k.a.createElement(Ie.a,{onPress:function(){r.handlePress(i[o+1],o+1)},style:[e.innerRight]},k.a.createElement(N.a,{style:ct(ct(ct({},t.T3),t.C11),{},{fontFamily:ke.a.fontFamilyBase,textAlign:"center",width:n}),numberOfLines:1,ellipsizeMode:"tail"},i[o+1])):null)})),r.state={},r}return h()(n,[{key:"componentDidMount",value:function(){at=Ge.a.wapDomain}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"render",value:function(){var e=this;return k.a.createElement(U.b,{themeStyles:lt},(function(t,n){var r=e.props.isPadHorizontal,o=e.props.itemWidth,i=(o-24)/2-16;return k.a.createElement(L.a,{style:[t.container,{width:o,height:192},r&&{marginTop:12}],ref:e.prodRef},k.a.createElement(L.a,{style:{flexDirection:"row",marginVertical:12,alignItems:"center",maxWidth:o}},"ios"===j.a.OS?k.a.createElement(nt.a,{source:Je.a.ic_recommend,style:t.imageStyle,resizeMode:"cover"}):k.a.createElement(Ke.a,{localSource:Je.a.ic_recommend,imgStyle:t.imageStyle,resizeMode:"cover"}),k.a.createElement(N.a,{style:ct(ct(ct({},n.T8),n.C11),{},{fontFamily:ke.a.fontFamilyMedium,textAlign:"left"}),numberOfLines:1,ellipsizeMode:"clip"},Object(z.b)("canAlsoSee"))),e.renderRow(t,n,i,0),e.renderRow(t,n,i,2),e.renderRow(t,n,i,4),e.renderRow(t,n,i,6))}))}}]),n}(I.Component),pt=Object(de.a)(rt)(Object(we.a)(dt));function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt,mt,yt=function(e){return X.a.create({container:{borderRadius:8,backgroundColor:e.C33.color,marginTop:8},imgStyle:{overflow:"hidden",borderTopLeftRadius:8,borderTopRightRadius:8},topicAllView:{flexDirection:"row",marginTop:8,marginHorizontal:8,height:27},topicView:{borderRadius:56,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity],paddingHorizontal:8,paddingTop:6,paddingBottom:5,flexDirection:"column",justifyContent:"center",flexShrink:1},topicText:ht(ht(ht({},e.C31),e.T4),{},{textAlign:"center"}),labelAllView:{marginTop:8,marginHorizontal:8,flexDirection:"row",alignItems:"flex-start"},labelImgView:{position:"absolute",zIndex:2,left:0,flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"},labelAllText:ht(ht({},e.T8),{},{textAlign:"left"},e.C71),userAll:{flexDirection:"row",justifyContent:"space-between",alignContent:"center",marginHorizontal:8,marginVertical:8},userLeftAll:{flexDirection:"row",justifyContent:"flex-start",alignContent:"center",marginRight:12,flexShrink:1},userLeftName:{flexShrink:1,justifyContent:"center",alignContent:"center"},userLeftText:ht(ht(ht({marginLeft:4},e.T3),e.C73),{},{textAlign:"left",flexShrink:1}),userRightAll:{flexGrow:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},userRightText:ht(ht(ht({},e.T1),e.C73),{},{marginLeft:1})})},vt=new(gt=function(){function e(){p()(this,e),Re()(this,"dataList",mt,this)}return h()(e,[{key:"onUpdate",value:function(e,t){this.dataList.set(t,e)}}]),e}(),mt=_e()(gt.prototype,"dataList",[Ee.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),_e()(gt.prototype,"onUpdate",[Ee.d],Object.getOwnPropertyDescriptor(gt.prototype,"onUpdate"),gt.prototype),gt);var bt,wt,St=function(e,t){var n;return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:"点击长/短图文卡片",eventType:pe.e.EVENT_TYPE_CLICK,pageId:e,pageCatCode:(null==t?void 0:t.pageCatCode)||"",pageCatName:(null==t?void 0:t.pageCatName)||"",resSiteCode:(null==t?void 0:t.resSiteCode)||"",resSiteName:(null==t?void 0:t.resSiteName)||"",content:{comId:t.comId||"",gotoPageId:t.gotoPageId||"",gotoURL:t.gotoURL||"",ruleId:t.ruleId||"",sId:t.sId||"",dataCode:t.dataCode||"",dateType:"32",index:(null===(n=t.index)||void 0===n?void 0:n.toString())||"",clickType:t.clickType||"",hybridShelfdCardType:t.hybridShelfdCardType||"",nextPage:t.nextPage||"",row:"",column:""}}}};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Tt=function(e){v()(n,e);var t=Pt(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"gotoURL",void 0),P()(m()(r),"item",void 0),P()(m()(r),"itemlist",[]),P()(m()(r),"dataList",void 0),P()(m()(r),"handleImg",(function(e){return(/(http|https):\/\/([\w.]+\/?)\S*/.test(e)?"":ue.a.cmsCdnPath)+e})),P()(m()(r),"prodRef",(function(e){e&&(r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e))})),P()(m()(r),"dapReportClickData",(function(e,t){var n,o,i=r.props,a=(i.clickItem,i.pageCatCode),l=i.pageCatName,s=i.resSiteCode,c=i.resSiteName,u=Ot(Ot({gotoPageId:null===(n=r.props.gotoPageId)||void 0===n?void 0:n.toString(),gotoURL:r.gotoURL,clickType:null==t?void 0:t.toString(),nextPage:e},r.dataList),{},{pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}),d="undefined"!==r.props.pageId&&null!==(o=r.props)&&void 0!==o&&o.pageId?r.props.pageId:ue.a.pageId;r.props.clickItem(St(d,u)),Object(Ye.b)("",!0)})),P()(m()(r),"handleData",(function(){})),P()(m()(r),"getReadCount",(function(e){if(!new RegExp(/^[0-9.]*$/).test(e))return"0";var t=Number(e);return t>9999?(t/=1e4).toFixed(1)+"万":t})),P()(m()(r),"handlePress",(function(e,t){var n=e+t;n&&(r.gotoURL=JSON.parse(JSON.stringify(n))),Object(ce.A)(n)})),P()(m()(r),"handleApkPress",(function(e,t){var n="vmall://com.vmall.client/discoverNew/"+(0===t?"longContent":1===t?"shortContent":"longContent")+"?contentId="+e;n&&(r.gotoURL=JSON.parse(JSON.stringify(n))),Object(ce.A)(n)})),P()(m()(r),"handlePressUser",(function(e,t,n,o){var i="vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+o;i&&(r.gotoURL=JSON.parse(JSON.stringify(i))),Object(ce.A)(i)})),r.handleData(),r}return h()(n,[{key:"componentDidMount",value:function(){bt=Ge.a.wapDomain,wt="".concat(bt,"newContent/detail?contentId=")}},{key:"render",value:function(){var e,t,n,r,o,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b,w=this,S=this.props,C=S.picWordData,O=S.iWidth,P=S.picWordConfig,T=S.isPadHorizontal,x=4===(null==C?void 0:C.labeFlag)?16:5===(null==C?void 0:C.labeFlag)?22:33,I=C.webpPath?C.webpPath:C.picturePath,E=this.handleImg(I),R=null==C||null===(e=C.topicWord)||void 0===e?void 0:e.startsWith("#");if(1===(null==C?void 0:C.source))s=null==C||null===(p=C.user)||void 0===p?void 0:p.nickname,c=null==C||null===(f=C.user)||void 0===f?void 0:f.portraitUri,u=null==C||null===(h=C.user)||void 0===h?void 0:h.uid,d=null==C||null===(g=C.user)||void 0===g?void 0:g.portrait;else if(Object(ce.D)(null==C?void 0:C.accountDetail)){if(!Object(ce.D)(null==C?void 0:C.user)){var _,D,W,A;s=null==C||null===(_=C.user)||void 0===_?void 0:_.nickname,c=null==C||null===(D=C.user)||void 0===D?void 0:D.portraitUri,u=null==C||null===(W=C.user)||void 0===W?void 0:W.uid,d=null==C||null===(A=C.user)||void 0===A?void 0:A.portrait}}else s=null==C||null===(m=C.accountDetail)||void 0===m?void 0:m.accountName,c=null==C||null===(y=C.accountDetail)||void 0===y?void 0:y.portraitUri,u=null==C||null===(v=C.accountDetail)||void 0===v?void 0:v.accountId,d=null==C||null===(b=C.accountDetail)||void 0===b?void 0:b.portrait;d=(null==C?void 0:C.source)+"";var B=P.labelFlagShow&&(2===(null==C?void 0:C.labeFlag)||3===(null==C?void 0:C.labeFlag)||4===(null==C?void 0:C.labeFlag)||5===(null==C?void 0:C.labeFlag));this.dataList={comId:this.props.comId||"",dateType:"32",ruleId:this.props.ruleId||"",sId:this.props.sId||"",dataCode:null!==(t=this.props.picWordData)&&void 0!==t&&t.cardCode?null===(n=this.props.picWordData)||void 0===n?void 0:n.cardCode:this.props.dataCode||"",index:(null===(r=this.props.index)||void 0===r?void 0:r.toString())||"",hybridShelfdCardType:null!==(o=this.props.picWordData)&&void 0!==o&&o.labeFlag?(null===(i=this.props.picWordData)||void 0===i?void 0:i.cardType)+"_"+(null===(a=this.props.picWordData)||void 0===a?void 0:a.labeFlag):null===(l=this.props.picWordData)||void 0===l?void 0:l.cardType,row:"",column:""},vt.onUpdate(this.dataList,this.props.index);var F=P.userShow&&(!Object(ce.D)(null==C?void 0:C.accountDetail)||!Object(ce.D)(null==C?void 0:C.user)),H=0===(null==C?void 0:C.anonymous)?xe.a:Ie.a;return 0===(null==C?void 0:C.anonymous)&&(s=Object(ce.b)(s)),k.a.createElement(U.b,{themeStyles:yt},(function(e,t){var n;return k.a.createElement(Ie.a,{style:[e.container,{width:O},T&&{marginTop:12}],onPress:function(){w.gotoURL=void 0,"web"===j.a.OS?w.handlePress(wt,null==C?void 0:C.contentID):w.handleApkPress(null==C?void 0:C.contentID,null==C?void 0:C.contentType),w.dapReportClickData(null==C?void 0:C.contentID,26)},activeOpacity:1,ref:w.prodRef},k.a.createElement(L.a,{style:{width:O,height:O}},k.a.createElement(Ke.a,{resizeMode:"cover",resizeWidth:O,imgUri:E,imgStyle:[e.imgStyle,{width:O,height:O}]})),P.topicShow&&!(null==C||!C.topicWord)&&k.a.createElement(Ie.a,{style:e.topicAllView,onPress:function(){w.gotoURL=void 0,M.a.isApp()&&w.handlePress("vmall://com.vmall.client/discoverNew/topic?topicId=",null==C?void 0:C.topicId),w.dapReportClickData(null==C?void 0:C.topicId,4)}},k.a.createElement(L.a,{style:e.topicView},k.a.createElement(N.a,{style:e.topicText,numberOfLines:1,ellipsizeMode:"tail"},R?C.topicWord:"#"+C.topicWord))),k.a.createElement(L.a,{style:[e.labelAllView,M.a.isApp?{height:38.4}:{height:36.8}]},P.labelFlagShow?2!==(null==C?void 0:C.labeFlag)&&3!==(null==C?void 0:C.labeFlag)&&4!==(null==C?void 0:C.labeFlag)&&5!==(null==C?void 0:C.labeFlag)?null:k.a.createElement(L.a,{style:[e.labelImgView,4===(null==C?void 0:C.labeFlag)?{top:"web"===j.a.OS?1:"ios"===j.a.OS?0:2.5}:5===(null==C?void 0:C.labeFlag)?{top:"web"===j.a.OS?-2:"ios"===j.a.OS?-4.5:-.5}:{top:"web"===j.a.OS?-7.5:"ios"===j.a.OS?-9.5:-6}]},k.a.createElement(Ue.a,{iconName:2===(null==C?void 0:C.labeFlag)?"img_tag_woshai":3===(null==C?void 0:C.labeFlag)?"img_tag_strategy":4===(null==C?void 0:C.labeFlag)?"img_tag_rem":"ic_tag_evaluating",width:x,height:x,normalCol:"#E64566"})):null,k.a.createElement(N.a,{style:e.labelAllText,numberOfLines:2,ellipsizeMode:"tail"},"web"===j.a.OS?k.a.createElement(N.a,{style:{marginLeft:B?x+4:0}}):"android"===j.a.OS?k.a.createElement(N.a,{style:{letterSpacing:B?x+1:0}},B&&" "):k.a.createElement(L.a,{style:{width:B?x+4:0,height:0,overflow:"hidden",opacity:0}}),k.a.createElement(N.a,null,null==C?void 0:C.guideWord))),k.a.createElement(L.a,{style:e.userAll},F?k.a.createElement(L.a,{style:e.userLeftAll},k.a.createElement(H,{onPress:function(){w.gotoURL=void 0,0!==(null==C?void 0:C.anonymous)&&(M.a.isApp()&&w.handlePressUser(u,s,c,d)),w.dapReportClickData(u,2)}},k.a.createElement(Ke.a,{localSource:c&&0!==(null==C?void 0:C.anonymous)&&"null"!==c?{uri:c}:Je.a.empty_user,imgStyle:{width:20,height:20,borderRadius:20},resizeMode:"cover"})),k.a.createElement(H,{style:e.userLeftName,onPress:function(){0!==(null==C?void 0:C.anonymous)&&(M.a.isApp()&&w.handlePressUser(u,s,c,d)),w.dapReportClickData(u,6)}},k.a.createElement(N.a,{style:e.userLeftText,numberOfLines:1,ellipsizeMode:"tail"},null!==(n=s)&&void 0!==n?n:""))):null,P.viewCountShow?k.a.createElement(L.a,{style:e.userRightAll},k.a.createElement(Ue.a,{normalCol:t.C73.color+t.opacityMap[t.C73.opacity],iconName:"ic_public_password_visible",width:16,height:16}),k.a.createElement(N.a,{style:e.userRightText},w.getReadCount(null==C?void 0:C.viewCount))):null))}))}}]),n}(k.a.Component);P()(Tt,"defaultProps",{picWordConfig:{viewCountShow:!0,userShow:!0,labelFlagShow:!0,topicShow:!0}});var xt=Tt;function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(e){return X.a.create({container:{marginTop:8,borderRadius:8,backgroundColor:e.S31.backgroundColor},content:{borderTopLeftRadius:8,borderTopRightRadius:8},title:kt(kt(kt({fontFamily:ke.a.fontFamilyMedium},e.C12),e.T8),{},{textAlign:"left",paddingBottom:2,top:2}),description:kt(kt(kt({fontFamily:ke.a.fontFamilyBase},e.T4),e.C13),{},{textAlign:"left",paddingBottom:8}),label:{position:"absolute",zIndex:2,top:"web"===j.a.OS?null:1,left:0,flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"},contentText:{flexDirection:"row",borderBottomLeftRadius:8,borderBottomRightRadius:8},linearGradient:{paddingLeft:8,paddingRight:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}})},jt=function(e,t,n){var r,o,i="bigCard"===n?"大卡样式":"fourGrid"===n?"四宫格样式":"sixGrid"===n?"六宫格样式":"单向横滑样式",a="bigCard"===n?"43":"fourGrid"===n?"42":"sixGrid"===n?"41":"40",l=n?{comId:(null==t?void 0:t.comId)||"",gotoPageId:(null==t?void 0:t.gotoPageId)||"",gotoURL:(null==t?void 0:t.gotoURL)||"",dataCode:null==t?void 0:t.dataCode,dataType:a,index:(null===(r=t.index)||void 0===r?void 0:r.toString())||"",clickType:"33",hybridShelfdCardType:null!=t&&t.labeFlag?"3_"+(null==t?void 0:t.labeFlag):"3",nextPage:t.gotoURL||""}:{comId:(null==t?void 0:t.comId)||"",gotoPageId:(null==t?void 0:t.gotoPageId)||"",gotoURL:(null==t?void 0:t.gotoURL)||"",ruleId:(null==t?void 0:t.ruleId)||"",sId:(null==t?void 0:t.sId)||"",dataCode:null==t?void 0:t.dataCode,dateType:"30",index:(null===(o=t.index)||void 0===o?void 0:o.toString())||"",clickType:"33",hybridShelfdCardType:null!=t&&t.labeFlag?"3_"+(null==t?void 0:t.labeFlag):"3",nextPage:t.gotoURL||"",row:"",column:""};return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:n?"点击大卡流立体货架商品集大卡-"+i:"点击商品集",eventType:pe.e.EVENT_TYPE_CLICK,pageId:e,pageCatCode:(null==t?void 0:t.pageCatCode)||"",pageCatName:(null==t?void 0:t.pageCatName)||"",resSiteCode:(null==t?void 0:t.resSiteCode)||"",resSiteName:(null==t?void 0:t.resSiteName)||"",content:l}}},Rt=n(30);function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var _t=function(e){v()(n,e);var t=Lt(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"wapTimer",null),P()(m()(r),"itemlist",[]),P()(m()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),P()(m()(r),"handleClick",(function(){var e=r.props,t=e.productSetInfo,n=(e.clickItem,e.ruleId),o=e.sId,i=e.index,a="",l="";l=t.firstGuidWord?t.firstGuidWord:1===t.labeFlag?"主题商品合集":2===t.labeFlag?"专区商品合集":3===t.labeFlag?"搭配商品合集":"商品合集";var s={targetRoute:"ProductAlbumList",routeSource:"ProductSetCard",routeParams:{cardCode:t.cardCode,title:l}},c=encodeURIComponent(JSON.stringify(s));a=r.isApkOrIos()?t.jumpLink?t.jumpLink:"vmall://com.vmall.client/home/smartlife?targetRoute=ProductAlbumList&routeSource=ProductSetCard&cardCode=".concat(t.cardCode,"&title=").concat(l):t.wapJumpLink?t.wapJumpLink:"".concat(ue.a.wapDomain,"portal/smartlife/index.html?smartLifeParams=").concat(c),r.wapTimer&&clearTimeout(r.wapTimer),r.wapTimer=setTimeout((function(){Object(ce.A)(a)}),150);var u={gotoURL:a,comId:r.props.comId,labeFlag:t.labeFlag,ruleId:n,sId:o,index:i,dataCode:t.cardCode,pageCatCode:r.props.pageCatCode,pageCatName:r.props.pageCatName,resSiteCode:r.props.resSiteCode,resSiteName:r.props.resSiteName},d=r.props.pageId;r.props.clickItem(jt(d,u)),Object(Ye.b)("",!0)})),P()(m()(r),"prodRef",(function(e){e&&(r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e))})),r}return h()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.productSetConfig,r=t.productSetInfo,o=t.iWidth,i=t.isPadHorizontal,a=1===(null==r?void 0:r.labeFlag)?33:24,l=Rt.a.darkBool;return k.a.createElement(U.b,{themeStyles:Et},(function(t){return k.a.createElement(Ie.a,{ref:e.prodRef,style:[t.container,{width:o,marginTop:i?12:8}],onPress:function(){return e.handleClick()},activeOpacity:1},k.a.createElement(L.a,{style:[t.content,{width:o,height:o},e.isApkOrIos()?{justifyContent:"center",alignItems:"center"}:null]},k.a.createElement(Ke.a,{resizeMode:"cover",resizeWidth:o-40,imgUri:r.webpPath,imgStyle:[{height:o-40,width:o-40,margin:"auto"}]})),k.a.createElement(Qe.a,{start:{x:0,y:1},end:{x:0,y:0},colors:l?[Object(ce.f)("#2676E8",.2),Object(ce.f)("#2676E8",.03)]:[Object(ce.f)("#D9EDFE",.9),Object(ce.f)("#E4E0FF",.1)],style:t.linearGradient},k.a.createElement(L.a,{style:t.contentText},null!=n&&n.labelFlagShow&&null!=r&&r.labeFlag?k.a.createElement(L.a,{style:[t.label,{height:17,marginRight:8}]},k.a.createElement(L.a,{style:{width:a,height:13,backgroundColor:"#46B1E3",borderRadius:4,overflow:"hidden",marginRight:8}},k.a.createElement(L.a,{style:{position:"absolute",left:-22,top:1}},k.a.createElement(Ue.a,{width:60,height:10,iconName:1===(null==r?void 0:r.labeFlag)?"img_tag_theme":2===(null==r?void 0:r.labeFlag)?"img_tag_prefecture":"img_tag_match",normalCol:"#ffffff"})))):null,k.a.createElement(N.a,{numberOfLines:2,ellipsizeMode:"tail",style:{height:38}},"web"===j.a.OS?k.a.createElement(N.a,{style:{marginLeft:n.labelFlagShow?a+4:0}}):1===(null==r?void 0:r.labeFlag)?k.a.createElement(N.a,null,"   "):k.a.createElement(N.a,null,"  "),k.a.createElement(N.a,{style:t.title},null!=n&&n.firstGuidWordShow?null==r?void 0:r.firstGuidWord:null))),k.a.createElement(N.a,{style:t.description,numberOfLines:1,ellipsizeMode:"tail"},null!=n&&n.secondGuidWordShow?null==r?void 0:r.secondGuidWord:null)))}))}}]),n}(k.a.Component);P()(_t,"defaultProps",{productSetConfig:{firstGuidWordShow:!0,secondGuidWordShow:!0,labelFlagShow:!0}});var Dt=_t,Nt=n(1734),Wt=n(1735);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=function(e){return X.a.create({allView:{paddingVertical:4,paddingHorizontal:12,borderRadius:16,backgroundColor:e.C33.color,overflow:"hidden",marginTop:12},titleView:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:21,paddingTop:.5},titleViewStyle:{height:48,paddingBottom:13,paddingTop:14},label:{position:"absolute",height:21,flexDirection:"row",justifyContent:"center",alignItems:"center"},labelView:{backgroundColor:"#46B1E3",height:16,borderRadius:4,marginRight:4},titleText:Bt(Bt(Bt({fontFamily:ke.a.fontFamilyMedium},e.T10),e.C11),{},{textAlign:"left"}),itemBox:{borderRadius:8},imageBox:{overflow:"hidden",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},imgStyle:{margin:16},prdCont:{paddingBottom:8,flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},prdContOne:{paddingTop:4},prdContFour:{paddingTop:8},prdContSix:{paddingHorizontal:8},promotionWord:Bt(Bt(Bt(Bt({},e.T0),e.C18),{},{paddingHorizontal:4,borderRadius:7},e.S15),{},{fontFamily:ke.a.fontFamilyBase,paddingVertical:1,height:14,textAlign:"center",overflow:"hidden",marginBottom:8}),briefName:Bt(Bt(Bt({},e.T6),e.C11),{},{fontFamily:ke.a.fontFamilyBase,marginBottom:4,height:18}),briefNameSixGrid:Bt(Bt(Bt({},e.T3),e.C11),{},{fontFamily:ke.a.fontFamilyBase,marginBottom:8,height:32,textAlign:"center"}),priceBox:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:16},priceBoxOne:{height:21},priceMark:{marginRight:2,color:e.C18.color,fontSize:e.T4.fontSize,fontWeight:"600",lineHeight:18,fontFamily:"ios"===j.a.OS?null:"LucidaGrande-Bold"},newPrice:Bt(Bt({},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"600",marginRight:4}),newPriceApkOrIos:{overflow:"visible"},oldPrice:Bt(Bt({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T1.fontSize,fontWeight:e.T1.fontWeight,fontFamily:ke.a.fontFamilyBase}),sixGridPrice:Bt(Bt(Bt({},e.T4),e.C18),{},{textAlign:"center"}),bigCardBox:{borderRadius:16,backgroundColor:e.C33.color,overflow:"hidden",marginTop:12},secondGuidWord:Bt(Bt(Bt({},e.T3),e.C13),{},{lineHeight:14,marginTop:5,height:14}),guideBox:{padding:12}})};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=function(e){return X.a.create({allView:{paddingVertical:4,paddingHorizontal:12,borderRadius:16,backgroundColor:e.C33.color,overflow:"hidden",marginTop:12},titleView:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:24},titleViewStyle:{height:48,paddingBottom:8,paddingTop:16},label:{position:"absolute",height:24,flexDirection:"row",justifyContent:"center",alignItems:"center"},labelView:{backgroundColor:"#46B1E3",height:20,borderRadius:4,marginRight:8},titleText:Ht(Ht(Ht({fontFamily:ke.a.fontFamilyMedium},e.T11),e.C11),{},{textAlign:"left"}),itemBox:{borderRadius:8},imageBox:{overflow:"hidden",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},prdCont:{paddingBottom:8,flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},prdContOne:{paddingTop:8},prdContFour:{paddingTop:8},prdContSix:{paddingTop:8,paddingBottom:12,paddingHorizontal:8},promotionWord:Ht(Ht(Ht(Ht({},e.T3),e.C18),{},{paddingHorizontal:8,borderRadius:10},e.S15),{},{fontFamily:ke.a.fontFamilyBase,paddingVertical:1,height:18,textAlign:"center",overflow:"hidden",marginBottom:8}),briefName:Ht(Ht(Ht({},e["T11-1"]),e.C11),{},{fontFamily:ke.a.fontFamilyBase,marginBottom:4,height:24}),briefNameSixGrid:Ht(Ht(Ht({},e.T9),e.C11),{},{fontFamily:ke.a.fontFamilyBase,marginBottom:4,height:42,textAlign:"center"}),priceBox:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:21},priceBoxOne:{height:26},priceMark:{marginRight:2,color:e.C18.color,fontSize:e.T10.fontSize,fontWeight:"600",fontFamily:"ios"===j.a.OS?null:"LucidaGrande-Bold"},newPrice:Ht(Ht({},e.C18),{},{fontSize:e.T12.fontSize,fontWeight:"600",marginRight:6}),newPriceApkOrIos:{overflow:"visible"},oldPrice:Ht(Ht({textDecorationLine:"line-through"},e.C14),{},{fontSize:e.T7.fontSize,fontWeight:e.T7.fontWeight,fontFamily:ke.a.fontFamilyBase}),sixGridPrice:Ht(Ht(Ht({},e.T10),e.C18),{},{textAlign:"center"}),bigCardBox:{borderRadius:16,backgroundColor:e.C33.color,overflow:"hidden",marginTop:12},secondGuidWord:Ht(Ht(Ht({},e.T9),e.C13),{},{lineHeight:21,marginTop:8,height:21}),guideBox:{paddingHorizontal:12,paddingVertical:16}})};function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Vt=function(e){v()(n,e);var t=Ut(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"wapTimer",null),P()(m()(r),"_panResponder",void 0),P()(m()(r),"itemlist",[]),P()(m()(r),"handleClick",(function(){var e=r.props,t=e.productSetInfo,n=e.index,o=e.bigCardType,i=e.comId,a=e.pageCatCode,l=e.pageCatName,s=e.resSiteCode,c=e.resSiteName,u="",d="";d=t.firstGuidWord?t.firstGuidWord:1===t.labeFlag?"主题商品合集":2===t.labeFlag?"专区商品合集":3===t.labeFlag?"搭配商品合集":"商品合集";var p={targetRoute:"ProductAlbumList",routeSource:"ProductSetCard",routeParams:{cardCode:t.cardCode,title:d}},f=encodeURIComponent(JSON.stringify(p));u=M.a.isApp()?t.jumpLink&&"bigCard"===o?t.jumpLink:"vmall://com.vmall.client/home/smartlife?targetRoute=ProductAlbumList&routeSource=ProductSetCard&cardCode=".concat(t.cardCode,"&title=").concat(d):t.wapJumpLink&&"bigCard"===o?t.wapJumpLink:"".concat(ue.a.wapDomain,"portal/smartlife/index.html?smartLifeParams=").concat(f),r.wapTimer&&clearTimeout(r.wapTimer),r.wapTimer=setTimeout((function(){Object(ce.A)(u)}),150);var h={comId:i,gotoURL:u,dataCode:t.cardCode,index:n,labeFlag:t.labeFlag,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c},g=r.props.pageId;r.props.clickItem(jt(g,h,o)),Object(Ye.b)("",!0)})),P()(m()(r),"prodRef",(function(e){e&&"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),P()(m()(r),"handleImg",(function(e){var t=e.photoPath,n=e.webpImgUrl,r=/(http|https):\/\/([\w.]+\/?)\S*/,o=r.test(t)?"":ue.a.cmsCndProdPath,i=o+t;return M.a.isApp()&&n&&(i=(o=r.test(n)?"":ue.a.cmsCndProdPath)+n),i})),r}return h()(n,[{key:"UNSAFE_componentWillMount",value:function(){"web"===j.a.OS&&(this._panResponder=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"renderTitle",value:function(e){var t=this,n=this.props,r=n.productSetInfo,o=n.bigCardType,i=n.isApp,a=(null==r?void 0:r.labeFlag)&&(1===(null==r?void 0:r.labeFlag)||2===(null==r?void 0:r.labeFlag)||3===(null==r?void 0:r.labeFlag)),l=i?1===(null==r?void 0:r.labeFlag)?40:28:1===(null==r?void 0:r.labeFlag)?50:35,s=i?1===(null==r?void 0:r.labeFlag)?-12:-6:1===(null==r?void 0:r.labeFlag)?-14.5:-7,c=i?1===(null==r?void 0:r.labeFlag)?22:16:1===(null==r?void 0:r.labeFlag)?29:21.5,u=1===(null==r?void 0:r.labeFlag)?0:-1,d=i?0:1===(null==r?void 0:r.labeFlag)?6:11;return k.a.createElement(Ie.a,{style:[e.titleView,"bigCard"!==o&&e.titleViewStyle],onPress:function(){return t.handleClick()},activeOpacity:1},a?k.a.createElement(L.a,{style:e.label},k.a.createElement(L.a,{style:[{width:l},e.labelView,"bigCard"!==o&&{marginTop:d}]},k.a.createElement(L.a,{style:{position:"absolute",top:s}},k.a.createElement(Ue.a,{width:l,height:l,iconName:1===(null==r?void 0:r.labeFlag)?"img_tag_theme_text":2===(null==r?void 0:r.labeFlag)?"img_tag_prefecture_text":"img_tag_match_text",normalCol:"#ffffff"})))):null,k.a.createElement(N.a,{style:[e.titleText,M.a.isApp()&&a&&{marginTop:u}],numberOfLines:1,ellipsizeMode:"tail"},a&&k.a.createElement(N.a,{style:{fontSize:c}},"  "),k.a.createElement(N.a,null,null!=r&&r.firstGuidWord?null==r?void 0:r.firstGuidWord:null)))}},{key:"renderProductItem",value:function(e,t){var n=this,r=this.props,o=r.bigCardType,i=r.iWidth,a=r.isApp,l="",s="",c=t.salePrice?t.salePrice:t.price,u="¥"+Nt.a.priceFormat(c);t.salePrice&&t.salePrice!==t.price?(l=Nt.a.priceFormat(t.salePrice),s=t.price&&"¥"+Nt.a.priceFormat(t.price)):(l=Nt.a.priceFormat(t.price),s="");var d=a&&"oneSlide"===o?136:"oneSlide"===o?(i-12-16)/2.273356:"sixGrid"===o?(i-24-16)/3:(i-24-8)/2,p=a?"sixGrid"===o?d-24:d-32:d-48,f=a?"sixGrid"===o?12:16:24,h="";return h=t.webpPhotoName&&M.a.isApp()?t.webpPhotoPath&&t.webpPhotoPath.startsWith("http")?t.webpPhotoPath:ue.a.cmsCndProdPath+t.webpPhotoPath+"800_800_"+t.webpPhotoName:t.photoPath&&t.photoPath.startsWith("http")?t.photoPath:ue.a.cmsCndProdPath+t.photoPath+"428_428_"+t.photoName,k.a.createElement(Ie.a,{style:[e.itemBox,{width:d},"oneSlide"===o&&{marginRight:8}],onPress:function(){return n.handleClick()},activeOpacity:1},k.a.createElement(L.a,{style:e.imageBox},k.a.createElement(Ke.a,{imgUri:h,resizeMode:"contain",resizeWidth:p,isHighQuality:!0,imgStyle:[{width:p,height:p,margin:f}]})),k.a.createElement(L.a,{style:[e.prdCont,"oneSlide"===o&&e.prdContOne,"fourGrid"===o&&e.prdContFour,"sixGrid"===o&&e.prdContSix]},k.a.createElement(N.a,{style:["sixGrid"===o?e.briefNameSixGrid:e.briefName],numberOfLines:"sixGrid"===o?2:1,ellipsizeMode:"tail"},t.briefName),"oneSlide"===o&&(t.promotionWord?k.a.createElement(N.a,{style:e.promotionWord},null==t?void 0:t.promotionWord):k.a.createElement(L.a,{style:{height:a?22:26}})),k.a.createElement(L.a,{style:[e.priceBox,("oneSlide"===o||"fourGrid"===o)&&e.priceBoxOne]},t.price||t.salePrice?"oneSlide"===o||"fourGrid"===o?k.a.createElement(k.a.Fragment,null,k.a.createElement(N.a,{style:[e.priceMark]},"¥"),k.a.createElement(N.a,{style:[e.newPrice,M.a.isApp()&&e.newPriceApkOrIos]},l),k.a.createElement(N.a,{style:e.oldPrice},s)):k.a.createElement(N.a,{style:e.sixGridPrice},u):null)))}},{key:"renderOneSlide",value:function(e){var t,n=this,r=null===(t=this.props.productSetInfo.sbomList)||void 0===t?void 0:t.slice(0,10).map((function(t){return n.renderProductItem(e,t)}));return k.a.createElement(L.a,{style:{marginRight:-12}},k.a.createElement(D.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,removeClippedSubviews:!0},r))}},{key:"renderSixGrid",value:function(e){var t=this,n=this.props,r=n.productSetInfo,o=n.iWidth;return k.a.createElement(Wt.a,{col:3,colGutter:8,rowGutter:8,pageGutter:0,boxWidth:o-24,dataArray:r.sbomList.slice(0,6),renderItem:function(n){var r=n.item;return t.renderProductItem(e,r)}})}},{key:"renderFourGrid",value:function(e){var t=this,n=this.props,r=n.productSetInfo,o=n.iWidth;return k.a.createElement(Wt.a,{col:2,colGutter:8,rowGutter:8,pageGutter:0,boxWidth:o-24,dataArray:r.sbomList.slice(0,4),renderItem:function(n){var r=n.item;return t.renderProductItem(e,r)}})}},{key:"renderBigCard",value:function(e){var t=this,n=this.props,r=n.productSetInfo,o=n.iWidth;return k.a.createElement(Ie.a,{style:[e.bigCardBox,{width:o}],onPress:function(){return t.handleClick()},activeOpacity:1,ref:this.prodRef},k.a.createElement(L.a,{style:e.imageBox},k.a.createElement(Ke.a,{imgUri:r.webpPath,resizeMode:"contain",resizeWidth:o,isHighQuality:!0,imgStyle:[{width:o,height:o/1.777778}]})),k.a.createElement(L.a,{style:e.guideBox},this.renderTitle(e),k.a.createElement(N.a,{style:e.secondGuidWord,numberOfLines:1,ellipsizeMode:"tail"},null!=r&&r.secondGuidWord?null==r?void 0:r.secondGuidWord:null)))}},{key:"loadComponent",value:function(e){var t,n=this,r=this.props,i=r.iWidth,a=r.bigCardType;return"bigCard"===a?this.renderBigCard(e):"oneSlide"===a?k.a.createElement(L.a,o()({style:[e.allView,{width:i}],ref:this.prodRef},null===(t=this._panResponder)||void 0===t?void 0:t.panHandlers),this.renderTitle(e),"oneSlide"===a&&this.renderOneSlide(e)):k.a.createElement(Ie.a,{style:[e.allView,{width:i}],onPress:function(){return n.handleClick()},activeOpacity:1,ref:this.prodRef},this.renderTitle(e),"sixGrid"===a&&this.renderSixGrid(e),"fourGrid"===a&&this.renderFourGrid(e))}},{key:"render",value:function(){var e=this;return this.props.isApp?k.a.createElement(U.b,{themeStyles:Mt},(function(t,n){return e.loadComponent(t)})):k.a.createElement(U.b,{themeStyles:zt},(function(t,n){return e.loadComponent(t)}))}}]),n}(k.a.Component),Gt=n(139),Yt=n(291),Jt=n(1018);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt,$t,Xt=function(e){return X.a.create({container:{borderRadius:8,backgroundColor:e.C33.color,marginTop:8,overflow:"hidden"},imgStyle:{overflow:"hidden",borderTopLeftRadius:8,borderTopRightRadius:8},titleAllView:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:8,marginBottom:4,marginHorizontal:8,height:18},textView:{position:"absolute",zIndex:2,left:0,top:"web"===j.a.OS?-1.5:"ios"===j.a.OS?-2.5:-1,flexDirection:"column",justifyContent:"center",alignItems:"center",display:"flex"},svgView:{marginRight:4},titleText:qt(qt(qt({},e.C71),e.T8),{},{textAlign:"left",flexShrink:1}),titleTextWeb:qt(qt({},e.C71),{},{fontSize:14,fontWeight:"600",fontFamily:ke.a.fontFamilyMedium,textAlign:"left",flexShrink:1}),numAllView:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginBottom:12,marginHorizontal:8,height:14},numText:qt(qt(qt({},e.C73),e.T1),{},{flexShrink:1}),viewText:{textAlign:"right"},margin:{marginRight:16,flexShrink:1},leftView:{flexDirection:"row"},bgView:{width:"100%",overflow:"hidden",flexGrow:1}})},Zt=new(Qt=function(){function e(){p()(this,e),Re()(this,"dataList",$t,this)}return h()(e,[{key:"onUpdate",value:function(e,t){this.dataList.set(t,e)}}]),e}(),$t=_e()(Qt.prototype,"dataList",[Ee.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),_e()(Qt.prototype,"onUpdate",[Ee.d],Object.getOwnPropertyDescriptor(Qt.prototype,"onUpdate"),Qt.prototype),Qt);var en=function(e,t){var n;return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:"点击话题卡片",eventType:pe.e.EVENT_TYPE_CLICK,pageId:e,pageCatCode:(null==t?void 0:t.pageCatCode)||"",pageCatName:(null==t?void 0:t.pageCatName)||"",resSiteCode:(null==t?void 0:t.resSiteCode)||"",resSiteName:(null==t?void 0:t.resSiteName)||"",content:{comId:t.comId||"",gotoPageId:t.gotoPageId||"",gotoURL:t.gotoURL||"",ruleId:t.ruleId||"",sId:t.sId||"",dataCode:t.dataCode||"",dateType:"34",index:(null===(n=t.index)||void 0===n?void 0:n.toString())||"",clickType:t.clickType||"",hybridShelfdCardType:t.hybridShelfdCardType||"",nextPage:t.nextPage||"",row:"",column:""}}}};function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var on=function(e){v()(n,e);var t=rn(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"gotoURL",void 0),P()(m()(r),"dataList",void 0),P()(m()(r),"itemlist",[]),P()(m()(r),"handleImg",(function(e){return(/(http|https):\/\/([\w.]+\/?)\S*/.test(e)?"":ue.a.cmsCdnPath)+e})),P()(m()(r),"handleCount",(function(e){var t=e.indexOf("万"),n=e.replace(/[^\d.]/g,"");return-1===t?n:n+"万"})),P()(m()(r),"handlePress",(function(e,t){var n=e+t;n&&(r.gotoURL=JSON.parse(JSON.stringify(n))),Object(ce.A)(n)})),P()(m()(r),"prodRef",(function(e){e&&(r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e))})),P()(m()(r),"dapReportClickData",(function(e,t){r.props.clickItem;var n,o,i,a,l,s,c=nn(nn({gotoPageId:null===(n=r.props.gotoPageId)||void 0===n?void 0:n.toString(),gotoURL:r.gotoURL,clickType:null==t?void 0:t.toString(),nextPage:e},r.dataList),{},{pageCatCode:(null===(o=r.props)||void 0===o?void 0:o.pageCatCode)||"",pageCatName:(null===(i=r.props)||void 0===i?void 0:i.pageCatName)||"",resSiteCode:(null===(a=r.props)||void 0===a?void 0:a.resSiteCode)||"",resSiteName:(null===(l=r.props)||void 0===l?void 0:l.resSiteName)||""}),u="undefined"!==r.props.pageId&&null!==(s=r.props)&&void 0!==s&&s.pageId?r.props.pageId:ue.a.pageId;r.props.clickItem(en(u,c)),Object(Ye.b)("",!0)})),r}return h()(n,[{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.iWidth,i=r.topicData,a=r.isPadHorizontal,l=i.thumbnailUri?i.thumbnailUri:i.backgroundImgUri,s=this.handleImg(l),c=null==i||null===(e=i.title)||void 0===e?void 0:e.startsWith("#"),u=!(null==i||!i.contentCount),d=!(null==i||!i.viewCount),p=u&&this.handleCount(i.contentCount),f=d&&this.handleCount(i.viewCount),h=Rt.a.darkBool,g=Object(z.b)("content.other").replace("%d",""),m=Object(z.b)("read.other").replace("%d","");return-1===p.indexOf("万")&&"1"===p&&(g=Object(z.b)("content.one").replace("%d","")),-1===f.indexOf("万")&&"1"===f&&(m=Object(z.b)("read.one").replace("%d","")),this.dataList={comId:this.props.comId||"",dateType:"34",ruleId:this.props.ruleId||"",sId:this.props.sId||"",dataCode:i.topicId?i.topicId:this.props.dataCode||"",index:(null===(t=this.props.index)||void 0===t?void 0:t.toString())||"",hybridShelfdCardType:"7",row:"",column:""},Zt.onUpdate(this.dataList,this.props.index),k.a.createElement(U.b,{themeStyles:Xt},(function(e,t){return k.a.createElement(Ie.a,{style:[e.container,{width:o},a&&{marginTop:12}],onPress:function(){M.a.isApp()&&n.handlePress("vmall://com.vmall.client/discoverNew/topic?topicId=",null==i?void 0:i.topicId),n.dapReportClickData(null==i?void 0:i.topicId,4)},activeOpacity:1,ref:n.prodRef},k.a.createElement(L.a,{style:{width:o,height:o}},k.a.createElement(Ke.a,{resizeMode:"cover",resizeWidth:o,imgUri:s,imgStyle:[e.imgStyle,{width:o,height:o}]})),k.a.createElement(Qe.a,{start:{x:.5,y:.125},end:{x:.5,y:1},colors:h?[Object(ce.f)("#8A2717",0),Object(ce.f)("#3A0A13",.2)]:[Object(ce.f)("#FFF5F6",0),Object(ce.f)("#FFF5F6",1)]},k.a.createElement(Jt.a,{imageStyle:{width:49,height:49,resizeMode:"contain",left:o-49,top:8},style:e.bgView,source:Je.a.topicbg},k.a.createElement(L.a,{style:e.titleAllView},k.a.createElement(L.a,{style:e.textView},k.a.createElement(Ue.a,{iconName:"ic_tag_topic",width:"22",height:"22",normalCol:"#E64566"})),k.a.createElement(N.a,{style:"web"===j.a.OS?e.titleTextWeb:e.titleText,numberOfLines:1,ellipsizeMode:"tail"},"web"===j.a.OS?k.a.createElement(N.a,{style:{marginLeft:26}}):k.a.createElement(N.a,{style:{fontSize:13}},"  "),k.a.createElement(N.a,null,c?i.title:"#"+i.title))),"web"===j.a.OS?k.a.createElement(L.a,{style:e.numAllView},u&&k.a.createElement(N.a,{style:[e.numText,e.margin],numberOfLines:1,ellipsizeMode:"tail"},k.a.createElement(N.a,{style:e.svgView},g),p),d&&k.a.createElement(N.a,{style:[e.numText,e.viewText],numberOfLines:1,ellipsizeMode:"tail"},k.a.createElement(N.a,{style:e.svgView},m),f)):k.a.createElement(L.a,{style:e.numAllView},u&&k.a.createElement(L.a,{style:[e.margin,e.leftView]},k.a.createElement(L.a,{style:e.svgView},k.a.createElement(N.a,{style:e.numText},g)),k.a.createElement(N.a,{style:e.numText,numberOfLines:1,ellipsizeMode:"tail"},p)),d&&k.a.createElement(k.a.Fragment,null,k.a.createElement(L.a,{style:e.svgView},k.a.createElement(N.a,{style:e.numText},m)),k.a.createElement(N.a,{style:e.numText,numberOfLines:1,ellipsizeMode:"tail"},f))))))}))}}]),n}(k.a.Component),an=n(127),ln=n(114),sn=n(174);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn,pn,fn=function(e){return X.a.create({contentBox:un(un({borderRadius:16,flexDirection:"column",justifyContent:"flex-start",overflow:"hidden"},e.S31),{},{marginTop:12}),bigCardUser:{height:32,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexShrink:1},bigCardUserImg:{width:32,height:32,borderRadius:64},bigCardUserName:un(un(un({marginLeft:6,flexShrink:1},e.T10),e.C12),{},{fontFamily:ke.a.fontFamilyMedium}),bigCardTitle:{backgroundColor:e.C70.color+"0c",height:28,borderRadius:56,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexShrink:1},bigCardNoTitle:{height:28},bigCardTitleContent:un(un(un({},e.T4),e.C12),{},{marginLeft:8,marginRight:8,flexShrink:1,fontFamily:ke.a.fontFamilyMedium}),Title:un(un({},e.T10),{},{color:e.C12.color,opacity:.9,fontFamily:ke.a.fontFamilyMedium}),padTitle:un(un(un({},e.T11),e.C11),{},{fontFamily:ke.a.fontFamilyMedium}),padContent:un(un(un({flexShrink:1},e.T9),e.C13),{},{fontFamily:ke.a.fontFamilyBase}),padUserImg:{width:36,height:36,borderRadius:72},padUserName:un(un(un({marginLeft:8,flexShrink:1},e.T11),e.C12),{},{fontFamily:ke.a.fontFamilyMedium}),padProductPrice:{fontFamily:"ios"===j.a.OS?null:"LucidaGrande",fontSize:13,fontWeight:"400",color:e.C13.color,opacity:e.C13.opacity},bigCardContent:un(un(un({marginBottom:16,flexShrink:1},e.T7),e.C22),{},{fontFamily:ke.a.fontFamilyBase}),bigCardMore:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},bigCardDate:un(un(un({},e.C15),e.T3),{},{fontFamily:ke.a.fontFamilyBase}),bigCardSvgAndLikes:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},bigCardUnLikeSvg:{marginRight:3,width:64,height:40,alignItems:"flex-end",justifyContent:"center"},bigCardLikes:un(un(un({},e.C15),e.T1),{},{fontFamily:ke.a.fontFamilyBase}),img:{width:"100%",height:"100%"},itemStyle:un(un({},e.S31),{},{flexDirection:"column",alignItems:"center",justifyContent:"space-between"}),imageContainer:{borderRadius:8},productImage:{borderRadius:8,marginBottom:8,backgroundColor:e.C39.color,opacity:e.C39.opacity},productPrice:{fontFamily:"ios"===j.a.OS?null:"LucidaGrande",fontSize:12,fontWeight:"400",color:e.C24.color,opacity:e.C13.opacity},dotView:{height:48,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},dot:{backgroundColor:e.C24.color,opacity:.05,width:4,height:4,borderRadius:8,marginRight:8},activeDot:{backgroundColor:e.C24.color,opacity:e.C24.opacity,width:4,height:4,borderRadius:8,marginRight:8},leftButtonShow:{width:48,height:48},rightButtonShow:{width:48,height:48,marginRight:-12},leftButton:{width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,backgroundColor:e.C24.color+"33",alignItems:"center",justifyContent:"center"},leftButtonActive:{backgroundColor:e.C33.color+"19",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},rightButton:{backgroundColor:e.C24.color+"33",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},rightButtonActive:{backgroundColor:e.C33.color+"19",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},imageButton:{width:24,height:24,top:16,left:16,zIndex:1},button_circle:{position:"absolute",width:24,height:24,borderRadius:26,borderColor:"#97979733",borderWidth:.5}})},hn={exposeItem:function(e){var t,n,r,o,i,a,l,s,c=null!==(t=this.props.dataItem)&&void 0!==t&&t.labeFlag?"_"+(null===(n=this.props.dataItem)||void 0===n?void 0:n.labeFlag):"",u=[{comId:(null===(r=this.props)||void 0===r?void 0:r.comId)||"",dataCode:(null===(o=this.props.dataItem)||void 0===o?void 0:o.cardCode)||"",dataType:(5===this.props.cardType?45:46)+"",index:(null===(i=this.props)||void 0===i||null===(a=i.index)||void 0===a?void 0:a.toString())||"",hybridShelfdCardType:(null===(l=this.props.cardType)||void 0===l?void 0:l.toString())+c}];return{isBatch:!0,commonData:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:6==this.props.cardType?"曝光大卡短视频卡片":"曝光大卡长图文卡片",eventType:pe.e.EVENT_TYPE_EXPOSURE,pageId:"undefined"!==this.props.pageId&&null!==(s=this.props)&&void 0!==s&&s.pageId?this.props.pageId:ue.a.pageId,pageCatCode:this.props.pageCatCode,pageCatName:this.props.pageCatName,resSiteCode:this.props.resSiteCode,resSiteName:this.props.resSiteName},content:u}},expose_videoItem:function(e,t){var n;if(6===(null===(n=this.props)||void 0===n?void 0:n.cardType)){var r,o={index:this.props.index,flag:e.length>0&&void 0===(null===(r=t[0])||void 0===r?void 0:r.key),onlyId:this.props.onlyId};R.a.emit("videoCardExpose",o)}},clickItem:function(e,t){var n,r;return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:6===t?"点击大卡短视频卡片":"点击大卡长图文卡片",eventType:pe.e.EVENT_TYPE_CLICK,pageId:"undefined"!==this.props.pageId&&null!==(n=this.props)&&void 0!==n&&n.pageId?this.props.pageId:ue.a.pageId,pageCatCode:this.props.pageCatCode,pageCatName:this.props.pageCatName,resSiteCode:this.props.resSiteCode,resSiteName:this.props.resSiteName,content:{comId:e.comId||"",gotoPageId:e.gotoPageId||"",gotoURL:e.gotoURL||"",dataCode:e.dataCode||"",dataType:e.dataType||"",index:(null===(r=e.index)||void 0===r?void 0:r.toString())||"",clickType:e.clickType||"",hybridShelfdCardType:e.hybridShelfdCardType||"",nextPage:e.nextPage||""}}}}},gn=n(51);function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var yn=function(e){v()(n,e);var t=mn(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"componentName","BigContentItem"),P()(m()(r),"firstScreenHeigt",void 0),P()(m()(r),"scrollView",void 0),P()(m()(r),"_panResponder",void 0),P()(m()(r),"_panResponderApk",void 0),P()(m()(r),"goodTimmer",void 0),P()(m()(r),"tmpProducts",void 0),P()(m()(r),"tmpPictures",void 0),P()(m()(r),"itemlist",[]),P()(m()(r),"getHeight",(function(){var e;return Object(ce.x)(null!==(e=r.props.pageType)&&void 0!==e?e:"homePage").screenHeight})),P()(m()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),P()(m()(r),"_getSize",(function(){return"web"===j.a.OS?E.a.get("window"):{width:Object(ce.x)(null!==(e=r.props.pageType)&&void 0!==e?e:"homePage").screenWidth,height:Object(ce.x)(null!==(t=r.props.pageType)&&void 0!==t?t:"homePage").screenHeight};var e,t})),P()(m()(r),"isPad",(function(){return"medium"===Object(F.a)(r._getSize().width)})),P()(m()(r),"isApp",(function(){return"small"===Object(F.a)(r._getSize().width)})),P()(m()(r),"prodRef",(function(e){var t,n;if(e)6===(null===(t=r.props)||void 0===t?void 0:t.cardType)&&r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e);else if("web"!==j.a.OS&&6===(null===(n=r.props)||void 0===n?void 0:n.cardType)){var o={index:r.props.index,flag:!1,onlyId:r.props.onlyId};R.a.emit("videoCardExpose",o)}})),P()(m()(r),"handlePress",(function(e,t){var n=e+t;Object(ce.A)(n),r.dapReportClickData(t,26,n)})),P()(m()(r),"handleApkPress",(function(e,t){var n="vmall://com.vmall.client/discoverNew/"+(0===e?"longContent":1===e?"shortContent":"video")+"?contentId="+t;Object(ce.A)(n),r.dapReportClickData(t,26,n)})),P()(m()(r),"receivePlayer",(function(e){"function"==typeof r.props.receivePlayer&&e&&r.props.receivePlayer(e)})),P()(m()(r),"handlePressUser",(function(e,t,n,o){var i="vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+o;Object(ce.A)(i),r.dapReportClickData(e,6,i)})),P()(m()(r),"showSummary",(function(e){r.setState({showSummary:e})})),P()(m()(r),"refScrollView",(function(e){r.scrollView=e})),P()(m()(r),"UNSAFE_componentWillReceiveProps",(function(e){"android"===j.a.OS&&e.firstScreenHeigt!==r.props.firstScreenHeigt&&r.buttonBackFirst()})),P()(m()(r),"gotoProductPage",function(){var e=u()(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.goodTimmer&&clearTimeout(r.goodTimmer),r.goodTimmer=setTimeout((function(){Object(ce.B)(String(t.disPrdId),String(t.sbomCode))}),150),e.next=4,Object(ce.p)(t.disPrdId,t.sbomCode);case 4:n=e.sent,r.dapReportClickData(t.disPrdId,37,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P()(m()(r),"dapReportClickData",(function(e,t,n){var o,i,a,l,s,c,u=r.props.clickItem,d=null!==(o=r.props.dataItem)&&void 0!==o&&o.labeFlag?"_"+(null===(i=r.props.dataItem)||void 0===i?void 0:i.labeFlag):"";u({comId:r.props.comId?r.props.comId.toString():"",dataType:(5===r.props.cardType?45:46)+"",ruleId:r.props.ruleId||"",sId:r.props.sId||"",dataCode:(null===(a=r.props.dataItem)||void 0===a?void 0:a.cardCode)||"",index:(null===(l=r.props.index)||void 0===l?void 0:l.toString())||"",hybridShelfdCardType:(null===(s=r.props.cardType)||void 0===s?void 0:s.toString())+d,row:"",column:"",gotoPageId:null===(c=r.props.gotoPageId)||void 0===c?void 0:c.toString(),gotoURL:n,clickType:null==t?void 0:t.toString(),nextPage:null==e?void 0:e.toString()},r.props.cardType),Object(Ye.b)("",!0)})),r.state={showSummary:!0,currentPage:1},r}return h()(n,[{key:"componentDidMount",value:function(){dn=Ge.a.wapDomain,pn="".concat(dn,"newContent/detail?contentId=")}},{key:"componentWillUnmount",value:function(){this.goodTimmer&&clearTimeout(this.goodTimmer)}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=Te.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"clickButton",value:function(e){var t=this,n=this.state.currentPage;"left"===e?n--:n++,(n<=0||n>Math.ceil(this.tmpProducts.length/4))&&(n=this.state.currentPage);var r=this.props.iWidth/2,o=this.props.iWidth-r,i=this.isApp()?this.props.iWidth:o;this.setState({currentPage:n},(function(){t.scrollView.scrollTo({x:(i-24+8)*(n-1),y:0,animated:!0})}))}},{key:"buttonBackFirst",value:function(){var e=this;this.scrollView&&this.setState({currentPage:1},(function(){e.scrollView.scrollTo({x:0,y:0,animated:!0})}))}},{key:"buttonShadow",value:function(e,t){var n,r=this,o=(null===(n=this.tmpProducts)||void 0===n?void 0:n.length)/4;return k.a.createElement(Ie.a,{style:["left"===e?t.leftButtonShow:t.rightButtonShow],onPress:function(){r.clickButton(e)},activeOpacity:1},k.a.createElement(L.a,{style:["left"===e?1==this.state.currentPage?t.leftButtonActive:t.leftButton:this.state.currentPage>=o?t.rightButtonActive:t.rightButton,{}]},"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?k.a.createElement(L.a,{style:t.button_circle}):null,k.a.createElement(L.a,{style:{position:"absolute",left:"left"===e?8:10}},k.a.createElement(Ue.a,{opacity:"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?.1:.86,normalCol:"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?Rt.a.darkBool?"#FFFFFF":"#000000":"#FFFFFF",iconName:"left"===e?"ic-back":"ic-next",width:"12",height:"12"}))))}},{key:"render",value:function(){var e=this;this.firstScreenHeigt=this.getHeight();var t=this.props.dataItem,n=t.contentType,r=t.anonymous,o=t.accountDetail,i=t.user,a=(t.viewCount,t.contentID),l=t.guideWord,s=(t.labeFlag,t.guideURL),c=t.playURL,u=t.source,d=(t.topicId,t.topicWord),p=(t.cardType,t.picturePath),f=t.webpPath,h=(t.cardCode,t.sbomList),g=t.title,m=this.props.iWidth/2,y=this.props.iWidth-m,v=this.isApp()?(this.props.iWidth-24-24)/4:(y-24-24)/4,b=this.isApp()?(this.props.iWidth-24-24)/4-6:(y-24-24)/4-8,w=x()(h,(function(e){return e.sbomCode}));if(this.tmpProducts=w?w.slice(0,24):[],this.tmpProducts.length>4&&this.tmpProducts.length%4!=0&&this.isApkOrIos())for(var S=4-this.tmpProducts.length%4,C=0;C<S;C++)this.tmpProducts.push({});var O=this.state.currentPage,P=function(t){for(var n,r=[t.dot],o=[t.activeDot],i=(null===(n=e.tmpProducts)||void 0===n?void 0:n.length)/4,a=[],l=0;l<i;l++)a.push(l+1===O?k.a.createElement(L.a,{style:o,key:l}):k.a.createElement(L.a,{style:r,key:l}));return a},T=this.tmpProducts.map((function(t,r){var o,i,l="{}"===JSON.stringify(t),s=void 0!==(null==t?void 0:t.salePrice)?"¥ "+(null==t?void 0:t.salePrice):void 0!==(null==t?void 0:t.price)?"¥ "+(null==t?void 0:t.price):Object(z.b)("without_price"),c="";null!=t&&t.webpPhotoPath?c=null!=t&&null!==(o=t.webpPhotoPath)&&void 0!==o&&o.includes("http")||null==t||!t.webpPhotoName?null==t?void 0:t.webpPhotoPath:ue.a.cmsCndProdPath+(null==t?void 0:t.webpPhotoPath)+"800_800_"+(null==t?void 0:t.webpPhotoName):c=null!=t&&null!==(i=t.photoPath)&&void 0!==i&&i.includes("http")||null==t||!t.photoName?null==t?void 0:t.photoPath:ue.a.cmsCndProdPath+(null==t?void 0:t.photoPath)+"428_428_"+(null==t?void 0:t.photoName);return k.a.createElement(U.b,{themeStyles:fn},(function(o){var i;return k.a.createElement(Ie.a,{onPress:function(){l?"web"===j.a.OS?e.handlePress(pn,a):e.handleApkPress(n,a):e.gotoProductPage(t)},style:[o.itemStyle,{marginRight:r===(null===(i=e.tmpProducts)||void 0===i?void 0:i.length)-1?e.isApkOrIos()?0:12:8,opacity:l?0:1,width:v}],activeOpacity:e.isApkOrIos()?0:1},k.a.createElement(L.a,{style:{width:v,height:v,borderRadius:8,marginBottom:8,backgroundColor:Rt.a.darkBool?"rgba(255,255,255,0.10)":"rgba(0,0,0,0.05)",alignItems:"center",justifyContent:"center"}},k.a.createElement(L.a,null,k.a.createElement(Ke.a,{imgUri:t&&c?c:gn.l,imgStyle:{width:b,height:b},resizeMode:"contain",resizeWidth:b,isHighQuality:!0}))),k.a.createElement(N.a,{style:e.isApp()?o.productPrice:o.padProductPrice,numberOfLines:1},2===Number(null==t?void 0:t.priceMode)?Object(z.b)("without_price"):s))}))}));return k.a.createElement(U.b,{themeStyles:fn},(function(t,h){var v,b,w,S,C,O,x;1===u?Object(ce.D)(i)?Object(ce.D)(o)||(S=null==o?void 0:o.accountName,C=null==o?void 0:o.portraitUri,O=null==o?void 0:o.accountId,x=null==o?void 0:o.portrait):(S=null==i?void 0:i.nickname,C=null==i?void 0:i.portraitUri,O=null==i?void 0:i.uid,x=null==i?void 0:i.portrait):Object(ce.D)(o)?Object(ce.D)(i)||(S=null==i?void 0:i.nickname,C=null==i?void 0:i.portraitUri,O=null==i?void 0:i.uid,x=null==i?void 0:i.portrait):(S=null==o?void 0:o.accountName,C=null==o?void 0:o.portraitUri,O=null==o?void 0:o.accountId,x=null==o?void 0:o.portrait),x=u+"";var I=e.props,E=I.iWidth,R=(I.index,I.style),_=I.showUserName,W=(I.showTitleTag,I.showProduct),A=I.isPadHorizontal,B=0===r?xe.a:Ie.a;0===r&&(S=Object(ce.b)(S));var M=!!g,F=!!l,H=e.tmpProducts&&(null===(v=e.tmpProducts)||void 0===v?void 0:v.length)>0,z=!!C,U=!!S,V=!(!s&&!c),G=9*E/16;//!!topicWord;
null==d||d.startsWith("#");return k.a.createElement(L.a,"web"===j.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,k.a.createElement(Ie.a,{onPress:function(){"web"===j.a.OS?e.handlePress(pn,a):e.handleApkPress(n,a)},style:[t.contentBox,{width:E},R,A&&{marginTop:12},!e.isApp()&&{flexDirection:"row",height:m}],activeOpacity:1},k.a.createElement(Ie.a,{onPress:function(){"web"===j.a.OS?e.handlePress(pn,a):e.handleApkPress(n,a)},style:[{width:e.isApp()?E:m,height:e.isApp()?G:m,backgroundColor:h.C34.color,marginBottom:U||z||M||F||H?!F&&!M||"false"!==_&&(U||z)||!e.isApp()?16:12:0},!e.isApp()&&{marginBottom:0}],activeOpacity:1,ref:e.prodRef},0===n||1===n?k.a.createElement(Ke.a,{imgUri:f||p,imgStyle:t.img,resizeMode:"cover",resizeWidth:E}):V?k.a.createElement(Ve.a,{ref:e.receivePlayer,width:"100%",height:"100%",sourceUrl:s||c,isPause:!0,poster:f||p,aspectRatio_wap:e.isApp()?"16:9":"1:1",isVoice:!1,type:1}):k.a.createElement(Ke.a,{imgUri:gn.l,imgStyle:t.img})),e.isApp()?k.a.createElement(L.a,{style:{paddingLeft:12,paddingRight:12}},"true"===_&&(U||z)?k.a.createElement(B,{onPress:function(){0!==r&&(e.isApkOrIos()&&e.handlePressUser(O,S,C,x))}},k.a.createElement(L.a,{style:[t.bigCardUser,{marginBottom:M||F||H?M&&e.isApp()?8:12:16}]},k.a.createElement(Ke.a,{localSource:C&&"null"!=C&&0!==r?{uri:C}:Je.a.empty_user,imgStyle:t.bigCardUserImg,resizeMode:"cover",isUser:!0}),k.a.createElement(N.a,{style:t.bigCardUserName,numberOfLines:1,ellipsizeMode:"tail"},null!==(b=S)&&void 0!==b?b:""))):null,null,M?k.a.createElement(L.a,{style:{marginBottom:F||H?e.isApp()&&F?8:12:16}},k.a.createElement(N.a,{numberOfLines:1,ellipsizeMode:"tail",style:t.Title},g),null):null,F?k.a.createElement(N.a,{numberOfLines:1,ellipsizeMode:"tail",style:[t.bigCardContent]},l):null,"true"===W&&H?k.a.createElement(L.a,{style:{width:e.isApkOrIos()?E-24:E-12,height:e.tmpProducts.length>4&&e.isApkOrIos()?(E-24-24)/4+27+40:(E-24-24)/4+27,marginBottom:e.tmpProducts.length<=4&&e.isApkOrIos()||"web"===j.a.OS?12:9,paddingRight:e.isApkOrIos()?0:-12,overflow:"hidden",flexDirection:"column",justifyContent:"flex-start"}},k.a.createElement(L.a,null,k.a.createElement(D.a,{ref:e.refScrollView,horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,removeClippedSubviews:!0,scrollEnabled:!e.isApkOrIos()},T)),k.a.createElement(L.a,{style:t.dotView},e.tmpProducts.length<=4||!e.isApkOrIos()?null:P(t),e.tmpProducts.length>4&&e.isApkOrIos()?k.a.createElement(L.a,{style:[t.bigCardSvgAndLikes,{width:E-12*Math.ceil(e.tmpProducts.length/4)-24,flexDirection:"row-reverse"}]},e.buttonShadow("right",t),e.buttonShadow("left",t)):null)):null):k.a.createElement(L.a,{style:{paddingLeft:12,paddingRight:12,flexDirection:"column",justifyContent:"space-between",width:y}},k.a.createElement(L.a,{style:{paddingTop:16,flexDirection:"column",justifyContent:"flex-start"}},"true"===_&&(U||z)?k.a.createElement(B,{onPress:function(){0!==r&&(e.isApkOrIos()&&e.handlePressUser(O,S,C,x))}},k.a.createElement(L.a,{style:[t.bigCardUser,{marginBottom:12,height:36}]},k.a.createElement(Ke.a,{localSource:C&&"null"!=C&&0!==r?{uri:C}:Je.a.empty_user,imgStyle:t.padUserImg,resizeMode:"cover",isUser:!0}),k.a.createElement(N.a,{style:t.bigCardUserName,numberOfLines:1,ellipsizeMode:"tail"},null!==(w=S)&&void 0!==w?w:""))):null,null,M?k.a.createElement(L.a,{style:{marginBottom:8}},k.a.createElement(N.a,{numberOfLines:1,ellipsizeMode:"tail",style:t.padTitle},g),null):null,F?k.a.createElement(N.a,{numberOfLines:e.tmpProducts.length>4?1:3,ellipsizeMode:"tail",style:[t.padContent]},l):null),"true"===W&&H?k.a.createElement(L.a,{style:{width:e.isApkOrIos()?y-24:y-12,height:e.tmpProducts.length>4&&e.isApkOrIos()?(y-24-24)/4+28+40+12:(y-24-24)/4+28+12,paddingRight:e.isApkOrIos()?0:-12,flexDirection:"column",justifyContent:"flex-end"}},k.a.createElement(L.a,{style:[(e.tmpProducts.length<=4||!e.isApkOrIos())&&{marginBottom:16}]},k.a.createElement(D.a,{ref:e.refScrollView,horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,removeClippedSubviews:!0,scrollEnabled:!e.isApkOrIos()},T)),e.tmpProducts.length>4&&e.isApkOrIos()?k.a.createElement(L.a,{style:[t.dotView,{marginVertical:4}]},e.tmpProducts.length<=4||!e.isApkOrIos()?null:P(t),e.tmpProducts.length>4&&e.isApkOrIos()?k.a.createElement(L.a,{style:[t.bigCardSvgAndLikes,{width:y-12*Math.ceil(e.tmpProducts.length/4)-24,flexDirection:"row-reverse"}]},e.buttonShadow("right",t),e.buttonShadow("left",t)):null):null):null)))}))}}]),n}(I.PureComponent);P()(yn,"defaultProps",{showUserName:"true",showTitleTag:"false",showProduct:"true"});var vn=Object(de.a)(hn)(Object(we.a)(yn)),bn={clickItem:function(e,t){var n,r={comId:t.comId||"",gotoPageId:t.gotoPageId||"",gotoURL:t.gotoURL||"",dataCode:t.dataCode||"",dataType:t.dataType||"",index:(null===(n=t.index)||void 0===n?void 0:n.toString())||"",clickType:t.clickType||"",hybridShelfdCardType:t.hybridShelfdCardType||"",nextPage:t.nextPage||""};return{data:{actionCode:"web"===j.a.OS?"210000101":"110000101",actionName:"大卡流立体货架商品大卡-点击-"+t.prdName,eventType:pe.e.EVENT_TYPE_CLICK,content:r,pageId:e,pageCatCode:(null==t?void 0:t.pageCatCode)||"",pageCatName:(null==t?void 0:t.pageCatName)||"",resSiteCode:(null==t?void 0:t.resSiteCode)||"",resSiteName:(null==t?void 0:t.resSiteName)||""}}},expose_videoItem:function(e,t){var n,r,o;if(null!==(n=this.props)&&void 0!==n&&null!==(r=n.configData)&&void 0!==r&&r.videoShow&&null!==(o=this.props)&&void 0!==o&&o.singleItem.previewVideoUrl){var i,a={index:this.props.index,flag:e.length>0&&void 0===(null===(i=t[0])||void 0===i?void 0:i.key),onlyId:this.props.onlyId};R.a.emit("videoCardExpose",a)}}};function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Sn,Cn=0,On=function(e){v()(n,e);var t=wn(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"componentName","ProductItemBigCard"),P()(m()(r),"firstScreenHeigt",void 0),P()(m()(r),"itemlist",[]),P()(m()(r),"receiveRef",(function(e){var t,n,o,i,a,l,s,c;if(e)null!==(t=r.props)&&void 0!==t&&null!==(n=t.configData)&&void 0!==n&&n.videoShow&&null!==(o=r.props)&&void 0!==o&&null!==(i=o.singleItem)&&void 0!==i&&i.previewVideoUrl&&r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e);else if("web"!==j.a.OS&&null!==(a=r.props)&&void 0!==a&&null!==(l=a.configData)&&void 0!==l&&l.videoShow&&null!==(s=r.props)&&void 0!==s&&null!==(c=s.singleItem)&&void 0!==c&&c.previewVideoUrl){var u={index:r.props.index,flag:!1,onlyId:r.props.onlyId};R.a.emit("videoCardExpose",u)}})),P()(m()(r),"handleImg",(function(e){var t=e.dataType,n=e.photoPath,r=e.photoName,o=e.webps,i=e.isCms,a=e.isCustomImage,l=e.photoPathMainWebp,s=Object(F.a)(E.a.get("window").width),c=/(http|https):\/\/([\w.]+\/?)\S*/,u=c.test(n),d=u?"":ue.a.cmsCndProdPath,p=Object(ce.e)(),f=p&&l?l:i&&!a&&"ad"!==t?d+n+(u?"":"428_428_"+r):d+n+(u?"":r);if(p)if(d=c.test(o.webp_4)?"":ue.a.cmsCndProdPath,"ad"===t)"small"===s&&o.webp_2?f=d+o.webp_2:"medium"===s&&o.webp_3?f=d+o.webp_3:"large"===s&&o.webp_4&&(f=d+o.webp_4);else{var h=o.webp_4||o.webp_3||o.webp_2;h&&(f=d+h)}return f})),P()(m()(r),"onClickSinglePrd",function(){var e=u()(s.a.mark((function e(t){var n,o,i,a,l,c,u,d,p,f,h,g,m,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((new Date).getTime()-Cn<500)){e.next=3;break}return e.abrupt("return");case 3:return l="web"===j.a.OS,e.next=6,Object(ce.p)(t.productId,t.skuCode);case 6:c=e.sent,u=r.props,d=u.pageCatCode,p=u.pageCatName,f=u.resSiteCode,h=u.resSiteName,g=u.comId,m={comId:g||"",gotoPageId:null===(n=r.props.gotoPageId)||void 0===n?void 0:n.toString(),gotoURL:c||"",dataCode:t.skuCode+"",dataType:"52",index:(null===(o=r.props.index)||void 0===o?void 0:o.toString())||"",clickType:"26",hybridShelfdCardType:"1",nextPage:null==t||null===(i=t.productId)||void 0===i?void 0:i.toString(),pageCatCode:d,pageCatName:p,resSiteCode:f,resSiteName:h,prdName:null==t?void 0:t.name},y="undefined"!==r.props.pageId&&null!==(a=r.props)&&void 0!==a&&a.pageId?r.props.pageId:ue.a.pageId,r.props.clickItem(y,m),Object(Ye.b)("",!0),(M.a.isApp()||l)&&Object(ce.B)(String(t.productId),String(t.skuCode)),Cn=(new Date).getTime();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P()(m()(r),"getHeight",(function(){var e;return Object(ce.x)(null!==(e=r.props.pageType)&&void 0!==e?e:"homePage").screenHeight})),r}return h()(n,[{key:"renderItem",value:function(){var e=this;this.firstScreenHeigt=this.getHeight();var t=this.props,n=t.singleItem,r=t.configData,o=t.iWidth,i=n,a=r,l={dataType:i.dataType,photoPath:i.photoPath,photoName:i.photoName,webps:i.displayPhotoWebpPathMap||{},isCms:!0,isCustomImage:i.customImage,photoPathMainWebp:i.photoPathMainWebp};return i.imgUrl=this.handleImg(l),i.previewVideoUrl=i.previewVideoUrl,i.prdName=i.name,i.displayTags=i.displayTags,i.promotionInfo=i.promotionInfo,i.sellingPoint=i.sellingPoint||i.prodSellPoint,i.priceMode=i.priceMode,i.salePrice=void 0!==i.promoPrice?i.promoPrice:i.price,i.originPrice=i.price,i.btnType=i.btnType,i.btnName=null!=r&&r.buttonText?r.buttonText:i.btnName,i.skuCode=i.skuCode,i.productId=i.productId,i.reportObj={comId:this.props.comId,index:this.props.index,ruleId:this.props.ruleId,sId:this.props.sId},a.videoShow=r.videoShow,a.promotionShow=r.promotionShow,a.prodTagShow=r.prodTagShow,a.prodSellPoint=r.prodSellPoint,a.buyIconShow=r.buyIconShow,a.originPriceShow=r.originPriceShow,a.buttonText=r.buttonText,a.bgColor=r.bgColor,a.prdNameNum=1,a.liveShow=!1,a.show3D=!1,a.layoutType="ProductBigCard",k.a.createElement(L.a,{style:{marginTop:12}},k.a.createElement(q.a,{data:i,config:a,iWidth:o,type:"activity",structure:"t2bBigContent",onClick:function(){return e.onClickSinglePrd(i)},receivePlayer:this.props.receivePlayer,stopVideo:this.props.stopAllVideoPlayer,setPlayIndex:this.props.setVideoPlayerIndex,receiveRef:this.receiveRef,bigMixCrad:this.props.bigMixCrad,isSmall:this.props.isApp}))}},{key:"render",value:function(){return this.renderItem()}}]),n}(k.a.Component),Pn=Object(de.a)(bn)(Object(we.a)(On));function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var kn=new Gt.a,En="1,1,1,106",jn="1,3,1,106",Rn=Object(Oe.c)(Sn=function(e){v()(r,e);var t,n=In(r);function r(e){var t,i,l,c;return p()(this,r),c=n.call(this,e),P()(m()(c),"layView",void 0),P()(m()(c),"prodRef",void 0),P()(m()(c),"originWidth",E.a.get("window").width),P()(m()(c),"originHeight",E.a.get("window").height),P()(m()(c),"headHeight",0),P()(m()(c),"mainStyleMg",void 0),P()(m()(c),"itemlist",[]),P()(m()(c),"visibleForItemList",[]),P()(m()(c),"isClickMakeGuessRecCardShow",!1),P()(m()(c),"componentName","ProductBlend"),P()(m()(c),"playerList",[]),P()(m()(c),"playerIndex",[]),P()(m()(c),"firstScreenHeigt",0),P()(m()(c),"customStyle",null),P()(m()(c),"currClickIndex",void 0),P()(m()(c),"loadMore",!0),P()(m()(c),"loadOrNot",!1),P()(m()(c),"newestData",void 0),P()(m()(c),"timer",void 0),P()(m()(c),"reportInfo",{sid:"",ruleId:""}),P()(m()(c),"canClick",!0),P()(m()(c),"clickTimer",void 0),P()(m()(c),"loadAllTimer",void 0),P()(m()(c),"num",void 0),P()(m()(c),"deviceRes",null),P()(m()(c),"prefix",void 0),P()(m()(c),"loadMoreParamsTid",void 0),P()(m()(c),"videoCardListener",void 0),P()(m()(c),"listenerNative",void 0),P()(m()(c),"handleClickThrottled",void 0),P()(m()(c),"onClickTitleMore",void 0),P()(m()(c),"prevPlayVideo",void 0),P()(m()(c),"onlyId",(new Date).getTime()+(1e6*Math.random()).toFixed()),P()(m()(c),"itemWidth",void 0),P()(m()(c),"listener",void 0),P()(m()(c),"layoutProvider",void 0),P()(m()(c),"calculateHeightObj",void 0),P()(m()(c),"timer1",void 0),P()(m()(c),"timer2",void 0),P()(m()(c),"timer3",void 0),P()(m()(c),"listenerSwitch",void 0),P()(m()(c),"activeflag",!1),P()(m()(c),"listerShow",void 0),P()(m()(c),"productSetFlag",{pre:"",cur:""}),P()(m()(c),"productSetFlagAll",{}),P()(m()(c),"handleVideoCardExpose",(function(e){var t;if(e)if("KcalFlow"!==c.props.configData.layoutType){if((c.props.id||!c.onlyId||c.onlyId==e.onlyId)&&(!c.props.id||c.props.id==e.comId)){var n=c.playerList.length,r=e.index;if(!(void 0===r||n<1)&&("web"===j.a.OS||e.flag||null!==(t=c.playerList[r])&&void 0!==t&&t.flag)&&r>=0&&r<n&&c.playerList[r]){c.playerList[r].flag=e.flag;for(var o=-1,i=0;i<n;i++)if(c.playerList[i]&&"function"==typeof c.playerList[i].play&&c.playerList[i].flag){if(!("web"!==j.a.OS&&c.playerList[r].flag&&r-i>12)){o=i;break}c.playerList[i].flag=!1}if(-1!=o){var a=c.playerList[o];if(a&&a.flag){if(c.prevPlayVideo&&c.prevPlayVideo!=a&&"function"==typeof c.prevPlayVideo.pause)try{c.prevPlayVideo.pause()}catch(e){}try{o!=r?c.prevPlayVideo&&c.prevPlayVideo!=a?a.playStart():a.play():a.playStart()}catch(e){}c.prevPlayVideo=a}}else if(c.prevPlayVideo&&"function"==typeof c.prevPlayVideo.pause)try{c.prevPlayVideo.pause()}catch(e){}}}}else{if(c.onlyId&&c.onlyId!=e.onlyId)return;c.handleVideoBigCardExpose(e)}})),P()(m()(c),"handleVideoBigCardExpose",(function(e){var t,n=c.playerList.length,r=e.index;if(!(void 0===r||n<1)&&("web"===j.a.OS||e.flag||null!==(t=c.playerList[r])&&void 0!==t&&t.flag)&&r>=0&&r<n&&c.playerList[r]){c.playerList[r].flag=e.flag;for(var o=-1,i=0;i<n;i++)if(c.playerList[i]&&"function"==typeof c.playerList[i].play&&c.playerList[i].flag){o=i;break}if(-1!=o){var a=c.playerList[o];if(a&&a.flag){if(c.prevPlayVideo&&c.prevPlayVideo!=a&&"function"==typeof c.prevPlayVideo.pause)try{c.prevPlayVideo.pause()}catch(e){}try{0===c.playerIndex[o]&&(o!=r?c.prevPlayVideo&&c.prevPlayVideo!=a&&a.playStart():a.playStart())}catch(e){}c.prevPlayVideo=a}}else if(c.prevPlayVideo&&"function"==typeof c.prevPlayVideo.pause)try{c.prevPlayVideo.pause()}catch(e){}}})),P()(m()(c),"_onScrollEvent",(function(e,t){t===c.props.pageType&&c.activeflag&&(c.activeflag=!1,c.timer1&&clearTimeout(c.timer1),c.timer1=setTimeout((function(){c.stopVideoPlayerButPre()}),700))})),P()(m()(c),"handleAppStateChangeWeb",(function(e){"active"===e&&"KcalFlow"!==c.props.configData.layoutType&&(c.timer3&&clearTimeout(c.timer3),c.timer3=setTimeout((function(){var e,t;if(c.prevPlayVideo&&null!==(e=c.prevPlayVideo)&&void 0!==e&&e.flag&&"function"==typeof(null===(t=c.prevPlayVideo)||void 0===t?void 0:t.play))try{c.prevPlayVideo.play()}catch(e){}}),1500))})),P()(m()(c),"getWidthAndHeight",(function(e,t){c.timer2&&clearTimeout(c.timer2),c.timer2=setTimeout((function(){R.a.emit("videoForOnScrollEvent")}),1500),t&&(c.firstScreenHeigt=t)})),P()(m()(c),"checkGuss",(function(e){return!e.isGuessRecCard})),P()(m()(c),"resetClick",(function(e){return null!=e&&e.hadClick&&(e.hadClick=!1),e})),P()(m()(c),"onHomeRefresh",(function(e){if(M.a.isApp()&&c.props.pageType===e&&c.state.isWaterfall&&c.props.isNewWaterfall){var t=c.state.initDataArray.filter(c.checkGuss);t=t.map(c.resetClick),c.setState({dataArray:c.state.initDataArray,pageNum:c.props.pageInfo.pageNum+1,loadState:1},(function(){c.loadMore=!0}))}})),P()(m()(c),"getOffSetTop",(function(){return"web"===j.a.OS?document.documentElement.scrollTop:0})),P()(m()(c),"getSinglePrdProps",(function(){var e=c.props.configData;c.isPc()&&(e.prdNameNum=1),c.mainStyleMg=c.isPc()?24.01:8.01})),P()(m()(c),"getSize",(function(){var e=c.originWidth;return("web"===j.a.OS||c.props.isNewWaterfall)&&(e=Object(ce.x)(c.props.pageType||"homePage").screenWidth),Object(F.a)(e)})),P()(m()(c),"isPc",(function(){return"large"===c.getSize()})),P()(m()(c),"isPad",(function(){return"medium"===c.getSize()})),P()(m()(c),"isApp",(function(){return"small"===c.getSize()})),P()(m()(c),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),P()(m()(c),"getWidth",(function(){var e=c.originWidth;return("web"===j.a.OS||c.props.isNewWaterfall)&&(e=Object(ce.x)(c.props.pageType||"homePage").screenWidth),e})),P()(m()(c),"getHeight",(function(){return Object(ce.x)(c.props.pageType||"homePage").screenHeight})),P()(m()(c),"isPadHorizontal",(function(){return c.isPad()&&c.getWidth()>=c.getHeight()&&c.getWidth()>=1024})),P()(m()(c),"getColNum",(function(){return c.isPc()?4:c.isApp()?1:c.isPadHorizontal()?3:2})),P()(m()(c),"handleWaterFallStyle",(function(){c.state.isWaterfall&&!c.isPc()&&(c.isPadHorizontal()?c.customStyle=ie:c.customStyle=oe)})),P()(m()(c),"onHeadLayout",(function(e){var t,n,r=(null==e||null===(t=e.nativeEvent)||void 0===t||null===(n=t.layout)||void 0===n?void 0:n.height)||0;c.headHeight=r})),P()(m()(c),"getPlatformPrefix",(function(){return{platformType:c.isApkOrIos()?pe.f.APP:c.isPc()?pe.f.PC:pe.f.WAP,eventID:c.isApkOrIos()?pe.d.APP:c.isPc()?pe.d.PC:pe.d.WAP}})),P()(m()(c),"onClickImageCard",(function(e,t,n){})),P()(m()(c),"onClickSinglePrd",function(){var e=u()(s.a.mark((function e(t,n,r){var o,i,a,l,u,d,p,f,h,g,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.canClick){e.next=2;break}return e.abrupt("return");case 2:return c.canClick=!1,setTimeout((function(){c.canClick=!0}),500),o=c.props.id,i=c.state,a=i.isWaterfall,l=i.dataArray,u=c.reportInfo,d=u.sid,p=u.ruleId,f="web"===j.a.OS,e.next=8,Object(ce.p)(t.productId,t.skuCode);case 8:h=e.sent,c.props.clickItem_product(t,n,{url:h,id:o,prefix:c.prefix,ruleId:p,sid:d}),c.isApkOrIos()&&a&&!t.hadClick&&(g=t.productId?[t.productId+""]:[],m=t.skuCode?[t.skuCode+""]:[],l[r].hadClick=!0,c.currClickIndex=void 0===t.originIndex?r:t.originIndex,c.getGuessRecData(g,m,r)),(c.isApkOrIos()||f)&&Object(ce.B)(String(t.productId),String(t.skuCode));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),P()(m()(c),"onClickSingleCard",(function(e){c.props.clickItem(e)})),P()(m()(c),"_loadMore",(function(){var e=c.props,t=e.configData,n=e.dataArray,r=e.pageInfo;if(c.loadMore)if(c.loadMore=!1,t.asyncGetMixRecommend)c._getAsyNcData();else{c.loadMore=!0;var o=c.state.dataArray.concat(n.slice(c.state.pageNum*r.pageSize,(c.state.pageNum+1)*r.pageSize));c.state.pageNum>=(r.totalPage||2)?(c.loadMore=!1,c.setState({loadState:3,showLoading:!0,showFullLoading:!1})):c.setState({dataArray:a()(o),showLoading:!0,loadState:1,pageNum:c.state.pageNum+1})}})),P()(m()(c),"_getAsyNcData",(function(e){c.loadMore=!1;var t=c.props.configData,n="";n=c.isApp&&"android"===j.a.OS?"3":c.isPad?"1":"2",1==c.state.pageNum&&"android"==j.a.OS?Object(ce.j)(pe.a.DEVICE_INFO).then((function(r){c.loadMoreParamsTid=r.tid;var o=c._http(t.asyncGetMixRecommend,xn({pageNum:c.state.pageNum,pageSize:e,portal:n,tid:c.loadMoreParamsTid},t.loadMoreParams)),i=new Promise((function(e,t){setTimeout((function(){t(new Error("Network Error"))}),5e3)}));Promise.race([o,i]).then((function(e){c._asyNcCallback(e)})).catch((function(){c.setState({showLoading:!0,loadState:2,showFullLoading:!1})}))})):Object(ce.F)()?c.productGetData():kn.getCsrftoken().finally((function(){c.productGetData()}))})),P()(m()(c),"productGetData",(function(){var e=c.props.configData,t="";t=c.isApp&&"android"===j.a.OS?"3":c.isPad?"1":"2";var n=c._http(e.asyncGetMixRecommend,xn({pageNum:c.state.pageNum,pageSize:18,portal:t,tid:c.loadMoreParamsTid},e.loadMoreParams)),r=new Promise((function(e,t){setTimeout((function(){t(new Error("Network Error"))}),5e3)}));Promise.race([n,r]).then((function(e){c._asyNcCallback(e)})).catch((function(){c.setState({showLoading:!0,loadState:2,showFullLoading:!1})}))})),P()(m()(c),"handleImg",(function(e){var t=e.photoPath,n=e.webpImgUrl,r=/(http|https):\/\/([\w.]+\/?)\S*/,o=r.test(t)?"":ue.a.cmsCndProdPath,i=o+t;return c.isApkOrIos()&&n&&(i=(o=r.test(n)?"":ue.a.cmsCndProdPath)+n),i})),P()(m()(c),"initData",u()(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.props.pageInfo,n=t.pageSize||18,c._getAsyNcData(n);case 3:case"end":return e.stop()}}),e)})))),P()(m()(c),"getGuessRecData",function(){var e=u()(s.a.mark((function e(t,n,r){var o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.buildGuessRecParams(t,n);case 2:o=e.sent,i=a()(c.state.dataArray),Object(se.o)(o).then((function(e){c.getGuessRecDataCallBack(e,i,r)})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),P()(m()(c),"getGuessRecDataCallBack",(function(e,t,n){var r;if((null==e||null===(r=e.productList)||void 0===r?void 0:r.length)>=4){var o=[],i=0;e.productList.forEach((function(t){var r={imgUrl:c.handleImg({photoPath:t.photoPath,webpImgUrl:t.photoPathMainWebp}),prdName:t.briefName,productId:t.productId,skuCode:t.skuCode,comId:c.props.id,ruleId:e.ruleId,sId:e.sid,currClickIndex:n};o.push(r)})),t.splice(n+1,0,{isGuessRecCard:!0,guessReclist:o}),t.forEach((function(e,n){e.isGuessRecCard?(i+=1,t[n].originIndex="".concat(n-i,"-guess")):t[n].originIndex=n-i})),c.isClickMakeGuessRecCardShow=!0,c.setState({dataArray:t})}})),P()(m()(c),"buildGuessRecParams",function(){var e=u()(s.a.mark((function e(t,n){var r,o,i,a,l,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=m()(c),o=r.getSize,i=r.isApkOrIos,a={portal:(i()?le.f.APP:"large"===o()?le.f.WEB:le.f.WAP)+"",lang:"zh-CN",country:"CN",pageNum:1,pageSize:4,isRecommended:!0,sceneId:i()?En:jn},l={},"web"!==j.a.OS){e.next=6;break}l={tid:Object(Se.c)(),uid:H.a.get("uid")||"",displayIds:t,skuCode:n},e.next=13;break;case 6:if(e.t0=c.deviceRes,e.t0){e.next=11;break}return e.next=10,Object(ce.j)("getDeviceInfo");case 10:e.t0=e.sent;case 11:u=e.t0,l={deviceType:null==u?void 0:u.deviceType,tid:null==u?void 0:u.tid,uid:null==u?void 0:u.uid,displayIds:JSON.stringify(t),skuCode:JSON.stringify(n)};case 13:return e.abrupt("return",xn(xn({},l),a));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P()(m()(c),"getItemWidth",(function(e,t,n){return c.itemWidth=(e-(t-1)*n)/t,c.itemWidth})),P()(m()(c),"stopAllVideoPlayer",(function(){for(var e=0;e<c.playerList.length;e++)if(c.playerList[e]&&"function"==typeof c.playerList[e].pause)try{c.playerList[e].pause()}catch(e){}c.activeflag=!0})),P()(m()(c),"stopVideoPlayerButPre",(function(){for(var e=0;e<c.playerList.length;e++)if(c.playerList[e]&&!c.playerList[e].flag&&"function"==typeof c.playerList[e].pause)try{c.playerList[e].pause()}catch(e){}})),P()(m()(c),"setVideoPlayerIndex",(function(e,t){c.playerIndex[e]=t})),P()(m()(c),"receiveRef",(function(e,t,n){var r;if(e){n&&(e.exposeObj=n),c.itemlist[t]=e;var o=c.state,i=o.isWaterfall,a=o.pageNum,l=o.pageSize,s=void 0===l?18:l,u=o.dataArray,d=u.length<s?u.length:s;!i||2!=a&&1!=a||(null===(r=c.itemlist)||void 0===r?void 0:r.length)!=2*d||c.itemlist.splice(0,d)}})),P()(m()(c),"renderTitleAndMore",(function(e,t){var n;return"StaggeredLayout"===(null==e?void 0:e.layoutType)||"KcalFlow"===(null==e?void 0:e.layoutType)?"KcalFlow"===c.props.configData.layoutType&&"android"!==j.a.OS||c.state.noData&&0===(null===(n=c.state.dataArray)||void 0===n?void 0:n.length)?k.a.createElement(L.a,null):k.a.createElement(L.a,{onLayout:c.onHeadLayout,style:[{backgroundColor:c.isApkOrIos()&&c.state.isWaterfall&&c.props.isNewWaterfall?t.bgColor:null},c.state.isWaterfall&&c.props.isNewWaterfall&&c.isApkOrIos()&&{paddingTop:c.mainStyleMg}]},k.a.createElement(Q.a,{isDisplayTitleBar:e.titleShow,title:e.cardTitle,subTitle:(null==e?void 0:e.moreTitle)||Object(z.b)("notice_more"),moreUrl:c.state.moreUrl,onClickMore:c.onClickTitleMore,showSetting:null==e?void 0:e.showSetting,imgNormal:null==e?void 0:e.imgNormal,imgDarkMode:null==e?void 0:e.imgDarkMode,styleChange:t,isDisplayMore:!c.props.withTabs&&(null==e?void 0:e.moreUrlType)===ne.h5&&e.moreVal===te.topRight,pageType:c.props.pageType})):k.a.createElement(L.a,null)})),P()(m()(c),"renderFooter",(function(){return c.state.hasLoadMore&&k.a.createElement(L.a,null,k.a.createElement(U.b,{themeStyles:re},(function(e,t){var n,r,o,i,a=null!==(n=c.props)&&void 0!==n&&null!==(r=n.styleChange)&&void 0!==r&&r.fontColor?{color:null===(o=c.props)||void 0===o||null===(i=o.styleChange)||void 0===i?void 0:i.fontColor}:{};return k.a.createElement(V.a,{showLoading:c.state.showLoading,position:c.state.loadingPostion,errorCallback:c._getAsyNcData,loadState:c.state.loadState,height:3===c.state.loadState?48:56,iconSize:24,titleStyle:xn(xn({},e.lodingTitle),a)})})))})),P()(m()(c),"getDataCode",(function(e,t){var n,r,o,i="";switch(e){case"1":i=null!=t&&t.skuCode?null==t||null===(n=t.skuCode)||void 0===n?void 0:n.toString():"";break;case"3":case"4":case"5":case"6":i=(null==t||null===(r=t.cardCode)||void 0===r?void 0:r.toString())||"";break;case"7":i=(null==t||null===(o=t.topicId)||void 0===o?void 0:o.toString())||(null==t?void 0:t.skuCode)||"";break;default:i=""}return i})),P()(m()(c),"getDataType",(function(e,t){var n="",r="bigCard"===t?"43":"fourGrid"===t?"42":"sixGrid"===t?"41":"40",o="KcalFlow"===c.props.configData.layoutType;switch(e){case"1":n=o?"52":"8";break;case"2":n=o?"44":"";break;case"3":n=o?r:"30";break;case"4":n="35";break;case"5":n=o?"45":"32";break;case"6":n="33";break;case"7":n="34";break;case"8":n="15";break;default:n=""}return n})),P()(m()(c),"getHybridShelfdCardType",(function(e,t){return("3"===e||"4"===e||"5"===e||"6"===e)&&null!=t&&t.labeFlag?e+"_"+(null==t?void 0:t.labeFlag):e})),P()(m()(c),"getActionName",(function(e){var t="",n="KcalFlow"===c.props.configData.layoutType;switch(e){case"1":t=n?"商品大卡-曝光":"商品卡片-曝光";break;case"2":t=n?"立体货架-图片大卡组件":"立体货架-图片基础组件";break;case"3":t=n?"商品集大卡曝光":"商品集曝光";break;case"4":t="直播卡片曝光";break;case"5":t=n?"大卡长/短图文卡片曝光":"长/短图文卡片曝光";break;case"6":t=n?"大卡短视频卡片曝光":"短视频卡片曝光";break;case"7":t="话题卡片曝光";break;case"8":t="胶囊标签卡片曝光";break;default:t=""}return t})),P()(m()(c),"renderSinglePrd",(function(e,t){var n,r=Object.keys(e)[0],o=m()(c),i=(o.isPc,o.isApkOrIos),a=c.props,l=a.configData,d=a.loadMoreParams,p=void 0!==e.originIndex?e.originIndex:t,f={comId:c.props.id,ruleId:c.reportInfo.ruleId,sid:(null==d?void 0:d.sid)||c.reportInfo.sid,itemIndex:p+"",index:p+"",dataType:c.getDataType(r),dataCode:c.getDataCode(r,e[r]),hybridShelfdCardType:c.getHybridShelfdCardType(r,e[r]),keys:r,row:"",column:"",productId:null===(n=e[r])||void 0===n?void 0:n.productId,actionName:c.getActionName(r),pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName};e.isGuessRecCard&&delete f.dataCode;var h=c.itemWidth,g={marginTop:c.isPadHorizontal()?12:8};if(e.isGuessRecCard)return _.a.VmallNative.invokeNative({service:"page",action:"setActive",params:{}}).then((function(e){})).catch((function(e){})),c._receivePlayer(!1,t),k.a.createElement(L.a,{style:g,key:e.originIndex},k.a.createElement($.a,{receiveRef:function(e){return c.receiveRef(e,t,f)},iWidth:h,guessReclist:e.guessReclist,sceneId:i()?En:jn,key:e.originIndex,hasAnimate:c.currClickIndex+"-guess"==(null==e?void 0:e.originIndex),pageId:c.props.pageId,pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName}));if("1"==r){var y=e,v=Object(ce.e)();return y.imgUrl=v&&y[r].photoPathMainWebp?y[r].photoPathMainWebp:y[r].photoPath,y.prdName=y[r].name,y.priceMode=y[r].priceMode,y.originPrice=y[r].price,y.salePrice=y[r].promoPrice,y.promotionRules=y[r].promoLabels,y.displayTags=y[r].displayTags,y.promotionInfo=y[r].promotionInfo,y.skuCode=y[r].skuCode,y.productId=y[r].productId,y.isInv=y[r].isInv,l.originPriceShow=!0,l.promotionShow=!0,l.promotionTagShow=!0,l.prodTagShow=!0,l.outOfStockTagShow=!0,c._receivePlayer(!1,t),k.a.createElement(q.a,{key:p,data:y,config:l,iWidth:h,onClick:function(){return c.onClickSinglePrd(y,p,t)},receiveRef:function(e){return c.receiveRef(e,t,f)},customPrdStyles:c.customStyle,isPadHorizontal:c.isPadHorizontal(),hyBrid:!0,pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})}if("2"==r){var b=e[r];return b.imgUri=b.webpPath?b.webpPath:b.picturePath,b.imgProportion="7:9",b.type="APP",b.cardType=b.cardType?b.cardType:"",b.labelFlag=b.labelFlag?b.labelFlag:"",b.actionUrl=b.appLink?b.appLink:"",b.actionUrlWeb=b.webLink?b.webLink:"",b.actionUrlWap=b.wapLink?b.wapLink:"",b.actionUrlWapcomId=b.cardCode?b.cardCode:"",b.index=t,b.comId=c.props.id,b.ruleId=c.reportInfo.ruleId,b.sId=c.reportInfo.sid,c._receivePlayer(!1,t),k.a.createElement(Pe.a,{receiveRef:function(e){return c.receiveRef(e,t,f)},key:e[r].picturePath,boxWidth:c.itemWidth,imgWidth:c.itemWidth,configInfo:l.moreTitle?l.moreTitle:"",layoutType:"StaggeredLayout",onClick:function(){return c.onClickImageCard(e[r],p,t)},title:"",subTitle:"",isDisplayTitleBar:!1,isDisplayMore:!1,hasMargin:!1,imgProportion:"7:9",imgList:[b],comId:c.props.id+"",pageId:c.props.pageId,ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})}return"3"==r?(c._receivePlayer(!1,t),k.a.createElement(Dt,{receiveRef:function(e){return c.receiveRef(e,t,f)},clickItem:c.onClickSingleCard,iWidth:c.itemWidth,productSetInfo:e[r],index:t,onClick:u()(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",c.onClickImageCard(e[r],p,t));case 1:case"end":return n.stop()}}),n)}))),isPadHorizontal:c.isPadHorizontal(),comId:c.props.id+"",ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,pageId:c.props.pageId,layoutType:"StaggeredLayout",pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})):"4"==r||"6"==r?k.a.createElement(tt,{receiveRef:function(e){return c.receiveRef(e,t,f)},itemWidth:c.itemWidth,cardType:Number(r),index:t,dataItem:e[r],receivePlayer:function(e){return c._receivePlayer(e,t)},key:p,comId:c.props.id,onlyId:c.onlyId,ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,dataCode:null==e?void 0:e.skuCode,gotoPageId:c.props.gotoPageId,pageType:c.props.pageType,pageId:c.props.pageId,isPadHorizontal:c.isPadHorizontal(),layoutType:"StaggeredLayout",pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName}):"5"==r?(c._receivePlayer(!1,t),k.a.createElement(xt,{clickItem:c.onClickSingleCard,receiveRef:function(e){return c.receiveRef(e,t,f)},comId:c.props.id+"",ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,dataCode:null==e?void 0:e.skuCode,gotoPageId:c.props.gotoPageId,index:t,iWidth:c.itemWidth,picWordData:e[r],key:p,pageId:c.props.pageId,isPadHorizontal:c.isPadHorizontal(),layoutType:"StaggeredLayout",pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})):"7"==r?(c._receivePlayer(!1,t),k.a.createElement(on,{clickItem:c.onClickSingleCard,receiveRef:function(e){return c.receiveRef(e,t,f)},comId:c.props.id+"",ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,dataCode:null==e?void 0:e.skuCode,gotoPageId:c.props.gotoPageId,index:t,iWidth:c.itemWidth,topicData:e[r],key:p,pageId:c.props.pageId,isPadHorizontal:c.isPadHorizontal(),layoutType:"StaggeredLayout",pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})):"8"==r?(c._receivePlayer(!1,t),k.a.createElement(pt,{clickItem:c.onClickSingleCard,receiveRef:function(e){return c.receiveRef(e,t,f)},itemWidth:c.itemWidth,index:t,dataItem:e[r],key:p,comId:c.props.id+"",ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,gotoPageId:c.props.gotoPageId,pageType:c.props.pageType,pageId:c.props.pageId,isPadHorizontal:c.isPadHorizontal(),layoutType:"StaggeredLayout",pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})):k.a.createElement(k.a.Fragment,null)})),P()(m()(c),"renderBigSinglePrd",(function(e,t){var n=Object.keys(e)[0],r=m()(c),o=(r.isPc,r.isApkOrIos,c.props),i=o.configData,a=o.loadMoreParams,l=void 0!==e.originIndex?e.originIndex:t,d={comId:c.props.id,ruleId:c.reportInfo.ruleId,sid:(null==a?void 0:a.sid)||c.reportInfo.sid,itemIndex:l+"",index:l+"",dataType:c.getDataType(n,c.productSetFlagAll[t+""]),dataCode:c.getDataCode(n,e[n]),hybridShelfdCardType:c.getHybridShelfdCardType(n,e[n]),keys:n,row:"",column:"",actionName:c.getActionName(n),pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName},p=c.itemWidth;if("1"==n){var f={originPriceShow:i.originPriceShow,buyIconShow:i.buyIconShow,prodSellPoint:i.prodSellPoint,promotionShow:i.promotionShow,prodTagShow:i.prodTagShow,videoShow:i.videoShow,bottonStyleFlag:i.bottonStyleFlag,buttonText:i.buttonText,bgColor:i.bgColor};return k.a.createElement(Pn,{key:l,iWidth:p,index:t,configData:f,isPadHorizontal:c.isPadHorizontal(),isApp:c.isApp(),isPc:c.isPc(),singleItem:e[n],pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName,receiveRef:function(e){return c.receiveRef(e,t,d)},comId:c.props.id+"",pageId:c.props.pageId,ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,pageType:c.props.pageType,onlyId:c.onlyId,receivePlayer:function(r){null!=i&&i.videoShow&&e[n].previewVideoUrl&&c._receivePlayer(r,t)},stopAllVideoPlayer:c.stopAllVideoPlayer,setVideoPlayerIndex:c.setVideoPlayerIndex,bigMixCrad:!0,firstScreenHeigt:c.firstScreenHeigt})}if("2"==n){var h=e[n];return h.imgUri=h.webpPath?h.webpPath:h.picturePath,h.imgProportion="16:9",h.type="APP",h.cardType=h.cardType?h.cardType:"",h.labelFlag=h.labelFlag?h.labelFlag:"",h.actionUrl=h.appLink?h.appLink:"",h.actionUrlWeb=h.webLink?h.webLink:"",h.actionUrlWap=h.wapLink?h.wapLink:"",h.actionUrlWapcomId=h.cardCode?h.cardCode:"",h.index=t,h.comId=c.props.id,h.ruleId=c.reportInfo.ruleId,h.sId=c.reportInfo.sid,h.dataCode=h.cardCode?h.cardCode:"",c._receivePlayer(!1,t),k.a.createElement(Pe.a,{receiveRef:function(e){return c.receiveRef(e,t,d)},key:e[n].picturePath,boxWidth:c.itemWidth,imgWidth:c.itemWidth,configInfo:i.moreTitle?i.moreTitle:"",layoutType:"StaggeredLayout",onClick:function(){return c.onClickImageCard(e[n],l,t)},title:"",subTitle:"",isDisplayTitleBar:!1,isDisplayMore:!1,hasMargin:!1,imgProportion:"16:9",imgList:[h],comId:c.props.id+"",pageId:c.props.pageId,ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName,bigMixCrad:!0,selfStyle:{borderRadius:16}})}return"3"==n?(c._receivePlayer(!1,t),k.a.createElement(Vt,{receiveRef:function(e){return c.receiveRef(e,t,d)},clickItem:c.onClickSingleCard,iWidth:c.itemWidth,bigCardType:c.productSetFlagAll[t+""],productSetInfo:e[n],index:t,onClick:u()(s.a.mark((function r(){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",c.onClickImageCard(e[n],l,t));case 1:case"end":return r.stop()}}),r)}))),isPadHorizontal:c.isPadHorizontal(),isApp:c.isApp(),comId:c.props.id+"",ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,pageId:c.props.pageId,layoutType:"KcalFlow",key:l,pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName})):"5"==n||"6"==n?k.a.createElement(vn,{receiveRef:function(e){return c.receiveRef(e,t,d)},iWidth:c.itemWidth,cardType:Number(n),index:t,dataItem:e[n],receivePlayer:function(e){return c._receivePlayer(e,t)},key:l,comId:c.props.id,onlyId:c.onlyId,ruleId:c.reportInfo.ruleId,sId:c.reportInfo.sid,dataCode:null==e?void 0:e.skuCode,gotoPageId:c.props.gotoPageId,pageType:c.props.pageType,pageId:c.props.pageId,isPadHorizontal:c.isPadHorizontal(),layoutType:"KcalFlow",pageCatCode:c.props.pageCatCode,pageCatName:c.props.pageCatName,resSiteCode:c.props.resSiteCode,resSiteName:c.props.resSiteName,firstScreenHeigt:c.firstScreenHeigt}):k.a.createElement(k.a.Fragment,null)})),P()(m()(c),"renderProductBody",(function(){c.getSinglePrdProps();var e=c.state.dataArray,t=m()(c),n=t.isPc,r=t.isPad,o=t.isApp,i=t.getWidth,a=c.isPadHorizontal(),l=c.props,s=l.configData,u=l.pageInfo,d=s.layoutType,p=null,f="KcalFlow"===c.props.configData.layoutType,h=n()||a?4:o()?2:3,g=f||n()||a?12:8,y=n()||a?24:o()?16:24,v=i(),b=o()?v-32:r()?v-48:G.a.safety_area;s.isPadHorizontal=a,f&&(h=1),f&&(b=o()?v-32:v-48);var w=0;if(2===h||3===h||4===h?w=((b||c.props.width)-g*(h-1))/h:1===h&&(w=b||c.props.width),c.itemWidth=w,d){var S,C;c.getItemWidth(b,h,g);var O=0;e.forEach((function(t,n){if(f&&"3"===Object.keys(t)[0]&&!Object.keys(c.productSetFlagAll).includes(n+"")){var r,o,i,a,l=!(null===(r=t[3])||void 0===r||!r.jumpLink)||!(null!==(o=t[3])&&void 0!==o&&o.sbomList)||0===(null===(i=t[3])||void 0===i?void 0:i.sbomList.length)||(null===(a=t[3])||void 0===a?void 0:a.sbomList.length)<4;if(""===c.productSetFlag.pre)l?c.productSetFlag.cur="bigCard":(c.productSetFlag.cur="oneSlide",c.productSetFlag.pre="oneSlide");else if("oneSlide"===c.productSetFlag.pre){var s;l?c.productSetFlag.cur="bigCard":(null===(s=t[3])||void 0===s?void 0:s.sbomList.length)<6?(c.productSetFlag.cur="fourGrid",c.productSetFlag.pre="fourGrid"):(c.productSetFlag.cur="sixGrid",c.productSetFlag.pre="sixGrid")}else"sixGrid"===c.productSetFlag.pre?l?c.productSetFlag.cur="bigCard":(c.productSetFlag.cur="fourGrid",c.productSetFlag.pre="fourGrid"):"fourGrid"===c.productSetFlag.pre&&(l?c.productSetFlag.cur="bigCard":(c.productSetFlag.cur="oneSlide",c.productSetFlag.pre="oneSlide"));c.productSetFlagAll[n+""]=c.productSetFlag.cur}e[n].realIndex=n,t.isGuessRecCard?(O+=1,e[n].originIndex="".concat(n-O,"-guess")):e[n].originIndex=n-O})),c.calculateHeightObj={itemWidth:c.itemWidth,screenWidth:v,configData:{promotionShow:s.promotionShow,prodSellPoint:s.prodSellPoint,promotionTagShow:s.promotionTagShow,commentCountShow:s.commentCountShow},isPadHorizontal:a,isApp:c.isApkOrIos()},p=c.isApkOrIos()&&c.props.isNewWaterfall?k.a.createElement(an.a,{style:c.props.pageStyle,columnCount:h,gutter:g,pageGutter:y,layoutProvider:c.layoutProvider,dataProvider:c.state.dataProvider.cloneWithRows(e),scrollViewProps:{removeClippedSubviews:"ios"!==j.a.OS,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,refreshControl:c.props.refreshControl,overScrollMode:"never",onScrollBeginDrag:c.props.onScrollBeginDrag,onMomentumScrollEnd:c.props.onMomentumScrollEnd,styleChange:[null!==(S=c.state.crossDressingStyle)&&void 0!==S&&S.imgStyle?null===(C=c.state.crossDressingStyle)||void 0===C?void 0:C.imgStyle:{},{marginTop:0===c.headHeight?0:0-c.mainStyleMg}],decelerationRate:"ios"===j.a.OS?.994:.98},scrollViewRef:c.props.scrollViewRef,onScroll:c.props.onScroll,onLoadMore:c._loadMore,rowRenderer:function(e,t,n){return f?c.renderBigSinglePrd(t,n):c.renderSinglePrd(t,n)},topComponent:c.props.topComponent,renderFooter:c.renderFooter,sceneName:"hybrid",bigMixCrad:f,uniqueKey:c.props.uniqueKey,newWaterFallBackground:c.props.newWaterFallBackground,onVisibleIndicesChanged:function(e,t,n){c.visibleForItemList=[],e.forEach((function(e){if(!c.state.dataArray[e].isGuessRecCard){var t=void 0!==c.state.dataArray[e].realIndex?c.state.dataArray[e].originIndex:e;c.visibleForItemList.push(t)}}))}}):k.a.createElement(Y.a,{column:h,data:e,boxWidth:b,gutter:g,pageGutter:0,pageNum:c.state.pageNum-1,pageSize:u.pageSize,isLoading:1===c.state.loadState,renderItem:function(e){var t=e.item;return f?c.renderBigSinglePrd(t,t.realIndex):c.renderSinglePrd(t,t.realIndex)},sceneName:"hybrid",newestData:c.newestData,isLoadMore:c.loadOrNot,prodCardShow:s.prodCardShow,onLoadMore:c._loadMore,footer:c.renderFooter})}return p})),P()(m()(c),"_renderScroll",(function(e){return"web"===j.a.OS?k.a.createElement(L.a,e):k.a.createElement(D.a,o()({},e,{removeClippedSubviews:"ios"!==j.a.OS}))})),P()(m()(c),"getViewContent",(function(e,t,n){var r,o,i,a,l,s,u,d,p,f=c.props,h=f.configData,g=f.styleChange,y=f.newWaterFallBackground,v=m()(c),b=v.isPc,w=v.isPad,S=(v.isApp,"KcalFlow"===c.props.configData.layoutType);(c.originWidth=n,null!==(r=c.state.crossDressingStyle)&&void 0!==r&&null!==(o=r.textStyle)&&void 0!==o&&o.color||null!==(i=c.state.crossDressingStyle)&&void 0!==i&&null!==(a=i.imgStyle)&&void 0!==a&&a.backgroundColor)?l={fontColor:null===(s=c.state.crossDressingStyle)||void 0===s||null===(u=s.textStyle)||void 0===u?void 0:u.color,bgColor:null===(d=c.state.crossDressingStyle)||void 0===d||null===(p=d.imgStyle)||void 0===p?void 0:p.backgroundColor}:l=g;c.state.isWaterfall&&c.isApkOrIos()&&c.props.isNewWaterfall&&c.props.productTitleAndMore&&c.props.productTitleAndMore(c.renderTitleAndMore(h,l));var C="StaggeredLayout"===(null==h?void 0:h.layoutType)||"KcalFlow"===(null==h?void 0:h.layoutType);return c.state.noData||S&&"android"!==j.a.OS||!C?c.props.withTabs?k.a.createElement(U.b,{themeStyles:re},(function(e,t){return k.a.createElement(L.a,{style:e.nodata},k.a.createElement(N.a,null,Object(z.b)("no_related")))})):c.props.isNewWaterfall?k.a.createElement(an.a,{style:c.props.pageStyle,columnCount:0,gutter:0,pageGutter:0,layoutProvider:c.layoutProvider,dataProvider:c.state.dataProvider.cloneWithRows([]),scrollViewProps:{removeClippedSubviews:"ios"!==j.a.OS,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,refreshControl:c.props.refreshControl,overScrollMode:"never",onScrollBeginDrag:c.props.onScrollBeginDrag,onMomentumScrollEnd:c.props.onMomentumScrollEnd},scrollViewRef:c.props.scrollViewRef,onScroll:c.props.onScroll,onLoadMore:c._loadMore,rowRenderer:function(e,t,n){return S?c.renderBigSinglePrd(t,n):c.renderSinglePrd(t,n)},topComponent:c.props.topComponent,newWaterFallBackground:y}):null:k.a.createElement(U.b,{themeStyles:re},(function(e,t){var n;return k.a.createElement(J.a,{style:[e.prdAll,c.isPc()&&e.prdAllPc,!c.props.isNewWaterfall&&(null===(n=c.state.crossDressingStyle)||void 0===n?void 0:n.imgStyle),!c.props.withTabs&&!c.state.isWaterfall&&{marginTop:c.mainStyleMg},c.props.withTabs&&!c.state.hasFooter&&c.isApkOrIos()&&{marginBottom:c.mainStyleMg},c.state.isWaterfall&&c.isApkOrIos()&&c.props.isNewWaterfall&&{flex:1}],ref:function(e){c.layView=e}},c.state.showFullLoading?k.a.createElement(L.a,{style:[e.load]},k.a.createElement(V.a,{showLoading:!0,position:"bottom",loadState:1,height:56,iconSize:24,titleStyle:e.lodingTitle})):null,c.isApkOrIos()&&c.state.isWaterfall&&c.props.isNewWaterfall?null:c.renderTitleAndMore(h,g),"web"===j.a.OS?k.a.createElement(L.a,{style:[e.prdArea,w()&&e.prdAreaPad,b()&&e.prdAreaPc,c.state.isWaterfall&&c.headHeight&&e.WaterfallMainStyle]},c.renderProductBody()):c.state.isWaterfall&&c.props.isNewWaterfall?c.renderProductBody():k.a.createElement(L.a,{style:[e.prdArea,w()&&e.prdAreaPad,b()&&e.prdAreaPc,c.state.isWaterfall&&c.headHeight&&e.WaterfallMainStyle]},c.renderProductBody()))}))})),c.state={dataArray:e.dataArray.slice(0,(null===(t=e.pageInfo)||void 0===t?void 0:t.pageSize)||18),configData:e.configData,isWaterfall:!0,pageInfo:e.pageInfo,pageNum:e.pageInfo.pageNum,showLoading:!c.props.withTabs,loadState:1,loadingPostion:"bottom",noData:!1,id:e.id||"",showFullLoading:c.props.withTabs||!1,currCompId:"prdComId-".concat(e.id||(new Date).getTime()),hasLoadMore:[te.up,te.current].includes(e.configData.moreVal),hasFooter:e.configData.moreVal===te.up||e.configData.moreVal===te.current||e.configData.moreVal===te.bottom&&e.configData.moreUrlType===ne.h5,moreUrl:e.configData.moreUrlType===ne.h5?e.configData.moreActionUrl:"",crossDressingStyle:{bgImg:"",imgStyle:{},textStyle:{}},initDataArray:e.dataArray.slice(0,(null===(i=e.pageInfo)||void 0===i?void 0:i.pageSize)||18),dataProvider:new ln.b((function(e,t){return e!==t})).cloneWithRows(e.dataArray.slice(0,(null===(l=e.pageInfo)||void 0===l?void 0:l.pageSize)||18))},"web"===j.a.OS&&c.isPc()&&c.state.isWaterfall&&(e.configData.layoutType="TwoColumnLayout"),c.handleWaterFallStyle(),c.layoutProvider=new ln.c((function(){return"WaterFall"}),(function(e,t,n){t.height=Object(sn.a)(c.state.dataArray[n],n,{itemWidth:c.itemWidth,screenWidth:c.getWidth(),isPadHorizontal:c.isPadHorizontal(),isApp:c.isApkOrIos(),isBigCardType:"KcalFlow"===c.props.configData.layoutType,productSetBigCardType:c.productSetFlagAll[n+""],configData:c.props.configData,isSmall:c.isApp()}),t.width=c.itemWidth})),c}return h()(r,[{key:"componentDidMount",value:(t=u()(s.a.mark((function e(){var t,n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"==j.a.OS?""==Yt.a.tokens?(this.loadMoreParamsTid=Object(Se.c)(),kn.getCsrftoken(!0).then((function(){r.initData()}))):(this.loadMoreParamsTid=Object(Se.c)(),this.initData()):this.initData(),this.videoCardListener=R.a.addListener("videoCardExpose",this.handleVideoCardExpose),this.prefix=this.getPlatformPrefix(),!this.isApkOrIos()){e.next=7;break}return e.next=6,Object(ce.j)("getDeviceInfo");case 6:this.deviceRes=e.sent;case 7:this.props.styleChange&&(t=Object(ce.i)(this.props.styleChange,this.getSize()))&&this.setState({crossDressingStyle:t}),this.timer=setTimeout((function(){r.state.showFullLoading&&r.setState({showFullLoading:!1})}),1e3),Ce.a.setComId(this.props.id,this.props.pageType),M.a.isApp()&&this.props.isNewWaterfall&&(this.listener=R.a.addListener("homeRefresh",this.onHomeRefresh)),"android"===j.a.OS&&(this.listenerSwitch=Object(ce.w)(this.getWidthAndHeight,this.props.pageType),n="homePage"===this.props.pageType?"homePage":"SeckillAndSmartLife",Object(ce.v)(n).then((function(e){null!=e&&e.windowHeight&&(r.firstScreenHeigt=e.windowHeight)})).catch((function(e){}))),"web"===j.a.OS&&W.a.addEventListener("change",this.handleAppStateChangeWeb),"KcalFlow"===this.props.configData.layoutType&&(this.listerShow=R.a.addListener("onScrollEvent",this._onScrollEvent));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t,n;null!==(e=this.props)&&void 0!==e&&null!==(t=e.configData)&&void 0!==t&&null!==(n=t.loadMoreParams)&&void 0!==n&&n.sid&&(this.props.configData.loadMoreParams.sid=""),this.videoCardListener&&this.videoCardListener.remove(),this.listener&&this.listener.remove(),this.timer&&clearTimeout(this.timer),this.clickTimer&&clearTimeout(this.clickTimer),this.loadAllTimer&&clearTimeout(this.loadAllTimer),this.timer1&&clearTimeout(this.timer1),this.timer2&&clearTimeout(this.timer2),this.timer3&&clearTimeout(this.timer3),this.listenerSwitch&&this.listenerSwitch.remove(),this.listerShow&&this.listerShow.remove(),"web"===j.a.OS&&W.a.removeEventListener("change",this.handleAppStateChangeWeb),this.deviceRes=null,this.canClick=!0,this.setState=function(){},this.productSetFlag={pre:"",cur:""},this.productSetFlagAll={}}},{key:"componentDidUpdate",value:function(){this.handleWaterFallStyle()}},{key:"componentDidCatch",value:function(e,t){}},{key:"_layout",value:function(e){var t=Object(A.a)(e)||0;return new Promise((function(e){B.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"_onEndReached",value:function(){this._loadMore()}},{key:"_http",value:function(e,t){return t=xn({lang:"zh-CN",country:"CN"},t),"web"==j.a.OS?ae.a.post(e,t,!0):ae.a.post(e,t)}},{key:"_asyNcCallback",value:function(e){var t=this,n=this.props,r=n.configData;n.pageInfo;this.reportInfo.sid=e.sid,this.reportInfo.ruleId=e.ruleId;var o="KcalFlow"===this.props.configData.layoutType,i=null!=e&&e.recommendList?e.recommendList:e||[],l=x()(i,(function(e){var t=Object.keys(e)[0];return o?"1"===t&&r.prodCardShow||"2"===t&&r.adCardShow||"3"===t&&r.prodCollectionCardShow||"5"===t&&r.longPicTextCardShow||"6"===t&&r.shortVideoCardShow:"1"===t&&r.prodCardShow||"2"===t&&r.adCardShow||"3"===t&&r.prodCollectionCardShow||"4"===t&&r.liveCardShow||"5"===t&&r.longPicTextCardShow||"6"===t&&r.shortVideoCardShow||"7"===t&&r.topicCardShow}));if((null==l?void 0:l.length)>0&&i.length>0){var s=[];l.map((function(e,t){var n=Object.keys(e)[0];e&&n&&s.push(e)})),this.state.pageNum>1&&(this.newestData=s),1==this.state.pageNum&&"android"==j.a.OS&&this.state.isWaterfall&&this.props.isNewWaterfall&&this.setState({initDataArray:s});var c=this.state.dataArray.concat(s);18==i.length||1==this.state.pageNum?(this.loadMore=!0,this.setState({dataArray:a()(c),pageNum:this.state.pageNum+1,showLoading:!0,showFullLoading:!1,loadState:1},(function(){t.loadMore=!0,t.loadOrNot=!1}))):(this.loadOrNot=!1,this.setState({dataArray:a()(c)},(function(){t.loadAllTimer=setTimeout((function(){t.setState({showLoading:!0,loadState:3,showFullLoading:!1})}),1e3)})))}else if(this.loadMore=!1,this.loadOrNot=!0,1!==this.state.pageNum)this.setState({loadState:3,showLoading:!0,showFullLoading:!1});else{var u,d=!(null!=e&&e.success),p=0===(null==e||null===(u=e.productList)||void 0===u?void 0:u.length);this.setState({noData:p,loadState:d?2:1,showLoading:!!d,showFullLoading:!1})}}},{key:"_receivePlayer",value:function(e,t){if(e)e.index=t,this.playerList[t]=e,this.playerIndex[t]=0;else{if("web"===j.a.OS)return;this.playerList[t]=void 0}}},{key:"render",value:function(){var e=this;return k.a.createElement(U.b,{themeStyles:re},(function(t,n,r){return e.getViewContent(t,n,r)}))}}]),r}(k.a.PureComponent))||Sn;t.a=Object(K.a)(Object(de.a)(be)(Object(we.a)(Rn)))},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(35),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(58),P=n.n(O),T=n(80),x=n.n(T),I=n(39),k=n.n(I),E=n(217),j=n.n(E),R=n(52),L=n.n(R),_=n(92),D=n.n(_),N=n(34),W=n.n(N),A=n(104),B=n.n(A),M=n(0),F=n.n(M),H=n(40),z=n(48),U=n(183),V=n(432),G=n(660),Y=n(102),J=n(1731),K=[{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"},{imgUrl:"https://picsit.test.vmall.com/uomcdn/CN/cms/202104/36B991A434C8DD83B3D06C4E83AEE8D5.png"}],q=n(3),Q=n(21),$=n(10),X={clickItem:function(e){var t=e.pageId,n=e.id,r=e.activityCode,o=e.pageCatCode,i=e.pageCatName,a=e.resSiteCode,l=e.resSiteName;return{data:{actionCode:Object(q.n)().platformType+Object(q.n)().eventID,actionName:"翻牌抽奖-点击-",eventType:$.e.EVENT_TYPE_CLICK,pageId:t,content:{comId:n.toString(),index:"1",clickType:$.b.CLICK_DRAW_CARD,dataType:$.c.ACTIVITY,dataCode:r},pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l}}}},Z=n(25),ee=n(54),te=n(37),ne=n(43),re=n(126),oe=n(152),ie=n(87),ae=n(947),le=n(157),se=n(950),ce=n(270),ue=n(49),de=n(1018),pe=n(64),fe=n.n(pe),he=n(11),ge=n(29),me=n(23),ye=n(12);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n="".concat(he.a.openApiDomain,"mcp/prize/commonPrize"),r={},o={lang:ye.e.CN,country:ye.d.CN,activityCode:e,usePoint:t};return r=be(be({},o),{},{portal:Object(q.o)()}),ge.a.post(n,r)},Se=n(30),Ce=n(130),Oe=n(32),Pe=n(57),Te=n(53);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke,Ee=function(e){return{prizeLimitText:{color:e.C31.color,textAlign:"center",position:"absolute"},limitTimesText:{color:"#CF0A2C"}}},je=function(e){var t=Ee(e);return Pe.a.create(Ie(Ie({},t),{},{containerWrapperCls:{display:"flex",flexDirection:"row",flexWrap:"wrap",zIndex:4,paddingLeft:24,paddingRight:24},innerWrapperCls:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",paddingLeft:12,paddingRight:24,paddingTop:16,paddingBottom:4,borderRadius:8,backgroundColor:"#FFF9EE",borderColor:"#F9DFB7",borderWidth:1},rulesWrapper:{paddingLeft:10,paddingRight:12},ruleWithPrizeListWrapperCls:Ie({width:324,height:380,paddingBottom:16,marginLeft:40},e.S33),ruleWithPrizeListCommonCls:{},lotteryContainer:Ie({width:480,marginRight:40,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",flexWrap:"wrap"},e.S33),ruleDark:Ie(Ie({},e.S31),{},{color:"white"}),listofWinnersWrapper:{display:"flex",height:144,width:"100%",paddingTop:16,paddingLeft:13,paddingRight:13,borderRadius:4},ruleWithPrizeListWrapper:{display:"flex",flexDirection:"column",borderColor:"#F9DFB7",borderRadius:8,overflow:"hidden"},prizeWrapperCls:{borderRadius:8,paddingLeft:0,paddingRight:0,overflow:"hidden"},commonTitle:{textAlign:"center",color:"#CF0A2C",fontSize:22,lineHeight:29,paddingTop:12,paddingBottom:12},listOfWinnerTitle:{width:"100%",paddingBottom:0},userName:{flex:1,overflow:"visible"},prizeName:{flex:1},userNameText:{color:e.C31.color,fontSize:14,textAlign:"left"},prizeNameText:{paddingLeft:20,color:e.C31.color,fontSize:14,textAlign:"left"},noPrizeText:{color:e.C31.color,fontSize:14,textAlign:"center",lineHeight:40,height:40},listOfWinnerContainer:{overflow:"hidden",paddingLeft:20},listOfWinnerRow:{display:"flex",flexDirection:"row",width:"100%"},winnderText:{color:"#CF0A2C",fontSize:14,textAlign:"center",fontWeight:"bold",marginTop:18},largeWinnderText:{color:"#D64828",fontSize:24},modalCls:{backgroundColor:"rgba(0, 0, 0, 0.3)"},modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,padding:10,zIndex:4,justifyContent:"center",alignItems:"center",overflow:"hidden"},apkModalLayer:{width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,height:"auto",paddingTop:20,paddingBottom:10,paddingLeft:10,paddingRight:10},apkModalContainer:{height:"auto",width:"100%",backgroundColor:"white",justifyContent:"center",paddingTop:20,borderRadius:6,paddingLeft:20,paddingRight:20},modalBody:{justifyContent:"flex-start",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",alignItems:"flex-start",height:136,paddingTop:18,marginBottom:100,borderRadius:8,paddingLeft:20,paddingRight:20},sureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#CA141D",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30},pcTip:{fontSize:18,color:"#000000"},ruleModalBody:{width:700,height:460,display:"flex",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",alignItems:"center"},ruleContainer:{width:660,height:300,paddingLeft:20,paddingRight:20,paddingTop:12,backgroundColor:"#fafafa"},ruleTitle:{height:60,width:"100%",textAlign:"center",left:0,right:0,marginTop:0,fontSize:20,color:"#000000",lineHeight:60,top:0,fontWeight:"400"},ruleSureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#FFF",color:"#000000",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30,borderColor:"#a4a4a4",borderWidth:1},sureWebViewBtn:{textAlign:"center",lineHeight:50,color:"#CF0A2C"},modalmainTitle:{fontSize:17,color:"#191919",width:"100%"},modalsubTitle:{fontSize:14,color:"#666666",marginTop:8,textAlign:"left"},modalLoginWrapper:{marginTop:20,height:46},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",textAlign:"center",paddingLeft:50,paddingRight:50},modalChildWrapper:{flex:1,borderRadius:2,fontSize:14,color:"#808080",lineHeight:17,display:"flex",flexDirection:"row",justifyContent:"center"},modalChildRegister:{alignItems:"center",borderRadius:2,fontSize:14,color:"#808080",lineHeight:17},modalChildRightText:{color:"#CA141D",alignItems:"center"},modalSureBtn:{borderRadius:2,fontSize:14,color:"#CA141D"},modalSureBtnCls:{},interLine:{width:1,height:20,backgroundColor:"#EAEAEA"},awardListWrapBorder:{backgroundColor:"#FFF9EE",borderColor:"#F9DFB7"},textEllipsis:{overflow:"hidden",height:97},posFixed:{position:Object(q.F)()?"fixed":"absolute"},detailRuleHidden:{paddingHorizontal:0,paddingVertical:0,overflow:"hidden",width:0,height:0},ruleContainerMp:{width:660,height:300,paddingLeft:20,paddingRight:20,paddingTop:12},ruleConBg:{backgroundColor:"#fafafa"}}))},Re=function(e){var t=Ee(e);return Pe.a.create(Ie(Ie({},t),{},{containerWrapperCls:{display:"flex",flexDirection:"row",flexWrap:"wrap",zIndex:4,width:"100%",paddingLeft:24,paddingRight:24},innerWrapperCls:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap"},rulesWrapper:{paddingLeft:21,paddingRight:21},ruleWithPrizeListWrapperCls:{width:"100%",height:"auto",paddingTop:6},lotteryContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",flexWrap:"wrap"},ruleDark:Ie(Ie({},e.S31),{},{color:"white"}),listofWinnersWrapper:{display:"flex",height:144,width:"100%",paddingTop:16,paddingLeft:13,paddingRight:13,borderRadius:4},ruleWithPrizeListWrapper:{display:"flex",flexDirection:"column",borderColor:"#F9DFB7",borderRadius:8,overflow:"hidden"},prizeWrapperCls:{borderRadius:16,paddingLeft:22,paddingRight:22,overflow:"hidden"},commonTitle:{textAlign:"center",color:"#CF0A2C",fontSize:16,lineHeight:21,paddingTop:14,paddingBottom:12},listOfWinnerTitle:{width:"100%"},userName:{flex:1,overflow:"visible"},prizeName:{flex:1},userNameText:{color:e.C31.color,fontSize:14,textAlign:"left"},prizeNameText:{color:e.C31.color,fontSize:14,paddingLeft:30,textAlign:"left"},noPrizeText:{color:e.C31.color,fontSize:14,lineHeight:40,height:40,textAlign:"center"},listOfWinnerContainer:{overflow:"hidden"},listOfWinnerRow:{display:"flex",flexDirection:"row",width:"100%"},winnderText:{color:"#CF0A2C",fontSize:14,textAlign:"center",fontWeight:"bold",marginTop:18},largeWinnderText:{color:"#D64828",fontSize:24},modalCls:{backgroundColor:"rgba(0, 0, 0, 0.3)"},apkModalLayer:{width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,height:"auto",paddingTop:20,paddingBottom:10,paddingLeft:10,paddingRight:10},apkModalContainer:{height:"auto",width:"100%",backgroundColor:"white",justifyContent:"center",paddingTop:20,borderRadius:6,paddingLeft:20,paddingRight:20},modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,padding:10,zIndex:100,justifyContent:"flex-end",alignItems:"center",overflow:"hidden"},modalBody:{backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",width:"100%",alignItems:"flex-start",justifyContent:"flex-end",height:136,paddingTop:18,marginBottom:100,borderRadius:8,paddingLeft:20,paddingRight:20},sureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#CA141D",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30},pcTip:{fontSize:18,color:"#000000"},ruleModalBody:{width:700,height:460,display:"flex",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",alignItems:"center"},ruleContainer:{width:660,height:300,paddingLeft:20,paddingRight:20,paddingTop:12,backgroundColor:"#fafafa"},ruleTitle:{height:60,width:"100%",textAlign:"center",left:0,right:0,marginTop:0,fontSize:20,color:"#000000",lineHeight:60,top:0,fontWeight:"400"},ruleSureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#FFF",color:"#000000",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30,borderColor:"#a4a4a4",borderWidth:1},modalmainTitle:{fontSize:17,color:"#191919",width:"100%"},modalsubTitle:{fontSize:14,color:"#666666",marginTop:8,textAlign:"left"},sureWebViewBtn:{textAlign:"center",lineHeight:50,color:"#CF0A2C"},modalLoginWrapper:{marginTop:20,marginBottom:20},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",width:"100%",textAlign:"center",paddingLeft:50,paddingRight:50},modalChildWrapper:{flex:1,borderRadius:2,fontSize:14,color:"#808080",lineHeight:17,display:"flex",flexDirection:"row",justifyContent:"center"},modalChildRegister:{alignItems:"center",borderRadius:2,fontSize:14,color:"#808080",lineHeight:17},modalChildRightText:{color:"#CA141D",alignItems:"center"},modalChildLogin:{flex:1,borderRadius:2,fontSize:14,color:"#CA141D",lineHeight:17},modalSureBtn:{borderRadius:2,fontSize:14,color:"#CA141D"},modalSureBtnCls:{},interLine:{width:1,height:20,backgroundColor:"#EAEAEA"},awardListWrapBorder:{backgroundColor:"#FFF9EE",borderColor:"#F9DFB7"},textEllipsis:{},posFixed:{}}))},Le=function(e){var t=Ee(e);return Pe.a.create(Ie(Ie({},t),{},{containerWrapperCls:{display:"flex",flexDirection:"row",flexWrap:"wrap",zIndex:4,width:"100%",paddingLeft:16,paddingRight:16},innerWrapperCls:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap"},rulesWrapper:{paddingLeft:12,paddingRight:12},ruleWithPrizeListWrapperCls:{width:"100%",height:"auto",paddingTop:4},lotteryContainer:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",flexWrap:"wrap"},ruleDark:{},listofWinnersWrapper:{display:"flex",height:144,width:"100%",paddingTop:16,paddingLeft:13,paddingRight:13,borderRadius:4},ruleWithPrizeListWrapper:{display:"flex",flexDirection:"column",borderColor:"#F9DFB7",borderRadius:8,overflow:"hidden"},prizeWrapperCls:{borderRadius:16,paddingLeft:12,paddingRight:12,overflow:"hidden"},commonTitle:{fontFamily:Te.a.fontFamilyMedium,textAlign:"center",color:"#CF0A2C",fontSize:16,lineHeight:21,paddingTop:14,paddingBottom:12},listOfWinnerTitle:{width:"100%"},userName:{flex:1,overflow:"visible"},prizeName:{paddingLeft:32,flex:1},userNameText:{color:e.C31.color,fontSize:14,textAlign:"left"},prizeNameText:{color:e.C31.color,fontSize:14,textAlign:"left"},noPrizeText:{lineHeight:40,height:40,color:e.C31.color,fontSize:14,textAlign:"center"},listOfWinnerContainer:{overflow:"hidden"},listOfWinnerRow:{display:"flex",flexDirection:"row",width:"100%"},winnderText:{color:"#CF0A2C",fontSize:14,textAlign:"center",fontWeight:"bold",marginTop:18},largeWinnderText:{color:"#D64828",fontSize:24},modalCls:{backgroundColor:"rgba(0, 0, 0, 0.3)"},modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,padding:10,zIndex:100,justifyContent:"flex-end",alignItems:"center",overflow:"hidden"},apkModalLayer:{width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,height:"auto",paddingBottom:10,paddingLeft:10,paddingRight:10},modalContainer:{height:"auto",width:"100%",backgroundColor:"white",justifyContent:"center",paddingTop:18,borderRadius:6,paddingLeft:20,paddingRight:20},apkModalContainer:{display:"flex",height:"auto",width:"100%",backgroundColor:"white",justifyContent:"center",paddingTop:18,borderRadius:6,paddingLeft:20,paddingRight:20},modalBody:{justifyContent:"flex-start",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",alignItems:"flex-start",height:"auto",paddingTop:18,marginBottom:100,borderRadius:8,paddingLeft:20,paddingRight:20},sureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#CA141D",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30},pcTip:{fontSize:18,color:"#000000"},ruleModalBody:{width:700,height:460,display:"flex",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",alignItems:"center"},ruleContainer:{width:660,height:300,paddingLeft:20,paddingRight:20,paddingTop:12,backgroundColor:"#fafafa"},ruleTitle:{height:60,width:"100%",textAlign:"center",left:0,right:0,marginTop:0,fontSize:20,color:"#000000",lineHeight:60,top:0,fontWeight:"400"},ruleSureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#FFF",color:"#000000",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30,borderColor:"#a4a4a4",borderWidth:1},sureWebViewBtn:{textAlign:"center",lineHeight:50,color:"#CF0A2C"},modalmainTitle:{fontSize:17,color:"#191919",width:"100%"},modalsubTitle:{fontSize:14,color:"#666666",marginTop:8,textAlign:"left"},modalLoginWrapper:{},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginTop:8,textAlign:"center",lineHeight:56,height:56},modalChildWrapper:{flex:1,borderRadius:2,fontSize:14,color:"#808080",lineHeight:56,height:56,alignItems:"center"},modalChildRegister:{flex:1,alignItems:"center",borderRadius:2,fontSize:14,color:"#808080",lineHeight:56},modalChildRightText:{color:"#CA141D",lineHeight:56},modalChildLogin:{flex:1,borderRadius:2,fontSize:14,color:"#CA141D",lineHeight:56},interLine:{width:1,lineHeight:30,height:30,backgroundColor:"#EAEAEA"},modalSureBtn:{borderRadius:2,fontSize:14,color:"#CA141D",height:56,lineHeight:56},modalSureBtnCls:{},awardListWrapBorder:{backgroundColor:"#FFF9EE",borderColor:"#F9DFB7"},textEllipsis:{},posFixed:{}}))},_e=function(e){var t=Ee(e);return Pe.a.create(Ie(Ie({},t),{},{containerWrapperCls:{width:1200,height:600,paddingTop:24,paddingBottom:24,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",zIndex:4},innerWrapperCls:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap"},rulesWrapper:{paddingLeft:10,paddingRight:10},ruleWithPrizeListWrapperCls:{width:482,height:552,paddingLeft:40,paddingRight:40,paddingTop:25,backgroundColor:"#FFF9EE",borderRadius:8},lotteryContainer:Ie({width:678,height:552,marginRight:40,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"stretch",flexWrap:"wrap"},e.S33),ieEllipsis:{position:"absolute",left:0,right:0,top:73,color:"red"},ruleDark:Ie(Ie({},e.S31),{},{color:"white"}),listofWinnersWrapper:{display:"flex",height:144,width:"100%",paddingTop:16,paddingLeft:13,paddingRight:13},ruleWithPrizeListWrapper:{display:"flex",flexDirection:"column",borderColor:"#F9DFB7",borderRadius:8,overflow:"hidden"},prizeWrapperCls:{paddingLeft:0,paddingRight:0,overflow:"hidden"},commonTitle:{textAlign:"center",color:"#CF0A2C",fontSize:24,lineHeight:32,paddingTop:16,paddingBottom:16},listOfWinnerTitle:{width:"100%"},userName:{flex:1,overflow:"visible"},prizeName:{flex:1},userNameText:{color:e.C31.color,fontSize:14,height:19,lineHeight:19,textAlign:"left"},prizeNameText:{color:e.C31.color,fontSize:14,textAlign:"left",paddingLeft:70},noPrizeText:{color:e.C31.color,fontSize:14,textAlign:"center",lineHeight:40,height:40},listOfWinnerContainer:{overflow:"hidden"},listOfWinnerRow:{display:"flex",flexDirection:"row",width:"100%"},winnderText:{color:"#CF0A2C",fontSize:14,textAlign:"center",fontWeight:"bold",marginTop:18},largeWinnderText:{color:"#D64828",fontSize:24},modalCls:{backgroundColor:"rgba(0, 0, 0, 0.3)"},modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",flex:1,padding:10,zIndex:100,justifyContent:"center",alignItems:"center",overflow:"hidden"},modalBody:{justifyContent:"center",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",alignItems:"center",height:"auto",paddingTop:40,paddingBottom:20,paddingLeft:20,paddingRight:20},sureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#CA141D",color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30},pcTip:{fontSize:18,color:"#000000"},ruleModalBody:{width:700,height:460,display:"flex",justifyContent:"flex-start",paddingLeft:20,paddingRight:20,backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",alignItems:"center"},ruleContainer:{width:660,height:300,paddingLeft:20,paddingRight:20,paddingTop:12,backgroundColor:"#fafafa"},ruleTitle:{height:60,width:"100%",textAlign:"center",left:0,right:0,marginTop:0,fontSize:20,color:"#000000",lineHeight:60,top:0,fontWeight:"400"},ruleSureButton:{width:172,height:46,borderRadius:2,backgroundColor:"#FFF",color:"#000000",display:"flex",justifyContent:"center",alignItems:"center",fontSize:18,marginTop:28,marginBottom:30,borderColor:"#a4a4a4",borderWidth:1},sureWebViewBtn:{textAlign:"center",height:50,lineHeight:50,color:"#CF0A2C"},modalmainTitle:{fontSize:18,color:"#191919",textalign:"center",width:"100%"},modalsubTitle:{fontSize:13,color:"#333333",marginTop:8,textAlign:"left"},userImageStyle:{width:70,height:70,marginBottom:20},modalLoginWrapper:{marginTop:20,marginBottom:20},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",marginTop:26,width:"100%",textAlign:"center",paddingLeft:50,paddingRight:50},modalChildWrapper:{flex:1,backgroundColor:"#fff",borderRadius:2,lineHeight:46,height:46,marginRight:5},modalChildRegister:{flex:1,backgroundColor:"#fff",borderRadius:2,borderWidth:1,borderColor:"#DDDDDD",lineHeight:46,height:46,marginRight:5},modalChildRightText:{flex:1,backgroundColor:"#CA141D",borderRadius:2,color:"white",height:46,lineHeight:46,marginLeft:5},modalChildLogin:{flex:1,backgroundColor:"#CA141D",borderRadius:2,color:"white",height:46,lineHeight:46,marginLeft:5},modalSureBtnCls:{height:46},modalSureBtn:{flex:1,backgroundColor:"#CA141D",borderRadius:2,borderWidth:1,borderColor:"#DDDDDD",color:"white",width:172,height:46,lineHeight:46,textAlign:"center"},closeBtn:{position:"absolute",top:14,right:13}}))};function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var Ne=Object(Oe.c)(ke=function(e){m()(n,e);var t=De(n);function n(e){var r;return u()(this,n),r=t.call(this,e),C()(h()(r),"DrawCardWapStyles",void 0),C()(h()(r),"webview",void 0),C()(h()(r),"darkBool",void 0),C()(h()(r),"BaseScript",void 0),C()(h()(r),"getBasicHtml",(function(e,t){return"\n    var richTextContent = document.getElementsByClassName('richTextContent')[0];\n    richTextContent.style.color = \"".concat(e,'";\n    // richTextContent.style.backgroundColor = "').concat(t,"\";\n    // richTextContent.style.cssText = \"padding-left: 10; padding-right: 10\";\n    // richTextContent.style.cssText = \" overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;\";\n    var children = richTextContent.childNodes;\n    var nodeComp = ['P', 'SPAN', 'H1', 'H2', 'H3', 'H4', 'H5', 'h4', 'STRONG'];\n    //因为浏览器会把dom节点下的空格 换行 文本都会当成一个元素 ，我们要找元素节点的话，只能把他们剔除\n    children.forEach(function(item){\n      item.style.fontSize = '14px';\n      item.style.lineHeight = '19px';\n      item.style.color = \"").concat(e,"\";\n      if (nodeComp.indexOf(item.nodeName) !== -1) {\n        item.style.fontSize = '14px';\n        item.style.lineHeight = '19px';\n        for (var i = 0; i < item.childNodes.length; i++) {\n          if (nodeComp.indexOf(item.childNodes[i].nodeName) !== -1) {\n            item.childNodes[i].style.fontSize = '14px';\n            item.childNodes[i].style.lineHeight = '19px';\n            item.childNodes[i].style.color = \"").concat(e,"\";\n          }\n        }\n      }\n      if (item.innerHTML === '<br>') {\n        item.innerHTML = '';\n        item.style.fontSize = '0';\n        item.style.lineHeight = '0';\n      }\n    })\n    (function () {\n        var height = null;\n        function changeHeight() {\n          if (document.body.scrollHeight != height) {\n            height = document.body.scrollHeight;\n            if (window.postMessage) {\n              window.ReactNativeWebView.postMessage(JSON.stringify({\n                type: 'setHeight',\n                height: height,\n              }))\n            }\n            \n          }\n        }\n        setInterval(changeHeight, 100);\n    } ())\n    ")})),r.state={height:0},r.DrawCardWapStyles=Le,r}return p()(n,[{key:"componentDidUpdate",value:function(){var e=this.props.changeStyle,t=Se.a.darkBool,n=t?"#202224":"#FFF9EE",r=e||(t?"#FFFFFF":"#1a1a1a"),o=this.getBasicHtml(r,n);Se.a.darkBool!==this.darkBool&&this.webview.injectJavaScript(o),this.darkBool=Se.a.darkBool}},{key:"onMessage",value:function(e){this.setState({height:JSON.parse(e.nativeEvent.data).height})}},{key:"openRuleModal",value:function(){this.props.handleRuleModal()}},{key:"closeRuleModal",value:function(){this.props.handleCloseRuleModal()}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.ruleShow,o=t.type,i=t.changeStyle,a=t.isHorizontalScreen,l=this.state.height,s="<p>".concat(n,"</p>"),c=Se.a.darkBool,u=c?"#202224":"#FFF9EE",d=i||(c?"#FFFFFF":"#1a1a1a"),p=this.getBasicHtml(d,u),f=a?120:this.state.height,h="modal"===o?300:f,g="modal"===o?600:"100%",m=c?"#202224":"#fff",y="modal"===o?m:u;return F.a.createElement(Y.b,{themeStyles:this.DrawCardWapStyles},(function(t,n){return F.a.createElement(ne.a,{style:[{height:(r||a)&&l?h:0,width:g,paddingLeft:"modal"===o?40:0,paddingRight:"modal"===o?40:0,backgroundColor:y}]},"modal"===o?F.a.createElement(oe.a,{style:[t.ruleTitle,{color:n.C17}]},"- ",Object(V.b)("activity_Rules")," -"):null,F.a.createElement(Ce.WebView,{ref:function(t){return e.webview=t},style:[t.ruleDark,{height:e.state.height,backgroundColor:"modal"===o?m:u}],androidHardwareAccelerationDisabled:!!Se.a.QMbool,injectedJavaScript:p,javaScriptEnabled:!0,decelerationRate:"normal",startInLoadingState:!0,scalesPageToFit:!1,source:{html:s,baseUrl:""},bounces:!1,scrollEnabled:!1,contentInset:{top:0,left:0},onMessage:function(t){return e.onMessage(t)}}),a&&"modal"!==o&&e.state.height?F.a.createElement(re.a,{onPress:function(){return e.openRuleModal()}},F.a.createElement(oe.a,{style:{color:"#CF0A2C",paddingLeft:8,paddingBottom:20}},Object(V.b)("click_for_details"),">")):null,"modal"===o?F.a.createElement(re.a,{onPress:function(){return e.closeRuleModal()}},F.a.createElement(oe.a,{style:[t.sureWebViewBtn]},"知道了")):null)}))}}]),n}(M.PureComponent))||ke,We=n(38),Ae=n(20),Be=n(19);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}Object(he.b)(We.a);var ze=he.a.openApiDomain,Ue=ee.a.get("window"),Ve=function(e){m()(i,e);var t,n,r=He(i);function i(e){var t;return u()(this,i),t=r.call(this,e),C()(h()(t),"isHorizontalScreen",void 0),C()(h()(t),"isPadVerticalScreen",void 0),C()(h()(t),"isPadHorizontalScreen",void 0),C()(h()(t),"startBottonUrl",void 0),C()(h()(t),"returnBottonUrl",void 0),C()(h()(t),"thanksCardUrl",void 0),C()(h()(t),"cardBgUrl",void 0),C()(h()(t),"moreAwardPicUrl",void 0),C()(h()(t),"layoutWidth",void 0),C()(h()(t),"commonAdaptationHeight",void 0),C()(h()(t),"commonAdaptationWidth",void 0),C()(h()(t),"prizeImgList",void 0),C()(h()(t),"prizeNameUrl",void 0),C()(h()(t),"activityCode",void 0),C()(h()(t),"visible",void 0),C()(h()(t),"onlySingle",void 0),C()(h()(t),"wapNotPrizeTip",void 0),C()(h()(t),"pcNotPrizeTip",void 0),C()(h()(t),"appNotPrizeTip",void 0),C()(h()(t),"msgCode",void 0),C()(h()(t),"isSupportPointPrize",void 0),C()(h()(t),"mainTitle",void 0),C()(h()(t),"subTitle",void 0),C()(h()(t),"childrenNode",void 0),C()(h()(t),"IconType",void 0),C()(h()(t),"limit",void 0),C()(h()(t),"translateHalf",void 0),C()(h()(t),"prizeListTimer",void 0),C()(h()(t),"eventListener",void 0),C()(h()(t),"prizeList",void 0),C()(h()(t),"tmpLotteryHeight",void 0),C()(h()(t),"timeout",void 0),C()(h()(t),"addIndex",void 0),C()(h()(t),"refWrapper",void 0),C()(h()(t),"listerLimit",void 0),C()(h()(t),"urlTimmer",void 0),C()(h()(t),"backListener",void 0),C()(h()(t),"lotteryRef",(function(e,n,r){if(t.refWrapper=e,"web"===te.a.OS){var o=fe.a.findDOMNode(t.refWrapper)||null;W()(o)||(o.onclick=function(){return t.handleImgPress(n,r)})}})),C()(h()(t),"handleStateChange",(function(e){var n;"page"===(null==e?void 0:e.service)&&"pageLeave"===(null==e?void 0:e.action)&&null!=e&&null!==(n=e.param)&&void 0!==n&&n.isLeave&&t.setState({modalVisible:!1})})),C()(h()(t),"handleRefreshLimit",(function(e){e&&t.getPrizeLimitTimes()})),C()(h()(t),"getUomConfigUrl",(function(e){var n=t.props.cmsCdnPath;return/(http|https):\/\/([\w.]+\/?)\S*/.test(e)?e:"".concat(n).concat(e)})),C()(h()(t),"initLayoutWidth",(function(e){var n="medium"===Object(H.a)(e);t.layoutWidth!==e&&(t.isHorizontalScreen=t.layoutWidth<e&&e>=1024,t.setState({lotteryHeight:100,ruleShow:!1,modalVisible:!1,currentIndex:-1}),t.onlySingle=!0,t.tmpLotteryHeight=100,t.getDrawCardWapStyles(e)),t.layoutWidth=e,t.isPadHorizontalScreen=t.isHorizontalScreen&&n,t.isPadVerticalScreen=!t.isHorizontalScreen&&n})),C()(h()(t),"getDrawCardWapStyles",(function(e){var n="medium"===Object(H.a)(e);t.isPadHorizontalScreen=t.isHorizontalScreen&&n,t.isPadVerticalScreen=!t.isHorizontalScreen&&n;var r={};t.isPadHorizontalScreen&&(r=je),t.isPadVerticalScreen&&(r=Re),Object(q.a)(e)&&(r=Le),Object(q.E)(e)&&(r=_e),t.setState({DrawCardWapStyles:r})})),C()(h()(t),"handlePrizeImgList",(function(){var e=L()(t.prizeList,(function(e){return e.prizePicUrl})),n=k()(e),r=B()(9,(function(){return t.thanksCardUrl}));n<=4&&(r[0]=x()(e,0),r[2]=x()(e,1),r[8]=x()(e,2),r[6]=x()(e,3)),5===n&&(r[0]=x()(e,0),r[1]=x()(e,1),r[2]=x()(e,2),r[6]=x()(e,4),r[8]=x()(e,3)),n>=6&&(r[0]=x()(e,0),r[1]=x()(e,1),r[2]=x()(e,2),r[5]=x()(e,3),r[8]=t.moreAwardPicUrl,r[7]=x()(e,4),r[3]=x()(e,5));var o=L()(r,(function(e){return{imgUrl:e||t.thanksCardUrl}}));t.prizeImgList=o})),C()(h()(t),"openRule",(function(){t.setState({ruleShow:!t.state.ruleShow})})),C()(h()(t),"closeRuleDetailModal",(function(){if("web"===te.a.OS){document.documentElement.style.overflowY="scroll";var e=document.getElementById("ruleModalCopy")||{};!W()(e)&&document.body.removeChild(e)}t.setState({showRuleModal:!1})})),C()(h()(t),"closeWebModal",(function(){if(t.setState({modalVisible:!1,currentIndex:-1}),"web"===te.a.OS){document.documentElement.style.overflowY="scroll";var e=document.getElementById("pcmodalCopy")||{};!W()(e)&&document.body.removeChild(e)}t.prizeNameUrl="",t.subTitle="",t.mainTitle="",t.IconType="",t.onlySingle=!1,t.limit?t.shrink(4):t.onlySingle=!0})),C()(h()(t),"getModalBodyRender",(function(e,n,r){return F.a.createElement(ne.a,{style:[e.modalChildrenNodeWrapper,e.modalLoginWrapper,{height:z.a.isIOS()?56:"auto"}]},F.a.createElement(re.a,{onPress:t.closeWebModal,style:e.modalChildWrapper,activeOpacity:1},F.a.createElement(oe.a,{style:e.modalChildRegister},n)),F.a.createElement(ne.a,{style:e.interLine}),F.a.createElement(re.a,{activeOpacity:1,style:e.modalChildWrapper,onPress:t.verifySafyPhone},F.a.createElement(oe.a,{style:e.modalChildRightText},r)))})),C()(h()(t),"updatePrizeResult",(function(){var e,n;(e=t.activityCode,n="".concat(he.a.openApiDomain,"mcp/prize/queryPrizeResult?").concat(Object(me.d)(),"&activityCode=").concat(e,"&version=1"),ge.a.get(n)).then((function(e){var n=(e||{}).prizeResultInfo;t.setState({prizeListMix:[].concat(s()(n),s()(n))})}))})),C()(h()(t),"getPrizeLimitTimes",(function(){var e,n,r,o,i,a;(e=t.activityCode,n=Object(q.o)(),r=ye.e.CN,o=ye.d.CN,i="portal=".concat(n,"&lang=").concat(r,"&country=").concat(o),a="".concat(he.a.openApiDomain,"sg/prize/queryPrizeLimitTimes?activityCode=").concat(e,"&").concat(i,"&version=1"),ge.a.get(a)).then((function(e){var n=(e||{}).limit;t.setState({limitTimes:n||0})}))})),C()(h()(t),"_potalCode",(function(){return"web"===te.a.OS?z.a.isWap(t.props.width||Ue.width)?"2":"1":"android"===te.a.OS||"ios"===te.a.OS?"3":void 0})),C()(h()(t),"isLogin",(function(){var e="";if("web"===te.a.OS)return e="".concat(ze,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime(),ge.a.get(e,{portal:t._potalCode(),country:"CN",lang:"zh-CN"}).then((function(e){var n=e.login;return t.setState({isLogin:n}),n}))})),C()(h()(t),"apkAndIosIsLogin",(function(){U.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&t.setState({isApkLogin:!!e.isLogin})}))})),C()(h()(t),"modalSureBtnRender",(function(e){return F.a.createElement(ne.a,{style:[e.modalChildrenNodeWrapper,e.modalLoginWrapper,{marginTop:Object(q.E)(t.layoutWidth)?20:0,height:z.a.isIOS()?56:"auto"}]},F.a.createElement(re.a,{onPress:t.closeWebModal,style:e.modalSureBtnCls},F.a.createElement(oe.a,{style:e.modalSureBtn},Object(V.b)("confirm"))))})),C()(h()(t),"handleRegisterPress",(function(){var e=t.props.env,n="";if("android"!==te.a.OS&&"ios"!==te.a.OS||(n="vmall://com.vmall.client/main?index=4"),"web"===te.a.OS){var r="&loginChannel=26000000&reqClientType=26&lang=zh-cn&_t=".concat((new Date).getTime());n="".concat(e.casLoginUrlDomain,"CAS/portal/userRegister/regbyphone.html?service=").concat(encodeURIComponent(e.webDomain),"account%2Fcaslogin").concat(r)}t.urlTimmer&&clearTimeout(t.urlTimmer),t.urlTimmer=setTimeout((function(){Object(q.A)(n)}),z.a.isIOS()?800:0),t.setState({modalVisible:!1})})),C()(h()(t),"verifyRealName",(function(){var e=t.props.env,n="";"android"!==te.a.OS&&"ios"!==te.a.OS||(n="vmall://com.vmall.client/home/login"),"web"===te.a.OS&&(n="".concat(e.casLoginUrlDomain,"AMW/portal/userCenter/index.html#/realName")),t.urlTimmer&&clearTimeout(t.urlTimmer),t.urlTimmer=setTimeout((function(){Object(q.A)(n)}),z.a.isIOS()?800:0),t.setState({modalVisible:!1})})),C()(h()(t),"verifySafyPhone",(function(){var e=t.props.env,n="";"android"!==te.a.OS&&"ios"!==te.a.OS||(n="".concat(e.appServerUrlDomain,"member/auth")),"web"===te.a.OS&&(n="".concat(e.casLoginUrlDomain,"AMW/portal/userCenter/index.html#/security")),t.urlTimmer&&clearTimeout(t.urlTimmer),t.urlTimmer=setTimeout((function(){Object(q.A)(n)}),z.a.isIOS()?800:0),t.setState({modalVisible:!1})})),C()(h()(t),"handleLoginPress",a()(o.a.mark((function e(){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",r=t.props.env,"android"!==te.a.OS&&"ios"!==te.a.OS||(n="vmall://com.vmall.client/home/login"),"web"===te.a.OS&&(i=window.location.href,n="".concat(r.webDomain,"account/login?url=").concat(encodeURIComponent(i))),t.urlTimmer&&clearTimeout(t.urlTimmer),t.urlTimmer=setTimeout((function(){Object(q.A)(n)}),z.a.isIOS()?800:0),t.setState({modalVisible:!1}),e.next=9,t._isLogin();case 9:case"end":return e.stop()}}),e)})))),C()(h()(t),"getMessageTip",(function(e,n,r){n&&(t.mainTitle=r),t.subTitle="",t.IconType="",t.childrenNode=null,t.childrenNode=t.modalSureBtnRender(e),j()(["5011074","5011075","5011076","5011077","5011078","5011079"],n)&&(t.mainTitle=r,t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"200914"===n&&(t.mainTitle=Object(V.b)("systemBusy"),t.childrenNode=t.modalSureBtnRender(e)),"200916"===n&&(t.mainTitle=Object(V.b)("please_log_in_first"),t.subTitle=Object(V.b)("login_to_draw"),t.childrenNode=F.a.createElement(ne.a,{style:[e.modalChildrenNodeWrapper,e.modalLoginWrapper,{height:z.a.isIOS()?56:"auto"}]},F.a.createElement(re.a,{onPress:t.handleLoginPress,style:e.modalChildWrapper,activeOpacity:1},F.a.createElement(oe.a,{style:e.modalChildRegister},Object(V.b)("register_an_account"))),F.a.createElement(ne.a,{style:e.interLine}),F.a.createElement(re.a,{activeOpacity:1,style:e.modalChildWrapper,onPress:t.handleLoginPress},F.a.createElement(oe.a,{style:e.modalChildRightText},Object(V.b)("goLogin")))),t.IconType="smileIcon"),"5011081"===n&&(t.mainTitle=Object(V.b)("ineligible"),t.subTitle=r,t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"5011082"===n&&(t.mainTitle=Object(V.b)("ineligible"),t.subTitle="需要验证手机号才能参与，请前往验证",t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"5011083"===n&&(t.mainTitle=Object(V.b)("ineligible"),t.subTitle="活动仅限实名认证用户参与，请前往实名认证 >",t.childrenNode=t.getModalBodyRender(e,Object(V.b)("cancel"),Object(V.b)("go_to")),t.IconType="failIcon"),"5011084"===n&&(t.mainTitle=Object(V.b)("ineligible"),t.subTitle=r,t.childrenNode=t.getModalBodyRender(e,Object(V.b)("cancel"),Object(V.b)("go_to")),t.IconType="failIcon"),"5011085"===n&&(t.mainTitle=Object(V.b)("ineligible"),t.subTitle=r,t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"5011086"===n&&(t.mainTitle=Object(V.b)("ineligible"),t.subTitle=r,t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"5011087"===n&&(t.mainTitle="1"===t.isSupportPointPrize?Object(V.b)("points_lottery"):Object(V.b)("lottery_chances_run_out"),t.subTitle="",t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"5011088"===n&&(t.mainTitle=Object(V.b)("insufficient_points"),t.subTitle=Object(V.b)("no_points_to_get_more_points"),t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),"5011089"===n&&(t.mainTitle="游戏积分不足",t.subTitle="您的游戏积分不足，无法抽奖。去获取更多积分再来抽奖吧",t.childrenNode=t.modalSureBtnRender(e),t.IconType="failIcon"),t.setState({modalVisible:!0})})),C()(h()(t),"getCommonPrize",function(){var e=a()(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",we(t.activityCode).then((function(e){var r,o=e||{},i=o.appNotPrizeTip,a=o.pcNotPrizeTip,l=o.wapNotPrizeTip,s=o.wapPrizeTip,c=o.pcPrizeTip,u=o.appPrizeTip,d=o.limit,p=o.code,f=o.msg,h=o.name,g=void 0===h?"":h,m=o.success,y=o.resultCode,v=o.isSupportPointPrize;t.appNotPrizeTip=i,t.pcNotPrizeTip=a,t.wapNotPrizeTip=l,t.msgCode=p,t.isSupportPointPrize=v;var b="web"===te.a.OS&&Object(q.E)(t.layoutWidth),w="android"===te.a.OS||"ios"===te.a.OS,S=w?u:b?c:s,C=w?i:b?a:l,O=P()(t.prizeList,(function(e){return g===e.prizeName}));t.limit=d,t.getPrizeLimitTimes(),t.prizeNameUrl=null===(r=D()(O))||void 0===r?void 0:r.prizePicUrl;var T=f;if(m&&g&&(t.mainTitle="".concat(S,",").concat(Object(V.b)("winningPrizes").replace("%s",String(g))),t.childrenNode=t.modalSureBtnRender(n),t.updatePrizeResult()),m&&!g&&d>0){var x=t.getLimit(d);t.mainTitle="".concat(C,", ").concat(x),t.childrenNode=t.modalSureBtnRender(n),t.prizeNameUrl=t.thanksCardUrl}return t.getMessageTip(n,p||y,T),m}),(function(e){var r=(null==e?void 0:e.data)||{},o=r.resultCode,i=r.code,a=r.msg,l=r.success,s=i||o;return s&&t.getMessageTip(n,s,a),l})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C()(h()(t),"getLimit",(function(e){return 1===e?Object(V.b)("remaining_lucky_draw_opportunity.one").replace("%d",String(e)):Object(V.b)("remaining_lucky_draw_opportunity.other").replace("%d",String(e))})),C()(h()(t),"shrink",(function(e){(e+1)%5==0&&L()(t.state.transImgList,(function(e,n){var r=t.commonAdaptationHeight,o=t.commonAdaptationWidth,i=Object(q.a)(t.layoutWidth)?8:12,a=[{x:o+i,y:r+i},{x:0,y:r+i},{x:-(o+i),y:r+i},{x:o+i,y:0},{x:0,y:0},{x:-(o+i),y:0},{x:o+i,y:-(r+i)},{x:0,y:-(r+i)},{x:-(o+i),y:-(r+i)}];ie.a.timing(t.state.transImgList[n],{toValue:{x:a[n].x,y:a[n].y},duration:500,delay:100,useNativeDriver:!1}).start((function(){ie.a.timing(e,{toValue:{x:0,y:0},duration:300,delay:500,useNativeDriver:!1}).start((function(){t.onlySingle=!0}))}))}))})),C()(h()(t),"handleImgPress",function(){var e=a()(o.a.mark((function e(n,r){var i,a,l,s,c,u,d,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.props,a=i.id,l=i.pageId,s=i.pageCatCode,c=i.pageCatName,u=i.resSiteCode,d=i.resSiteName,p=t.state.visible,t.onlySingle){e.next=4;break}return e.abrupt("return");case 4:if(4===r||p){e.next=6;break}return e.abrupt("return");case 6:if(4!==r||p||t.props.clickItem({pageId:l,id:a,activityCode:t.activityCode,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d}),4===r||!p){e.next=13;break}return e.next=10,t.getCommonPrize(n);case 10:if(e.sent){e.next=13;break}return e.abrupt("return");case 13:f=B()(9,(function(){return!1})),t.onlySingle=!1,t.setState({currentIndex:r,translateHalf:!1}),ie.a.timing(t.state.spinValue,{toValue:1,duration:150,easing:ae.a.linear,useNativeDriver:!1}).start((function(){f[r]=!0,4===r?t.setState({visible:!p}):t.setState({translateHalf:!0}),ie.a.timing(t.state.spinValue,{toValue:0,duration:200,easing:ae.a.linear,useNativeDriver:!1}).start((function(){t.state.visible?t.shrink(r):t.onlySingle=!0}))}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C()(h()(t),"apkHanleImgpress",(function(e,n){"android"!==te.a.OS&&"ios"!==te.a.OS||t.handleImgPress(e,n)})),C()(h()(t),"renderLottery",(function(e,n){var r=t.state,o=r.currentIndex,i=r.spinValue,a=r.visible,l=r.transImgList,s=r.translateHalf,c=r.limitTimes,u=r.isApkLogin,d=r.isLogin,p=r.headerBoxStyle,f=t.layoutWidth,h="medium"===Object(H.a)(f),g=Object(q.E)(f)||t.isPadHorizontalScreen,m=a?t.returnBottonUrl:t.startBottonUrl,y=t.isPadHorizontalScreen?t.layoutWidth/2:Object(q.E)(f)?678:"100%";return F.a.createElement(ne.a,{style:[e.lotteryContainer,{width:y}]},L()(K,(function(n,r){var y,v=o===r&&s?t.prizeNameUrl||t.thanksCardUrl:t.cardBgUrl,b=a?v:null===(y=t.prizeImgList[r])||void 0===y?void 0:y.imgUrl,w=(r+1)%5==0?m:b,S=Object(q.a)(f)?(f-49)/3:218,C=t.isPadVerticalScreen?(f-73)/3:(f/2-49)/3,O=h?C:S,P=Object(q.a)(f)?4*O/5:176,T=h?4*O/5:P;t.commonAdaptationHeight=T,t.commonAdaptationWidth=O;var x=Object(q.a)(f)?8:12,I=Object(q.E)(f)?158:t.isPadVerticalScreen?(f-73)/3:Object(q.a)(f)?(f-48)/3:(f/2-49)/4,k=Object(q.E)(f)?158:t.isPadVerticalScreen||Object(q.a)(f)?4*I/5:(f/2-49)/4,E=Object(q.E)(f)?30:t.isPadHorizontalScreen?21:0,j=(r+1)%5==0?{width:I,height:k,marginBottom:x,borderRadius:6,borderColor:"#EFEEEA",marginRight:g?x+E:x,marginLeft:g?E:0,transform:{scaleY:.5},marginTop:g?9:0}:{width:O,height:T,marginRight:(r+1)%3==0?0:x,marginBottom:x,borderRadius:6,borderColor:"#EFEEEA"},R=i.interpolate({inputRange:[0,1],outputRange:["0deg","ios"===te.a.OS?"89deg":"90deg"]}),L=4===o?r+1:r===o,_=(O-.77*O)/2,D=(r+1)%5==0&&(u||d),N=Object(q.a)(t.layoutWidth)?9:14,W=Object(q.E)(t.layoutWidth)?x+15:x;return F.a.createElement(re.a,{key:r,ref:function(n){return t.lotteryRef(n,e,r)},onPress:function(){return t.apkHanleImgpress(e,r)},activeOpacity:1,style:{textAlign:"center"}},F.a.createElement(ie.a.Image,{source:{uri:w},resizeMode:4===r?"contain":"stretch",style:[Fe(Fe({},j),{},{transform:[{rotateY:L?R:"0deg"},{scale:D?.77:1},{translateY:D?-_:0}]}),e.itemContent,l[r]&&l[r].getLayout()]}),4===r&&(u||d)?F.a.createElement(oe.a,{style:[{fontSize:N,bottom:W,width:O},e.prizeLimitText,null==p?void 0:p.textStyle]},"今日剩余",F.a.createElement(oe.a,{style:[e.limitTimesText,null==p?void 0:p.textStyle]},c),"次机会"):null)})))})),C()(h()(t),"handleModalState",(function(){setTimeout((function(){if(t.setState({modalVisible:!1,currentIndex:-1}),"web"===te.a.OS){document.documentElement.style.overflow="scroll";var e=document.getElementById("pcmodalCopy")||{};!W()(e)&&document.body.removeChild(e),e.style.pointerEvents="none"}t.onlySingle=!1,t.limit?t.shrink(4):t.onlySingle=!0}),10)})),C()(h()(t),"onCloseRuleModal",(function(){t.setState({padRulevisible:!1})})),C()(h()(t),"handlePadRuleModal",(function(){t.setState({padRulevisible:!0})})),C()(h()(t),"handleInnerModalState",(function(){t.setState({modalVisible:!0})})),C()(h()(t),"pcModal",(function(e){var n=document.getElementById("pcmodalCopy")||{};if(W()(n)){var r=document.createElement("div");r.setAttribute("id","pcmodalCopy"),document.body.appendChild(r);var o=Object(q.a)(t.layoutWidth)?{width:"100%"}:{width:460};return fe.a.render(F.a.createElement(ne.a,null,F.a.createElement(re.a,{style:[e.modalLayer,{position:"web"===te.a.OS?"fixed":"relative"}],onPress:t.handleModalState,activeOpacity:1},F.a.createElement(re.a,{style:[e.modalBody,Fe({},o),{height:"auto"}],activeOpacity:1,onPress:function(e){return t.handleInnerModalState(e)}},F.a.createElement(re.a,{onPress:t.closeWebModal,style:e.closeBtn,activeOpacity:1},Object(q.E)(t.layoutWidth)?F.a.createElement(Ae.a,{iconName:"cancel1",width:"24",height:"24",normalCol:"#A4A4A4"}):null),Be.a[t.IconType]?F.a.createElement(le.a,{source:Be.a[t.IconType],style:e.userImageStyle,resizeMode:"cover"}):null,F.a.createElement(oe.a,{style:[e.modalmainTitle,{textAlign:t.subTitle&&!Object(q.E)(t.layoutWidth)?"left":"center",fontSize:Object(q.E)(t.layoutWidth)?18:t.subTitle?17:15}]},t.mainTitle||t.pcNotPrizeTip),t.subTitle?F.a.createElement(oe.a,{style:e.modalsubTitle},t.subTitle):null,F.a.createElement(ne.a,{style:{width:"100%",marginTop:t.subTitle?0:8}},t.childrenNode)))),document.getElementById("pcmodalCopy"))}})),C()(h()(t),"renderModal",(function(e){var n=t.state.modalVisible,r=z.a.isIOS()?t.subTitle?136:107:"auto";return"web"===te.a.OS?n?t.pcModal(e):null:F.a.createElement(ne.a,null,F.a.createElement(se.a,{animationType:"fade",transparent:!0,visible:n},F.a.createElement(re.a,{style:[e.apkModalLayer,{justifyContent:"flex-end"},z.a.isIOS()?{paddingBottom:24}:""],activeOpacity:1,onPress:t.handleModalState},F.a.createElement(re.a,{style:[e.apkModalContainer,{height:r}],activeOpacity:1,onPress:t.handleInnerModalState},F.a.createElement(oe.a,{style:[e.modalmainTitle,{textAlign:t.subTitle?"left":"center",fontSize:t.subTitle?17:15,marginTop:t.subTitle?0:5}]},t.mainTitle||t.pcNotPrizeTip),t.subTitle?F.a.createElement(oe.a,{style:e.modalsubTitle},t.subTitle):null,t.childrenNode))))})),C()(h()(t),"judgeScreenType",(function(){return Object(q.a)(t.layoutWidth)?"smallScreen":Object(q.E)(t.layoutWidth)?"largeScreen":t.isPadHorizontalScreen?"isHorizontalScreen":t.isPadVerticalScreen?"isPadVerticalScreen":void 0})),C()(h()(t),"_onLayout",(function(e){var n=e.nativeEvent.layout.height;t.tmpLotteryHeight+=n,clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.setState({lotteryHeight:t.tmpLotteryHeight})}),10)})),C()(h()(t),"showHeadBar",(function(e){e++,t.addIndex=e;var n=t.state.lotteryHeight,r="web"===te.a.OS?40:8;ie.a.timing(t.state.translateY,{toValue:-1*e,duration:0,easing:ae.a.linear,delay:r,useNativeDriver:!0}).start((function(){n>0&&-1*e<=-n/2+50&&(e=0,t.state.translateY.setValue(0)),t.state.isTranslateY&&t.showHeadBar(e)}))})),C()(h()(t),"prizeListNeddScroll",(function(){var e=t.state.lotteryHeight;return{largeScreen:e-100<134,isHorizontalScreen:e-100<96,isPadVerticalScreen:e-100<97,smallScreen:e-100<97}[t.judgeScreenType()]})),C()(h()(t),"switchPrizeScroll",(function(e){return Object(q.E)(t.layoutWidth)&&"web"===te.a.OS?F.a.createElement(G.a,{onHoverIn:function(){return t.onHoverChange()},onHoverOut:function(){return t._onHoverOutItem()}},e):F.a.createElement(re.a,{onPress:function(){t._onPress()}},e)})),C()(h()(t),"renderPrizeList",(function(e){var n=Se.a.darkBool,r=t.state,o=r.lotteryHeight,i=r.headerBoxStyle,a=r.prizeListMix,l=a,s=t.judgeScreenType(),c={largeScreen:o<133?o/2:133,isHorizontalScreen:o<133?o/2:133,isPadVerticalScreen:o-100<96?o/2:96,smallScreen:o-100<96?o/2:96},u={largeScreen:k()(a)>0?200:168,isHorizontalScreen:k()(a)>0?150:194,isPadVerticalScreen:k()(a)>0?159:168,smallScreen:k()(a)>0?159:168},d=c[s],p=t.prizeListNeddScroll(),f=u[s],h=p?l.slice(0,k()(l)/2):a;return F.a.createElement(ne.a,{style:[e.prizeWrapperCls,{height:f,backgroundColor:n?"#202224":"#FFF9EE"}]},F.a.createElement(ne.a,{style:[e.listOfWinnerTitle]},F.a.createElement(oe.a,{style:[null==i?void 0:i.textStyle,e.commonTitle]},Object(V.b)("list_of_winners"))),F.a.createElement(ne.a,{style:[e.listOfWinnerContainer,{height:d}]},k()(h)>0?L()(h,(function(n){var r=F.a.createElement(ie.a.View,{style:[p?{}:{transform:[{translateY:t.state.translateY}]}]},F.a.createElement(ne.a,{style:e.listOfWinnerRow,onLayout:t._onLayout},F.a.createElement(ne.a,{style:e.userName},F.a.createElement(oe.a,{style:[e.userNameText,null!=i&&i.textStyle.color?i.textStyle:{}]},n.custLoginName)),F.a.createElement(ne.a,{style:e.prizeName},F.a.createElement(oe.a,{style:[e.prizeNameText,null!=i&&i.textStyle.color?null==i?void 0:i.textStyle:{}]},Object(V.b)("draw"),n.prizeName))));return t.switchPrizeScroll(r)})):F.a.createElement(oe.a,{style:[null!=i&&i.textStyle.color?i.textStyle:{},e.noPrizeText]},Object(V.b)("flop_immediately"))))})),C()(h()(t),"renderPadRuleModal",(function(e){var n=t.state,r=n.padRulevisible,o=n.activityRule,i=t.props,a=i.width,l=i.height;return r&&t.isPadHorizontalScreen?F.a.createElement(ne.a,{style:e.container},F.a.createElement(se.a,{animationType:"fade",transparent:!0,visible:r},F.a.createElement(ne.a,{style:[e.modalLayer,{justifyContent:"center",alignItems:"center"}]},F.a.createElement(ne.a,{style:[e.modalContainer,{width:600,height:300,alignContent:"center"}]},F.a.createElement(Ne,{type:"modal",content:o,ruleShow:r,isPadVertical:t.isPadVerticalScreen,isHorizontalScreen:t.isHorizontalScreen,width:a,height:l,handleRuleModal:t.handlePadRuleModal,handleCloseRuleModal:t.onCloseRuleModal}))))):null})),C()(h()(t),"showhtml",(function(){var e={__html:t.state.activityRule},n=t.state,r=n.headerBoxStyle,o=n.ruleOffsetHeight,i=document.getElementsByClassName("richTextContent"),a=0,l=0,s=Object(q.E)(t.layoutWidth)||t.isPadHorizontalScreen;return L()(i,(function(e,t){o[t]>96&&s&&(e.style.height="96px",e.style.overflow="hidden",a=5,l=o[t])})),F.a.createElement(oe.a,null,F.a.createElement(oe.a,{numberOfLines:a,style:[null!=r&&r.textStyle.color?r.textStyle:{}]},F.a.createElement("div",{dangerouslySetInnerHTML:e})),s&&l>94?F.a.createElement(re.a,{onPress:function(){return t.openRuleModal()},activeOpacity:1},F.a.createElement(oe.a,{style:[null!=r&&r.textStyle.color?r.textStyle:{},{color:"#CF0A2C",marginBottom:16}]},Object(V.b)("click_for_details"),">")):null)})),C()(h()(t),"renderActivityRule",(function(e){var n,r=t.state,o=r.ruleShow,i=r.headerBoxStyle,a=r.activityRule,l=t.props,s=l.width,c=l.height,u=Object(q.E)(t.layoutWidth)||t.isPadHorizontalScreen,d=Se.a.darkBool,p={height:(te.a.OS,"auto"),marginTop:Object(q.E)(t.layoutWidth)?28:12,width:"100%",backgroundColor:d?"#202224":"#FFF9EE",borderRadius:16,paddingBottom:o?t.isPadVerticalScreen?29:16:0};return n="web"===te.a.OS?F.a.createElement(ne.a,{style:{height:o||u?"auto":0,overflow:o||u?"visible":"hidden"}},t.showhtml()):F.a.createElement(Ne,{content:a,ruleShow:o,isHorizontalScreen:t.isHorizontalScreen,isPadVertical:t.isPadVerticalScreen,width:s,height:c,changeStyle:null==i?void 0:i.textStyle.color,handleRuleModal:t.handlePadRuleModal}),F.a.createElement(ne.a,{style:[e.rulesWrapper,Fe({},p)]},F.a.createElement(ne.a,{style:[e.listOfWinnerTitle]},F.a.createElement(oe.a,{style:[i,e.commonTitle],onPress:t.openRule},Object(V.b)("activity_Rules"))),n)})),C()(h()(t),"renderRuleDetailModal",(function(e){if("web"===te.a.OS){if(!(document.getElementById("ruleModalCopy")||{}).offsetParent){var n=document.createElement("div");n.setAttribute("id","ruleModalCopy"),document.body.appendChild(n)}var r=t.state.showRuleModal,o={__html:t.state.activityRule};if(r)return fe.a.render(F.a.createElement(ne.a,{style:[e.modalLayer,{position:"web"===te.a.OS?"fixed":"relative"}]},F.a.createElement(ne.a,{style:[e.ruleModalBody]},F.a.createElement(ne.a,{style:e.ruleTitle}," ",Object(V.b)("activity_Rules")," "),F.a.createElement(ne.a,{style:e.ruleContainer},F.a.createElement(ce.a,null,F.a.createElement("div",{dangerouslySetInnerHTML:o}))),F.a.createElement(re.a,{style:e.ruleSureButton,onPress:t.closeRuleDetailModal},"知道了"))),document.getElementById("ruleModalCopy"))}})),t.state={visible:!1,currentIndex:0,transImgList:B()(9,(function(){return new ie.a.ValueXY({x:0,y:0})})),spinValue:new ie.a.Value(0),translateHalf:!1,modalVisible:!1,lotteryHeight:100,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}},isLogin:!1,prizeListMix:[],translateY:new ie.a.Value(0),isTranslateY:!0,ruleShow:!1,activityRule:"",DrawCardWapStyles:Le,padRulevisible:!1,ruleOffsetHeight:[],limitTimes:0,isApkLogin:!1},t.isHorizontalScreen=ee.a.get("window").width-ee.a.get("window").height>0&&ee.a.get("window").width>=1024,t.layoutWidth=ee.a.get("window").width,t.prizeImgList=[],t.prizeNameUrl="",t.activityCode="",t.onlySingle=!0,t.prizeList=[],t.tmpLotteryHeight=100,t.addIndex=0,t}return p()(i,[{key:"componentDidMount",value:(n=a()(o.a.mark((function e(){var t,n,r,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b,w,S;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.configInfo,r=t.styleChange,i=t.pageData,a=void 0===i?[]:i,l=t.dataSourceList,c=(s=n||{}).returnBottonUrl,u=s.startBottonUrl,d=s.thanksCardUrl,p=s.cardBgUrl,f=s.moreAwardPicUrl,h=s.activityRule,this.showHeadBar(0),this.returnBottonUrl=this.getUomConfigUrl(c),this.startBottonUrl=this.getUomConfigUrl(u),this.thanksCardUrl=this.getUomConfigUrl(d),this.cardBgUrl=this.getUomConfigUrl(p),this.moreAwardPicUrl=this.getUomConfigUrl(f),this.setState({activityRule:h}),g=D()(l)||{},m=g.dataSourceCode,y=D()(a[m])||{},v=y.activityCode,b=y.prizeList,this.activityCode=v,this.prizeList=b,(z.a.isAndroid()||z.a.isIOS())&&this.apkAndIosIsLogin(),this.updatePrizeResult(),this.handlePrizeImgList(),this.getPrizeLimitTimes(),r&&(w=Object(q.i)(this.props.styleChange,"small"))&&this.setState({headerBoxStyle:w}),ie.a.timing(this.state.spinValue,{toValue:0,duration:1,easing:ae.a.linear,useNativeDriver:!1}),this.getDrawCardWapStyles(this.layoutWidth),e.next=22,Object(q.k)();case 22:S=e.sent,this.setState({isLogin:S}),this.listerLimit=ue.a.addListener("onRefreshLimit",this.handleRefreshLimit),this.backListener=ue.a.addListener("NativeCallAction",this.handleStateChange);case 26:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e,t){if(t.isTranslateY!==this.state.isTranslateY&&this.showHeadBar(this.addIndex),"web"===te.a.OS&&t.activityRule!==this.state.activityRule){var n=document.getElementsByClassName("richTextContent")||{},r=[];L()(n,(function(e){var t=e.childNodes,n=["P","SPAN","H1","H2","H3","H4","H5"];L()(t,(function(e){j()(n,e.nodeName)&&(e.style.fontSize="14px",e.style.lineHeight="19px",L()(e.childNodes,(function(e){j()(n,e.nodeName)&&(e.style.fontSize="14px",e.style.lineHeight="19px")}))),"<br>"===e.innerHTML&&(e.innerHTML="",e.style.fontSize="0",e.style.lineHeight="0")}));var o=(e||{}).offsetHeight;r.push(o)})),this.setState({ruleOffsetHeight:r})}}},{key:"componentWillUnmount",value:function(){this.urlTimmer&&clearTimeout(this.urlTimmer),this.eventListener&&this.eventListener.remove(),this.backListener&&this.backListener.remove()}},{key:"openRuleModal",value:function(){te.a.OS,this.setState({showRuleModal:!0})}},{key:"_isLogin",value:(t=a()(o.a.mark((function e(){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.env,!z.a.isApp()){e.next=6;break}this.eventListener=ue.a.addListener("NativeCallAction",(function(e){var t=null==e?void 0:e.param;"login"==(null==e?void 0:e.service)&&"isLogin"==(null==e?void 0:e.action)&&n.setState({isLogin:!(null==t||!t.isLogin)},(function(){n.getPrizeLimitTimes()}))})),U.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&n.setState({isLogin:!!e.isLogin},(function(){n.getPrizeLimitTimes()}))})),e.next=10;break;case 6:return e.next=8,Object(q.k)();case 8:t=e.sent,this.setState({isLogin:t},(function(){n.getPrizeLimitTimes()}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_onPress",value:function(){var e=this;this.prizeListTimer&&clearTimeout(this.prizeListTimer);var t=this.state.isTranslateY;this.setState({isTranslateY:!t}),this.prizeListTimer=t&&setTimeout((function(){e.setState({isTranslateY:!0})}),2e3)}},{key:"onHoverChange",value:function(){this.setState({isTranslateY:!1})}},{key:"_onHoverOutItem",value:function(){this.setState({isTranslateY:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.styleChange,r=t.cmsCdnPath,o=Se.a.darkBool,i=null==n?void 0:n.bgFill,a={backgroundColor:o&&W()(n)?"#000000":this.isPadHorizontalScreen&&W()(n)?"#FFF9EE":"transparent"},l=W()(n)?a:{backgroundColor:"transparent"},s=this.isPadHorizontalScreen?this.layoutWidth:"100%";return F.a.createElement(Y.b,{themeStyles:this.state.DrawCardWapStyles},(function(t,n,o){var a;return e.initLayoutWidth(o),F.a.createElement(de.a,{style:[null===(a=e.state.headerBoxStyle)||void 0===a?void 0:a.imgStyle,{zIndex:3}],resizeMode:"stretch",source:{uri:"2"===i?r+"":""}},F.a.createElement(J.a,null,F.a.createElement(ne.a,{style:[t.containerWrapperCls,{width:s}]},F.a.createElement(ne.a,{style:[t.innerWrapperCls,Fe({},l)]},e.renderLottery(t,o),F.a.createElement(ne.a,{style:[t.ruleWithPrizeListWrapperCls]},e.renderPrizeList(t),e.renderActivityRule(t)),e.renderModal(t),e.renderPadRuleModal(t),e.renderRuleDetailModal(t)))))}))}}]),i}(M.PureComponent);t.a=Object(Q.a)(X)(Object(Z.a)(Ve))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(1),o=n.n(r),i=n(57),a=n(37),l=n(53);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return i.a.create({prdBox:c(c({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8,marginTop:8})})},d=function(e){return i.a.create({prdBox:c(c({width:"100%",flexGrow:1,height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:8,marginTop:12})})};t.c=function(e){return i.a.create({wrap:c({},e.S32),productWrap:{width:"100%"},productList:{width:"100%",overflow:"hidden",marginTop:8},productItemWrap:{width:"100%",height:"auto"},lodingTitle:{color:e.C13.color},emptyImg:{width:96,height:96},emptyC:{width:"100%",justifyContent:"center",alignItems:"center"},emptyT:c(c({textAlign:"center"},e.C15),{},{fontFamily:l.a.fontFamilyBase}),container:{display:"flex",flexDirection:"row"},deviation:{position:"relative",overflow:"hidden",flex:1,display:"flex",flexDirection:"row",flexWrap:"wrap"},prdArea_r:{paddingLeft:16,paddingRight:16},prdAreaPad_r:{paddingLeft:24,paddingRight:24},prdArea:{paddingLeft:16},prdAreaPad:{paddingLeft:24},prdAreaRight:{paddingRight:16},prdAreaPadRight:{paddingRight:24},slidePrdArea:{paddingLeft:16},slidepPrdAreaPad:{paddingLeft:24},codeTextC:c(c(c({textAlign:"center"},e.T7),e.C13),{},{fontFamily:l.a.fontFamilyBase}),codeTextCed:c(c(c({textAlign:"center"},e.T8),e.C18),{},{fontWeight:"bold",fontFamily:l.a.fontFamilyBase}),searchCategories:{display:"flex",flexDirection:"row",justifyContent:"space-around",backgroundColor:e.C32.color},searchCategoriesItem:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:40,flex:1},bordL:{flex:1,borderLeftWidth:"ios"===a.a.OS?0:1,borderColor:e.C39.color+"0c",height:16,lineHeight:17},sortIcon:{width:12,height:24,marginLeft:2,overflow:"hidden"},spinner_up:{position:"absolute",width:12,height:24,top:0,left:0,overflow:"hidden"},spinner_down:{position:"absolute",width:12,height:24,bottom:0,left:0,overflow:"hidden"},cardBg:{width:56,height:56,borderRadius:8,marginBottom:4,marginTop:8,justifyContent:"center",alignItems:"center"},cardBg_pad:{width:68,height:68,borderRadius:8,marginBottom:4,marginTop:8,justifyContent:"center",alignItems:"center"},cardBg_f:{backgroundColor:e.C33.color+"FF"},cardBg_g:{backgroundColor:e.C34.color+e.opacityMap[e.C34.opacity]},categoryPicWrap:{width:40,height:40},categoryPicWrap_pad:{width:52,height:52},codeImg:{width:40,height:40,resizeMode:"cover",justifyContent:"center",alignItems:"center"},codeImg_pad:{width:52,height:52,resizeMode:"cover",justifyContent:"center",alignItems:"center"},codeText:c(c(c({flex:1,textAlign:"center"},e.T1),e.C13),{},{fontFamily:l.a.fontFamilyBase}),codeText_d:c(c(c({flex:1,textAlign:"center"},e.T2),e.C18),{},{fontWeight:"bold",fontFamily:l.a.fontFamilyBase}),recommend:{height:72,alignItems:"center"},recommendImg:{width:48,height:48,resizeMode:"cover",borderRadius:8},right:{flex:1,height:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginLeft:16,borderColor:"#fff",borderBottomWidth:"ios"===a.a.OS?.5:1},middle_c:{flex:1},title_n:c(c(c({},e.C11),e.T8),{},{fontWeight:"bold",fontFamily:l.a.fontFamilyBase}),title_c:c(c(c({marginTop:4},e.C13),e.T3),{},{fontFamily:l.a.fontFamilyBase}),titleBar:{marginBottom:0,marginLeft:0,height:56,width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:e.C32.color},titleBarLeft:{marginBottom:0,marginLeft:0,flexDirection:"row",alignItems:"center"},searchBox:c(c({height:40,marginLeft:16,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},e.S31),{},{borderRadius:20,marginVertical:8,flex:1}),searchImgBox:{marginLeft:12,marginRight:8},inputBox:{height:40,flex:1},inputText:c(c({flex:1,height:40,justifyContent:"center"},e.T9),e.C11),crossImgBox:{height:40,flexDirection:"row",alignItems:"center",paddingRight:16},searchText:c(c(c({},e.T8),e.C11),{},{fontWeight:"bold",width:29,fontFamily:l.a.fontFamilyBase}),viewAll:{paddingTop:56,width:"100%"},contentContainerStyle:{flexGrow:1,flexDirection:"column",justifyContent:"flex-start"},filterWrap:{position:"web"===a.a.OS?"fixed":"absolute",left:0,width:"100%",height:"100%",backgroundColor:e.C80.color+e.opacityMap[e.C80.opacity],flexDirection:"row",zIndex:9},searchSlide:{flexGrow:1,flexShrink:1,flexBasis:"auto",height:"100%"},searchSlideRight:c(c({flexGrow:0,flexShrink:0,flexBasis:"auto",height:"100%",borderBottomLeftRadius:16,borderTopLeftRadius:16},e.S31),{},{overflow:"hidden"}),slideTop:{marginTop:8,height:"100%"},slideBottom:{height:60,display:"flex",flexDirection:"row",justifyContent:"space-between"},slideBottomTap:{height:40,borderRadius:20,marginTop:8,backgroundColor:e.C39.color+"0c",alignItems:"center",justifyContent:"center"},slideBottomTapRight:{height:40,borderRadius:20,marginTop:8,backgroundColor:e.C35.color+e.opacityMap[e.C35.opacity],alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"row",paddingRight:15,paddingLeft:16},slideTextC:c(c(c({},e.C11),e.T10),{},{fontWeight:"bold",paddingLeft:16,paddingRight:16,fontFamily:l.a.fontFamilyBase}),slideTextCed:c(c(c({},e.C17),e.T10),{},{fontWeight:"bold",fontFamily:l.a.fontFamilyBase}),slideTextCedItem:c(c(c({},e.C17),e.T10),{},{fontWeight:"bold",fontFamily:l.a.fontFamilyBase}),slideTextCedItemOver:c(c({},e.C17),{},{fontFamily:l.a.fontFamilyBase}),slideTextCedItemOver_normall:c(c(c({},e.C17),e.T10),{},{fontWeight:"bold",fontFamily:l.a.fontFamilyBase}),slideCateTap:{height:28,borderRadius:14,backgroundColor:e.C74.color+"0c",alignItems:"center",justifyContent:"center",marginBottom:12},slideCateTaped:{height:28,borderRadius:14,backgroundColor:e.C39.color+"0c",alignItems:"center",justifyContent:"center",marginBottom:12},slideTextCate:c(c(c({},e.C11),e.T3),{},{paddingLeft:8,paddingRight:8,fontFamily:l.a.fontFamilyBase}),slideTextCated:c(c(c({},e.C18),e.T4),{},{fontWeight:"bold",paddingLeft:8,paddingRight:8,fontFamily:l.a.fontFamilyBase}),cateList:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},cateTitle:c(c(c({},e.C13),e.T8),{},{fontWeight:"bold",marginTop:21,marginBottom:8,fontFamily:l.a.fontFamilyBase}),cateTitle_c:c(c(c({},e.C13),e.T8),{},{fontWeight:"bold",marginTop:17,marginBottom:8,fontFamily:l.a.fontFamilyBase}),cateTitleAll:c(c(c({},e.C13),e.T7),{},{marginTop:21,marginBottom:8,fontFamily:l.a.fontFamilyBase}),cateInputBox:{display:"flex",flexDirection:"row",height:28,marginBottom:8},cateInputText:c(c(c({height:"100%",padding:0,margin:0,borderRadius:14,textAlign:"center",fontFamily:l.a.fontFamilyBase},e.T3),e.C11),{},{backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity]}),priceInputing:c(c({fontFamily:l.a.fontFamilyBase},e.T3),e.C11),priceInputComplete:c(c(c({fontFamily:l.a.fontFamilyMedium},e.T4),e.C18),{},{fontWeight:"bold"}),lines:c(c(c({flex:1,textAlign:"center",fontFamily:l.a.fontFamilyBase},e.T3),e.C13),{},{height:28,lineHeight:28}),cateFlexRow:{display:"flex",justifyContent:"space-between",flexDirection:"row"},recommendTitle:c(c(c({fontFamily:l.a.fontFamilyBase},e.T10),e.C11),{},{flexGrow:1,fontWeight:"bold",marginTop:18}),posiFix:{position:"web"===a.a.OS?"fixed":"absolute",width:"100%",backgroundColor:e.C32.color,zIndex:8},loadPage:{position:"absolute",top:56,zIndex:99,width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.C32.color},loadPageImg:{width:72,height:72},loadPageText:{fontSize:14,color:e.C13.color+"99"},confirm:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"50%",height:40,borderRadius:20,justifyContent:"center",alignItems:"center",marginLeft:6,paddingHorizontal:16,backgroundColor:e.C35.color+e.opacityMap[e.C35.opacity],flexDirection:"row"},confirmCalcule:{position:"absolute",top:-60,left:0,height:40,justifyContent:"center",alignItems:"center",paddingHorizontal:16,backgroundColor:e.C35.color+e.opacityMap[e.C35.opacity],flexDirection:"row"},confirmLeft:{flexGrow:0,flexShrink:0,flexBasis:"auto",height:40,flexDirection:"row",alignItems:"center"},confirmRight:{flexGrow:0,flexShrink:0,flexBasis:"auto",height:40,flexDirection:"row",alignItems:"center"},confirmPrice:{flexGrow:0,flexShrink:1,flexBasis:"auto",height:40,flexDirection:"row",alignItems:"center"},confirmText:c(c(c({fontFamily:l.a.fontFamilyMedium},e.T10),e.C17),{},{fontWeight:"bold"}),T10:c(c(c({fontFamily:l.a.fontFamilyMedium},e.T10),e.C17),{},{fontWeight:"bold"}),T8:c(c(c({fontFamily:l.a.fontFamilyMedium},e.T8),e.C17),{},{fontWeight:"bold"}),T6:c(c(c({fontFamily:l.a.fontFamilyMedium},e.T6),e.C17),{},{fontWeight:"bold"}),T4:c(c(c({fontFamily:l.a.fontFamilyMedium},e.T4),e.C17),{},{fontWeight:"bold"}),plhBox:{position:"relative"},plh:c(c(c({},e.C15),e.T3),{},{height:28,lineHeight:28,position:"absolute",left:"50%",marginLeft:-18,zIndex:-1}),plhHide:{opacity:0},loadWrap:{position:"web"===a.a.OS?"fixed":"relative",top:0,left:0,width:"100%",bottom:0,zIndex:1},recommendShopPrdText:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity,textAlign:"center",marginTop:24,marginBottom:16},shopWrap:{paddingBottom:12},paddingH8:{paddingHorizontal:8}})}},function(e,t,n){"use strict";var r,o,i,a=n(27),l=n.n(a),s=n(5),c=n.n(s),u=n(6),d=n.n(u),p=(n(1),n(18)),f=n.n(p),h=(n(60),n(16)),g=(r=function(){function e(){c()(this,e),l()(this,"appIdWeb",o,this),l()(this,"imgShow",i,this)}return d()(e,[{key:"getAppId",value:function(e){this.appIdWeb=e}},{key:"getImgShow",value:function(e){this.imgShow=e}}]),e}(),o=f()(r.prototype,"appIdWeb",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=f()(r.prototype,"imgShow",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f()(r.prototype,"getAppId",[h.d],Object.getOwnPropertyDescriptor(r.prototype,"getAppId"),r.prototype),f()(r.prototype,"getImgShow",[h.d],Object.getOwnPropertyDescriptor(r.prototype,"getImgShow"),r.prototype),r);t.a=new g},,function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=n(41),g=(r=function(){function e(){s()(this,e),a()(this,"curDialogOrder",o,this)}return u()(e,[{key:"setCurDialogOrder",value:function(e){this.curDialogOrder=e}}]),e}(),o=p()(r.prototype,"curDialogOrder",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.a.ORDER_NONE}}),p()(r.prototype,"setCurDialogOrder",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"setCurDialogOrder"),r.prototype),r);t.a=new g},,,function(e,t,n){var r=n(259);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var r,o,i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(34),w=n.n(b),S=n(0),C=n.n(S),O=n(64),P=n.n(O),T=n(37),x=n(43),I=n(126),k=n(152),E=n(157),j=n(950),R=n(40),L=n(102),_=n(48),D=n(32),N=n(3),W=n(20),A=n(19),B=n(30),M=n(57),F=function(e){return M.a.create({modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,padding:24,zIndex:4,justifyContent:"flex-end",alignItems:"center",overflow:"hidden"},apkModalLayer:{width:"100%",backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,height:"auto",paddingTop:20,paddingBottom:24,paddingLeft:24,paddingRight:24},apkModalContainer:{minHeight:138,width:"100%",backgroundColor:e.C33.color,justifyContent:"center",paddingTop:20,borderRadius:6,paddingLeft:20,paddingRight:20},modalBody:{justifyContent:"flex-start",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",alignItems:"flex-start",minHeight:138,paddingTop:18,marginBottom:0,borderRadius:8,paddingLeft:20,paddingRight:20},modalmainTitle:{fontWeight:"600",fontSize:17,color:"#191919",width:"100%",lineHeight:21},modalmainTitleDark:{color:"#FFFFFF"},empty:{},modalsubTitle:{fontSize:13,color:e.C16.color,marginTop:17,textAlign:"left",lineHeight:18},modalLoginWrapper:{},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginTop:8,textAlign:"center",lineHeight:56,height:56},modalChildWrapper:{flex:1,borderRadius:2,fontSize:14,color:"#808080",lineHeight:17,display:"flex",flexDirection:"row",justifyContent:"center"},modalChildRegister:{alignItems:"center",borderRadius:2,fontSize:14,color:"#808080",lineHeight:17},modalChildRegisterDark:{color:"#FFFFFF",opacity:.6},modalChildRightText:{color:"#CA141D",alignItems:"center"},interLine:{width:1,height:20,backgroundColor:"#EAEAEA"},interLineDark:{opacity:.5}})},H=function(e){return M.a.create({apkModalLayer:{width:"100%",backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,height:"auto",paddingTop:20,paddingBottom:24,paddingLeft:24,paddingRight:24},apkModalContainer:{minHeight:138,width:"100%",backgroundColor:e.C33.color,justifyContent:"center",paddingTop:20,borderRadius:6,paddingLeft:20,paddingRight:20},modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,padding:24,zIndex:100,justifyContent:"flex-end",alignItems:"center",overflow:"hidden"},modalBody:{backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",width:"100%",alignItems:"flex-start",justifyContent:"flex-end",minHeight:138,paddingTop:18,marginBottom:0,borderRadius:8,paddingLeft:20,paddingRight:20},modalmainTitle:{fontWeight:"600",fontSize:17,color:"#191919",width:"100%",lineHeight:21},modalmainTitleDark:{color:"#FFFFFF"},empty:{},modalsubTitle:{fontSize:13,color:e.C16.color,marginTop:17,textAlign:"left",lineHeight:18},modalLoginWrapper:{},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginTop:8,textAlign:"center",lineHeight:56,height:56},modalChildWrapper:{flex:1,borderRadius:2,fontSize:14,lineHeight:17,display:"flex",flexDirection:"row",justifyContent:"center"},modalChildRegister:{alignItems:"center",borderRadius:2,fontSize:14,color:"#808080",lineHeight:17},modalChildRegisterDark:{color:"#FFFFFF",opacity:.6},modalChildRightText:{color:"#CA141D",alignItems:"center"},interLine:{width:1,height:20,backgroundColor:"#EAEAEA"},interLineDark:{opacity:.5}})},z=function(e){return M.a.create({modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,padding:16,paddingBottom:24,zIndex:100,justifyContent:"flex-end",alignItems:"center",overflow:"hidden"},apkModalLayer:{width:"100%",backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,height:"auto",paddingBottom:24,paddingLeft:16,paddingRight:16},apkModalContainer:{display:"flex",height:"auto",width:"100%",backgroundColor:e.C33.color,justifyContent:"center",paddingTop:18,borderRadius:6,paddingLeft:20,paddingRight:20},modalBody:{justifyContent:"flex-start",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",alignItems:"flex-start",minHeight:138,paddingTop:18,borderRadius:8,paddingLeft:20,paddingRight:20},modalmainTitle:{fontWeight:"600",fontSize:17,color:"#191919",width:"100%",lineHeight:21},modalmainTitleDark:{color:"#FFFFFF"},empty:{},modalsubTitle:{fontSize:13,color:e.C16.color,marginTop:17,textAlign:"left",lineHeight:18},modalLoginWrapper:{},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",marginTop:8,textAlign:"center",lineHeight:56,height:56},modalChildWrapper:{flex:1,borderRadius:2,fontSize:14,color:"#808080",lineHeight:56,height:56,alignItems:"center"},modalChildRegister:{flex:1,alignItems:"center",borderRadius:2,fontSize:14,color:"#808080",lineHeight:56},modalChildRegisterDark:{color:"#FFFFFF",opacity:.6},modalChildRightText:{color:"#CA141D",lineHeight:56},interLine:{width:1,lineHeight:30,height:30,backgroundColor:"#EAEAEA"},interLineDark:{opacity:.5}})},U=function(e){return M.a.create({modalLayer:{top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.45)",flex:1,padding:10,zIndex:100,justifyContent:"center",alignItems:"center",overflow:"hidden"},modalBody:{justifyContent:"center",backgroundColor:"#FFFFFF",borderWidth:1,borderColor:"#CECECE",display:"flex",alignItems:"center",height:"auto",paddingTop:40,paddingBottom:20,paddingLeft:20,paddingRight:20},modalmainTitle:{fontWeight:"600",fontSize:18,color:"#3A3A3A",textalign:"center",width:"100%",lineHeight:21},modalsubTitle:{fontSize:14,color:"#666666",marginTop:8,textAlign:"left"},userImageStyle:{width:70,height:70,marginBottom:24},modalLoginWrapper:{marginTop:20,marginBottom:20},modalChildrenNodeWrapper:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",flexWrap:"wrap",marginTop:26,width:"100%",textAlign:"center",paddingLeft:50,paddingRight:50},modalChildWrapper:{flex:1,backgroundColor:"#fff",borderRadius:2,lineHeight:46,height:46,marginRight:5},modalChildRegister:{flex:1,backgroundColor:"#fff",borderRadius:2,borderWidth:1,borderColor:"#DDDDDD",lineHeight:46,height:46,marginRight:5},modalChildRightText:{flex:1,backgroundColor:"#CA141D",borderRadius:2,color:"white",height:46,lineHeight:46,marginLeft:5},closeBtn:{position:"absolute",top:14,right:13}})};function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var G=Object(D.c)((o=function(e){p()(n,e);var t=V(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"layoutWidth",void 0),v()(u()(r),"clickTimer",void 0),v()(u()(r),"initLayoutWidth",(function(e){if(r.layoutWidth!==e){var t=Object(R.a)(e);r.layoutWidth=e;var n=z;if("small"===t)n=z;else if("large"===t)n=U;else if("medium"===t){n=!(Object(N.x)(r.props.pageType).screenHeight>e)&&e>=1024?F:H}r.setState({DrawCardWapStyles:n})}})),v()(u()(r),"handleModalCancel",(function(){var e=r.props,t=e.onCancel,n=e.modalId;if("web"===T.a.OS){document.documentElement.style.overflowY="scroll";var o=document.getElementById(n);w()(o)||document.body.removeChild(o)}"function"==typeof t&&t()})),v()(u()(r),"handleCancel",(function(){r.handleClick(r.handleModalCancel)})),v()(u()(r),"handleClick",(function(e){r.clickTimer&&clearTimeout(r.clickTimer),r.clickTimer=setTimeout((function(){"function"==typeof e&&e()}),r.props.timeout)})),v()(u()(r),"renderButtonList",(function(e){var t=r.props,n=t.buttonList,o=t.onConfirm,i=t.buttonLine,a=[e.interLine];return B.a.darkBool&&a.push(e.interLineDark),null==n?void 0:n.map((function(t,r){var l=[];return r===n.length-1?l.push(e.modalChildRightText):(l.push(e.modalChildRegister),B.a.darkBool&&l.push(e.modalChildRegisterDark)),l.push(t.style),C.a.createElement(C.a.Fragment,null,i&&0!==r?C.a.createElement(x.a,{style:a}):null,C.a.createElement(I.a,{onPress:t.onPress||o,style:e.modalChildWrapper,activeOpacity:1},C.a.createElement(k.a,{style:l},t.text)))}))})),v()(u()(r),"renderWebModal",(function(e,t,n){var o=r.props,i=o.title,a=o.content,l=o.iconType,s=o.showIcon,c=o.modalId,u=document.getElementById(c)||{};if(w()(u)){var d=document.createElement("div");d.setAttribute("id",c),document.body.appendChild(d);var p=Object(R.a)(n);P.a.render(C.a.createElement(x.a,null,C.a.createElement(I.a,{style:[e.modalLayer,{position:"fixed"},r.props.modalOutterStyle],onPress:r.handleCancel,activeOpacity:1},C.a.createElement(I.a,{style:[e.modalBody,{width:"large"===p?460:"100%",cursor:"auto",boxSizing:"border-box"},r.props.modalInnerStyle],activeOpacity:1},C.a.createElement(I.a,{onPress:r.handleCancel,style:e.closeBtn,activeOpacity:1},"large"===p?C.a.createElement(W.a,{iconName:"cancel1",width:"21",height:"21",normalCol:"#A4A4A4"}):null),s&&A.a[l]?C.a.createElement(E.a,{source:A.a[l],style:e.userImageStyle,resizeMode:"cover"}):null,C.a.createElement(k.a,{style:[e.modalmainTitle,{textAlign:a&&"large"!==p?"left":"center",fontSize:"large"===p?18:a?17:15}]},i),a?C.a.createElement(k.a,{style:e.modalsubTitle},a):null,C.a.createElement(x.a,{style:{width:"100%",marginTop:a?0:8}},C.a.createElement(x.a,{style:[e.modalChildrenNodeWrapper,e.modalLoginWrapper]},r.renderButtonList(e)))))),document.getElementById(c))}return null})),v()(u()(r),"renderAppModal",(function(e){var t=r.props,n=t.modalVisible,o=t.onCancel,i=t.title,a=t.content;return C.a.createElement(x.a,null,C.a.createElement(j.a,{animationType:"fade",transparent:!0,visible:n},C.a.createElement(I.a,{style:[e.apkModalLayer,{justifyContent:"flex-end"},r.props.modalOutterStyle],activeOpacity:1,onPress:o},C.a.createElement(I.a,{style:[e.apkModalContainer,r.props.modalInnerStyle],activeOpacity:1},C.a.createElement(k.a,{style:[e.modalmainTitle,{textAlign:a?"left":"center",fontSize:a?17:15,marginTop:a?0:5},B.a.darkBool?e.modalmainTitleDark:e.empty]},i),a?C.a.createElement(k.a,{style:e.modalsubTitle},a):null,C.a.createElement(x.a,{style:[e.modalChildrenNodeWrapper,e.modalLoginWrapper]},r.renderButtonList(e))))))})),r.state={DrawCardWapStyles:z},r}return s()(n,[{key:"componentWillUnmount",value:function(){this.clickTimer&&clearTimeout(this.clickTimer)}},{key:"render",value:function(){var e=this,t=this.props.modalVisible;return C.a.createElement(L.b,{themeStyles:this.state.DrawCardWapStyles},(function(n,r,o){return o=Object(N.F)()?Object(N.x)().screenWidth:o,e.initLayoutWidth(o),"web"===T.a.OS||Object(N.F)()?t?e.renderWebModal(n,r,o):null:_.a.isApp()?e.renderAppModal(n):null}))}}]),n}(C.a.PureComponent),v()(o,"defaultProps",{onCancel:function(){},onConfirm:function(){},title:"",content:"",buttonList:[],buttonLine:!0,timeout:100,showIcon:!1,pageType:"homePage",modalId:"modal-other"}),r=o))||r},,,,,function(e,t,n){"use strict";var r,o,i,a=n(27),l=n.n(a),s=n(5),c=n.n(s),u=n(6),d=n.n(u),p=(n(1),n(18)),f=n.n(p),h=(n(60),n(16)),g=(r=function(){function e(){c()(this,e),l()(this,"pageData",o,this),l()(this,"renderCount",i,this)}return d()(e,[{key:"setPageData",value:function(e){this.pageData=e,this.renderCount=1}}]),e}(),o=f()(r.prototype,"pageData",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=f()(r.prototype,"renderCount",[h.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f()(r.prototype,"setPageData",[h.d],Object.getOwnPropertyDescriptor(r.prototype,"setPageData"),r.prototype),r);t.a=new g},function(e,t,n){var r=n(566);function o(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var o=r(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,n){var r=n(107).default;function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var s=a?Object.getOwnPropertyDescriptor(e,l):null;s&&(s.get||s.set)?Object.defineProperty(i,l,s):i[l]=e[l]}return i.default=e,n&&n.set(e,i),i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.forFade=function(e){var t=e.current,n=e.next,r=o(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),i=r.interpolate({inputRange:[0,1,2],outputRange:[0,1,0]});return{leftButtonStyle:{opacity:i},rightButtonStyle:{opacity:i},titleStyle:{opacity:i},backgroundStyle:{opacity:r.interpolate({inputRange:[0,1,1.9,2],outputRange:[0,1,1,0]})}}},t.forNoAnimation=function(){return{}},t.forSlideLeft=function(e){var t=e.current,n=e.next,i=e.layouts.screen,a=[{translateX:o(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:r.I18nManager.isRTL?[-i.width,0,i.width]:[i.width,0,-i.width]})}];return{leftButtonStyle:{transform:a},rightButtonStyle:{transform:a},titleStyle:{transform:a},backgroundStyle:{transform:a}}},t.forSlideRight=function(e){var t=e.current,n=e.next,i=e.layouts.screen,a=[{translateX:o(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:r.I18nManager.isRTL?[i.width,0,-i.width]:[-i.width,0,i.width]})}];return{leftButtonStyle:{transform:a},rightButtonStyle:{transform:a},titleStyle:{transform:a},backgroundStyle:{transform:a}}},t.forSlideUp=function(e){var t=e.current,n=e.next,r=e.layouts.header,i=[{translateY:o(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0).interpolate({inputRange:[0,1,2],outputRange:[-r.height,0,-r.height]})}];return{leftButtonStyle:{transform:i},rightButtonStyle:{transform:i},titleStyle:{transform:i},backgroundStyle:{transform:i}}},t.forUIKit=function(e){var t=e.current,n=e.next,i=e.layouts,a=i.leftLabel?(i.screen.width-i.leftLabel.width)/2-27:100,l=i.title?(i.screen.width-i.title.width)/2-27:100,s=i.screen.width/4,c=o(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0);return{leftButtonStyle:{opacity:c.interpolate({inputRange:[.3,1,1.5],outputRange:[0,1,0]})},leftLabelStyle:{transform:[{translateX:c.interpolate({inputRange:[0,1,2],outputRange:r.I18nManager.isRTL?[-s,0,a]:[a,0,-s]})}]},rightButtonStyle:{opacity:c.interpolate({inputRange:[.3,1,1.5],outputRange:[0,1,0]})},titleStyle:{opacity:c.interpolate({inputRange:[0,.4,1,1.5],outputRange:[0,.1,1,0]}),transform:[{translateX:c.interpolate({inputRange:[.5,1,2],outputRange:r.I18nManager.isRTL?[-l,0,s]:[s,0,-l]})}]},backgroundStyle:{transform:[{translateX:c.interpolate({inputRange:[0,1,2],outputRange:r.I18nManager.isRTL?[-i.screen.width,0,i.screen.width]:[i.screen.width,0,-i.screen.width]})}]}}};var r=n(9),o=r.Animated.add},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/5.x/getting-started for setup instructions.",a=r.createContext({isDefault:!0,get getKey(){throw new Error(i)},get setKey(){throw new Error(i)},get getState(){throw new Error(i)},get setState(){throw new Error(i)},get getIsInitial(){throw new Error(i)}});t.default=a},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.default);if(void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside a screen in a navigator?");return e};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(167));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(57);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return i.a.create({float_main:{flex:1},box_shadow:l({elevation:3},e.S43),itemFixed:{marginTop:12},ItemWap:{flex:1},ItemApp:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}},function(e,t,n){"use strict";var r=n(10),o=n(37),i=n(3);t.a={exposeItem:function(e){var t=this.props.id,n={array:e.map((function(e,n){return{comId:t,column:e.key}}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"浮标组件曝光",eventType:r.e.EVENT_TYPE_EXPOSURE,pageId:this.props.pageId},content:n.array}},clickItem:function(e,t,n,a,l,s){var c,u=Object(i.F)()?this:this.props,d=u.pageId,p=u.pageCatCode,f=u.pageCatName;return{data:{actionCode:"wx"===o.a.OS||"ali"===o.a.OS?r.f.WECHAT+r.d.WAP:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"浮标组件-"+(s?"拖动-":"点击-")+t,eventType:r.e.EVENT_TYPE_CLICK,pageId:d,content:{comId:null==e||null===(c=e.cardId)||void 0===c?void 0:c.toString(),gotoPageId:"",gotoURL:a,column:l,index:n,index_name:t},pageCatCode:p,pageCatName:f,resSiteCode:null!=e&&e.resSiteCode?null==e?void 0:e.resSiteCode:"",resSiteName:null!=e&&e.resSiteName?null==e?void 0:e.resSiteName:""}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(37),P=n(49),T=n(43),x=n(152),I=n(126),k=n(157),E=n(29),j=n(38),R=n(11),L=n(22),_=n(24),D=n(122),N=n(432),W=n(102),A=n(100),B=n(3),M=n(20),F=n(230),H=n(103),z=n(12),U=n(23);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}Object(R.b)(j.a);var G=R.a.openApiDomain,Y=R.a.webDomain,J=R.a.customerServiceUrl,K=!1,q=function(e){h()(r,e);var t,n=V(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"onClose",(function(){t.setState({showLoginWindow:!1})})),t.state={isClick:!1,activeColor:D.a.C18.color,activeOpacity:D.a.C18.opacity,normalColor:D.a.C15.color,normalOpacity:D.a.C15.opacity,svgSize:24,showLoginWindow:!1,targetLink:""},t}return u()(r,[{key:"componentDidMount",value:function(){if("web"==O.a.OS){var e=H.a.get("TID");H.a.get("callAB")||K||(K=!0,Object(U.v)(e,"1"))}}},{key:"_onPress",value:function(){var e,t=this.props,n=t.title,r=t.orderNum,o=t.actionUrl,i=t.actionUrlWap,a=t.actionUrlWeb,l=t.iconAttribute,s=t.isPc,c=t.isWap,u=t.card,d=s&&window.location.href||"";switch(l){case"message":e="".concat(Y,"member/msg");break;case"cart":e="".concat(Y,"cart2");break;case"homePage":e="".concat(Y,"index.html");break;case"personalCenter":e=H.a.get("rnpersonalurlweb")?H.a.get("rnpersonalurlweb"):Y+z.j.PERSONAL_URL_WEB;break;case"selfService":e="".concat(Y,"help/index.html");break;case"tradeIn":e="".concat(Y,"recycler");break;case"onlineCustomerService":e="".concat(J,"#/?businessUUID=902d812b8bdb44e089e34544fb5d77e2&enterurl=").concat(d,"&k=1&from=06&remark=")}if("top"===l){if(s||c)window.scrollTo({top:0,behavior:"smooth"}),this.props.onReportDataFixedBuoy("","top",r,"","2"),P.a.emit("scrollToTop");else if(Object(B.F)()){var p;P.a.emit("scrollToTop"),null===(p=this.props)||void 0===p||p.onReportDataFixedBuoy("","top",r,"","2",!1)}}else"onlineCustomerService"===l||"message"===l||"personalCenter"===l?s&&(this.props.onReportDataFixedBuoy(u,n,r,a||e,"2"),this.openOnlineCustome(a||e)):"qrCode"!==l&&(s?(this.props.onReportDataFixedBuoy(u,n,r,a||e,"2"),Object(B.A)(a||e,!0)):c?(this.props.onReportDataFixedBuoy(u,n,r,i||e,"2"),Object(B.A)(i,!1)):(this.props.onReportDataFixedBuoy(u,n,r,o||e,"2"),Object(B.A)(o,!1)));Object(L.b)("",!0)}},{key:"_changeModifyStart",value:function(){this.setState({isClick:!this.state.isClick})}},{key:"openOnlineCustome",value:(t=a()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isLogin();case 2:e.sent?Object(B.A)(t):(n="".concat(Y,"account/login?url=").concat(encodeURIComponent(t)),window.navigator.userAgent.toLowerCase().match(/chrome/)?Object(B.A)(n):this.setState({showLoginWindow:!0,targetLink:t}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isLogin",value:function(){var e="".concat(G,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();return E.a.get(e,{portal:"1",country:"CN",lang:"zh-CN"}).then((function(e){return e.login}))}},{key:"_changeModifyEnd",value:function(){this.setState({isClick:!this.state.isClick})}},{key:"renderCode",value:function(e){return C.a.createElement(T.a,{style:[e.codeBox,e.box_shadow]},C.a.createElement(_.a,{imgStyle:e.codeImg,imgUri:"https://res.vmallres.com/pimages/pages/cdnImages/FWETOIrFlCrX4xuB8E16.png"}),C.a.createElement(x.a,{style:e.codeText},"用手机扫码进行购买"))}},{key:"renderCornerMarker",value:function(e){var t=this.props,n=t.messageNum,r=t.cartNum,o=t.iconAttribute,i=0;return"cart"===o?i=r>99?"99+":r:"message"===o&&(i=n),!(i<=0)&&C.a.createElement(C.a.Fragment,null,C.a.createElement(x.a,{style:[e.cornerMarkerText]},i))}},{key:"renderPress",value:function(e){var t=this,n=this.props,r=n.isHovered,o=n.iconAttribute,i=n.isPc,a=n.isWap;return r&&"qrCode"===o&&i?C.a.createElement(C.a.Fragment,null,this.renderCode(e),C.a.createElement(I.a,{onPressIn:function(){t._changeModifyStart()},onPress:function(){t._onPress()},onPressOut:function(){t._changeModifyEnd()},activeOpacity:1},C.a.createElement(T.a,{style:[e.tinyLogoBody]},this.renderItems(e)),C.a.createElement(T.a,null,this.renderText(e)))):i||a?C.a.createElement(I.a,{onPressIn:function(){t._changeModifyStart()},onPress:function(){t._onPress()},onPressOut:function(){t._changeModifyEnd()},activeOpacity:1},C.a.createElement(T.a,{style:[e.tinyLogoBody]},this.renderItems(e)),C.a.createElement(T.a,null,this.renderText(e))):Object(B.F)()?C.a.createElement(I.a,{catchtouchmove:function(){return!0},onPress:function(){t._onPress()}},C.a.createElement(T.a,{style:[e.tinyLogoBody,{width:48,height:48}]},this.renderItems(e))):C.a.createElement(T.a,{style:[e.tinyLogoBody]},this.renderItems(e))}},{key:"renderItems",value:function(e){var t=this.state,n=t.isClick,r=t.activeColor,o=t.normalColor,i=t.svgSize,a=t.activeOpacity,l=t.normalOpacity,s=this.props,c=s.isHovered,u=s.imgUrl,d=s.iconAttribute,p=s.isPc;return"custom"===d?C.a.createElement(T.a,{style:e.tinyLogoBody},C.a.createElement(_.a,{imgStyle:e.tinyLogo,imgUri:R.a.cmsCdnPath+u})):"top"===d?p?C.a.createElement(M.a,{iconName:"top",width:20,height:i,isActive:c||n,normalCol:o,activeCol:r,opacity:c||n?a:l}):Object(B.F)()?C.a.createElement(T.a,null,C.a.createElement(k.a,{source:{uri:"/static/images/topM.svg"},style:{width:24,height:24,margin:"auto"}})):C.a.createElement(M.a,{iconName:"topM",width:i,height:i,isActive:c||n,normalCol:o,activeCol:o,opacity:c||n?l:a}):!p||"cart"!==d&&"message"!==d?C.a.createElement(M.a,{iconName:d,width:i,height:i,isActive:c||n,normalCol:o,activeCol:r,opacity:c||n?a:l}):C.a.createElement(C.a.Fragment,null,this.renderCornerMarker(e),C.a.createElement(M.a,{iconName:d,width:i,height:i,isActive:c||n,normalCol:o,activeCol:r,opacity:c||n?a:l}))}},{key:"renderText",value:function(e){var t=this.state.isClick,n=this.props,r=n.isHovered,o=n.title,i=n.iconAttribute;if(n.isPc&&""!==o)return C.a.createElement(x.a,{style:[r||t?e.textHover:e.text]},"top"===i?Object(N.b)(o):o)}},{key:"render",value:function(){var e=this;return C.a.createElement(W.b,{themeStyles:F.a},(function(t){return C.a.createElement(T.a,{style:[e.props.isPc?t.containerPc:t.container]},e.renderPress(t),e.state.showLoginWindow?C.a.createElement(A.a,{targetLink:e.state.targetLink,onClose:e.onClose}):null)}))}}]),r}(S.Component)},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(57);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return i.a.create({tinyLogoBody:{width:40,height:40,alignItems:"center",justifyContent:"center",margin:"auto"},tinyLogo:{margin:"auto",resizeMode:"contain",width:"100%",height:40},text:l(l(l({},e.T3),e.C15),{},{textAlign:"center"}),textHover:l(l(l({},e.T3),e.C18),{},{textAlign:"center"}),codeBox:{padding:16,position:"absolute",top:0,right:92,backgroundColor:"#fff",borderRadius:10},box_shadow:l({},e.S43),codeImg:{width:96,height:96,resizeMode:"cover"},codeText:l(l({width:71,margin:"auto",paddingTop:8},e.C15),{},{textAlign:"center",lineHeight:16}),cornerMarkerText:{position:"absolute",backgroundColor:"#ca141d",color:"#fff",height:18,minWidth:18,paddingLeft:2,paddingRight:2,borderRadius:10,textAlign:"center",lineHeight:18,left:14,fontSize:12,top:-6},containerPc:{flexGrow:1},container:{flex:1},dragButton:{width:48,height:48,resizeMode:"contain"}})}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(0),a=n.n(i),l=n(43),s=n(157),c=n(152),u=n(37),d=n(129),p=n(19);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){var t,n=e.number,r=e.originStyle,o=p.a.sort_label_No;return 1===n?o=p.a.sort_label_No1:2===n?o=p.a.sort_label_No2:3===n&&(o=p.a.sort_label_No3),t="function"==typeof r?r?h(h({},d.b),r()):d.b:r?h(h({},d.b),r):d.b,a.a.createElement(l.a,{style:[t.numberPosition,{height:n>=4?18:22}]},a.a.createElement(s.a,{source:o,resizeMode:"stretch",style:t.image}),a.a.createElement(l.a,{style:t.numberView},n<=3?a.a.createElement(c.a,{style:[t.text,"web"===u.a.OS?t.fontSize9Wap:t.fontSize9Apk,t.number123]},n):a.a.createElement(c.a,{style:[t.text,"web"===u.a.OS?t.fontSize9Wap:t.fontSize9Apk,t.number45]},n)))}},function(e,t,n){"use strict";var r,o=n(15),i=n.n(o),a=n(5),l=n.n(a),s=n(6),c=n.n(s),u=n(2),d=n.n(u),p=n(8),f=n.n(p),h=n(7),g=n.n(h),m=n(4),y=n.n(m),v=n(1),b=n.n(v),w=n(34),S=n.n(w),C=n(58),O=n.n(C),P=n(110),T=n.n(P),x=n(40),I=n(102),k=n(433),E=n(122),j=n(48),R=n(85),L=n(22),_=n(98),D=n(134),N=n(95),W=n(0),A=n.n(W),B=n(32),M=n(74),F=n(327),H=n(163),z=n(54),U=n(49),V=n(43),G=n(87),Y=n(431),J=n(23),K=n(12),q=n(108),Q=n(143),$=n(10),X=n(11),Z=n(144),ee=n(117),te=n(91),ne=n(33),re=n(3),oe=n(164),ie=n(68),ae=n(70),le=n(175),se=n(141),ce=n(308),ue=n(301);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var pe,fe=z.a.get("window"),he=Object(x.a)(fe.width),ge=Object(B.c)(r=function(e){f()(n,e);var t=de(n);function n(e){var r;return l()(this,n),r=t.call(this,e),b()(d()(r),"scroller",void 0),b()(d()(r),"headStyle",{}),b()(d()(r),"titleStyle",{}),b()(d()(r),"screenWidth",-1),b()(d()(r),"tabs",void 0),b()(d()(r),"tabConfig",void 0),b()(d()(r),"cardId",void 0),b()(d()(r),"portal",void 0),b()(d()(r),"prefixPm","2"),b()(d()(r),"strategyIdList",""),b()(d()(r),"bgColor",""),b()(d()(r),"pageType",1),b()(d()(r),"convertResult",{}),b()(d()(r),"tabname",void 0),b()(d()(r),"tabindex",void 0),b()(d()(r),"currentTime",(new Date).getTime()),b()(d()(r),"otherParams",{}),b()(d()(r),"immersiveHeader",{}),b()(d()(r),"pageCatCode",""),b()(d()(r),"pageCatName",""),b()(d()(r),"cartNumTimer",null),b()(d()(r),"handleAddListeners",(function(){r.props.pageType!==K.g.subTabSetPage&&(window.addEventListener("scroll",r._onMomentumScrollEnd),window.addEventListener("unload",r.unload)),U.a.addListener("switchSubTab",r.getTabInfo)})),b()(d()(r),"eventTracingReportByLoad",(function(e){r.props.pageType!==K.g.subTabSetPage&&Object(L.a)({actionCode:r.prefixPm+"10000000",actionName:"Activity页面加载完成",eventType:$.e.EVENT_TYPE_LOADING_PAGE,pageId:e||r.state.pageId||X.a.pageId,content:{},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})})),b()(d()(r),"_getWebPageInfo",(function(){var e,t,n,o=r.state.pageId,i=(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.search)||void 0===n?void 0:n.substring(1))||"";return((null==i?void 0:i.split("&"))||[]).forEach((function(e){var t=e.split("=");r.state.pageId||"bottomNav"==r.props.container?r.props.pageType!==K.g.subTabSetPage&&(X.a.pageId=r.state.pageId):"pageId"===t[0]?(r.props.pageType!==K.g.subTabSetPage&&(X.a.pageId=t[1]),o=t[1],ae.a.getPageId(t[1]),ae.a.setPageName("Activity"),r.setState({pageId:t[1]})):"pn"===t[0]&&r.setState({pageAlias:t[1]}),"carrierCode"===t[0]&&(r.setState({carrierCode:t[1]}),X.a.carrierCode=t[1]),"tabindex"===t[0]?(r.tabindex=Number(t[1]),r.otherParams.tabindex=r.tabindex):"tabname"===t[0]&&("function"==typeof decodeURI?r.tabname=decodeURI(t[1]):r.tabname=t[1],r.otherParams.tabname=r.tabname),"preview"===t[0]&&r.setState({preview:t[1]}),"previewToken"===t[0]&&r.setState({previewToken:t[1]})})),r._getStatus().then((function(){return r.state.previewToken?r.state.previewToken?Object(J.k)(r.state.pageId||o||"",r.portal.toString(),r.state.strategyIdList,"",r.state.preview,r.state.previewToken,r.state.pageAlias,r.state.carrierCode):void 0:Object(J.k)(r.state.pageId||o||"",r.portal.toString(),r.state.strategyIdList,"","","",r.state.pageAlias,r.state.carrierCode)})).then((function(e){var t,n,i,a,l,s,c,u,d;if(null!==(t=e=Object(te.a)(e,"web"))&&void 0!==t&&null!==(n=t.pageInfos)&&void 0!==n&&n.length){var p,f,h,g,m;o=String(e.pageInfos[0].pageId),r.props.pageType!==K.g.subTabSetPage&&(X.a.pageId=o),r.props.pageType!==K.g.subTabSetPage&&(X.a.appid=e.pageInfos[0].channel);var y=(null===(p=e.pageInfos[0])||void 0===p?void 0:p.tabInfos)||[],v=null===(f=e.pageInfos[0])||void 0===f||null===(h=f.cards)||void 0===h?void 0:h.filter((function(e){return"bottomNav"===e.cardType})),b=(null===(g=e)||void 0===g?void 0:g.pageInfos[0])||{},w=b.pageCatCode,S=b.pageCatName;if(r.pageCatCode=w,r.pageCatName=S,v&&v.length>0)return void r.setState({bottomNavCard:v[0]});var C=JSON.parse(e.pageInfos[0].headerStyle),O=null!==(m=r.headStyle)&&void 0!==m&&m.headStyle&&"large"!==he?56:0;r.otherParams.hasTabTop=(null==y?void 0:y.length)>1,r.otherParams.hasTitle=!(null==C||!C.headStyle),r.convertResult=Object(R.a)(e.pageInfos[0],r.props.parentPageType||r.props.pageType||K.g.activity,O,!0,r.otherParams)}return r.setState({configInfo:(null===(i=e)||void 0===i||null===(a=i.pageInfos)||void 0===a?void 0:a.length)&&JSON.stringify(null===(l=JSON.parse(null===(s=e)||void 0===s?void 0:s.pageInfos[0].headerStyle))||void 0===l?void 0:l.attribute),cmsData:e,pageId:o,loadState:null!==(c=e)&&void 0!==c&&null!==(u=c.pageInfos)&&void 0!==u&&u.length?1:2},(function(){r.handleTitleStyle(),r._pageDataHandle()})),r.eventTracingReportByLoad(o),Object(te.b)(null===(d=e)||void 0===d?void 0:d.pageInfos),Promise.resolve()})).catch((function(){r.eventTracingReportByLoad(o)}))})),b()(d()(r),"_getStatus",(function(){return r.props.pageType!==K.g.subTabSetPage?Object(J.u)():Promise.resolve()})),b()(d()(r),"handleTitleStyle",(function(){var e,t=r.state.cmsData;if(null!=t&&null!==(e=t.pageInfos)&&void 0!==e&&e.length){var n=t.pageInfos[0],o=n.pageId,i=n.styleChange,a=n.groupStyleChanges,l=t.pageInfos[0].pageStyleChange?JSON.parse(t.pageInfos[0].pageStyleChange):null;r.titleStyle={cardId:o,styleChange:i?JSON.parse(i):null,groupStyleChanges:a?JSON.parse(a):null},r.titleStyle.styleChange||(r.titleStyle.styleChange=l),r.titleStyle.styleChange&&(1==r.titleStyle.styleChange.bgFill&&r.titleStyle.styleChange.bgColor&&(r.bgColor=r.titleStyle.styleChange.bgColor),H.a.onSubTabsUpdate(r.titleStyle.styleChange))}})),b()(d()(r),"getPageInfoByTabWeb",(function(e,t){var n;window.scrollTo({top:0,behavior:"smooth"});var o=(null===(n=r.tabs)||void 0===n?void 0:n.length)>e&&r.tabs[e],i=t||o.relatedPage;Object(J.k)(i,r.portal.toString(),r.state.strategyIdList,"",r.state.preview,r.state.previewToken,r.state.pageAlias,r.state.carrierCode).then((function(t){var n;if(Object(te.a)(t,"web"),null!=t&&null!==(n=t.pageInfos)&&void 0!==n&&n.length){var o,i=null!==(o=r.headStyle)&&void 0!==o&&o.headStyle&&"large"!==he?56:0;r.convertResult=Object(R.a)(t.pageInfos[0],r.props.parentPageType||r.props.pageType||K.g.activity,i,!1,r.otherParams)}return r.setState({cmsData:t},(function(){var t,n,o,i,a=r.state.cmsData;0!=e&&null!=a&&null!==(t=a.pageInfos)&&void 0!==t&&t.length&&(r.tabs=(null==a||null===(n=a.pageInfos[0])||void 0===n?void 0:n.tabInfos)||[],r.tabConfig=null==a||null===(o=a.pageInfos[0])||void 0===o||null===(i=o.cards)||void 0===i?void 0:i.map((function(e){if("sub_tab"===e.cardType)return r.cardId=e.cardId,e.configInfo})),r.headStyle=JSON.parse(a.pageInfos[0].headerStyle))})),Object(te.b)(null==t?void 0:t.pageInfos),Promise.resolve()}))})),b()(d()(r),"getTabInfo",(function(e){var t=e.id,n=e.index;r.setState({pageId:t,currentTabIndex:n,isClickTab:!0},(function(){r.getPageInfoByTabWeb(n,t)}))})),b()(d()(r),"onBackTop",(function(){r.scroller&&r.scroller.scrollTo({y:0,animated:!0})})),b()(d()(r),"_onMomentumScrollEnd",(function(e){pe&&clearTimeout(pe),pe=setTimeout((function(){U.a.emit("onScrollEvent","","activity")}),300)})),b()(d()(r),"_onScrollBeginDrag",(function(e){U.a.emit("onScrollBeginDragEvent",e)})),b()(d()(r),"unload",(function(){var e;if("function"==typeof(null===(e=navigator)||void 0===e?void 0:e.sendBeacon)){var t=[Object(ie.b)({actionCode:r.prefixPm+"10000011",actionName:"Activity页面离开",eventType:$.e.EVENT_TYPE_LEAVE,pageId:r.state.pageId||X.a.pageId,content:{},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})],n={type:"application/json",language:"zh-CN",encoding:"gzip",data:(new Date).getTime()},o=new Blob([JSON.stringify(t)],n);navigator.sendBeacon(X.a.reportBatchUrl+"?"+(new Date).getTime(),o)}})),b()(d()(r),"_onLayout",(function(e){var t=r.props.pageType;if(t!==K.g.subTabSetPage){var n;if("large"!==Object(x.a)(fe.width))if(-1===r.screenWidth&&(r.screenWidth=e.nativeEvent.layout.width),r.screenWidth!==e.nativeEvent.layout.width)r.screenWidth=e.nativeEvent.layout.width,null===(n=window.location)||void 0===n||n.reload();Object(M.b)(e)}Object(M.a)(e,t||K.g.activity)})),b()(d()(r),"_loadLoading",(function(){var e=r.state.loadState;return A.a.createElement(I.b,{themeStyles:le.a},(function(t,n){return A.a.createElement(k.a,{showLoading:!0,position:"bottom",errorCallback:r._getAsyNcData,loadState:e,height:56,iconSize:24,titleStyle:t.lodingTitle})}))})),b()(d()(r),"_getAsyNcData",(function(){r.setState({loadState:1},(function(){r._getPageInfo()}))})),b()(d()(r),"_loadingPage",(function(){return r.props.pageType!==K.g.subTabSetPage?A.a.createElement(q.a,null):r._loadLoading()})),b()(d()(r),"_loadErrorPage",(function(){return r.props.pageType!==K.g.subTabSetPage?A.a.createElement(I.b,{themeStyles:le.a},(function(e){return A.a.createElement(N.a,{errorType:r.state.errorType})})):r._loadLoading()})),b()(d()(r),"_getImmersiveHeader",(function(e){var t=null,n=T()(null==e?void 0:e.children,(function(e){return"immersiveHeader"===e.type}));if(-1!==n){var r,o;if(0===(null==e||null===(r=e.children[n])||void 0===r||null===(o=r.props)||void 0===o?void 0:o.index))t=null==e?void 0:e.children[n];else(O()(null==e?void 0:e.children,(function(e,t){return("buoys"===e.cardType||"blank"===e.type)&&t<n}))||[]).length===n&&(t=null==e?void 0:e.children[n])}else{var i=T()(null==e?void 0:e.children,(function(e){return"groupComponent"===e.type}));if((O()(null==e?void 0:e.children,(function(e,t){return("buoys"===e.cardType||"blank"===e.type)&&t<i}))||[]).length===i){var a,l,s,c=T()(null==e||null===(a=e.children[i])||void 0===a?void 0:a.children,(function(e){return"immersiveHeader"===e.type}));if((O()(null==e||null===(l=e.children[i])||void 0===l?void 0:l.children,(function(e,t){return("buoys"===e.cardType||"blank"===e.type)&&t<c}))||[]).length===c)t=null==e||null===(s=e.children[i])||void 0===s?void 0:s.children[c]}}return t})),b()(d()(r),"_loadPage",(function(){var e,t,n,o,a,l,s,c,u,d,p=r.props.pageType,f=E.a,h={paddingBottom:24};"large"!==he&&p!==K.g.subTabSetPage||(h.paddingBottom=0),p!==K.g.subTabSetPage?!S()(r.convertResult.pageStyleChange)&&"1"===r.convertResult.pageStyleChange.bgFill&&r.convertResult.pageStyleChange.bgColor&&2!==r.convertResult.pageTypeNumber?h.backgroundColor=r.convertResult.pageStyleChange.bgColor:h.backgroundColor=f.C32.color:!S()(r.convertResult.pageStyleChange)&&"1"===r.convertResult.pageStyleChange.bgFill&&r.convertResult.pageStyleChange.bgColor&&2!==r.convertResult.pageTypeNumber&&(h.backgroundColor=r.convertResult.pageStyleChange.bgColor);var g=null===(e=r.state.cmsData)||void 0===e?void 0:e.pageInfos[0],m=JSON.parse(JSON.stringify(g));m.cards=[];var y=JSON.parse(JSON.stringify(r.convertResult));y.children=[];var v,b,w,C,O,P,T,x=JSON.parse(JSON.stringify(y)),I={id:0,type:"",pageId:""};if("floor"===r.convertResult.layoutType){var k,R=r.convertResult.children.findIndex((function(e){return"floor"===e.type}));y.children=r.convertResult.children.slice(0,R);var L=r.convertResult.children.slice(R,R+1);if(C=!(null===(k=L[0].props.configInfo)||void 0===k||!k.cards||!L[0].props.cards),O=L[0].props.resSiteCode,P=L[0].props.resSiteName,C&&(x.children=(r.convertResult.children.slice(R+1)||[]).filter((function(e){return"floor"!==e.type})),L.length>0)){var N,W,B=L[0];b=B.id,w=null===(N=B.props)||void 0===N?void 0:N.pageId,I.id=B.id,I.type=B.type,I.pageId=r.convertResult.pageId.toString(),v=null===(W=B.props.configInfo)||void 0===W?void 0:W.cards.map((function(e,t){var n,r;return{title:e.cardName,subTitle:null!=e&&e.configInfo?"string"==typeof(null==e?void 0:e.configInfo)?null===(n=JSON.parse(null==e?void 0:e.configInfo))||void 0===n?void 0:n.subTitle:null==e||null===(r=e.configInfo)||void 0===r?void 0:r.subTitle:"",data:B.props.cards[t],floorSetting:B.props.cards[t].floorSetting,index:t,key:t}})),T=B.props.styleChange}}return r.immersiveHeader=r._getImmersiveHeader(r.convertResult),A.a.createElement(A.a.Fragment,null,A.a.createElement(V.a,{style:[h,{flexGrow:1},"bottomNav"===(null===(t=r.props)||void 0===t?void 0:t.container)&&{marginBottom:(null===(n=r.props)||void 0===n?void 0:n.getbottomNavBarHeight())||0}],onLayout:r._onLayout,nativeID:"activity_no_focus_outline"},j.a.isWap(fe.width)?A.a.createElement(A.a.Fragment,null,r.state.isshow&&!Object(ne.j)()&&"bottomNav"!==(null===(o=r.props)||void 0===o?void 0:o.container)?A.a.createElement(F.a,{type:5,appRouter:"vmall://com.vmall.client/home/activity",pageType:r.props.pageType}):A.a.createElement(A.a.Fragment,null),S()(r.immersiveHeader)||"7"!==(null===(a=r.headStyle)||void 0===a?void 0:a.headStyle)?null!==(u=r.headStyle)&&void 0!==u&&u.headStyle?A.a.createElement(Q.a,{configInfo:r.state.configInfo,cartNum:r.state.cartNum,messageNum:r.state.messageNum,headStyle:r.headStyle,titleStyle:r.titleStyle,tabs:r.tabs,tabConfig:r.tabConfig[0],stickyScrollY:r.state.scrollY,freshTab:r.state.freshTab,cardId:r.cardId,bgColor:r.bgColor,pageType:r.pageType,tabLength:null===(d=r.tabs)||void 0===d?void 0:d.length,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName}):null:A.a.createElement(A.a.Fragment,null,A.a.createElement(se.a,i()({cartNum:r.state.cartNum,messageNum:r.state.messageNum,headerStyle:r.headStyle,titleStyle:r.titleStyle,tabs:r.tabs,tabConfig:r.tabConfig[0],stickyScrollY:r.state.scrollY,freshTab:r.state.freshTab,cardId:r.cardId,bgColor:r.bgColor,pageType:r.pageType,tabLength:null===(l=r.tabs)||void 0===l?void 0:l.length,pageTypeName:K.g.activity},r.immersiveHeader.props,{container:null===(s=r.props)||void 0===s?void 0:s.container,showType:"title"})),A.a.createElement(Q.a,{configInfo:r.state.configInfo,cartNum:r.state.cartNum,messageNum:r.state.messageNum,titleStyle:r.titleStyle,tabs:r.tabs,tabConfig:r.tabConfig[0],stickyScrollY:r.state.scrollY,freshTab:r.state.freshTab,cardId:r.cardId,bgColor:r.bgColor,pageType:r.pageType,tabLength:null===(c=r.tabs)||void 0===c?void 0:c.length,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName}))):A.a.createElement(A.a.Fragment,null),"floor"===r.convertResult.layoutType&&C?A.a.createElement(ue.b,{sections:v,header:y,footer:x,otherParams:r.otherParams,pageDataBaseInfo:m,comId:b,headStyle:r.headStyle,styleChange:T,pageId:w,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:O,resSiteName:P}):A.a.createElement(_.a,i()({},r.convertResult,{mapComponents:Z.a,stickyScrollY:r.state.scrollY,navigation:r.props.navigation})),A.a.createElement(D.a,i()({},r.convertResult,{cartNum:r.state.cartNum,messageNum:r.state.messageNum,pageId:r.state.pageId}))),p!==K.g.subTabSetPage&&A.a.createElement(ee.a,{pageType:r.props.parentPageType||p||K.g.activity}))})),r.state={scrollY:new G.a.Value(0),pageId:e.pageId,pageAlias:"bottomNav"===r.props.container?r.props.pageAlias:null,strategyIdList:null,cmsData:{pageInfos:[]},loading:!0,isRefreshing:!1,error:!1,freshTab:!0,cartNum:0,messageNum:0,currentTabIndex:0,isClickTab:!1,errorType:K.c.OTHER_ERROR,appState:Y.a.currentState,loadState:1,carrierCode:null,isshow:!0,bottomNavCard:{},preview:null,previewToken:null,configInfo:""},r}return c()(n,[{key:"componentDidMount",value:function(){this.props.pageType!==K.g.subTabSetPage&&(Object(oe.a)(),Object(oe.b)()),this._getPageInfo(),"large"===Object(x.a)(fe.width)?(this.prefixPm="3",this.portal=K.f.WEB):this.portal=K.f.WAP,this.handleAddListeners(),this.cartNumTimer=setTimeout((function(){Object(J.H)()}),1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.cartNumTimer),this.state.scrollY&&this.state.scrollY.removeAllListeners(),U.a.removeListener("switchSubTab",this.getTabInfo),this.props.pageType!==K.g.subTabSetPage&&(window.removeEventListener("unload",this.unload),window.removeEventListener("scroll",this._onMomentumScrollEnd))}},{key:"handleOrientationChange",value:function(e){90!==e.target.screen.orientation.angle&&0!==e.target.screen.orientation.angle&&270!==e.target.screen.orientation.angle&&180!==e.target.screen.orientation.angle||window.location.reload()}},{key:"_getPageInfo",value:function(e){var t=this;return this._getWebPageInfo().catch((function(e){var n;null!=e&&null!==(n=e.message)&&void 0!==n&&n.includes("Network Error")?t.setState({errorType:K.c.NETWORK_ERROR}):t.setState({errorType:K.c.OTHER_ERROR}),t.setState({error:!0,loadState:2})})).finally((function(){var e,n;return t.setState({loading:!1,isRefreshing:!1}),Object(re.M)(null===(e=t.state)||void 0===e||null===(n=e.cmsData)||void 0===n?void 0:n.pageInfos,t.props.pageType),Promise.resolve()}))}},{key:"_pageDataHandle",value:function(){var e,t,n,r,o,i,a=this,l=this.state.cmsData;null!=l&&null!==(e=l.pageInfos)&&void 0!==e&&e.length&&(this.tabs=(null===(n=l.pageInfos[0])||void 0===n?void 0:n.tabInfos)||[],this.tabConfig=null===(r=l.pageInfos[0])||void 0===r||null===(o=r.cards)||void 0===o?void 0:o.map((function(e){if("sub_tab"===e.cardType)return a.cardId=e.cardId,e.configInfo})),this.headStyle=JSON.parse(l.pageInfos[0].headerStyle),this.pageType=null===(i=l.pageInfos[0])||void 0===i?void 0:i.pageType);(null===(t=this.tabs)||void 0===t?void 0:t.length)>0&&this.getPageInfoByTabWeb(0)}},{key:"render",value:function(){var e,t=this.state,n=t.isRefreshing,r=t.loading,o=t.pageId,a=t.cmsData,l=t.error,s=t.pageAlias;return!n&&r?this._loadingPage():"{}"!=JSON.stringify(this.state.bottomNavCard)?A.a.createElement(A.a.Fragment,null,j.a.isWap(fe.width)&&this.state.isshow&&!Object(ne.j)()?A.a.createElement(F.a,{type:5,appRouter:"vmall://com.vmall.client/home/activity",pageType:this.props.pageType}):A.a.createElement(A.a.Fragment,null),A.a.createElement(ce.a,i()({},this.props,{cardInfo:this.state.bottomNavCard,pageId:o,pageCatCode:this.pageCatCode,pageCatName:this.pageCatName}))):(o||s)&&a&&(null==a||null===(e=a.pageInfos)||void 0===e?void 0:e.length)&&!l&&this._loadPage()||this._loadErrorPage()}}]),n}(A.a.Component))||r;t.a=ge},function(e,t,n){"use strict";n.d(t,"a",(function(){return lt}));var r=n(15),o=n.n(r),i=n(55),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(0),v=n.n(y),b=n(32),w=n(54),S=n(43),C=n(48),O=n(2),P=n.n(O),T=n(1),x=n.n(T),I=n(58),k=n.n(I),E=n(446),j=n(37),R=n(40),L=n(119),_=n(102),D=n(185),N=n(3),W=n(34),A=n.n(W),B=n(952),M=n(152),F=n(11),H=n(20),z=n(21),U=n(25),V={clickItem:function(e,t,n){var r=this.props,o=r.pageCatCode,i=r.pageCatName,a=r.resSiteCode,l=r.resSiteName;return{data:{actionName:"排行榜分类点击更多埋点",actionCode:C.a.isApp()?"110000101":"210000101",eventType:"2",content:{comId:t+"",gotoPageId:"",gotoURL:e+"",ruleId:"",dataCode:"",dateType:"8",clickType:"1",sid:""},pageId:n+"",pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l}}}};var G=Object(D.a)(Object(z.a)(V)(Object(U.a)((function(e){var t=e._styles,n=e.title,r=e.subTitle,o=e.styleChange,i=e.theme,a=e.configInfo,l=e.wapLinkUrl,s=e.appLinkUrl,c=e.rankingId,u=e.clickItem,d=e.cardId,p=e.pageId,f=!0===a.rankTitle||"true"===a.rankTitle;return v.a.createElement(B.a,{underlayColor:"",onPress:function(){return function(e,t,n,r,o,i){var a;a=C.a.isApp()?e||"vmall://com.vmall.client/home/activity?targetRoute=productRank&rankingId=".concat(r):t||"".concat(F.a.webDomain,"portal/activity/index.html?targetRoute=productRank&rankingId=").concat(r);n(a,o,i),Object(N.A)(a)}(s,l,u,c,d,p)}},v.a.createElement(S.a,{style:t.cardHeader},v.a.createElement(M.a,{style:[t.cardHeaderTitle,!A()(o)&&(null==o?void 0:o.fontColor)&&{color:null==o?void 0:o.fontColor,opacity:1}],numberOfLines:1,ellipsizeMode:"tail"},f?n:""),v.a.createElement(S.a,{style:t.cardHeaderMoreWrap},v.a.createElement(M.a,{style:[t.cardHeaderMore,!A()(o)&&(null==o?void 0:o.fontColor)&&{color:null==o?void 0:o.fontColor,opacity:1}],numberOfLines:1,ellipsizeMode:"tail"},r),v.a.createElement(S.a,{style:{flexShrink:0}},v.a.createElement(H.a,{iconName:"Webarrow",width:"17",height:"19",normalCol:!A()(o)&&null!=o&&o.fontColor?null==o?void 0:o.fontColor:i.C11.color,opacity:!A()(o)&&null!=o&&o.fontColor?1:.9})))))})))),Y=n(17),J=n.n(Y),K=n(26),q=n.n(K),Q=n(126),$=n(24),X=n(231),Z=n(129),ee={exposeItem_product:function(e){var t,n=this.props||{},r=n.cardId,o=n.pageId,i=n.pageCatCode,a=n.pageCatName,l=n.resSiteCode,s=n.resSiteName;return t=[{comId:r+"",ruleId:"",sid:"",dateType:"8",dataCode:(e[0]||[]).map((function(e){return e.skuCode+""}))}],{isBatch:!0,commonData:{actionCode:C.a.isApp()?"110000101":"210000101",actionName:"排行榜分类组件曝光",eventType:"7",pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s},content:t,pageId:o+"",pageCatCode:i,pageCatName:a}},clickItem:function(e,t,n,r,o,i){var a,l=this.props||{},s=l.pageCatCode,c=l.pageCatName,u=l.resSiteCode,d=l.resSiteName;return{data:{actionName:"排行榜分类点击埋点",actionCode:C.a.isApp()?"110000101":"210000101",eventType:"2",content:{comId:n+"",gotoPageId:"",gotoURL:r+"",ruleId:"",sid:"",row:i+"",column:null===(a=t+1)||void 0===a?void 0:a.toString(),index:t+"",dataCode:e.skuCode+"",dateType:"8",clickType:"26"},pageId:o+"",pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d}}}},te=/^(http|https):\/\/([\w.]+\/?)\S*/i;function ne(e,t,n,r,o,i){return e?t&&n?"".concat(e).concat(t,"800_800_").concat(n):r?"".concat(r).concat(o,"428_428_").concat(i):o:"".concat(e).concat(t)}function re(){return(re=q()(J.a.mark((function e(t,n,r,o,i,a,l,s){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.p)(t,n);case 2:c=e.sent,a(r,o,i,c,l,s),Object(N.B)(t,n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=Object(D.a)(Object(z.a)(ee)(Object(U.a)((function(e){var t=e.rankProductDetail,n=e.number,r=e.style,o=e.productWidth,i=e.isWebpSupported,a=e.theme,l=e.configInfo,s=e.darkStyle,c=e.item,u=e.index,d=e.cardId,p=e.clickItem,f=e.pageId,h=e.receiveRef,g=void 0===h?function(){}:h,m=e.rowNumber,y=t.productId,b=t.skuCode,w=t.name,C=t.photoPath,O=t.photoName,P=void 0===O?"":O,T=t.photoPathMainWebp,x=t.photoNameMainWebp,I=!0===l.sortLabel||"true"===l.sortLabel,k="",E=te.test(T)?"":F.a.cmsCndProdPath,j=te.test(C)?"":F.a.cmsCndProdPath;return k=i?ne(E,T,x,j,C,P):P?function(e,t,n){return e?"".concat(e).concat(t,"428_428_").concat(n):t}(j,C,P):ne(E,T,x,j,C,P),v.a.createElement(S.a,{style:[Z.c.productItem,r],key:y,ref:g},v.a.createElement(Q.a,{onPress:function(){return function(e,t,n,r,o,i,a,l){return re.apply(this,arguments)}(y,b,c,u,d,p,f,m)}},I?v.a.createElement(X.a,{number:n}):null,v.a.createElement(S.a,{style:[Z.c.productImage,{width:o,height:o},s?Z.c.productImageDark:{backgroundColor:Object(N.f)("#E4E8ED",.4)}]},v.a.createElement($.a,{imgUri:k,resizeMode:"cover",imgStyle:{width:"100%",height:"100%"}}))),v.a.createElement(M.a,{style:[Z.c.productTitle,{width:o,color:a.C11.color,opacity:.9}],numberOfLines:1,ellipsizeMode:"tail"},w))}))));function ie(e){var t=e.productList,n=e.column,r=e.productSpacing,o=e.isWebpSupported,i=e.productWidth,a=e._styles,l=e.theme,s=e.configInfo,c=e.receiveRef,u=e.darkStyle,d=e.cardId,p=e.pageId,f=e.rowNumber,h=e.pageCatCode,g=e.pageCatName,m=e.resSiteCode,y=e.resSiteName;return v.a.createElement(S.a,{style:a.productList},t.slice(0,n).map((function(e,t){return v.a.createElement(oe,{item:e,rankProductDetail:e,number:t+1,isWebpSupported:o,productWidth:i,theme:l,_styles:a,darkStyle:u,configInfo:s,key:e.productId,receiveRef:c,style:{marginLeft:t%n!=0?r:0},index:t,cardId:d,pageId:p,rowNumber:f,pageCatCode:h,pageCatName:g,resSiteCode:m,resSiteName:y})})))}var ae=n(50),le=n(432);function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ce=function(e){p()(n,e);var t=se(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e,t,n,r=this.props,o=r.productRankDetail,i=r.column,a=r._styles,l=r.style,s=r.productSpacing,c=r.isWebpSupported,u=r.productWidth,d=r.theme,p=r.configInfo,f=r.styleChange,h=r.receiveProRef,g=r.receiveRef,m=r.crossDressingStyle,y=r.cardId,b=r.darkStyle,w=r.pageId,C=r.rowNumber,O=r.pageCatCode,P=r.pageCatName,T=r.resSiteCode,x=r.resSiteName,I=(null==m||null===(e=m.imgStyle)||void 0===e?void 0:e.backgroundColor)&&"transparent"!==(null==m||null===(t=m.imgStyle)||void 0===t?void 0:t.backgroundColor)||(null==m?void 0:m.bgImg)&&"transparent"==(null==m||null===(n=m.imgStyle)||void 0===n?void 0:n.backgroundColor),k=o.rankingId,E=o.rankingName,j=o.appLinkUrl,R=o.wapLinkUrl,L=o.linkDescription,_=o.productList;return v.a.createElement(ae.a,{imgViewStyle:[null==m?void 0:m.imgStyle,{borderRadius:16,overflow:"hidden"}],imgUri:null==m?void 0:m.bgImg,style:l},v.a.createElement(S.a,{style:[a.card,I?{backgroundColor:"transparent"}:null],key:k,ref:g},v.a.createElement(G,{title:E,subTitle:L||Object(le.b)("common_view_more"),_styles:a,theme:d,styleChange:f,wapLinkUrl:R,appLinkUrl:j,configInfo:p,rankingId:k,cardId:y,pageId:w,pageCatCode:O,pageCatName:P,resSiteCode:T,resSiteName:x}),v.a.createElement(ie,{productList:_,column:i,_styles:a,productSpacing:s,isWebpSupported:c,productWidth:u,theme:d,configInfo:p,receiveRef:h,darkStyle:b,cardId:y,pageId:w,rowNumber:C,pageCatCode:O,pageCatName:P,resSiteCode:T,resSiteName:x})))}}]),n}(v.a.PureComponent);x()(ce,"defaultProps",{receiveRef:function(){},receiveProRef:function(){}});var ue=ce;function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var pe=function(e){p()(n,e);var t=de(n);function n(e){var r;return s()(this,n),r=t.call(this,e),x()(P()(r),"_panResponder",void 0),x()(P()(r),"_panResponderApk",void 0),x()(P()(r),"itemlist",[]),x()(P()(r),"column",3),x()(P()(r),"isSmallHorizontal",(function(e,t){var n=r.props.pageType;return t=t||Object(N.x)(n).screenHeight,"small"===Object(R.a)(t)&&"small"!==Object(R.a)(e)})),x()(P()(r),"isPad",(function(e){return"medium"===Object(R.a)(e)||"large"===Object(R.a)(e)&&e<L.a.safety_area})),x()(P()(r),"isPadHorizontal",(function(e,t){var n=r.props.pageType;return!((t=t||Object(N.x)(n).screenHeight)>e)&&e>=1024})),x()(P()(r),"_receiveRef",(function(e,t){var n;e?(e.exposeObj=null==t||null===(n=t.productList)||void 0===n?void 0:n.slice(0,r.column),r.itemlist.push(e)):r.itemlist=[]})),x()(P()(r),"_receiveProRef",(function(e){})),r.state={isWebpSupported:Object(N.e)(),crossDressingStyle:null},r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.styleChange,n=e.width;Object(N.D)(t)||this.setState({crossDressingStyle:Object(N.i)(t,Object(R.a)(n))})}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=E.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=E.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageType,r=t.productRankList,i=t.configInfo,a=t.styleChange,l=t.darkStyle,s=t.cardId,c=t.pageId,u=t.pageCatCode,d=t.pageCatName,p=t.resSiteCode,f=t.resSiteName,h=this.state.crossDressingStyle,g=isNaN(Number(i.rowsPerScreen))?10:Number(i.rowsPerScreen);return v.a.createElement(_.b,{themeStyles:function(e){return Object(Z.a)(e,h)}},(function(t,m,y){y=Object(N.F)()?Object(N.x)().screenWidth:y,y=Math.floor(y)-1;var b,w=Object(R.a)(y),C=3,O=8,P=y-("small"===w?32:48);return"large"===w?null:("medium"===w?(C=5,e.column=5,e.isPad(y)&&e.isPadHorizontal(y)&&(O=12)):e.column=3,b=(P-(C-1)*O-24)/C,v.a.createElement(S.a,o()({},"web"===j.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,{style:[t.hotList,"small"===w?t.smallStyle:t.mediumStyle]}),k()(r,(function(e){var t;return Boolean(null==e||null===(t=e.productList)||void 0===t?void 0:t.length)})).slice(0,g).map((function(r,o){return v.a.createElement(ue,{productRankDetail:r,pageType:n,boxWidth:P,column:C,_styles:t,theme:m,number:o+1,productSpacing:O,style:{marginTop:0!==o?12:0},isWebpSupported:e.state.isWebpSupported,productWidth:b,configInfo:i,styleChange:a,key:r.rankingId,receiveRef:function(t){return e._receiveRef(t,r)},receiveProRef:e._receiveProRef,crossDressingStyle:h,cardId:s,pageId:c,rowNumber:o+1,darkStyle:l,pageCatCode:u,pageCatName:d,resSiteCode:p,resSiteName:f})}))))}))}}]),n}(v.a.PureComponent),fe=Object(D.a)(Object(z.a)(ee)(Object(U.a)(pe))),he=n(35),ge=n.n(he),me=n(80),ye=n.n(me),ve=n(92),be=n.n(ve),we=n(52),Se=n.n(we),Ce=n(39),Oe=n.n(Ce),Pe=n(87),Te=n(431),xe=n(51),Ie=n(30),ke=n(19),Ee=n(57);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(e){return{carouselWrapper:{height:254,width:"100%"},carouselContainer:{display:"flex",justifyContent:"flex-end",height:254,width:"100%",overflow:"hidden"},animatedContainer:{display:"flex",flexDirection:"row"},textWrapper:{bottom:0,textAlign:"center",display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%"},carouselScroll:{borderWidth:1,borderColor:"red",paddingTop:150},productWrapperText:{position:"relative",display:"flex",flexDirection:"column"},productText:Re(Re({textAlign:"center"},e.T8),{},{opacity:.9,fontWeight:"500",marginTop:16}),productSubTextContainer:{borderWidth:1,borderColor:"transparent",display:"flex",alignItems:"center",paddingBottom:24,height:56},productSubTextWrapper:{width:"auto",borderRadius:12,height:24,lineHeight:24,top:8,opacity:.6,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},productBgWrapper:{width:"100%",height:24,position:"absolute",opacity:.2,borderRadius:12,zIndex:-8},productSubText:Re(Re({},e.T1),{},{width:"auto",height:24,lineHeight:24,textAlign:"center",paddingLeft:8,paddingRight:16,marginRight:4}),arrowIcon:{position:"absolute",bottom:0,right:8,color:"#D7BA95",height:23,opacity:.6},bigImgBackCls:{height:260,position:"absolute",width:"100%",zIndex:-10},leftImgBackCls:{height:70,position:"absolute",top:158,zIndex:-8,opacity:1,width:86},middleImgaBackCls:{height:90,position:"absolute",top:142,zIndex:-6,opacity:1,width:160}}},_e=function(e){var t=Le(e);return Ee.a.create(Re({},t))},De=function(e){var t=Le(e);return Ee.a.create(Re({},t))},Ne=function(e){var t=Le(e);return Ee.a.create(Re({},t))},We=function(e,t,n,r,o,i){return e?o&&n?"".concat(e).concat(o,"800_800_").concat(n):r?"".concat(r).concat(o,"428_428_").concat(i):o:"".concat(e).concat(t)},Ae=/^(http|https):\/\/([\w.]+\/?)\S*/,Be={exposeItem_product:function(e){var t=this.props||{},n=t.cardId,r=t.pageId,o=t.pageCatCode,i=t.pageCatName,a=t.resSiteCode,l=t.resSiteName;return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"单品轮播排行榜组件曝光",eventType:"7",pageId:r,pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l},content:[{comId:n+"",ruleId:"",sid:"",dataCode:"",dateType:"8"}]}},clickItem:function(e,t,n){var r=this.props||{},o=r.cardId,i=r.pageId,a=r.pageCatCode,l=r.pageCatName,s=r.resSiteCode,c=r.resSiteName,u={comId:o+"",gotoPageId:"",gotoURL:n+"",ruleId:"",sid:"",dataCode:e,dateType:"8",clickType:"26",row:"",column:"",index:t+""};return{data:{actionName:"排行榜轮播点击埋点",actionCode:C.a.isApp()?"110000101":"210000101",eventType:"2",content:u,pageId:i+"",pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}}};function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ze=function(e){p()(n,e);var t=He(n);function n(e){var r;return s()(this,n),r=t.call(this,e),x()(P()(r),"isHorizontalScreen",void 0),x()(P()(r),"isPadVerticalScreen",void 0),x()(P()(r),"isPadHorizontalScreen",void 0),x()(P()(r),"layoutWidth",void 0),x()(P()(r),"_panResponder",void 0),x()(P()(r),"paddingDistance",void 0),x()(P()(r),"carouselTimer",void 0),x()(P()(r),"carouselScroller",void 0),x()(P()(r),"productItemSize",void 0),x()(P()(r),"activePage",void 0),x()(P()(r),"carouselNum",void 0),x()(P()(r),"itemlist",[]),x()(P()(r),"animateFinished",void 0),x()(P()(r),"moveTotalDistance",void 0),x()(P()(r),"direction",void 0),x()(P()(r),"concatProductList",[]),x()(P()(r),"itemWidth",void 0),x()(P()(r),"_receiveRef",(function(e){e?r.itemlist.push(e):r.itemlist=[]})),x()(P()(r),"getDrawCardWapStyles",(function(e){var t={};r.isPadHorizontalScreen&&(t=_e),r.isPadVerticalScreen&&(t=De),Object(N.a)(e)&&(t=Ne),r.setState({DrawCardWapStyles:t})})),x()(P()(r),"initLayoutWidth",(function(e){var t="medium"===Object(R.a)(e);r.productItemSize=(e-120)/2,r.layoutWidth!==e&&(r.isHorizontalScreen=r.layoutWidth<e&&e>=1024,r.carouselScroller&&clearTimeout(r.carouselScroller),r.activePage=2,r.setState({activeIndex:2},(function(){r.initAnimate()}))),r.layoutWidth=e,r.itemWidth=(r.layoutWidth-120)/2,r.state.viewsBgWidth.setValue((r.layoutWidth-160)/2),r.isPadHorizontalScreen=r.isHorizontalScreen&&t,r.isPadVerticalScreen=!r.isHorizontalScreen&&t,r.getDrawCardWapStyles(e)})),x()(P()(r),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),x()(P()(r),"handleAppStateChange",(function(e){"web"===j.a.OS&&("active"===e&&(r.setinterValCarousel(),r.carouselNum<3&&r.carouselScroller&&clearTimeout(r.carouselScroller)),"background"===e&&r.carouselScroller&&clearTimeout(r.carouselScroller))})),x()(P()(r),"initAnimate",(function(){var e=r.props.productRankList,t=r.handleProductListData(e)||[];Pe.a.timing(r.state.marginLeftValue,{toValue:0,duration:1,useNativeDriver:!1}).start(),Pe.a.timing(r.state.marginLeftNextValue,{toValue:(r.itemWidth-80)/2,duration:1,useNativeDriver:!1}).start(),Pe.a.timing(r.state.viewsScaleWidth,{toValue:120,duration:1,useNativeDriver:!1}).start(),Pe.a.timing(r.state.viewsScaleNextWidth,{toValue:80,duration:1,useNativeDriver:!1}).start(),Oe()(t)>2&&(Pe.a.timing(r.state.moveDistance,{toValue:-r.productItemSize,duration:1,useNativeDriver:!1}).start(),r.setinterValCarousel()),setTimeout((function(){r.setState({didMountFinish:!0})}),1)})),x()(P()(r),"setinterValCarousel",(function(){r.carouselScroller&&clearTimeout(r.carouselScroller),r.carouselScroller=setTimeout((function(){return r.stateHandle()}),3e3)})),x()(P()(r),"stateHandle",(function(){r.activePage=r.activePage+1,r.moveTotalDistance=-r.activePage*r.productItemSize,r.direction="TOLEFT",r.setState({activeIndex:r.activePage},(function(){r.state.viewsScale.setValue(1),r.state.viewsScaleNext.setValue(1),r.state.viewsScaleWidth.setValue(80),r.state.viewsScaleNextWidth.setValue(120),r.state.nextTranslateY.setValue(-16),r.state.translateY.setValue(0),r.state.marginLeftValue.setValue((r.itemWidth-80)/2),r.state.marginLeftNextValue.setValue(0),r.state.viewsBgWidth.setValue((r.layoutWidth-160)/2),r.state.viewsBgNextWidth.setValue(160),r.moveTotalDistance=r.state.moveDistance._value-r.productItemSize,r.handleAnimation(r.moveTotalDistance)})),r.setinterValCarousel()})),x()(P()(r),"handleAnimation",(function(e){r.animateFinished=!1,Pe.a.timing(r.state.moveDistance,{toValue:e,duration:200,useNativeDriver:!1}).start((function(){if(r.activePage===r.carouselNum+2&&"TOLEFT"===r.direction&&(r.activePage=2,r.state.moveDistance.setValue(1*-r.productItemSize),r.setState({activeIndex:r.activePage})),1===r.activePage&&"TORIGHT"===r.direction){r.activePage=2+r.carouselNum-1;var e=r.productItemSize*r.carouselNum;r.state.moveDistance.setValue(-e),r.direction="TOLEFT",r.setState({activeIndex:r.activePage})}r.animateFinished=!0})),Pe.a.timing(r.state.viewsScale,{toValue:r.productItemSize/120,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.viewsScaleNext,{toValue:120/r.productItemSize,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.viewsScaleWidth,{toValue:120,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.viewsScaleNextWidth,{toValue:80,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.translateY,{toValue:-16,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.nextTranslateY,{toValue:0,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.marginLeftValue,{toValue:0,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.marginLeftNextValue,{toValue:(r.itemWidth-80)/2,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.viewsBgWidth,{toValue:160,duration:150,useNativeDriver:!1}).start((function(){})),Pe.a.timing(r.state.viewsBgNextWidth,{toValue:(r.layoutWidth-160)/2,duration:150,useNativeDriver:!1}).start((function(){}))})),x()(P()(r),"setIndexWidthCls",(function(e,t){var n,o=r.state.activeIndex,i=(r.layoutWidth-120)/2;if(t===o)n={container:{width:r.state.viewsScaleWidth,height:r.state.viewsScaleWidth,display:"flex",justifyContent:"flex-end",alignItems:"center",top:r.state.translateY,marginLeft:r.state.marginLeftValue,marginRight:r.state.marginLeftValue},imgCls:{width:r.state.viewsScaleWidth,height:r.state.viewsScaleWidth},bgImgCls:{width:r.state.viewsBgWidth,height:r.state.viewsBgWidth}};else{var a="TORIGHT"===r.direction?o+1:o-1;n={container:{width:t===a?r.state.viewsScaleNextWidth:new Pe.a.Value(80),height:t===a?r.state.viewsScaleNextWidth:new Pe.a.Value(80),display:"flex",justifyContent:"flex-end",alignItems:"center",marginLeft:t===a?r.state.marginLeftNextValue:new Pe.a.Value((i-80)/2),marginRight:t===a?r.state.marginLeftNextValue:new Pe.a.Value((i-80)/2),top:t===a?r.state.nextTranslateY:new Pe.a.Value(0)},imgCls:{width:t===a?r.state.viewsScaleNextWidth:new Pe.a.Value(80),height:t===a?r.state.viewsScaleNextWidth:new Pe.a.Value(80)},bgImgCls:{width:t===a?r.state.viewsBgNextWidth:new Pe.a.Value((r.layoutWidth-160)/2),height:t===a?r.state.viewsBgNextWidth:new Pe.a.Value((r.layoutWidth-160)/2)}}}return n})),x()(P()(r),"handleProductListData",(function(e){var t=Se()(e.slice(0,5),(function(e){return Fe(Fe({},be()(e.productList)),{},{rankingId:e.rankingId,appLinkUrl:e.appLinkUrl,wapLinkUrl:e.wapLinkUrl,rankingName:e.rankingName})}));r.carouselNum=Oe()(t);var n=[];return r.carouselNum>=3?n=[ye()(t,-2),ye()(t,-1)].concat(ge()(t),[ye()(t,0),ye()(t,1)]):(1===r.carouselNum&&(n=[{}].concat(ge()(t)),r.setState({activeIndex:1})),2===r.carouselNum&&(n=[ye()(t,0),ye()(t,1)],r.state.moveDistance.setValue(1*r.productItemSize),r.setState({activeIndex:0}))),r.concatProductList=n,n})),x()(P()(r),"goDetailPage",(function(e){var t=r.concatProductList[e].rankingId,n=r.props.env,o=r.state.activeIndex,i=(r.concatProductList[o]||{}).skuCode,a="";a=C.a.isApp()?"vmall://com.vmall.client/home/activity?targetRoute=productRank&rankingId=".concat(t):"".concat(n.webDomain,"portal/activity/index.html?targetRoute=productRank&rankingId=").concat(t),r.props.clickItem(i,o,a),Object(N.A)(a)})),x()(P()(r),"getRankingName",(function(){var e=r.state.activeIndex,t=r.concatProductList[e]||{},n=t.rankingName,o=void 0===n?"":n,i=t.name;return{rankingName:o,name:void 0===i?"":i}})),x()(P()(r),"getImgUri",(function(e){var t=e.photoPath,n=e.photoName,o=void 0===n?"":n,i=e.photoPathMainWebp,a=e.photoNameMainWebp,l=r.props.env,s=Object(N.e)(),c=Ae.test(i)?"":l.cmsCndProdPath,u=Ae.test(t)?"":l.cmsCndProdPath;return s?We(c,i,a,u,t,o):o?function(e,t,n){return e?"".concat(e).concat(t,"428_428_").concat(n):t}(u,t,o):We(c,i,a,u,t,o)})),r.state={DrawCardWapStyles:Le,activeIndex:2,moveDistance:new Pe.a.Value(0),viewsScale:new Pe.a.Value(1),viewsScaleWidth:new Pe.a.Value(80),viewsScaleNextWidth:new Pe.a.Value(120),viewsScaleNext:new Pe.a.Value(1),nextTranslateY:new Pe.a.Value(0),translateY:new Pe.a.Value(-16),marginLeftValue:new Pe.a.Value(0),marginLeftNextValue:new Pe.a.Value(0),viewsBgWidth:new Pe.a.Value(0),viewsBgNextWidth:new Pe.a.Value(160),crossDressingStyle:null,didMountFinish:!1},r.isHorizontalScreen=w.a.get("window").width-w.a.get("window").height>0&&w.a.get("window").width>=1024,r.layoutWidth=w.a.get("window").width,r.activePage=2,r.carouselNum=5,r.animateFinished=!0,r.moveTotalDistance=0,r.direction="TOLEFT",r}return u()(n,[{key:"exposeItem",value:function(e){}},{key:"scrollBeginDrag",value:function(){this.carouselScroller&&clearTimeout(this.carouselScroller)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.styleChange,n=e.width;Object(N.D)(t)||this.setState({crossDressingStyle:Object(N.i)(t,Object(R.a)(n))}),this.initAnimate(),Te.a.addEventListener("change",this.handleAppStateChange)}},{key:"componentWillMount",value:function(){var e=this;this._panResponder=E.a.create({onStartShouldSetPanResponder:function(e,t){return Math.abs(t.dx)>Math.abs(t.dy)},onStartShouldSetPanResponderCapture:function(e,t){return!0},onMoveShouldSetPanResponder:function(e,t){return Math.abs(t.dx)>Math.abs(t.dy)},onMoveShouldSetPanResponderCapture:function(e,t){return Math.abs(t.dx)>=Math.abs(t.dy)},onPanResponderStart:function(){},onPanResponderGrant:function(){},onPanResponderMove:function(){},onPanResponderRelease:function(t,n){var r=e.state.activeIndex,o=n.dx,i=n.x0,a=r;if(o<1&&o>-1)return i<e.productItemSize&&(a=r-1),i>e.productItemSize+120&&(a=r+1),void e.goDetailPage(a);e.carouselNum<3||e.animateFinished&&(e.carouselScroller&&clearTimeout(e.carouselScroller),n.dx>=0?(e.direction="TORIGHT",e.activePage=e.activePage-1,e.moveTotalDistance=e.state.moveDistance._value+e.productItemSize):(e.direction="TOLEFT",e.activePage=e.activePage+1,e.moveTotalDistance=e.state.moveDistance._value-e.productItemSize),e.setState({activeIndex:e.activePage},(function(){e.state.viewsScale.setValue(1),e.state.viewsScaleNext.setValue(1),e.state.viewsScaleWidth.setValue(80),e.state.viewsScaleNextWidth.setValue(120),e.state.nextTranslateY.setValue(-16),e.state.translateY.setValue(0),e.state.marginLeftValue.setValue((e.itemWidth-80)/2),e.state.marginLeftNextValue.setValue(0),e.state.viewsBgWidth.setValue((e.layoutWidth-160)/2),e.state.viewsBgNextWidth.setValue(160),e.handleAnimation(e.moveTotalDistance),e.setinterValCarousel()})),e.carouselScroller&&clearTimeout(e.carouselScroller))},onPanResponderTerminate:function(e,t){},onShouldBlockNativeResponder:function(e,t){return!0}})}},{key:"componentWillUnmount",value:function(){this.carouselScroller&&clearTimeout(this.carouselScroller)}},{key:"render",value:function(){var e,t,n,r=this,i=this.state,a=i.crossDressingStyle,l=i.activeIndex,s=i.didMountFinish,c=this.props,u=c.configInfo,d=c.productRankList,p=a||{},f=p.bgImg,h=void 0===f?"":f,g=p.textStyle,m=this.handleProductListData(d),y=this.getRankingName(),b=y.rankingName,w=y.name,C=u||{},O=C.rankTitle,P=C.bgColor,T=void 0===P?"":P,x=(null==a?void 0:a.bgImg)||T,I=isNaN(this.state.moveDistance._value)?{}:{transform:[{translateX:this.state.moveDistance}]},k=Ie.a.darkBool?"#FFFFFF":"#D7BA95",E=(this.isApkOrIos(),(this.itemWidth-80)/2||0),L=2*E+120,D="medium"===Object(R.a)(this.layoutWidth),W="web"===j.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"))&&(Object(N.a)(this.layoutWidth)||D);return Oe()(this.concatProductList)>0?v.a.createElement(_.b,{themeStyles:this.state.DrawCardWapStyles},(function(e,t,n){var i;return r.initLayoutWidth(n),v.a.createElement(S.a,{style:[e.carouselWrapper]},v.a.createElement(ae.a,{resizeMode:"stretch",imgUri:h||T,imgViewStyle:[null!=a&&null!==(i=a.imgStyle)&&void 0!==i&&i.backgroundColor?null==a?void 0:a.imgStyle:{backgroundColor:t.C33.color}]},v.a.createElement(S.a,{style:[e.carouselContainer,{backgroundColor:x?"":"#000"}],ref:function(e){return r._receiveRef(e)}},v.a.createElement(ae.a,{style:[e.bigImgBackCls],resizeMode:"stretch",localSource:x?"":D?ke.a.carouselPadBg:ke.a.carouselAppBg}),v.a.createElement(ae.a,{style:[e.leftImgBackCls,{left:r.itemWidth/2-43}],resizeMode:"stretch",localSource:x?"":ke.a.carouselStageLeft}),v.a.createElement(ae.a,{style:[e.middleImgaBackCls,{left:(r.layoutWidth-160)/2}],resizeMode:"stretch",localSource:x?"":ke.a.carouselStageMiddle}),v.a.createElement(ae.a,{style:[e.leftImgBackCls,{left:r.layoutWidth-r.itemWidth/2-43}],resizeMode:"stretch",localSource:x?"":ke.a.carouselStageLeft}),v.a.createElement(Pe.a.View,{style:[I,e.animatedContainer,{width:r.productItemSize*(Oe()(m)-1)+120}]},s&&r.concatProductList.map((function(t,n){var i=r.setIndexWidthCls(e,n),a=t.productId&&xe.l||"",l=r.getImgUri(t);return v.a.createElement(Pe.a.View,{style:{display:"flex",justifyContent:"flex-end"}},v.a.createElement(Pe.a.View,o()({style:[i.container]},r._panResponder.panHandlers),v.a.createElement(Pe.a.Image,{source:l?{uri:l}:a,style:[i.imgCls]})))}))),v.a.createElement(S.a,{style:[e.textWrapper,{maxWidth:L,left:E+80}]},v.a.createElement(S.a,{style:[e.productWrapperText]},v.a.createElement(M.a,{style:[e.productText,{color:(null==g?void 0:g.color)||k,maxWidth:L}],numberOfLines:1},w),Oe()(m)>0&&"true"==O?v.a.createElement(Q.a,{style:[e.productSubTextContainer],activeOpacity:1,onPress:function(){return r.goDetailPage(l)}},v.a.createElement(S.a,{style:[e.productSubTextWrapper]},v.a.createElement(S.a,{style:[e.productBgWrapper,{backgroundColor:(null==g?void 0:g.color)||k}]}),v.a.createElement(M.a,{style:[e.productSubText,{color:(null==g?void 0:g.color)||k,maxWidth:L,lineHeight:W?28:24}],numberOfLines:1},"入选",b),v.a.createElement(S.a,{style:[e.arrowIcon]},v.a.createElement(H.a,{normalCol:(null==g?void 0:g.color)||k,iconName:"Webarrow",width:10,height:24})))):v.a.createElement(S.a,{style:{height:56}}))))))})):null}}]),n}(y.PureComponent),Ue=Object(D.a)(Object(z.a)(Be)(Object(U.a)(ze))),Ve=n(220),Ge=n(16),Ye=n(1018),Je=n(78),Ke=n(165);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e,Xe={exposeItem_product:function(e){var t=this,n=this.props||{},r=n.cardId,o=(n.pageId,n.pageCatCode),i=n.pageCatName,a=[],l={};return null==e||e.map((function(e,n){var o;a.push({comId:r+"",ruleId:"",sid:"",dateType:"8",dataCode:e.skuCode,index:null===(o=e.index)||void 0===o?void 0:o.toString()}),l={actionCode:C.a.isApp()?"110000101":"210000101",actionName:"排行榜商品组件曝光",eventType:"7",pageId:t.props.pageId+"",pageCatCode:t.props.pageCatCode||"",pageCatName:t.props.pageCatName||"",resSiteCode:t.props.resSiteCode||"",resSiteName:t.props.resSiteName||""}})),{isBatch:!0,commonData:l,content:a,pageCatCode:o,pageCatName:i}},clickItem:function(e,t,n,r){var o,i=this.props||{},a=i.cardId,l=i.pageId,s=i.pageCatCode,c=i.pageCatName,u={comId:a+"",gotoPageId:"",gotoURL:n+"",ruleId:"",sid:"",dataCode:r?"":e.skuCode+"",dateType:"8",clickType:r?"1":"26"},d={row:null===(o=t+1)||void 0===o?void 0:o.toString(),column:"1",index:t+""};return{data:{actionName:r?"排行榜商品点击更多埋点":"排行榜商品点击埋点",actionCode:C.a.isApp()?"110000101":"210000101",eventType:"2",content:r?u:Qe(Qe({},u),d),pageId:l+"",pageCatCode:s,pageCatName:c,resSiteCode:e.resSiteCode,resSiteName:e.resSiteName}}}},Ze=n(81);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var rt,ot=Object(b.c)($e=function(e){p()(n,e);var t=nt(n);function n(e){var r;return s()(this,n),r=t.call(this,e),x()(P()(r),"configData",{prodTagShow:!0,outOfStockTagShow:!0,promotionTagShow:!0,mutiTagTagShow:!1,promotionShow:!0,prodSellPoint:!1,originPriceShow:!0,buyIconShow:!0,commentCountShow:!0,prdNameNum:2,isRankings:!0,prdImgProportion:1,activeOpacity:1}),x()(P()(r),"goToPageTimer",void 0),x()(P()(r),"itemlist",[]),x()(P()(r),"isApp",(function(){return"small"===Object(R.a)(r.state.width)})),x()(P()(r),"isPad",(function(){return"medium"===Object(R.a)(r.state.width)})),x()(P()(r),"isPadHorizontal",(function(){var e=r.state.width,t=r.state.height;return!!(r.isPad()&&t<=e)})),x()(P()(r),"_receiveRef",(function(e,t){e?(e.exposeObj=t,r.itemlist.push(e)):r.itemlist=[]})),x()(P()(r),"onPressPage",(function(){var e,t,n=(r.props.productRankList[0]||{}).rankingId,o=(null===(e=r.props)||void 0===e?void 0:e.configInfo)||{},i=o.moreActionApkUrl,a=o.moreActionWapUrl;t=C.a.isApp()?i||"vmall://com.vmall.client/home/activity?targetRoute=productRank&rankingId=".concat(n):a||"".concat(F.a.webDomain,"portal/activity/index.html?targetRoute=productRank&rankingId=").concat(n);var l={pageCatCode:r.props.pageCatCode,pageCatName:r.props.pageCatName,resSiteCode:r.props.resSiteCode,resSiteName:r.props.resSiteName};r.props.clickItem(l,null,t,!0),Object(N.A)(t)})),x()(P()(r),"onClickSinglePrd",function(){var e=q()(J.a.mark((function e(t,n){var o;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.p)(t.productId,t.skuCode);case 2:o=e.sent,r.props.clickItem(tt(tt({},t),{},{pageCatCode:r.props.pageCatCode,pageCatName:r.props.pageCatName,resSiteCode:r.props.resSiteCode,resSiteName:r.props.resSiteName}),n,o,!1),r.goToPageTimer=setTimeout((function(){Object(N.B)(t.productId,t.skuCode)}),150);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),x()(P()(r),"renderHotSalesIndex",(function(e,t,n){return n&&e?v.a.createElement(S.a,{style:t.rankingChildView},v.a.createElement(S.a,{style:t.rankingBox},v.a.createElement(Ye.a,{source:ke.a.HotSale_fire,style:t.rankingTextSize})),v.a.createElement(M.a,{style:t.rankingTextStyle,numberOfLines:1,ellipsizeMode:"tail"},r.getHotSaleValue(e))):null})),x()(P()(r),"getHotSaleValue",(function(e){return e?1==Math.ceil(e)?Object(le.b)("hot_sale_index.one").replace("%1$d",String(e)):Object(le.b)("hot_sale_index.other").replace("%1$d",String(e)):null})),x()(P()(r),"getImgUrl",(function(e){var t=e||{},n=t.imgNormal,r=t.imgDarkMode;return Ie.a.darkBool?F.a.cmsCdnPath+r:F.a.cmsCdnPath+n})),x()(P()(r),"isChangeStyle",(function(e){var t,n;return(null==e?void 0:e.bgImg)||(null==e||null===(t=e.imgStyle)||void 0===t?void 0:t.backgroundColor)&&"transparent"!==(null==e||null===(n=e.imgStyle)||void 0===n?void 0:n.backgroundColor)})),x()(P()(r),"renderProductList",(function(e,t,n,o,i){var a=!0===t.sortLabel||"true"===t.sortLabel,l=!0===t.buyIconShow||"true"===t.buyIconShow,s=!0===t.rankPromWord||"true"===t.rankPromWord,c=!0===t.promotionShow||"true"===t.promotionShow,u=!0===t.promotionTagShow||"true"===t.promotionTagShow,d=r.props.productRankList[0]||{},p=d.productList,f=d.pageCatCode,h=d.pageCatName,g=d.resSiteCode,m=d.resSiteName,y=P()(r).configData,b=null==p?void 0:p.length,w=Number(n),O=r.isChangeStyle(o)?{marginHorizontal:8,marginBottom:8}:null;return null==p?void 0:p.slice(0,w).map((function(t,n){var o,d={skuCode:t.skuCode,index:n};return o=C.a.isApp()?t.photoPathMainWebp:t.photoPath,t.imgUrl=o,t.promotionRules=t.promoLabels,t.promotionInfo=t.promotionInfo,t.prdName=t.briefName,t.originPrice=t.price,t.salePrice=void 0!==t.promoPrice?t.promoPrice:t.price,t.salePrice=t.salePrice,t.reviewCount=t.rateCount,t.goodReviewRate=t.goodRate,t.wapurl=t.skuCode?F.a.wapDomain+"product/ord-"+t.skuCode+".html":F.a.wapDomain+"product/"+t.productId+".html",t.weburl=F.a.webDomain+"product/"+t.productId+".html",t.isInv=t.isInv,t.btnType=2,t.index=n,t.priceMode=t.priceMode,y.isPadHorizontal=r.isPadHorizontal(),y.imgWrapWidth=y.isPadHorizontal?140:122,y.imgWidth=y.isPadHorizontal?140:122,y.buyIconShow=l,y.promotionShow=c,y.promotionTagShow=u,v.a.createElement(S.a,{style:[{paddingBottom:n+1===b?8:0},O]},v.a.createElement(Je.a,{data:t,config:y,type:"activity",structure:"l2r",onClick:function(){return r.onClickSinglePrd(t,n)},customPrdStyles:i?Ke.c:Ke.d,receiveRef:function(e){return r._receiveRef(e,d)},pageCatCode:f,pageCatName:h,resSiteCode:g,resSiteName:m},a?v.a.createElement(X.a,{number:n+1,originStyle:Ke.b}):null,r.renderHotSalesIndex(null==t?void 0:t.commodityIndex,e,s)))}))})),r.state={crossDressingStyle:null,width:Object(N.x)(r.props.pageType).screenWidth,height:Object(N.x)(r.props.pageType).screenHeight},r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.styleChange,n=e.width;Object(N.D)(t)||this.setState({crossDressingStyle:Object(N.i)(t,Object(R.a)(n))})}},{key:"componentWillUnmount",value:function(){this.goToPageTimer&&clearTimeout(this.goToPageTimer)}},{key:"render",value:function(){var e,t=this,n=(this.props.productRankList[0]||{}).productList,r=this.props,o=r.darkStyle,i=r.styleChange,a=r.configInfo,l=r.pageType,s=(r.boxWidth,this.state.crossDressingStyle),c=this.isChangeStyle(s)?8:12,u=(this.props.productRankList[0]||{}).rankingId,d=a||{},p=d.cardTitle,f=d.moreTitle,h=d.rowsPerScreen,g=d.more,m=d.showSetting,y=d.moreActionApkUrl,b=d.moreActionWapUrl,O=d.imgNormal,P=d.imgDarkMode,T=d.bgBox,x=d.titleShow,I=F.a.cmsCdnPath+O,k=F.a.cmsCdnPath+P;if(e=C.a.isApp()?y||"vmall://com.vmall.client/home/activity?targetRoute=productRank&rankingId=".concat(u):b||"".concat(F.a.webDomain,"portal/activity/index.html?targetRoute=productRank&rankingId=").concat(u),C.a.isPc(w.a.get("window").width))return null;var E=f||Object(le.b)("notice_more"),j="true"===x,R=Number(h),L=(n.slice(0,R),!A()(i)&&"true"==T&&Ie.a.darkBool),D="2"==g,N="true"==x;return v.a.createElement(_.b,{themeStyles:function(e){return Object(Ke.e)(e,s)}},(function(n,r,u){return v.a.createElement(S.a,{style:[n.card,t.isApp()?n.smallStyle:n.mediumStyle,{borderRadius:16}]},v.a.createElement(ae.a,{imgViewStyle:[null==s?void 0:s.imgStyle],imgUri:null==s?void 0:s.bgImg},v.a.createElement(S.a,{style:[n.cardHeader,{justifyContent:"space-between"},s?{backgroundColor:"transparent"}:null]},v.a.createElement(Ze.a,{title:p,imgNormal:I,imgDarkMode:k,moreUrl:e,styleChange:i,subTitle:E,isDisplayTitleBar:j,hasCrossDressing:L,showSetting:m,isDisplayMore:D,showTitle:N,hasMargin:!0,pageType:l,isFromRank:!0,onClickMore:t.onPressPage,isRankPaddingStyle:c})),v.a.createElement(S.a,{style:{backgroundColor:"rgba(0,0,0,0)"}},t.renderProductList(n,a,h,s,o))))}))}}]),n}(v.a.PureComponent))||$e,it=Object(D.a)(Object(z.a)(Xe)(Object(U.a)(ot)));function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var lt=Object(b.c)(rt=function(e){p()(n,e);var t=at(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e;if(C.a.isPc(w.a.get("window").width))return null;var t=this.props,n=t.dataSourceList,r=t.pageType,i=t.configInfo,l=a()(n,1)[0],s=Object(Ge.n)(null===(e=Ve.a.pageData[null==l?void 0:l.dataSourceCode])||void 0===e?void 0:e.productRankList);if(!s){var c="homePage"===r?-8:-12;return v.a.createElement(S.a,{style:{marginTop:c}})}return"Classified"===i.layoutType?v.a.createElement(fe,o()({productRankList:s},this.props,{darkStyle:Ie.a.darkBool})):"Scroll"===i.layoutType?v.a.createElement(Ue,o()({productRankList:s},this.props)):"RankListProduct"===i.layoutType?v.a.createElement(it,o()({productRankList:s},this.props,{darkStyle:Ie.a.darkBool})):null}}]),n}(v.a.Component))||rt},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(15),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(34),P=n.n(O),T=n(0),x=n.n(T),I=n(54),k=n(37),E=n(43),j=n(270),R=n(126),L=n(152),_=n(157),D=n(1018),N=n(49),W=n(40),A=n(119),B=n(433),M=n(432),F=n(1735),H=n(48),z=n(102),U=n(57),V=n(53),G=n(122);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K,q={fontFamily:V.a.fontFamilyBase},Q={fontFamily:V.a.fontFamilyMedium},$={fontFamily:V.a.fontFamilyMedium,fontWeight:"bold"},X=function(e,t){return t&&(e=G.a),U.a.create({imgNormal:{width:"100%",height:"100%"},prdCont:J({paddingTop:16,paddingLeft:12,paddingRight:12,paddingBottom:16,flex:1},q),prdContPc:{paddingTop:10,paddingBottom:19,paddingLeft:24,paddingRight:24},prdName:J(J(J({},e.T8),e.C12),{},{lineHeight:19,justifyContent:"center",fontWeight:"bold"},Q),promName:J(J(J({},e.T3),e.C14),{},{lineHeight:16,marginTop:4}),progressArea:{marginTop:8,flexDirection:"row",alignItems:"center",overflow:"hidden"},progressBarWrap:{width:126,height:6,borderRadius:3.5,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity],overflow:"hidden"},progressBar:{width:126,height:6,borderRadius:3.5},progressVal:J(J(J({},e.C18),e.T2),{},{marginLeft:12,lineHeight:12},$),progressValEnd:J({},e.C14),surpportedAndStatusArea:{flexDirection:"row",alignItems:"center",marginTop:8,height:14,lineHeight:12},surpportedAndStatusAreaPadH:{marginTop:12},surpportedAndStatusAreaPc:{marginTop:13},seperateLine:J({width:1,height:8,alignItems:"center",marginTop:H.a.isApp()?2:0,marginHorizontal:4,backgroundColor:e.C14.color+e.opacityMap[e.C14.opacity]},e.T1),surpportedQty:J(J({},e.T1),{},{color:e.C13.color+e.opacityMap[e.C13.opacity]}),status:J({color:e.C13.color+e.opacityMap[e.C13.opacity]},e.T1),priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",paddingTop:1,paddingBottom:1,height:21,marginTop:6},priceBoxPc:{justifyContent:"center",marginTop:10},priceMark:J(J({marginRight:3,color:e.C18.color},e.T4),$),priceMarkPc:{marginRight:0,color:e.C18.color,fontSize:e.T7.fontSize,fontWeight:"400"},newPrice:J(J({},e.C18),{},{fontSize:e.T10.fontSize},$),newPricePc:{fontWeight:"400"},newPriceApkOrIos:{overflow:"visible"},itemHover:J({},e.S42)})},Z=n(660);!function(e){e[e.underway=1]="underway",e[e.notStarted=2]="notStarted",e[e.ended=3]="ended"}(K||(K={}));var ee=n(64),te=n.n(ee),ne=n(45),re=n.n(ne),oe=n(24),ie=n(51),ae=n(42),le=n(430);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){var e=this;return{isPc:function(){return"large"===Object(W.a)(e.props.width)},isPad:function(){return"medium"===Object(W.a)(e.props.width)},isApp:function(){return"small"===Object(W.a)(e.props.width)},isApkOrIos:function(){return"android"===k.a.OS||"ios"===k.a.OS},isMp:function(){return"wechat"===Object({NODE_ENV:"production",ENV_CONFIG:"prod",SET_PAGE:"webpack.prod.config.js"}).REMAX_PLATFORM||"ali"===Object({NODE_ENV:"production",ENV_CONFIG:"prod",SET_PAGE:"webpack.prod.config.js"}).REMAX_PLATFORM},prodRef:function(t){"function"==typeof e.props.receiveRef&&e.props.receiveRef(t),"web"===k.a.OS&&(e.prodRefDom=te.a.findDOMNode(t)||null,e.prodRefDom&&"function"==typeof e.props.onClick&&(e.prodRefDom.onclick=e.props.onClick))},handlePress:function(t){var n=e.props.onClick;n&&("web"!==k.a.OS?n():t.nativeEvent.stopImmediatePropagation())},handleImgSize:function(){var t=e.props,n=t.config,r=t.iWidth,o=e.BaseJs,i=n.prdImgProportion?n.prdImgProportion:n.isPadHorizontal?.921:o.isPad()?.743:1;e.iWidth=r||(o.isPc()?392:o.isApp()?328:290),e.imgWrapWidth=o.isPc()?.357*e.iWidth:o.isApp()?.427*e.iWidth:n.isPadHorizontal?.404*e.iWidth:.357*e.iWidth,e.imgWrapHeight=e.imgWrapWidth/i,e.imgWidth=o.isPc()?.77*e.imgWrapWidth:e.imgWrapWidth-32}}},de=function(){var e=this,t=ue.bind(this)();return{renderMainBox:function(n,r,o){return x.a.createElement(R.a,{ref:t.prodRef,onPress:t.handlePress,activeOpacity:.7,style:[n.prdBox,t.isPad()&&n.prdBoxPad,t.isPc()&&n.prdBoxPc,{width:e.props.iWidth||e.iWidth,maxWidth:e.props.iWidth||e.iWidth},e.iHeight&&{height:e.iHeight},(null==o?void 0:o.minHeight)&&{minHeight:o.minHeight},t.isPc()&&(null==o?void 0:o.isHovered)&&n.itemHover,(null==o?void 0:o.customStyle)&&ce({},o.customStyle)]},r)},renderCoverImg:function(n,r){var o=e.props.iWidth||e.iWidth,i=t.isApp()?o:t.isPad()?.644*o:.642*o,a=t.isApp()?o/1.763:t.isPad()?o/2.33:o/2.79;return x.a.createElement(E.a,{style:[{width:i,height:a},e.props.config.bgColor&&{backgroundColor:e.props.config.bgColor}]},t.isMp()?x.a.createElement(le.a,{mode:"aspectFill",src:r.imgUrl||ie.l,style:n.imgNormal}):x.a.createElement(oe.a,{resizeMode:"cover",imgUri:r.imgUrl||ie.l,imgStyle:[n.imgNormal]}))},renderImgArea:function(n,r,o){var i=e.props.config,a=e.imgWrapWidth||e.props.iWidth,l=a/(i.prdImgProportion||(null==o?void 0:o.prdImgProportion)||1),c={resizeWidth:a>l?a:l};return x.a.createElement(E.a,{style:[n.topContent,t.isPc()&&n.topContentPc,t.isPad()&&n.topContentPad,i.isPadHorizontal&&n.topContentPadH,i.bgColor&&{backgroundColor:i.bgColor},e.imgWrapWidth&&{width:e.imgWrapWidth},"l2r"!==(null==o?void 0:o.structure)&&{height:l}]},x.a.createElement(oe.a,s()({resizeMode:null!=o&&o.resizeMode?null==o?void 0:o.resizeMode:"contain"},"web"===k.a.OS?{}:c,{imgUri:r.imgUrl||ie.l,imgStyle:[t.isPc()&&n.imgPc,t.isPad()&&n.imgPad,t.isApp()&&n.img,e.imgWidth&&{width:e.imgWidth,height:e.imgWidth}]})))},renderPrdName:function(n,r,o){var i,a,l,s,c;return null!==(i=e.props.config)&&void 0!==i&&i.productNameShow&&(null!=o&&o.showEmptyDom||r.prdName)?x.a.createElement(L.a,{style:[n.prdName,t.isPc()&&n.prdNamePc,t.isPad()&&n.prdNamePad,(null===(a=e.props)||void 0===a||null===(l=a.config)||void 0===l?void 0:l.isPadHorizontal)&&n.prdNamePadH],numberOfLines:(null==o?void 0:o.txtLineNum)||(null===(s=e.props)||void 0===s||null===(c=s.config)||void 0===c?void 0:c.prdNameNum)||2,ellipsizeMode:"tail"},r.prdName):null},renderPrdDescribe:function(n,r,o){var i,a,l;return null!=r&&r.microPromWord?x.a.createElement(L.a,{style:[n.promName,t.isPad()&&n.promNamePad,t.isPc()&&n.promNamePc,(null===(i=e.props)||void 0===i||null===(a=i.config)||void 0===a?void 0:a.isPadHorizontal)&&n.promNamePadH,!(null!==(l=e.props.config)&&void 0!==l&&l.productNameShow)||!r.prdName&&{marginTop:0}],numberOfLines:(null==o?void 0:o.txtLineNum)||1,ellipsizeMode:"tail"},null==r?void 0:r.microPromWord):null},renderProgress:function(n,r,o){var i=e.props.config,a=r.progress,l=void 0===a?0:a,s=r.state===K.ended,c=s?.3:l<=100?.5:l<=300?.7:1,u="OneColumnLayoutTop"===i.layoutType?t.isPc()?255:t.isPad()?.213*e.iWidth:126:126,d=function(e){return t.isMp()?x.a.createElement(E.a,{style:[n.progressBar,(null==i?void 0:i.isPadHorizontal)&&n.progressBarPadH,u&&{width:e*u,opacity:c,background:"linear-gradient(to right, ".concat(o.C94.color,", ").concat(o.C44.color,")")}]}):x.a.createElement(re.a,{start:{x:0,y:0},end:{x:.3,y:0},style:[n.progressBar,t.isPc()&&n.progressBarPc,(null==i?void 0:i.isPadHorizontal)&&n.progressBarPadH,u&&{width:e*u,opacity:c}],colors:[o.C94.color,o.C44.color]})};return i.progressBar?x.a.createElement(E.a,{style:[n.progressArea,t.isPad()&&n.progressAreaPad,(null==i?void 0:i.isPadHorizontal)&&n.progressAreaPadH,t.isPc()&&n.progressAreaPc]},l<=100?x.a.createElement(E.a,{style:[n.progressBarWrap,t.isPc()&&n.progressBarWrapPc,(null==i?void 0:i.isPadHorizontal)&&n.progressBarWrapPadH,u&&{width:u}]},d(l/100)):d(1),"ThreeColumnLayout"===i.layoutType?null:x.a.createElement(L.a,{style:[n.progressVal,s&&n.progressValEnd,i.isPadHorizontal&&n.progressValPadH,t.isPc()&&n.progressValPc]},l,"%")):null},renderSurpportedAndStatus:function(n,r){var o=e.props.config,i=r.soldQuantity,a=void 0===i?0:i,l=r.remainDays,s=void 0===l?0:l,c=r.state===K.underway,u=r.state===K.ended,d=u||c&&o.remainingDays;if(o.supportedNumber||d){var p=Object(M.b)("the_countdown.other").replace("%1$d",s+""),f=Object(M.b)("mass_suvey_support.other").replace("%1$d",a+"");return s<=1&&(p=Object(M.b)("the_countdown.one").replace("%1$d",s+"")),a<=1&&(f=Object(M.b)("mass_suvey_support.other").replace("%1$d",a+"")),x.a.createElement(E.a,{style:[n.surpportedAndStatusArea,(null==o?void 0:o.isPadHorizontal)&&n.surpportedAndStatusAreaPadH,t.isPc()&&n.surpportedAndStatusAreaPc]},o.supportedNumber&&x.a.createElement(L.a,{style:[n.surpportedQty,(null==o?void 0:o.isPadHorizontal)&&n.surpportedQtyPadH,t.isPc()&&n.surpportedQtyPc]},f),d&&x.a.createElement(x.a.Fragment,null,o.supportedNumber?x.a.createElement(E.a,{style:[n.seperateLine,(null==o?void 0:o.isPadHorizontal)&&n.seperateLinePadH,t.isPc()&&n.seperateLinePc]}):null,x.a.createElement(L.a,{style:[n.status,(null==o?void 0:o.isPadHorizontal)&&n.statusPadH,t.isPc()&&n.statusPc]},c?p:u?Object(M.b)("mass_suvey_end"):"")))}},renderBtn:function(n,r){var o=r||{},i=o.text,a=o.textColor,l=o.bgColors,s=o.borderColor,c=x.a.createElement(L.a,{style:[n.btn,t.isPc()&&n.btnPc,(null==l?void 0:l.length)>1&&n.btnTransparent,1===(null==l?void 0:l.length)&&{backgroundColor:l[0]},s&&n.btnborder,s&&{borderColor:s},a&&{color:a}],ellipsizeMode:"clip",onPress:e.props.onClickButton},i||Object(M.b)("support"));return(null==l?void 0:l.length)>1?t.isMp()?x.a.createElement(L.a,{style:[n.btn,t.isPc()&&n.btnPc,n.btnGradient,{background:"linear-gradient(to right, ".concat(l[0],", ").concat(l[1],")")}]},c):x.a.createElement(re.a,{start:{x:0,y:0},end:{x:1,y:0},style:[n.btn,t.isPc()&&n.btnPc,n.btnGradient],colors:[l[0],l[1]]},c):c},renderVariousBtn:function(t,n,r){var o,i;if(null!==(o=e.props)&&void 0!==o&&null!==(i=o.config)&&void 0!==i&&i.buyIconShow){var a;switch(n.btnType){case ae.a.gradient:a={text:n.btnName,bgColors:["#FE5945","#D61A19"]};break;case ae.a.stroke:a={text:n.btnName,bgColors:["transparent"],textColor:r.C18.color,borderColor:r.C18.color};break;default:a={text:n.btnName,bgColors:[r.C35.color]}}return e.BaseDom.renderBtn(t,a)}return null},renderPriceArea:function(n,r,o){var i,a=null===(i=e.props)||void 0===i?void 0:i.config,l=a.isPadHorizontal,s=a.crowPrice,c=a.layoutType,u=2===Number(r.priceMode)&&l&&"OneColumnLayoutTop"===c?{lineHeight:30}:{};return s&&void 0!==r.price?null!=o&&o.fontStyleIsSame?x.a.createElement(L.a,{style:[n.newPrice,t.isPad()&&n.newPricePad,t.isPc()&&n.newPricePc,t.isApkOrIos()&&n.newPriceApkOrIos,l&&n.newPricePadH]},2===Number(r.priceMode)?Object(M.b)("without_price"):"¥".concat(r.price)):x.a.createElement(E.a,{style:[n.priceBox,t.isApp()&&n.priceBoxApp,t.isPad()&&n.priceBoxPad,t.isPc()&&n.priceBoxPc]},2!==Number(r.priceMode)&&x.a.createElement(L.a,{style:[n.priceMark,t.isPad()&&n.priceMarkPad,t.isPc()&&n.priceMarkPc,t.isApkOrIos()&&n.priceMarkApkOrIos,l&&n.priceMarkPadH]},"¥"),x.a.createElement(L.a,{style:[n.newPrice,t.isPad()&&n.newPricePad,t.isPc()&&n.newPricePc,t.isApkOrIos()&&n.newPriceApkOrIos,l&&n.newPricePadH,u]},2===Number(r.priceMode)?Object(M.b)("without_price"):r.price)):null}}};function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var fe=function(e){m()(n,e);var t=pe(n);function n(e){var r;return u()(this,n),r=t.call(this,e),C()(h()(r),"prodRefDom",void 0),C()(h()(r),"iWidth",void 0),C()(h()(r),"iHeight",void 0),C()(h()(r),"BaseJs",void 0),C()(h()(r),"BaseDom",void 0),C()(h()(r),"loadPage",(function(e,t,n){var o,i,a=r.props,l=a.data,s=a.config,c=a.iWidth,u=a.iHeight,d=a.width,p=h()(r),f=p.BaseJs,g=p.BaseDom,m=f.isPc,y=f.isPad,v=f.isApp;e=Object.assign(X(t,null===(o=r.props)||void 0===o?void 0:o.hasCrossDressBg),e),r.props.customPrdStyles&&(e=Object.assign(e,r.props.customPrdStyles(t)||{})),r.iWidth=c||(v()?d-32:y()?d-48:A.a.safety_area),r.iHeight=u||(y()?r.iWidth/2.33:m()?r.iWidth/2.79:"auto");var b=l.state===K.underway,w=l.state===K.ended||b&&s.remainingDays;return i=x.a.createElement(x.a.Fragment,null,g.renderCoverImg(e,l),x.a.createElement(E.a,{style:[e.prdCont,y()&&e.prdContPad,(null==s?void 0:s.isPadHorizontal)&&e.prdContPadH,m()&&e.prdContPc]},g.renderPrdName(e,l),g.renderPrdDescribe(e,l),v()?x.a.createElement(E.a,{style:e.detailBox},s.progressBar||w||s.supportedNumber?x.a.createElement(E.a,{style:[v()&&e.detailLeftApp]},g.renderProgress(e,l,t),g.renderSurpportedAndStatus(e,l)):null,g.renderPriceArea(e,l)):x.a.createElement(E.a,null,g.renderProgress(e,l,t),g.renderSurpportedAndStatus(e,l),g.renderPriceArea(e,l)))),g.renderMainBox(e,i,{isHovered:n,minHeight:200})})),r.state={},r.BaseJs=ue.bind(h()(r))()||{},r.BaseDom=de.bind(h()(r))()||{},r}return p()(n,[{key:"render",value:function(){var e=this;return x.a.createElement(z.b,{themeStyles:function(t){var n;return function(e,t){return t&&(e=G.a),U.a.create({prdBox:J(J(J({width:"100%",height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:16},q),{},{marginTop:12}),prdBoxPad:{flexDirection:"row",alignItems:"center"},prdBoxPc:{flexDirection:"row",alignItems:"center",borderRadius:0},prdCont:J(J({paddingTop:16,paddingBottom:16,paddingLeft:12,paddingRight:12},q),{},{flex:1}),prdContPad:{paddingLeft:16,paddingRight:16,justifyContent:"center"},prdContPadH:{paddingLeft:26,paddingRight:26},prdNamePad:J(J({},e.T9),{},{fontWeight:"bold"}),prdNamePc:{fontWeight:"bold",fontSize:26,lineHeight:35,textAlign:"left"},prdNamePadH:{fontSize:26,lineHeight:35},promNamePadH:J(J({},e.T12),{},{lineHeight:26,marginTop:6,fontWeight:"400"}),promNamePc:J(J({},e.T12),{},{marginTop:7,textAlign:"left",fontWeight:"400"}),detailBox:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},detailLeftApp:{flex:1,marginRight:8},progressAreaPad:{marginTop:16},progressAreaPadH:{marginTop:26},progressAreaPc:{marginTop:25},progressBarWrapPc:{height:10,borderRadius:6},progressBarWrapPadH:{height:10,borderRadius:6},progressBarPc:{height:10,borderRadius:6},progressBarPadH:{height:10,borderRadius:6},progressValPadH:J(J({},e.T9),{},{marginLeft:20,fontWeight:"bold"}),progressValPc:J(J({},e.T9),{},{marginLeft:24,fontWeight:"bold"}),surpportedAndStatusAreaPadH:{marginTop:12,height:22,lineHeight:22},surpportedAndStatusAreaPc:{marginTop:10,height:22,lineHeight:22},seperateLinePadH:J(J({},e.T9),{},{height:10}),seperateLinePc:J({width:1,height:10,marginTop:0,marginHorizontal:4,backgroundColor:e.C14.color+e.opacityMap[e.C14.opacity]},e.T1),surpportedQtyPadH:J({},e.T9),surpportedQtyPc:J({},e.T9),statusPadH:J({},e.T9),statusPc:J({},e.T9),priceBox:{alignItems:"center",flexDirection:"row",marginTop:0},priceBoxApp:{marginTop:8},priceBoxPc:{marginTop:0},priceMark:J(J(J({marginRight:3,paddingTop:1},e.C18),e.T4),$),newPrice:J(J(J({},e.C18),e.T10),$),priceMarkPad:{marginTop:27},priceMarkPadH:J({fontSize:e.T12.fontSize,lineHeight:e.T12.fontSize,marginTop:44},$),priceMarkPc:J(J({},e.T12),{},{marginTop:46.5},$),newPricePad:{marginTop:26},newPricePadH:{fontSize:26,lineHeight:26,marginTop:44},newPricePc:{fontSize:26,marginTop:46.5}})}(t,null===(n=e.props)||void 0===n?void 0:n.hasCrossDressBg)}},(function(t,n){var r;return null!==(r=e.BaseJs)&&void 0!==r&&r.isPc()?x.a.createElement(Z.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(T.PureComponent);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var ge=function(e){m()(n,e);var t=he(n);function n(e){var r;return u()(this,n),r=t.call(this,e),C()(h()(r),"prodRefDom",void 0),C()(h()(r),"iWidth",void 0),C()(h()(r),"iHeight",160),C()(h()(r),"imgWrapWidth",void 0),C()(h()(r),"imgWrapHeight",void 0),C()(h()(r),"imgWidth",void 0),C()(h()(r),"BaseJs",void 0),C()(h()(r),"BaseDom",void 0),C()(h()(r),"loadPage",(function(e,t,n){var o,i,a,l,s=r.props,c=s.data,u=s.config,d=h()(r),p=d.BaseJs,f=d.BaseDom,g=p.isPc,m=p.isPad;return e=Object.assign(X(t,null===(o=r.props)||void 0===o?void 0:o.hasCrossDressBg),e),r.props.customPrdStyles&&(e=Object.assign(e,r.props.customPrdStyles(t)||{})),r.BaseJs.handleImgSize(),l=x.a.createElement(x.a.Fragment,null,f.renderImgArea(e,c,{structure:"l2r"}),x.a.createElement(E.a,{style:[e.prdCont,m()&&e.prdContPad,g()&&e.prdContPc]},x.a.createElement(E.a,{style:e.prdContTop},f.renderPrdName(e,c),f.renderPrdDescribe(e,c),f.renderProgress(e,c,t),f.renderSurpportedAndStatus(e,c)),x.a.createElement(E.a,{style:[e.prdContBottom,!u.crowPrice&&e.btnRight]},f.renderPriceArea(e,c),(c.state===K.underway||c.state===K.notStarted)&&f.renderBtn(e,{text:c.btnName,bgColors:[null==t||null===(i=t.C45)||void 0===i?void 0:i.color[0],null==t||null===(a=t.C45)||void 0===a?void 0:a.color[1]]})))),f.renderMainBox(e,l,{isHovered:n})})),r.state={},r.BaseJs=ue.bind(h()(r))()||{},r.BaseDom=de.bind(h()(r))()||{},r}return p()(n,[{key:"render",value:function(){var e=this;return x.a.createElement(z.b,{themeStyles:function(t){var n;return function(e,t){return t&&(e=G.a),U.a.create({prdBox:J(J({width:"100%",flexDirection:"row",height:"auto"},e.S31),{},{overflow:"hidden",borderRadius:16},q),prdBoxPc:{borderRadius:0},topContent:{position:"relative",alignItems:"center",justifyContent:"center",overflow:"hidden",padding:16,width:"42.7%"},topContentPad:{width:"35.6%"},topContentPadH:{width:"40.7%"},topContentPc:{width:"35.7%"},prdCont:J(J({paddingTop:12,paddingLeft:4,paddingRight:12,paddingBottom:12,flex:1},q),{},{justifyContent:"space-between"}),prdContPc:{paddingTop:12,paddingBottom:12,paddingRight:12},promName:J(J(J({},e.T3),e.C14),{},{lineHeight:16}),promNamePc:{fontSize:14,lineHeight:14,fontWeight:"400"},progressAreaPc:{marginTop:6},surpportedAndStatusAreaPc:{marginTop:5},prdContBottom:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:12},priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",paddingTop:1,paddingBottom:1,height:21,marginTop:0},priceBoxPc:{marginTop:0},priceMark:J(J(J(J({marginRight:3,paddingTop:1.5},e.C18),e.T4),$),{},{lineHeight:21}),newPrice:J(J(J({},e.C18),{},{fontSize:e.T10.fontSize,fontWeight:"bold"},Q),{},{marginRight:12}),newPricePc:J(J({},e.T10),{},{fontWeight:"500"}),priceMarkPc:J(J({},e.T4),{},{fontWeight:"500"}),btnRight:{justifyContent:"flex-end"},prdNamePc:J(J({},e.T7),{},{height:39},$),btn:J(J(J({},e.T4),e.C17),{},{minWidth:64,maxWidth:76,height:28,lineHeight:28,textAlign:"center",flexShrink:0,paddingLeft:8,paddingRight:8,borderRadius:14,backgroundColor:e.C18.color,fontWeight:"500"}),btnborder:{borderWidth:1,borderStyle:"solid"},btnTransparent:{backgroundColor:"transparent"},btnGradient:{paddingLeft:0,paddingRight:0}})}(t,null===(n=e.props)||void 0===n?void 0:n.hasCrossDressBg)}},(function(t,n){var r;return null!==(r=e.BaseJs)&&void 0!==r&&r.isPc()?x.a.createElement(Z.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(T.PureComponent);function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var ye=function(e){m()(n,e);var t=me(n);function n(e){var r;return u()(this,n),r=t.call(this,e),C()(h()(r),"prodRefDom",void 0),C()(h()(r),"iWidth",void 0),C()(h()(r),"iHeight",void 0),C()(h()(r),"imgWrapWidth",void 0),C()(h()(r),"imgWrapHeight",void 0),C()(h()(r),"imgWidth",void 0),C()(h()(r),"BaseJs",void 0),C()(h()(r),"BaseDom",void 0),C()(h()(r),"loadPage",(function(e,t,n){var o,i,a,l,s,c,u=r.props,d=u.data,p=u.config,f=h()(r).BaseDom,g=p.crowPrice||p.productNameShow?{}:{paddingBottom:0};return e=Object.assign(X(t,null===(o=r.props)||void 0===o?void 0:o.hasCrossDressBg),e),r.props.customPrdStyles&&(e=Object.assign(e,r.props.customPrdStyles(t)||{})),p.prdImgProportion=p.isPadHorizontal?1.393:1.371,r.imgWidth=.625*r.props.iWidth,c=x.a.createElement(E.a,{style:[{marginBottom:null!==(i=r.BaseJs)&&void 0!==i&&i.isPc()?-35:0},(null===(a=r.BaseJs)||void 0===a?void 0:a.isPc())&&{backgroundColor:"white"}]},f.renderImgArea(e,d),f.renderPrdName(e,d,{txtLineNum:1,showEmptyDom:!0}),null!==(l=r.BaseJs)&&void 0!==l&&l.isPc()?x.a.createElement(E.a,{style:{justifyContent:"center",alignItems:"center"}},f.renderSurpportedAndStatus(e,d)):null,f.renderPriceArea(e,d,{fontStyleIsSame:!0}),null!==(s=r.BaseJs)&&void 0!==s&&s.isPc()?x.a.createElement(E.a,{style:{height:35,backgroundColor:"white"}}):null),f.renderMainBox(e,c,{isHovered:n,customStyle:g})})),r.state={},r.BaseJs=ue.bind(h()(r))()||{},r.BaseDom=de.bind(h()(r))()||{},r}return p()(n,[{key:"render",value:function(){var e=this;return x.a.createElement(z.b,{themeStyles:function(t){var n;return function(e,t){return t&&(e=G.a),U.a.create({prdBox:J({width:"100%",height:"auto",overflow:"hidden",borderRadius:8,paddingBottom:8},q),prdBoxPad:{paddingBottom:12},prdBoxPc:{borderRadius:0,paddingBottom:20,height:296,backgroundColor:"white"},topContent:{position:"relative",alignItems:"center",justifyContent:"flex-end",overflow:"hidden",width:"100%",borderTopRightRadius:8,borderTopLeftRadius:8},topContentPc:{borderTopRightRadius:0,borderTopLeftRadius:0},topContentPad:{},img:{marginBottom:2},prdName:J(J(J(J({},e.T2),e.C12),$),{},{marginLeft:8,marginRight:8,justifyContent:"center",textAlign:"center",height:14}),prdNamePc:J(J({},e.T7),{},{height:"auto",marginTop:20},$),newPrice:J(J(J({},e.C18),e.T8),{},{lineHeight:18,textAlign:"center",marginLeft:12,marginRight:12,fontWeight:"bold"}),newPricePc:J(J({},e.T10),{},{fontWeight:"400",marginTop:15}),progressBarWrapPc:{height:2},progressBarPc:{height:2}})}(t,null===(n=e.props)||void 0===n?void 0:n.hasCrossDressBg)}},(function(t,n){var r;return null!==(r=e.BaseJs)&&void 0!==r&&r.isPc()?x.a.createElement(Z.a,null,(function(r){return e.loadPage(t,n,r)})):e.loadPage(t,n,!1)}))}}]),n}(T.PureComponent),ve=n(29),be=n(3),we=n(20),Se=n(11),Ce=n(21),Oe=n(10),Pe={exposeItem_product:function(e){var t,n=this,r=this.props,o=r.pageCatCode,i=r.pageCatName,a=r.resSiteCode,l=r.resSiteName,s={array:e.map((function(e,t){var r,o,i;return{comId:n.props.id+"",ruleId:"",sId:"",row:(null==e?void 0:e.row)+"",column:(null==e?void 0:e.column)+"",index:null===(r=e.itemIndex)||void 0===r?void 0:r.toString(),dataCode:null!=e&&e.sbomCode?null==e||null===(o=e.sbomCode)||void 0===o?void 0:o.toString():"",dataType:Oe.c.SKU,productId:null!=e&&e.disPrdId?null==e||null===(i=e.disPrdId)||void 0===i?void 0:i.toString():""}}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"众测活动组件曝光",eventType:Oe.e.EVENT_TYPE_EXPOSURE,pageId:null===(t=this.props)||void 0===t?void 0:t.pageId,resSiteCode:a,resSiteName:l,pageCatCode:o,pageCatName:i},content:s.array}},clickItem_product:function(e,t,n){var r,o,i,a=Object(be.F)()?this:this.props,l=a.pageCatCode,s=a.pageCatName,c=a.resSiteCode,u=a.resSiteName,d=n.url,p=n.prefix,f=n.clickType,h=n.column,g=n.row;if("更多"===f)o="众测活动组件“更多”的点击",i={comId:n.id+"",gotoPageId:"",gotoURL:d,ruleId:"",sId:"",dataCode:"",dataType:"",clickType:Oe.b.CLICK_MORE};else if("商品"===f||void 0===f){var m,y;o="众测活动组件点击商品",i={comId:n.id+"",gotoPageId:"",gotoURL:d,ruleId:"",sId:"",row:g+"",column:h+"",index:t+"",dataCode:null!=e&&e.sbomCode?null==e||null===(m=e.sbomCode)||void 0===m?void 0:m.toString():"",dataType:Oe.c.SKU,productId:null!=e&&e.disPrdId?null==e||null===(y=e.disPrdId)||void 0===y?void 0:y.toString():"",clickType:Oe.b.CLICK_GOODS_CONTENT}}return{data:{actionCode:p.platformType+p.eventID,actionName:o,eventType:Oe.e.EVENT_TYPE_CLICK,content:i,pageId:null===(r=this.props)||void 0===r?void 0:r.pageId,resSiteCode:c,resSiteName:u,pageCatCode:l,pageCatName:s}}}},Te=n(25);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var Ee=0,je=function(e){m()(i,e);var t,r=ke(i);function i(e){var t;u()(this,i),t=r.call(this,e),C()(h()(t),"originWidth",I.a.get("window").width),C()(h()(t),"originHeight",I.a.get("window").height),C()(h()(t),"itemlist",[]),C()(h()(t),"canClickMore",!0),C()(h()(t),"clickTimer",void 0),C()(h()(t),"prefix",void 0),C()(h()(t),"itemWidth",void 0),C()(h()(t),"column",1),C()(h()(t),"requestPageSize",0),C()(h()(t),"crossDressStyle",null),C()(h()(t),"hasCrossDressBg",!1),C()(h()(t),"isThree",void 0),C()(h()(t),"boxWidth",void 0),C()(h()(t),"httpReg",/(http|https):\/\/([\w.]+\/?)\S*/),C()(h()(t),"getSize",(function(){var e=t.originWidth;return"web"===k.a.OS&&(e=Object(be.x)(t.props.pageType||"homePage").screenWidth),Object(W.a)(e)})),C()(h()(t),"isPc",(function(){return"large"===t.getSize()})),C()(h()(t),"isPad",(function(){return"medium"===t.getSize()})),C()(h()(t),"isApp",(function(){return"small"===t.getSize()})),C()(h()(t),"isApkOrIos",(function(){return"android"===k.a.OS||"ios"===k.a.OS})),C()(h()(t),"getWidth",(function(){var e=t.originWidth;return"web"===k.a.OS&&(e=Object(be.x)(t.props.pageType||"homePage").screenWidth),e})),C()(h()(t),"getHeight",(function(){return Object(be.x)(t.props.pageType||"homePage").screenHeight})),C()(h()(t),"_renderScroll",(function(e){return"web"===k.a.OS?x.a.createElement(E.a,e):x.a.createElement(j.a,s()({},e,{removeClippedSubviews:"ios"!==k.a.OS}))})),C()(h()(t),"isPadHorizontal",(function(){return t.isPad()&&t.getWidth()>=t.getHeight()&&t.getWidth()>=1024})),C()(h()(t),"getPlatformPrefix",(function(){return{platformType:t.isApkOrIos()?Oe.f.APP:"wx"===k.a.OS?Oe.f.WECHAT:t.isPc()?Oe.f.PC:Oe.f.WAP,eventID:t.isApkOrIos()?Oe.d.APP:t.isPc()?Oe.d.PC:Oe.d.WAP}})),C()(h()(t),"handleImg",(function(e){var n,r=e.cmsBgImgUrl,o=e.photoPath,i=e.photoName,a="";return r||(o?a=(null===(n=t.httpReg)||void 0===n?void 0:n.test(o))?o:Se.a.cmsCndProdPath+o+"428_428_"+i:a)})),C()(h()(t),"getRowNum",(function(){var e,n=(null===(e=t.props)||void 0===e?void 0:e.configData)||{},r=n.layoutType,o=n.rowsPerScreen,i=1,a=Number(o);switch(r){case"OneColumnLayoutTop":i=1*o;break;case"OneColumnLayoutLeft":i=1===a?t.isApp()?1*a:t.isPadHorizontal()||t.isPc()?3*a:2*a:1*a;break;case"ThreeColumnLayout":i=1===a?t.isPadHorizontal()?6*a:t.isPad()||t.isPc()?5*a:3*a:3*a;break;default:i=1}return i})),C()(h()(t),"onClickSingleItem",function(){var e=a()(o.a.mark((function e(n,r){var i,a,l,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((new Date).getTime()-Ee<500)&&t.canClickMore){e.next=3;break}return e.abrupt("return");case 3:return i=t.props.id,"web"===k.a.OS,a=String(n.disPrdId),l=String(n.sbomCode),s={id:i,prefix:t.prefix,column:r%t.column+1,row:Math.ceil((r+1)/t.column)},e.next=7,Object(be.p)(a,l);case 7:c=e.sent,t.props.clickItem_product&&t.props.clickItem_product(n,r,Ie({url:c},s)),Object(be.B)(a,l),Ee=(new Date).getTime();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C()(h()(t),"onClickTitleMore",(function(){t.props.clickItem_product({},-1,{clickType:"更多",url:Object(be.l)(t.props.configData),id:t.props.id,prefix:t.prefix}),Object(be.A)(Object(be.l)(t.props.configData))})),C()(h()(t),"switchScreenChangeOneRowData",(function(){var e,n=t.state,r=n.loadPageSize,o=n.loadPageNum,i=t.getRowNum();r!==i&&1==(null===(e=t.props.configData)||void 0===e?void 0:e.rowsPerScreen)&&2===o&&t.setState({loadPageSize:i,loadPageNum:1,requestPageNum:1,allDataArray:[],dataArray:[]},(function(){t._asyNcCallback(t.props.configData.initData)}))})),C()(h()(t),"_getAsyNcData",(function(){var e=t.props.configData,n=t.state.requestPageNum,r={showFooter:!0,loadState:ae.c.loadError};t._http(e.asyncGetDataSource,Ie(Ie({},e.loadMoreParams),{},{pageIndex:n,pageSize:t.requestPageSize})).then((function(e){var n={};e.success&&e.pageData?(n=e.pageData,t._asyNcCallback(n)):t.setState(Ie({},r))})).catch((function(){t.setState(Ie({},r))}))})),C()(h()(t),"getListArr",(function(e){var n=[];for(var r in e)for(var o,i,a,l=(null===(o=e[r])||void 0===o||null===(i=o.publicTestActivities)||void 0===i?void 0:i.length)>0&&(null===(a=e[r])||void 0===a?void 0:a.publicTestActivities)||[],s=0;s<l.length;s++){var c=l[s]||{},u=(null==c?void 0:c.publicTestSbomInfo)||{},d={photoPath:u.photoPath,photoName:u.photoName,cmsBgImgUrl:t.isPc()?c.pcBgImgUrl:c.bgImgUrl},p={dataSourceCode:r,imgUrl:t.handleImg(d),prdName:c.name,microPromWord:null==u?void 0:u.microPromWord,progress:c.progress,soldQuantity:c.soldQuantity,remainDays:c.remainDays,state:c.state,price:u.price,priceMode:u.priceMode,sbomCode:u.sbomCode,disPrdId:u.disPrdId,weburl:Se.a.webDomain+"product/"+u.disPrdId+".html",wapurl:Se.a.wapDomain+"product/"+u.disPrdId+".html"};n.push(p)}return n})),C()(h()(t),"onPressMore",(function(){var e=t.state,n=e.requestAllData,r=e.loadPageNum,o=e.allDataArray,i=e.dataArray,a=e.loadPageSize;t.canClickMore&&(t.canClickMore=!1,setTimeout((function(){t.canClickMore=!0}),500),t.props.clickItem_product({},-1,{clickType:"更多",url:"",id:t.props.id,prefix:t.prefix}),t.setState({showFooter:!0,loadState:ae.c.loadingIcon},(function(){if(n||o.length-i.length>=a){var e=o.slice(0,r*a),l=n&&e.length===o.length;t.setState({dataArray:e,loadPageNum:r+1,showFooter:!0,loadState:l?ae.c.loadAll:ae.c.loadMore})}else t._getAsyNcData()})))})),C()(h()(t),"getItemWidth",(function(e,n,r,o){t.column=n,t.itemWidth=(e-(n-1)*r-2*o)/n})),C()(h()(t),"receiveRef",(function(e,n){e&&(e.exposeObj=n,t.itemlist.push(e))})),C()(h()(t),"getLoadingView",(function(e,n){var r,o,i,a,l=null!==(r=t.props)&&void 0!==r&&null!==(o=r.styleChange)&&void 0!==o&&o.fontColor?{color:null===(i=t.props)||void 0===i||null===(a=i.styleChange)||void 0===a?void 0:a.fontColor,opacity:1}:{},s=t.isApp()?t.getWidth()-32:t.isPad()?t.getWidth()-48:A.a.safety_area,c=be.F&&t.isPad()?s:"";return x.a.createElement(B.a,{showLoading:n.showLoading||!0,position:n.loadingPostion||"bottom",errorCallback:t._getAsyNcData,loadState:n.loadState,height:3===n.loadState?48:56,iconSize:24,titleStyle:Ie(Ie({},e.lodingTitle),l),width:c})})),C()(h()(t),"renderTitleAndMore",(function(e,r){var o=t.props,i=o.styleChange,a=o.configData,l=o.groupStyleChange,s=null!=i&&i.fontColor?{color:i.fontColor,opacity:1}:{},c=a.titleShow&&a.cardTitle,u=a.titleShowSub&&a.cardTitleSub,d=(null==a?void 0:a.moreUrlType)===ae.e.h5&&a.moreVal===ae.d.topRight;return c||u||d?x.a.createElement(R.a,{activeOpacity:1,onPress:d?t.onClickTitleMore:function(){},style:[e.titleWrap,t.isPad()&&e.titleWrapPad,t.isPc()&&e.titleWrapPc,t.isThree&&e.titleWrapOneByThree,t.hasCrossDressBg&&!l&&{paddingTop:t.isThree?4:0}]},x.a.createElement(E.a,{style:[e.titleAndSubTitle,{marginLeft:t.isPc()&&t.isThree?-12:0}]},c?x.a.createElement(L.a,{style:[e.title,t.isPc()&&e.titlePc,s],numberOfLines:1},a.cardTitle):null,u?x.a.createElement(L.a,{style:[e.subTitle,t.isPc()&&e.subTitlePc,s],numberOfLines:1},a.cardTitleSub):null),d?x.a.createElement(E.a,{style:[e.moreWrap,{marginTop:t.isPc()?6:0,marginRight:t.isPc()?-12:-3}]},x.a.createElement(L.a,{style:[e.moreVal,t.isPc()&&e.moreValPc,s],numberOfLines:1},a.moreTitle||Object(M.b)("notice_more")),x.a.createElement(E.a,{style:[e.moreIcon]},Object(be.F)()?x.a.createElement(_.a,{source:{uri:n(205)},style:{opacity:.2,width:17,height:19}}):x.a.createElement(we.a,{iconName:"Webarrow",width:"17",height:"19",normalCol:null!=i&&i.fontColor?null==i?void 0:i.fontColor:r.C24.color,opacity:null!=i&&i.fontColor?1:r.C24.opacity}))):null):null})),C()(h()(t),"renderBottom",(function(e,n){var r=t.props,o=r.configData,i=r.styleChange,a=t.state,l=a.dataArray,s=a.showFooter,c=a.loadState;if((null==o?void 0:o.moreVal)===ae.d.current&&(null==l?void 0:l.length)>0&&s)return c===ae.c.loadMore?x.a.createElement(E.a,{style:e.moreBottomWrap},x.a.createElement(R.a,{style:e.moreBottom,onPress:t.onPressMore,activeOpacity:1},x.a.createElement(L.a,{style:[e.moreBottomTxt,{maxWidth:t.boxWidth},(null==i?void 0:i.fontColor)&&{color:null==i?void 0:i.fontColor,opacity:1}],numberOfLines:1},o.moreTitle||Object(M.b)("common_view_more")))):t.getLoadingView(e,{loadState:c})})),C()(h()(t),"renderSingleItem",(function(e,n){var r=t.props.configData,o=r.layoutType,i={itemIndex:n,sbomCode:null==e?void 0:e.sbomCode,disPrdId:null==e?void 0:e.disPrdId,column:n%t.column+1,row:Math.ceil((n+1)/t.column)},a={key:n,data:e,config:r,onClick:function(){return t.onClickSingleItem(e,n)},receiveRef:function(e){return t.receiveRef(e,i)},hasCrossDressBg:t.hasCrossDressBg,width:t.originWidth,iWidth:t.itemWidth};x.a.Fragment;return"ThreeColumnLayout"===o?x.a.createElement(ye,a):"OneColumnLayoutLeft"===o?x.a.createElement(ge,a):x.a.createElement(fe,a)})),C()(h()(t),"renderProductBody",(function(e,n){var r=t.state.dataArray,o=h()(t),i=o.isPc,a=o.isPad,l=o.isApp,s=o.getWidth,c=o.isThree,u=o.hasCrossDressBg,d=t.isPadHorizontal(),p=t.props.configData,f=p.layoutType,g=null,m=0,y=1,v=12,b=l()?s()-32:a()?s()-48:A.a.safety_area;switch(c&&u&&(b=i()?b+1:b-16),p.isPadHorizontal=d,t.boxWidth=b,f){case"OneColumnLayoutTop":t.getItemWidth(b,y,v,m),g=x.a.createElement(E.a,{style:{marginTop:-12}},r.map((function(e,n){return t.renderSingleItem(e,n)})));break;case"OneColumnLayoutLeft":case"ThreeColumnLayout":"OneColumnLayoutLeft"===f?y=i()||d?3:l()?1:2:c&&(y=d?6:a()||i()?5:3,v=i()||d?12:8,m=i()?0:12),t.getItemWidth(b,y,v,m);var w=Object(be.F)()&&{paddingRight:0};g=x.a.createElement(F.a,{col:t.column,colGutter:v,rowGutter:12,pageGutter:m,boxWidth:b,dataArray:r,renderItem:function(e){var n=e.item,r=e.index;return t.renderSingleItem(n,r)},containerType:"ScrollView",renderScrollComponent:t._renderScroll,mainStyle:Ie(Ie({},{overflowX:"visible",overflowY:"visible"}),w)}),c&&t.hasCrossDressBg&&(g=x.a.createElement(E.a,{style:[i()?e.crossDressPrdWrapPc:e.crossDressPrdWrap,Object(be.F)()&&{width:t.getWidth()-(t.isPad()?64:48)}]},g));break;default:g=null}return g})),C()(h()(t),"getViewContent",(function(e,n){var r=t.state,o=r.loadState,i=r.dataArray,a=o===ae.c.loadError&&0===i.length,l=Object(be.F)()&&t.isThree?{width:t.getWidth()-(t.isPad()?48:32)}:{};return x.a.createElement(E.a,{style:t.isPc()?{marginTop:3}:{}},t.renderTitleAndMore(e,n),a?t.getLoadingView(e,{showLoading:!0,loadState:ae.c.loadError}):x.a.createElement(E.a,{style:l},t.renderProductBody(e,n),t.renderBottom(e,n)))})),C()(h()(t),"getView",(function(){var e;t.getCrossDress();var n=h()(t),r=n.hasCrossDressBg,o=n.isPc,i=n.isPad,a=n.isThree,l=n.getWidth,s=t.props,c=s.configData,u=s.styleChange,d=s.groupStyleChange,p=(null==c?void 0:c.moreVal)===ae.d.current&&(null===(e=t.state.dataArray)||void 0===e?void 0:e.length)>0&&t.state.showFooter,f=(null==u?void 0:u.bgColor)&&!d,g=t.isPc()&&H.a.isIE()?{left:"50%",transform:"translateX(-50%)"}:{};return x.a.createElement(z.b,{themeStyles:function(e){return function(e,t){return t&&(e=G.a),U.a.create({noMarginBottom:{marginBottom:0},prdArea:{paddingLeft:16,paddingRight:16},prdAreaPad:{paddingLeft:24,paddingRight:24},prdAreaPc:{paddingLeft:0,paddingRight:0,marginLeft:"auto",marginRight:"auto",minWidth:A.a.safety_area,maxWidth:A.a.safety_area},moreBottomWrap:{display:"flex",marginLeft:24,marginRight:24,alignItems:"center",justifyContent:"center"},moreBottom:{textAlign:"center",display:"flex",flexDirection:"row",lineHeight:24,alignItems:"center",justifyContent:"center",maxWidth:"100%",paddingTop:15,paddingBottom:14},moreBottomTxt:J(J({},e.T7),e.C13),nodata:{alignItems:"center",justifyContent:"center",height:48,fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},touchView:{flexDirection:"row"},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},load:{margin:"auto",position:"absolute",top:80,width:"100%"},titleWrap:{flexDirection:"row",paddingTop:6,paddingBottom:10},titleWrapPad:{},titleWrapPc:{},titleWrapOneByThree:{paddingTop:9,paddingBottom:6,paddingLeft:12,paddingRight:12},titleAndSubTitle:{flex:1},title:J(J(J({},e.T10),e.C11),{},{fontWeight:"bold"}),titlePc:J({},e.T13),subTitle:J(J(J({},e.T7),e.C13),{},{fontFamily:V.a.fontFamilyBase,lineHeight:19,marginTop:2}),subTitlePc:J({},e.C14),moreWrap:{display:"flex",flexDirection:"row",justifyContent:"flex-end",overflow:"hidden",flexShrink:0,maxWidth:90},moreVal:J(J(J({},e.T7),e.C13),{},{paddingTop:10,marginTop:-10,paddingLeft:16,textAlign:"right"}),moreIcon:{flexShrink:0},oneByThreeWrap:J(J({},e.S31),{},{borderRadius:16,paddingTop:4,paddingBottom:4,marginLeft:16,marginRight:16,overflow:"hidden",width:"auto"}),oneByThreeWrapPad:{marginLeft:24,marginRight:24},oneByThreeWrapPc:{borderRadius:0,marginLeft:"auto",marginRight:"auto",width:A.a.safety_area,backgroundColor:"transparent",maxWidth:A.a.safety_area},crossDressPrdWrap:J(J({},e.S31),{},{marginLeft:8,marginRight:8,borderRadius:10,marginBottom:4}),crossDressPrdWrapPc:{borderRadius:10,backgroundColor:"transparent",marginBottom:t?4:0},paddgingTop8:{paddingTop:8},paddingBottom8:{paddingBottom:8}})}(e,r)}},(function(e,n,r){return t.originWidth=r,"web"!==k.a.OS&&t.switchScreenChangeOneRowData(),1===t.state.loadPageNum||t.state.noData?null:a?null!==(s=t.crossDressStyle)&&void 0!==s&&s.bgImg?x.a.createElement(D.a,{style:[e.oneByThreeWrap,i()&&e.oneByThreeWrapPad,o()&&e.oneByThreeWrapPc,!d&&e.paddgingTop8],source:{uri:null===(c=t.crossDressStyle)||void 0===c?void 0:c.bgImg},resizeMode:"stretch"},t.getViewContent(e,n)):x.a.createElement(E.a,{style:[e.oneByThreeWrap,i()&&e.oneByThreeWrapPad,o()&&e.oneByThreeWrapPc,null===(u=t.crossDressStyle)||void 0===u?void 0:u.imgStyle,f&&e.paddgingTop8]},t.getViewContent(e,n)):null!==(h=t.crossDressStyle)&&void 0!==h&&h.bgImg?x.a.createElement(D.a,{style:[e.prdArea,i()&&e.prdAreaPad,o()&&e.prdAreaPc,Object(be.F)()?{width:l()+12}:{},g,!p&&!d&&e.paddingBottom8,!d&&e.paddgingTop8],source:{uri:null===(m=t.crossDressStyle)||void 0===m?void 0:m.bgImg},resizeMode:"stretch"},t.getViewContent(e,n)):x.a.createElement(E.a,{style:[e.prdArea,i()&&e.prdAreaPad,o()&&e.prdAreaPc,Object(be.F)()?{width:l()+12}:{},g,null===(y=t.crossDressStyle)||void 0===y?void 0:y.imgStyle,f&&e.paddgingTop8,!p&&f&&e.paddingBottom8]},t.getViewContent(e,n));var s,c,u,h,m,y}))}));var l=e.configData||{},c=t.getListArr(t.props.configData.initData);t.requestPageSize=l.loadMoreParams.pageSize;var d=t.getRowNum(),p=1,f=l.loadMoreParams.pageIndex,g=[],m=[],y=!1,v=ae.c.loadMore,b=!1,w=!1;return c.length>0?(y=!0,m=c,g=c.slice(0,d*p),p+=1,f+=1,c.length<t.requestPageSize&&(w=!0,v=g.length===c.length?ae.c.loadAll:ae.c.loadMore)):b=!0,t.state={dataArray:g,allDataArray:m,requestPageNum:f,loadPageNum:p,loadPageSize:d,requestAllData:w,loadState:v,loadingPostion:"bottom",showFooter:y,noData:b,id:e.id||"",moreUrl:l.moreUrlType===ae.e.h5?l.moreActionUrl:""},t.isThree="ThreeColumnLayout"===l.layoutType,t}return p()(i,[{key:"componentDidMount",value:(t=a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.prefix=this.getPlatformPrefix();case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){"web"!==k.a.OS&&N.a.removeListener("onScrollEvent",(function(){})),this.clickTimer&&clearTimeout(this.clickTimer),this.setState=function(){}}},{key:"componentDidCatch",value:function(e,t){}},{key:"getCrossDress",value:function(){if(this.props.styleChange){var e,t;this.crossDressStyle=Object(be.i)(this.props.styleChange,this.getSize())||null;var n=Object(be.i)(this.props.groupStyleChange||{},this.getSize())||null;this.hasCrossDressBg=(null===(e=this.crossDressStyle)||void 0===e?void 0:e.bgImg)||!P()(null===(t=this.crossDressStyle)||void 0===t?void 0:t.imgStyle)||(null==n?void 0:n.bgImg)||!P()(null==n?void 0:n.imgStyle)}}},{key:"_http",value:function(e,t){return t=Ie({portal:Object(be.o)(this.getWidth()),lang:"zh-CN",country:"CN"},t),ve.a.get(e,t)}},{key:"_asyNcCallback",value:function(e){var t=this.state,n=t.loadPageNum,r=t.requestPageNum,o=t.loadPageSize,i=this.getListArr(e);if(i.length>0){var a=this.state.allDataArray.concat(i),l=a.slice(0,o*n),s=l.length===a.length;i.length>=this.requestPageSize?this.setState({allDataArray:a,dataArray:l,showFooter:!0,loadState:ae.c.loadMore,loadPageNum:n+1,requestPageNum:r+1}):this.setState({allDataArray:a,dataArray:l,showFooter:!0,requestAllData:!0,loadState:s?ae.c.loadAll:ae.c.loadMore,loadPageNum:n+1,requestPageNum:r+1})}else if(1!==r){var c=this.state.allDataArray.slice(0,o*n);this.setState({dataArray:c,showFooter:!0,loadState:ae.c.loadAll})}else this.setState({noData:!0})}},{key:"render",value:function(){return this.getView()}}]),i}(x.a.PureComponent);t.a=Object(Ce.a)(Pe)(Object(Te.a)(je))},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(35),a=n.n(i),l=n(17),s=n.n(l),c=n(26),u=n.n(c),d=n(5),p=n.n(d),f=n(6),h=n.n(f),g=n(2),m=n.n(g),y=n(8),v=n.n(y),b=n(7),w=n.n(b),S=n(4),C=n.n(S),O=n(1),P=n.n(O),T=n(39),x=n.n(T),I=n(0),k=n.n(I),E=n(54),j=n(37),R=n(43),L=n(126),_=n(152),D=n(145),N=n(270),W=n(49),A=n(40),B=n(48),M=n(103),F=n(433),H=n(432),z=n(102),U=n(119),V=n(1735),G=n(1740),Y=n(1736),J=n(1738),K=n(1731),q=n(185),Q=n(78),$=n(81),X=n(20),Z=n(283),ee=n(106),te=n(42),ne=n(29),re=n(12),oe=n(23),ie=n(33),ae=n(59),le=n(44),se=n(171),ce=n(3),ue=n(11),de=n(21),pe=n(10),fe={exposeItem_product:function(e){var t,n=this,r=this.props,o=r.pageCatCode,i=r.pageCatName,a=r.resSiteCode,l=r.resSiteName,s=null;return s=e[0].isBubble?{array:e.map((function(e,t){return{index:"",comId:n.props.id+"",ruleId:"",sId:"",row:"",column:"",dataCode:"",dataType:pe.c.SKU,productId:""}}))}:{array:e.map((function(e,t){var r,o,i;return{index:null===(r=e.itemIndex)||void 0===r?void 0:r.toString(),comId:n.props.id+"",ruleId:e.ruleId,sId:e.sid,row:"",column:"",dataCode:null!=e&&e.dataCode?null==e||null===(o=e.dataCode)||void 0===o?void 0:o.toString():"ADS",dataType:pe.c.SKU,productId:null!=e&&e.productId?null==e||null===(i=e.productId)||void 0===i?void 0:i.toString():""}}))},{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"商品卡片-曝光",eventType:pe.e.EVENT_TYPE_EXPOSURE,pageId:null===(t=this.props)||void 0===t?void 0:t.pageId,pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l},content:s.array}},exposeScrollEvent:function(e,t){var n,r,o,i=e,a=null,l=this.props,s=l.pageCatCode,c=l.pageCatName,u=l.resSiteCode,d=l.resSiteName,p={index:(null===(n=a="upward"===t?i[i.length-1]:i[0])||void 0===n?void 0:n.itemIndex)+"",sid:null===(r=a)||void 0===r?void 0:r.sid,ruleId:null===(o=a)||void 0===o?void 0:o.ruleId,comId:this.props.id?this.props.id:""};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"upward"===t?"上滑瀑布流":"下拉瀑布流",eventType:"upward"===t?pe.e.EVENT_TYPE_PULL_SLIDEUP:pe.e.EVENT_TYPE_PULL_DOWN,pageId:this.props.pageId,pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d},content:[p]}},clickItem_product:function(e,t,n){var r,o,i=n.url,a=n.prefix,l=n.clickType,s=Object(ce.F)()?this:this.props,c=s.pageCatCode,u=s.pageCatName,d=s.resSiteCode,p=s.resSiteName,f=s.pageId;return"更多"===l?(r="更多",o={comId:n.id+"",gotoURL:i,ruleId:n.ruleId,sId:n.sid,clickType:pe.b.CLICK_MORE}):"商品"!==l&&void 0!==l||(r=(null==e?void 0:e.prdName)||"商品",o={comId:n.id+"",gotoPageId:"",gotoURL:i,ruleId:n.ruleId,sId:n.sid,row:"",column:"",index:t+"",dataCode:"ad"===e.dataType?"ADS":e.skuCode+"",dateType:"ad"===e.dataType?pe.c.ADS:pe.c.SKU,clickType:pe.b.CLICK_GOODS_CONTENT,productId:"ad"===e.dataType?"":e.productId+""}),{data:{actionCode:"wx"===j.a.OS?"410000101":a.platformType+a.eventID,actionName:"商品卡片-点击-"+r,eventType:pe.e.EVENT_TYPE_CLICK,content:o,pageId:f,pageCatCode:c,pageCatName:u,resSiteCode:d,resSiteName:p}}}},he=n(25),ge=n(68),me=n(63),ye=n(127),ve=n(174),be=n(52),we=n.n(be),Se=n(605),Ce=n.n(Se),Oe=n(80),Pe=n.n(Oe),Te=n(110),xe=n.n(Te),Ie=n(34),ke=n.n(Ie),Ee=n(1734),je=n(87),Re=n(431),Le=n(446),_e=n(250),De=n(267),Ne=n(45),We=n.n(Ne),Ae=n(24),Be=n(50),Me=n(57);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e){return{marginBottom4:{marginBottom:4},marginBottom0:{marginBottom:0},bubbleWrapper:{maxHeight:163,display:"flex",flexDirection:"row",overflow:"hidden"},productTouchContainer:{borderWidth:1,borderColor:"red"},linearGradientWrapper:{borderRadius:8,position:"relative",marginTop:20,marginBottom:20},animatedContainer:{display:"flex",alignItems:"center",flexDirection:"row"},innerLinearGradientWrapper:{width:"100%",paddingTop:8,backgroundColor:"white",borderRadius:8,position:"absolute",top:0,left:0,right:0,bottom:0},gradientWrapper:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",paddingLeft:4,paddingRight:4},promotionCardImg:{width:56,height:56},promotionTextWrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",marginTop:4,marginBottom:4,paddingLeft:4,paddingRight:4,maxWidth:"100%",borderRadius:6.5,height:13,lineHeight:13},promotionText:He(He({},e.T0),e.C17),productNameText:He(He(He({paddingLeft:4,paddingRight:4,marginTop:2},e.T0),e.C17),{},{width:"100%",textAlign:"center"}),priceWrapper:{height:14,width:"100%",paddingLeft:2,paddingRight:2,marginTop:4,marginBottom:4,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},priceTextContainer:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},priceText:He(He({},e.T2),e.C17),originPriceText:He(He(He({},e.T0),e.C17),{},{opacity:.5,textDecorationLine:"line-through"})}},Ue=function(e){var t=ze(e);return Me.a.create(He({},t))},Ve=function(e){var t=ze(e);return Me.a.create(He({},t))},Ge=function(e){var t=ze(e);return Me.a.create(He({},t))};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var qe=function(e){v()(n,e);var t=Ke(n);function n(e){var r;return p()(this,n),r=t.call(this,e),P()(m()(r),"isHorizontalScreen",void 0),P()(m()(r),"isPadVerticalScreen",void 0),P()(m()(r),"isPadHorizontalScreen",void 0),P()(m()(r),"layoutWidth",void 0),P()(m()(r),"singlePromotionCarWidth",void 0),P()(m()(r),"screenPadding",void 0),P()(m()(r),"_panResponder",void 0),P()(m()(r),"moveTotalDistance",void 0),P()(m()(r),"screenCardSpacing",void 0),P()(m()(r),"bubbleScroller",void 0),P()(m()(r),"increaseIndex",void 0),P()(m()(r),"bubbleDataSource",void 0),P()(m()(r),"showNumInOneScreen",void 0),P()(m()(r),"reachTheBoundaryNum",void 0),P()(m()(r),"itemlist",void 0),P()(m()(r),"animateFinished",void 0),P()(m()(r),"bubbleRef",void 0),P()(m()(r),"onScroItem",void 0),P()(m()(r),"viewportHeight",void 0),P()(m()(r),"getViewReport",(function(){"ios"!==j.a.OS&&"android"!==j.a.OS||D.a&&D.a.VmallNative&&D.a.VmallNative.invokeNative&&D.a.VmallNative.invokeNative({service:"common",action:"getEnv",params:{}}).then((function(e){var t=e.rnPageHeight;r.viewportHeight=t})).catch((function(e){}))})),P()(m()(r),"listenViewScroll",(function(){r.onScroItem=W.a.addListener("onScrollEvent",(function(e){r._layout(r.bubbleRef).then(function(){var e=u()(s.a.mark((function e(t){var n,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"ios"===j.a.OS||"android"===j.a.OS?(n=t.pageY<-170||t.pageY>r.viewportHeight,r.viewMoveInOut(n)):(o=E.a.get("window").height,i=t.pageY<-170||t.pageY>o,r.viewMoveInOut(i));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))})),P()(m()(r),"viewMoveInOut",(function(e){e?(r.initAnimate(r.layoutWidth),r.bubbleScroller&&clearTimeout(r.bubbleScroller)):r.setInterBubble()})),P()(m()(r),"setStyleChange",(function(){var e=r.props.styleChange;ke()(e)||r.setState({crossDressingStyle:Object(ce.i)(e,Object(A.a)(r.layoutWidth))})})),P()(m()(r),"initAnimateWhenDomDidMount",(function(){var e=r.props.bubbleDataList;je.a.timing(r.state.getBiggerScale,{toValue:1.2,duration:380,useNativeDriver:!1}).start(),je.a.timing(r.state.getSmallScale,{toValue:1,duration:380,useNativeDriver:!1}).start();var t=0;t=x()(e)>=r.showNumInOneScreen?2.2*r.singlePromotionCarWidth+2*r.screenCardSpacing:0,je.a.timing(r.state.moveDistance,{toValue:-t,duration:1,useNativeDriver:!1}).start()})),P()(m()(r),"handleAppStateChange",(function(e){"active"===e&&r.setInterBubble(),"background"===e&&r.bubbleScroller&&clearTimeout(r.bubbleScroller)})),P()(m()(r),"_receiveRef",(function(e){e&&(r.bubbleRef=e,e.exposeObj={isBubble:!0},r.props.exposeBubbleRef(e))})),P()(m()(r),"getClickIndexFromClickPoint",(function(e){var t=r.props.bubbleDataList,n=r.state.activeIndex,o=[];o=x()(t)>=r.showNumInOneScreen?r.bubbleDataSource.slice(n,n+r.showNumInOneScreen):t;for(var i=x()(o),a=[],l=0,s=0;s<i;s++){var c=s%2!=0?.2*r.singlePromotionCarWidth:0,u=s>0?r.screenCardSpacing*s:0;l=r.screenPadding/2+u;var d=s>0&&a[s-1].xPoint2?a[s-1].xPoint2+r.screenCardSpacing:l;a[s]={xPoint1:d,xPoint2:d+r.singlePromotionCarWidth+c}}return xe()(a,(function(t){return t.xPoint1<e&&e<t.xPoint2}))})),P()(m()(r),"gotoActionUrl",function(){var e=u()(s.a.mark((function e(t,n){var o,i,a,l,c,u,d,p,f,h,g,m,y,v,b,w,S,C,O,P,T,I,k,E;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(o=t||{}).productId,a=o.skuCode,l=o.actionUrl,c=o.actionUrlWap,u=o.actionUrlWeb,d=o.adActionUrlWap,p=o.adActionUrlWeb,f=o.adActionUrl,h=r.state.activeIndex,g=r.props,m=g.bubbleDataList,y=g.comId,v=g.originDataArray,b=x()(m),w=r.props.prefix,S=B.a.isWap(r.layoutWidth)?c||d:u||p,C="web"===j.a.OS?S:l||f,T=(P=(O=n+h-2)>=b?O-b:O)>=x()(v)&&x()(v)%2!=0,I=T?P-x()(v):P,k=x()(m)>=r.showNumInOneScreen?I:n,e.next=14,Object(ce.p)(i,a);case 14:E=e.sent,r.props.clickItem_product(t,k,{prefix:w,id:y,url:C||E}),C?Object(ce.A)(C):Object(ae.d)(i,a);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P()(m()(r),"excuteAnimate",(function(e,t,n){var o=r.state.activeIndex,i=o;if(t>=0){i=o-2,r.increaseIndex=r.increaseIndex-1;var a=r.increaseIndex%2==0?.1*r.singlePromotionCarWidth:.1*-r.singlePromotionCarWidth;r.moveTotalDistance=r.state.moveDistance._value+2.2*r.singlePromotionCarWidth+2*r.screenCardSpacing-a}else{i=o+2,r.increaseIndex=r.increaseIndex+1;var l=r.increaseIndex%2==0?0:.1*r.singlePromotionCarWidth;r.moveTotalDistance=-(r.singlePromotionCarWidth*(i+i/2*.2)+r.screenCardSpacing*i)+l}if(e&&t<2&&t>-2){var s=r.getClickIndexFromClickPoint(n),c=r.state.activeIndex,u=r.bubbleDataSource[s+c];r.gotoActionUrl(u,s)}else r.setState({activeIndex:i},(function(){r.state.getBiggerScale.setValue(1),r.state.getSmallScale.setValue(1.2),r.handleAnimation(r.moveTotalDistance)})),r.setInterBubble()})),P()(m()(r),"initAnimate",(function(e){r.bubbleScroller&&clearTimeout(r.bubbleScroller);var t=r.props.bubbleDataList;r.isPadHorizontalScreen&&(r.screenPadding=48,r.screenCardSpacing=24,r.singlePromotionCarWidth=(e-r.screenPadding-168)/8.8),r.isPadVerticalScreen&&(r.screenPadding=48,r.screenCardSpacing=12,r.singlePromotionCarWidth=Math.round((e-r.screenPadding-60)/6.6*100)/100),Object(ce.a)(e)&&(r.screenPadding=32,r.screenCardSpacing=8,r.singlePromotionCarWidth=Math.round((e-r.screenPadding-24)/4.4*100)/100),r.increaseIndex=0,r.setState({activeIndex:2});var n=r.increaseIndex%2==0?0:.1*r.singlePromotionCarWidth,o=2.2*r.singlePromotionCarWidth+2*r.screenCardSpacing-n,i=.2*-r.singlePromotionCarWidth,a=x()(t)>=r.showNumInOneScreen?o:i;x()(t)>=r.showNumInOneScreen?(r.singlePromotionCarWidth&&r.state.moveDistance.setValue(-a),r.setInterBubble()):r.state.moveDistance.setValue(0)})),P()(m()(r),"initLayoutWidth",(function(e){var t="medium"===Object(A.a)(e);isNaN(e)||r.layoutWidth===e||(r.isHorizontalScreen=r.layoutWidth<e&&e>=1024,r.isPadHorizontalScreen=r.isHorizontalScreen&&t,r.isPadVerticalScreen=!r.isHorizontalScreen&&t,r.getDrawCardWapStyles(e),r.initAnimate(e)),r.layoutWidth=e,r.isPadHorizontalScreen=r.isHorizontalScreen&&t,r.isPadVerticalScreen=!r.isHorizontalScreen&&t})),P()(m()(r),"setInterBubble",(function(){var e=r.props.bubbleDataList;r.bubbleScroller&&clearTimeout(r.bubbleScroller),x()(e)>=r.showNumInOneScreen&&(r.bubbleScroller=setTimeout((function(){r.excuteAnimate(!1,-1)}),3e3))})),P()(m()(r),"getDrawCardWapStyles",(function(e){var t=ze;r.isPadHorizontalScreen&&(t=Ue,r.screenPadding=48,r.showNumInOneScreen=8,r.screenCardSpacing=24,r.singlePromotionCarWidth=(e-r.screenPadding-168)/8.8,r.bubbleDataSource=r.handleProductListData(8)),r.isPadVerticalScreen&&(t=Ve,r.screenPadding=48,r.showNumInOneScreen=6,r.screenCardSpacing=12,r.singlePromotionCarWidth=Math.round((e-r.screenPadding-60)/6.6*100)/100,r.bubbleDataSource=r.handleProductListData(6)),Object(ce.a)(e)&&(t=Ge,r.screenPadding=32,r.showNumInOneScreen=4,r.screenCardSpacing=8,r.singlePromotionCarWidth=Math.round((e-r.screenPadding-24)/4.4*100)/100,r.bubbleDataSource=r.handleProductListData(4)),r.setState({DrawCardWapStyles:t})})),P()(m()(r),"handleAnimation",(function(e){var t=r.state.activeIndex,n=r.props.bubbleDataList,o=x()(r.bubbleDataSource)-r.showNumInOneScreen,i=x()(n);r.animateFinished=!1,je.a.timing(r.state.moveDistance,{toValue:e,duration:480,useNativeDriver:!1}).start((function(){if(o===t){var e=r.increaseIndex%2==0?0:.1*-r.singlePromotionCarWidth;r.reachTheBoundaryNum=r.reachTheBoundaryNum+1;var n=2.2*r.singlePromotionCarWidth+2*r.screenCardSpacing+e;r.state.moveDistance.setValue(-n),r.setState({activeIndex:2})}if(0===t){r.reachTheBoundaryNum=r.reachTheBoundaryNum+1;var a=r.increaseIndex%2==0?0:.1*-r.singlePromotionCarWidth,l=r.singlePromotionCarWidth*(i+i/2*.2)+r.screenCardSpacing*i+a;r.state.moveDistance.setValue(-l),r.setState({activeIndex:i})}r.animateFinished=!0})),je.a.timing(r.state.getBiggerScale,{toValue:1.2,duration:380,useNativeDriver:!1}).start(),je.a.timing(r.state.getSmallScale,{toValue:1,duration:380,useNativeDriver:!1}).start()})),P()(m()(r),"handleProductListData",(function(e){var t=r.props,n=t.bubbleDataList,o=t.colorList,i=n;x()(n)>=e&&(i=[Pe()(n,-2),Pe()(n,-1)].concat(a()(n),a()(Ce()(n,0,e))));var l=o||{},s=l.prod1bgColor1,c=l.prod1bgColor2,u=l.prod2bgColor1,d=l.prod2bgColor2,p=l.prod3bgColor1,f=l.prod3bgColor2,h=[[null!=s?s:"#FFAE72",null!=c?c:"#FF7223"],[null!=u?u:"#72BAFF",null!=d?d:"#7844FF"],[null!=p?p:"#71BF7D",null!=f?f:"#22A820"]];return we()(i,(function(e,t){var n=(t+3)%3;return Je(Je({},e),{},{prodCardColor:h[n]})}))})),P()(m()(r),"handlePriceData",(function(e){var t,n,o=e.displayPrice,i=e.salePrice,a=e.priceMode,l=e.originPrice,s=r.props.originPriceShow,c=o||0===o?o:i||0===i?i:"";return 2===Number(a)?(t=Object(H.b)("without_price"),n=""):c&&c!==l?(t="¥"+Ee.a.priceFormat(c),n=s?"¥"+Ee.a.priceFormat(l):""):(t=l||0===l?"¥"+Ee.a.priceFormat(l):"",n=""),{newSalePrice:t,underlinedPrice:n}})),P()(m()(r),"setIndexWidthCls",(function(e,t){var n,o=r.increaseIndex%2==0?r.state.getSmallScale:r.state.getBiggerScale,i=r.increaseIndex%2==0?r.state.getBiggerScale:r.state.getSmallScale;return n=Je(Je({},n),{},{container:{transform:[{scale:t%2==0?o:i}]}})})),P()(m()(r),"rendercardImg",(function(e,t,n){var o=r.props.promotionShow,i=n.imgUrl,a=o?85:72;return k.a.createElement(R.a,{style:[e.innerLinearGradientWrapper,{height:a}]},k.a.createElement(R.a,{style:[e.gradientWrapper]},k.a.createElement(R.a,null,k.a.createElement(Ae.a,{imgStyle:e.promotionCardImg,resizeMode:"contain",imgUri:i,svgColor:"#000"})),o?r.renderPrdPromotion(e,n):null))})),P()(m()(r),"renderPrdPromotion",(function(e,t){var n=(r.props.colorList||{}).textColor,o=t.promotionInfo,i=t.prodCardColor,a=n||"white",l="web"===j.a.OS?11:12;return o?k.a.createElement(We.a,{start:{x:0,y:0},end:{x:1,y:0},colors:i,style:[e.promotionTextWrapper]},k.a.createElement(_.a,{style:[e.promotionText,{color:a,height:l}],numberOfLines:1},o)):k.a.createElement(_.a,{style:[e.promotionText,{color:a}],numberOfLines:1})})),P()(m()(r),"renderProductNameDom",(function(e,t,n){var o=n.prdName,i=n.adTitle,a=r.props,l=a.productNameShow,s=a.originPriceShow,c=(a.colorList||{}).textColor||"white";return l?o||i?k.a.createElement(_.a,{style:[e.productNameText,s?e.marginBottom0:e.marginBottom4,t.T0,{color:c}],numberOfLines:1},o||i):k.a.createElement(_.a,{style:[e.productNameText,s?e.marginBottom0:e.marginBottom4,t.T0,{color:c}],numberOfLines:1}):null})),P()(m()(r),"renderPriceDom",(function(e,t,n){var o=r.props,i=o.colorList,a=o.originPriceShow,l=(i||{}).textColor||"white",s=r.handlePriceData(n),c=s.newSalePrice,u=s.underlinedPrice;return a?k.a.createElement(R.a,{style:[e.priceWrapper]},k.a.createElement(_.a,{numberOfLines:1,style:e.priceTextContainer},c?k.a.createElement(_.a,{style:[e.priceText,{color:l}]},c):k.a.createElement(_.a,{style:[e.priceText,{color:l}]}),k.a.createElement(_.a,{style:{fontSize:8,transform:[{scale:.5}],color:"transparent"}},"1"),u?k.a.createElement(_.a,{style:[e.originPriceText,{color:l+t.opacityMap[t.C14.opacity]}]},u):null)):null})),P()(m()(r),"renderbubbleWrapperDom",(function(e,t){var n={transform:[{translateX:r.state.moveDistance}]};return k.a.createElement(R.a,{style:[e.bubbleWrapper,{width:r.layoutWidth-r.screenPadding,left:r.screenPadding/2}],ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r._receiveRef(e)}))},k.a.createElement(je.a.View,o()({},r._panResponder.panHandlers,{style:[n,e.animatedContainer]}),we()(r.bubbleDataSource,(function(n,o){return r.renderSinglePromotionCardDom(e,t,n,o)}))))})),P()(m()(r),"renderSinglePromotionCardDom",(function(e,t,n,o){var i=r.setIndexWidthCls(e,o),a=r.props.promotionShow,l=r.screenCardSpacing+.1*r.singlePromotionCarWidth,s=a?85:72;return k.a.createElement(je.a.View,{key:o,style:[{width:r.singlePromotionCarWidth,marginRight:l},i.container]},k.a.createElement(We.a,{start:{x:0,y:0},end:{x:1,y:0},colors:n.prodCardColor,style:[e.linearGradientWrapper]},r.rendercardImg(e,t,n),k.a.createElement(R.a,{style:{marginTop:s}},r.renderProductNameDom(e,t,n),r.renderPriceDom(e,t,n))))})),r.state={DrawCardWapStyles:ze,moveDistance:new je.a.Value(0),getBiggerScale:new je.a.Value(1),getSmallScale:new je.a.Value(1.2),activeIndex:2,crossDressingStyle:null},r.getViewReport(),r.singlePromotionCarWidth=0,r.increaseIndex=0,r.reachTheBoundaryNum=0,r.layoutWidth=0,r.isHorizontalScreen=E.a.get("window").width-E.a.get("window").height>0&&E.a.get("window").width>=1024,r.itemlist=[],r.animateFinished=!0,r.screenPadding=0,r.viewportHeight=0,r}return h()(n,[{key:"componentDidMount",value:function(){var e=this.props.bubbleDataList;this.setStyleChange(),this.getDrawCardWapStyles(this.layoutWidth),this.initAnimateWhenDomDidMount(),x()(e)>=this.showNumInOneScreen&&this.setInterBubble(),Re.a.addEventListener("change",this.handleAppStateChange)}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillMount",value:function(){var e=this;this._panResponder=Le.a.create({onStartShouldSetPanResponder:function(e,t){return!0},onStartShouldSetPanResponderCapture:function(e,t){return!0},onMoveShouldSetPanResponder:function(e,t){return!0},onMoveShouldSetPanResponderCapture:function(e,t){return!0},onPanResponderStart:function(){},onPanResponderGrant:function(){},onPanResponderMove:function(){},onPanResponderRelease:function(t,n){var r=e.props.bubbleDataList,o=n.dx,i=n.x0;if(e.animateFinished){if(x()(r)>=e.showNumInOneScreen)e.excuteAnimate(!0,o,i),e.setInterBubble();else if(o<2&&o>-2){var a=e.getClickIndexFromClickPoint(i),l=r[a];e.gotoActionUrl(l,a)}}}})}},{key:"componentWillUnmount",value:function(){this.bubbleScroller&&clearTimeout(this.bubbleScroller)}},{key:"_layout",value:function(e){var t=Object(_e.a)(e)||0;return new Promise((function(e){De.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"render",value:function(){var e,t=this,n=this.state.crossDressingStyle,r=(n||{}).bgImg,o=void 0===r?"":r,i=null!=n&&null!==(e=n.imgStyle)&&void 0!==e&&e.backgroundColor?null==n?void 0:n.imgStyle:{},a={width:this.layoutWidth,left:-this.screenPadding/2};return k.a.createElement(z.b,{themeStyles:this.state.DrawCardWapStyles},(function(e,n,r){return t.initLayoutWidth(r),k.a.createElement(Be.a,{resizeMode:"stretch",imgUri:o,imgViewStyle:[i],style:[a]},t.renderbubbleWrapperDom(e,n))}))}}]),n}(I.PureComponent),Qe=n(114),$e=n(139),Xe=n(200),Ze=n(172);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var rt=new $e.a,ot="1,1,1,106",it="1,3,1,106",at=0,lt=function(e){v()(r,e);var t,n=nt(r);function r(e){var t;p()(this,r),t=n.call(this,e),P()(m()(t),"boxWidth",void 0),P()(m()(t),"colGutter",void 0),P()(m()(t),"itemWidth",void 0),P()(m()(t),"itemHeight",void 0),P()(m()(t),"headHeight",0),P()(m()(t),"mainStyleMg",0),P()(m()(t),"itemlist",[]),P()(m()(t),"visibleForItemList",[]),P()(m()(t),"isClickMakeGuessRecCardShow",!1),P()(m()(t),"customStyle",null),P()(m()(t),"currClickIndex",void 0),P()(m()(t),"loadMore",!0),P()(m()(t),"totalPage",1),P()(m()(t),"originWidth",E.a.get("window").width),P()(m()(t),"originHeight",E.a.get("window").height),P()(m()(t),"reportInfo",{sid:"",ruleId:""}),P()(m()(t),"clickTimer",void 0),P()(m()(t),"loadAllTimer",void 0),P()(m()(t),"deviceRes",null),P()(m()(t),"prefix",void 0),P()(m()(t),"crossDressStyle",{bgImg:"",imgStyle:{},textStyle:{}}),P()(m()(t),"homeRefreshListener",void 0),P()(m()(t),"layoutProvider",void 0),P()(m()(t),"calculateHeightObj",void 0),P()(m()(t),"timer",void 0),P()(m()(t),"playerIndex",[]),P()(m()(t),"playerList",[]),P()(m()(t),"hasFooter",void 0),P()(m()(t),"hasLoadMore",void 0),P()(m()(t),"requestPageSize",0),P()(m()(t),"loadPageSize",20),P()(m()(t),"maxLoadPageSize",20),P()(m()(t),"needRequestNextPage",!1),P()(m()(t),"activePlayerIndex",-1),P()(m()(t),"screenType",Object(A.a)(t.originWidth)),P()(m()(t),"getLiveActivity",(function(e){var t=Object(Ze.a)();e.version=e.version||1;var n="".concat(ue.a.openApiDomain,"mcp/activity/getLiveActivity?").concat(t,"&version=").concat(e.version);return ne.a.get(n)})),P()(m()(t),"getSize",(function(){var e=t.originWidth;return("web"===j.a.OS||t.props.isNewWaterfall)&&(e=Object(le.d)(t.props.pageType||"homePage").screenWidth),Object(A.a)(e)})),P()(m()(t),"isPc",(function(){return"large"===t.getSize()})),P()(m()(t),"isPad",(function(){return"medium"===t.getSize()})),P()(m()(t),"isApp",(function(){return"small"===t.getSize()})),P()(m()(t),"isApkOrIos",(function(){return"android"===j.a.OS||"ios"===j.a.OS})),P()(m()(t),"getWidth",(function(){var e=t.originWidth;return("web"===j.a.OS||t.props.isNewWaterfall)&&(e=Object(le.d)(t.props.pageType||"homePage").screenWidth),e})),P()(m()(t),"getHeight",(function(){return Object(le.d)(t.props.pageType||"homePage").screenHeight})),P()(m()(t),"isPadHorizontal",(function(){return t.isPad()&&t.getWidth()>=t.getHeight()&&t.getWidth()>=1024})),P()(m()(t),"getPlatformPrefix",(function(){return{platformType:t.isApkOrIos()?pe.f.APP:t.isPc()?pe.f.PC:pe.f.WAP,eventID:t.isApkOrIos()?pe.d.APP:t.isPc()?pe.d.PC:pe.d.WAP}})),P()(m()(t),"getColumn",(function(){var e=t.getVariousColumn();return t.isApp()?e.appColumn:t.isPadHorizontal()?e.padHColumn:t.isPad()?e.padVColumn:e.pcColumn})),P()(m()(t),"getVariousColumn",(function(){var e,n=null;switch(((null===(e=t.props)||void 0===e?void 0:e.configData)||{}).layoutType){case"ProductBigCard":case"OneColumnLayout":n={appColumn:1,padVColumn:1,padHColumn:2,pcColumn:3};break;case"ThreeColumnLayout":n={appColumn:3,padVColumn:3,padHColumn:4,pcColumn:5};break;case"OnePlusNLayout":case"OnePlusNHorizontalLayout":n={appColumn:2,padVColumn:2,padHColumn:3,pcColumn:5};break;default:n={appColumn:2,padVColumn:2,padHColumn:3,pcColumn:4}}return n})),P()(m()(t),"getOneScreenDataNumByRows",(function(e){var n,r=(null===(n=t.props)||void 0===n?void 0:n.configData)||{},o=r.layoutType,i=r.rowsPerScreen,a=1,l=(void 0===i?1:i)||1,s=t.getVariousColumn(),c=t.getColumn();switch("isMax"===e&&(c=t.isPc()?s.pcColumn:Math.max(s.appColumn,s.padHColumn,s.padVColumn)),o){case"OnePlusNLayout":case"OnePlusNHorizontalLayout":a=(l=!l||l<2?2:l)*c-1;break;case"StaggeredLayout":case"FourthColumnLayout":a=20;break;default:a=l*c}return a})),P()(m()(t),"handlePageSize",(function(){var e=t.props.configData,n=t.getOneScreenDataNumByRows(),r=t.getOneScreenDataNumByRows("isMax");t.hasLoadMore=[te.d.up].includes(e.moreVal),t.hasFooter=t.hasLoadMore||e.moreVal===te.d.bottom&&e.moreUrlType===te.e.h5,t.maxLoadPageSize=r,t.needRequestNextPage=Boolean(t.props.totalRows),e.isAsync?t.requestPageSize=r:t.requestPageSize=t.props.defaultPageSize,t.hasLoadMore?(t.loadPageSize=r,t.needRequestNextPage&&t.requestPageSize<t.loadPageSize&&(t.loadPageSize=t.requestPageSize)):t.loadPageSize=n})),P()(m()(t),"updateDataWhenSwitchScreen",(function(){var e=t.state.allDataArray,n=t.getOneScreenDataNumByRows();t.hasLoadMore||n===t.loadPageSize||(t.loadPageSize=n,t.setState({dataArray:e.slice(0,t.loadPageSize)}))})),P()(m()(t),"checkGuss",(function(e){return!e.isGuessRecCard})),P()(m()(t),"resetClick",(function(e){return null!=e&&e.hadClick&&(e.hadClick=!1),e})),P()(m()(t),"onHomeRefresh",(function(e){if(B.a.isIOS()&&t.props.pageType===e&&t.state.isWaterfall){var n=t.state.dataArray.filter(t.checkGuss);n=n.map(t.resetClick),t.setState({dataArray:n})}B.a.isAndroid()&&t.props.pageType===e&&t.state.isWaterfall&&t.props.isNewWaterfall&&t.setState({dataArray:t.state.initDataArray,loadPageNum:2,loadState:te.c.loadingIcon},(function(){t.loadMore=!0}))})),P()(m()(t),"receiveRef",(function(e,n,r){e&&(e.exposeObj=n,t.itemlist[r]=e)})),P()(m()(t),"exposeBubbleRef",(function(e){t.itemlist=[],t.itemlist[0]=e})),P()(m()(t),"recportAGC",(function(e){t.isApkOrIos()&&Object(se.c)({time:0,exceptionType:e.exceptionType,pageid:e.pageid||t.props.pageId,requestAddress:e.requestAddress,comid:(e.comid||t.props.id)+"",reason:e.reason})})),P()(m()(t),"setVideoPlayerIndex",(function(e,n){t.playerIndex[e]=n})),P()(m()(t),"stopAllVideoPlayer",(function(){for(var e=0;e<t.playerList.length;e++)t.playerList[e]&&"function"==typeof t.playerList[e].play&&t.playerList[e].pause();t.activePlayerIndex=-1})),P()(m()(t),"stopVideoPlayer",(function(){for(var e=0;e<t.playerList.length;e++)t.playerList[e]&&"function"==typeof t.playerList[e].play&&e!==t.activePlayerIndex&&t.playerList[e].pause()})),P()(m()(t),"getSinglePrdProps",u()(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.configData,r=n.layoutType,null!=n&&n.buyIconShow&&(n.prdType="activity"),"android"!==j.a.OS||!["TwoColumnLayout","StaggeredLayout"].includes(r)){e.next=6;break}return e.next=5,Object(ie.i)();case 5:n.isFoldScreen=e.sent;case 6:e.t0=r,e.next="OneColumnLayout"===e.t0?9:"ProductBigCard"===e.t0?13:"OnePlusNLayout"===e.t0?17:"ThreeColumnLayout"===e.t0?21:"StaggeredLayout"===e.t0?24:26;break;case 9:return n.singlePrdStructure="l2r",n.prdImgProportion=1,"activity"===n.prdType&&t.isPadHorizontal()?n.priceAllLength=16:n.priceAllLength=0,e.abrupt("break",26);case 13:return n.prdType="activity",n.singlePrdStructure="t2bBigContent",n.prdNameNum=1,e.abrupt("break",26);case 17:return n.prdType="base",n.prdNameNum=1,t.isPc()||(n.singlePrdStructure="diagonal",n.priceShowType="topToBottom"),e.abrupt("break",26);case 21:return n.commentCountShow=!1,n.priceOverflowType="tail",e.abrupt("break",26);case 24:return t.isPc()&&(n.layoutType="TwoColumnLayout"),e.abrupt("break",26);case 26:t.isPc()&&"l2r"!==n.singlePrdStructure&&(n.prdNameNum=1),t.mainStyleMg=t.isPc()?24.01:"OneColumnLayout"===(null==n?void 0:n.layoutType)||"personal"===t.props.pageType||"activity"===t.props.pageType?12.01:8.01;case 28:case"end":return e.stop()}}),e)})))),P()(m()(t),"handleCustomStyle",(function(){var e=t.props.configData,n=e.layoutType,r=e.buyIconShow;"OnePlusNLayout"===n?t.customStyle=ee.g:"OnePlusNHorizontalLayout"===n?t.customStyle=ee.a:"OneColumnLayout"===n?t.customStyle=r?ee.c:ee.b:"TwoColumnLayout"===n?t.customStyle=ee.e:"ThreeColumnLayout"===n?t.customStyle=ee.f:t.state.isWaterfall&&!t.isPc()?t.isPadHorizontal()?t.customStyle=ee.j:t.customStyle=ee.h:t.customStyle=null})),P()(m()(t),"onHeadLayout",(function(e){var n,r,o=(null==e||null===(n=e.nativeEvent)||void 0===n||null===(r=n.layout)||void 0===r?void 0:r.height)||0;t.headHeight=o})),P()(m()(t),"onClickSinglePrd",function(){var e=u()(s.a.mark((function e(n,r,o){var i,a,l,c,u,d,p,f,h,g,m,y,v,b,w,S,C,O,P,T,x,I,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((new Date).getTime()-at<500)){e.next=3;break}return e.abrupt("return");case 3:if(i=t.props.id,a=t.state,l=a.isWaterfall,c=a.dataArray,u=t.reportInfo,d=u.sid,p=u.ruleId,f="web"===j.a.OS,h="ad"!==n.dataType,g=String(n.productId),m=String(n.skuCode),y={id:i,prefix:t.prefix,ruleId:p,sid:d},!h){e.next=14;break}return e.next=8,Object(ae.a)(g,m);case 8:b=e.sent,null===(v=t.props)||void 0===v||v.clickItem_product(n,r,tt({url:b},y)),t.isApkOrIos()&&l&&!n.hadClick&&(w=n.productId?[n.productId+""]:[],S=n.skuCode?[n.skuCode+""]:[],c[o].hadClick=!0,t.currClickIndex=void 0===n.originIndex?o:n.originIndex,t.getGuessRecData(w,S,o)),Object(ae.d)(g,m),e.next=19;break;case 14:C=n.adActionUrl,O=void 0===C?"":C,P=n.adActionUrlWeb,T=void 0===P?"":P,x=n.adActionUrlWap,I=void 0===x?"":x,k=t.isApkOrIos()?O:t.isPc()?T:I,(t.isApkOrIos()||Object(ie.j)())&&Object(ae.b)(k),n.prdName="ADS",t.props.clickItem_product&&t.props.clickItem_product(n,o,tt({url:k},y)),f&&Object(ae.b)(k);case 19:at=(new Date).getTime();case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),P()(m()(t),"onClickTitleMore",(function(){var e=t.reportInfo,n=e.sid,r=e.ruleId;t.props.clickItem_product({},-1,{clickType:"更多",url:t.state.moreUrl,id:t.props.id,prefix:t.prefix,ruleId:r,sid:n}),Object(ae.b)(t.state.moreUrl)})),P()(m()(t),"_loadMore",(function(){var e=t.props,n=e.configData,r=e.totalRows;if(t.loadMore){t.loadMore=!1;var o=t.state.isWaterfall&&!t.isPc()&&"web"===j.a.OS;if((Object(ie.j)()||o)&&11===t.state.loadPageNum)return t.loadMore=!1,void t.setState({loadState:te.c.loadAll,showLoading:!0});if(n.asyncRequestUrl)t._getRecommendData();else{t.loadMore=!0;var i=m()(t).loadPageSize,l=t.state,s=l.dataArray,c=l.loadPageNum;if(t.needRequestNextPage){var u=t.state.allDataArray,d=u.length===r;if(t.setState({showLoading:!0}),s.length===r)t.loadMore=!1,t.setState({loadState:te.c.loadAll,loadPageNum:c+1});else if(d||u.length-s.length>=i){var p=u.slice(0,c*i),f=d&&p.length===u.length;t.setState({dataArray:p,loadPageNum:c+1,loadState:f?te.c.loadAll:te.c.loadingIcon})}else t._getPageDataSource()}else{var h,g,y=s.concat(null===(h=t.props)||void 0===h||null===(g=h.dataArray)||void 0===g?void 0:g.slice(c*i,(c+1)*i));c>=t.totalPage?(t.loadMore=!1,t.setState({loadState:te.c.loadAll,loadPageNum:c+1})):t.setState({dataArray:a()(y),loadState:te.c.loadingIcon,loadPageNum:c+1})}}}})),P()(m()(t),"_getPageDataSource",(function(){t.loadMore=!1;var e=t.props.dataSourceCode,n={loadState:te.c.loadError},r={dataSourceList:e,pageIndex:t.state.requestPageNum,pageSize:t.requestPageSize};Object(oe.j)(r).then((function(e){var r={};e.success&&e.pageData?(r=e.pageData,t._getDataSourceCallback(r)):t.setState(n)})).catch((function(){t.setState(n)}))})),P()(m()(t),"_getRecommendData",(function(){t.loadMore=!1,t.setState({showLoading:!0,loadState:te.c.loadingIcon}),Object(ie.j)()?t._getRecommendDataDetail():rt.getCsrftoken().finally((function(){t._getRecommendDataDetail()}))})),P()(m()(t),"_getRecommendDataDetail",(function(){var e=t.props.configData,n=t._http(e.asyncRequestUrl,tt({pageNum:t.state.loadPageNum,pageSize:t.requestPageSize},e.loadMoreParams)),r=new Promise((function(e,t){setTimeout((function(){t(new Error("Network Error"))}),5e3)}));Promise.race([n,r]).then((function(e){t._getRecommendCallback(e)})).catch((function(){t.setState({showLoading:!0,loadState:te.c.loadError})}))})),P()(m()(t),"initData",u()(s.a.mark((function e(){var n,r,o,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.props,r=n.configData,o=n.dataArray,i=void 0===o?[]:o,a=n.totalRows,r.isAsync?t._getRecommendData():(t.hasLoadMore?(i.length>=t.loadPageSize&&(t.totalPage=Math.ceil((t.needRequestNextPage?a:i.length)/t.loadPageSize)),1===t.totalPage&&(t.loadMore=!1),t.setState({noData:0===i.length,loadState:1===t.totalPage?te.c.loadAll:te.c.loadingIcon})):(t.loadMore=!1,setTimeout((function(){t.setState({noData:0===i.length,loadState:te.c.loadAll,showLoading:!1})}),200)),i.length<=0&&("product data is empty",t.recportAGC({exceptionType:te.b.dataException,requestAddress:te.g.getPageInfoListAsync,reason:"product data is empty"})));case 2:case"end":return e.stop()}}),e)})))),P()(m()(t),"getGuessRecData",function(){var e=u()(s.a.mark((function e(n,r,o){var i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.buildGuessRecParams(n,r);case 2:i=e.sent,l=a()(t.state.dataArray),Object(oe.o)(i).then((function(e){t.getGuessRecDataCallBack(e,l,o)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),P()(m()(t),"getGuessRecDataCallBack",(function(e,n,r){var o;if((null==e||null===(o=e.productList)||void 0===o?void 0:o.length)>=4){var i=[];e.productList.forEach((function(n){var o={imgUrl:t.handleImg({photoPath:n.photoPath,webpImgUrl:n.photoPathMainWebp}),prdName:n.briefName,productId:n.productId,skuCode:n.skuCode,comId:t.props.id,ruleId:e.ruleId,sId:e.sid,currClickIndex:r};i.push(o)})),n.splice(r+1,0,{isGuessRecCard:!0,guessReclist:i}),t.isClickMakeGuessRecCardShow=!0,t.setState({dataArray:n})}})),P()(m()(t),"buildGuessRecParams",function(){var e=u()(s.a.mark((function e(n,r){var o,i,a,l,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=m()(t),i=o.getSize,a=o.isApkOrIos,l={portal:(a()?re.f.APP:"large"===i()?re.f.WEB:re.f.WAP)+"",lang:"zh-CN",country:"CN",pageNum:1,pageSize:4,isRecommended:!0,sceneId:a()?ot:it},c={},"web"!==j.a.OS){e.next=6;break}c={tid:Object(ge.c)(),uid:M.a.get("uid")||"",displayIds:n,skuCode:r},e.next=13;break;case 6:if(e.t0=t.deviceRes,e.t0){e.next=11;break}return e.next=10,Object(ie.b)("getDeviceInfo");case 10:e.t0=e.sent;case 11:u=e.t0,c={deviceType:null==u?void 0:u.deviceType,tid:null==u?void 0:u.tid,uid:null==u?void 0:u.uid,displayIds:JSON.stringify(n),skuCode:JSON.stringify(r)};case 13:return e.abrupt("return",tt(tt({},c),l));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P()(m()(t),"getItemTxtHeight",(function(){var e=135;switch(t.props.configData.layoutType){case"TwoColumnLayout":t.isPad()&&(e=177);break;case"ThreeColumnLayout":e=t.isApp()?118:164;break;case"OnePlusNHorizontalLayout":t.isPad()&&(e=150)}return e})),P()(m()(t),"getItemWidth",(function(e,n,r){return t.itemWidth=Math.floor((e-(n-1)*r)/n),t.itemWidth})),P()(m()(t),"getItemHeight",(function(){var e,n=t.props.configData,r=n.layoutType,o=n.prdImgProportion,i=n.isPadHorizontal,a=t.state,l=a.hidePromOrSellPoint,s=a.hidePromTags,c=a.hideReview;if("OneColumnLayout"===r){var u=t.isPc()?.484*t.itemWidth:t.isApp()||i?.427*t.itemWidth:.362*t.itemWidth;n.imgWrapWidth=u,n.imgWidth=u-(t.isPc()?42:i?40:t.isPad()?48:32),e=Math.round(u/(o||1))}else if(["TwoColumnLayout","ThreeColumnLayout"].includes(r)){e=t.itemWidth+t.getItemTxtHeight();var d=0;t.isPc()?(e=l&&s&&c?356:l&&s&&!c?358:l&&c&&!s?380:387,"ThreeColumnLayout"===n.layoutType&&(e=l&&s?282:l&&!s||s&&!l?304:328)):(l&&(d=t.isPad()?21:16),s&&(d+=t.isPad()?22:19),c&&(d+=t.isPad()?26:18),e-=d)}return e})),P()(m()(t),"handleImg",(function(e){var n=e.photoPath,r=e.webpImgUrl,o=/(http|https):\/\/([\w.]+\/?)\S*/,i=o.test(n)?"":ue.a.cmsCndProdPath,a=i+n;return t.isApkOrIos()&&r&&(a=(i=o.test(r)?"":ue.a.cmsCndProdPath)+r),a})),P()(m()(t),"getLoadingView",(function(e,n){var r,o,i,a,l,s=null!==(r=t.props)&&void 0!==r&&null!==(o=r.styleChange)&&void 0!==o&&o.fontColor?{color:null===(i=t.props)||void 0===i||null===(a=i.styleChange)||void 0===a?void 0:a.fontColor,opacity:1}:{},c=t.state.isWaterfall||n||0===(null===(l=t.state.dataArray)||void 0===l?void 0:l.length)?0:t.colGutter,u=n&&!t.isPc()?t.getWidth():t.boxWidth;return k.a.createElement(R.a,{style:[e.loadingWrap,{paddingLeft:c}]},k.a.createElement(F.a,{showLoading:t.state.showLoading,position:t.state.loadingPostion,errorCallback:t.needRequestNextPage?t._getPageDataSource:t._getRecommendData,loadState:t.state.loadState,width:u||"100%",height:t.state.loadState===te.c.loadAll?48:56,iconSize:24,titleStyle:tt(tt({},e.lodingTitle),s)}))})),P()(m()(t),"renderTitleAndMore",(function(e,n){var r=t.isApkOrIos()&&t.state.isWaterfall&&t.props.isNewWaterfall;return t.state.noData?null:k.a.createElement(R.a,{onLayout:t.props.isNewWaterfall&&t.onHeadLayout,style:[tt({},r?{backgroundColor:n.bgColor}:{}),r&&{paddingTop:t.mainStyleMg}]},k.a.createElement($.a,{isDisplayTitleBar:e.titleShow,title:e.cardTitle,subTitle:(null==e?void 0:e.moreTitle)||Object(H.b)("notice_more"),moreUrl:t.state.moreUrl,onClickMore:t.onClickTitleMore,showSetting:null==e?void 0:e.showSetting,imgNormal:null==e?void 0:e.imgNormal,imgDarkMode:null==e?void 0:e.imgDarkMode,styleChange:n,isDisplayMore:!t.props.withTabs&&(null==e?void 0:e.moreUrlType)===te.e.h5&&e.moreVal===te.d.topRight,pageType:t.props.pageType,titleLocation:null==e?void 0:e.titleLocation}))})),P()(m()(t),"renderFooter",(function(){return t.hasLoadMore&&k.a.createElement(R.a,null,k.a.createElement(z.b,{themeStyles:ee.k},(function(e,n){return t.getLoadingView(e)})))})),P()(m()(t),"renderBottom",(function(e,n,r){var o,i,a=t.props.configData;return(null==a?void 0:a.moreVal)===te.d.bottom&&a.moreUrlType===te.e.h5&&(null===(o=t.state)||void 0===o||null===(i=o.dataArray)||void 0===i?void 0:i.length)>0?k.a.createElement(R.a,{style:e.moreBottomWrap},k.a.createElement(L.a,{style:e.moreBottom,onPress:t.onClickTitleMore},k.a.createElement(_.a,{style:[{maxWidth:t.getWidth()-65},(null==r?void 0:r.fontColor)&&{color:null==r?void 0:r.fontColor,opacity:1}]},a.moreTitle||Object(H.b)("notice_more")),k.a.createElement(X.a,{iconName:"Webarrow",width:"17",height:"18",normalCol:null!=r&&r.fontColor?null==r?void 0:r.fontColor:n.C24.color+n.opacityMap[n.C24.opacity]}))):(!t.hasLoadMore||t.state.isMixLayout)&&t.state.loadState===te.c.loadError&&0===t.state.dataArray.length?t.getLoadingView(e,!0):void 0})),P()(m()(t),"renderSinglePrd",(function(e,n){var r,o,i,a,l,s,c,u,d,p,f=m()(t).isPc,h=t.props,g=h.configData,y=h.loadMoreParams,v=g.layoutType,b=void 0!==e.originIndex?e.originIndex:n,w={tabIndex:t.props.tabIndex,itemIndex:b+"",sid:(null==y?void 0:y.sid)||t.reportInfo.sid,ruleId:t.reportInfo.ruleId,dataCode:null==e?void 0:e.skuCode,productId:null==e?void 0:e.productId,prdName:e.prdName};e.isGuessRecCard&&delete w.dataCode,e.reportObj={comId:t.props.id.toString(),ruleId:t.reportInfo.ruleId,sId:t.reportInfo.sid,index:b.toString()},e.prefix=t.prefix;var S="OnePlusNHorizontalLayout"===v&&0===n?f()?2*t.itemWidth+12:2*t.itemWidth+8:t.itemWidth,C=t.getItemTxtHeight(),O=f()?306:t.itemWidth+C,P=f()?625:t.isPadHorizontal()?.732*t.itemWidth*2+12:t.isPad()?.74*t.itemWidth*2+8:.725*t.itemWidth*2+8,T="OnePlusNLayout"===v&&0===n?P:"OnePlusNHorizontalLayout"===v&&0===n?O:t.itemHeight||"",x={marginTop:t.isPadHorizontal()?12:8},I=!0,E="";"OnePlusNLayout"===v&&(0===n?(I=!1,E="t2bTextToImg"):(I=!0,E=""));var j=t.currClickIndex+"-guess"==(null==e?void 0:e.originIndex);return t.isApkOrIos()&&e.isGuessRecCard&&j&&(t.currClickIndex=-1,D.a.VmallNative.invokeNative({service:"page",action:"setActive",params:{}}).then((function(e){})).catch((function(e){}))),e.isGuessRecCard?k.a.createElement(R.a,{style:x,key:e.originIndex},k.a.createElement(Z.a,{key:e.originIndex,iWidth:S,guessReclist:e.guessReclist,hasAnimate:j,pageId:null===(r=t.props)||void 0===r?void 0:r.pageId,receiveRef:function(e){return t.receiveRef(e,w,n)},width:t.getWidth(),pageCatCode:null===(o=t.props)||void 0===o?void 0:o.pageCatCode,pageCatName:null===(i=t.props)||void 0===i?void 0:i.pageCatName,resSiteCode:null===(a=t.props)||void 0===a?void 0:a.resSiteCode,resSiteName:null===(l=t.props)||void 0===l?void 0:l.resSiteName,customStyle:ee.i})):k.a.createElement(Q.a,{key:b,data:e,config:g,iWidth:S,iHeight:T,txtAreaHeight:C,onClick:function(){return t.onClickSinglePrd(e,b,n)},receivePlayer:function(e){return t._receivePlayer(e,n)},receiveRef:function(e){return t.receiveRef(e,w,n)},structure:E||g.singlePrdStructure,type:g.prdType,customPrdStyles:I?t.customStyle:null,sbomListLive:t.state.sbomListLive,stopVideo:t.stopAllVideoPlayer,setPlayIndex:t.setVideoPlayerIndex,pageType:t.props.pageType,pageId:null===(s=t.props)||void 0===s?void 0:s.pageId,pageCatCode:null===(c=t.props)||void 0===c?void 0:c.pageCatCode,pageCatName:null===(u=t.props)||void 0===u?void 0:u.pageCatName,resSiteCode:null===(d=t.props)||void 0===d?void 0:d.resSiteCode,resSiteName:null===(p=t.props)||void 0===p?void 0:p.resSiteName,serverTime:t.state.serverTime})})),P()(m()(t),"renderProductBody",(function(){t.getSinglePrdProps(),t.handleCustomStyle(),t.updateDataWhenSwitchScreen();var e=t.state.dataArray,n=m()(t),r=n.isPc,o=n.isPad,i=n.isApp,l=n.getWidth,s=t.isPadHorizontal(),c=t.props,u=c.configData,d=c.styleChange,p=c.id,f=u.layoutType,h=u.promotionShow,g=u.productNameShow,y=u.originPriceShow,v=null,b=t.getColumn(),w=r()||s?12:8,S=r()?0:s?24:i()?16:24,C=w,O=l(),P=i()?O-32:o()||Object(ie.j)()?O-48:U.a.safety_area;switch(P=Math.floor(P),t.boxWidth=P,t.colGutter=w,u.isPadHorizontal=s,f){case"ProductBigCard":case"OneColumnLayout":case"TwoColumnLayout":case"ThreeColumnLayout":case"ScrollLayout":("OneColumnLayout"===f||"ProductBigCard"===f)&&(w=12,C=12,t.colGutter=w),t.getItemWidth(P,b,w),t.itemHeight=t.getItemHeight();var T=Math.ceil(t.state.dataArray.length/b),I=Math.ceil(t.itemHeight*T+C*T);v=k.a.createElement(V.a,{col:b,colGutter:w,rowGutter:C,pageGutter:0,boxWidth:P,dataArray:e,renderItem:function(e){var n=e.item,r=e.index;return t.renderSinglePrd(n,r)},containerType:"ScrollView",renderScrollComponent:function(e){return t._renderScroll(e,I,u.moreVal===te.d.up)},loadMore:u.moreVal===te.d.up?t._loadMore:null,footer:t.renderFooter,mainStyle:{overflowX:"visible",overflowY:"visible"}});break;case"OnePlusNLayout":t.getItemWidth(P,b,w),v=k.a.createElement(G.a,{col:b,colGutter:w,rowGutter:C,pageGutter:0,boxWidth:P,mainStyle:{overflow:"visible"},firstItemStyle:{overflow:"visible"}},e.map((function(e,n){return t.renderSinglePrd(e,n)})));break;case"OnePlusNHorizontalLayout":t.getItemWidth(P,b,w),v=k.a.createElement(Y.a,{col:b,colGutter:w,rowGutter:C,boxWidth:P},e.map((function(e,n){return t.renderSinglePrd(e,n)})));break;case"StaggeredLayout":var E=0;e.forEach((function(t,n){e[n].realIndex=n,t.isGuessRecCard?(E+=1,e[n].originIndex="".concat(n-E,"-guess")):e[n].originIndex=n-E})),t.getItemWidth(P,b,w),t.calculateHeightObj={itemWidth:t.itemWidth,screenWidth:O,configData:{promotionShow:u.promotionShow,prodSellPoint:u.prodSellPoint,promotionTagShow:u.promotionTagShow,commentCountShow:u.commentCountShow,isProductComp:!0},isPadHorizontal:s,isSmall:i()},v=t.isApkOrIos()&&t.props.isNewWaterfall?k.a.createElement(ye.a,{style:t.props.pageStyle,columnCount:b,gutter:w,pageGutter:S,layoutProvider:t.layoutProvider,dataProvider:t.state.dataProvider.cloneWithRows(e),scrollViewProps:{removeClippedSubviews:!B.a.isIOS(),showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,refreshControl:t.props.refreshControl,overScrollMode:"never",onScrollBeginDrag:t.props.onScrollBeginDrag,onMomentumScrollEnd:t.props.onMomentumScrollEnd,styleChange:{backgroundColor:t.props.styleChange.bgColor,marginTop:0===t.headHeight?0:0-t.mainStyleMg},decelerationRate:B.a.isIOS()?.994:.98},uniqueKey:t.props.uniqueKey,scrollViewRef:t.props.scrollViewRef,onScroll:t.props.onScroll,onLoadMore:t._loadMore,rowRenderer:function(e,n,r){return t.renderSinglePrd(n,r)},topComponent:t.props.topComponent,renderFooter:t.renderFooter,newWaterFallBackground:t.props.newWaterFallBackground,onVisibleIndicesChanged:function(e,n,r){t.visibleForItemList=[],e.forEach((function(e){if(!t.state.dataArray[e].isGuessRecCard){var n=void 0!==t.state.dataArray[e].realIndex?t.state.dataArray[e].originIndex:e;t.visibleForItemList.push(n)}}))}}):k.a.createElement(J.a,{column:b,data:e,boxWidth:P,gutter:w,pageGutter:0,pageNum:t.state.loadPageNum-1,pageSize:t.loadPageSize,isLoading:t.state.loadState===te.c.loadingIcon,renderItem:function(e){var n=e.item;return t.renderSinglePrd(n,n.realIndex)},onLoadMore:u.moreVal===te.d.up?t._loadMore:null,footer:t.renderFooter});break;case"FourthColumnLayout":var R=u||{},L={prod1bgColor1:R.prod1bgColor1,prod1bgColor2:R.prod1bgColor2,prod2bgColor1:R.prod2bgColor1,prod2bgColor2:R.prod2bgColor2,prod3bgColor1:R.prod3bgColor1,prod3bgColor2:R.prod3bgColor2,textColor:R.textColor},_=t.isApp()?4:t.isPadHorizontal()?8:6,D=x()(e)%2==0?e.slice(0,20):[].concat(a()(e.slice(0,20)),a()(e.slice(0,20))),N=x()(e)<_?e:D,W="ios"!==j.a.OS;v=!r()&&W&&x()(e)>0?k.a.createElement(qe,{bubbleDataList:N,originDataArray:e,styleChange:d,colorList:L,promotionShow:h,productNameShow:g,originPriceShow:y,prefix:t.prefix,comId:p,exposeBubbleRef:t.exposeBubbleRef,clickItem_product:t.props.clickItem_product}):null;break;default:v=null}return v})),P()(m()(t),"_renderScroll",(function(e,t,n){return"web"===j.a.OS?k.a.createElement(R.a,e):k.a.createElement(N.a,o()({},e,{style:[n?{}:!!t&&{height:t},e.style],removeClippedSubviews:"ios"!==j.a.OS}))})),P()(m()(t),"getViewContent",(function(e,n){var r,o,i=t.props,a=i.configData,l=i.styleChange,s=i.noMarginTop,c=i.newWaterFallBackground,u=m()(t),d=u.isPc,p=u.isPad,f=t.isApkOrIos()&&t.state.isWaterfall&&t.props.isNewWaterfall,h=a.showPoster,g=t.state.serverTime;return h&&!g?null:(f&&t.props.productTitleAndMore&&t.props.productTitleAndMore(t.renderTitleAndMore(a,l)),t.state.noData?t.props.withTabs?k.a.createElement(k.a.Fragment,null,t.renderTitleAndMore(a,l),k.a.createElement(R.a,{style:[e.nodata,null===(r=t.crossDressStyle)||void 0===r?void 0:r.imgStyle]},k.a.createElement(_.a,{style:[e.nodataTxt,(null==l?void 0:l.fontColor)&&{color:null==l?void 0:l.fontColor}]},Object(H.b)("no_related")))):t.props.isNewWaterfall?k.a.createElement(ye.a,{columnCount:0,gutter:0,pageGutter:0,style:t.props.pageStyle,layoutProvider:t.layoutProvider,dataProvider:t.state.dataProvider.cloneWithRows([]),scrollViewProps:{removeClippedSubviews:!B.a.isIOS(),showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,refreshControl:t.props.refreshControl,overScrollMode:"never",onScrollBeginDrag:t.props.onScrollBeginDrag,onMomentumScrollEnd:t.props.onMomentumScrollEnd},uniqueKey:t.props.uniqueKey,scrollViewRef:t.props.scrollViewRef,onScroll:t.props.onScroll,onLoadMore:t._loadMore,rowRenderer:function(e,n,r){return t.renderSinglePrd(n,n.realIndex)},topComponent:t.props.topComponent,newWaterFallBackground:c}):null:k.a.createElement(K.a,{style:[e.prdAll,t.isPc()&&e.prdAllPc,!t.props.isNewWaterfall&&(null===(o=t.crossDressStyle)||void 0===o?void 0:o.imgStyle),!f&&{marginTop:s?0:t.mainStyleMg},t.props.withTabs&&!t.hasFooter&&t.isApkOrIos()&&{marginBottom:t.mainStyleMg},f&&{flex:1}]},f?null:t.renderTitleAndMore(a,l),f?t.renderProductBody():k.a.createElement(R.a,{style:[e.prdArea,p()&&e.prdAreaPad,d()&&e.prdAreaPc,t.state.isWaterfall&&e.WaterfallMainStyle,Object(ie.j)()?{paddingRight:8}:{}]},t.renderProductBody()),t.renderBottom(e,n,l)))})),P()(m()(t),"getView",(function(){return k.a.createElement(z.b,{themeStyles:ee.k},(function(e,n,r){var o;return t.originWidth=Object(ie.j)()?Object(le.d)().screenWidth:r,t.props.withTabs?t.state.loadState!==te.c.loadingIcon||1!=t.state.loadPageNum||t.hasLoadMore||t.state.noData?t.getViewContent(e,n):k.a.createElement(R.a,{style:null===(o=t.crossDressStyle)||void 0===o?void 0:o.imgStyle},t.getLoadingView(e,!0)):t.getViewContent(e,n)}))}));var i=e.configData;return t.getSinglePrdProps(),t.getCrossDress(),t.handlePageSize(),t.prefix=t.getPlatformPrefix(),t.state={allDataArray:e.dataArray||[],dataArray:e.dataArray.slice(0,null!==ue.a&&void 0!==ue.a&&ue.a.carrierCode?null==e?void 0:e.dataArray.length:t.loadPageSize),isWaterfall:"StaggeredLayout"===(null==i?void 0:i.layoutType),isMixLayout:"OnePlusNLayout"===i.layoutType||"OnePlusNHorizontalLayout"===i.layoutType,requestPageNum:2,loadPageNum:1,showLoading:!0,loadState:te.c.loadingIcon,loadingPostion:"bottom",noData:!1,moreUrl:i.moreActionUrl,hidePromOrSellPoint:!i.promotionShow&&!i.prodSellPoint,hidePromTags:!i.promotionTagShow,hideReview:!i.commentCountShow,sbomListLive:[],initDataArray:e.dataArray.slice(0,null!==ue.a&&void 0!==ue.a&&ue.a.carrierCode?null==e?void 0:e.dataArray.length:t.loadPageSize),dataProvider:Object(ie.j)()?null:new Qe.b((function(e,t){return e!==t})).cloneWithRows(e.dataArray.slice(0,null!==ue.a&&void 0!==ue.a&&ue.a.carrierCode?null==e?void 0:e.dataArray.length:t.loadPageSize)),serverTime:null},t.layoutProvider=Object(ie.j)()?null:new Qe.c((function(){return"WaterFall"}),(function(e,n,r){n.height=Object(ve.a)(t.state.dataArray[r],r,t.calculateHeightObj),n.width=t.itemWidth})),t}return h()(r,[{key:"componentDidMount",value:(t=u()(s.a.mark((function e(){var t,n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.configData.showPoster&&Object(oe.r)().then((function(e){var t=e&&1e3*e.serverTime||(new Date).getTime();r.setState({serverTime:t})})).catch((function(){r.setState({serverTime:(new Date).getTime()})})),this.initData(),!this.isApkOrIos()){e.next=7;break}return e.next=6,Object(ie.b)("getDeviceInfo");case 6:this.deviceRes=e.sent;case 7:(B.a.isIOS()||B.a.isAndroid()&&this.props.isNewWaterfall)&&(this.homeRefreshListener=W.a.addListener("homeRefresh",this.onHomeRefresh)),me.a.setComId(this.props.id,this.props.pageType),"ProductBigCard"===(null===(t=this.props)||void 0===t||null===(n=t.configData)||void 0===n?void 0:n.layoutType)&&this.getLiveActivity({version:109}).then((function(e){r.setState({sbomListLive:e.sbomList||[]})}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return this.shouldUpdateByCompareProps(e)||this.shouldUpdateByCompareStates(t)}},{key:"componentWillUnmount",value:function(){var e,t;null!==(e=this.props.configData)&&void 0!==e&&null!==(t=e.loadMoreParams)&&void 0!==t&&t.sid&&(this.props.configData.loadMoreParams.sid=""),B.a.isIOS()&&this.homeRefreshListener&&this.homeRefreshListener.remove(),this.clickTimer&&clearTimeout(this.clickTimer),this.loadAllTimer&&clearTimeout(this.loadAllTimer),this.timer&&clearTimeout(this.timer),this.deviceRes=null,this.setState=function(){}}},{key:"componentDidCatch",value:function(e,t){}},{key:"shouldUpdateByCompareProps",value:function(e){var t=!1,n=["dataArray","configData","styleChange","noMarginTop","defaultPageSize","totalRows"];try{for(var r=0;r<n.length;r++){var o=n[r];if("dataArray"===o){var i,a;null===(i=this.props[o])||void 0===i||i.length,null===(a=e[o])||void 0===a||a.length,t=!0;break}if(!Object(le.f)(this.props[o],e[o])){t=!0;break}}if(t)return!0}catch(e){return!0}return!1}},{key:"shouldUpdateByCompareStates",value:function(e){var t=!1,n=["allDataArray","dataArray","showLoading","loadState","noData","initDataArray","requestPageNum","loadPageNum","sbomListLive","serverTime"];try{for(var r=0;r<n.length;r++){var o=n[r];if(!Object(le.f)(this.state[o],e[o])){t=!0;break}}if(t)return!0}catch(e){return!0}return!1}},{key:"getCrossDress",value:function(){this.props.styleChange&&(this.crossDressStyle=Object(le.a)(this.props.styleChange,this.getSize())||this.crossDressStyle)}},{key:"_receivePlayer",value:function(e,t){e.index=t,this.playerList[t]=e,this.playerIndex[t]=0}},{key:"handleVideoCardPlay",value:function(e){var t=!1;for(var n in e){var r,o=e[n];if(this.playerList[o]&&"function"==typeof(null===(r=this.playerList[o])||void 0===r?void 0:r.play)){var i;o!==this.activePlayerIndex&&!this.playerIndex[o]&&(null===(i=this.playerList[o])||void 0===i||i.playStart()),this.activePlayerIndex=o,t=!0;break}}t||(this.activePlayerIndex=-1),this.stopVideoPlayer()}},{key:"_getDataSourceCallback",value:function(e){var t=this,n=this.props.configData.showPoster,r=this.state,o=r.loadPageNum,i=r.requestPageNum,a=[],l=Object(ce.e)();for(var s in e)for(var c,u,d,p=(null===(c=e[s])||void 0===c||null===(u=c.dataInfos)||void 0===u?void 0:u.length)>0&&(null===(d=e[s])||void 0===d?void 0:d.dataInfos)||[],f=function(e){var r,o,i,s=p[e]||{},c={photoPath:l&&s.photoPathMainWebp?s.photoPathMainWebp:s.photoPath,webpImgUrl:""},u=t.handleImg(c),d=[];if((null==s||null===(r=s.promotionLabels)||void 0===r?void 0:r.length)>0){var f,h=(null==s||null===(f=s.promotionLabels)||void 0===f?void 0:f.split(";"))||[];null==h||h.forEach((function(e){e&&d.push(e)}))}var g=Object(Xe.a)(s.wapPoster,s.webPoster,s.webpPoster,ue.a.cmsCndProdPath,t.screenType,s.dataType,n),m=tt(tt({},s),{},{imgUrl:u,promotionInfo:s.prdPromotion,promotionRules:d,bigPromotionTag:(null==s||null===(o=s.grandPromotionLabels)||void 0===o?void 0:o.length)>0?null==s||null===(i=s.grandPromotionLabels)||void 0===i?void 0:i.split(",")[0]:"",prdName:s.prdName,sellingPoint:s.prodSellPoint,isInv:s.showSoldOutTag?0:1,productId:s.prdId,weburl:ue.a.webDomain+"product/"+s.prdId+".html",wapurl:ue.a.wapDomain+"product/"+s.prdId+".html",btnName:s.buyBottonText||"",poster:g});a.push(m)},h=0;h<p.length;h++)f(h);if(a.length>0){var g=this.state.allDataArray.concat(a),m=g.slice(0,this.loadPageSize*o);g.length<=this.props.totalRows&&(this.loadMore=!0,this.setState({allDataArray:g,dataArray:m,loadState:te.c.loadingIcon,loadPageNum:o+1,requestPageNum:i+1}))}}},{key:"_http",value:function(e,t){var n,r;return"web"===j.a.OS&&(t=tt({portal:this.isPc()?1:2,lang:"zh-CN",country:"CN"},t)),"POST"===(null===(n=this.props.configData)||void 0===n||null===(r=n.requestMethod)||void 0===r?void 0:r.toUpperCase())?ne.a.post(e,t):ne.a.get(e,t)}},{key:"_getRecommendCallback",value:function(e){var t=this,n=this.props.configData;if(this.reportInfo.sid=e.sid,this.reportInfo.ruleId=e.ruleId,this.props.moreCallback){var r=this.props.moreCallback(e,n.showPoster,this.screenType),o=null!=r&&r.array?r.array:r||[];if(null!=r&&r.sid&&n.loadMoreParams&&(n.loadMoreParams.sid=r.sid),(null==o?void 0:o.length)>0){1===this.state.loadPageNum&&B.a.isAndroid()&&this.state.isWaterfall&&this.props.isNewWaterfall&&this.setState({initDataArray:o});var i=[],l=[];this.hasLoadMore||1!==this.state.loadPageNum?i=[].concat(a()(this.state.dataArray),a()(o)):(i=(l=a()(o)).slice(0,this.loadPageSize),this.setState({allDataArray:l})),o.length===this.requestPageSize?(this.loadMore=!0,this.setState({dataArray:i,loadPageNum:this.state.loadPageNum+1,showLoading:!0,loadState:te.c.loadingIcon})):(this.loadMore=!1,this.setState({dataArray:i},(function(){t.loadAllTimer=setTimeout((function(){t.setState({showLoading:!0,loadState:te.c.loadAll})}),1e3)})))}else{var s;this.loadMore=!1;var c=!(null!=e&&e.success),u=0===(null==e||null===(s=e.productList)||void 0===s?void 0:s.length);if(1!==this.state.loadPageNum?this.setState({loadState:3,showLoading:!0}):this.setState({noData:u,loadState:c?te.c.loadError:te.c.loadingIcon,showLoading:!!c}),c||1===this.state.loadPageNum&&u){var d=c?(null==e?void 0:e.info)||"product interface return error":"product data is empty";this.recportAGC({exceptionType:te.b.dataException,requestAddress:te.g.getRecommend,reason:d})}}}}},{key:"render",value:function(){return this.getView()}}]),r}(k.a.Component);t.a=Object(q.a)(Object(de.a)(fe)(Object(he.a)(lt)))},function(e,t,n){"use strict";var r,o,i,a=n(15),l=n.n(a),s=n(35),c=n.n(s),u=n(5),d=n.n(u),p=n(6),f=n.n(p),h=n(2),g=n.n(h),m=n(8),y=n.n(m),v=n(7),b=n.n(v),w=n(4),S=n.n(w),C=n(1),O=n.n(C),P=n(69),T=n.n(P),x=n(109),I=n.n(x),k=n(34),E=n.n(k),j=n(0),R=n.n(j),L=n(37),_=n(152),D=n(157),N=n(446),W=n(43),A=n(953);!function(e){e[e.textShow=1]="textShow",e[e.imgShow=2]="imgShow"}(r||(r={})),function(e){e[e.none=1]="none",e[e.topRight=2]="topRight",e[e.bottom=3]="bottom",e[e.up=4]="up",e[e.current=5]="current"}(o||(o={})),function(e){e[e.default=1]="default",e[e.native=2]="native",e[e.other=3]="other",e[e.h5=4]="h5"}(i||(i={}));var B=n(57),M=n(122);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=n(87),U=n(947),V=n(3),G=n(120),Y=n(45),J=n.n(Y);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var q=null,Q=function(e){y()(n,e);var t=K(n);function n(e){var r;return d()(this,n),r=t.call(this,e),O()(g()(r),"utilGotoPage",T()((function(e,t){var n=r.props.onReportDataIconGrid;"ios"===L.a.OS||"android"===L.a.OS?(q=setTimeout((function(){Object(V.A)(e.actionLinks)}),150),n(e,t)):(q=setTimeout((function(){Object(V.A)(e.actionLinks4wap),e.actionLinks4wap||Object(G.c)("",!0)}),150),n(e,t))}),200)),O()(g()(r),"refItem",(function(e){"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),O()(g()(r),"renderContext",(function(){var e;return null===(e=r.props)||void 0===e?void 0:e.dataInfos.map((function(e,t){var n,o,i,a,l;return R.a.createElement(A.a,{key:t,onPress:function(){r.utilGotoPage(e,t)}},R.a.createElement(W.a,{style:r.props.style.bar,key:null===(n=e.id)||void 0===n?void 0:n.toString(),ref:r.refItem},R.a.createElement(_.a,{style:r.props.style.barText,ellipsizeMode:"clip",numberOfLines:1},e.title),R.a.createElement(J.a,{start:{x:0,y:0},end:{x:1,y:0},colors:r.props.styleChange?[Object(V.f)(null===(o=M.a.J1[0])||void 0===o?void 0:o.toUpperCase(),0),Object(V.f)(null===(i=M.a.J1[1])||void 0===i?void 0:i.toUpperCase(),1)]:[Object(V.f)(null===(a=r.props.theme.J1[0])||void 0===a?void 0:a.toUpperCase(),0),Object(V.f)(null===(l=r.props.theme.J1[1])||void 0===l?void 0:l.toUpperCase(),1)],style:r.props.style.linearBar})))}))})),r.state={translateY:new z.a.Value(0)},r}return f()(n,[{key:"componentDidMount",value:function(){this.showHeadBar(0)}},{key:"componentWillUnmount",value:function(){q&&clearTimeout(q)}},{key:"showHeadBar",value:function(e){var t=this;e++,z.a.timing(this.state.translateY,{toValue:-40*e,duration:300,easing:U.a.linear,delay:5e3,useNativeDriver:!1}).start((function(){var n,r;e>=(null===(n=t.props)||void 0===n||null===(r=n.dataInfos)||void 0===r?void 0:r.length)&&(e=0,t.state.translateY.setValue(0)),t.showHeadBar(e)}))}},{key:"render",value:function(){return R.a.createElement(W.a,{style:this.props.style.barContainer},R.a.createElement(z.a.View,{style:[{transform:[{translateY:this.state.translateY}]}]},this.renderContext()))}}]),n}(j.Component),$=n(40),X=n(119),Z=n(432),ee=n(48),te=n(102),ne=n(185),re=n(21),oe=n(10),ie={clickItem:function(e,t){var n,r,o=this.props,i=o.cardId,a=o.pageCatCode,l=o.pageCatName,s=o.resSiteCode,c=o.resSiteName,u="";return u="ios"===L.a.OS||"android"===L.a.OS?e.actionLinks:e.actionLinks4wap,{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"公告栏-点击",eventType:oe.e.EVENT_TYPE_CLICK,content:{comId:null==i?void 0:i.toString(),gotoPageId:"",index:null===(n=t+1)||void 0===n?void 0:n.toString(),gotoURL:u||"",dataCode:null==e||null===(r=e.id)||void 0===r?void 0:r.toString(),dateType:oe.c.MESSAGE},pageId:this.props.pageId,pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}}},ae=n(29),le=n(25),se=n(12),ce=n(24),ue=n(30),de=n(50);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var o=S()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var ge=function(e){y()(n,e);var t=he(n);function n(e){var a;d()(this,n),a=t.call(this,e),O()(g()(a),"itemlist",[]),O()(g()(a),"_panResponder",void 0),O()(g()(a),"_panResponderApk",void 0),O()(g()(a),"eventListener",void 0),O()(g()(a),"initWidth",(function(e){a.state.width!==e&&a.setState({width:e},(function(){a.setmergeStyle()}))})),O()(g()(a),"setmergeStyle",(function(){var e=a.props.styleChange,t=Object($.a)(a.state.width);if(a.isPad()&&a.isPadHorizonta()&&(t="large"),!E()(e)){var n=Object(V.i)(e,t);a.state.mergeStyle&&I()(a.state.mergeStyle,n)||a.setState({mergeStyle:n})}})),O()(g()(a),"isPad",(function(){var e=a.state.width;return"medium"===Object($.a)(e)||"large"===Object($.a)(e)&&e<X.a.safety_area})),O()(g()(a),"isPadHorizonta",(function(){var e=a.state,t=e.width;return!(e.height>t)})),O()(g()(a),"_getAsyNcData",(function(){var e,t,n=a.props,r=n.configData,o=n.pageInfo;a._http(r.dataSourceUrl,fe({pageNum:null===(e=o.pageNum)||void 0===e?void 0:e.toString(),pageSize:null===(t=o.pageSize)||void 0===t?void 0:t.toString()},r.loadMoreParams)).then((function(e){a._asyNcCallback(e)})).catch((function(){}))})),O()(g()(a),"receiveRef",(function(e){e&&a.itemlist.push(e)})),O()(g()(a),"_http",(function(e,t){return a.props.configData.isEop&&"web"===L.a.OS&&(t=fe({portal:Object(V.o)(a.state.width),lang:se.e.CN,country:se.d.CN},t)),a.props.configData.requestMethod&&"POST"===a.props.configData.requestMethod.toUpperCase()?ae.a.post(e,t):ae.a.get(e,t)})),O()(g()(a),"_asyNcCallback",(function(e){if(a.props.moreCallback){var t,n=a.props.moreCallback(e),r=[].concat(c()(null===(t=a.state)||void 0===t?void 0:t.dataInfos),c()(n.dataInfoList)).filter((function(e){return e.title})).slice(0,10);a.setState({dataInfos:r})}})),O()(g()(a),"goToMore",T()((function(){switch(a.props.moreUrlType){case i.default:case i.native:case i.other:break;case i.h5:Object(V.A)(Object(V.l)(a.props.configInfo))}}),200)),O()(g()(a),"splitSting",(function(e,t){for(var n=0,r=-1,o=[],i=0;i<e.length&&(n+=(r=e.charCodeAt(i))>=0&&r<=255?1:2,o.push(e[i]),!(n>=t));i++);return o.join("")})),O()(g()(a),"subTitle",(function(e){if(a.props.titleShow){if(a.props.showSetting===r.textShow){if(a.props.cardTitle){return R.a.createElement(_.a,{ellipsizeMode:"clip",numberOfLines:1,style:[e.titleText,{width:"auto"}]},a.splitSting(a.props.cardTitle,8))}return null}if(a.props.showSetting===r.imgShow){var t=ue.a.darkBool&&E()(a.props.styleChange)?a.props.imgDarkMode:a.props.imgNormal;return t?R.a.createElement(ce.a,{imgUri:t,imgStyle:(e.titleImage,{width:a.state.imageSize.width,height:a.state.imageSize.height})}):null}return null}return null})),O()(g()(a),"getImageSize",(function(e){D.a.getSize(e,(function(e,t){var n=e/t;a.setState({imageSize:{width:a.state.imageSize.height*n,height:a.state.imageSize.height}})}))})),O()(g()(a),"more",(function(e){switch(a.props.more){case o.none:return null;case o.topRight:return R.a.createElement(_.a,{ellipsizeMode:"clip",numberOfLines:1,style:e.moreText},a.props.moreTitle?a.props.moreTitle:Object(Z.b)("common_more"));default:return null}})),O()(g()(a),"isiPad",(function(){return"medium"===Object($.a)(a.state.width)}));var l=(null==e?void 0:e.dataInfos)||[];return l=l.filter((function(e){return e.title})).slice(0,10),a.state={mergeStyle:null,imageSize:{width:62,height:40},dataInfos:l,width:Object(V.x)(a.props.pageType).screenWidth},a}return f()(n,[{key:"UNSAFE_componentWillMount",value:function(){Object(V.F)()||(this._panResponder=N.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=N.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}}))}},{key:"componentDidMount",value:function(){if(this.setmergeStyle(),this.props.titleShow&&this.props.showSetting===r.imgShow){var e=ue.a.darkBool?this.props.imgDarkMode:this.props.imgNormal;this.getImageSize(e)}this.props.configData.isAsync&&this._getAsyNcData()}},{key:"componentWillUnmount",value:function(){ee.a.isAndroid()&&this.eventListener&&this.eventListener.remove()}},{key:"render",value:function(){var e=this,t=this.state.mergeStyle;return"large"===Object($.a)(this.state.width)?null:R.a.createElement(te.b,{themeStyles:function(n){return function(e,t,n){var r;t&&(e=M.a);var o={};"web"===L.a.OS&&(o=O()({},"text-Overflow".split("-").join(""),"clip"));var i=H(H(H(H({},o),e.T10),e.C12),{},{fontWeight:"bold"}),a=H(H(H({},o),e.T3),e.C13),l=H(H(H({width:"100%"},o),e.T3),e.C13);return null!=t&&null!==(r=t.textStyle)&&void 0!==r&&r.color&&(l.color=t.textStyle.color,i.color=t.textStyle.color,a.color=t.textStyle.color),B.a.create({container:H({overflow:"hidden",marginHorizontal:n?24:16,borderRadius:16},e.S31),main:{flexDirection:"row",justifyContent:"space-between",flexWrap:"nowrap",height:40,paddingLeft:12,paddingRight:8},subTitle:{height:"100%",marginRight:10,alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,width:64,overflow:"hidden",flexBasis:"auto"},titleImage:{resizeMode:"cover",width:62,height:15},titleText:i,more:{height:"100%",paddingLeft:10,alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,flexBasis:"auto"},moreText:a,barContainer:{flexGrow:1,flexShrink:1,flexBasis:"auto",height:40,overflow:"hidden"},bar:{height:40,justifyContent:"center"},linearBar:{height:40,position:"absolute",right:0,width:16,top:0},barText:l})}(n,t,e.isiPad())}},(function(n,r,o){var i,a;return o=Object(V.F)()?Object(V.x)(e.props.pageType).screenWidth:o,e.initWidth(o),R.a.createElement(de.a,{imgUri:null==t?void 0:t.bgImg,style:[n.container,null!=t&&null!==(i=t.imgStyle)&&void 0!==i&&i.backgroundColor?null==t?void 0:t.imgStyle:{}]},R.a.createElement(W.a,l()({style:n.main},Object(V.F)()?{}:"web"===L.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers),null!==e.subTitle(n)?R.a.createElement(A.a,{onPress:e.goToMore},R.a.createElement(W.a,{style:n.subTitle},e.subTitle(n))):null,R.a.createElement(Q,{styleChange:t,dataInfos:null===(a=e.state)||void 0===a?void 0:a.dataInfos,onReportDataIconGrid:e.props.clickItem,receiveRef:e.receiveRef,style:n,theme:r}),null!==e.more(n)?R.a.createElement(A.a,{onPress:e.goToMore},R.a.createElement(W.a,{style:n.more},e.more(n))):null))}))}}]),n}(j.Component);t.a=Object(ne.a)(Object(re.a)(ie)(Object(le.a)(ge)))},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(39),v=n.n(y),b=n(0),w=n.n(b),S=n(54),C=n(37),O=n(126),P=n(157),T=n(43),x=n(152),I=n(1018),k=n(40),E=n(48),j=n(102),R=n(1731),L=n(1733),_=n(1732),D=n(185),N=n(50),W=n(57),A=n(53),B=n(3);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){return W.a.create({container_top:{flexDirection:"column"},container_top_web:{flexGrow:1,flexDirection:"column"},container_bottom:{flex:1,flexDirection:"column",backgroundColor:e.C33.color},container_bottom_web:{flexGrow:1,flexDirection:"column",backgroundColor:e.C33.color},top_row:{margin:0,height:"100%"},top_content:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"70%"},top_content_pad:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"33%"},top_content_app:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:Object(B.F)()?"70%":"50%"},top_text:{display:"flex",flexDirection:"column",flexWrap:"nowrap",width:"100%"},top_text_mp:{display:"flex",flexDirection:"column",flexWrap:"nowrap"},top_image:{width:12,height:12,marginRight:4,tintColor:e.C23.color},top_image_wap:{width:12,height:12,marginRight:4,marginBottom:2,tintColor:e.C23.color},top_title:F(F(F({flexDirection:"row",width:"100%"},e.T1),e.C13),{},{fontFamily:A.a.fontFamilyBase}),bottom_row:{paddingVertical:24,height:"100%",margin:0},bottom_row_wap:{backgroundColor:"transparent",margin:0,height:"auto"},bottom_content:{display:"flex",flexDirection:"row",alignItems:"flex-start"},bottom_image:{width:24,height:24,marginRight:16},bottom_text:{flex:1,flexWrap:"wrap",display:"flex",flexDirection:"column",width:"100%"},bottom_text_web:{flexGrow:1,flexWrap:"wrap",display:"flex",flexDirection:"column",width:"100%"},bottom_title:F(F(F({},e.T10),e.C11),{},{lineHeight:24,fontFamily:A.a.fontFamilyBase}),bottom_title_wap:F(F(F({textAlign:"justify"},e.T8),e.C11),{},{fontFamily:A.a.fontFamilyBase}),bottom_title_app:F(F(F({flexDirection:"row",width:"100%"},e.T8),e.C11),{},{fontFamily:A.a.fontFamilyBase}),bottom_subTitle:F(F(F({},e.T7),e.C14),{},{fontFamily:A.a.fontFamilyBase}),bottom_subTitle_wap:F(F(F({textAlign:"justify"},e.T3),e.C14),{},{fontFamily:A.a.fontFamilyBase}),bottom_subTitle_app:F(F(F({flexDirection:"row",width:"100%"},e.T3),e.C14),{},{fontFamily:A.a.fontFamilyBase})})},z=n(10),U={clickItem:function(e,t,n){var r=Object(B.F)()?this:this.props,o=r.id,i=r.pageCatCode,a=r.pageCatName,l=r.resSiteCode,s=r.resSiteName;return{data:{actionCode:Object(B.F)()?"410000101":this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"运营说明组件-点击-"+(null==e?void 0:e.title),eventType:z.e.EVENT_TYPE_CLICK,pageId:Object(B.F)()?this.pageId:this.props.pageId,content:{comId:o.toString(),gotoPageId:e&&e.gotoPageId?e.gotoPageId.toString():"",gotoURL:n,index:t.toString(),index_name:null==e?void 0:e.title},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}}}},V=n(21),G=n(25),Y=n(24);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var K=null,q=function(e){u()(n,e);var t=J(n);function n(e){var r;o()(this,n),r=t.call(this,e),m()(s()(r),"screenWidth",S.a.get("window").width),m()(s()(r),"curentSizeWidth",Object(k.a)(r.screenWidth)),m()(s()(r),"curentStyleChange",void 0),m()(s()(r),"getCrossDress",(function(e){if(r.curentSizeWidth!==Object(k.a)(e)||r.curentStyleChange!==r.props.styleChange){if(r.curentSizeWidth=Object(k.a)(e),r.curentStyleChange=r.props.styleChange,r.props.styleChange){var t=Object(B.i)(r.props.styleChange,Object(k.a)(e));t&&r.setState({headerBoxStyle:t})}r.curentSizeWidth!==Object(k.a)(e)||Object(B.F)()||("medium"===Object(k.a)(e)?r.setState({isWeb:!1,isApp:!1,isPad:!0,isWap:!1,size:e-48}):"small"===Object(k.a)(e)&&r.setState({isWeb:!1,isApp:!0,isPad:!1,isWap:!1,size:e-32}))}})),m()(s()(r),"isWebWap",(function(){return"web"===C.a.OS||Object(B.F)()}));var i=Object(B.x)().screenWidth,a="small"===Object(k.a)(i)?i-32:i-48;return r.state={isWeb:!Object(B.F)(),isApp:!!Object(B.F)(),isWap:!1,isPad:!1,size:Object(B.F)()?a:1200,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},r}return a()(n,[{key:"utilGotoPage",value:function(e,t,n){"web"===C.a.OS?"large"===n&&e.actionUrlWeb?(K=setTimeout((function(){Object(B.A)(e.actionUrlWeb)}),150),this.props.clickItem(e,t,e.actionUrlWeb)):e.actionUrlWap&&(K=setTimeout((function(){Object(B.A)(e.actionUrlWap)}),150),this.props.clickItem(e,t,e.actionUrlWap)):Object(B.F)()?e.actionUrlWap&&(K=setTimeout((function(){Object(B.A)(e.actionUrlWap)}),150),this.props.clickItem(e,t,e.actionUrlWap)):e.actionUrl&&(K=setTimeout((function(){Object(B.A)(e.actionUrl)}),150),this.props.clickItem(e,t,e.actionUrl))}},{key:"componentWillUnmount",value:function(){K&&clearTimeout(K)}},{key:"componentDidMount",value:function(){var e=this.screenWidth;e=Object(B.F)()?Object(B.x)().screenWidth:e,"web"===C.a.OS&&("medium"===Object(k.a)(e)?this.setState({isWeb:!1,isApp:!1,isPad:!1,isWap:!0,size:e-48}):"small"===Object(k.a)(e)&&this.setState({isWeb:!1,isApp:!1,isPad:!1,isWap:!0,size:e-32}));var t=this.props,n=t.data,r=t.pageId,o=t.id;E.a.isApp()&&0===n.length&&Object(B.K)({time:0,exceptionType:1,pageid:r,requestAddress:"/mcp/content/getPageInfoListAsync",comid:o+"",reason:"operation-des(运营说明) data is empty!"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.layoutType,o=t.rowsPerScreen,i=t.subTitleShow,a=this.state,l=a.isWeb,s=a.headerBoxStyle,c=a.size,u=a.isApp,d=a.isPad,p=a.isWap,f=[];switch(r){case"ThreeColumnLayout":f=n.slice(0,3*Number(o));break;case"OneColumnLayout":f=n.slice(0,1*Number(o))}var h=(null==s?void 0:s.imgStyle)&&"{}"!=JSON.stringify(null==s?void 0:s.imgStyle);return v()(f)>0?w.a.createElement(j.b,{themeStyles:H},(function(t,n,o){return e.screenWidth=o,e.screenWidth=Object(B.F)()?Object(B.x)().screenWidth:e.screenWidth,e.getCrossDress(e.screenWidth),"ThreeColumnLayout"===r?w.a.createElement(N.a,{imgUri:s.bgImg,style:[l?t.container_top_web:t.container_top,null==s?void 0:s.imgStyle]},w.a.createElement(R.a,{safetyWidth:c,style:{height:22}},w.a.createElement(L.a,{size:12,style:[t.top_row,!e.isWebWap()&&{width:o}],bWidth:!e.isWebWap()&&o},f.map((function(n,r){return w.a.createElement(_.a,{key:r,sm:4,md:4,lg:4,style:{alignItems:"center"},bWidth:!e.isWebWap()&&o},w.a.createElement(O.a,{activeOpacity:1,style:u?t.top_content_app:d?t.top_content_pad:t.top_content,onPress:function(){return e.utilGotoPage(n,r,Object(k.a)(o))}},h?w.a.createElement(Y.a,{imgStyle:[e.state.isWap?t.top_image_wap:t.top_image,{tintColor:""}],imgUri:n.imgUrl,showDefaultImage:!1}):w.a.createElement(P.a,{style:e.state.isWap?t.top_image_wap:t.top_image,source:{uri:n.imgUrl}}),w.a.createElement(T.a,{style:Object(B.F)()?t.top_text_mp:t.top_text},w.a.createElement(x.a,{style:[t.top_title,null==s?void 0:s.textStyle],numberOfLines:1,ellipsizeMode:"tail"},n.title))))}))))):"OneColumnLayout"===r?w.a.createElement(I.a,{source:{uri:s.bgImg},style:[l?t.container_bottom_web:t.container_bottom,null==s?void 0:s.imgStyle]},w.a.createElement(R.a,{safetyWidth:c},w.a.createElement(L.a,{size:12,style:[l?t.bottom_row:t.bottom_row_wap,!e.isWebWap()&&{width:o}],bWidth:!e.isWebWap()&&o},f.map((function(n,r){return w.a.createElement(_.a,{key:r,sm:12,md:6,lg:3,style:l?{paddingTop:24,paddingBottom:24,paddingLeft:56,paddingRight:35}:{paddingVertical:12,paddingHorizontal:24},bWidth:!e.isWebWap()&&o},w.a.createElement(O.a,{activeOpacity:1,style:t.bottom_content,onPress:function(){return e.utilGotoPage(n,r,Object(k.a)(o))}},w.a.createElement(Y.a,{imgStyle:t.bottom_image,imgUri:n.imgUrl,showDefaultImage:!1}),w.a.createElement(T.a,{style:t.bottom_text},w.a.createElement(x.a,{style:[l?t.bottom_title:p?t.bottom_title_wap:t.bottom_title_app,null==s?void 0:s.textStyle],numberOfLines:2,ellipsizeMode:"tail"},n.title),"true"===i&&w.a.createElement(x.a,{style:[l?t.bottom_subTitle:p?t.bottom_subTitle_wap:t.bottom_subTitle_app,null==s?void 0:s.textStyle],numberOfLines:2,ellipsizeMode:"tail"},n.subTitle))))}))))):void 0})):null}}]),n}(b.PureComponent);t.a=Object(D.a)(Object(V.a)(U)(Object(G.a)(q,[])))},function(e,t,n){"use strict";var r,o=n(5),i=n.n(o),a=n(6),l=n.n(a),s=n(8),c=n.n(s),u=n(7),d=n.n(u),p=n(4),f=n.n(p),h=n(0),g=n.n(h),m=n(11),y=n(102),v=n(40),b=n(32),w=n(50),S=n(3),C=n(57),O=function(e){return C.a.create({})};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var T=Object(b.c)(r=function(e){c()(n,e);var t=P(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,r=e.zIndex;return g.a.createElement(y.b,{themeStyles:O},(function(e,o,i){i=Object(S.F)()?Object(S.x)().screenWidth:i;var a,l=Object(v.a)(i),s=null==n?void 0:n.bgFill,c="";return c="large"===l?null==n?void 0:n.bgGridImg_12:"medium"===l?null==n?void 0:n.bgGridImg_8:null==n?void 0:n.bgGridImg_4,a="1"===s?null==n?void 0:n.bgColor:"",g.a.createElement(w.a,{style:[r?{justifyContent:"center",zIndex:r}:{justifyContent:"center"}],imgViewStyle:{width:"100%",position:"absolute",top:0,left:0,backgroundColor:a},imgUri:"2"===s?m.a.cmsCdnPath+c:"",isFromPersonal:!0,isHighQuality:!0},t)}))}}]),n}(g.a.Component))||r;t.a=T},,function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(54),S=n(43),C=n(3),O=n(23),P=n(21),T=n(57),x=n(40),I=n(102),k=n(185),E=n(25);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return"主分类点击商品"==e||"子分类点击商品"==e?"8":"主分类点击标签"==e||"子分类点击标签"==e?"16":"3"},_=function(e){return e?e&&e.includes("TAG")?"16":"8":"3"},D=function(e){return e.includes("主分类点击")||e.includes("轮播图数据曝光")?"web"===b.a.OS?"200109902":"100109902":e.includes("子分类点击")?"web"===b.a.OS?"200109903":"100109903":e.includes("主分类切换")?"web"===b.a.OS?"200109904":"100109904":void 0},N=function(e,t,n,r,o,i,a,l){var s={comId:null==t?void 0:t.toString(),tabName:null==n?void 0:n.toString(),tabIndex:null==r?void 0:r.toString()};if(e.includes("主分类下配置的数据曝光时上报")||e.includes("轮播图数据曝光")){var c={dataCode:null==o?void 0:o.toString(),dateType:_(o),index:null==i?void 0:i.toString()};return Object.assign(s,c)}if(e.includes("子分类数据曝光时上报")){var u={dataCode:null==o?void 0:o.toString(),dateType:_(o),index:null==i?void 0:i.toString(),subTabName:a,subTabIndex:null==l?void 0:l.toString()};return Object.assign(s,u)}return s},W={exposeItem_product:function(e){var t=this,n=this.props,r=n.pageCatCode,o=n.pageCatName;return{isBatch:!0,content:{array:e.map((function(e,n){var i,a,l;return{actionCode:(l=e.actionName,l.includes("主分类下配置的数据曝光时上报")||l.includes("轮播图数据曝光")?"web"===b.a.OS?"200109902":"100109902":l.includes("子分类数据曝光时上报")?"web"===b.a.OS?"200109903":"100109903":l.includes("主分类曝光时上报")?"web"===b.a.OS?"200109904":"100109904":void 0),actionName:"轮播图数据曝光"==e.actionName?"主分类下配置的数据曝光时上报":e.actionName,pageId:null===(i=t.props)||void 0===i||null===(a=i.pageId)||void 0===a?void 0:a.toString(),eventType:"7",content:R({},N(e.actionName,"分类页",e.sortName,e.sortindex,e.dataCode,"轮播图数据曝光"==e.actionName?n+1:e.index,e.subSortNname,e.subSortIndex)),pageCatCode:r,pageCatName:o,resSiteCode:"",resSiteName:""}}))}.array}},clickItem:function(e,t,n,r,o,i,a){var l,s=this.props,c=s.pageCatCode,u=s.pageCatName,d=function(e,t,n,r,o,i,a,l){var s={comId:null==t?void 0:t.toString(),tabName:null==n?void 0:n.toString(),tabIndex:null==r?void 0:r.toString()};if(e.includes("主分类点击")){var c={dataCode:null==o?void 0:o.toString(),dateType:L(e),index:null==i?void 0:i.toString()};return Object.assign(s,c)}if(e.includes("子分类点击")){var u={dataCode:null==o?void 0:o.toString(),dateType:L(e),index:null==i?void 0:i.toString(),subTabName:a,subTabIndex:null==l?void 0:l.toString()};return Object.assign(s,u)}return s}(e,"分类页",t,n,r,o,i,a);return{data:{actionCode:D(e),actionName:e,eventType:"2",content:d,pageId:null===(l=this.props)||void 0===l?void 0:l.pageId,pageCatCode:c,pageCatName:u,resSiteCode:"",resSiteName:""}}}},A=n(126),B=n(152),M=n(149),F=n(49),H=n(708);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=n(10),G=n(22);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var J=function(e){u()(n,e);var t=Y(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"mainCategoryWrap",void 0),m()(s()(r),"itemlist",[]),m()(s()(r),"receiveRef",(function(e,t){e?(e.exposeObj=t,r.itemlist.push(e)):r.itemlist=[]})),m()(s()(r),"getPlatformPrefix",(function(){return"web"===b.a.OS?r.props.isApp?V.f.WAP:V.f.PC:V.f.APP})),m()(s()(r),"renderShopTypeItem",(function(e,t,n){return v.a.createElement(A.a,{style:n.mainList,key:t,activeOpacity:1,ref:function(e){var n,o,i;return r.receiveRef(e,r.handleExposeData("主分类曝光时上报",null===(n=r.props)||void 0===n||null===(o=n.categoryInfo)||void 0===o||null===(i=o[t])||void 0===i?void 0:i.categoryName,t+1))},onPress:function(){var n,o,i;r.getDataShopInfo(e,t),r.props.clickItem("主分类切换",null===(n=r.props)||void 0===n||null===(o=n.categoryInfo)||void 0===o||null===(i=o[t])||void 0===i?void 0:i.categoryName,t+1),Object(G.b)("",!0)}},v.a.createElement(B.a,{style:[r.state.chooseIndex==t?n.activeText:n.normalText]},e.categoryName),v.a.createElement(S.a,{style:[r.state.chooseIndex==t?n.activeLine:""]}))})),r.state={chooseIndex:0,pageType:r.props.pageType||"category",width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight,firstCategoryData:r.props.categoryInfo},r.mainCategoryWrap=v.a.createRef(),r}return a()(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){this.state.width!==Object(C.x)("category").screenWidth&&this.setState({width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight}),this.state.chooseIndex!==this.props.activeIndex&&this.getDataShopInfo(null,this.props.activeIndex)}},{key:"handleExposeData",value:function(e,t,n){return{actionName:e,sortName:t,sortindex:n}}},{key:"getDataShopInfo",value:function(e,t){this.setState({chooseIndex:t});var n=Math.floor(("web"===b.a.OS?this.state.height-114:this.state.height-114-M.a.currentHeight)/48),r=this.state.firstCategoryData.length<=n,o=48*t+56,i=(this.state.height-114)/2;r||(o>i?this.mainCategoryWrap.current.scrollToOffset({animated:!0,offset:o-i-16}):this.mainCategoryWrap.current.scrollToOffset({animated:!0,offset:0})),this.props.changeIndex(t)}},{key:"_contentViewScroll",value:function(e){"ios"===b.a.OS?F.a.emit("iosForOnScrollEvent",e,"category"):F.a.emit("onScrollEvent",e,"category")}},{key:"render",value:function(){var e=this;return v.a.createElement(I.b,{themeStyles:function(t){return function(e,t,n){return T.a.create({View:{width:t?"23.3%":n?"17.3%":"25.9%"},mainList:{paddingTop:15,paddingBottom:14,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",paddingLeft:t?16:24,position:"relative"},normalText:U(U({},e.T7),e.C13),activeText:U(U({},e.T8),e.C18),activeLine:{height:16,width:2,backgroundColor:e.C35.color,position:"absolute",top:16,left:0}})}(t,e.props.isApp,e.props.isPadHorizonta)}},(function(t,n){return v.a.createElement(S.a,{style:t.View},v.a.createElement(H.a,{style:[{height:"web"===b.a.OS?e.state.height-114:e.state.height-56-M.a.currentHeight},"web"!==b.a.OS?{flex:1}:{}],ref:e.mainCategoryWrap,keyExtractor:function(e,t){return t.toString()},data:e.state.firstCategoryData,showsHorizontalScrollIndicator:!1,onScroll:e._contentViewScroll.bind(e),showsVerticalScrollIndicator:!1,renderItem:function(n){var r=n.item,o=n.index;return e.renderShopTypeItem(r,o,t)}}))}))}}]),n}(y.Component),K=Object(k.a)(Object(P.a)(W)(Object(E.a)(J))),q=n(15),Q=n.n(q),$=n(446),X=n(270),Z=n(59);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e,t,n){return T.a.create({View:{flex:1},childView:{backgroundColor:e.S31.backgroundColor,borderRadius:16,marginBottom:12,paddingTop:4},titleView:{height:36,alignItems:"center",paddingHorizontal:12,flexDirection:"row",justifyContent:"space-between"},titleText:te(te(te({},e.T8),e.C12),{},{height:20,lineHeight:20}),ListWrap:{flex:1},ListWrapApk:{flexDirection:"row",paddingRight:12,paddingLeft:4,flexWrap:"wrap",justifyContent:"flex-start"},imageWrap:{padding:t?8:n?13.5:8.6,marginBottom:4},shopImage:{flex:1},shopText:te(te({fontSize:11},e.C11),{},{textAlign:"center"}),loadMore:{height:48,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingBottom:10},loadMoreTextColor:te(te(te({},e.T3),e.C13),{},{marginLeft:4,paddingBottom:2})})},re=n(1735),oe=n(11),ie=n(105),ae=n(177),le=n(20),se=n(24);function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var ue=function(e){u()(n,e);var t=ce(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"childCategoryWrap",void 0),m()(s()(r),"_panResponder",void 0),m()(s()(r),"scrollTimer",void 0),m()(s()(r),"itemlist",[]),m()(s()(r),"getWidth",(function(e){r.setState({singleWidth:Number(e.width)})})),m()(s()(r),"receiveRef",(function(e,t){e?(e.exposeObj=t,r.itemlist.push(e)):r.itemlist=[]})),m()(s()(r),"receiveSwiperRefs",(function(e){var t;e?null===(t=r.handleSwiper(r.props.childInfo))||void 0===t||t.map((function(){e.exposeObj=r.handleSwiperExposeData(),r.itemlist.push(e)})):r.itemlist=[]})),m()(s()(r),"renderChildList",(function(e,t,n,o,i){var a,l,s,c;return e.childCategoryInfo?v.a.createElement(S.a,{style:[n.childView,{paddingBottom:0!==(null===(a=e.childCategoryInfo)||void 0===a||null===(l=a.dataInfos)||void 0===l?void 0:l.length)?12:0}]},v.a.createElement(A.a,{activeOpacity:1,style:n.titleView,onPress:function(){return r.handleClick(e)}},v.a.createElement(B.a,{numberOfLines:1,style:n.titleText},e.categoryName),"web"===b.a.OS&&e.actionUrlWap||"web"!==b.a.OS&&e.moreActionUrl||2==e.moreUrlType?v.a.createElement(le.a,{normalCol:o.C24.color,viewBox:"-300 0 1024 1024",opacity:o.C24.opacity,iconName:"ic24-more",width:12,height:24}):v.a.createElement(v.a.Fragment,null)),v.a.createElement(S.a,{style:n.ListWrap},v.a.createElement(re.a,{col:r.props.isApp?3:r.props.isPadHorizonta?6:5,rowGutter:12,pageGutter:12,colGutter:8,singleItemStyle:{justifyContent:"flex-start"},dataArray:null===(s=e.childCategoryInfo)||void 0===s||null===(c=s.dataInfos)||void 0===c?void 0:c.filter((function(e){return"tag"==e.dataType||"prod"==e.dataType})),gridCallBack:r.getWidth,boxWidth:i,renderItem:function(o){var i=o.item,a=o.index;return r.renderShopList(i,n,a,e.categoryName,t)}}))):v.a.createElement(v.a.Fragment,null)})),m()(s()(r),"renderMainList",(function(e,t,n){var o;return v.a.createElement(S.a,{style:[e.childView]},v.a.createElement(S.a,{style:[e.ListWrap,{paddingBottom:0!==(null===(o=r.handleMainCom())||void 0===o?void 0:o.length)?12:0}]},v.a.createElement(re.a,{col:r.props.isApp?3:r.props.isPadHorizonta?6:5,rowGutter:12,pageGutter:12,colGutter:8,singleItemStyle:{justifyContent:"flex-start"},dataArray:r.handleMainCom(),gridCallBack:r.getWidth,boxWidth:n,renderItem:function(t){var n=t.item,o=t.index;return r.renderShopList(n,e,o,null,0)}})))})),m()(s()(r),"renderShopList",(function(e,t,n,o,i){var a,l="prod"!=e.dataType?"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName):null!==(a=e.photoPath)&&void 0!==a&&a.includes("product")?"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName):"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName);return v.a.createElement(A.a,{onPress:function(){return r.handleMainItemClick(e,n,o,i)},ref:function(t){return r.receiveRef(t,r.handleExposeData(e,n,o,i))}},v.a.createElement(S.a,{style:[{width:r.state.singleWidth,height:r.state.singleWidth},t.imageWrap]},v.a.createElement(se.a,{imgUri:l,imgStyle:t.shopImage})),v.a.createElement(B.a,{numberOfLines:2,style:[t.shopText,{width:r.state.singleWidth}]},e.prdName))})),m()(s()(r),"renderSwiper",(function(e,t){var n;return v.a.createElement(S.a,{style:{marginBottom:12,paddingHorizontal:r.props.isApp?0:24},ref:function(e){return r.receiveSwiperRefs(e)}},0!==(null===(n=r.handleSwiper(r.props.childInfo))||void 0===n?void 0:n.length)&&r.handleSwiper(r.props.childInfo)?r.props.isApp?v.a.createElement(ie.a,{imgList:r.handleSwiper(r.props.childInfo),componentName:"Swiper",key:r.props.activeIndex,configInfo:r.state.configInfo,boxWidth:t,clickAd:function(e,t){var n,o,i;return r.props.clickItem("主分类点击广告",null===(n=r.props)||void 0===n||null===(o=n.categoryInfo)||void 0===o||null===(i=o[r.props.activeIndex])||void 0===i?void 0:i.categoryName,r.props.activeIndex+1,e,t)},width:t,hasMargin:!0}):v.a.createElement(ae.a,{fromPage:"category",imgList:r.handleSwiper(r.props.childInfo),componentName:"Swiper",key:r.props.activeIndex,configInfo:r.state.configInfo,clickAd:function(e,t){var n,o,i;return r.props.clickItem("主分类点击广告",null===(n=r.props)||void 0===n||null===(o=n.categoryInfo)||void 0===o||null===(i=o[r.props.activeIndex])||void 0===i?void 0:i.categoryName,r.props.activeIndex+1,e,t)},boxWidth:t-48,width:r.state.width,hasMargin:!0}):v.a.createElement(v.a.Fragment,null))})),m()(s()(r),"_onScrollContentSizeChange",(function(e,t){r.childCategoryWrap.scrollTo({y:0,animated:!0}),r.setState({isTop:!0,isBottom:t<=r.state.height-114})})),r.state={configInfo:{showCategory:!0},flexHeight:0,lastY:0,isTop:!0,isBottonm:!1,hasMargin:!1,swiperData:[],swiperDataArr:[],pageType:r.props.pageType||"category",width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight,singleWidth:70,secondCategoryData:r.props.childInfo},r}return a()(n,[{key:"componentDidUpdate",value:function(){this.state.width!==Object(C.x)("category").screenWidth&&this.setState({width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight})}},{key:"componentWillMount",value:function(){this._panResponder=$.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}})}},{key:"handleSwiper",value:function(e){var t,n,r,o,i=null===(t=e[0])||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.mainCategoryInfo)||void 0===r||null===(o=r.dataInfos)||void 0===o?void 0:o.filter((function(e){return"ad"==e.dataType}));return null==i?void 0:i.map((function(e,t){return{actionUrl:e.adActionUrl,actionUrlWap:e.adActionUrlWap,imgProportion:"21:9",gotoPageId:"",comId:"",type:"App",imgUri:"".concat(oe.a.cmsCndProdPath).concat(e.adImgUrl),index:t+1}}))}},{key:"handleMainItemClick",value:function(e,t,n,r){if("prod"==e.dataType){var o,i,a,l,s="web"===b.a.OS?e.actionUrlWap:e.actionUrl;if(null!==(o=this.props)&&void 0!==o&&o.clickItem)this.props.clickItem(n?"子分类点击商品":"主分类点击商品",null===(i=this.props)||void 0===i||null===(a=i.categoryInfo)||void 0===a||null===(l=a[this.props.activeIndex])||void 0===l?void 0:l.categoryName,this.props.activeIndex+1,e.skuCode,t+1,n,r+1),Object(G.b)("",!0);Object(C.D)(s)?Object(Z.d)(e.prdId,e.skuCode):Object(C.A)(s)}else if("tag"==e.dataType){var c,u,d,p,f,h,g,m,y=(null==e?void 0:e.tagCode)&&(null===(c=JSON.parse(e.tagCode))||void 0===c||null===(u=c.map((function(e){return e.code})))||void 0===u?void 0:u.join(";")),v={targetRoute:"CategoryList",routeParams:{tagid:y,name:e.prdName}};encodeURIComponent(JSON.stringify(v));if(p="web"!==b.a.OS?"vmall://com.vmall.client/home/category?targetRoute=CategoryList&tagid=".concat(y,"&categoryName=").concat(encodeURIComponent(e.prdName)):"".concat(oe.a.webDomain,"portal/category/?targetRoute=CategoryList&tagid=").concat(y,"&categoryName=").concat(encodeURIComponent(encodeURIComponent(e.prdName))),null!==(d=this.props)&&void 0!==d&&d.clickItem)this.props.clickItem(n?"子分类点击标签":"主分类点击标签",null===(f=this.props)||void 0===f||null===(h=f.categoryInfo)||void 0===h||null===(g=h[this.props.activeIndex])||void 0===g?void 0:g.categoryName,this.props.activeIndex+1,null===(m=JSON.parse(e.tagCode)[0])||void 0===m?void 0:m.code,t+1,n,r+1),Object(G.b)("",!0);Object(C.A)(p)}}},{key:"handleSwiperExposeData",value:function(){var e,t,n;return{actionName:"轮播图数据曝光",sortName:null===(e=this.props)||void 0===e||null===(t=e.categoryInfo)||void 0===t||null===(n=t[this.props.activeIndex])||void 0===n?void 0:n.categoryName,sortindex:this.props.activeIndex+1,dataCode:""}}},{key:"handleExposeData",value:function(e,t,n,r){var o,i,a,l;return{actionName:n?"子分类数据曝光时上报":"主分类下配置的数据曝光时上报",sortName:null===(o=this.props)||void 0===o||null===(i=o.categoryInfo)||void 0===i||null===(a=i[this.props.activeIndex])||void 0===a?void 0:a.categoryName,sortindex:this.props.activeIndex+1,dataCode:"tag"==e.dataType?null===(l=JSON.parse(e.tagCode)[0])||void 0===l?void 0:l.code:e.skuCode,index:t+1,subSortNname:n,subSortIndex:r+1}}},{key:"handleClick",value:function(e){var t;if("2"==e.moreUrlType){var n={targetRoute:"CategoryList",routeParams:{tagid:e.categoryId,name:e.categoryName}};encodeURIComponent(JSON.stringify(n));t="web"!==b.a.OS?"vmall://com.vmall.client/home/category?targetRoute=CategoryList&tagid=".concat(e.categoryId,"&categoryName=").concat(encodeURIComponent(e.categoryName)):"".concat(oe.a.webDomain,"portal/category/?targetRoute=CategoryList&tagid=").concat(e.categoryId,"&categoryName=").concat(encodeURIComponent(encodeURIComponent(e.categoryName)))}else"3"==e.moreUrlType&&(t="web"!==b.a.OS?e.moreActionUrl:e.actionUrlWap);Object(C.A)(t)}},{key:"handleMainCom",value:function(){var e,t,n,r;return(null===(e=this.props.childInfo[0])||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.mainCategoryInfo)||void 0===n||null===(r=n.dataInfos)||void 0===r?void 0:r.filter((function(e){return"prod"==e.dataType||"tag"==e.dataType})))||[]}},{key:"_contentViewScroll",value:function(e){var t=e.nativeEvent.contentOffset.y;0==t?this.setState({isTop:!0}):t>0&&this.setState({isTop:!1});var n=e.nativeEvent.contentSize.height;t+e.nativeEvent.layoutMeasurement.height>=n-10?this.setState({isBottom:!0,lastY:t}):this.setState({isBottom:!1}),F.a.emit("onScrollEvent")}},{key:"render",value:function(){var e,t=this,n=this.props.isApp?.767:this.props.isPadHorizonta?.827:.741,r=Math.floor(this.state.width*n)-(this.props.isApp?32:48),o=Math.floor(this.state.width*n),i=this.state.height-130-(0!==(null===(e=this.handleSwiper(this.props.childInfo))||void 0===e?void 0:e.length)?126:0);return v.a.createElement(I.b,{themeStyles:function(e){return ne(e,t.props.isApp,t.props.isPadHorizonta)}},(function(e,n){var a,l,s,c,u,d;return v.a.createElement(X.a,{scrollEventThrottle:300,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,nestedScrollEnabled:!0,onScroll:t._contentViewScroll.bind(t),onContentSizeChange:t._onScrollContentSizeChange.bind(t),ref:function(e){return t.childCategoryWrap=e},style:{height:t.state.height-114,paddingTop:8,transform:[{translateY:t.state.flexHeight}]}},t.renderSwiper(e,o),v.a.createElement(S.a,Q()({},t._panResponder.panHandlers,{style:{minHeight:i,paddingHorizontal:t.props.isApp?16:24}}),0!==(null===(a=t.handleMainCom())||void 0===a?void 0:a.length)?t.renderMainList(e,n,r):null,0!==(null===(l=t.props.childInfo[0])||void 0===l||null===(s=l.data)||void 0===s?void 0:s.length)?null===(c=t.props.childInfo[0])||void 0===c||null===(u=c.data)||void 0===u||null===(d=u.subCategoryList)||void 0===d?void 0:d.map((function(o,i){return t.renderChildList(o,i,e,n,r)})):null))}))}}]),n}(y.Component),de=Object(k.a)(Object(P.a)(W)(Object(E.a)(ue))),pe=n(33);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var he=0;"ios"===b.a.OS&&Object(pe.e)().then((function(e){he=e})).catch((function(e){}));var ge=function(e){u()(n,e);var t=fe(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"childCategoryWrap",void 0),m()(s()(r),"_panResponder",void 0),m()(s()(r),"_panResponderApk",void 0),m()(s()(r),"scrollWrap",void 0),m()(s()(r),"startY",void 0),m()(s()(r),"itemlist",[]),m()(s()(r),"refScrollView",(function(e){r.childCategoryWrap=e})),m()(s()(r),"getWidth",(function(e){r.setState({singleWidth:Number(e.width)})})),m()(s()(r),"receiveRef",(function(e,t){e?"轮播图"==t?r.handleSwiper(r.props.childInfo).map((function(){e.exposeObj=r.handleSwiperExposeData(),r.itemlist.push(e)})):(e.exposeObj=t,r.itemlist.push(e)):r.itemlist=[]})),m()(s()(r),"renderChildList",(function(e,t,n,o,i){var a,l,s,c;return e.childCategoryInfo?v.a.createElement(S.a,{style:[n.childView,{paddingBottom:0!==(null===(a=e.childCategoryInfo)||void 0===a||null===(l=a.dataInfos)||void 0===l?void 0:l.length)?12:0}]},v.a.createElement(A.a,{activeOpacity:1,style:n.titleView,onPress:function(){return r.handleClick(e)}},v.a.createElement(B.a,{numberOfLines:1,style:n.titleText},e.categoryName),"web"===b.a.OS&&e.actionUrlWap||"web"!==b.a.OS&&e.moreActionUrl||2==e.moreUrlType?v.a.createElement(le.a,{normalCol:o.C24.color,opacity:o.C24.opacity,iconName:"ic24-more",width:12,height:24}):v.a.createElement(v.a.Fragment,null)),v.a.createElement(S.a,{style:n.ListWrapApk},null===(s=e.childCategoryInfo)||void 0===s||null===(c=s.dataInfos)||void 0===c?void 0:c.filter((function(e){return"tag"==e.dataType||"prod"==e.dataType})).map((function(o,a){return r.renderChildShopList(o,n,a,e.categoryName,t,i)})))):v.a.createElement(v.a.Fragment,null)})),m()(s()(r),"renderMainList",(function(e,t,n){var o;return v.a.createElement(S.a,{style:[e.childView]},v.a.createElement(S.a,{style:[e.ListWrap,{paddingBottom:0!==(null===(o=r.handleMainCom())||void 0===o?void 0:o.length)?12:0}]},v.a.createElement(re.a,{col:r.props.isApp?3:r.props.isPadHorizonta?6:5,rowGutter:12,pageGutter:12,colGutter:8,singleItemStyle:{justifyContent:"flex-start"},dataArray:r.handleMainCom(),gridCallBack:r.getWidth,boxWidth:n,renderItem:function(t){var n=t.item,o=t.index;return r.renderMainShopList(n,e,o,null,0)}})))})),m()(s()(r),"renderMainShopList",(function(e,t,n,o,i){var a,l="prod"!=e.dataType?"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName):null!==(a=e.photoPath)&&void 0!==a&&a.includes("product")?"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName):"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName);return v.a.createElement(A.a,{onPress:function(){return r.handleMainItemClick(e,n,o,i)},ref:function(t){return r.receiveRef(t,r.handleExposeData(e,n,o,i))}},v.a.createElement(S.a,{style:[{width:r.state.singleWidth,height:r.state.singleWidth},t.imageWrap]},v.a.createElement(se.a,{imgUri:l,resizeWidth:r.state.singleWidth,imgStyle:t.shopImage})),v.a.createElement(B.a,{numberOfLines:2,style:[t.shopText,{width:r.state.singleWidth}]},e.prdName))})),m()(s()(r),"renderChildShopList",(function(e,t,n,o,i,a){var l,s=r.props.isApp?3:r.props.isPadHorizonta?6:5,c=Number((a-24-8*(s-1))/s),u=r.props.isApp?n<=2:r.props.isPadHorizonta?n<=5:n<=4,d="prod"!=e.dataType?"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName):null!==(l=e.photoPath)&&void 0!==l&&l.includes("product")?"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName):"".concat(oe.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName);return v.a.createElement(A.a,{onPress:function(){return r.handleMainItemClick(e,n,o,i)},ref:function(t){return r.receiveRef(t,r.handleExposeData(e,n,o,i))},style:{marginLeft:8,paddingTop:u?0:12}},v.a.createElement(S.a,{style:[{width:c,height:c},t.imageWrap]},v.a.createElement(se.a,{imgUri:d,resizeWidth:c,imgStyle:t.shopImage})),v.a.createElement(B.a,{numberOfLines:2,style:[t.shopText,{width:c}]},e.prdName))})),m()(s()(r),"renderSwiper",(function(e,t){var n;return v.a.createElement(S.a,{style:{marginBottom:12,paddingHorizontal:r.props.isApp?0:24}},0===(null===(n=r.handleSwiper(r.props.childInfo))||void 0===n?void 0:n.length)?v.a.createElement(v.a.Fragment,null):r.props.isApp?v.a.createElement(ie.a,{fromPage:"category",imgList:r.handleSwiper(r.props.childInfo),componentName:"Swiper",key:r.props.activeIndex,configInfo:r.state.configInfo,boxWidth:t,setSwiperRef:function(e){r.receiveRef(e,"轮播图")},clickAd:function(e,t){var n,o,i;return r.props.clickItem("主分类点击广告",null===(n=r.props)||void 0===n||null===(o=n.categoryInfo)||void 0===o||null===(i=o[r.props.activeIndex])||void 0===i?void 0:i.categoryName,r.props.activeIndex+1,e,t)},width:t,hasMargin:r.state.hasMargin,pageId:r.props.pageId}):v.a.createElement(ae.a,{setSwiperRef:function(e){r.receiveRef(e,"轮播图")},fromPage:"category",imgList:r.handleSwiper(r.props.childInfo),componentName:"Swiper",key:r.props.activeIndex,configInfo:r.state.configInfo,clickAd:function(e,t){var n,o,i;return r.props.clickItem("主分类点击广告",null===(n=r.props)||void 0===n||null===(o=n.categoryInfo)||void 0===o||null===(i=o[r.props.activeIndex])||void 0===i?void 0:i.categoryName,r.props.activeIndex+1,e,t)},boxWidth:t-55,width:t-55,hasMargin:!0,pageId:r.props.pageId}))})),m()(s()(r),"_onScrollContentSizeChange",(function(e,t){r.childCategoryWrap.scrollTo({y:0,animated:!0}),r.setState({isTop:!0,isBottom:"ios"===b.a.OS?Math.floor(t)<=r.state.height-56-he:Math.floor(t)<=r.state.height-56-M.a.currentHeight})})),r.state={configInfo:{showCategory:!0},flexHeight:0,isTop:!0,isBottom:!1,hasMargin:!0,swiperDataArr:[],pageType:r.props.pageType||"category",width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight,singleWidth:70,secondCategoryData:r.props.childInfo},r}return a()(n,[{key:"componentDidUpdate",value:function(){this.state.width!==Object(C.x)("category").screenWidth&&this.setState({width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight})}},{key:"handleSwiper",value:function(e){var t,n,r,o,i=null===(t=e[0])||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.mainCategoryInfo)||void 0===r||null===(o=r.dataInfos)||void 0===o?void 0:o.filter((function(e){return"ad"==e.dataType}));return(null==i?void 0:i.map((function(e,t){return{actionUrl:e.adActionUrl,actionUrlWap:e.adActionUrlWap,imgProportion:"21:9",gotoPageId:"",comId:"",type:"App",imgUri:"".concat(oe.a.cmsCndProdPath).concat(e.adImgUrl),index:t+1}})))||[]}},{key:"handleMainItemClick",value:function(e,t,n,r){if("prod"==e.dataType){var o,i,a,l,s="web"===b.a.OS?e.actionUrlWap:e.actionUrl;if(null!==(o=this.props)&&void 0!==o&&o.clickItem)this.props.clickItem(n?"子分类点击商品":"主分类点击商品",null===(i=this.props)||void 0===i||null===(a=i.categoryInfo)||void 0===a||null===(l=a[this.props.activeIndex])||void 0===l?void 0:l.categoryName,this.props.activeIndex+1,e.skuCode,t+1,n,r+1),Object(G.b)("",!0);Object(C.D)(s)?Object(Z.d)(e.prdId,e.skuCode):Object(C.A)(s)}else if("tag"==e.dataType){var c,u,d,p,f,h,g,m,y=(null==e?void 0:e.tagCode)&&(null===(c=JSON.parse(e.tagCode))||void 0===c||null===(u=c.map((function(e){return e.code})))||void 0===u?void 0:u.join(";"));if(p="web"!==b.a.OS?"vmall://com.vmall.client/home/category?targetRoute=CategoryList&tagid=".concat(y,"&categoryName=").concat(encodeURIComponent(e.prdName)):"".concat(oe.a.webDomain,"portal/category/?targetRoute=CategoryList&tagid=").concat(y,"&categoryName=").concat(encodeURIComponent(encodeURIComponent(e.prdName))),null!==(d=this.props)&&void 0!==d&&d.clickItem)this.props.clickItem(n?"子分类点击标签":"主分类点击标签",null===(f=this.props)||void 0===f||null===(h=f.categoryInfo)||void 0===h||null===(g=h[this.props.activeIndex])||void 0===g?void 0:g.categoryName,this.props.activeIndex+1,(null==e?void 0:e.tagCode)&&(null===(m=JSON.parse(e.tagCode)[0])||void 0===m?void 0:m.code),t+1,n,r+1),Object(G.b)("",!0);Object(C.A)(p)}}},{key:"handleClick",value:function(e){var t;if("2"==e.moreUrlType)if("web"!==b.a.OS){var n={targetRoute:"CategoryList",routeParams:{tagid:e.categoryId,name:e.categoryName}};encodeURIComponent(JSON.stringify(n));t="vmall://com.vmall.client/home/category?targetRoute=CategoryList&tagid=".concat(e.categoryId,"&categoryName=").concat(encodeURIComponent(e.categoryName))}else t="".concat(oe.a.webDomain,"portal/category/?targetRoute=CategoryList&tagid=").concat(e.categoryId,"&categoryName=").concat(encodeURIComponent(encodeURIComponent(e.categoryName)));else"3"==e.moreUrlType&&(t="web"!==b.a.OS?e.moreActionUrl:e.actionUrlWap);Object(C.A)(t)}},{key:"handleSwiperExposeData",value:function(){var e,t,n;return{actionName:"轮播图数据曝光",sortName:null===(e=this.props)||void 0===e||null===(t=e.categoryInfo)||void 0===t||null===(n=t[this.props.activeIndex])||void 0===n?void 0:n.categoryName,sortindex:this.props.activeIndex+1,dataCode:""}}},{key:"handleExposeData",value:function(e,t,n,r){var o,i,a,l;return{actionName:n?"子分类数据曝光时上报":"主分类下配置的数据曝光时上报",sortName:null===(o=this.props)||void 0===o||null===(i=o.categoryInfo)||void 0===i||null===(a=i[this.props.activeIndex])||void 0===a?void 0:a.categoryName,sortindex:this.props.activeIndex+1,dataCode:"tag"==e.dataType?null===(l=JSON.parse(e.tagCode)[0])||void 0===l?void 0:l.code:e.skuCode,index:t+1,subSortNname:n,subSortIndex:r+1}}},{key:"handleMainCom",value:function(){var e,t,n,r;return(null===(e=this.props.childInfo[0])||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.mainCategoryInfo)||void 0===n||null===(r=n.dataInfos)||void 0===r?void 0:r.filter((function(e){return"prod"==e.dataType||"tag"==e.dataType})))||[]}},{key:"_contentViewScroll",value:function(e){var t=e.nativeEvent.contentOffset.y;0==t?this.setState({isTop:!0}):t>0&&this.setState({isTop:!1});var n=e.nativeEvent.contentSize.height;t+e.nativeEvent.layoutMeasurement.height>=n-10?this.setState({isBottom:!0}):this.setState({isBottom:!1}),"ios"===b.a.OS?F.a.emit("iosForOnScrollEvent",e,"category"):F.a.emit("onScrollEvent",e,"category")}},{key:"_onScrollEndDrag",value:function(e){var t,n,r,o=this.state.flexHeight;(0!=this.state.flexHeight&&this.setState({flexHeight:0}),this.state.isTop&&o>8)&&(0!==this.props.activeIndex&&(this.props.clickItem("主分类切换",null===(t=this.props)||void 0===t||null===(n=t.categoryInfo)||void 0===n||null===(r=n[this.props.activeIndex-1])||void 0===r?void 0:r.categoryName,this.props.activeIndex),Object(G.b)("",!0),this.props.changeIndex(this.props.activeIndex-1)));if(this.state.isBottom&&o<-8){var i,a,l,s;if(this.props.activeIndex+1==(null===(i=this.props)||void 0===i?void 0:i.categoryInfo.length))return!1;this.props.clickItem("主分类切换",null===(a=this.props)||void 0===a||null===(l=a.categoryInfo)||void 0===l||null===(s=l[this.props.activeIndex+1])||void 0===s?void 0:s.categoryName,this.props.activeIndex+2),Object(G.b)("",!0),this.props.changeIndex(this.props.activeIndex+1)}}},{key:"onTouchStart",value:function(e){this.startY=e.nativeEvent.pageY}},{key:"onTouchMove",value:function(e){(this.state.isTop||this.state.isBottom)&&this.setState({flexHeight:e.nativeEvent.pageY-this.startY})}},{key:"render",value:function(){var e,t,n=this,r=this.props.isApp?.767:this.props.isPadHorizonta?.827:.741,o=Math.floor(this.state.width*r)-(this.props.isApp?32:48),i=Math.floor(this.state.width*r),a="ios"===b.a.OS?this.state.height-112-he-(0!==(null===(e=this.handleSwiper(this.props.childInfo))||void 0===e?void 0:e.length)?this.props.isPad?115:9*this.state.width/21-29.5:10)+58:this.state.height-112-M.a.currentHeight-(0!==(null===(t=this.handleSwiper(this.props.childInfo))||void 0===t?void 0:t.length)?this.props.isPad?115:126:10)+58;return v.a.createElement(I.b,{themeStyles:function(e){return ne(e,n.props.isApp,n.props.isPadHorizonta)}},(function(e,t){var r,l,s,c,u,d,p;return v.a.createElement(S.a,{style:{flex:1}},v.a.createElement(X.a,{scrollEventThrottle:300,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,nestedScrollEnabled:!0,onScroll:n._contentViewScroll.bind(n),ref:n.refScrollView,onTouchStart:n.onTouchStart.bind(n),onTouchEnd:n._onScrollEndDrag.bind(n),onTouchMove:n.onTouchMove.bind(n),onScrollEndDrag:n._onScrollEndDrag.bind(n),onContentSizeChange:n._onScrollContentSizeChange.bind(n),overScrollMode:"never",style:{flex:1,paddingTop:8}},0!==(null===(r=n.handleSwiper(n.props.childInfo))||void 0===r?void 0:r.length)?n.renderSwiper(e,i):v.a.createElement(v.a.Fragment,null),v.a.createElement(S.a,{style:{minHeight:a-40,paddingHorizontal:n.props.isApp?16:24}},0!==(null===(l=n.handleMainCom())||void 0===l?void 0:l.length)?n.renderMainList(e,t,o):null,0!==(null===(s=n.props.childInfo[0])||void 0===s||null===(c=s.data)||void 0===c?void 0:c.length)?null===(u=n.props.childInfo[0])||void 0===u||null===(d=u.data)||void 0===d||null===(p=d.subCategoryList)||void 0===p?void 0:p.map((function(r,i){return n.renderChildList(r,i,e,t,o)})):null),n.props.categoryInfo.length-1!=n.props.activeIndex?v.a.createElement(S.a,{style:e.loadMore},v.a.createElement(le.a,{normalCol:t.C13.color,opacity:t.C13.opacity,iconName:"ic_public_send",width:18,viewBox:"0 0 1024 1024",height:18}),v.a.createElement(B.a,{style:e.loadMoreTextColor},"上拉继续浏览")):null))}))}}]),n}(y.Component),me=Object(k.a)(Object(P.a)(W)(Object(E.a)(ge)));function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var we=function(e){u()(n,e);var t=be(n);function n(e){var r,i;return o()(this,n),i=t.call(this,e),m()(s()(i),"chunkArr",(function(e,t){for(var n=e.length,r=0,o=0,i=new Array(Math.ceil(n/t));r<n;)i[o++]=e.slice(r,r+=t);return i})),m()(s()(i),"isApp",(function(){return"small"===i.getSize()})),m()(s()(i),"getSize",(function(){var e=Object(C.x)("category").screenWidth;return Object(x.a)(e)})),m()(s()(i),"isPadPc",(function(){return"medium"===i.getSize()&&i.isPadHorizonta()})),m()(s()(i),"isPad",(function(){return"medium"===i.getSize()})),m()(s()(i),"isPadHorizonta",(function(){return("web"===b.a.OS?w.a.get("window").width:Object(C.x)("category").screenWidth)>=("web"===b.a.OS?w.a.get("window").height:Object(C.x)("category").screenHeight)})),m()(s()(i),"changeIndex",(function(e){var t,n,r;null!==(t=i.state)&&void 0!==t&&null!==(n=t.categoryInfo[e])&&void 0!==n&&null!==(r=n.mainCategoryInfo)&&void 0!==r&&r.dataInfos||i.configProductListWithCategoryList(!1),i.setState({activeIndex:e>=i.state.categoryInfo.length-1?i.state.categoryInfo.length-1:e,childInfo:[{data:i.state.categoryInfo[e]||[]}]})})),i.state={pageType:i.props.pageType||"category",width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight,activeIndex:0,categoryInfo:null===(r=i.props)||void 0===r?void 0:r.categoryInfo,childInfo:[]},i}return a()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.configProductListWithCategoryList(!0)}},{key:"componentDidMount",value:function(){this.configProductListWithCategoryList(!1)}},{key:"handleCategoryInfo",value:function(e,t){return t[e]}},{key:"configProductListWithCategoryList",value:function(e){var t=this,n=this.props,r=n.categoryInfo,o=n.isShop,i=void 0!==o&&o;if(r.length){var a,l,s=e?[].concat(this.calAllCategoryDateSource(r[0])):this.calAllCategoryDateSource(r),c=this.chunkArr(s,100),u="web"!==b.a.OS?"3":"2",d=i?O.t:O.n;if(e)if(null!==(a=this.props)&&void 0!==a&&null!==(l=a.rightData)&&void 0!==l&&l.dataMap)null==r||r.forEach((function(e){var n,r,o,i;e.mainCategoryInfo=t.handleCategoryInfo(null===(n=JSON.parse(e.configInfo))||void 0===n||null===(r=n.dataSourceList[0])||void 0===r?void 0:r.dataSourceCode,null===(o=t.props)||void 0===o?void 0:o.rightData.dataMap),null===(i=e.subCategoryList)||void 0===i||i.forEach((function(e){var n,r,o;e.childCategoryInfo=t.handleCategoryInfo(null===(n=JSON.parse(e.configInfo))||void 0===n||null===(r=n.dataSourceList[0])||void 0===r?void 0:r.dataSourceCode,null===(o=t.props)||void 0===o?void 0:o.rightData.dataMap)}))})),this.setState({categoryInfo:r,childInfo:[{data:r[this.state.activeIndex]||[]}]});else{var p=JSON.stringify(c[0]);d(p,u).then((function(e){e.dataMap&&e.dataMap&&(null==r||r.forEach((function(n){var r,o,i;n.mainCategoryInfo=t.handleCategoryInfo(null===(r=JSON.parse(n.configInfo))||void 0===r||null===(o=r.dataSourceList[0])||void 0===o?void 0:o.dataSourceCode,e.dataMap),null===(i=n.subCategoryList)||void 0===i||i.forEach((function(n){var r,o;n.childCategoryInfo=t.handleCategoryInfo(null===(r=JSON.parse(n.configInfo))||void 0===r||null===(o=r.dataSourceList[0])||void 0===o?void 0:o.dataSourceCode,e.dataMap)}))})),t.setState({categoryInfo:r,childInfo:[{data:r[t.state.activeIndex]||[]}]}))}))}else if(1==(null==c?void 0:c.length)){var f=JSON.stringify(c[0]);d(f,u).then((function(e){e.dataMap&&e.dataMap&&(null==r||r.forEach((function(n){var r,o,i;n.mainCategoryInfo=t.handleCategoryInfo(null===(r=JSON.parse(n.configInfo))||void 0===r||null===(o=r.dataSourceList[0])||void 0===o?void 0:o.dataSourceCode,e.dataMap),null===(i=n.subCategoryList)||void 0===i||i.forEach((function(n){var r,o;n.childCategoryInfo=t.handleCategoryInfo(null===(r=JSON.parse(n.configInfo))||void 0===r||null===(o=r.dataSourceList[0])||void 0===o?void 0:o.dataSourceCode,e.dataMap)}))})),t.setState({categoryInfo:r,childInfo:[{data:r[t.state.activeIndex]||[]}]}))}))}else{var h=c.map((function(e){return d(JSON.stringify(e),u)})),g={};Promise.all(h).then((function(e){e.map((function(e){g=ve(ve({},g),e.dataMap)})),g&&(null==r||r.forEach((function(e){var n,r,o;e.mainCategoryInfo=t.handleCategoryInfo(null===(n=JSON.parse(e.configInfo))||void 0===n||null===(r=n.dataSourceList[0])||void 0===r?void 0:r.dataSourceCode,g),null===(o=e.subCategoryList)||void 0===o||o.forEach((function(e){var n,r;e.childCategoryInfo=t.handleCategoryInfo(null===(n=JSON.parse(e.configInfo))||void 0===n||null===(r=n.dataSourceList[0])||void 0===r?void 0:r.dataSourceCode,g)}))})),t.setState({categoryInfo:r,childInfo:[{data:r[t.state.activeIndex]||[]}]}))}))}}}},{key:"calAllCategoryDateSource",value:function(e){var t,n=this;e=Array.isArray(e)?e:[].concat(e);var r=this.calCategoryDateSource(e);return null===(t=e)||void 0===t||t.forEach((function(e){var t=n.calCategoryDateSource(e.subCategoryList);t.length&&(r=r.concat(t))})),r}},{key:"calCategoryDateSource",value:function(e){var t=[];return null==e||e.forEach((function(e){var n=JSON.parse(e.configInfo).dataSourceList[0];e.dataSourceType=n,t.push(n.dataSourceCode)})),t}},{key:"componentDidUpdate",value:function(){this.state.width!==Object(C.x)("category").screenWidth&&this.setState({width:Object(C.x)("category").screenWidth,height:Object(C.x)("category").screenHeight})}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageCatCode,r=t.pageCatName;return v.a.createElement(I.b,{themeStyles:function(t){return function(e,t){return T.a.create({View:{flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",backgroundColor:e.C32.color,flex:1}})}(t,e.isPad())}},(function(t,o){var i;return v.a.createElement(S.a,{style:t.View},v.a.createElement(K,{isHaveTitle:e.props.isHaveTitle,clickItem:e.props.clickItem,categoryInfo:e.state.categoryInfo,activeIndex:e.state.activeIndex,changeIndex:e.changeIndex,isApp:e.isApp(),isPad:e.isPad(),isPadHorizonta:e.isPadHorizonta(),pageId:e.props.pageId,pageCatCode:n,pageCatName:r}),0===(null===(i=e.state.categoryInfo)||void 0===i?void 0:i.length)||0===e.state.childInfo.length?v.a.createElement(v.a.Fragment,null):"web"===b.a.OS?v.a.createElement(de,{isHaveTitle:e.props.isHaveTitle,categoryInfo:e.state.categoryInfo,clickItem:e.props.clickItem,childInfo:e.state.childInfo,changeIndex:e.changeIndex,activeIndex:e.state.activeIndex,isApp:e.isApp(),isPad:e.isPad(),isPadHorizonta:e.isPadHorizonta(),key:e.state.activeIndex,pageId:e.props.pageId,pageCatCode:n,pageCatName:r}):v.a.createElement(me,{key:e.state.activeIndex,isHaveTitle:e.props.isHaveTitle,categoryInfo:e.state.categoryInfo,clickItem:e.props.clickItem,childInfo:e.state.childInfo,changeIndex:e.changeIndex,activeIndex:e.state.activeIndex,isApp:e.isApp(),isPad:e.isPad(),isPadHorizonta:e.isPadHorizonta(),pageId:e.props.pageId,pageCatCode:n,pageCatName:r}))}))}}]),n}(y.Component);t.a=Object(k.a)(Object(P.a)(W)(Object(E.a)(we)))},function(e,t,n){"use strict";var r=n(57),o=n(54);t.a=function(e){return r.a.create({lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},load:{margin:"auto",width:o.a.get("window").width,position:"absolute",top:80}})}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.Assets=void 0,Object.defineProperty(t,"CardAnimationContext",{enumerable:!0,get:function(){return h.default}}),t.CardStyleInterpolators=void 0,Object.defineProperty(t,"GestureHandlerRefContext",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"HeaderBackButton",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"HeaderBackground",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"HeaderHeightContext",{enumerable:!0,get:function(){return g.default}}),t.HeaderStyleInterpolators=void 0,Object.defineProperty(t,"HeaderTitle",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"StackView",{enumerable:!0,get:function(){return c.default}}),t.TransitionSpecs=t.TransitionPresets=void 0,Object.defineProperty(t,"createStackNavigator",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"useCardAnimation",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"useGestureHandlerRef",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"useHeaderHeight",{enumerable:!0,get:function(){return v.default}});var o=S(n(271));t.CardStyleInterpolators=o;var i=S(n(224));t.HeaderStyleInterpolators=i;var a=S(n(330));t.TransitionSpecs=a;var l=S(n(331));t.TransitionPresets=l;var s=r(n(474)),c=r(n(353)),u=r(n(367)),d=r(n(368)),p=r(n(357)),f=r(n(360)),h=r(n(278)),g=r(n(279)),m=r(n(369)),y=r(n(541)),v=r(n(542)),b=r(n(543));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var C=[n(358),n(359)];t.Assets=C},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(48),v=n(40),b=n(102),w=n(0),S=n.n(w),C=n(54),O=n(43),P=n(126),T=n(152),x=n(30),I=n(46),k=n(20),E=n(57),j=n(37),R=n(53);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){return E.a.create({titleBarShare:{marginBottom:0,marginLeft:0,height:56,width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:e.C32.color,position:"web"===j.a.OS?"fixed":"absolute",top:0,left:0},titleBar:{marginBottom:0,marginLeft:0,height:56,width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:e.C32.color},titleBarLeft:{marginBottom:0,marginLeft:0,flexDirection:"row",alignItems:"center"},titleBar_title:_(_({marginLeft:18,marginRight:24,flexShrink:1,fontFamily:R.a.fontFamilyMedium},e.T12),{},{lineHeight:28},e.C11)})},N=n(61),W=n(33);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var F=0;y.a.isIOS()&&Object(W.e)().then((function(e){F=e})).catch((function(e){}));var H=function(e){u()(n,e);var t=M(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"isSmall",(function(){var e=y.a.isApp()?I.a.width:C.a.get("window").width;return"small"===Object(v.a)(e)})),r}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.titleName,n=e.onPress,r=e.isShare,o=e.isChange,i=e.layoutType,a=e.onPressShare,l=e.onPressChange,s=(e.statusBarColor,e.titleBarStyle),c=e.customMarginLeft,u=e.disabledMarginTop,d=c||(this.isSmall()?16:24),p=x.a.darkBool;return S.a.createElement(b.b,{themeStyles:D},(function(e,c){return S.a.createElement(S.a.Fragment,null,S.a.createElement(O.a,{style:["勋章详情"===t?e.titleBarShare:e.titleBar,s,!u&&{marginTop:F}]},S.a.createElement(O.a,{style:[e.titleBarLeft]},S.a.createElement(P.a,{style:{marginLeft:d},onPress:n},S.a.createElement(k.a,{iconName:"ic24-back",normalCol:c.C31.color,opacity:p?c.C12.opacity:c.C11.opacity,width:24,height:24})),S.a.createElement(T.a,{style:[e.titleBar_title,p?B({},c.C12):{}],numberOfLines:1,ellipsizeMode:"tail"},t)),r?S.a.createElement(P.a,{style:{marginRight:d},onPress:a},S.a.createElement(k.a,{iconName:"share",normalCol:c.C31.color,width:24,height:24})):null,o?S.a.createElement(P.a,{style:{marginRight:d},onPress:l},i===N.a.oneByOne?S.a.createElement(k.a,{iconName:"layOut-OneByeOne",normalCol:c.C31.color,width:24,height:24}):i===N.a.oneByTwo?S.a.createElement(k.a,{iconName:"layOut-OneByeTwo",normalCol:c.C31.color,width:24,height:24}):null):null))}))}}]),n}(w.Component);t.a=H},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(28),o=n.n(r),i=n(1),a=n.n(i),l=n(608);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=c(c({},l.a),{},{runAfterInteractions:function(e){var t=!1,n=setTimeout((function(){t=!0,e()}),10);l.a.runAfterInteractions((function(){t||(clearTimeout(n),e())}))}});o.a.shape({style:o.a.any})},function(e,t,n){"use strict";var r=n(56),o=n.n(r),i=n(0),a=n.n(i),l=n(43),s=n(5),c=n.n(s),u=n(6),d=n.n(u),p=n(8),f=n.n(p),h=n(7),g=n.n(h),m=n(4),y=n.n(m),v=n(94),b=n(37);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var S=function(e){f()(n,e);var t=w(n);function n(){return c()(this,n),t.apply(this,arguments)}return d()(n,[{key:"shouldComponentUpdate",value:function(e,t,n){var r;return(!v.a.layoutFlag||"web"!==b.a.OS||"seckillChannel"===(null===(r=this.props)||void 0===r?void 0:r.pageName))&&!!e.shouldUpdate}},{key:"render",value:function(){var e=this.props.children;return null===e||!1===e?null:a.a.Children.only(e)}}]),n}(i.Component),C=["pageName","shouldUpdated"];t.a=function(e){var t=e.pageName,n=e.shouldUpdated,r=o()(e,C);return a.a.createElement(l.a,r,a.a.createElement(S,{shouldUpdate:n,pageName:t},r.children))}},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(460),v=n.n(y),b=n(0),w=n.n(b),S=n(128),C=n(15),O=n.n(C),P=n(43);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var x=function(e){u()(n,e);var t=T(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),m()(s()(e),"_root",null),e}return a()(n,[{key:"render",value:function(){var e=this;return w.a.createElement(P.a,O()({ref:function(t){return e._root=t}},this.props))}}]),n}(b.Component),I=n(87),k=n(156),E=n(88);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var R=function(e){u()(n,e);var t=j(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"contextTypes",void 0),m()(s()(r),"renderTabOption",(function(e,t){})),m()(s()(r),"renderTab",(function(e,t,n,o,i,a,l,s,c,u,d,p,f,h){var g,m="string"!=typeof e?e.props.children:void 0,y=r.props,b=y.activeTextColor,C=y.inactiveTextColor,O=!!d;g=O?p:n?s?s.color:b:l?l.color:C;var P={disabled:!!O,selected:!!n};return"string"==typeof e?w.a.createElement(k.a,{style:{flex:1},disabled:O,key:e,accessible:f,accessibilityRole:"tab",accessibilityLabel:h,accessibilityState:P,onPress:function(){return o(t)}},w.a.createElement(S.a,{style:[{flex:1,alignItems:"center",justifyContent:"center"},n?a:i],active:n},w.a.createElement(E.a,{style:[{fontSize:u},n?s:l,{color:g}]},e))):w.a.createElement(k.a,{style:{flex:1},disabled:O,key:v()(1.2,5.2),accessible:f,accessibilityRole:"tab",accessibilityLabel:h,accessibilityState:P,onPress:function(){return o(t)}},w.a.createElement(S.a,{style:c,active:n},m))})),r}return a()(n,[{key:"render",value:function(){var e=this,t=this.props.containerWidth,n=this.props.tabs.length,r={position:"absolute",width:t/n,height:4,backgroundColor:"#fff",bottom:0},o=this.props.scrollValue.interpolate({inputRange:[0,1],outputRange:[0,t/n]});return w.a.createElement(x,{style:[{backgroundColor:"#571616",flexDirection:"row",justifyContent:"space-around",height:50},this.props.tabContainerStyle?this.props.tabContainerStyle:{}]},this.props.tabs.map((function(t,n){var r=e.props.activeTab===n;return(e.props.renderTab||e.renderTab)(t,n,r,e.props.goToPage,e.props.tabStyle[n],e.props.activeTabStyle[n],e.props.textStyle[n],e.props.activeTextStyle[n],e.props.tabHeaderStyle[n],15,e.props.disabled[n],e.props.disabledTextColor,e.props.accessible[n],e.props.accessibilityLabel[n])})),w.a.createElement(I.a.View,{style:[r,{left:o},this.props.underlineStyle]}))}}]),n}(b.Component);m()(R,"defaultProps",{activeTextColor:"#9a9696",inactiveTextColor:"#787474",disabledTextColor:"#050505",backgroundColor:"transparent",tabFontSize:15});t.a=R},,,function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"isIphoneX",(function(){return a})),n.d(t,"ifIphoneX",(function(){return l})),n.d(t,"getStatusBarHeight",(function(){return s})),n.d(t,"getBottomSpace",(function(){return c}));var r=n(54),o=n(37),i=n(149);function a(){const e=r.a.get("window");return!("ios"!==o.a.OS||o.a.isPad||o.a.isTVOS||780!==e.height&&780!==e.width&&812!==e.height&&812!==e.width&&844!==e.height&&844!==e.width&&896!==e.height&&896!==e.width&&926!==e.height&&926!==e.width)}function l(e,t){return a()?e:t}function s(e){return o.a.select({ios:l(e?44:30,20),android:i.a.currentHeight,default:0})}function c(){return a()?34:0}},function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=(r=function(){function e(){s()(this,e),a()(this,"dataList",o,this)}return u()(e,[{key:"onUpdate",value:function(e,t){this.dataList.set(t,e)}}]),e}(),o=p()(r.prototype,"dataList",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),p()(r.prototype,"onUpdate",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),r);t.a=new h},function(e,t,n){var r=n(287),o=n(286),i=n(214),a=n(288);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(189),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),l=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],l=Object.keys(a),s=0;s<l.length;++s){var c=l[s],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,o,i){if(0===e.length)return e;var l=e;if("symbol"==typeof e?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===n)return escape(l).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",c=0;c<l.length;++c){var u=l.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===r.RFC1738&&(40===u||41===u)?s+=l.charAt(c):u<128?s+=a[u]:u<2048?s+=a[192|u>>6]+a[128|63&u]:u<55296||u>=57344?s+=a[224|u>>12]+a[128|u>>6&63]+a[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&l.charCodeAt(c)),s+=a[240|u>>18]+a[128|u>>12&63]+a[128|u>>6&63]+a[128|63&u])}return s},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=l(t,r)),i(t)&&i(n)?(n.forEach((function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),a)}}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(392)),o=a(n(393)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(384);t.default=r.TextareaAutosize},function(e,t,n){"use strict";(function(e){var r=n(0),o=n.n(r),i=n(77),a=n(28),l=n.n(a),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var u=o.a.createContext||function(e,t){var n,o,a,u="__create-react-context-"+((s[a="__global_unique_id__"]=(s[a]||0)+1)+"__"),d=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(i.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[u]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?n=0:(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},r.render=function(){return this.props.children},n}(r.Component);d.childContextTypes=((n={})[u]=l.a.object.isRequired,n);var p=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(i.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[u]&&this.context[u].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[u]&&this.context[u].off(this.onUpdate)},r.getValue=function(){return this.context[u]?this.context[u].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return p.contextTypes=((o={})[u]=l.a.object,o),{Provider:d,Consumer:p}};t.a=u}).call(this,n(111))},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(95);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var y=function(e){s()(n,e);var t=m(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={hasError:!1},r}return a()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?h.a.createElement(g.a,null):this.props.children}}]),n}(h.a.Component);t.a=y},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(54),w=n(49),S=n(157),C=n(43),O=n(152),P=n(126),T=n(57);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){return T.a.create({container:{width:"100%",minHeight:56,backgroundColor:e.C32.color,flexDirection:"row",justifyContent:"space-between",overflow:"hidden",bottom:0,marginBottom:0,zIndex:1e5,borderTopWidth:.5,borderTopColor:e.C39.color+e.opacityMap[e.C39.opacity]},tabView:{backgroundColor:e.C32.color,overflow:"visible"},tabViewSmall:{height:"100%",alignItems:"center"},tabViewMedium:{flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:4,paddingBottom:4},tabViewLarge:{flexDirection:"column",justifyContent:"center",alignItems:"center",height:60},tabText:I(I({},e.T1),e.C15),tabTextActive:I(I({},e.T2),e.C18),cartNumItem:I(I(I({height:16,lineHeight:16,borderRadius:8,position:"absolute"},e.T1),e.C17),{},{backgroundColor:e.C35.color,top:6}),lowerNum:{width:16,textAlign:"center"},higherNum:{paddingLeft:6,paddingRight:6,right:14},highestNum:{paddingLeft:6,paddingRight:6,right:7},smallCart:{right:23},mediumCart:{top:6,right:9,width:16,textAlign:"center"},smallMedCartNum:{width:16,textAlign:"center"},smallMedHigherCartNum:{paddingLeft:6,paddingRight:6,top:6,right:4},smallMedHighestCartNum:{paddingLeft:6,paddingRight:6,top:6,right:1}})},E=n(40),j=n(102),R=n(185),L=n(70),_=n(20),D=n(3),N=n(101),W=n(12),A=n(11);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var H=b.a.get("window"),z=Object(E.a)(H.width),U=(W.f.WAP,W.h[W.f.WAP],A.a.wapDomain);"large"===z&&(W.f.WEB,W.h[W.f.WEB],U=A.a.webDomain);var V=function(e){u()(n,e);var t=F(n);function n(e){var r,i,a;return o()(this,n),a=t.call(this,e),m()(s()(a),"refreshCartNum",(function(){a.setState({cartNum:N.a.cartNum})})),a.state={index:(null===(r=a.props)||void 0===r||null===(i=r.tabInfos)||void 0===i?void 0:i.findIndex((function(e){return e.tabType==a.props.pageType})))||0,default:{},cartNum:N.a.cartNum},a}return a()(n,[{key:"componentDidMount",value:function(){w.a.addListener("refreshCartNum",this.refreshCartNum)}},{key:"componentWillUnmount",value:function(){w.a.removeListener("refreshCartNum",this.refreshCartNum)}},{key:"navigateByTab",value:function(e){if("1"===(null==e?void 0:e.relatedPageType))switch(null==e?void 0:e.tabType){case"homepage":Object(D.A)(U+W.j.HOME_URL_WEB_NEW,!1);break;case"category":var t=U+W.j.CATEGORY_URL_WEB_NEW+(null==e?void 0:e.relatedPage);Object(D.A)(t,!1);break;case"personal_center":var n=U+W.j.PERSONAL_URL_WAP_NEW+(null==e?void 0:e.relatedPage);Object(D.A)(n,!1);break;default:Object(D.A)(U+W.j.HOME_URL_WEB_NEW,!1)}else switch(null==e?void 0:e.tabType){case"homepage":Object(D.A)(U+W.j.HOME_URL_WEB,!1);break;case"category":Object(D.A)(U+W.j.CATEGORY_URL_WEB,!1);break;case"personal_center":Object(D.A)(U+W.j.PERSONAL_URL_WAP,!1);break;default:Object(D.A)(null==e?void 0:e.relatedPage,!1)}}},{key:"render",value:function(){var e,t,n,r,o,i,a,l=this,s=this.props,c=s.tabInfos,u=s.width,d=Object(E.a)(u);if("small"===d)e=u/c.length;else{var p=((e=(u-48)/c.length)-68)/2;t=p+36+8-4,n=p+36+8-13-2,r=p+36+8-16-2;var f=(e-36)/2;o=f-7,i=f-13-2,a=f-16-2}return v.a.createElement(j.b,{themeStyles:k},(function(s,u){return v.a.createElement(C.a,{style:[l.state.default,{position:"fixed",paddingLeft:"small"===d?0:24,paddingRight:"small"===d?0:24},s.container],onLayout:function(e){L.a.setBarHeight(e.nativeEvent.layout.height)}},function(s,u){return c.map((function(c,p){var f,h;switch(c.tabType){case"homepage":f="home",h="home_actived";break;case"category":f="category",h="category_actived";break;case"discovery":f="discovery",h="discovery_actived";break;case"cart":f="cart",h="cart_actived";break;case"personal_center":f="personalCenter",h="personalCenter_actived";break;default:f="home",h="home_actived"}var g=l.state.index===p,m={top:14,right:n,paddingLeft:6,paddingRight:6},y={top:14,right:r,paddingLeft:6,paddingRight:6},b="small"===d?{top:6,right:23,width:16,textAlign:"center"}:{top:14,right:t,width:16,textAlign:"center"},w="small"===d?s.higherNum:m,T="small"===d?s.highestNum:y,x={top:6,paddingLeft:6,paddingRight:6},I={top:6,right:o,width:16,textAlign:"center"},k=M({right:i},x),E=M({right:a},x),j="small"===d?s.mediumCart:I,R="small"===d?s.smallMedHigherCartNum:k,L="small"===d?s.smallMedHighestCartNum:E,D=function(t,n){var r,o,i;return"small"===n?(r=o=24,i="contain"):"medium"===n?(r=e,o=48,i="contain"):(r=e,o=60,i="contain"),t?v.a.createElement(S.a,{source:{uri:t},style:{width:r,height:o},resizeMode:i}):v.a.createElement(C.a,{style:{width:r,height:o}},v.a.createElement(_.a,{iconName:g?h:f,width:r,height:o,isActive:g,normalCol:u.C15.color,activeCol:u.C18.color}))},N=v.a.createElement(C.a,{style:[{flexDirection:"small"===d?"column":"row",justifyContent:"small"===d?"flex-start":"center",paddingLeft:"small"===d?4:8,paddingRight:"small"===d?4:8,paddingTop:"small"===d?8:0},s.tabViewSmall]},D(g?c.iconSelected:c.iconDefault,"small"),v.a.createElement(O.a,{numberOfLines:2,style:[{marginTop:"small"===d?2:0,marginBottom:"small"===d?4:0,marginLeft:"small"===d?0:8,textAlign:"small"===d?"center":"left"},s.tabText,g?s.tabTextActive:null]},c.tabName),"cart"===c.tabType&&l.state.cartNum?v.a.createElement(O.a,{style:[s.cartNumItem,l.state.cartNum<10?b:l.state.cartNum<100?w:T,{lineHeight:16}]},l.state.cartNum>99?"99+":l.state.cartNum):v.a.createElement(v.a.Fragment,null)),W=v.a.createElement(C.a,{style:[s.tabViewMedium]},D(g?c.iconSelected:c.iconDefault,"medium"),"cart"===c.tabType&&l.state.cartNum?v.a.createElement(O.a,{style:[s.cartNumItem,l.state.cartNum<10?j:l.state.cartNum<100?R:L,{lineHeight:16}]},l.state.cartNum>99?"99+":l.state.cartNum):v.a.createElement(v.a.Fragment,null)),A=v.a.createElement(C.a,{style:[s.tabViewLarge]},D(g?c.iconSelected:c.iconDefault,"large"),"cart"===c.tabType&&l.state.cartNum?v.a.createElement(O.a,{style:[s.cartNumItem,l.state.cartNum<10?j:l.state.cartNum<100?R:L,{lineHeight:16}]},l.state.cartNum>99?"99+":l.state.cartNum):v.a.createElement(v.a.Fragment,null));return v.a.createElement(P.a,{activeOpacity:1,style:[{width:e},s.tabView],key:p,onPress:function(){p!==l.state.index&&l.navigateByTab(c)}},c.iconSelectedOverflow||c.iconDefaultOverflow?A:c.nameShow?N:W)}))}(s,u))}))}}]),n}(v.a.PureComponent);m()(V,"defaultProps",{templateType:"3",tabInfos:[{relatedPage:"6547",relatedPageType:"1",tabId:10399,tabName:"首页",tabType:"homepage",templateId:2075,nameShow:!0,iconDefaultOverflow:!1,iconSelectedOverflow:!1},{relatedPage:"6547",relatedPageType:"1",tabId:10399,tabName:"分类",tabType:"category",templateId:2075,nameShow:!0,iconDefaultOverflow:!0,iconSelectedOverflow:!0},{relatedPage:"6547",relatedPageType:"1",tabId:10399,tabName:"发现",tabType:"discovery",templateId:2075,nameShow:!1,iconDefaultOverflow:!1,iconSelectedOverflow:!1},{relatedPage:"6547",relatedPageType:"1",tabId:10399,tabName:"购物车",tabType:"cart",templateId:2075,nameShow:!1,iconDefaultOverflow:!1,iconSelectedOverflow:!1},{relatedPage:"6547",relatedPageType:"1",tabId:10399,tabName:"我的",tabType:"personal_center",templateId:2075,nameShow:!0,iconDefaultOverflow:!1,iconSelectedOverflow:!1}]});t.a=Object(R.a)(V)},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(431),w=n(37),S=n(43),C=n(152),O=n(53),P=n(57);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=n(23),k=n(432),E=n(102),j=n(185);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var L=function(e){u()(n,e);var t=R(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"timer",null),m()(s()(r),"handleAppStateChange",(function(e){var t,n,o;"active"===e?null===(t=s()(r))||void 0===t||t.handleTime():null!==(n=s()(r))&&void 0!==n&&n.timer&&clearTimeout(null===(o=s()(r))||void 0===o?void 0:o.timer)})),m()(s()(r),"getDay",(function(){var e=r.state.day;return 1===e?Object(k.b)("day.one").replace("%d",String(e)):Object(k.b)("day.other").replace("%d",String(e))})),r.state={day:"",hour:"00",minute:"00",second:"00",reload:!1},r}return a()(n,[{key:"componentDidMount",value:function(){b.a.addEventListener("change",this.handleAppStateChange),this.handleTime()}},{key:"handleTime",value:function(){var e=this,t=this.props.endTime,n=this.props.startTime;Object(I.r)().then((function(r){var o,i=r&&1e3*r.serverTime||(new Date).getTime();if((o="已开始"==e.props.isStart?t-i:n-i)>1e3){var a=Math.floor(o/864e5),l=Math.floor(o/36e5%24),s=Math.floor(o/6e4%60),c=Math.floor(o/1e3%60);e.setState({day:a,hour:l<10?"0"+l:l,minute:s<10?"0"+s:s,second:c<10?"0"+c:c,reload:!0},(function(){e.props.getCountDay&&e.props.getCountDay(parseInt(e.state.day)>=1),e.props.isOverTenDay&&e.props.isOverTenDay(parseInt(e.state.day)>=10)})),e.props.showFirstTime&&e.props.showFirstTime(!0)}else e.timer&&clearTimeout(e.timer);e.countFun(o)}))}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer),b.a.removeEventListener("change",this.handleAppStateChange)}},{key:"countFun",value:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){if(e>=1e3){e-=1e3;var n=Math.floor(e/864e5),r=Math.floor(e/36e5%24),o=Math.floor(e/6e4%60),i=Math.floor(e/1e3%60);t.setState({day:n,hour:r<10?"0"+r:r,minute:o<10?"0"+o:o,second:i<10?"0"+i:i},(function(){t.props.getCountDay&&t.props.getCountDay(parseInt(t.state.day)>=1),t.props.isOverTenDay&&t.props.isOverTenDay(parseInt(t.state.day)>=10)})),t.countFun(e)}else clearTimeout(t.timer),t.setState({day:"",hour:"00",minute:"00",second:"00"})}),1e3)}},{key:"render",value:function(){var e,t,n,r,o,i=this,a=this.state.reload,l=parseInt(this.state.day)>=1,s="web"===w.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"))&&this.props.isApp;return(null===(r=this.props)||void 0===r?void 0:r.getDate)&&(null===(o=this.props)||void 0===o||o.getDate(this.state.day)),a?v.a.createElement(E.b,{themeStyles:function(e){return function(e){return P.a.create({timeView:{flexDirection:"row",alignItems:"center"},itemView:x(x(x({},e.T1),e.C17),{},{width:16,height:16,backgroundColor:"#CF0A2C",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2,textAlign:"center"}),dayView:{height:16,width:16,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",opacity:.6,fontFamily:O.a.fontFamilyBase,fontSize:10,color:"#000000",lineHeight:16,fontWeight:"400",marginRight:4},textColor:{color:"#CF0A2C",marginRight:4,marginLeft:4,textAlignVertical:"center",paddingBottom:2}})}(e)}},(function(e){var t,n,r,o,a,c,u,d,p,f,h,g,m,y,b,w,O,P,T,x,I,k,E;return v.a.createElement(S.a,{style:[e.timeView,{paddingBottom:s?1:0}]},v.a.createElement(C.a,{style:[e.dayView,{paddingTop:s?2:0},{marginBottom:null===(t=i.props)||void 0===t?void 0:t.isPCdayStyleBottom,marginTop:i.props.isEdgeDayTop,width:l?null===(n=i.props)||void 0===n?void 0:n.dayWidth:0,height:null===(r=i.props)||void 0===r?void 0:r.itemHeight,fontSize:null===(o=i.props)||void 0===o?void 0:o.itemFontSize,color:null===(a=i.props)||void 0===a?void 0:a.dayColor,opacity:null===(c=i.props)||void 0===c?void 0:c.opacity}]},l?i.getDay():null),v.a.createElement(C.a,{style:[e.itemView,{paddingTop:s?2:0},{width:null===(u=i.props)||void 0===u?void 0:u.itemWidth,height:null===(d=i.props)||void 0===d?void 0:d.itemHeight,backgroundColor:null===(p=i.props)||void 0===p?void 0:p.itemBgColor,color:null===(f=i.props)||void 0===f?void 0:f.itemTextColor,fontSize:null===(h=i.props)||void 0===h?void 0:h.itemFontSize}]},i.state.hour),v.a.createElement(C.a,{style:[e.textColor,{paddingTop:s?2:0},{color:null===(g=i.props)||void 0===g?void 0:g.itemBgColor}]},":"),v.a.createElement(C.a,{style:[e.itemView,{paddingTop:s?2:0},{width:null===(m=i.props)||void 0===m?void 0:m.itemWidth,height:null===(y=i.props)||void 0===y?void 0:y.itemHeight,backgroundColor:null===(b=i.props)||void 0===b?void 0:b.itemBgColor,color:null===(w=i.props)||void 0===w?void 0:w.itemTextColor,fontSize:null===(O=i.props)||void 0===O?void 0:O.itemFontSize}]},i.state.minute),v.a.createElement(C.a,{style:[e.textColor,{paddingTop:s?2:0},{color:null===(P=i.props)||void 0===P?void 0:P.itemBgColor}]},":"),v.a.createElement(C.a,{style:[e.itemView,{paddingTop:s?2:0},{width:null===(T=i.props)||void 0===T?void 0:T.itemWidth,height:null===(x=i.props)||void 0===x?void 0:x.itemHeight,backgroundColor:null===(I=i.props)||void 0===I?void 0:I.itemBgColor,color:null===(k=i.props)||void 0===k?void 0:k.itemTextColor,marginRight:0,fontSize:null===(E=i.props)||void 0===E?void 0:E.itemFontSize}]},i.state.second))})):v.a.createElement(v.a.Fragment,null)}}]),n}(y.Component);t.a=Object(j.a)(L)},function(e,t,n){"use strict";var r,o,i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(37),P=n(54),T=n(149),x=n(43),I=n(1018),k=n(152),E=n(126),j=n(40),R=n(48),L=n(432),_=n(102),D=n(185),N=n(21),W=n(10),A=n(27),B=n.n(A),M=n(18),F=n.n(M),H=(n(60),n(16)),z=new(r=function(){function e(){s()(this,e),B()(this,"activityCode",o,this)}return u()(e,[{key:"onSetActivityCode",value:function(e){this.activityCode=e}}]),e}(),o=F()(r.prototype,"activityCode",[H.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F()(r.prototype,"onSetActivityCode",[H.d],Object.getOwnPropertyDescriptor(r.prototype,"onSetActivityCode"),r.prototype),r),U={exposeItem:function(){var e=this.props,t=e.cardId,n=e.width;return{data:{actionCode:R.a.isPc(n)?"300063006":R.a.isApp()?"110000101":"210000101",actionName:"助力组件整体曝光上报",eventType:W.e.EVENT_TYPE_LOADING_PAGE,pageId:this.props.pageId,content:{comId:t.toString(),row:"",column:"",index:"",dateType:"14",dataCode:z.activityCode}}}},clickItem:function(e){var t=this.props.width;return{data:{actionCode:R.a.isPc(t)?"310000101":R.a.isApp()?"110000101":"210000101",actionName:null==e?void 0:e.actionName,eventType:W.b.CLICK_DRAW_CARD,pageId:this.props.pageId,content:{comId:e.cardId.toString(),row:"",column:"",index:"",dateType:e.dateType,dataCode:e.dataCode,gotoPageId:e.gotoPageId,gotoURL:e.gotoURL}}}}},V=n(25),G=n(3),Y=n(19),J=n(130),K=n(87),q=n(950),Q=n(30),$=n(57);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){return $.a.create({mask:Z(Z({position:"absolute",backgroundColor:e.C24.color},e.C24),{},{left:0,top:0}),containerWrapper:{zIndex:4,paddingLeft:24,paddingRight:24,paddingTop:14,paddingBottom:14,position:"absolute",backgroundColor:e.C17.color,borderRadius:24},innerWrapperCls:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap"},rulesWrapper:{position:"absolute",zIndex:100},ruleTitle:Z(Z({height:28},e.T12),e.C11),sureWebViewBtn:Z(Z({height:42,paddingTop:9,textAlign:"center"},e.T10),e.C18),ruleDark:{overflow:"hidden"}})};function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ne=function(e){h()(n,e);var t=te(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"DrawCardWapStyles",void 0),w()(p()(r),"isPc",(function(){return"large"===Object(j.a)(Object(G.x)(r.props.pageType).screenWidth)})),w()(p()(r),"isPad",(function(){return"medium"===Object(j.a)(Object(G.x)(r.props.pageType).screenWidth)})),w()(p()(r),"isApp",(function(){return"small"===Object(j.a)(Object(G.x)(r.props.pageType).screenWidth)})),w()(p()(r),"isPadHorizontal",(function(){var e=r.props.width,t=Object(j.a)(e);return P.a.get("window").width>P.a.get("window").height&&"medium"===t})),w()(p()(r),"fadeIn",(function(){r.setState({isShow:!0},(function(){K.a.timing(r.state.fadeAnim,{toValue:1,duration:500,useNativeDriver:!0}).start()}))})),w()(p()(r),"renderContent",(function(e){var t=r.getItemWidth(),n=t.width,o=t.height,i=r.props,a=i.content,l=i.changeStyle,s="<p>".concat(a,"</p>"),c=Q.a.darkBool,u=c?"black":"white",d=l||(c?"white":"black"),p="\n      var richTextContent = document.getElementsByClassName('richTextContent')[0];\n      richTextContent.style.color = \"".concat(d,'";\n      richTextContent.style.backgroundColor = "').concat(u,"\";\n      // richTextContent.style.cssText = \"padding-left: 10; padding-right: 10\";\n      // richTextContent.style.cssText = \" overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;\";\n      var children = richTextContent.childNodes;\n      var nodeComp = ['P', 'SPAN', 'H1', 'H2', 'H3', 'H4', 'H5', 'h4', 'STRONG'];\n      //因为浏览器会把dom节点下的空格 换行 文本都会当成一个元素 ，我们要找元素节点的话，只能把他们剔除\n      children.forEach(function(item){\n        item.style.fontSize = '14px';\n        item.style.lineHeight = '19px';\n        item.style.color = \"").concat(d,"\";\n        if (nodeComp.indexOf(item.nodeName) !== -1) {\n          item.style.fontSize = '14px';\n          item.style.lineHeight = '19px';\n          for (var i = 0; i < item.childNodes.length; i++) {\n            if (nodeComp.indexOf(item.childNodes[i].nodeName) !== -1) {\n              item.childNodes[i].style.fontSize = '14px';\n              item.childNodes[i].style.lineHeight = '19px';\n              item.childNodes[i].style.color = \"").concat(d,"\";\n            }\n          }\n        }\n        if (item.innerHTML === '<br>') {\n          item.innerHTML = '';\n          item.style.fontSize = '0';\n          item.style.lineHeight = '0';\n        }\n      })\n      (function () {\n          var height = null;\n          function changeHeight() {\n            if (document.body.scrollHeight != height) {\n              height = document.body.scrollHeight;\n              if (window.postMessage) {\n                window.ReactNativeWebView.postMessage(JSON.stringify({\n                  type: 'setHeight',\n                  height: height,\n                }))\n              }\n              \n            }\n          }\n          setInterval(changeHeight, 100);\n      } ())\n      "),f=r.getDiffHeight(n),h=f.diff,g=f.bottom,m=f.left;return"web"===O.a.OS?C.a.createElement(x.a,{style:[e.rulesWrapper,{height:o,width:n,top:-r.props.top}]},C.a.createElement(K.a.View,{style:{zIndex:12,height:o,opacity:r.state.fadeAnim}},C.a.createElement(x.a,{style:[e.mask,{height:o,width:n}]}),C.a.createElement(x.a,{style:[e.containerWrapper,{width:n-2*m,bottom:g,left:m}]},C.a.createElement(k.a,{style:e.ruleTitle},Object(L.b)("activity_Rules")),C.a.createElement(J.WebView,{style:[e.ruleDark,{height:o-112-h}],androidHardwareAccelerationDisabled:!!Q.a.QMbool,injectedJavaScript:p,javaScriptEnabled:!0,decelerationRate:"normal",startInLoadingState:!0,scalesPageToFit:!1,source:{html:s,baseUrl:""},bounces:!1,scrollEnabled:!1,contentInset:{top:0,left:0},onMessage:function(e){return r.onMessage(e)}}),C.a.createElement(E.a,{onPress:function(){return r.closeRuleModal()}},C.a.createElement(k.a,{style:[e.sureWebViewBtn]},"已阅"))))):C.a.createElement(q.a,{visible:r.state.isShow,animationType:"fade",transparent:!0,statusBarTranslucent:!0,style:[e.modalMask,{width:n,height:o,elevation:999}]},C.a.createElement(x.a,{style:[e.mask,{height:o,width:n}]}),C.a.createElement(x.a,{style:[e.rulesWrapper,{height:o,width:n}]},C.a.createElement(x.a,{style:[e.containerWrapper,{width:n-2*m,bottom:g,left:m}]},C.a.createElement(k.a,{style:e.ruleTitle},Object(L.b)("activity_Rules")),C.a.createElement(J.WebView,{style:[e.ruleDark,{height:o-112-h}],androidHardwareAccelerationDisabled:!!Q.a.QMbool,injectedJavaScript:p,javaScriptEnabled:!0,decelerationRate:"normal",startInLoadingState:!0,scalesPageToFit:!1,source:{html:s,baseUrl:""},bounces:!1,scrollEnabled:!1,contentInset:{top:0,left:0},onMessage:function(e){return r.onMessage(e)}}),C.a.createElement(E.a,{onPress:function(){return r.closeRuleModal()}},C.a.createElement(k.a,{style:[e.sureWebViewBtn]},"已阅")))))})),r.state={height:0,isShow:!1,fadeAnim:new K.a.Value(1)},r.DrawCardWapStyles=ee,r}return u()(n,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"onMessage",value:function(e){}},{key:"getItemWidth",value:function(){var e="web"===O.a.OS?P.a.get("window").width:Object(G.x)(this.props.pageType).screenWidth,t="web"===O.a.OS?P.a.get("window").height:Object(G.x)(this.props.pageType).screenHeight;return{width:e,height:t=R.a.isApp()?t+T.a.currentHeight:t}}},{key:"getDiffHeight",value:function(e){var t,n,r,o=T.a.currentHeight?T.a.currentHeight:0;return this.isApp()&&(t=96+o,n=24,r=(e-336)/2),this.isPad()&&(t=114+o,n=96,r=(e-336)/2),this.isPadHorizontal()&&(t=192+o,n=135,r=(e-482)/2),{diff:t,bottom:n,left:r}}},{key:"closeRuleModal",value:function(){this.setState({isShow:!1}),this.props.handleCloseRuleModal&&this.props.handleCloseRuleModal()}},{key:"render",value:function(){var e=this;return C.a.createElement(_.b,{themeStyles:this.DrawCardWapStyles},(function(t){return e.state.isShow&&e.renderContent(t)}))}}]),n}(S.PureComponent),re=n(38),oe=n(73),ie=n(17),ae=n.n(ie),le=n(26),se=n.n(le),ce=n(49),ue=n(183);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fe=n(24),he=function(e){return $.a.create({container:{flexDirection:"row",width:304,alignItems:"center",justifyContent:"center"},imgStyle:{width:48,height:48,borderRadius:48},backMargin:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:-11},lastMargin:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:0}})};function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var me=function(e){h()(n,e);var t=ge(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={fadeAnim:new K.a.Value(0),isHelp:!1},r}return u()(n,[{key:"lessFive",value:function(e,t){var n=[];return null==e||e.forEach((function(r,o){n.push(C.a.createElement(x.a,{style:{flexDirection:"row",marginRight:e&&o===e.length-1?0:12,alignItems:"center",justifyContent:"center"}},C.a.createElement(fe.a,{localSource:"string"==typeof r?{uri:r}:r,imgStyle:t.imgStyle,resizeMode:"contain"})))})),n}},{key:"lessEight",value:function(e,t){var n=[];return null==e||e.forEach((function(r,o){n.push(C.a.createElement(x.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:e&&o===e.length-1?0:-11}},C.a.createElement(fe.a,{localSource:"string"==typeof r?{uri:r}:r,imgStyle:t.imgStyle,resizeMode:"contain"})))})),n}},{key:"lessMax",value:function(e,t){var n=[];return null==e||e.forEach((function(r,o){o<6?n.push(C.a.createElement(x.a,{style:t.backMargin},C.a.createElement(fe.a,{localSource:"string"==typeof r?{uri:r}:r,imgStyle:t.imgStyle,resizeMode:"contain"}))):6===o?n.push(C.a.createElement(x.a,{style:t.backMargin},C.a.createElement(fe.a,{imgUri:Y.a.avatarMore,imgStyle:t.imgStyle,resizeMode:"contain"}))):o===e.length-1&&n.push(C.a.createElement(x.a,{style:t.lastMargin},C.a.createElement(fe.a,{localSource:"string"==typeof r?{uri:r}:r,imgStyle:t.imgStyle,resizeMode:"contain"})))})),n}},{key:"handleData",value:function(e,t){var n=[];if(e.length>=t)n=null==e?void 0:e.splice(0,t);else if(t<=5&&e.length<t){n=e;for(var r=0;r<t-e.length;++r)n=n.concat(Y.a.unknowAvatar)}else if(t>5){n=e;for(var o=t<=8?t:8,i=0;i<o-e.length;++i)n=n.concat(Y.a.unknowAvatar)}return n}},{key:"loadPage",value:function(e,t,n){var r=this.handleData(t,n);return C.a.createElement(x.a,{style:e.container},n<=5?C.a.createElement(C.a.Fragment,null,this.lessFive(r,e)):C.a.createElement(C.a.Fragment,null,n<=8?C.a.createElement(C.a.Fragment,null,this.lessEight(r,e)):C.a.createElement(C.a.Fragment,null,this.lessMax(r,e))))}},{key:"getAvatarArr",value:function(e){var t=[];for(var n in e){var r=e[n].headPicUrl?e[n].headPicUrl:Y.a.defaultAvatar;t.push(r)}return t}},{key:"render",value:function(){var e=this,t=this.props,n=t.assistTargetValue,r=t.assistedUserList,o=this.getAvatarArr(r);return C.a.createElement(_.b,{themeStyles:he},(function(t){return e.loadPage(t,o,n)}))}}]),n}(S.Component),ye=Object(D.a)(Object(V.a)(me)),ve=n(431),be=n(179);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=n(23);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Pe=function(e){h()(n,e);var t=Oe(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"timers",""),w()(p()(r),"lister1",""),w()(p()(r),"nowTime",""),w()(p()(r),"handleAppStateChange",(function(e){var t,n,o=r.props.endTime;"active"===e?r.getNowTime(o):null!==(t=p()(r))&&void 0!==t&&t.timers&&clearInterval(null===(n=p()(r))||void 0===n?void 0:n.timers)})),r.state={hours:"-",minutes:"-",seconds:"-",reload:!1},r}return u()(n,[{key:"showCountDown",value:function(e,t){var n=this,r=e;this.timers=setInterval((function(){if(t-(r+=1e3)<0)n.setState({hours:"00",minutes:"00",seconds:"00",reload:!0}),clearInterval(n.timers);else{var e=Object(be.a)(t,r);n.setState({hours:e[0],minutes:e[1],seconds:e[2],reload:!0})}}),1e3)}},{key:"renderContent",value:function(e){var t=Math.floor(this.state.hours/24);return this.state.reload&&C.a.createElement(x.a,{style:e.countDown},t>1&&C.a.createElement(C.a.Fragment,null,C.a.createElement(k.a,{style:[t>=1?e.wapcountdownNum:null]},t>=1?t:null),C.a.createElement(k.a,{style:[t>=1?e.wapcountdownDayNum:null,{backgroundColor:"null"},{color:"#CF0A2C"}]},t>=1?"天":null)),C.a.createElement(k.a,{style:e.wapcountdownNum},this.state.hours%24<10?"0"+this.state.hours%24:this.state.hours%24),C.a.createElement(k.a,{style:e.wapcountdownPoint},":"),C.a.createElement(k.a,{style:e.wapcountdownNum},this.state.minutes),C.a.createElement(k.a,{style:e.wapcountdownPoint},":"),C.a.createElement(k.a,{style:e.wapcountdownNum},this.state.seconds))}},{key:"getNowTime",value:function(e){var t,n=this;clearInterval(null==this?void 0:this.timers),Object(Ce.r)().then((function(r){t=r.success?1e3*r.serverTime:(new Date).getTime(),n.showCountDown(t,e)})).catch((function(){t=(new Date).getTime(),n.showCountDown(t,e)}))}},{key:"componentDidMount",value:function(){var e=this.props.endTime;e&&this.getNowTime(e),this.lister1=ve.a.addEventListener("change",this.handleAppStateChange)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timers),this.lister1&&this.lister1.remove()}},{key:"render",value:function(){var e=this;return C.a.createElement(_.b,{themeStyles:function(e){return function(e){return $.a.create({countDown:{display:"flex",justifyContent:"center",flexDirection:"row"},wapcountdownEnd:Se(Se({},e.T2),{},{marginRight:6}),wapcountdownNum:Se(Se(Se({},e.T2),e.C17),{},{width:16,height:16,backgroundColor:"#CF0A2C",borderRadius:2,textAlign:"center",lineHeight:16,display:"flex",alignContent:"center",justifyContent:"center"}),wapcountdownDayNum:Se(Se(Se({},e.T2),e.C17),{},{width:16,height:16,backgroundColor:"#CF0A2C",borderRadius:2,textAlign:"center",lineHeight:16,display:"flex",alignContent:"center",justifyContent:"center"}),wapcountdownPoint:Se(Se({},e.T2),{},{color:"#CF0A2C",textAlign:"center",lineHeight:14,marginLeft:3,marginRight:3})})}(e)}},(function(t){return e.renderContent(t)}))}}]),n}(S.Component),Te=n(22),xe=n(29),Ie=n(11),ke=n(12);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var je=function(e){h()(r,e);var t,n=Ee(r);function r(e){var t,o;return s()(this,r),o=n.call(this,e),w()(p()(o),"popUpTitle",""),w()(p()(o),"buttonTxt",""),w()(p()(o),"buttonType",0),w()(p()(o),"_isWap",(function(e){return R.a.isWap(e)})),w()(p()(o),"_potalCode",(function(){return"web"===O.a.OS?o._isWap(o.getItemWidth())?"2":"1":"3"})),w()(p()(o),"clickTracingReport",(function(e,t){var n,r=o.getItemWidth().width,i=o.props.cardId;Object(Te.a)({actionCode:R.a.isPc(r)?"300063006":R.a.isApp()?"110000101":"210000101",actionName:e,eventType:W.b.CLICK_DRAW_CARD,pageId:o.props.pageId,content:{comId:i.toString(),row:"",column:"",index:"",dateType:"14",dataCode:null===(n=o.props.assistActivityInfo)||void 0===n?void 0:n.activityCode,gotoPageId:"Current Page",gotoURL:t}})})),w()(p()(o),"handleTime",(function(){var e;Object(Ce.r)().then((function(t){e=t.success?1e3*t.serverTime:(new Date).getTime(),o.setState({nowTime:e})})).catch((function(){e=(new Date).getTime(),o.setState({nowTime:e})}))})),o.state={assistTargetValue:null===(t=o.props.assistActivityInfo)||void 0===t?void 0:t.couponRewardInfo.assistTargetValue,avatarArr:[],isLogin:!1,nowTime:"",crossDressingStyle:{bgImg:"",imgStyle:{},textStyle:{}}},o}return u()(r,[{key:"componentDidMount",value:function(){var e=this;this.handleTime(),this._isLogin(),this.lister1=ce.a.addListener("cancelShowPopUp",(function(){e.clickTracingReport("Toast点击上报",e.popUpTitle)}))}},{key:"componentWillUnmount",value:function(){this.lister1&&this.lister1.remove()}},{key:"getItemWidth",value:function(){var e="web"===O.a.OS?P.a.get("window").width:Object(G.x)(this.props.pageType).screenWidth,t="web"===O.a.OS?P.a.get("window").height:Object(G.x)(this.props.pageType).screenHeight;return{width:e,height:t=R.a.isApp()?t+T.a.currentHeight:t}}},{key:"_isLogin",value:(t=se()(ae.a.mark((function e(){var t,n=this;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===O.a.OS){e.next=4;break}ue.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&n.setState({isLogin:!(null==e||!e.isLogin)})})),e.next=8;break;case 4:return e.next=6,Object(G.k)();case 6:t=e.sent,this.setState({isLogin:t});case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"initiateLaunchAssist",value:function(){var e=this;(function(e){var t=Object(G.o)();e.portal=e.portal||(null==t?void 0:t.toString()),e.lang=e.lang||ke.e.CN,e.country=e.country||ke.d.CN,e.version=e.version?e.version:1;var n="".concat(Ie.a.openApiDomain,"sg/assist/launchAssist?portal=").concat(e.portal,"&lang=").concat(e.lang,"&country=").concat(e.country,"&version=").concat(e.version,"&activityCode=").concat(e.activityCode);return xe.a.get(n)})({activityCode:this.props.assistActivityInfo.activityCode}).then((function(t){"0"===t.code?(e.popUpTitle="邀请好友",ce.a.emit("showPopUp",{title:"发起成功",content:"在24小时内完成邀请4位好友助力，即可领取100元红包。先到先得，加油哦！",option:"邀请好友"})):"200916"===t.resultCode?e.props.getLogin():ce.a.emit("showPopUp",{title:"发起失败",content:t.msg,option:"知道了"})})).catch((function(t){"200916"===t.data.resultCode?e.props.getLogin():alert(t.data.msg)}))}},{key:"exchangeAssistReward",value:function(){var e,t,n=this;(function(e){var t,n=1;n="android"===O.a.OS||"ios"===O.a.OS?3:"large"===Object(j.a)(P.a.get("window").width)?1:2,e.portal=e.portal||(null===(t=n)||void 0===t?void 0:t.toString()),e.lang=e.lang||ke.e.CN,e.country=e.country||ke.d.CN,e.version=e.version?e.version:1;var r="".concat(Ie.a.openApiDomain,"/sg/assist/exchangeLaunchAssistReward?portal=").concat(e.portal,"&lang=").concat(e.lang,"&country=").concat(e.country,"&version=").concat(e.version,"&activityCode=").concat(e.activityCode,"&assistCode=").concat(e.assistCode);return xe.a.get(r)})({activityCode:null===(e=this.props.assistActivityInfo)||void 0===e?void 0:e.activityCode,assistCode:null===(t=this.props.assistResult)||void 0===t?void 0:t.assistCode}).then((function(e){alert("兑换成功")})).catch((function(e){n.popUpTitle="发起失败",ce.a.emit("showPopUp",{title:"兑换失败",content:"您暂无发起资格，请在华为商城-我的中完成实名认证再来帮忙！",option:"发起失败"})}))}},{key:"saveLaunchAssist",value:function(){switch(this.state.isLogin,this.buttonType){case-1:this.initiateLaunchAssist();break;case 0:break;case 1:this.exchangeAssistReward()}this.clickTracingReport("按钮点击上报",this.buttonTxt)}},{key:"renderButton",value:function(e){var t,n=this.props.assistResultData;null!=n&&n.assistCodeStatus?(0===(null==n?void 0:n.assistCodeStatus)?this.buttonTxt="点击邀请好友助力":1===(null==n?void 0:n.assistCodeStatus)?this.buttonTxt="助力完成，点击领取":2===(null==n?void 0:n.assistCodeStatus)&&(this.buttonTxt="重新邀请好友助力"),this.buttonType=null===(t=this.props.assistResultData)||void 0===t?void 0:t.assistCodeStatus):(this.buttonTxt="发起助力抢好券",this.buttonType=-1);return C.a.createElement(E.a,{onPress:this.saveLaunchAssist.bind(this),activeOpacity:.7,style:[e.button]},C.a.createElement(k.a,{style:e.btnStyleText},this.buttonTxt))}},{key:"renderStatus",value:function(e){var t,n=null===(t=this.props.assistActivityInfo)||void 0===t?void 0:t.CouponAssistResult;return n&&C.a.createElement(x.a,{style:e.helpStatus},C.a.createElement(fe.a,{localSource:null!=n&&n.isRewardTargeted?Y.a.helpSuccess:Y.a.helpFail,imgStyle:{width:64,height:64},resizeMode:"contain"}))}},{key:"renderContent",value:function(e){var t,n,r,o,i,a,l,s,c=null===(t=this.props.assistResultData)||void 0===t?void 0:t.assistCodeStatus,u=null===(n=this.props.assistActivityInfo)||void 0===n?void 0:n.startTime,d=1===c&&this.state.nowTime>u&&this.state.isLogin;return C.a.createElement(x.a,{style:e.contentBox},this.renderStatus(e),C.a.createElement(ye,{assistedUserList:null!==(r=this.props.assistResultData)&&void 0!==r&&r.assistedUserList?null===(o=this.props.assistResultData)||void 0===o?void 0:o.assistedUserList:[],avatarArr:d?[]:this.state.avatarArr,assistTargetValue:null===(i=this.props.assistActivityInfo)||void 0===i?void 0:i.couponRewardInfo.assistTargetValue}),C.a.createElement(x.a,{style:e.contentTips},C.a.createElement(k.a,null,"成功邀请",C.a.createElement(k.a,{style:e.num},null===(a=this.props.assistActivityInfo)||void 0===a?void 0:a.couponRewardInfo.assistTargetValue),"位好友助力后可领取！")),d&&null!==(l=this.props.assistResult)&&void 0!==l&&l.expireSeconds?C.a.createElement(x.a,{style:e.countdown},C.a.createElement(Pe,{endTime:null===(s=this.props.assistActivityInfo)||void 0===s?void 0:s.endTime})):null,C.a.createElement(x.a,{style:e.buttonBox},this.renderButton(e)))}},{key:"render",value:function(){var e=this;return C.a.createElement(_.b,{themeStyles:function(e){return function(e){return $.a.create({contentBox:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",marginTop:24,position:"relative",overflow:"hidden"},contentTips:pe(pe({},e.T8),{},{marginTop:16}),countdown:{marginTop:12},num:pe({},e.C18),buttonBox:{marginTop:15},button:{textAlign:"center"},btnStyleText:pe(pe(pe({},e.T10),e.C17),{},{height:40,lineHeight:40,minWidth:180,textAlign:"center",backgroundColor:e.C41.color,borderRadius:20}),helpStatus:{position:"absolute",top:11,right:-10,zIndex:3}})}(e)}},(function(t){return e.renderContent(t)}))}}]),r}(S.Component),Re=n(952),Le={exposeItem:function(e){var t=this.props,n=(t.id,t.width);return{data:{actionCode:R.a.isPc(n)?"300063006":R.a.isApp()?"100153006":"200063006",actionName:"加载页面报全部商品列表",eventType:W.e.EVENT_TYPE_LOADING_PAGE,pageId:this.props.pageId,content:{comId:e.id.toString(),row:"",column:"",index:"",dateType:"",dataCode:"AMS助力分享活动编码"}}}},clickItem:function(){var e=this.props,t=e.width,n=e.pageId,r=e.cardId;return{data:{actionCode:R.a.isPc(t)?"310000101":R.a.isApp()?"110000101":"210000101",actionName:"Toast点击上报",eventType:W.e.EVENT_TYPE_CLICK,pageId:n,content:{comId:r.toString(),row:"",column:"",index:"0",dateType:14,dataCode:"AMS助力分享活动编码",gotoPageId:"Current Page",gotoURL:"上报Toast标题，如已助力"}}}}},_e=n(20),De=n(46);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e){return $.a.create({container:{backgroundColor:e.S32.backgroundColor,paddingBottom:12,position:"relative"},mainBox:{position:"absolute",left:0,top:0,zIndex:1e3},mask:We(We({position:"absolute",backgroundColor:e.C24.color},e.C24),{},{left:0,top:0}),popupBg:{width:360,height:290},popupBgPad:{width:360,height:290},popupBgHorizontal:{width:360,height:290},popupBox:{position:"absolute",left:"50%",width:360,marginLeft:-180},avatar:{display:"flex",alignItems:"center",justifyContent:"center",height:32,flexDirection:"row",marginTop:64},helpAvatar:{marginTop:104},nickname:We(We({marginLeft:4},e.T8),e.C11),helpMsg:We(We(We({marginTop:8},e.T7),e.C12),{},{width:168,marginLeft:"auto",marginRight:"auto"}),coupon:{display:"flex",alignItems:"center",flexDirection:"row",height:55,marginTop:14,width:178,marginLeft:"auto",marginRight:"auto"},couponAmount:{width:64,flexShrink:0,textAlign:"center"},couponPrice:We(We({},e.T10),e.C18),couponNote:We(We({},e.T1),e.C18),couponSummary:We(We(We({},e.T4),e.C13),{},{width:110,paddingLeft:4}),helpBtn:{marginTop:21,textAlign:"center"},supportBtn:{marginTop:32},helpBtnTxt:We(We({},e.T8),{},{color:e.C17.color,textAlign:"center"}),closeBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderColor:Object(G.f)(e.C32.color,1),borderWidth:1,borderStyle:"solid",position:"absolute",left:"50%",marginLeft:-12,top:332,borderRadius:24},closeBtnPad:{borderWidth:1,borderStyle:"solid",backgroundColor:Object(G.f)(e.C32.color,.65)},closeBtnHorizontal:{borderStyle:"solid",backgroundColor:Object(G.f)(e.C32.color,.65)}})};function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Me=function(e){h()(n,e);var t=Be(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"getSize",(function(){var e=De.a.width||r.props.width;return Object(j.a)(e)})),w()(p()(r),"isPc",(function(){return"large"===Object(j.a)(Object(G.x)(r.props.pageType).screenWidth)})),w()(p()(r),"isPad",(function(){return"medium"===Object(j.a)(Object(G.x)(r.props.pageType).screenWidth)})),w()(p()(r),"isApp",(function(){return"small"===Object(j.a)(Object(G.x)(r.props.pageType).screenWidth)})),w()(p()(r),"isApkOrIos",(function(){return"android"===O.a.OS||"ios"===O.a.OS})),w()(p()(r),"isPadHorizontal",(function(){var e=r.props.width,t=Object(j.a)(e);return P.a.get("window").width>P.a.get("window").height&&"medium"===t})),w()(p()(r),"fadeIn",(function(){r.setState({isShow:!0},(function(){K.a.timing(r.state.fadeAnim,{toValue:1,duration:500,useNativeDriver:!0}).start()})),r.props.setScroll()})),w()(p()(r),"itemlist",[]),w()(p()(r),"receiveRef",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(t&&(e.exposeObj=t),r.itemlist.push(e))})),r.state={fadeAnim:new K.a.Value(0),isHelp:!1,isShow:!1,couponBatchInfoList:[]},r}return u()(n,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"getItemWidth",value:function(){var e="web"===O.a.OS?P.a.get("window").width:Object(G.x)(this.props.pageType).screenWidth,t="web"===O.a.OS?P.a.get("window").height:Object(G.x)(this.props.pageType).screenHeight;return{width:e,height:t=R.a.isApp()?t+T.a.currentHeight:t}}},{key:"closeMask",value:function(){var e=this;this.setState({isShow:!1},(function(){K.a.timing(e.state.fadeAnim,{toValue:0,duration:500,useNativeDriver:!0}).start()})),this.props.setScroll("show"),this.props.clickItem()}},{key:"assistance",value:function(){var e,t=this;(function(e){var t=Object(G.o)();e.portal=e.portal||(null==t?void 0:t.toString()),e.lang=e.lang||ke.e.CN,e.country=e.country||ke.d.CN,e.version=e.version?e.version:1;var n="".concat(Ie.a.openApiDomain,"sg/assist/confirmAssist?portal=").concat(e.portal,"&lang=").concat(e.lang,"&country=").concat(e.country,"&version=").concat(e.version,"&activityCode=").concat(e.activityCode,"&assistCode=").concat(e.assistCode);return xe.a.get(n)})({activityCode:null===(e=this.props.assistActivityInfo)||void 0===e?void 0:e.activityCode,assistCode:Object(G.q)("assistCode")}).then((function(e){if(!0===e.success){var n;if(t.setState({couponBatchInfoList:e.couponBatchInfoList?e.couponBatchInfoList:[],isHelp:!0}),e.couponBatchInfoList&&e.couponBatchInfoList.length>0)(function(e){var t=Object(G.o)();e.portal=e.portal||(null==t?void 0:t.toString()),e.lang=e.lang||ke.e.CN,e.country=e.country||ke.d.CN,e.version=e.version?e.version:1;var n="".concat(Ie.a.openApiDomain,"/sg/assist/exchangeAssistReward?portal=").concat(e.portal,"&lang=").concat(e.lang,"&country=").concat(e.country,"&version=").concat(e.version,"&activityCode=").concat(e.activityCode,"&assistCode=").concat(e.assistCode);return xe.a.get(n)})({activityCode:null===(n=t.props.assistActivityInfo)||void 0===n?void 0:n.activityCode,assistCode:Object(G.q)("assistCode")}).then((function(e){})).catch((function(e){t.setState({couponBatchInfoList:[]})}));t.props.clickItem()}})).catch((function(e){alert(e.data.msg)}))}},{key:"helpFriend",value:function(e){var t,n,r,o,i,a,l=this,s=this.isPad,c=this.isApp,u=(this.isPadHorizontal,null===(t=this.props.assistResultData)||void 0===t||null===(n=t.launchAssistedUser)||void 0===n?void 0:n.headPicUrl);return C.a.createElement(C.a.Fragment,null,C.a.createElement(x.a,{style:[e.avatar,e.helpAvatar]},C.a.createElement(fe.a,{localSource:u?{uri:u}:Y.a.defaultAvatar,imgStyle:{width:32,height:32,borderRadius:32},resizeMode:"contain"}),C.a.createElement(k.a,{style:e.nickname},null===(r=this.props.assistResultData)||void 0===r||null===(o=r.launchAssistedUser)||void 0===o?void 0:o.nickName)),C.a.createElement(k.a,{style:[e.helpMsg,{height:74}]},"我正在抢"," ",null===(i=this.props.assistActivityInfo)||void 0===i||null===(a=i.couponRewardInfo)||void 0===a?void 0:a.couponBatchInfoList[0].name,"，求帮忙助力，有好礼相赠。"),C.a.createElement(E.a,{style:[e.helpBtn,e.supportBtn,c()&&e.helpBtnAPP,s()&&e.helpBtnPad],onPress:function(){l.assistance()}},C.a.createElement(k.a,{style:e.helpBtnTxt},"帮TA助力")))}},{key:"helpSuccess",value:function(e){var t,n,r,o,i=this,a=this.isPad,l=this.isApp,s=(this.isPadHorizontal,this.state.couponBatchInfoList.length>0?this.state.couponBatchInfoList[0]:{}),c=null===(t=this.props.assistResultData)||void 0===t||null===(n=t.launchAssistedUser)||void 0===n?void 0:n.headPicUrl;return C.a.createElement(C.a.Fragment,null,C.a.createElement(x.a,{style:e.avatar},C.a.createElement(fe.a,{localSource:c||Y.a.defaultAvatar,imgStyle:{width:32,height:32,borderRadius:32},resizeMode:"contain"}),C.a.createElement(k.a,{style:e.nickname},null===(r=this.props.assistResultData)||void 0===r||null===(o=r.launchAssistedUser)||void 0===o?void 0:o.nickName)),C.a.createElement(k.a,{style:[e.helpMsg,{height:57}]},"感谢助力，送你一份好礼！你也可以自己发起助力抢",null==s?void 0:s.name,"！"),this.state.couponBatchInfoList.length>=1?C.a.createElement(x.a,{style:e.coupon},C.a.createElement(x.a,{style:e.couponAmount},C.a.createElement(k.a,{style:e.couponPrice},"¥",Math.round(null==s?void 0:s.amount)),C.a.createElement(k.a,{style:e.couponNote},null==s?void 0:s.couponTag)),C.a.createElement(k.a,{style:e.couponSummary}," ",null==s?void 0:s.name)):C.a.createElement(C.a.Fragment,null),C.a.createElement(E.a,{style:[e.helpBtn,l()&&e.helpBtnAPP,a()&&e.helpBtnPad],onPress:function(){i.closeMask()}},C.a.createElement(k.a,{style:e.helpBtnTxt},"知道了")))}},{key:"renderContent",value:function(e){var t,n,r,o,i,a,l,s,c=this,u=this.isPad,d=this.isApp,p=this.isPadHorizontal,f=this.getItemWidth(),h=f.width,g=f.height;return"web"===O.a.OS?C.a.createElement(x.a,{ref:this.receiveRef,style:[e.mainBox,{height:g,width:h,top:-this.props.top}]},C.a.createElement(K.a.View,{style:{zIndex:11,opacity:this.state.fadeAnim}},C.a.createElement(Re.a,{activeOpacity:.3,onPress:function(){"web"!==O.a.OS&&c.closeMask()},onFocus:function(){"web"===O.a.OS&&c.closeMask()}},C.a.createElement(x.a,{style:[e.mask,{height:g,width:h}]})),C.a.createElement(x.a,{style:[d()&&e.popupBox,{top:(g-290)/2}]},C.a.createElement(I.a,{source:this.state.isHelp&&this.state.couponBatchInfoList.length>=1?Y.a.helpPopup:Y.a.myHelpPopup,style:[d()&&e.popupBg,u()&&e.popupBgPad,p()&&e.popupBgHorizontal]},this.state.isHelp||1===(null===(t=this.props.assistResultData)||void 0===t?void 0:t.hasAssisted)?this.helpSuccess(e):this.helpFriend(e)),C.a.createElement(x.a,{style:[d()&&e.closeBtn,u()&&e.closeBtnPad,p()&&e.closeBtnHorizontal]},C.a.createElement(E.a,{onPress:function(){c.closeMask()}},C.a.createElement(_e.a,{iconName:"cancel1",width:"16",height:"16",normalCol:null!==(n=this.props)&&void 0!==n&&null!==(r=n.color)&&void 0!==r&&null!==(o=r.textStyle)&&void 0!==o&&o.color?this.props.color.textStyle.color:"#fff"})))))):C.a.createElement(q.a,{visible:this.state.isShow,animationType:"fade",transparent:!0,statusBarTranslucent:!0,style:[e.modalMask,{width:h,height:g,elevation:999}]},C.a.createElement(x.a,{ref:this.receiveRef,style:[e.mainBox,{height:g,width:h}]},C.a.createElement(Re.a,{activeOpacity:.3,onPress:function(){"web"!==O.a.OS&&c.closeMask()},onFocus:function(){"web"===O.a.OS&&c.closeMask()}},C.a.createElement(x.a,{style:[e.mask,{height:g,width:h}]})),C.a.createElement(x.a,{style:[d()&&e.popupBox,{top:(g-290)/2}]},C.a.createElement(I.a,{source:this.state.isHelp&&this.state.couponBatchInfoList.length>=1?Y.a.helpPopup:Y.a.myHelpPopup,style:[d()&&e.popupBg,u()&&e.popupBgPad,p()&&e.popupBgHorizontal]},this.state.isHelp||1===(null===(i=this.props.assistResultData)||void 0===i?void 0:i.hasAssisted)?this.helpSuccess(e):this.helpFriend(e)),C.a.createElement(x.a,{style:[d()&&e.closeBtn,u()&&e.closeBtnPad,p()&&e.closeBtnHorizontal]},C.a.createElement(E.a,{onPress:function(){c.closeMask()}},C.a.createElement(_e.a,{iconName:"cancel1",width:"16",height:"16",normalCol:null!==(a=this.props)&&void 0!==a&&null!==(l=a.color)&&void 0!==l&&null!==(s=l.textStyle)&&void 0!==s&&s.color?this.props.color.textStyle.color:"#fff"}))))))}},{key:"loadPage",value:function(e){return this.state.isShow&&this.renderContent(e)}},{key:"render",value:function(){var e=this;return C.a.createElement(_.b,{themeStyles:Ae},(function(t){return e.loadPage(t)}))}}]),n}(S.Component),Fe=Object(D.a)(Object(N.a)(Le)(Object(V.a)(Me)));function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=function(e){return $.a.create({assistance:{position:"relative",zIndex:10},header:{width:P.a.get("window").width,minHeight:222},headerPad:{minHeight:222},headerPadHorizontal:{minHeight:222},headBox:{marginTop:40},headTitle:ze(ze({textAlign:"center"},e.C17),e.T13),headSubTitle:ze({textAlign:"center"},e.C17),helpBox:{borderRadius:16,backgroundColor:e.C17.color,marginTop:29,marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",paddingTop:12,paddingBottom:16},coupon:{display:"flex",alignItems:"center",flexDirection:"row",width:304,height:72,marginTop:14,marginLeft:"auto",marginRight:"auto"},couponAmount:{width:80,flexShrink:0,textAlign:"center"},couponPriceBox:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},couponPrice:ze(ze(ze({},e.T13),e.C44),{},{textAlign:"center"}),unit:ze(ze({},e.T7),e.C44),couponNote:ze(ze(ze({},e.T1),e.C44),{},{opacity:e.C12.opacity,textAlign:"center"}),couponName:ze(ze({},e.T4),e.C11),couponSummary:ze(ze(ze({},e.T4),e.C11),{},{width:224,paddingLeft:14,display:"flex",flexDirection:"column"}),couponTime:ze(ze(ze({},e.T1),e.C13),{},{marginTop:6}),helpBtnBox:{marginTop:12,display:"flex",justifyContent:"center",flexDirection:"row"},helpBtn:{borderColor:Object(G.f)(e.C11.color,.05),borderWidth:1,borderStyle:"solid",borderRadius:16,height:28,minHeight:28,paddingLeft:13,paddingRight:13,marginLeft:4,marginRight:4,minWidth:86},helpBtnTxt:ze(ze(ze({},e.C11),e.T4),{},{display:"flex",alignContent:"center",alignItems:"center",textAlign:"center",height:28,lineHeight:26})})};function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ge=re.a.wapDomain,Ye=function(e){h()(n,e);var t=Ve(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"receiveRef",""),w()(p()(r),"originWidth",void 0),w()(p()(r),"itemlist",[]),w()(p()(r),"$Child",""),w()(p()(r),"$friend",""),w()(p()(r),"dataSourceCode",""),w()(p()(r),"activityCode",""),w()(p()(r),"assistCode",""),w()(p()(r),"getSize",(function(){var e=r.originWidth;return Object(j.a)(e)})),w()(p()(r),"isPc",(function(){return"large"===r.getSize()})),w()(p()(r),"isPad",(function(){return"medium"===r.getSize()})),w()(p()(r),"isApp",(function(){return"small"===r.getSize()})),w()(p()(r),"isApkOrIos",(function(){return"android"===O.a.OS||"ios"===O.a.OS})),w()(p()(r),"isPadHorizontal",(function(){var e=r.props.width,t=Object(j.a)(e);return P.a.get("window").width>P.a.get("window").height&&"medium"===t})),w()(p()(r),"getLogin",(function(){var e="";"android"===O.a.OS||"ios"===O.a.OS?(e="vmall://com.vmall.client/home/login",Object(G.A)(e)):"web"===O.a.OS&&(e=r.isPc()?"/account/login?url="+encodeURIComponent(window.location.href)+"&_t="+(new Date).getTime():Ge+"account/applogin?url="+encodeURIComponent(Object(oe.a)(window.location.href))+"&_t="+(new Date).getTime(),Object(G.A)(e))})),r.state={crossDressingStyle:{bgImg:"",imgStyle:{},textStyle:{}},pageData:{},top:0,assistResult:{},identity:"master"},r}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n,r=this;if(this.props.styleChange){var o=Object(G.i)(this.props.styleChange,this.getSize());o&&this.setState({crossDressingStyle:o})}"activity"===(null===(e=this.props.dataSource)||void 0===e?void 0:e.dataSourceType)&&null!==(t=this.props.dataSource)&&void 0!==t&&t.dataSourceCode&&(this.dataSourceCode=null===(n=this.props.dataSource)||void 0===n?void 0:n.dataSourceCode);(function(e){var t=Object(G.o)();e.portal=e.portal||(null==t?void 0:t.toString()),e.lang=e.lang||ke.e.CN,e.country=e.country||ke.d.CN,e.version=e.version?e.version:1;var n="".concat(Ie.a.openApiDomain,"sg/content/realtime/getPageDataSource?portal=").concat(e.portal,"&lang=").concat(e.lang,"&country=").concat(e.country,"&version=").concat(e.version,"&dataSourceList=").concat(e.dataSourceList);return xe.a.get(n)})({dataSourceList:this.dataSourceCode}).then((function(e){"0"===e.code&&(z.onSetActivityCode(e.pageData[r.dataSourceCode][0].assistActivityInfo.activityCode),r.setState({pageData:e.pageData[r.dataSourceCode][0]?e.pageData[r.dataSourceCode][0]:{}},(function(){r.getTop()})),e.pageData[r.dataSourceCode][0].assistResult&&r.getQueryAssistResult(e.pageData[r.dataSourceCode][0].assistActivityInfo.activityCode,e.pageData[r.dataSourceCode][0].assistResult.assistCode))})).catch((function(e){}))}},{key:"componentWillUnmount",value:function(){this.setScrollStyle("show")}},{key:"getTop",value:function(){var e=this;setTimeout((function(){var t;"function"==typeof(null===(t=e.receiveRef)||void 0===t?void 0:t.measure)&&e.receiveRef.measure((function(t,n,r,o,i,a){e.setState({top:a})}))}),0)}},{key:"getQueryAssistResult",value:function(e,t){var n=this;Object(G.q)("assistCode")&&(t=Object(G.q)("assistCode")),e&&t&&function(e){var t=Object(G.o)();e.portal=e.portal||(null==t?void 0:t.toString()),e.lang=e.lang||ke.e.CN,e.country=e.country||ke.d.CN,e.version=e.version?e.version:1;var n="".concat(Ie.a.openApiDomain,"sg/assist/queryAssistResult?portal=").concat(e.portal,"&lang=").concat(e.lang,"&country=").concat(e.country,"&version=").concat(e.version,"&activityCode=").concat(e.activityCode,"&assistCode=").concat(e.assistCode);return xe.a.get(n)}({activityCode:e,assistCode:t}).then((function(e){n.setState({assistResult:e}),0===e.launchAssistUserFlag&&0===e.hasAssisted&&n.showFriendPopup()})).catch((function(e){}))}},{key:"onPress",value:function(e){this.props.clickItem(e)}},{key:"getItemWidth",value:function(){var e="web"===O.a.OS?P.a.get("window").width:Object(G.x)(this.props.pageType).screenWidth,t="web"===O.a.OS?P.a.get("window").height:Object(G.x)(this.props.pageType).screenHeight;return{width:e,height:t=R.a.isApp()?t+T.a.currentHeight:t}}},{key:"setScrollStyle",value:function(e){if("web"===O.a.OS){var t="100%",n="hidden",r="scroll";if("show"===e&&(t="auto",n="auto",r=""),"web"===O.a.OS&&document.body){var o=document.body;if(o.style.height=t,o.style.overflowY=n,o.style.overflowX=n,o.parentNode){var i=o.parentNode;i.style&&(i.style.height=t,i.style.overflowY=r)}}}}},{key:"getHeadImg",value:function(){return this.isApp()?Y.a.coupon_head_app:this.isPad()?Y.a.coupon_head_pad:this.isPadHorizontal()?Y.a.coupon_head_padh:void 0}},{key:"jumpCoupon",value:function(){var e,t={cardId:this.props.cardId,actionName:"我的优惠券点击上报",dateType:"13",dataCode:null===(e=this.state.pageData)||void 0===e?void 0:e.assistActivityInfo.activityCode,gotoPageId:"Current Page",gotoURL:"我的优惠券"};this.props.clickItem(t)}},{key:"showFriendPopup",value:function(){this.$friend.fadeIn()}},{key:"handleTime",value:function(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(Math.floor(t.getMonth())+1)+"-"+t.getDate()}},{key:"activityRules",value:function(){var e;this.$Child.fadeIn();var t={cardId:this.props.cardId,actionName:"活动规则点击上报",dateType:"13",dataCode:null===(e=this.state.pageData)||void 0===e?void 0:e.assistActivityInfo.activityCode,gotoPageId:"Current Page",gotoURL:"活动规则"};this.setScrollStyle(),this.props.clickItem(t)}},{key:"loadPage",value:function(e){var t,n,r=this,o=this.isPad,i=this.isApp,l=this.isPadHorizontal,s=this.getItemWidth(),c=s.width,u=s.height,d=this.props.configInfo.activityRule,p=this.state.pageData.assistActivityInfo,f=null!=p&&p.couponRewardInfo.couponBatchInfoList?null==p?void 0:p.couponRewardInfo.couponBatchInfoList[0]:{};return C.a.createElement(x.a,{ref:function(e){r.receiveRef=e,e&&r.itemlist.push(e)},style:[e.assistance]},C.a.createElement(I.a,{ref:function(e){return r.myView=e},style:[this.state.crossDressingStyle.imgStyle,i()&&e.header,o()&&e.headerPad,l()&&e.headerPadHorizontal,{width:c}],source:null!==(t=this.state.crossDressingStyle)&&void 0!==t&&t.bgImg?{uri:null===(n=this.state.crossDressingStyle)||void 0===n?void 0:n.bgImg}:this.getHeadImg(),resizeMode:"stretch"},C.a.createElement(x.a,{style:[e.headBox]},C.a.createElement(k.a,{style:[e.headTitle,this.state.crossDressingStyle.textStyle]},null==p?void 0:p.name),C.a.createElement(k.a,{style:[e.headSubTitle,this.state.crossDressingStyle.textStyle]},null==p?void 0:p.description)),C.a.createElement(x.a,{style:[e.helpBox,i()&&{width:c-32,minHeight:302},o()&&{width:c-48,minHeight:322},l()&&{width:c-48,minHeight:302}]},C.a.createElement(I.a,{style:e.coupon,source:Y.a.coupon},C.a.createElement(x.a,{style:e.couponAmount},C.a.createElement(x.a,{style:e.couponPriceBox},C.a.createElement(k.a,{style:e.unit},"¥"),C.a.createElement(k.a,{style:e.couponPrice},Math.round(null==f?void 0:f.amount))),C.a.createElement(k.a,{style:e.couponNote},null==f?void 0:f.couponTag)),C.a.createElement(x.a,{style:e.couponSummary},C.a.createElement(k.a,{style:e.couponName,numberOfLines:1},null==f?void 0:f.name),C.a.createElement(k.a,{style:e.couponTime},this.handleTime(null==f?void 0:f.beginDate)," -"," ",this.handleTime(null==f?void 0:f.endDate)))),C.a.createElement(je,a()({pageId:this.props.pageId,cardId:this.props.cardId,getLogin:this.getLogin,setScroll:this.setScrollStyle,assistResultData:this.state.assistResult},this.state.pageData)),C.a.createElement(x.a,{style:e.helpBtnBox},C.a.createElement(E.a,{style:[e.helpBtn],onPress:function(){r.activityRules()}},C.a.createElement(k.a,{style:e.helpBtnTxt},Object(L.b)("activity_Rules"))),C.a.createElement(E.a,{style:[e.helpBtn],onPress:function(){r.jumpCoupon()}},C.a.createElement(k.a,{style:e.helpBtnTxt},Object(L.b)("my_coupon"))))),C.a.createElement(ne,{onRef:function(e){r.$Child=e},top:this.state.top,type:"modal",content:d,ruleShow:!0,isPadVertical:this.isPadVerticalScreen,isHorizontalScreen:this.isHorizontalScreen,handleCloseRuleModal:function(){r.setScrollStyle("show")},width:c-24,height:u-174+T.a.currentHeight}),C.a.createElement(Fe,a()({onRef:function(e){r.$friend=e},cardId:this.props.cardId,pageId:this.props.pageId,top:this.state.top,setScroll:this.setScrollStyle,assistResultData:this.state.assistResult},this.state.pageData))))}},{key:"render",value:function(){var e=this;return C.a.createElement(_.b,{themeStyles:Ue},(function(t,n,r){return e.originWidth=r,e.state.pageData.assistActivityInfo&&e.loadPage(t)}))}}]),n}(S.Component);t.a=Object(D.a)(Object(N.a)(U)(Object(V.a)(Ye)))},,,function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(87),C=n(49),O=n(43),P=n(37),T=n(54),x=n(178),I=n(135),k=n(17),E=n.n(k),j=n(26),R=n.n(j),L=n(708),_=n(446),D=n(40),N=n(102),W=n(433),A=n(1738),B=n(103),M=n(185),F=n(23),H=n(152),z=n(119),U=n(432),V=n(1735),G=n(78),Y=n(57),J=n(53);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){return Y.a.create({prdAll:{width:"100%",backgroundColor:e.S31.backgroundColor,borderRadius:16,paddingBottom:8},title:q(q(q({},e.T10),e.C12),{},{height:22,lineHeight:22,fontFamily:J.a.fontFamilyMedium,fontWeight:"600",paddingLeft:16,paddingRight:16,marginTop:16,marginBottom:16}),prdArea:{paddingLeft:16,paddingRight:16},prdAreaPc:{paddingLeft:0,paddingRight:0}})},$=function(e){return Y.a.create({prdBox:{width:"100%",flexGrow:1,height:"auto",overflow:"hidden",borderRadius:8},prdCont:{paddingTop:8,paddingLeft:0,paddingRight:0,paddingBottom:8},topContent:{position:"relative",alignItems:"center",justifyContent:"center",backgroundColor:e.C32.color,overflow:"hidden",width:"100%",borderRadius:16},img:{width:"91.43%",height:"91.43%"},imgPc:{width:"91.43%",height:"91.43%"},imgPad:{width:"91.43%",height:"91.43%"},promName:{height:0},prdName:q(q({fontFamily:J.a.fontFamilyBase},e.T4),{},{height:16,lineHeight:18,color:e.C12.color+e.opacityMap[e.C12.opacity],fontWeight:"400"}),priceBox:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",height:19,marginTop:4,paddingTop:2},newPrice:q(q(q({},e.T10),e.C18),{},{lineHeight:20,fontWeight:"bold"}),priceMark:q(q({marginRight:2,color:e.C18.color},e.T4),{},{fontWeight:"bold"})})},X=n(21),Z=n(10),ee={clickItem:function(e,t,n){var r,o=n.ruleId,i=n.tabIndex,a=n.tabName,l=e.productId,s=e.prdName,c=e.skuCode;return{data:{actionCode:"web"===P.a.OS?Z.d.PRODUCTALBUMENTERCLICKWAP:Z.d.PRODUCTALBUMENTERCLICKAPK,actionName:"商品专辑卡片-点击-"+(null==e?void 0:e.prdName),eventType:Z.e.EVENT_TYPE_CLICK,content:{ruleId:o,productId:l+"",productname:s,SKUCode:c,index:t+"",click:"1",tabIndex:i,tabName:a},pageId:null===(r=this.props)||void 0===r?void 0:r.pageId}}}},te=n(25);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var re=function(e){p()(n,e);var t=ne(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"itemlist",[]),v()(u()(r),"getSize",(function(){return Object(D.a)(r.state.width)})),v()(u()(r),"isPc",(function(){return"large"===r.getSize()&&r.state.width>z.a.safety_area})),v()(u()(r),"isPad",(function(){return"medium"===r.getSize()||"large"===r.getSize()&&r.state.width<z.a.safety_area})),v()(u()(r),"isApp",(function(){return"small"===r.getSize()})),v()(u()(r),"isApkOrIos",(function(){return"android"===P.a.OS||"ios"===P.a.OS})),v()(u()(r),"onPress",(function(e,t){var n=r.props.reportInfo,o=n.pageId,i=n.ruleId,a=n.sid,l=n.tabIndex,s=n.tabName,c="web"===P.a.OS,u="vmall://com.vmall.client/product/detail?prdId=".concat(e.productId),d=e.skuCode?u.concat("&skuCode=").concat(e.skuCode):u;c&&(r.isApp()?null==e||e.wapurl:null==e||e.weburl);r.props.clickItem(e,t,{pageId:o,ruleId:i,sid:a,tabName:s,tabIndex:l}),(0,r.props.navigation.navigate)("ProductAlbumList",{type:"isRoute",sceneId:"1,1,23,2302",displayIds:e.productId,skuCode:e.skuCode,tagName:s,tagId:l,prePageInfo:r.props.prePageInfo||{}})})),v()(u()(r),"getWidth",(function(e){r.setState({singleWidth:e.width})})),v()(u()(r),"receiveRef",(function(e,t){if(e){var n=r.props.reportInfo,o=n.ruleId,i=n.sid,a=n.tabIndex,l=n.tabName;e.tabIndex=a||0,e.tabName=l||"",e.itemIndex=t||0,e.ruleId=o||"",e.sId=i||"",r.itemlist.push(e)}})),r.state={customPrdStyles:r.props.customStyles||$,width:r.props.width,singleWidth:140,colNum:2,dataArray:r.props.data.slice(0,4)},r}return s()(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){var e=this,t=this.state,n=t.dataArray,r=t.singleWidth,o=t.colNum,i=this.isPc,a=this.isPad,l=this.props,s=l.receiveRef,c=l.boxWidth;return n&&n.length>0?w.a.createElement(N.b,{themeStyles:Q},(function(t){var l,u;return w.a.createElement(O.a,{style:[t.prdAll,c?{width:c}:{}],ref:s},w.a.createElement(w.a.Fragment,null,w.a.createElement(H.a,{numberOfLines:1,style:t.title},(null===(l=e.props)||void 0===l||null===(u=l.reportInfo)||void 0===u?void 0:u.tabName)||Object(U.b)("smartlife_prdlist_title")),w.a.createElement(O.a,{style:[t.prdArea,a()&&t.prdAreaPad,i()&&t.prdAreaPc]},w.a.createElement(V.a,{col:o,colGutter:8,rowGutter:4,pageGutter:0,boxWidth:e.props.boxWidth-32,gridCallBack:e.getWidth,dataArray:n,renderItem:function(t){var n=t.item,o=t.index;return w.a.createElement(G.a,{data:n,config:e.props.configData,iWidth:r,iHeight:"auto",customPrdStyles:e.state.customPrdStyles,onClick:function(){return e.onPress(n,o)},receiveRef:function(t){return e.receiveRef(t,o)}})}}))))})):null}}]),n}(w.a.PureComponent);v()(re,"defaultProps",{data:[],configData:{},customStyles:null,receiveRef:function(){}});var oe=Object(M.a)(Object(X.a)(ee)(Object(te.a)(re))),ie=n(68),ae=n(3),le=n(11),se=n(139),ce=n(98),ue=n(124),de=n(121),pe=n(162),fe=n(85);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ge=function(e){p()(n,e);var t=he(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"mapComponents",{base:de.a,blank:pe.a,ad:ue.a}),r.state={scrollY:new S.a.Value(0),imageCardProps:{}},r}return s()(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){"web"===P.a.OS&&this.state.scrollY&&this.state.scrollY.removeAllListeners()}},{key:"_handleProps",value:function(){var e,t,n,r,o=this.props,i=o.boxWidth,a=o.pageInfo,l=o.pageId,s=Object(fe.a)(a,"smartlife",void 0,void 0,{parentPageId:l});return null==s||null===(e=s.children)||void 0===e||e.forEach((function(e){"blank"===e.type&&(e.props.boxWidth=i)})),"blank"===(null==s||null===(t=s.children[(null==s||null===(n=s.children)||void 0===n?void 0:n.length)-1])||void 0===t?void 0:t.type)&&s.children.splice(s.children.length-1,1),"blank"===(null==s||null===(r=s.children[0])||void 0===r?void 0:r.type)&&s.children.splice(0,1),s}},{key:"render",value:function(){var e=this._handleProps();return w.a.createElement(ce.a,o()({},e,{mapComponents:this.mapComponents,stickyScrollY:this.state.scrollY}))}}]),n}(b.PureComponent);v()(ge,"defaultProps",{cards:[],pageInfo:{}});var me,ye,ve=n(326),be=n(154),we=null,Se={exposeItem:function(e){for(var t,n=this.itemlist,r=[],o="",i="",a=0;a<e.length;a++){var l,s,c,u,d,p;if(e[a])if("android"!==P.a.OS&&"ios"!==P.a.OS||be.a.currentRenderIndexs.includes(e[a].key))if(null!==(l=n[e[a].key])&&void 0!==l&&l.contentId)i=null===(s=n[null===(c=e[a])||void 0===c?void 0:c.key])||void 0===s?void 0:s.sId,o=null===(u=n[null===(d=e[a])||void 0===d?void 0:d.key])||void 0===u?void 0:u.ruleId,r.push(n[null===(p=e[a])||void 0===p?void 0:p.key].contentId)}if(0!==r.length){var f="100570005";return"web"===P.a.OS&&(f="200450005"),{isBatch:!0,commonData:{actionCode:f,actionName:"智慧生活场景页-内容曝光",eventType:Z.e.EVENT_TYPE_EXPOSURE,pageId:null!=this&&null!==(t=this.props)&&void 0!==t&&t.parentPageId?String(this.props.parentPageId):""},content:[{contentcode:r,ruleId:o,sId:i}]}}},exposeItem_videoCard:function(e,t){var n=this.playerList,r=[];we||(we=n[0]),null==n||n.forEach((function(e,t){e&&r.push(t)}));for(var o=[],i=0;i<e.length;i++)e[i]&&("android"!==P.a.OS&&"ios"!==P.a.OS||be.a.currentRenderIndexs.includes(e[i].key))&&r.includes(e[i].key)&&o.push(e[i]);if(o.length){we&&we.pause;var a=null;if(o[0]&&(a=n[o[0].key]),a&&"function"==typeof a.play)try{a.play()}catch(e){}if("android"===P.a.OS||"ios"===P.a.OS)for(var l=1;l<o.length;l++){var s=null;if(o[l]&&(s=n[o[l].key]),s&&"function"==typeof s.pause)try{s.pause()}catch(e){}}we=a}else if(we&&"function"==typeof we.pause)try{we.pause()}catch(e){}t.forEach((function(e){if(e){var t=e.key,r=n[t];if(r&&"function"==typeof r.pause)try{r.pause()}catch(e){}}}))}},Ce=n(46),Oe=Y.a.create({view:{flexGrow:1,marginTop:0,marginBottom:"web"===P.a.OS?20:54},viewSmall:{marginLeft:16,marginRight:16},viewMedium:{marginLeft:24,marginRight:24},card:{marginTop:12},loadStyle:{height:56},loadingCompletedStyle:{height:53,marginTop:1,marginBottom:1},footerStyleV2:{height:1}}),Pe=function(e){return Y.a.create({lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity}})},Te=n(63),xe=n(32),Ie=n(127),ke=n(174);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var je,Re,Le=new se.a,_e=T.a.get("window"),De=Object(xe.c)((ye=function(e){p()(n,e);var t=Ee(n);function n(e){var r;a()(this,n),r=t.call(this,e),v()(u()(r),"componentName","SmartLifeScene"),v()(u()(r),"spacing",8),v()(u()(r),"sideMargin",0),v()(u()(r),"lister1",null),v()(u()(r),"lister2",null),v()(u()(r),"timer",null),v()(u()(r),"playerList",[]),v()(u()(r),"itemlist",[]),v()(u()(r),"deviceRes",void 0),v()(u()(r),"commoditySuccess",!1),v()(u()(r),"contentSuccess",!1),v()(u()(r),"hasImageCard",!1),v()(u()(r),"hasContentCard",!1),v()(u()(r),"hasLoading",!1),v()(u()(r),"screenType",void 0),v()(u()(r),"loadingPostion","bottom"),v()(u()(r),"hocThis",null),v()(u()(r),"boxWidth",void 0),v()(u()(r),"isReload",!1),v()(u()(r),"_panResponder",void 0),v()(u()(r),"_panResponderApk",void 0),v()(u()(r),"getScreenColumn",(function(e){switch(Object(D.a)(e)){case"medium":return 2;case"large":return 3;default:return 1}})),v()(u()(r),"handleBoxWidth",(function(){var e=r._getWindowSize().width;e||(e=r.props.width||768),r.boxWidth="small"===r.screenType?e-32:e-48})),v()(u()(r),"_LoadingFailedPage1",(function(e,t){return t.length?r.contentSuccess||(r.hasImageCard?r.commoditySuccess?(t.splice(1,0,e[0]),t=t.concat(e.slice(1))):t=t.concat(e):(t.unshift(e[0]),t=t.concat(e.slice(1)))):t=t.concat(e),r.contentSuccess=!0,t})),v()(u()(r),"_getSize",(function(){return"web"===P.a.OS?T.a.get("window"):{width:(null===(e=r.state)||void 0===e?void 0:e.windowWidth)||Ce.a.getWidthWithParams("smartlife"),height:(null===(t=r.state)||void 0===t?void 0:t.windowHeight)||Ce.a.getHeightWithParams("smartlife")};var e,t})),v()(u()(r),"_getWindowSize",(function(){var e=r._getSize(),t=e.width,n=e.height,o={width:t,height:n,column:1};return o.column=t>=n?3:r.getScreenColumn(t),o})),v()(u()(r),"heightForItem",(function(e,t){var n=r.state.column,o=r._getWindowSize().width,i="small"===r.screenType?32:48;o||(o=r.props.width);var a=(o-(n-1)*r.spacing-i)/n,l=Object(ke.a)(e,t,{itemWidth:a,isPadHorizontal:3===n,isApp:!0,screenWidth:o,column:n});return isNaN(l)||null==l?300:l})),v()(u()(r),"empty",(function(){})),v()(u()(r),"renderFooter3",(function(){return w.a.createElement(O.a,{style:Oe.footerStyleV2})})),v()(u()(r),"renderFooter",(function(e){var t=r.state,n=t.loadState,o=t.pageNum,i=t.allData;return w.a.createElement(O.a,{style:3===n?Oe.loadingCompletedStyle:Oe.loadStyle},"wap"!==e&&1===o&&1===n&&0===i.length?null:r.renderLoading())})),v()(u()(r),"renderLoading",(function(){var e=r.state,t=e.showLoading,n=e.loadState;return w.a.createElement(N.b,{themeStyles:Pe},(function(e){return w.a.createElement(W.a,{showLoading:t,position:r.loadingPostion,errorCallback:r._getAsyNcData,loadState:n,height:56,iconSize:24,titleStyle:e.lodingTitle})}))})),v()(u()(r),"_renderItemV2",(function(e,t){return r._renderItem({item:e,index:t})})),v()(u()(r),"renderFlatList",(function(e){return w.a.createElement(L.a,{horizontal:!0,data:e,renderItem:function(e){return r._renderItem(e,"FlatList")},keyExtractor:function(e,t){return String(t)}})})),v()(u()(r),"renderWap",(function(){var e=r.state,t=e.allData,n=e.column,o=e.loadState,i=e.pageSize,a=r._getWindowSize().height;return Te.a.getSmartLifeDate(t),w.a.createElement(O.a,{style:[Oe.view,"small"===r.screenType?Oe.viewSmall:Oe.viewMedium]},t.length<3&&3===n?r.renderFlatList(t):w.a.createElement(A.a,{column:n,data:t,boxWidth:r.boxWidth,WaterFallCallBack:r.empty,pageGutter:0,gutter:r.spacing,pageSize:i,isLoading:1===o,renderItem:r._renderItem,onLoadMore:r._loadMore,footer:r.empty,sceneName:"SmartLifeScene",screenHeight:a}),r.renderFooter("wap"))})),v()(u()(r),"renderApp",(function(){var e=r.state,t=e.allData,n=e.column,i=e.pageNum,a=e.loadState,l="small"===r.screenType?16:24;return Te.a.getSmartLifeDate(t),w.a.createElement(O.a,o()({style:Oe.view},r._panResponderApk.panHandlers),0!==t.length&&(1===n&&1===t.length||2===n&&t.length<=2||3===n&&t.length<=3)?w.a.createElement(O.a,{style:"small"===r.screenType?Oe.viewSmall:Oe.viewMedium},r.renderFlatList(t),r.renderFooter()):w.a.createElement(w.a.Fragment,null,1===i&&1===a&&0===t.length&&r.renderLoading(),w.a.createElement(Ie.b,{data:t,heightForItem:r.heightForItem,numColumns:n,gutter:r.spacing,pageGutter:l,renderItem:r._renderItemV2,renderFooter:r.renderFooter3,onLoadMore:r._loadMore,scrollViewRef:r.props.scrollViewRef,pageType:"smartlife"}),r.renderFooter()))}));var i=r._getWindowSize(),l=i.column,s=i.width,c="",d="";return"web"===P.a.OS&&(c=Object(ie.c)(),d=B.a.get("uid")),r.screenType=s?Object(D.a)(s):Object(D.a)(_e.width),r.state={tid:c,uid:d,pageNum:1,pageSize:"small"===r.screenType?5:20,column:l,showLoading:!0,loadState:1,allData:[],randomNumber:null,isFirst:!0,screenHeight:_e.height,windowHeight:void 0,windowWidth:void 0,isLogin:null},r.handleBoxWidth(),r._loading=r._loading.bind(u()(r)),r._loadMore=r._loadMore.bind(u()(r)),r._renderItem=r._renderItem.bind(u()(r)),r.receiveRef=r.receiveRef.bind(u()(r)),r._receivePlayer=r._receivePlayer.bind(u()(r)),r._getAsyNcData=r._getAsyNcData.bind(u()(r)),r.callInterface=r.callInterface.bind(u()(r)),r._getRecommendContent=r._getRecommendContent.bind(u()(r)),r._getRecommendCommodity=r._getRecommendCommodity.bind(u()(r)),r._getFirstRecommendCommodity=r._getFirstRecommendCommodity.bind(u()(r)),r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.handleBoxWidth(),this.lister2=C.a.addListener("NativeCallAction",(function(t){if(t){var n,r;if("login"===t.service&&"isLogin"===t.action)if("boolean"==typeof(null===(n=t.param)||void 0===n?void 0:n.isLogin)){var o,i;if(e.state.isLogin===(null===(o=t.param)||void 0===o?void 0:o.isLogin))return;e.itemlist.length=0,e.playerList.length=0,e.hasImageCard=!1,e.contentSuccess=!1,e.hasContentCard=!1,e.commoditySuccess=!1,e.isReload=!0,e.setState({allData:[],pageNum:1,showLoading:!0,loadState:1,isLogin:null===(i=t.param)||void 0===i?void 0:i.isLogin},(function(){e.isReload=!1,e.callInterface("reload")}))}if("screen"===t.service&&"currentHeight"===t.action)"number"==typeof(null===(r=t.param)||void 0===r?void 0:r.height)&&e.state.screenHeight!==t.param.height&&e.setState({screenHeight:t.param.height})}})),"web"===P.a.OS)Le.getCsrftoken().finally((function(){e.callInterface()}));else{Object(ae.j)(Z.a.DEVICE_INFO).then((function(t){e.deviceRes=t})).finally((function(){e.callInterface()}));this._getWindowSize().column}Te.a.setComId(this.props.pageId,"smartlife")}},{key:"callInterface",value:function(e){var t=this,n=1,r=this.state.pageSize,o=this.state.allData;this.hasLoading=!0,this._getRecommendContent().then(function(){var e=R()(E.a.mark((function e(i){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=o.concat(i),t.contentSuccess=!0,(null==i?void 0:i.length)<r&&(n=3),(null==i?void 0:i.length)>0&&(t.hasContentCard=!0),e.next=6,t._getFirstRecommendCommodity(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(R()(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=2,t.contentSuccess=!1,e.next=4,t._getFirstRecommendCommodity(o);case 4:case"end":return e.stop()}}),e)})))).finally((function(){var r,i,a=t.props.pageInfo;null!=a&&null!==(r=a.cards)&&void 0!==r&&r.length&&(a.cardType="智慧生活-图片组件",t.hasImageCard?"智慧生活-图片组件"!==(null===(i=o[0])||void 0===i?void 0:i.cardType)&&o.unshift(a):(t.hasImageCard=!0,o.unshift(a)));var l={showLoading:1!==n,loadState:n,isFirst:"reload"===e||!1,allData:o.map((function(e,t){return e.indexLocation=t,e}))};t.setState(l,(function(){t.hasLoading=!1}))}))}},{key:"_getFirstRecommendCommodity",value:function(e){var t=this.props.configData;return this._getRecommendCommodity().then((function(n){var r=n.productList;if(null!=r&&r.length){var o,i={_cardType:"commodity",cardType:"智慧生活-商品专辑",configData:t,contentId:"commodity",ruleId:n.ruleId,sid:n.sid,data:r.map((function(e){return{bgColor:"#ffffff",imgUrl:e.photoPath,prdName:e.name,isInv:e.isInv,productId:e.productId,skuCode:e.skuCode,weburl:le.a.webDomain+"product/"+e.productId+".html",wapurl:e.skuCode?le.a.wapDomain+"product/ord-"+e.skuCode+".html":le.a.wapDomain+"product/"+e.productId+".html",priceMode:e.priceMode,salePrice:void 0!==e.promoPrice?e.promoPrice:e.price,originPrice:e.price,priceEndWithQi:1===e.priceLabel?"0":"1"}}))};"智慧生活-图片组件"===(null===(o=e[0])||void 0===o?void 0:o.cardType)?e[1]?null==e||e.splice(2,0,i):null==e||e.splice(1,0,i):e[0]?null==e||e.splice(1,0,i):e[0]=i}}))}},{key:"componentDidUpdate",value:function(){var e,t,n=this._getWindowSize(),r=n.column,o=n.width,i=this.state,a=i.pageNum,l=i.isFirst,s=i.allData,c=this.props.pageInfo;if(this.screenType=Object(D.a)(o),r!==this.state.column){var u={column:r,pageSize:"small"===this.screenType?5:20};this.setState(u,this.handleBoxWidth)}1!==a||l||null==c||null===(e=c.cards)||void 0===e||!e.length||"智慧生活-图片组件"===(null===(t=s[0])||void 0===t?void 0:t.cardType)||this.isReload||(c.cardType="智慧生活-图片组件",this.hasImageCard=!0,s.unshift(c),this.itemlist.length=0,this.playerList.length=0,this.setState({isFirst:!0,allData:s.map((function(e,t){return e.indexLocation=t,e}))}))}},{key:"componentDidCatch",value:function(e,t){}},{key:"componentWillUnmount",value:function(){this.lister1&&this.lister1.remove(),this.lister2&&this.lister2.remove(),this.timer&&clearTimeout(this.timer)}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=_.a.create({onMoveShouldSetPanResponderCapture:function(){return!0},onPanResponderRelease:function(e,t){}}),this._panResponderApk=_.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"_getRecommendContent",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=this.state,i=o.tid,a=o.uid,l=o.pageSize,s=this.props.tags;i=i||(null===(e=this.deviceRes)||void 0===e?void 0:e.tid),a=a||(null===(t=this.deviceRes)||void 0===t?void 0:t.uid);var c=s;if("web"!==P.a.OS&&(c=s?JSON.stringify(s):null),i){var u={sceneId:"3,1,23,2301",uid:a,tid:i,tags:c,contentType:"mix",pageNum:r,pageSize:l,version:"1"};return Object(F.o)(u).then((function(e){if(null!=e&&e.contentList){var t;if(null!==(t=e.contentList)&&void 0!==t&&t.length&&(e.contentList.forEach((function(t){t.ruleId=e.ruleId,t.sId=e.sid,t.isPause=!0,t.cardType="智慧生活-内容大卡"})),1!==r)){var o=n.state.allData;o=o.concat(e.contentList),n.setState({allData:o.map((function(e,t){return e.indexLocation=t,e}))})}return e.contentList}return Promise.reject(e)}))}return Promise.reject()}},{key:"_getRecommendCommodity",value:function(){var e,t,n=this,r=this.state,o=r.tid,i=r.uid;o=o||(null===(e=this.deviceRes)||void 0===e?void 0:e.tid),i=i||(null===(t=this.deviceRes)||void 0===t?void 0:t.uid);var a=this.props.tags,l=a;if("web"!==P.a.OS&&(l=a?JSON.stringify(a):null),o){var s={sceneId:"1,1,23,2302",uid:i,tid:o,deviceType:this.deviceRes?this.deviceRes.deviceType:"",pageSize:4,tagSelected:l,recommendScope:2};return Object(F.o)(s).then((function(e){return null!=e&&e.productList?(n.commoditySuccess=!0,e):Promise.reject(e)}))}return Promise.reject()}},{key:"_receivePlayer",value:function(e,t,n){e.contentId=t.contentId,e.indexLocation=t.indexLocation,this.playerList[n]=e}},{key:"_renderItem",value:function(e){var t=this,n=e.item,r=e.index,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n)return null;var i=this._getWindowSize(),a=i.column,l=i.width,s="small"===this.screenType?32:48;l||(l=this.props.width);var c=(l-(a-1)*this.spacing-s)/a;if(!c)return null;var u,d=n.data,p=n.configData,f=n.ruleId,h=n.sid,g=this.props,m=g.navigation,y=g.pageInfo,v=g.pageId,b=g.tags,S=g.parentPageId,C={pageId:S||v,ruleId:f,sid:h,tabIndex:(null==b?void 0:b.length)>0?b[0].tagId:"0",tabName:(null==b?void 0:b.length)>0?b[0].tagName:""},T={};return"FlatList"===o&&(T.marginTop=0,0===r&&(T.marginRight=this.spacing)),0===r&&(T.marginTop=0),"android"!==P.a.OS&&"ios"!==P.a.OS||r<a&&(T.marginTop=0),null!=n&&n._cardType?d?w.a.createElement(O.a,{style:[Oe.card,T]},w.a.createElement(oe,{data:d,configData:p,boxWidth:c,navigation:m,prePageInfo:y,reportInfo:C,receiveRef:function(e){return t.receiveRef(e,n.indexLocation)}})):null:null!=n&&n.cards?(null==n||null===(u=n.cards)||void 0===u||u.forEach((function(e){"ad"===e.cardType&&(e.boxWidth=c,e.hasMargin=!1)})),w.a.createElement(O.a,{style:[Oe.card,T],ref:function(e){return t.receiveRef(e,n.indexLocation)}},w.a.createElement(ge,{pageInfo:n,boxWidth:c,pageId:C.pageId}))):w.a.createElement(O.a,{style:[Oe.card,T]},w.a.createElement(ve.a,{key:n.contentId,data:n,iWidth:c,isPause:n.isPause,prop:"1:1"===n.coverSize?n.coverSize:void 0,pageId:C.pageId,navigation:m,indexLocation:r,ruleId:n.ruleId,PageType:0,tabIndex:C.tabIndex,tabName:C.tabName,receivePlayer:function(e){return t._receivePlayer(e,n,n.indexLocation)},receiveRef:function(e){e&&(e.videoCardRef=!0,t.receiveRef(e,n.indexLocation,n))}}))}},{key:"_loading",value:function(){var e=this,t=this.state,n=t.pageSize,r=t.pageNum,o=1;this.hasLoading=!0;var i=this.state.allData;this._getRecommendContent(r).then(function(){var t=R()(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==r){t.next=10;break}if(i=e._LoadingFailedPage1(a,i),e.commoditySuccess){t.next=9;break}return(null==a?void 0:a.length)>0&&(e.hasContentCard=!0),t.next=6,e._getFirstRecommendCommodity(i);case 6:e.setState({allData:i.map((function(e,t){return e.indexLocation=t,e}))}),t.next=10;break;case 9:e.setState({allData:i.map((function(e,t){return e.indexLocation=t,e}))});case 10:(null==a?void 0:a.length)<n&&(o=3);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(R()(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=2,1!==r){t.next=7;break}if(e.contentSuccess=!1,e.commoditySuccess){t.next=7;break}return t.next=6,e._getFirstRecommendCommodity(i);case 6:e.setState({allData:i.map((function(e,t){return e.indexLocation=t,e}))});case 7:case"end":return t.stop()}}),t)})))).finally((function(){e.hasLoading=!1,e.setState({showLoading:1!==o,loadState:o,pageNum:r})}))}},{key:"_loadMore",value:function(){var e=this.state,t=e.pageNum,n=e.loadState;this.hasLoading||1!==n||(this.hasLoading=!0,this.setState({pageNum:t+1,showLoading:!0,loadState:1},this._loading))}},{key:"_getAsyNcData",value:function(){var e=this.state.pageNum;this.setState({pageNum:e,showLoading:!0,loadState:1},this._loading)}},{key:"receiveRef",value:function(e,t,n){var r=this;e&&(e.sId=null==n?void 0:n.sId,e.ruleId=null==n?void 0:n.ruleId,e.contentId=null==n?void 0:n.contentId,this.itemlist[t]=e,1===this.state.pageNum?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){var e;"function"==typeof(null===(e=r.hocThis)||void 0===e?void 0:e.itemViewChange)&&r.hocThis.itemViewChange("加载完成")}),300)):this.timer&&clearTimeout(this.timer))}},{key:"render",value:function(){return"web"===P.a.OS?this.renderWap():this.renderApp()}}]),n}(b.PureComponent),v()(ye,"defaultProps",{configData:{prdNameNum:1,heightAuto:!0,outOfStockTagShow:!0,originPriceShow:!0,layoutType:"TwoColumnLayout"},tags:null,pageInfo:{}}),me=ye))||me,Ne=Object(M.a)(Object(X.a)(Se)(Object(te.a)(De))),We=n(415),Ae=n(12),Be=n(290),Me=n(94),Fe=n(58),He=n.n(Fe);function ze(e){var t,n;null!=e&&e.length&&null!==(t=e[0])&&void 0!==t&&t.cards&&(e[0].cards=He()(null===(n=e[0])||void 0===n?void 0:n.cards,(function(e){return"ad"===e.cardType})))}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Ve=Object(xe.c)((Re=function(e){p()(n,e);var t=Ue(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"eventListener",void 0),v()(u()(r),"timer",void 0),v()(u()(r),"missHeight",125),v()(u()(r),"eventNative",0),v()(u()(r),"isSmartLife",!0),v()(u()(r),"tabsNavTop",!1),v()(u()(r),"tabView",void 0),v()(u()(r),"SwitchScreenListener",void 0),v()(u()(r),"GetBindDeviceDoneListener",void 0),v()(u()(r),"TabViewWebListener",void 0),v()(u()(r),"portal",r.props.isSmall?Ae.f.WAP:Ae.f.WEB),v()(u()(r),"pageIds",[]),v()(u()(r),"tagNames",void 0),v()(u()(r),"switchScreen",(function(){r.tabsNavTop=!1})),v()(u()(r),"onSetTabTopState",(function(e){r.tabsNavTop=e.navTop})),v()(u()(r),"_loadTabs",(function(){var e=r.props.navigation;return r.pageIds=[],r.tagNames=[],r.props.subTabSet.map((function(t,n){var o,i=JSON.parse(t.cards[0].configInfo).relatedPageId;r.pageIds.push(i),r.tagNames.push(t.tabName);var a=Object(U.b)(t.tabName),l=[{tagName:a,tagId:String(n)}],s=r.pageIds[n],c={};return(null===(o=r.state.pageInfo)||void 0===o?void 0:o.pageId)==s&&(c=r.state.pageInfo),w.a.createElement(I.a,{heading:a,key:n},w.a.createElement(Ne,{pageInfo:c,pageId:s,tags:l,navigation:e,parentPageId:r.props.pageId}))}))})),v()(u()(r),"_getData",(function(e){r.props.apkOrWap?Object(F.l)(e).then((function(e){ze(e.pageInfos),r.setState({pageInfo:e.pageInfos?e.pageInfos[0]:{}})})):Object(F.k)(e,String(r.portal)).then((function(e){ze(e.pageInfos),r.setState({pageInfo:e.pageInfos?e.pageInfos[0]:{}})}))})),r._onLayout=r._onLayout.bind(u()(r)),r.state={pageInfo:{},tags:null,scrollY:new S.a.Value(0),layoutY:0},r}return s()(n,[{key:"componentDidMount",value:function(){this._getData(this.pageIds[0]),C.a.emit("SmartLifeTabChange",{title:this.tagNames[0],index:0}),this.GetBindDeviceDoneListener=C.a.addListener("getBindDeviceDone",this._onLayout),this.TabViewWebListener=C.a.addListener("tabViewWeb",this.onSetTabTopState),this.SwitchScreenListener=C.a.addListener("switchScreenDir",this.switchScreen)}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.timer&&clearTimeout(this.timer),this.GetBindDeviceDoneListener&&this.GetBindDeviceDoneListener.remove(),this.TabViewWebListener&&this.TabViewWebListener.remove(),this.SwitchScreenListener&&this.SwitchScreenListener.remove()}},{key:"_onChangeTab",value:function(e){var t=this.pageIds[e.i];C.a.emit("SmartLifeTabChange",{title:this.tagNames[e.i],index:e.i}),this._getData(t)}},{key:"_onLayout",value:function(e){var t=this;this.tabView&&this.tabView.measure((function(e,n,r,o,i,a){2===Be.a.hasDevices?t.missHeight=398:1===Be.a.hasDevices?t.missHeight=127:t.missHeight=137,Me.a.setsmartLifeLayoutY(n+t.missHeight)}))}},{key:"render",value:function(){var e=this;return w.a.createElement(w.a.Fragment,null,w.a.createElement(O.a,{ref:function(t){e.tabView=t},onLayout:this._onLayout.bind(this)}),w.a.createElement(x.a,{style:{minHeight:Object(ae.x)("smartlife").screenHeight+100},isSmartLife:this.isSmartLife,layoutY:this.state.layoutY,onChangeTab:function(t){e._onChangeTab(t)},renderTabBar:function(t){return w.a.createElement(We.a,o()({},t,{stickyScrollY:e.state.scrollY,layoutY:e.state.layoutY}))},locked:!0,initialPage:0},this._loadTabs()))}}]),n}(w.a.PureComponent),v()(Re,"defaultProps",{apkOrWap:"android"===P.a.OS,isSmall:"small"===Object(D.a)(T.a.get("window").width)}),je=Re))||je;t.a=Object(M.a)(Ve)},,function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.forFadeFromBottomAndroid=function(e){var t=e.current,n=e.inverted,r=e.layouts.screen,o=e.closing,i=s(t.progress.interpolate({inputRange:[0,1],outputRange:[.08*r.height,0],extrapolate:"clamp"}),n);return{cardStyle:{opacity:(0,a.default)(o,t.progress,t.progress.interpolate({inputRange:[0,.5,.9,1],outputRange:[0,.25,.7,1]})),transform:[{translateY:i}]}}},t.forHorizontalIOS=function(e){var t=e.current,n=e.next,r=e.inverted,o=e.layouts.screen,i=s(t.progress.interpolate({inputRange:[0,1],outputRange:[o.width,0],extrapolate:"clamp"}),r),a=n?s(n.progress.interpolate({inputRange:[0,1],outputRange:[0,-.3*o.width],extrapolate:"clamp"}),r):0,l=t.progress.interpolate({inputRange:[0,1],outputRange:[0,.07],extrapolate:"clamp"}),c=t.progress.interpolate({inputRange:[0,1],outputRange:[0,.3],extrapolate:"clamp"});return{cardStyle:{transform:[{translateX:i},{translateX:a}]},overlayStyle:{opacity:l},shadowStyle:{shadowOpacity:c}}},t.forModalPresentationIOS=function(e){var t=e.index,n=e.current,r=e.next,o=e.inverted,a=e.layouts.screen,c=e.insets,u=a.width>a.height,d=u?0:10,p=c.top,f=a.height/a.width,h=l(n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),r?r.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),g=s(h.interpolate({inputRange:[0,1,2],outputRange:[a.height,0===t?0:d,(0===t?p:0)-d*f]}),o),m=h.interpolate({inputRange:[0,1,1.0001,2],outputRange:[0,.3,1,1]}),y=u?1:h.interpolate({inputRange:[0,1,2],outputRange:[1,1,a.width?1-2*d/a.width:1]}),v=u?0:0===t?h.interpolate({inputRange:[0,1,1.0001,2],outputRange:[0,0,(0,i.isIphoneX)()?38:0,10]}):10;return{cardStyle:{overflow:"hidden",borderTopLeftRadius:v,borderTopRightRadius:v,marginTop:0===t?0:p,marginBottom:0===t?0:d,transform:[{translateY:g},{scale:y}]},overlayStyle:{opacity:m}}},t.forNoAnimation=function(){return{}},t.forRevealFromBottomAndroid=function(e){var t=e.current,n=e.next,r=e.inverted,o=e.layouts.screen,i=s(t.progress.interpolate({inputRange:[0,1],outputRange:[o.height,0],extrapolate:"clamp"}),r),a=s(t.progress.interpolate({inputRange:[0,1],outputRange:[o.height*(95.9/100)*-1,0],extrapolate:"clamp"}),r),l=n?s(n.progress.interpolate({inputRange:[0,1],outputRange:[0,.02*o.height*-1],extrapolate:"clamp"}),r):0,c=t.progress.interpolate({inputRange:[0,.36,1],outputRange:[0,.1,.1],extrapolate:"clamp"});return{containerStyle:{overflow:"hidden",transform:[{translateY:i}]},cardStyle:{transform:[{translateY:a},{translateY:l}]},overlayStyle:{opacity:c}}},t.forScaleFromCenterAndroid=function(e){var t=e.current,n=e.next,r=e.closing,o=l(t.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),n?n.progress.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}):0),i=o.interpolate({inputRange:[0,.75,.875,1,1.0825,1.2075,2],outputRange:[0,0,1,1,1,1,0]}),s=(0,a.default)(r,t.progress.interpolate({inputRange:[0,1],outputRange:[.9,1],extrapolate:"clamp"}),o.interpolate({inputRange:[0,1,2],outputRange:[.85,1,1.1]}));return{containerStyle:{opacity:i,transform:[{scale:s}]}}},t.forVerticalIOS=function(e){var t=e.current,n=e.inverted,r=e.layouts.screen;return{cardStyle:{transform:[{translateY:s(t.progress.interpolate({inputRange:[0,1],outputRange:[r.height,0],extrapolate:"clamp"}),n)}]}}};var o=n(9),i=n(254),a=r(n(473)),l=o.Animated.add,s=o.Animated.multiply},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),i=n(166),a={getStateForAction:function(e,t){switch(t.type){case"SET_PARAMS":var n=t.source?e.routes.findIndex((function(e){return e.key===t.source})):e.index;return-1===n?null:(0,o.default)({},e,{routes:e.routes.map((function(e,r){return r===n?(0,o.default)({},e,{params:(0,o.default)({},e.params,t.payload.params)}):e}))});case"RESET":var r=t.payload;return 0===r.routes.length||r.routes.some((function(t){return!e.routeNames.includes(t.name)}))?null:!1===r.stale?e.routeNames.length!==r.routeNames.length||r.routeNames.some((function(t){return!e.routeNames.includes(t)}))?null:(0,o.default)({},r,{routes:r.routes.map((function(e){return e.key?e:(0,o.default)({},e,{key:"".concat(e.name,"-").concat((0,i.nanoid)())})}))}):r;default:return null}},shouldActionChangeFocus:function(e){return"NAVIGATE"===e.type}};t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SingleNavigatorContext=void 0,t.default=function(e){var t=e.children,n=r.useRef(),o=r.useMemo((function(){return{register:function(e){var t=n.current;if(void 0!==t&&e!==t)throw new Error('Another navigator is already registered for this container. You likely have multiple navigators under a single "NavigationContainer" or "Screen". Make sure each navigator is under a separate "Screen" container. See https://reactnavigation.org/docs/5.x/nesting-navigators for a guide on nesting.');n.current=e},unregister:function(e){e===n.current&&(n.current=void 0)}}}),[]);return r.createElement(i.Provider,{value:o},t)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=r.createContext(void 0);t.SingleNavigatorContext=i},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateValueStore=void 0;var o=r(n(6)),i=r(n(5));var a=(0,o.default)((function e(){var t,n,r;(0,i.default)(this,e),r=void 0,(n="")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}));t.PrivateValueStore=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={dark:!1,colors:{primary:"rgb(0, 122, 255)",background:"rgb(242, 242, 242)",card:"rgb(255, 255, 255)",text:"rgb(28, 28, 30)",border:"rgb(216, 216, 216)",notification:"rgb(255, 59, 48)"}};t.default=n},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext({options:void 0});o.displayName="LinkingContext";var i=o;t.default=i},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(!1);t.default=o},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=(r=function(){function e(){s()(this,e),a()(this,"headerHeightMap",o,this)}return u()(e,[{key:"setHeaderHeight",value:function(e,t){this.headerHeightMap[e]=t}},{key:"getHeaderHeight",value:function(e){return this.headerHeightMap[e]||600}}]),e}(),o=p()(r.prototype,"headerHeightMap",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p()(r.prototype,"setHeaderHeight",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"setHeaderHeight"),r.prototype),p()(r.prototype,"getHeaderHeight",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"getHeaderHeight"),r.prototype),r);t.a=new h},function(e,t,n){"use strict";var r,o,i=n(107),a=n.n(i),l=n(15),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(65),P=n.n(O),T=n(0),x=n.n(T),I=n(244),k=n(102),E=n(185),j=n(49),R=n(270),L=n(54),_=n(37),D=n(43),N=n(87),W=n(57),A=n(245),B=n(246),M=n(63),F=n(32),H=n(241),z=n(94),U=n(22),V=n(10),G=n(3);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var J=Object(F.c)((o=function(e){m()(n,e);var t=Y(n);function n(e){var r;u()(this,n),r=t.call(this,e),C()(h()(r),"scrollView",null),C()(h()(r),"scrollToTimer",null),C()(h()(r),"requestAnimationFrame",null),C()(h()(r),"tabViewWrapper",void 0),C()(h()(r),"isFirstTop",!0),C()(h()(r),"flag",!1),C()(h()(r),"contentwidth",void 0),C()(h()(r),"switchScreen",!1),C()(h()(r),"timer1",void 0),C()(h()(r),"eventHeight",void 0),C()(h()(r),"switchScreenTimer",void 0),C()(h()(r),"listener1",void 0),C()(h()(r),"listener2",void 0),C()(h()(r),"timmer2",void 0),C()(h()(r),"getWidthAndHeight",(function(e,t){r.eventHeight=t,r.timer1&&clearTimeout(r.timer1),r.switchScreen=!0,r.timer1=setTimeout((function(){r.switchScreen=!1}),800);var n=r.state.currentPage*e;r.setState({containerWidth:e}),r.flag=!0,r.scrollView&&setTimeout((function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:n,y:0,animated:!1})}))})),C()(h()(r),"scrollyChange",(function(e){var t=r.props,n=t.isSmartLife,o=t.id,i=t.pageId,a=t.isFixed,l=t.resSiteCode,s=t.resSiteName,c=t.pageCatCode,u=t.pageCatName,d=n?z.a.smartLifeLayoutY:r.props.layoutY;!r.state.navTop&&e>=d&&(r.isFirstTop&&!n&&(r.isFirstTop=!1,Object(U.a)({actionCode:"110000101",actionName:"子页签组件曝光",eventType:V.e.EVENT_TYPE_EXPOSURE,pageId:null==i?void 0:i.toString(),content:{comId:null==o?void 0:o.toString()},pageCatCode:c,pageCatName:u,resSiteCode:l,resSiteName:s})),r.setState({navTop:!0},(function(){"true"===a&&j.a.emit("tabViewWeb",{navTop:!0})}))),(e<d&&r.state.navTop||e==d&&0==d)&&(r.isFirstTop||(r.isFirstTop=!0),r.setState({navTop:!1},(function(){"true"===a&&j.a.emit("tabViewWeb",{navTop:!1})}))),r.setState({theTop:e})})),C()(h()(r),"UNSAFE_componentWillReceiveProps",(function(e){var t=r.props||{},n=t.isFromSeckill,o=t.isFromSeckillChannel;e.children!==r.props.children&&(r.updateSceneKeys({page:r.state.currentPage,children:e.children}),!r.scrollView||n||o||setTimeout((function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:r.state.currentPage*r.state.containerWidth,y:0,animated:!r.props.scrollWithoutAnimation})}))),e.page>=0&&e.page!==r.state.currentPage&&r.goToPage(e.page)})),C()(h()(r),"goToPage",(function(e){var t=e*r.state.containerWidth;r.scrollView&&setTimeout((function(){var e;null===(e=r.scrollView)||void 0===e||e.scrollTo({x:t,y:0,animated:!r.props.scrollWithoutAnimation})}));var n=r.state.currentPage;r.timmer2=setTimeout((function(){r.updateSceneKeys({page:e,callback:r._onChangeTab.bind(h()(r),n,e)})}),500)})),C()(h()(r),"renderTabBar",(function(e){return!1===r.props.renderTabBar?null:r.props.renderTabBar?x.a.cloneElement(r.props.renderTabBar(e),e):x.a.createElement(B.a,e)})),C()(h()(r),"updateSceneKeys",(function(e){var t=e.page,n=e.children,o=void 0===n?r.props.children:n,i=e.callback,a=void 0===i?function(){}:i,l=r.newSceneKeys({previousKeys:r.state.sceneKeys,currentPage:t,children:o});r.setState({currentPage:t,sceneKeys:l},a)})),C()(h()(r),"newSceneKeys",(function(e){var t=e.previousKeys,n=void 0===t?[]:t,o=e.currentPage,i=void 0===o?0:o,a=e.children,l=void 0===a?r.props.children:a,s=[];return r._children(l).forEach((function(e,t){var o=r._makeSceneKey(e,t);(r._keyExists(n,o)||r._shouldRenderSceneKey(t,i))&&s.push(o)})),s})),C()(h()(r),"_shouldRenderSceneKey",(function(e,t){var n=r.props.prerenderingSiblingsNumber;return e<t+n+1&&e>t-n-1})),C()(h()(r),"_keyExists",(function(e,t){return e.find((function(e){return t===e}))})),C()(h()(r),"_makeSceneKey",(function(e,t){return"".concat(e.props.heading,"_").concat(t)})),C()(h()(r),"_onScrollContentSizeChange",(function(e,t){r.contentwidth=e})),C()(h()(r),"renderScrollableContent",(function(e){var t,n=r._composeScenes(e);return x.a.createElement(R.a,s()({style:{minHeight:r.props.isFromSeckillChannel?0:null!==(t=r.eventHeight)&&void 0!==t?t:L.a.get("window").height,zIndex:-1},horizontal:!0,pagingEnabled:!0,automaticallyAdjustContentInsets:!0,keyboardShouldPersistTaps:"handled",onContentSizeChange:r._onScrollContentSizeChange.bind(h()(r)),contentOffset:{x:r.props.initialPage*r.state.containerWidth},ref:function(e){r.scrollView=e},onScroll:function(e){var t=e.nativeEvent.contentOffset.x/r.state.containerWidth;r._updateScrollValue(r.switchScreen?r.state.currentPage:t)},onMomentumScrollBegin:r._onMomentumScrollBeginAndEnd,onMomentumScrollEnd:r._onMomentumScrollBeginAndEnd,scrollEventThrottle:16,scrollsToTop:!1,showsHorizontalScrollIndicator:!1,scrollEnabled:!r.props.locked,directionalLockEnabled:!0,alwaysBounceVertical:!1,removeClippedSubviews:"ios"!==_.a.OS,keyboardDismissMode:"on-drag"},r.props.contentProps),n)})),C()(h()(r),"_composeScenes",(function(e){return r._children().map((function(e,t){var n=r._makeSceneKey(e,t);return r.state.currentPage===t?x.a.createElement(A.a,{key:e.key,shouldUpdated:r._shouldRenderSceneKey(t,r.state.currentPage),currentPage:r.state.currentPage,style:{width:r.state.containerWidth}},r._keyExists(r.state.sceneKeys,n)?e:x.a.createElement(D.a,{heading:e.props.heading})):x.a.createElement(D.a,{style:{width:r.state.containerWidth}})}))})),C()(h()(r),"_onMomentumScrollBeginAndEnd",(function(e){var t=e.nativeEvent.contentOffset.x,n=Math.round(t/r.state.containerWidth);r.state.currentPage!==n&&r._updateSelectedPage(n)})),C()(h()(r),"_updateSelectedPage",(function(e){var t=e;"object"===a()(t)&&(t=e.nativeEvent.position);var n=r.state.currentPage;r.updateSceneKeys({page:t,callback:r._onChangeTab.bind(h()(r),n,t)})})),C()(h()(r),"_onChangeTab",(function(e,t){var n=r.props,o=n.isSmartLife,i=n.isFixed,a="true"===n.topSubTitleHide;if(r.props.onChangeTab({i:t,ref:r._children()[t],from:e}),"web"!==_.a.OS&&r.state.navTop&&"true"===i){var l=a?1:0;j.a.emit("homeScrollTo",{stickyLayoutY:o?z.a.smartLifeLayoutY+l:r.props.layoutY+l,navTop:r.state.navTop,pageType:r.props.pageType})}})),C()(h()(r),"_updateScrollValue",(function(e){if("web"!==_.a.OS)r.state.scrollValue.setValue(e);else{r.state.scrollValue.setValue(e),r.props.onScroll(e);var t=Math.round(e);r.state.currentPage!==t&&r._updateSelectedPage(t)}})),C()(h()(r),"_handleLayout",(function(e){var t=r.props||{},n=t.isFromSeckill,o=t.isFromSeckillChannel;(n||o)&&r.state.containerWidth!==r.props.curWidth&&r.setState({containerWidth:r.props.curWidth}),r.requestAnimationFrame&&r.requestAnimationFrame((function(){r.goToPage(r.state.currentPage)}))})),C()(h()(r),"_children",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props.children;return x.a.Children.map(e,(function(e){return e}))}));var o=e.isFromSeckill,i=e.isFromSeckillChannel,l=e.curWidth,c=e.width,d=o||i;return r.state={tabWidth:{width:"100%",zIndex:1},navTop:!1,stickyLayoutY:0,currentPage:r.props.initialPage,scrollValue:new N.a.Value(r.props.initialPage),containerWidth:d?null!=l?l:L.a.get("window").width:null!=c?c:L.a.get("window").width,sceneKeys:r.newSceneKeys({currentPage:r.props.initialPage})},r}return p()(n,[{key:"componentDidMount",value:function(){var e=this;"true"===this.props.isFixed&&"web"===_.a.OS?window.addEventListener("scroll",this.handleScroll.bind(this)):(this.scrollyChange(),this.listener1=j.a.addListener("onOutScrollViewScroll",(function(t,n){e.scrollyChange(t)})),this.listener2=Object(G.w)(this.getWidthAndHeight,this.props.pageType));I.a.runAfterInteractions((function(){e.scrollView&&e.state.scrollValue.setValue(e.props.initialPage)}));var t="shop"===this.props.pageType?"shop":"homePage"===this.props.pageType||"personal"===this.props.pageType?"homePage":"SeckillAndSmartLife";Object(G.v)(t).then((function(t){e.state.containerWidth!=(null==t?void 0:t.windowWidth)&&(e.eventHeight=t.windowHeight,e.setState({containerWidth:t.windowWidth})),e.flag=!0,e.scrollToTimer=setTimeout((function(){var n,r;e.scrollView&&(null===(n=e.scrollView)||void 0===n||n.scrollTo({x:e.props.initialPage*(null!==(r=null==t?void 0:t.windowWidth)&&void 0!==r?r:e.state.containerWidth),animated:!1}))}))})).catch((function(e){}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.initialPage,r=this._children().length;n!==e.initialPage&&this.goToPage(n),this.contentwidth&&(this.state.containerWidth*r===this.contentwidth||Math.abs(this.state.containerWidth*r-this.contentwidth)<r)&&(this.props.isFromSeckillChannel?setTimeout((function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:t.state.currentPage*t.state.containerWidth,y:0,animated:!1})})):this.scrollView&&this.flag&&(setTimeout((function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:t.state.currentPage*t.state.containerWidth,y:0,animated:!1})})),this.flag=!1))}},{key:"componentWillUnmount",value:function(){"web"===_.a.OS&&window.removeEventListener("scroll",this.handleScroll.bind(this)),this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.scrollToTimer&&clearTimeout(this.scrollToTimer),this.timer1&&clearTimeout(this.timer1),this.timmer2&&clearTimeout(this.timmer2)}},{key:"handleScroll",value:function(){var e=this,t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;!this.state.navTop&&t>=this.state.stickyLayoutY&&(M.a.setTabsTop(!0),this.setState({navTop:!0},(function(){j.a.emit("tabViewWeb",{navTop:e.state.navTop})}))),(t<this.state.stickyLayoutY&&this.state.navTop||t===this.state.stickyLayoutY&&0===this.state.stickyLayoutY)&&(M.a.setTabsTop(!1),this.setState({navTop:!1},(function(){j.a.emit("tabViewWeb",{navTop:e.state.navTop})})))}},{key:"render",value:function(){var e=this,t=this.props.titleHeight,n="overlayTop"===this.props.tabBarPosition||"overlayBottom"===this.props.tabBarPosition,r={goToPage:this.goToPage,tabs:this._children().map((function(e){return e.props.heading})),subTitle:this._children().map((function(e){return e.props.subTitleLabel})),topFixed:this._children().map((function(e){return e.props.topFixed})),subTitleShow:this._children().map((function(e){return e.props.subTitleShow})),tabStyle:this._children().map((function(e){return e.props.tabStyle})),activeTabStyle:this._children().map((function(e){return e.props.activeTabStyle})),textStyle:this._children().map((function(e){return e.props.textStyle})),activeTextStyle:this._children().map((function(e){return e.props.activeTextStyle})),tabHeaderStyle:this._children().map((function(e){return P()(e.props.heading.props,"style",void 0)})),disabled:this._children().map((function(e){return e.props.disabled})),accessible:this._children().map((function(e){return 0!=e.props.accessible})),accessibilityLabel:this._children().map((function(e){return e.props.accessibilityLabel})),activeTab:this.state.currentPage,scrollValue:this.state.scrollValue,containerWidth:this.state.containerWidth};return this.props.tabBarBackgroundColor&&(r.backgroundColor=this.props.tabBarBackgroundColor),this.props.tabBarActiveTextColor&&(r.activeTextColor=this.props.tabBarActiveTextColor),this.props.tabBarInactiveTextColor&&(r.inactiveTextColor=this.props.tabBarInactiveTextColor),this.props.tabBarTextStyle&&(r.textStyle=this.props.tabBarTextStyle),this.props.tabBarUnderlineStyle&&(r.underlineStyle=this.props.tabBarUnderlineStyle),this.props.tabContainerStyle&&(r.tabContainerStyle=this.props.tabContainerStyle),n&&(r.style=C()({position:"absolute",left:0,right:0},"overlayTop"===this.props.tabBarPosition?"top":"bottom",0)),x.a.createElement(k.b,{themeStyles:function(e){return Object(H.a)(e)}},(function(n,o){return x.a.createElement(D.a,{style:[K.container],ref:function(t){e.tabViewWrapper=t},onLayout:e._handleLayout},"top"===e.props.tabBarPosition||"overlayTop"===e.props.tabBarPosition?x.a.createElement(x.a.Fragment,null,x.a.createElement(D.a,{style:"web"===_.a.OS?[e.state.tabWidth,e.state.navTop?{position:"fixed",top:t}:{position:"relative",top:"auto"}]:null},e.renderTabBar(r))):null,e.renderScrollableContent(n),("bottom"===e.props.tabBarPosition||"overlayBottom"===e.props.tabBarPosition)&&e.renderTabBar(r))}))}}]),n}(T.Component),C()(o,"defaultProps",{isMedalPageTab:!1,isSmartLife:!1,isFixed:"true",stickyScrollY:new N.a.Value(0),tabBarPosition:"top",initialPage:0,page:-1,onChangeTab:function(){},onScroll:function(){},contentProps:{},scrollWithoutAnimation:!1,locked:!1,prerenderingSiblingsNumber:0,titleHeight:0}),r=o))||r;t.a=Object(E.a)(J);var K=W.a.create({container:{},scrollableContentAndroid:{}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return ye}));var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(49),S=n(126),C=n(152),O=n(43),P=n(157),T=n(48),x=n(432),I=n(103),k=n(40),E=n(102),j=n(22),R=n(11),L=n(3),_=n(23),D=n(19),N=n(57),W=n(122);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=n(32),F=n(30),H=n(10);function z(e){var t=e._styles,n=e.receiveStates,r=e.cwidth,o=e.item,i=e.isQQWap,a=e.isIosPhone;return v.a.createElement(C.a,{numberOfLines:2,ellipsizeMode:"tail",style:[t.title,4==n?t.title_g:null,{maxWidth:r-158.4}]},o.userLevel>0?v.a.createElement(O.a,{style:t.levelc},v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[3==o.couponType?t.level_b:t.level,4==n?t.level_g:null,{overflow:"hidden",marginTop:"web"!==b.a.OS?3:null,marginBottom:"web"!==b.a.OS?-3:null,marginRight:2,lineHeight:i()?16:14,paddingTop:i()&&!a()?1:null}]},(6==o.userLevel?Object(x.b)("vip"):Object(x.b)("vipAbove")).replace("%s",String(o.userLevel-1)))):null,o.description||o.couponDesc)}function U(e){var t=e._styles,n=e.receiveStates,r=e.cwidth,o=e.item,i=e.isQQWap,a=e.isIosPhone;return v.a.createElement(C.a,{numberOfLines:2,ellipsizeMode:"tail",style:[t.title,4==n?t.title_g:null,{maxWidth:r-158.4}]},o.userLevel>0?v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[3==o.couponType?t.level_b:t.level,4==n?t.level_g:null,t.levelc,{overflow:"hidden",marginTop:"web"!==b.a.OS?3:null,marginBottom:"web"!==b.a.OS?-3:null,marginRight:2,lineHeight:i()?16:14,paddingTop:i()&&!a()?1:null}]},(6==o.userLevel?Object(x.b)("vip"):Object(x.b)("vipAbove")).replace("%s",String(o.userLevel-1))):null,o.description||o.couponDesc)}function V(e){var t=e._styles,n=e.receiveStates,r=e.cwidth,o=e.item,i=e.isQQWap,a=e.isIosPhone;return v.a.createElement(O.a,{style:{maxWidth:r-158.4}},o.userLevel>0?v.a.createElement(O.a,{style:[t.levelc,{position:"absolute"}]},v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[3==o.couponType?t.level_b:t.level,4==n?t.level_g:null,{overflow:"hidden",marginTop:"web"!==b.a.OS?1.5:null,marginBottom:"web"!==b.a.OS?-1.5:null,marginRight:2,lineHeight:i()?16:14,paddingTop:i()&&!a()?1:null}]},(6==o.userLevel?Object(x.b)("vip"):Object(x.b)("vipAbove")).replace("%s",String(o.userLevel-1)))):null,v.a.createElement(C.a,{numberOfLines:2,ellipsizeMode:"tail",style:[t.title,4==n?t.title_g:null]},o.userLevel>0?v.a.createElement(C.a,{style:[t.hiddenCopywriting,6!=o.userLevel?{fontSize:"ios"===b.a.OS?11.5:12.5}:null]},(6==o.userLevel?Object(x.b)("vip"):Object(x.b)("vipAbove")).replace("%s",String(o.userLevel-1))):null,o.description||o.couponDesc))}var G=n(55),Y=n.n(G),J=n(34),K=n.n(J),q=n(270),Q=n(950),$=n(130),X=n(149),Z=n(53),ee=n(33);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=0,oe="ios"===b.a.OS?re:X.a.currentHeight;"ios"===b.a.OS&&Object(ee.e)().then((function(e){re=e})).catch((function(){re=0}));var ie=Object(L.x)("shop").screenHeight,ae=function(e){return N.a.create({bgAll:{backgroundColor:e.C33.color+e.opacityMap[e.C33.opacity],maxHeight:.7*ie,paddingBottom:16,paddingTop:14,borderRadius:24,marginBottom:"web"===b.a.OS?0:48},mask:{position:"web"===b.a.OS?"fixed":"absolute",top:"web"===b.a.OS?0:oe,right:0,width:"100%",height:"100%",paddingHorizontal:12,bottom:24,zIndex:9998,elevation:9998,backgroundColor:e.C80.color+e.opacityMap[e.C80.opacity],justifyContent:"flex-end",paddingBottom:12},title:ne(ne({fontSize:20,lineHeight:28},e.C11),{},{fontFamily:Z.a.fontFamilyMedium}),titleLayout:{paddingHorizontal:24,height:28,marginBottom:14},knowText:ne(ne({fontSize:16,lineHeight:22},e.C18),{},{fontFamily:Z.a.fontFamilyMedium}),btn:{height:22,marginTop:17,paddingHorizontal:24,alignItems:"center"},webview:{overflow:"hidden",backgroundColor:e.C33.color+e.opacityMap[e.C33.opacity]},webviewLayout:{maxHeight:.7*ie-112,overflow:"scroll",paddingLeft:24,paddingRight:4},webhtmlLayout:{marginRight:4}})},le=n(64),se=n.n(le),ce="shopRuleModal";function ue(e){var t=Object(L.x)("shop").screenHeight,n=e.ruleDesc,r=e.modalVisible,o=e.closeModal,i=Object(y.useState)('\n  <html>\n    <head>\n      <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    </head>\n    <body style="padding:0;margin:0;padding-right:20px">\n      '.concat(n,"\n    </body>\n  </html>\n  ")),a=Y()(i,1)[0],l=Object(y.useState)(0),s=Y()(l,2),c=s[0],u=s[1],d=function(){"web"===b.a.OS&&setTimeout((function(){document.documentElement.style.overflowY="scroll";var e=document.getElementById(ce);K()(e)||document.body.removeChild(e)}),100),o()},p=function(e){var t=e.nativeEvent.data||{},n="string"==typeof t?JSON.parse(t):t;"setHeight"===n.type&&n.height>0&&u(n.height)};return v.a.createElement(E.b,{themeStyles:ae},(function(e,o,i){if("web"===b.a.OS){if(!r)return null;var l=document.getElementById(ce)||{};if(K()(l)){var s=document.createElement("div");s.setAttribute("id",ce),document.body.appendChild(s),se.a.render(v.a.createElement(O.a,{style:e.mask},v.a.createElement(O.a,{style:[e.bgAll,{width:i-24}]},v.a.createElement(O.a,{style:e.titleLayout},v.a.createElement(C.a,{style:e.title},"活动规则")),v.a.createElement(q.a,{style:e.webhtmlLayout,showsVerticalScrollIndicator:!0,nativeID:"ruleModal"},v.a.createElement("section",{style:{marginLeft:24,marginRight:18,wordBreak:"break-all",fontSize:16},className:"car-attr-content",dangerouslySetInnerHTML:{__html:n}})),v.a.createElement(S.a,{style:e.btn,onPress:d},v.a.createElement(C.a,{style:e.knowText},"知道了")))),document.getElementById(ce))}return null}return v.a.createElement(Q.a,{animationType:"fade",transparent:!0,visible:r,statusBarTranslucent:!0},v.a.createElement(O.a,{style:e.mask},v.a.createElement(O.a,{style:[e.bgAll,{width:i-24}]},v.a.createElement(O.a,{style:e.titleLayout},v.a.createElement(C.a,{style:e.title},"活动规则")),v.a.createElement(O.a,{style:[e.webviewLayout,{height:c}]},v.a.createElement($.WebView,{style:e.webview,injectedJavaScript:"\n  var children = document.getElementsByTagName(\"p\");\n  for(var i = 0; i < children.length; i++) {\n    children[i].style.wordBreak = 'break-all';\n    children[i].style.margin = 0;\n    children[i].style.padding = 0;\n  }\n  (function () {\n    var height = null;\n    function changeHeight() {\n      if (document.body.scrollHeight != height) {\n        height = document.body.scrollHeight;\n        if (window.postMessage) {\n          window.ReactNativeWebView.postMessage(\n            JSON.stringify({\n              type: 'setHeight',\n              height: height,\n            }),\n          );\n        }\n      }\n    }\n    setInterval(changeHeight, 100);\n  })();\n",javaScriptEnabled:!0,decelerationRate:"normal",startInLoadingState:!0,scalesPageToFit:!1,originWhitelist:["*"],source:{html:a,baseUrl:""},bounces:!1,scrollEnabled:!0,showsVerticalScrollIndicator:c>.7*t-112,showsHorizontalScrollIndicator:!1,contentInset:{top:0,left:0},onMessage:p})),v.a.createElement(S.a,{style:e.btn,onPress:d},v.a.createElement(C.a,{style:e.knowText},"知道了")))))}))}var de,pe=n(118),fe=n(29);function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var ge=0,me=0,ye=Object(M.c)(de=function(e){u()(n,e);var t=he(n);function n(e){var r,i;return o()(this,n),i=t.call(this,e),m()(s()(i),"wapTimer",null),m()(s()(i),"shopCollectTimer",null),m()(s()(i),"shopReveiveNums",0),m()(s()(i),"isQQWap",(function(){var e,t,n;return"web"===b.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"))})),m()(s()(i),"isIosPhone",(function(){var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent;return!(null==t||!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))})),m()(s()(i),"getMpLogin",(function(){var e,t,n,r;return!!(null===(e=getApp())||void 0===e||null===(t=e.globalData)||void 0===t?void 0:t.userInfo)||(Object(L.u)(),null===(n=getApp())||void 0===n||null===(r=n.globalData)||void 0===r?void 0:r.userInfo)})),m()(s()(i),"goToURL",(function(e,t,n,r,o,a,l){var c,u=i.props,d=u.pwidth,p=u.cardId,f=(u.pageType,d);if(2==r&&(c=T.a.isPc(f)?"".concat(R.a.webDomain,"product/coupon/queryPrdForCoupon"):T.a.isWap(f)||Object(L.F)()?"".concat(R.a.wapDomain,"member/couponPrd/list?batchCode=").concat(n):"vmall://com.vmall.client/product/coupon?couponBatchCode=".concat(n)),Object(L.F)()){var h,g,m,y,v,b;Object(j.a)({actionCode:"410000101",actionName:"优惠券"+(e||""),eventType:H.e.EVENT_TYPE_CLICK,pageId:(null===(h=s()(i))||void 0===h||null===(g=h.props)||void 0===g?void 0:g.pageId)||"",content:{comId:(null==p?void 0:p.toString())||"",gotoPageId:"",gotoURL:c||"",ruleId:"",sId:"",row:(null==a?void 0:a.toString())||"",column:(null==l?void 0:l.toString())||"",index:null==o?void 0:o.toString(),dataCode:n,dateType:"4",clickType:"34",index_name:e},pageCatCode:null===(m=i.props)||void 0===m?void 0:m.pageCatCode,pageCatName:null===(y=i.props)||void 0===y?void 0:y.pageCatName,resSiteCode:null===(v=i.props)||void 0===v?void 0:v.resSiteCode,resSiteName:null===(b=i.props)||void 0===b?void 0:b.resSiteName})}else{var w=i.props,S=w.pageCatCode,C=w.pageCatName,O=w.resSiteCode,P=w.resSiteName;i.props.onReportDataCoupon&&i.props.onReportDataCoupon(e,c,o,n,a,l,Object(L.F)()?"4":T.a.isApp()?"1":T.a.isWap(f)?"2":"3",p,r,S,C,O,P)}Object(j.b)("",!0)})),m()(s()(i),"_shopPotalCode",(function(){return"web"===b.a.OS?T.a.isWap(i.state.width)?"2":"1":T.a.isApp()?"3":void 0})),m()(s()(i),"receiveCoupon",(function(e,t,n){i.shopReveiveNums++;var r=i.props,o=r.pwidth,a=r.pageType,l=o;i.shopCollectTimer=setTimeout((function(){Object(_.e)(e,t,n).then((function(r){if(r&&r.success)w.a.emit("showToast",{text:(T.a.isApp()?r.appReviceSuccTip:T.a.isWap(l)?r.wapReviceSuccTip:r.pcReviceSuccTip)||r.msg||Object(x.b)("receivedSuccessfully"),pageType:a,randomId:i.props.randomId}),i.shopReveiveNums=0,i.setState({receiveStates:r.state});else{for(w.a.emit("showToast",{text:r.errorTip||r.msg||(T.a.isApp()?r.appReviceFinishTip:T.a.isWap(l)?r.wapReviceFinishTip:r.pcReviceFinishTip)||Object(x.b)("collectionFailed"),pageType:a,randomId:i.props.randomId}),i.shopCollectTimer&&clearTimeout(i.shopCollectTimer);i.shopReveiveNums<3&&!["9212","9214"].includes(r.code);)return i.receiveCoupon(e,t,n);i.shopReveiveNums=0}}))}),500)})),m()(s()(i),"handleShopCollectCoupon",(function(e,t,n){var r=i.props,o=r.pwidth,a=r.carrierCode,l=o;if(i.props.isLogin){var s="".concat(R.a.openApiDomain,"sc/shop/followShop?lang=zh-CN&country=CN");fe.a.post(s,{followType:1,carrierCode:a,portal:i._shopPotalCode()}).then((function(r){if(r.success){if(pe.a.setFollow("collectFollow"),1==n)i.receiveCoupon(e,t,a);else if(2==n){var o="";o=T.a.isPc(l)?"".concat(R.a.webDomain,"product/coupon/queryPrdForCoupon"):T.a.isWap(l)||Object(L.F)()?"".concat(R.a.wapDomain,"member/couponPrd/list?batchCode=").concat(t):"vmall://com.vmall.client/product/coupon?couponBatchCode=".concat(t),T.a.isPc(l)?i.postForm({url:o,batchCode:t,CsrfToken:I.a.get("CSRF-TOKEN")}):Object(L.A)(o)}w.a.emit("reLoadcoupon",n)}}))}else i._toLogin()})),m()(s()(i),"couponsTapDetail",(function(e,t,n,r,o,a,l){var s,c=i.props,u=c.pwidth,d=(c.cardId,c.pageType),p=c.componentName,f=c.carrierCode,h=u;if(2==r&&(s=T.a.isPc(h)?"".concat(R.a.webDomain,"product/coupon/queryPrdForCoupon"):T.a.isWap(h)||Object(L.F)()?"".concat(R.a.wapDomain,"member/couponPrd/list?batchCode=").concat(n):"vmall://com.vmall.client/product/coupon?couponBatchCode=".concat(n)),T.a.isApp()||i.wapIsLogin()||Object(L.F)())if(i.props.isLogin||Object(L.F)()&&i.getMpLogin()){if("collectShop"===p&&"false"===pe.a.isFollow)return i.handleShopCollectCoupon(t,n,r);if(1==r)Object(_.e)(t,n,f).then((function(e){e&&e.success?(Object(L.F)()?wx.showToast({title:e.wapReviceSuccTip||e.msg||Object(x.b)("receivedSuccessfully"),icon:"none",duration:1500}):w.a.emit("showToast",{text:(T.a.isApp()?e.appReviceSuccTip:T.a.isWap(h)?e.wapReviceSuccTip:e.pcReviceSuccTip)||e.msg||Object(x.b)("receivedSuccessfully"),pageType:d,randomId:i.props.randomId}),i.setState({receiveStates:e.state})):Object(L.F)()?wx.showToast({title:e.errorTip||e.msg||e.wapReviceFinishTip||Object(x.b)("collectionFailed"),icon:"none",duration:1500}):w.a.emit("showToast",{text:e.errorTip||e.msg||(T.a.isApp()?e.appReviceFinishTip:T.a.isWap(h)?e.wapReviceFinishTip:e.pcReviceFinishTip)||Object(x.b)("collectionFailed"),pageType:d,randomId:i.props.randomId})}));else if(2==r)if(T.a.isPc(h))i.postForm({url:s,batchCode:n,CsrfToken:I.a.get("CSRF-TOKEN")});else if(Object(L.F)()){var g="/packageUserCenter/pages/couponGoods/couponGoods?batchcode="+n;Object(L.A)(g)}else Object(L.A)(s);w.a.emit("reLoadcoupon",r)}else w.a.emit("isLogin",i.props.isLogin);else{var m=window.location.href,y="".concat(R.a.webDomain,"account/login?url=").concat(encodeURIComponent(m));Object(L.A)(y)}})),m()(s()(i),"couponsTap",(function(e,t,n,r,o,a,l){me=(new Date).getTime()-ge,ge=(new Date).getTime(),me<500||(i.goToURL(e,t,n,r,o,a,l),i.wapTimer&&clearTimeout(i.wapTimer),i.wapTimer=setTimeout((function(){i.couponsTapDetail(e,t,n,r,o,a,l)}),150))})),m()(s()(i),"wapIsLogin",(function(){return I.a.get("uid")})),m()(s()(i),"_potalCode",(function(){var e=i.props.width;return T.a.isPc(e)?"1":"2"})),m()(s()(i),"_toLogin",(function(){var e="";if("web"===b.a.OS){var t=window.location.href;e="".concat(R.a.webDomain,"account/login?url=").concat(encodeURIComponent(t))}else T.a.isApp()&&(e="vmall://com.vmall.client/home/login");Object(L.A)(e)})),m()(s()(i),"getDate",(function(e){var t=new Date(e),n=function(e){return(e<10?"0":"")+e};return t.getFullYear()+"."+n(t.getMonth()+1)+"."+n(t.getDate())})),m()(s()(i),"currRef",(function(e){"function"==typeof i.props.receiveRef&&i.props.receiveRef(e)})),m()(s()(i),"openShopRuleModal",(function(){i.setState({shopRuleModalVisible:!0})})),m()(s()(i),"closeShopRuleModal",(function(){i.setState({shopRuleModalVisible:!1})})),m()(s()(i),"renderShopRuleBtn",(function(e){var t=i.props,n=t.componentName,r=t.ruleDesc;return v.a.createElement(v.a.Fragment,null,"collectShop"===n&&r?v.a.createElement(S.a,{activeOpacity:1,onPress:i.openShopRuleModal},v.a.createElement(C.a,{style:e.shopCouponRules},"查看规则")):null)})),m()(s()(i),"getCouponBtnText",(function(e){var t=i.props.componentName,n=i.state.receiveStates,r="collectShop"===t?"followReceive":"receive";return Object(x.b)(1==n?0==(e.receiveExpendType?e.receiveExpendType:0)?r:"convert":"to_use")})),m()(s()(i),"renderCouponItem",(function(e){var t=i.props,n=t.layoutType,r=void 0===n?"OneColumnLayout":n,o=t.pwidth,a=t.cwidth,l=void 0===a?392:a,c=t.item,u=t.isPadHorizontal,d=void 0!==u&&u,p=t.index,f=t.row,h=t.column,g=t.mergeStyle,m=t.ruleDesc,y=void 0===m?"":m,w=t.componentName,I=o,E="small"===Object(k.a)(I)&&"TwoColumnLayout"===r,j=i.state,R=j.receiveStates,_=j.shopRuleModalVisible,N=l-(162+(d||T.a.isPc(o)?16:8)+(c.userLevel>0?34:0)),W=l/2-4,A=null==g?void 0:g._bgColor,B="collectShop"===w&&1==R&&0==(c.receiveExpendType?c.receiveExpendType:0);return v.a.createElement(O.a,{ref:i.currRef,style:[e.container,!g&&F.a.darkBool?4==R?e.darkBackgroundColor_grey:3==c.couponType?e.darkBackgroundColor_blue:e.darkBackgroundColor_red:4==R?e.normalBackgroundColor_grey:3==c.couponType?e.normalBackgroundColor_blue:e.normalBackgroundColor_red,{width:E?W:l}]},v.a.createElement(O.a,{style:["ScrollLayoutOne"!==r||T.a.isPc(I)?e.couponName:e.couponSName,e.currency_c]},v.a.createElement(O.a,{style:e.currency},1==c.couponType?v.a.createElement(C.a,{style:[4==R?e.couponCurrency_g:e.couponCurrency,{marginTop:"web"===b.a.OS?4:6,width:9,marginRight:1}]},"¥"):null,v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:4==R?3==c.couponType?e.couponPrice_g_b:e.couponPrice_g:3==c.couponType?e.couponPrice_b:e.couponPrice},2==c.couponType?10*(c.couponRat||c.discount):1==c.couponType?c.couponVal||c.amount:Object(x.b)("free_mail")),2==c.couponType?v.a.createElement(C.a,{style:[{marginTop:4},4==R?e.discount_g:e.discount]},Object(x.b)("discount")):null),v.a.createElement(v.a.Fragment,null,c.amtMin&&c.amtMin>0?v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:4==R?e.subName_g:3==c.couponType?e.subName_b:e.subName},Object(x.b)("available").replace("%d",c.amtMin)):null)),v.a.createElement(v.a.Fragment,null,v.a.createElement(P.a,{source:4==R?D.a.dash_g:3==c.couponType?D.a.dash_b:D.a.dash_r,style:e.dash_line})),v.a.createElement(O.a,{style:[e.right,{justifyContent:E?"flex-end":"space-between",paddingLeft:d&&"ScrollLayoutOne"!==r||T.a.isPc(I)?16:8}]},E?null:v.a.createElement(O.a,{style:[e.middle_container,"ScrollLayoutOne"!==r||T.a.isPc(I)?null:{alignSelf:"flex-start",marginTop:20}]},v.a.createElement(O.a,{style:[e.middle_c,{wordBreak:"break-all"}]},"ScrollLayoutOne"!==r||T.a.isPc(I)?v.a.createElement(v.a.Fragment,null,c.userLevel>0?v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[3==c.couponType?e.level_b:e.level,4==R?e.level_g:null,e.levelc,{overflow:"hidden",marginTop:"web"!==b.a.OS?2:null,marginBottom:"web"!==b.a.OS?-2:null,lineHeight:i.isQQWap()?16:14,paddingTop:i.isQQWap()&&!i.isIosPhone()?1:null}]},(6==c.userLevel?Object(x.b)("vip"):Object(x.b)("vipAbove")).replace("%s",String(c.userLevel-1))):null,v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[e.title,4==R?e.title_g:null,{maxWidth:N}]},c.description||c.couponDesc)):T.a.isApp()?v.a.createElement(V,{_styles:e,receiveStates:R,cwidth:l,item:c,isQQWap:i.isQQWap,isIosPhone:i.isIosPhone}):Object(L.F)()?v.a.createElement(U,{_styles:e,receiveStates:R,cwidth:l,item:c,isQQWap:i.isQQWap,isIosPhone:i.isIosPhone}):v.a.createElement(z,{_styles:e,receiveStates:R,cwidth:l,item:c,isQQWap:i.isQQWap,isIosPhone:i.isIosPhone})),!c.couponValidBgtime&&!c.beginDate||"ScrollLayoutOne"===r&&!T.a.isPc(I)?null:v.a.createElement(C.a,{style:4==R?e.effective_date_g:e.effective_date},i.getDate(c.couponValidBgtime||c.beginDate)," -"," ",i.getDate(c.couponValidEndtime||c.endDate))),v.a.createElement(O.a,{style:[e.operation_contain,{width:E?74:76}]},1==R||2==R?v.a.createElement(S.a,{activeOpacity:1,onPress:function(){i.couponsTapAll(c.couponName,c.activityCode,c.batchCode,R,p,f,h)}},v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[3==c.couponType?e.operation_b:e.operation,{lineHeight:"web"===b.a.OS?28:26,overflow:"hidden"},B&&{width:64}]},i.getCouponBtnText(c))):null,i.renderShopRuleBtn(e))),1!=R?v.a.createElement(P.a,{source:4==R?!g&&F.a.darkBool?Object(L.F)()?{uri:D.a.ended_d}:D.a.ended_d:Object(L.F)()?{uri:D.a.ended}:D.a.ended:3==c.couponType?-1==R?Object(L.F)()?{uri:D.a.finished_b}:D.a.finished_b:2==R?Object(L.F)()?{uri:D.a.claimed_b}:D.a.claimed_b:3==R?Object(L.F)()?{uri:D.a.notstart_b}:D.a.notstart_b:null:-1==R?Object(L.F)()?{uri:D.a.finished_r}:D.a.finished_r:2==R?Object(L.F)()?{uri:D.a.claimed_r}:D.a.claimed_r:3==R?Object(L.F)()?{uri:D.a.notstart_r}:D.a.notstart_r:null,style:[e.watermark,{right:2==R?52:E?8:16}]}):null,v.a.createElement(P.a,{source:!g&&F.a.darkBool?D.a.coupon_lines_dark:D.a.coupon_lines,style:e.lines}),v.a.createElement(O.a,{style:[e.topSemicircle,{left:"ScrollLayoutOne"!==r||T.a.isPc(I)?80:70},A?{backgroundColor:A}:null]}),v.a.createElement(O.a,{style:[e.bottomSemicircle,{left:"ScrollLayoutOne"!==r||T.a.isPc(I)?80:70},A?{backgroundColor:A}:null]}),v.a.createElement(ue,{modalVisible:_,ruleDesc:y,closeModal:i.closeShopRuleModal.bind(s()(i))}))})),m()(s()(i),"_themeStyles",(function(e){return function(e,t){return t&&(e=W.a),N.a.create({container:{display:"flex",justifyContent:"space-between",flexDirection:"row",borderRadius:8,height:72},container_r:{backgroundColor:e.C95.color+"19"},container_b:{backgroundColor:e.C91.color+"19"},container_g:{backgroundColor:e.C39.color+"0c"},container_r_d:{backgroundColor:e.C95.color+"33"},container_b_d:{backgroundColor:e.C91.color+"33"},container_g_d:{backgroundColor:e.C39.color+"21"},normalBackgroundColor_red:{backgroundColor:"#FEF6F8"},normalBackgroundColor_blue:{backgroundColor:"#ECF7FC"},normalBackgroundColor_grey:{backgroundColor:"#F2F2F2"},darkBackgroundColor_red:{backgroundColor:"#2E0E15"},darkBackgroundColor_blue:{backgroundColor:"#0E242E"},darkBackgroundColor_grey:{backgroundColor:"#333333"},couponName:{width:85},couponSName:{width:74.8},couponPrice:B(B({},e.C95),e.T13),couponPrice_b:B(B({},e.C91),e.T12),couponPrice_g:B(B({},e.C15),e.T13),couponPrice_g_b:B(B({},e.C15),e.T12),couponCurrency:B(B(B({},e.C95),e.T7),{},{textAlign:"center"}),couponCurrency_g:B(B(B({},e.C15),e.T7),{},{textAlign:"center"}),discount:B(B({},e.C95),e.T7),discount_g:B(B({},e.C15),e.T7),currency_c:{display:"flex",justifyContent:"center",alignItems:"center"},currency:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},subName:B(B(B({},e.C95),e.T1),{},{textAlign:"center"}),subName_b:B(B(B({},e.C91),e.T1),{},{textAlign:"center"}),subName_g:B(B(B({},e.C15),e.T1),{},{textAlign:"center"}),topSemicircle:{width:10,height:5.2,borderTopLeftRadius:0,borderTopRightRadius:0,borderBottomLeftRadius:5,borderBottomRightRadius:5,position:"absolute",top:-.2,padding:0,backgroundColor:e.C32.color},bottomSemicircle:{width:10,height:5.2,borderTopLeftRadius:5,borderTopRightRadius:5,borderBottomLeftRadius:0,borderBottomRightRadius:0,position:"absolute",bottom:-.2,padding:0,backgroundColor:e.C32.color},dash_line:{width:1,height:56,marginTop:11},right:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",zIndex:2},operation_contain:{display:"flex",justifyContent:"center",alignItems:"center"},operation:B(B(B({height:28,width:56,borderRadius:14,alignItems:"center",backgroundColor:e.C95.color},e.C17),e.T3),{},{textAlign:"center"}),operation_b:B(B(B({height:28,width:56,borderRadius:14,alignItems:"center",backgroundColor:e.C91.color},e.C17),e.T3),{},{textAlign:"center"}),middle_container:{flex:1,display:"flex",alignItems:"flex-start"},middle_c:{display:"flex",flexDirection:"row"},title:B(B(B({},e.T4),e.C12),{},{textAlign:"left"}),title_g:B(B({},e.T4),e.C15),levelc:{marginRight:2,minWidth:34,height:14},level:B(B(B({},e.C17),e.T1),{},{paddingLeft:2,paddingRight:2,textAlign:"center",backgroundColor:e.C95.color,borderRadius:4,marginRight:2}),level_b:B(B(B({},e.C17),e.T1),{},{paddingLeft:2,paddingRight:2,textAlign:"center",backgroundColor:e.C91.color,borderRadius:4,marginRight:2}),level_g:{backgroundColor:e.C15.color+"66"},effective_date:B(B(B({},e.C13),e.T1),{},{marginTop:6}),effective_date_g:B(B(B({},e.C15),e.T1),{},{marginTop:6}),watermark:{width:76,height:72,position:"absolute",zIndex:1},lines:{position:"absolute",top:0,right:0,width:46,height:51,zIndex:0,opacity:.6},hiddenCopywriting:{opacity:0,color:"transparent",fontSize:12},shopCouponRules:B(B(B({},e.C14),e.T1),{},{textDecorationLine:"underline",marginTop:6})})}(e,i.props.mergeStyle)})),i.state={receiveStates:null!==(r=e.item.receiveStates||e.item.state)&&void 0!==r?r:-1,shopRuleModalVisible:!1},i}return a()(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.wapTimer&&clearTimeout(this.wapTimer),this.shopCollectTimer&&clearTimeout(this.shopCollectTimer)}},{key:"couponsTapAll",value:function(e,t,n,r,o,i,a){Object(L.F)()?(this.goToURL(e,t,n,r,o,i,a),this.couponsTapDetail(e,t,n,r,o,i,a)):this.couponsTap(e,t,n,r,o,i,a)}},{key:"postForm",value:function(e){var t=document.createElement("form");for(var n in t.action=e.url,t.method="post",t.target="_blank",t.style.display="none",e){var r=document.createElement("input");r.name=n,r.value=e[n],t.appendChild(r)}document.body.appendChild(t),t.submit(),document.body.removeChild(t)}},{key:"render",value:function(){var e=this;return v.a.createElement(E.b,{themeStyles:this._themeStyles},(function(t){return v.a.createElement(v.a.Fragment,null,e.renderCouponItem(t))}))}}]),n}(v.a.Component))||de},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(43),S=n(157),C=n(152),O=n(126),P=n(87),T=n(431),x=n(49),I=n(45),k=n.n(I),E=n(40),j=n(432),R=n(48),L=n(102),_=n(185),D=n(24),N=n(19),W=n(57);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){return W.a.create({mainBox:B(B({},e.S31),{},{borderRadius:8}),titleWrap:{flexDirection:"row",justifyContent:"center",alignItems:"center",height:40,borderTopLeftRadius:8,borderTopRightRadius:8},titleIcon:{width:16,height:16},titleText:B(B(B({},e.C11),e.T8),{},{marginLeft:4,lineHeight:20}),prdsWrap:{paddingLeft:8,paddingRight:8,flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},prdWrap:{width:"42.5%",marginBottom:4},prdImgWrap:{width:"100%",height:"100%",backgroundColor:e.C32.color,borderRadius:8,position:"relative",alignItems:"center",justifyContent:"center"},prdImg:{width:"82.4%",height:"82.4%"},prdName:B(B(B({},e.T1),e.C11),{},{marginTop:8,marginBottom:8})})},F=n(3),H=n(11),z=n(10),U=n(21),V={clickItem:function(e,t){var n=e.prdName,r=e.comId,o=e.ruleId,i=e.sId,a=e.gotoURL,l=e.prefix,s=e.dataCode,c=e.productId,u=this.props||{},d=u.pageId,p=u.pageCatCode,f=u.pageCatName,h=u.resSiteCode,g=u.resSiteName;return{data:{actionCode:l.platformType+l.eventID,actionName:"猜你喜欢-商品卡片-点击-"+n,eventType:z.e.EVENT_TYPE_CLICK,content:{comId:r,ruleId:o,sId:i,gotoURL:a,index:t,dataType:z.c.SKU,dataCode:s,clickType:"29",productId:c},pageId:d,pageCatCode:p,pageCatName:f,resSiteCode:h,resSiteName:g}}}},G=n(25);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var q=function(e){u()(n,e);var t=K(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"prefix",void 0),m()(s()(r),"eventListener",void 0),m()(s()(r),"animation",void 0),m()(s()(r),"handleAppStateChangeIos",(function(e){var t;"page"===(null==e?void 0:e.service)&&"pageLeave"===(null==e?void 0:e.action)&&null!=e&&null!==(t=e.param)&&void 0!==t&&t.isLeave&&r.props.hasAnimate&&r.animation.start()})),m()(s()(r),"handleAppStateChange",(function(e){"active"===e&&r.props.hasAnimate&&r.setState({hasAnimate:!0},(function(){r.setState({hasAnimate:!1})}))})),m()(s()(r),"getSize",(function(){return Object(E.a)(r.props.width)})),m()(s()(r),"isApp",(function(){return"small"===r.getSize()})),m()(s()(r),"isPad",(function(){return"medium"===r.getSize()})),m()(s()(r),"isPc",(function(){return"large"===r.getSize()})),m()(s()(r),"isApkOrIos",(function(){return"android"===b.a.OS||"ios"===b.a.OS})),m()(s()(r),"getPlatformPrefix",(function(){return{platformType:r.isApkOrIos()?z.f.APP:r.isPc()?z.f.PC:z.f.WAP,eventID:r.isApkOrIos()?z.d.APP:r.isPc()?z.d.PC:z.d.WAP}})),m()(s()(r),"receiveRef",(function(e){e&&e&&"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),m()(s()(r),"onClick",(function(e,t){var n,o={targetRoute:"ProductAlbumList",routeParams:{sceneId:"1,1,1,108",displayIds:e.productId,skuCode:e.skuCode,title:Object(j.b)("maybe_like")}},i=encodeURIComponent(JSON.stringify(o));n=r.isApkOrIos()?"vmall://com.vmall.client/home/smartlife?targetRoute=ProductAlbumList&sceneId=1,1,1,108&displayIds=".concat(e.productId,"&skuCode=").concat(e.skuCode,"&title=").concat(Object(j.b)("maybe_like"),"&pageId=").concat(r.props.pageId):"".concat(r.isApp()?H.a.wapDomain:H.a.webDomain,"portal/smartlife/index.html?smartLifeParams=").concat(i);var a={prdName:e.prdName,comId:e.comId+"",ruleId:e.ruleId,sId:e.sId,gotoURL:n,prefix:r.prefix,dataCode:e.skuCode+"",productId:e.productId+""};r.props.clickItem(a,t+""),Object(F.A)(n)})),m()(s()(r),"renderView",(function(e,t){var n=r.props,o=n.iWidth,i=n.customStyle?Object.assign(e,r.props.customStyle(t)):e;return v.a.createElement(w.a,{style:[i.mainBox,{width:o}],ref:r.receiveRef},v.a.createElement(k.a,{start:{x:0,y:0},end:{x:0,y:1},colors:["rgba(232,64,38,0.20)","rgba(232,64,38,0)"],style:[i.titleWrap]},v.a.createElement(S.a,{style:[i.titleIcon,r.isPad()&&i.titleIconPad],source:N.a.guessHeart}),v.a.createElement(C.a,{style:[i.titleText,r.isPad()&&i.titleTextPad]},Object(j.b)("maybe_like"))),v.a.createElement(w.a,{style:[i.prdsWrap,{width:o}]},r.state.dataList.map((function(e,t){return v.a.createElement(O.a,{onPress:function(){r.onClick(e,t)},activeOpacity:.7,key:e.productId,style:[i.prdWrap,{width:(o-24)/2}]},v.a.createElement(w.a,{style:[i.prdImgWrap,{height:(o-24)/2}]},v.a.createElement(D.a,{imgUri:e.imgUrl,imgStyle:[i.prdImg]})),v.a.createElement(C.a,{numberOfLines:1,style:[i.prdName,r.isPad()&&i.prdNamePad]},e.prdName))}))))})),r.state={dataList:e.guessReclist,fadeAnimate:new P.a.Value(R.a.isIOS()?.1:0),hasAnimate:!1},r}return a()(n,[{key:"componentDidMount",value:function(){this.prefix=this.getPlatformPrefix(),this.animation=P.a.timing(this.state.fadeAnimate,{toValue:1,duration:R.a.isIOS()?500:1200,useNativeDriver:!0}),!R.a.isIOS()&&this.animation.start(),T.a.addEventListener("change",this.handleAppStateChange),this.eventListener=R.a.isIOS()?x.a.addListener("NativeCallAction",this.handleAppStateChangeIos):null}},{key:"componentWillUnmount",value:function(){T.a.removeEventListener("change",this.handleAppStateChange),this.eventListener&&this.eventListener.remove()}},{key:"render",value:function(){var e=this;return v.a.createElement(L.b,{themeStyles:M},(function(t,n){return e.props.hasAnimate?v.a.createElement(P.a.View,{style:J(J({},e.props.style),{},{opacity:e.state.fadeAnimate})},e.renderView(t,n)):e.renderView(t,n)}))}}]),n}(y.PureComponent);m()(q,"defaultProps",{data:[]});t.a=Object(_.a)(Object(U.a)(V)(Object(G.a)(q)))},,,function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,l],u=0;(s=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=(r=function(){function e(){s()(this,e),a()(this,"hasDevices",o,this)}return u()(e,[{key:"setHasDevices",value:function(e){this.hasDevices=e}}]),e}(),o=p()(r.prototype,"hasDevices",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p()(r.prototype,"setHasDevices",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"setHasDevices"),r.prototype),r);t.a=new h},function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(1),p=n.n(d),f=n(18),h=n.n(f),g=(n(60),n(16)),m=new(r=function(){function e(){s()(this,e),p()(this,"invalidTime",6e5),a()(this,"tokens",o,this),p()(this,"time",null)}return u()(e,[{key:"compareTime",value:function(){var e=(new Date).getTime();return this.time?e-this.time>this.invalidTime&&(this.time=e,!0):(this.time=e,!0)}},{key:"getToken",value:function(e){this.tokens=e}}]),e}(),o=h()(r.prototype,"tokens",[g.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h()(r.prototype,"compareTime",[g.d],Object.getOwnPropertyDescriptor(r.prototype,"compareTime"),r.prototype),h()(r.prototype,"getToken",[g.d],Object.getOwnPropertyDescriptor(r.prototype,"getToken"),r.prototype),r);t.a=m},,,function(e,t,n){"use strict";var r=n(10);t.a={exposeItem:function(e){var t=this.props,n=t.id,o=t.pageId,i=t.pageCatCode,a=t.pageCatName,l=t.resSiteCode,s=t.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+"10000101",actionName:"子页签组件曝光",eventType:r.e.EVENT_TYPE_EXPOSURE,pageId:null==o?void 0:o.toString(),content:{comId:null==n?void 0:n.toString()},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}}},clickItem:function(e,t){var n=this.props,o=n.id,i=n.pageId,a=n.pageCatCode,l=n.pageCatName,s=n.resSiteCode,c=n.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"子页签-点击-"+(null==e?void 0:e.tabs[t]),eventType:r.e.EVENT_TYPE_CLICK,pageId:null==i?void 0:i.toString(),content:{comId:null==o?void 0:o.toString(),index:t.toString(),tabName:null==e?void 0:e.tabs[t],tabIndex:t.toString()},pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}},slideItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,i="子页签-滑动-",a=this.props,l=a.id,s=a.pageId,c=a.pageCatCode,u=a.pageCatName,d=a.resSiteCode,p=a.resSiteName,f={actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:i+(null==e?void 0:e.ref.props.heading),eventType:1===n?r.e.EVENT_TYPE_CLICK:o?r.e.EVENT_TYPE_LEFT_SLIDE:r.e.EVENT_TYPE_RIGHT_SLIDE,pageId:null==s?void 0:s.toString(),content:{comId:null==l?void 0:l.toString(),index:t.toString(),tabName:null==e?void 0:e.ref.props.heading,tabIndex:t.toString()},pageCatCode:c,pageCatName:u,resSiteCode:d,resSiteName:p};return{data:f}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(121),o=n(162),i=n(124),a=n(235),l=n(190),s=n(148),c=n(236),u=n(237),d=n(153),p=n(238),f=n(125),h=n(173),g=n(207),m=n(206),y=n(234),v=n(233),b={base:r.a,blank:o.a,groupComponent:p.a,ad:i.a,prod:a.a,hybrid:m.a,icon_grid:l.a,menu:s.a,bulletin:c.a,operation_des:u.a,footer:d.a,tools:f.a,orderDiscount:h.a,drawCard:g.a,crowdTest:y.a,prodRankList:v.a}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(57),a=n(53);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return i.a.create({pcBox:{height:64,width:"100%",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},wapBox:{height:56},webInner:{position:"relative",margin:"auto",width:1200},container:{flexDirection:"row",height:56,alignItems:"center",overflow:"hidden"},containerMore:{flexDirection:"row",height:56,alignItems:"center",overflow:"hidden",width:1128},containerApp:{height:56,paddingLeft:16,flexDirection:"row",alignItems:"center",overflow:"hidden"},containerPad:{height:56,paddingLeft:24,flexDirection:"row",alignItems:"center",overflow:"hidden"},maskWhite:{width:16,height:56,position:"absolute",right:0},maskGray:{width:16,height:"100%",position:"absolute",right:0},moreStyle:{position:"absolute",right:0,height:56},moreTitleBox:{display:"flex",flexDirection:"row",alignItems:"center"},moreText:s(s(s({fontFamily:a.a.fontFamilyBase},e.T7),e.C14),{},{height:56,lineHeight:56,width:60,textAlign:"right"}),tabs:{backgroundColor:e.C32.color,flexDirection:"row",justifyContent:"flex-start",paddingLeft:16,height:56},item:{marginRight:40,height:"100%",justifyContent:"center"},tabItem:{marginRight:24,alignItems:"center",justifyContent:"center"},text:s(s({textAlign:"center",overflow:"hidden",fontFamily:a.a.fontFamilyBase},e["T11-1"]),e.C13),textHover:s(s({textAlign:"center",overflow:"hidden",fontFamily:a.a.fontFamilyBase},e["T11-1"]),e.C18),textActive:s(s({textAlign:"center",overflow:"hidden",fontFamily:a.a.fontFamilyBase},e.T13),e.C11),textApp:s(s(s({fontFamily:a.a.fontFamilyBase},e.T9),e.C11),{},{marginLeft:"auto",marginRight:"auto"}),textAppActive:s(s(s({fontFamily:a.a.fontFamilyBase},e.T10),e.C11),{},{marginLeft:"auto",marginRight:"auto",color:e.C18.color}),textSun:s(s({fontFamily:a.a.fontFamilyBase},e.T3),e.C13),textSunActive:s(s(s({fontFamily:a.a.fontFamilyBase},e.C33),e.T4),{},{marginLeft:"auto",marginRight:"auto"}),boxSun:{marginLeft:"auto",marginRight:"auto",marginTop:3,paddingLeft:5,paddingRight:5},boxSunActive:{marginLeft:"auto",marginRight:"auto",backgroundColor:e.C18.color,borderRadius:16,marginTop:2,paddingTop:1,paddingLeft:5,paddingRight:5},line:{borderBottomColor:e.C18.color,borderStyle:"solid",borderBottomWidth:2,borderRadius:16,position:"absolute",top:48},tabsTop:s({},e.S32),tabsTopPc:s({},e.S31),tabsDefault:{},tabsImage:{width:64,height:44,marginRight:24,resizeMode:"contain"}})}},function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(57),a=n(53);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return i.a.create({pcBox:{height:64,width:"100%",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},wapBox:{height:48},webInner:{position:"relative",margin:"auto",width:1200},container:{flexDirection:"row",height:48,alignItems:"flex-start",maxWidth:1200},containerApp:{height:48,paddingLeft:16,flexDirection:"row",alignItems:"flex-start",overflow:"hidden"},containerPad:{height:48,paddingLeft:24,flexDirection:"row",alignItems:"flex-start",overflow:"hidden"},maskWhite:{width:16,height:48,position:"absolute",right:0},maskGray:{width:16,height:"100%",position:"absolute",right:0},moreStyle:{position:"absolute",right:0,height:48,top:4},moreTitleBox:{display:"flex",flexDirection:"row",alignItems:"center"},moreText:s(s(s({fontFamily:a.a.fontFamilyBase},e.T7),e.C14),{},{height:48,lineHeight:48}),tabs:{backgroundColor:e.C32.color,flexDirection:"row",justifyContent:"flex-start",paddingLeft:16,height:48},item:{marginRight:40,height:"100%",justifyContent:"center"},tabItem:{marginTop:8,marginRight:24,alignItems:"flex-start",justifyContent:"flex-start"},text:s(s({fontFamily:a.a.fontFamilyBase},e["T11-1"]),e.C13),textHover:s(s({fontFamily:a.a.fontFamilyBase},e["T11-1"]),e.C18),textActive:s(s({fontFamily:a.a.fontFamilyBase},e.T13),e.C11),textApp:s(s(s({fontFamily:a.a.fontFamilyBase},e.T9),e.C11),{},{marginLeft:"auto",marginRight:"auto"}),textAppActive:s(s(s({fontFamily:a.a.fontFamilyBase},e.T10),e.C11),{},{marginLeft:"auto",marginRight:"auto",color:e.C18.color}),textSun:s(s({fontFamily:a.a.fontFamilyBase},e.T3),e.C13),textSunActive:s(s(s({fontFamily:a.a.fontFamilyBase},e.C33),e.T4),{},{marginLeft:"auto",marginRight:"auto"}),boxSun:{marginLeft:"auto",marginRight:"auto",marginTop:3,paddingLeft:5,paddingRight:5},boxSunActive:{marginLeft:"auto",marginRight:"auto",backgroundColor:e.C18.color,borderRadius:16,marginTop:2,paddingTop:1,paddingLeft:5,paddingRight:5},line:{borderBottomColor:e.C18.color,borderStyle:"solid",borderBottomWidth:2,borderRadius:16,position:"absolute",top:36},tabsTop:s({},e.S32),tabsTopPc:s({},e.S31),tabsDefault:{},tabsImage:{width:64,height:44,marginRight:24,resizeMode:"contain"}})}},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(43),C=n(57),O=function(e){return C.a.create({loadingTitle:{fontSize:14,color:e.C13.color,opacity:e.C13.opacity},load:{margin:"auto",position:"absolute",top:80},viewPad:{marginLeft:24,marginRight:24,borderRadius:16,overflow:"hidden"},viewApp:{marginLeft:16,marginRight:16,borderRadius:16,overflow:"hidden"}})},P=n(40),T=n(102),x=n(185),I=n(50),k=n(81),E=n(17),j=n.n(E),R=n(26),L=n.n(R),_=n(54),D=n(49),N=n(37),W=n(183),A=n(433),B=n(48),M=n(1738),F=n(23),H=n(3),z=n(446),U=n(126),V=n(152),G=n(953),Y=n(87),J=n(270),K=n(103),q=n(53);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){return C.a.create({contentBox:$({borderRadius:16,flexDirection:"column",justifyContent:"flex-start",overflow:"hidden"},e.S31),bigCardUser:{height:32,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexShrink:1},bigCardUserImg:{width:32,height:32,borderRadius:64},bigCardUserName:$($($({marginLeft:6,flexShrink:1},e.T10),e.C12),{},{fontFamily:q.a.fontFamilyMedium}),bigCardTitle:{backgroundColor:e.C70.color+"0c",height:28,borderRadius:56,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexShrink:1},bigCardNoTitle:{height:28},bigCardTitleContent:$($($({},e.T4),e.C12),{},{marginLeft:8,marginRight:8,flexShrink:1,fontFamily:q.a.fontFamilyMedium}),Title:$($({},e.T10),{},{color:e.C12.color,opacity:.9,fontFamily:q.a.fontFamilyMedium}),bigCardContent:$($($({marginBottom:16,flexShrink:1},e.T7),e.C22),{},{fontFamily:q.a.fontFamilyBase}),bigCardMore:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},bigCardDate:$($($({},e.C15),e.T3),{},{fontFamily:q.a.fontFamilyBase}),bigCardSvgAndLikes:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},bigCardUnLikeSvg:{marginRight:3,width:64,height:40,alignItems:"flex-end",justifyContent:"center"},bigCardLikes:$($($({},e.C15),e.T1),{},{fontFamily:q.a.fontFamilyBase}),img:{width:"100%",height:"100%",backgroundColor:e.C34.color},itemStyle:$($({},e.S31),{},{borderRadius:8,flexDirection:"column",alignItems:"center",justifyContent:"space-between"}),imageContainer:{borderRadius:8},productImage:{borderRadius:8,marginBottom:8,backgroundColor:e.C39.color,opacity:e.C39.opacity},productPrice:{fontFamily:"ios"===N.a.OS?null:"LucidaGrande",fontSize:12,fontWeight:"400",color:e.C24.color,opacity:e.C13.opacity},dotView:{height:48,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},dot:{backgroundColor:e.C24.color,opacity:.05,width:4,height:4,borderRadius:8,marginRight:8},activeDot:{backgroundColor:e.C24.color,opacity:e.C24.opacity,width:4,height:4,borderRadius:8,marginRight:8},leftButtonShow:{width:48,height:48},rightButtonShow:{width:48,height:48,marginRight:-12},leftButton:{width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,backgroundColor:e.C24.color+"33",alignItems:"center",justifyContent:"center"},leftButtonActive:{backgroundColor:e.C33.color+"19",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},rightButton:{backgroundColor:e.C24.color+"33",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},rightButtonActive:{backgroundColor:e.C33.color+"19",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},imageButton:{width:24,height:24,top:16,left:16,zIndex:1},button_circle:{position:"absolute",width:24,height:24,borderRadius:26,borderColor:"#97979733",borderWidth:.5}})},Z=n(19),ee=n(20),te=n(30),ne=n(51),re=n(38),oe=n(25),ie=n(96),ae=n(12),le=n(21),se=n(22),ce=n(10),ue={clickItem:function(e){var t,n=this.props,r=n.pageCatCode,o=n.pageCatName,i=n.resSiteCode,a=n.resSiteName;return{data:{actionCode:"android"===N.a.OS||"ios"===N.a.OS?110000101:210000101,actionName:"点击相应热区",eventType:ce.e.EVENT_TYPE_CLICK,content:{comId:e.comId||"",gotoPageURL:e.gotoURL||"",dataCode:e.TypeName||"",dataType:"17",row:e.row+""||"",coloum:e.coloum+""||"",index:null===(t=e.index)||void 0===t?void 0:t.toString(),clickType:e.clickIndex+""||"",nextPage:e.nextPage+""||""},pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a}}}},de=n(24),pe=n(46),fe=function(){return C.a.create({picturesDotView:{height:32,position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},picturesDot:{backgroundColor:"#00000019",minWidth:6,width:6,height:6,borderRadius:6,marginLeft:4,marginRight:4},picturesActiveDot:{backgroundColor:"#FFFFFF",width:12,height:6,borderRadius:6,marginLeft:4,marginRight:4},buttonLeftCover:{position:"absolute",width:56,height:56,left:0},buttonRightCover:{position:"absolute",width:56,height:56,right:0},button:{backgroundColor:"#00000033",width:24,height:24,top:16,left:16,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},button_circle:{position:"absolute",width:24,height:24,borderRadius:26,borderColor:"#FFFFFF33",borderWidth:.5,zIndex:3}})};function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ge,me,ye,ve,be,we=function(e){p()(n,e);var t=he(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"scrollView",void 0),v()(u()(r),"timer",void 0),v()(u()(r),"timer1",void 0),v()(u()(r),"pictureWidth",void 0),v()(u()(r),"imgList_picture",void 0),v()(u()(r),"refScrollView",(function(e){r.scrollView=e})),r.state={currentPicture:1},r}return s()(n,[{key:"onScrollEnd",value:function(e){var t=Math.ceil(e.nativeEvent.contentOffset.x);if(0===t){var n;if(null===this.scrollView)return;this.setState({currentPicture:this.imgList_picture.length-2}),null===(n=this.scrollView)||void 0===n||n.scrollTo({x:(this.imgList_picture.length-2)*this.props.iWidth,y:0,animated:!1})}else if(Math.abs(t-(this.imgList_picture.length-1)*this.props.iWidth)<3){var r;if(null===this.scrollView)return;D.a.emit("SwiperOnscroll"),this.setState({currentPicture:1}),null===(r=this.scrollView)||void 0===r||r.scrollTo({x:this.props.iWidth,y:0,animated:!1})}}},{key:"componentDidMount",value:function(){this.startTimer(2e3)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer),this.timer1&&clearTimeout(this.timer1)}},{key:"startTimer",value:function(e){var t=this;this.imgList_picture.length<=1||(clearTimeout(this.timer1),this.timer1=setTimeout((function(){var e;e=t.state.currentPicture+1,t.setState({currentPicture:e},(function(){var n;null===(n=t.scrollView)||void 0===n||n.scrollTo({x:e*t.pictureWidth,y:0,animated:!1})})),t.startTimer(2e3)}),e))}},{key:"clickButton",value:function(e){var t=this;clearTimeout(this.timer),clearTimeout(this.timer1);var n=this.state.currentPicture;"left"===e?n--:n++,this.setState({currentPicture:n},(function(){var e;null===(e=t.scrollView)||void 0===e||e.scrollTo({x:t.pictureWidth*n,y:0,animated:!1})})),this.timer=setTimeout((function(){t.startTimer(2e3)}),3e3)}},{key:"buttonShadow",value:function(e,t){var n=this;return w.a.createElement(U.a,{style:["left"===e?t.buttonLeftCover:t.buttonRightCover,{top:this.pictureWidth/this.props.imgProps/2-28}],onPress:function(){n.clickButton(e)},activeOpacity:1},w.a.createElement(S.a,{style:t.button},w.a.createElement(S.a,{style:t.button_circle}),w.a.createElement(S.a,{style:{position:"absolute",left:"left"===e?8:10,zIndex:3}},w.a.createElement(ee.a,{opacity:.86,normalCol:"#FFFFFF",iconName:"left"===e?"ic-back":"ic-next",width:"12",height:"12"}))))}},{key:"render",value:function(){var e=this;if(this.pictureWidth=this.props.iWidth,this.props.tmpPictures.length<=1)this.imgList_picture=this.props.tmpPictures;else{var t=[this.props.tmpPictures[0]],n=[this.props.tmpPictures[this.props.tmpPictures.length-1]];this.imgList_picture=n.concat(this.props.tmpPictures),this.imgList_picture=this.imgList_picture.concat(t)}var r=this.imgList_picture.map((function(t){return w.a.createElement(de.a,{imgUri:null!=t&&t.pictureUrl?null==t?void 0:t.pictureUrl:ne.l,imgStyle:{width:e.pictureWidth,height:e.pictureWidth/e.props.imgProps}})}));return w.a.createElement(T.b,{themeStyles:fe},(function(t,n){return w.a.createElement(w.a.Fragment,null,0===e.imgList_picture.length?w.a.createElement(de.a,{imgUri:ne.l,imgStyle:{width:e.pictureWidth,height:e.pictureWidth/e.props.imgProps,backgroundColor:n.C34.color}}):w.a.createElement(Y.a.View,null,w.a.createElement(J.a,{ref:e.refScrollView,scrollEnabled:!1,horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,onScroll:e.onScrollEnd.bind(e),keyboardShouldPersistTaps:!0},r)),w.a.createElement(S.a,{style:[t.picturesDotView]},e.imgList_picture.length<=1?null:function(t){var n=[t.picturesDot],r=[t.picturesDot,t.picturesActiveDot],o=[];for(var i in e.props.tmpPictures){var a=parseInt(i);o.push(a+1===e.state.currentPicture?w.a.createElement(S.a,{style:r}):w.a.createElement(S.a,{style:n}))}return o}(t)),e.imgList_picture.length<=1?null:e.buttonShadow("left",t),e.imgList_picture.length<=1?null:e.buttonShadow("right",t))}))}}]),n}(b.PureComponent),Se=n(84),Ce=n(11),Oe=n(32);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Te,xe,Ie="vmall://com.vmall.client/discoverNew/",ke="vmall://com.vmall.client/discoverNew/topic?topicId=",Ee=Object(Oe.b)("store")(ge=Object(Oe.c)((me=function(e){p()(n,e);var t=Pe(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"scrollView",void 0),v()(u()(r),"_panResponder",void 0),v()(u()(r),"_panResponderApk",void 0),v()(u()(r),"goodTimmer",void 0),v()(u()(r),"tmpProducts",void 0),v()(u()(r),"tmpPictures",void 0),v()(u()(r),"isApkOrIos",(function(){return"android"===N.a.OS||"ios"===N.a.OS})),v()(u()(r),"_getSize",(function(){return"web"===N.a.OS?_.a.get("window"):{width:pe.a.width,height:pe.a.height}})),v()(u()(r),"isPad",(function(){return"medium"===Object(P.a)(r._getSize().width)})),v()(u()(r),"isApp",(function(){return"small"===Object(P.a)(r._getSize().width)})),v()(u()(r),"prodRef",(function(e){r.item=e,"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),v()(u()(r),"getDate",(function(e){var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1+"月")+(t.getDate()+"日")})),v()(u()(r),"getNormalDate",(function(e){var t=new Date(e);return t.getMonth()+1+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()})),v()(u()(r),"dapReportClickData",(function(e,t,n,o,i){var a=r.props.clickItem;-1!==t&&(a({comId:r.props.cardId,TypeName:e,index:t,clickIndex:n,gotoURL:o,nextPage:i,row:r.isApp()?1:r._getSize().width>=r._getSize().height?(t+1)%3==0?3:(t+1)%3:(t+1)%2==0?2:(t+1)%2,coloum:r.isApp()?t+1:r._getSize().width>=r._getSize().height?Math.ceil((t+1)/3):Math.ceil((t+1)/2)}),Object(se.b)("",!0))})),v()(u()(r),"handlePress",(function(e,t,n){var o=r.isApkOrIos()?e+n:"";Object(H.A)(o)})),v()(u()(r),"handleUserPage",(function(e,t,n,o){var i=r.isApkOrIos()?"vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+o:"";Object(H.A)(i)})),v()(u()(r),"handleApkPress",(function(e,t){var n=0===e?"longContent":1===e?"shortContent":"video";Object(H.A)(r.isApkOrIos()?Ie+n+"?contentId="+t:be+t)})),v()(u()(r),"wapIsLogin",(function(){return K.a.get("uid")})),v()(u()(r),"receivePlayer",(function(e){"function"==typeof r.props.receivePlayer&&e&&r.props.receivePlayer(e)})),v()(u()(r),"postLike",(function(e){Object(F.B)({portal:r.isApkOrIos()?"3":"2",country:ae.d.CN,lang:ae.e.CN,beCode:ae.d.CN,version:"",itemID:e,ccsItemType:"1"}).then((function(e){void 0!==e.count&&r.setState({likeCount:e.count,likeView:!0})}))})),v()(u()(r),"postDisLike",(function(e){Object(F.b)({portal:r.isApkOrIos()?"3":"2",country:ae.d.CN,lang:ae.e.CN,version:"",beCode:ae.d.CN,itemID:e,ccsItemType:"1"}).then((function(e){void 0!==e.count&&r.setState({likeCount:e.count,likeView:!1})}))})),v()(u()(r),"handleLike",(function(e,t){r.isApkOrIos()?r.props.isLogin?"like"===e?r.postLike(t):r.postDisLike(t):Object(H.A)("vmall://com.vmall.client/home/login"):r.wapIsLogin()?"like"===e?r.postLike(t):r.postDisLike(t):Object(H.A)("".concat(ye,"account/applogin?url=")+ve)})),v()(u()(r),"showSummary",(function(e){r.setState({showSummary:e})})),v()(u()(r),"refScrollView",(function(e){r.scrollView=e})),v()(u()(r),"gotoProductPage",(function(e){r.goodTimmer&&clearTimeout(r.goodTimmer),r.goodTimmer=setTimeout((function(){Object(H.B)(String(e.productId),String(e.skuCode))}),150)})),r.state={likeView:void 0,likeCount:void 0,showSummary:!1,currentPage:1},r}return s()(n,[{key:"componentDidMount",value:function(){ye=re.a.wapDomain,be="".concat(ye,"newContent/detail?contentId="),ve="activity"===this.props.pageType?"".concat(ye,"portal/activity/index.html?pageId=").concat(re.a.pageId):"".concat(ye,"index.html")}},{key:"componentWillUnmount",value:function(){this.goodTimmer&&clearTimeout(this.goodTimmer)}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=z.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=z.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"clickButton",value:function(e){var t=this,n=this.state.currentPage;"left"===e?n--:n++,(n<=0||n>Math.ceil(this.tmpProducts.length/4))&&(n=this.state.currentPage),this.setState({currentPage:n},(function(){t.scrollView.scrollTo({x:(t.props.iWidth-24+8)*(n-1),y:0,animated:!0})}))}},{key:"buttonShadow",value:function(e,t){var n,r=this,o=(null===(n=this.tmpProducts)||void 0===n?void 0:n.length)/4;return w.a.createElement(U.a,{style:"left"===e?t.leftButtonShow:t.rightButtonShow,onPress:function(){r.clickButton(e)},activeOpacity:1},w.a.createElement(S.a,{style:"left"===e?1==this.state.currentPage?t.leftButtonActive:t.leftButton:this.state.currentPage>=o?t.rightButtonActive:t.rightButton},"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?w.a.createElement(S.a,{style:t.button_circle}):null,w.a.createElement(S.a,{style:{position:"absolute",left:"left"===e?8:10}},w.a.createElement(ee.a,{opacity:"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?.1:.86,normalCol:"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?te.a.darkBool?"#FFFFFF":"#000000":"#FFFFFF",iconName:"left"===e?"ic-back":"ic-next",width:"12",height:"12"}))))}},{key:"render",value:function(){var e,t,n,r,o=this;if(this.tmpProducts=null!==(e=this.props.data)&&void 0!==e&&e.recommendProduct?null===(t=this.props.data)||void 0===t?void 0:t.recommendProduct.slice(0,24):[],this.tmpPictures=null!==(n=this.props.data)&&void 0!==n&&n.pictures?null===(r=this.props.data)||void 0===r?void 0:r.pictures.slice(0,9):[],this.tmpProducts.length>4&&this.tmpProducts.length%4!=0&&this.isApkOrIos())for(var i=4-this.tmpProducts.length%4,a=0;a<i;a++)this.tmpProducts.push({});var l=this.state.currentPage,s=this.props,c=s.data,u=s.indexLocation,d=this.tmpProducts.map((function(e,t){var n,r,i="{}"===JSON.stringify(e),a=null!=e&&e.promoPrice?null==e?void 0:e.promoPrice:null!=e&&e.price?null==e?void 0:e.price:0,l="";null!=e&&null!==(n=e.photoPath)&&void 0!==n&&n.includes("http")?l=null==e?void 0:e.photoPath:l=null!=e&&null!==(r=e.photoPath)&&void 0!==r&&r.includes("product")?Ce.a.cmsCndProdPath+(null==e?void 0:e.photoPath)+"428_428_"+(null==e?void 0:e.photoName):Ce.a.cmsCndProdPath+(null==e?void 0:e.photoPath)+(null==e?void 0:e.photoName);return w.a.createElement(T.b,{themeStyles:X},(function(n){var r;return w.a.createElement(U.a,{onPress:L()(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i?2===c.forwardType&&0===c.contentType?Object(H.A)(c.outerLinks):o.handleApkPress(null==c?void 0:c.contentType,null==c?void 0:c.contentId):o.gotoProductPage(e),!i){t.next=5;break}o.dapReportClickData(null==c?void 0:c.contentId,u,26,2===c.forwardType&&0===c.contentType?null==c?void 0:c.outerLinks:o.isApkOrIos()?Ie+(0===(null==c?void 0:c.contentType)?"longContent":1===(null==c?void 0:c.contentType)?"shortContent":"video?contentId=")+(null==c?void 0:c.contentId):be+(null==c?void 0:c.contentId),null==c?void 0:c.contentId),t.next=9;break;case 5:return t.next=7,Object(H.p)(e.productId,e.skuCode);case 7:n=t.sent,o.dapReportClickData(null==c?void 0:c.contentId,u,37,n,e.productId);case 9:case"end":return t.stop()}}),t)}))),style:[n.itemStyle,{marginRight:t===(null===(r=o.tmpProducts)||void 0===r?void 0:r.length)-1?o.isApkOrIos()?0:12:8,opacity:i?0:1}],activeOpacity:o.isApkOrIos()?0:1},w.a.createElement(S.a,{style:{width:(o.props.iWidth-24-24)/4,height:(o.props.iWidth-24-24)/4,borderRadius:8,marginBottom:8,backgroundColor:te.a.darkBool?"rgba(255,255,255,0.10)":"rgba(0,0,0,0.05)",alignItems:"center",justifyContent:"center"}},w.a.createElement(S.a,{style:{width:(o.props.iWidth-48)/4-6,height:(o.props.iWidth-48)/4-6}},w.a.createElement(de.a,{imgUri:e&&null!=e&&e.photoPath&&null!=e&&e.photoName?l:ne.l,imgStyle:{width:"100%",height:"100%"},resizeMode:"contain"}))),w.a.createElement(V.a,{style:n.productPrice},"¥"+a))}))}));return w.a.createElement(T.b,{themeStyles:X},(function(e,t){var n,r,i,a,s,c,u,p,f,h,g,m,y,v,b,C,O,P=o.props,T=P.iWidth,x=P.data,I=P.indexLocation,k=P.style,E=P.showUserName,j=P.showTitleTag,R=P.showProduct,L=P.date,_=P.likeOrRead,D=P.configInfo,W=0===x.anonymous?G.a:U.a,A=!(null===(n=x.topicDetail)||void 0===n||!n.title),B=!(null==x||!x.title),M=!(null==x||!x.summary),F=!(null==x||!x.recommendProduct)&&(null==x||null===(r=x.recommendProduct)||void 0===r?void 0:r.length)>0,z=0===x.source?!(null===(i=x.accountDetail)||void 0===i||!i.portraitUri):!(null===(a=x.user)||void 0===a||!a.portraitUri),K=0===x.source?!(null===(s=x.accountDetail)||void 0===s||!s.accountName):!(null===(c=x.user)||void 0===c||!c.nickName),q=!(null==x||!x.videoUri),Q=0===x.contentType?"3:4"===(null==D?void 0:D.longPicTextProportion)?4*T/3:"16:9"===(null==D?void 0:D.longPicTextProportion)?9*T/16:T:1===x.contentType?"3:4"===(null==D?void 0:D.shortPicTextProportion)?4*T/3:"16:9"===(null==D?void 0:D.longPicTextProportion)?9*T/16:T:"3:4"===(null==D?void 0:D.videoProportion)?4*T/3:"16:9"===(null==D?void 0:D.longPicTextProportion)?9*T/16:T,$=!(null==x||!x.createTime),X=null===(u=x.topicDetail)||void 0===u||null===(p=u.title)||void 0===p?void 0:p.startsWith("#");return w.a.createElement(S.a,"web"===N.a.OS?o._panResponder.panHandlers:o._panResponderApk.panHandlers,w.a.createElement(U.a,{onPress:function(){o.dapReportClickData(null==x?void 0:x.contentId,I,26,2===x.forwardType&&0===x.contentType?null==x?void 0:x.outerLinks:o.isApkOrIos()?Ie+(0===(null==x?void 0:x.contentType)?"longContent":1===(null==x?void 0:x.contentType)?"shortContent":"video?contentId=")+(null==x?void 0:x.contentId):be+(null==x?void 0:x.contentId),null==x?void 0:x.contentId),2===x.forwardType&&0===x.contentType?Object(H.A)(x.outerLinks):o.handleApkPress(null==x?void 0:x.contentType,null==x?void 0:x.contentId)},style:[e.contentBox,{width:T},k],activeOpacity:1},w.a.createElement(U.a,{onPress:function(){o.dapReportClickData(null==x?void 0:x.contentId,I,26,2===x.forwardType&&0===x.contentType?null==x?void 0:x.outerLinks:o.isApkOrIos()?Ie+(0===(null==x?void 0:x.contentType)?"longContent":1===(null==x?void 0:x.contentType)?"shortContent":"video?contentId=")+(null==x?void 0:x.contentId):be+(null==x?void 0:x.contentId),null==x?void 0:x.contentId),2===x.forwardType&&0===x.contentType?Object(H.A)(x.outerLinks):o.handleApkPress(null==x?void 0:x.contentType,null==x?void 0:x.contentId)},style:{width:T,height:Q,marginBottom:!B||"false"!==E&&K&&z||A&&"false"!==j||!o.isApp()?16:12},activeOpacity:1,ref:o.prodRef},0===x.contentType?w.a.createElement(de.a,{imgUri:null!=x&&x.coverUri?x.coverUri:ne.l,imgStyle:e.img,resizeMode:"cover"}):1===x.contentType?w.a.createElement(we,{tmpPictures:o.tmpPictures,iWidth:T,imgProps:Object(Se.a)(null==D?void 0:D.shortPicTextProportion)}):q?w.a.createElement(ie.a,{ref:o.receivePlayer,width:"100%",height:"100%",sourceUrl:null!=x&&x.previewVideoUrl?null==x?void 0:x.previewVideoUrl:x.videoUri,isPause:!0,poster:null==x?void 0:x.coverUri,aspectRatio_wap:null==D?void 0:D.videoProportion,isVoice:!1,type:1}):w.a.createElement(de.a,{imgUri:ne.l,imgStyle:e.img})),w.a.createElement(S.a,{style:{paddingLeft:12,paddingRight:12}},"true"===E&&(K||z)?w.a.createElement(W,{onPress:function(){var e,t,n,r,i,a,l,s,c,u,d,p;o.dapReportClickData(null==x?void 0:x.contentId,I,6,o.isApkOrIos()?"vmall://com.vmall.client/discoverNew/account?uid="+(null==x||null===(e=x.user)||void 0===e?void 0:e.uid)+"&nickName="+(null==x||null===(t=x.user)||void 0===t?void 0:t.nickname)+"&headPictureURL="+(null==x||null===(n=x.user)||void 0===n?void 0:n.portraitUri)+"&source="+(null==x||null===(r=x.user)||void 0===r?void 0:r.portrait):"",0===x.source?null==x||null===(i=x.accountDetail)||void 0===i?void 0:i.accountId:null==x||null===(a=x.user)||void 0===a?void 0:a.uid),0!==x.anonymous&&(0===x.source?o.handleUserPage(null==x||null===(l=x.accountDetail)||void 0===l?void 0:l.accountId,null==x||null===(s=x.accountDetail)||void 0===s?void 0:s.accountName,null==x||null===(c=x.accountDetail)||void 0===c?void 0:c.portraitUri,(null==x?void 0:x.source)+""):o.handleUserPage(null==x||null===(u=x.user)||void 0===u?void 0:u.uid,null==x||null===(d=x.user)||void 0===d?void 0:d.nickname,null==x||null===(p=x.user)||void 0===p?void 0:p.portraitUri,(null==x?void 0:x.source)+""))}},w.a.createElement(S.a,{style:[e.bigCardUser,{marginBottom:!B||"false"!==j&&A||!o.isApp()?12:8}]},w.a.createElement(de.a,{localSource:z&&0!==x.anonymous&&"null"!==(null==x||null===(f=x.user)||void 0===f?void 0:f.portraitUri)?{uri:0===x.source?null==x||null===(h=x.accountDetail)||void 0===h?void 0:h.portraitUri:null==x||null===(g=x.user)||void 0===g?void 0:g.portraitUri}:Z.a.empty_user,imgStyle:e.bigCardUserImg,resizeMode:"cover",isUser:!0}),w.a.createElement(V.a,{style:e.bigCardUserName,numberOfLines:1,ellipsizeMode:"tail"},0===x.source?null==x||null===(m=x.accountDetail)||void 0===m?void 0:m.accountName:null==x||null===(y=x.user)||void 0===y?void 0:y.nickname))):null,"true"===j&&A?w.a.createElement(S.a,{style:{flexDirection:"row",marginBottom:B&&o.isApp()?8:12}},w.a.createElement(U.a,{style:e.bigCardTitle,onPress:function(){o.dapReportClickData(null==x?void 0:x.contentId,I,4,o.isApkOrIos?ke:"",null==x?void 0:x.topicId),o.handlePress(ke,"",null==x?void 0:x.topicId)}},w.a.createElement(V.a,{style:e.bigCardTitleContent,numberOfLines:1,ellipsizeMode:"tail"},A?X?x.topicDetail.title:"#"+x.topicDetail.title:""))):null,B?w.a.createElement(S.a,{style:{width:o.isPad()?T-24:o.isApkOrIos()?T-42:T-18,flexDirection:"row",alignItems:"center",marginBottom:o.isApp()&&o.state.showSummary?8:12}},w.a.createElement(V.a,{numberOfLines:1,ellipsizeMode:"tail",style:e.Title},null==x?void 0:x.title),o.isPad()?null:w.a.createElement(U.a,{onPress:function(){return o.showSummary(!o.state.showSummary)},activeOpacity:1},w.a.createElement(ee.a,{normalCol:t.C22.color,iconName:o.state.showSummary?"up":"down",opacity:.36,width:24,height:24}))):null,M&&(o.state.showSummary||o.isPad()||!B)?w.a.createElement(V.a,{numberOfLines:10,ellipsizeMode:"tail",style:[e.bigCardContent]},null==x?void 0:x.summary):null,"true"===R&&F?w.a.createElement(S.a,{style:{width:o.isApkOrIos()?T-24:T-12,height:o.tmpProducts.length>4&&o.isApkOrIos()?(T-24-24)/4+27+40:(T-24-24)/4+27,marginBottom:9,paddingRight:o.isApkOrIos()?0:-12,borderRadius:8,overflow:"hidden",flexDirection:"column",justifyContent:"flex-start"}},w.a.createElement(Y.a.View,{style:{opacity:o.state.opacity}},w.a.createElement(J.a,{ref:o.refScrollView,horizontal:!0,showsHorizontalScrollIndicator:!1,pagingEnabled:!0,onScroll:function(){},scrollEnabled:!o.isApkOrIos(),keyboardShouldPersistTaps:!0},d)),w.a.createElement(S.a,{style:e.dotView},o.tmpProducts.length<=4||!o.isApkOrIos()?null:function(e){for(var t,n=[e.dot],r=[e.activeDot],i=(null===(t=o.tmpProducts)||void 0===t?void 0:t.length)/4,a=[],s=0;s<i;s++)a.push(s+1===l?w.a.createElement(S.a,{style:r,key:s}):w.a.createElement(S.a,{style:n,key:s}));return a}(e),o.tmpProducts.length>4&&o.isApkOrIos()?w.a.createElement(S.a,{style:[e.bigCardSvgAndLikes,{width:T-12*Math.ceil(o.tmpProducts.length/4)-24,flexDirection:"row-reverse"}]},o.buttonShadow("right",e),o.buttonShadow("left",e)):null)):null,w.a.createElement(S.a,{style:[e.bigCardMore,{marginBottom:"false"!==L&&$||"false"!==_?16:0,height:"false"!==L&&$||"false"!==_?16:0}]},"false"!==L&&$?w.a.createElement(V.a,{style:e.bigCardDate},"mdhm"===L?o.getNormalDate(null==x?void 0:x.createTime):o.getDate(null==x?void 0:x.createTime)):"false"!==L&&$||"false"!==_?w.a.createElement(S.a,null):null,"false"!==_?w.a.createElement(S.a,{style:e.bigCardSvgAndLikes},"readNum"===_?w.a.createElement(S.a,{style:e.bigCardUnLikeSvg},w.a.createElement(ee.a,{iconName:"read",width:"30",height:"14",normalCol:te.a.darkBool?"rgba(255,255,255,0.40)":"rgba(0,0,0,0.40)"})):w.a.createElement(U.a,{style:e.bigCardUnLikeSvg,onPress:function(){var e;(null!==(e=o.state.likeView)&&void 0!==e?e:o.props.data.isLike)?o.handleLike("dislike",null==x?void 0:x.contentId):o.handleLike("like",null==x?void 0:x.contentId)}},(null!==(v=o.state.likeView)&&void 0!==v?v:o.props.data.isLike)?w.a.createElement(ee.a,{iconName:"thumbs-up-fill",width:"16",height:"16",normalCol:"#CF0A2C"}):w.a.createElement(ee.a,{iconName:"thumbs-up",width:"16",height:"16",opacity:t.C15.opacity,normalCol:t.C15.color})),w.a.createElement(V.a,{style:e.bigCardLikes},"readNum"===_?null!==(b=o.props.data)&&void 0!==b&&b.viewCount?null===(C=o.props.data)||void 0===C?void 0:C.viewCount:0:null!==(O=o.state.likeCount)&&void 0!==O?O:o.props.data.likeCount)):"false"!==L&&$||"false"!==_?w.a.createElement(S.a,null):null))))}))}}]),n}(b.PureComponent),v()(me,"defaultProps",{data:{},isPause:!0,videoProps:"1:1",showUserName:"true",showTitleTag:"false",likeOrRead:"likeNum",date:"ymd",showProduct:"true",pageType:"homePage",indexLocation:-1}),ge=me))||ge)||ge,je=Object(le.a)(ue)(Object(oe.a)(Ee)),Re=n(27),Le=n.n(Re),_e=n(18),De=n.n(_e),Ne=(n(60),n(16)),We=new(Te=function(){function e(){a()(this,e),Le()(this,"comId",xe,this)}return s()(e,[{key:"onUpdate",value:function(e){this.comId=e}}]),e}(),xe=De()(Te.prototype,"comId",[Ne.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),De()(Te.prototype,"onUpdate",[Ne.d],Object.getOwnPropertyDescriptor(Te.prototype,"onUpdate"),Te.prototype),Te),Ae={exposeItem:function(e){for(var t=this.itemlist,n=this.props,r=n.pageCatCode,o=n.pageCatName,i=n.resSiteCode,a=n.resSiteName,l=[],s=[],c=0;c<e.length;c++){var u,d,p,f;if(e[c]&&null!==(u=t[null===(d=e[c])||void 0===d?void 0:d.key])&&void 0!==u&&u.contentId)l.push(null===(p=t[null===(f=e[c])||void 0===f?void 0:f.key])||void 0===p?void 0:p.contentId),s.push(e[c].key+"")}if(0!==l.length){var h="110000101";return"web"===N.a.OS&&(h="210000101"),{isBatch:!0,commonData:{actionCode:h,actionName:"内容卡片曝光",eventType:ce.e.EVENT_TYPE_EXPOSURE,pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a},content:[{comId:We.comId,dataCode:l,dataType:"17",index:s}]}}},exposeItem_videoCard:function(e,t){var n=this.playerList,r=[];null==n||n.forEach((function(e,t){e&&r.push(t)}));for(var o=[],i=0;i<e.length;i++)e[i]&&r.includes(e[i].key)&&o.push(e[i]);if(o.length){var a=null;if(o[0]&&(a=n[o[0].key]),a&&"function"==typeof a.play)try{a.play();for(var l=0;l<o.length;l++)0!==l&&n[o[l].key].pause()}catch(e){}}t.forEach((function(e){if(e){var t=e.key,r=n[t];if(r&&"function"==typeof r.pause)try{r.pause()}catch(e){}}}))}},Be=C.a.create({view:{marginTop:0},waterFallView:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},card:{marginBottom:12}}),Me=function(e){return C.a.create({lodingTitle:{fontSize:14,color:e.C13.color,opacity:e.C13.opacity}})};function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var He=function(e){p()(r,e);var t,n=Fe(r);function r(e){var t;return a()(this,r),t=n.call(this,e),v()(u()(t),"componentName","ContentCardWaterFall"),v()(u()(t),"firstScreenHeigt",0),v()(u()(t),"spacing",8),v()(u()(t),"sideMargin",0),v()(u()(t),"listern",null),v()(u()(t),"listern1",null),v()(u()(t),"timer",null),v()(u()(t),"playerList",[]),v()(u()(t),"itemlist",[]),v()(u()(t),"commoditySuccess",!1),v()(u()(t),"contentSuccess",!1),v()(u()(t),"hasContentCard",!1),v()(u()(t),"hasLoading",!1),v()(u()(t),"screenType",void 0),v()(u()(t),"loadingPostion","bottom"),v()(u()(t),"boxWidth",void 0),v()(u()(t),"isLogin",void 0),v()(u()(t),"getLogin",(function(){W.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&(t.isLogin=null==e?void 0:e.isLogin)}))})),v()(u()(t),"initWidth",(function(){W.a.invokeVmallNative("common","getWindowSize",{pageType:"activity"===t.props.pageType?"SeckillAndSmartLife":"homePage"}).then((function(e){if(null!=e&&e.windowWidth&&null!=e&&e.windowHeight){var n=1;(null==e?void 0:e.windowWidth)>=(null==e?void 0:e.windowHeight)&&"medium"===Object(P.a)(null==e?void 0:e.windowWidth)?n=3:(null==e?void 0:e.windowWidth)<(null==e?void 0:e.windowHeight)&&"medium"===Object(P.a)(null==e?void 0:e.windowWidth)&&(n=2),t.setState({column:n,screenWidth:null==e?void 0:e.windowWidth})}}))})),v()(u()(t),"_getWindowSize",(function(){var e=Object(H.x)(t.props.pageType||"homePage"),n=e.screenWidth,r=e.screenHeight,o={screenWidth:n,screenHeight:r,column:1};return n>=r&&"medium"===Object(P.a)(n)?o.column=3:n<r&&"medium"===Object(P.a)(n)&&(o.column=2),o})),v()(u()(t),"getWidth",(function(){})),v()(u()(t),"renderFooter2",(function(){})),v()(u()(t),"renderFooter",(function(){var e=t.state.loadState,n="100%";return t.state.screenWidth&&(n=t.state.screenWidth-("small"===t.screenType?32:64)),w.a.createElement(T.b,{themeStyles:Me},(function(r){return w.a.createElement(A.a,{showLoading:!0,position:t.loadingPostion,errorCallback:t._getAsyNcData,loadState:e,height:56,width:n,iconSize:24,titleStyle:r.lodingTitle})}))})),t.state={column:1,screenWidth:_.a.get("window").width,pageNum:1,loadState:1,allData:[],randomNumber:null,isFirst:!0},t._loading=t._loading.bind(u()(t)),t._loadMore=t._loadMore.bind(u()(t)),t._renderItem=t._renderItem.bind(u()(t)),t.receiveRef=t.receiveRef.bind(u()(t)),t._receivePlayer=t._receivePlayer.bind(u()(t)),t._getAsyNcData=t._getAsyNcData.bind(u()(t)),t._componentDidMount=t._componentDidMount.bind(u()(t)),t._getPageDataSourceContent=t._getPageDataSourceContent.bind(u()(t)),t}return s()(r,[{key:"componentDidMount",value:function(){var e=this;B.a.isApp()&&(this.initWidth(),this.getLogin(),this.listern=D.a.addListener("NativeCallAction",(function(t){var n;if("login"===(null==t?void 0:t.service)&&"isLogin"===(null==t?void 0:t.action)&&"boolean"==typeof(null==t||null===(n=t.param)||void 0===n?void 0:n.isLogin)){e.itemlist.length=0,e.playerList.length=0;e.setState({allData:[].map((function(e,t){return e.indexLocation=t,e})),pageNum:1,loadState:1},(function(){var n;e.isLogin=null==t||null===(n=t.param)||void 0===n?void 0:n.isLogin,e._componentDidMount()}))}})),this.listern1=D.a.addListener("NativeCallAction",(function(t){var n;if(("screen"===(null==t?void 0:t.service)&&(null==t?void 0:t.action)===("activity"===e.props.pageType)||"rotateScreen")&&"number"==typeof(null==t||null===(n=t.param)||void 0===n?void 0:n.windowWidth)){var r,o,i,a,l,s,c,u,d,p=1;(null==t||null===(r=t.param)||void 0===r?void 0:r.windowWidth)>=(null==t||null===(o=t.param)||void 0===o?void 0:o.windowHeight)&&"medium"===Object(P.a)(null==t||null===(i=t.param)||void 0===i?void 0:i.windowWidth)?p=3:(null==t||null===(a=t.param)||void 0===a?void 0:a.windowWidth)<(null==t||null===(l=t.param)||void 0===l?void 0:l.windowHeight)&&"medium"===Object(P.a)(null==t||null===(s=t.param)||void 0===s?void 0:s.windowWidth)&&(p=2),e.setState({column:p,screenWidth:null==t||null===(c=t.param)||void 0===c?void 0:c.windowWidth}),e.spacing=(null==t||null===(u=t.param)||void 0===u?void 0:u.windowWidth)>(null==t||null===(d=t.param)||void 0===d?void 0:d.windowHeight)?12:8}}))),We.onUpdate(this.props.cardId),this._componentDidMount()}},{key:"_componentDidMount",value:function(){var e=this,t=1,n=this.props.pageSize,r=this.state.allData;if(this.hasLoading=!0,this._getPageDataSourceContent().then(function(){var o=L()(j.a.mark((function o(i){return j.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=r.concat(i),e.contentSuccess=!0,(null==i?void 0:i.length)<n&&(t=3),(null==i?void 0:i.length)>0&&(e.hasContentCard=!0);case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(){t=2,e.contentSuccess=!1})).finally((function(){var n={loadState:t,isFirst:!1,allData:r.map((function(e,t){return e.indexLocation=t,e}))};e.setState(n,(function(){e.hasLoading=!1}))})),this.spacing=this._getWindowSize().screenWidth>this._getWindowSize().screenHeight?12:8,!B.a.isApp()){var o=this._getWindowSize(),i=o.screenWidth,a=o.column;this.setState({column:a,screenWidth:i})}}},{key:"componentDidCatch",value:function(e,t){}},{key:"componentWillUnmount",value:function(){B.a.isApp()&&(this.listern&&this.listern.remove(),this.listern1&&this.listern1.remove()),this.timer&&clearTimeout(this.timer)}},{key:"_getPageDataSourceContent",value:(t=L()(j.a.mark((function e(){var t,n,r,o,i,a,l,s=this,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:1,n=this.props,r=n.pageSize,o=n.dataSourceCode,i=!1,"web"!==N.a.OS&&"ios"!==N.a.OS){e.next=10;break}return e.next=6,Object(H.I)();case 6:a=e.sent,i=1==a,e.next=14;break;case 10:if("android"!==N.a.OS){e.next=14;break}return e.next=13,Object(H.s)();case 13:i=e.sent;case 14:return l={dataSourceList:o,pageIndex:t,pageSize:r,isRecommended:"ios"===N.a.OS?i?"true":"false":i},e.abrupt("return",Object(F.m)(l).then((function(e){if(null!=e&&e.pageData){var n;if(null!==(n=e.pageData[o])&&void 0!==n&&n.length&&1!==t){var r=s.state.allData;r=r.concat(e.pageData[o]),s.setState({allData:r.map((function(e,t){return e.indexLocation=t,e}))})}return e.pageData[o]||[]}return Promise.reject(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_receivePlayer",value:function(e,t,n){e.contentId=t.contentId,e.indexLocation=t.indexLocation,this.playerList[n]=e}},{key:"_renderItem",value:function(e){var t=this,n=e.item,r=e.index;if(!n)return null;var o="small"===this.screenType?32:48,i=(this.state.screenWidth-(this.state.column-1)*this.spacing-o)/this.state.column,a=this.props,l=a.navigation,s=a.cardId,c=a.showUserName,u=a.showTitleTag,d=a.likeOrRead,p=a.date,f=a.showProduct,h=a.pageType,g=a.configInfo,m=a.pageCatCode,y=a.pageCatName,v=a.resSiteCode,b=a.resSiteName;return w.a.createElement(S.a,{style:{marginBottom:r===Math.ceil(this.state.allData.length/this.state.column)-1?0:"small"===this.screenType?8:12}},w.a.createElement(je,{data:n,iWidth:i,navigation:l,indexLocation:n.indexLocation,cardId:s,showUserName:c,showTitleTag:u,likeOrRead:d,date:p,pageType:h,isLogin:this.isLogin,configInfo:g,showProduct:f,receivePlayer:function(e){return t._receivePlayer(e,n,n.indexLocation)},receiveRef:function(e){e&&(e.videoCardRef=!0,t.receiveRef(e,n.indexLocation,n.contentId))},pageCatCode:m,pageCatName:y,resSiteCode:v,resSiteName:b}))}},{key:"_loading",value:function(){var e=this,t=this.state.pageNum,n=1;this.hasLoading=!0,this._getPageDataSourceContent(t).then(function(){var t=L()(j.a.mark((function t(r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null==r?void 0:r.length)<e.props.pageSize&&(n=3);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(L()(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=2;case 1:case"end":return e.stop()}}),e)})))).finally((function(){e.setState({loadState:1,pageNum:t}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.hasLoading=!1,e.setState({loadState:n})}),200)}))}},{key:"_loadMore",value:function(){var e,t=this.state,n=t.pageNum,r=t.loadState;this.hasLoading||1!==r||"4"!==(null===(e=this.props.configInfo)||void 0===e?void 0:e.more)||(this.hasLoading=!0,this.setState({pageNum:n+1,loadState:1},this._loading))}},{key:"_getAsyNcData",value:function(){var e=this.state.pageNum;this.setState({pageNum:e,loadState:1},this._loading)}},{key:"receiveRef",value:function(e,t,n){e&&(e.contentId=n,this.itemlist[t]=e)}},{key:"render",value:function(){var e,t,n=this.state,r=n.allData,o=n.loadState;this.props._setData(0!==(null==r?void 0:r.length));var i=this._getWindowSize().screenHeight;return this.boxWidth="small"===this.screenType?this.state.screenWidth-32:this.state.screenWidth-48,this.screenType=Object(P.a)(this.state.screenWidth),this.firstScreenHeigt=Object(H.x)(this.props.pageType||"homePage").screenHeight,w.a.createElement(S.a,{style:[Be.view,{marginBottom:"4"!==(null===(e=this.props.configInfo)||void 0===e?void 0:e.more)?0:"web"===N.a.OS?20:50}]},w.a.createElement(S.a,{style:Be.waterFallView},w.a.createElement(M.a,{column:this.state.column,data:r,boxWidth:this.boxWidth,WaterFallCallBack:this.getWidth,pageGutter:0,gutter:this.spacing,isLoading:1===o,renderItem:this._renderItem,onLoadMore:this._loadMore,footer:this.renderFooter2,sceneName:"ContentCardWaterFall",configInfo:this.props.configInfo,screenHeight:i})),"4"!==(null===(t=this.props.configInfo)||void 0===t?void 0:t.more)&&this.contentSuccess?null:this.renderFooter())}}]),r}(b.PureComponent);v()(He,"defaultProps",{showUserName:!0,showTitleTag:!0,likeOrlook:"likeNum",date:"ymd",showProduct:!0,pageInfo:{},pageSize:6,pageType:"homePage"});var ze=Object(x.a)(Object(le.a)(Ae)(Object(oe.a)(He))),Ue=n(1735),Ve=n(44),Ge=n(33),Ye=n(157);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe,Qe,$e,Xe,Ze,et=function(e){return C.a.create({contentBox:Ke(Ke({},e.S31),{},{borderRadius:8,flexDirection:"row",overflow:"hidden",borderStyle:"solid",borderWidth:1,borderColor:"rgba(0,0,0,0.05)",flex:1}),bigCardUser:{height:20,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},bigCardUserImg:{width:20,height:20,borderRadius:56},bigCardUserName:Ke(Ke(Ke({textAlign:"left",marginLeft:4},e.T4),e.C22),{},{fontFamily:q.a.fontFamilyBase}),bigCardTitle:{backgroundColor:e.C70.color+"0c",height:28,borderRadius:56,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},bigCardNoTitle:{height:28},bigCardTitleContent:Ke(Ke(Ke({},e.T4),e.C12),{},{marginLeft:8,marginRight:8,fontFamily:q.a.fontFamilyMedium}),Title:Ke(Ke({},e.T8),{},{color:e.C11.color,fontFamily:q.a.fontFamilyBase}),bigCardContent:Ke(Ke(Ke({marginBottom:16},e.T7),e.C22),{},{fontFamily:q.a.fontFamilyBase}),bigCardMore:{marginLeft:4,justifyContent:"flex-end",flexDirection:"row"},bigCardDate:Ke(Ke(Ke({},e.C15),e.T3),{},{fontFamily:q.a.fontFamilyBase}),bigCardSvgAndLikes:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},bigCardUnLikeSvg:{alignItems:"flex-end",justifyContent:"flex-end"},bigCardLikes:Ke(Ke(Ke({alignItems:"center",justifyContent:"center",marginLeft:2},e.C15),e.T1),{},{fontFamily:q.a.fontFamilyBase}),img:{width:"100%",height:"100%",backgroundColor:e.C34.color},itemStyle:Ke(Ke({},e.S31),{},{borderRadius:8,flexDirection:"column",alignItems:"center",justifyContent:"space-between"}),imageContainer:{borderRadius:8},productImage:{borderRadius:8,marginBottom:8,backgroundColor:e.C39.color,opacity:e.C39.opacity},productPrice:{fontFamily:"ios"===N.a.OS?null:"LucidaGrande",fontSize:12,fontWeight:"400",color:e.C24.color,opacity:e.C13.opacity},dotView:{height:48,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},dot:{backgroundColor:e.C24.color,opacity:.05,width:4,height:4,borderRadius:8,marginRight:8},activeDot:{backgroundColor:e.C24.color,opacity:e.C24.opacity,width:4,height:4,borderRadius:8,marginRight:8},leftButtonShow:{width:48,height:48},rightButtonShow:{width:48,height:48,marginRight:-12},leftButton:{width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,backgroundColor:e.C24.color+"33",alignItems:"center",justifyContent:"center"},leftButtonActive:{backgroundColor:e.C33.color+"19",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},rightButton:{backgroundColor:e.C24.color+"33",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},rightButtonActive:{backgroundColor:e.C33.color+"19",width:24,height:24,top:12,left:12,position:"absolute",borderRadius:56,alignItems:"center",justifyContent:"center"},imageButton:{width:24,height:24,top:16,left:16,zIndex:1},button_circle:{position:"absolute",width:24,height:24,borderRadius:26,borderColor:"#97979733",borderWidth:.5},rightBlock:{paddingLeft:12,paddingRight:12,paddingTop:16},users:{flexDirection:"row",marginTop:11}})},tt=n(59),nt={clickItem:function(e){var t,n=this.props,r=n.pageCatCode,o=n.pageCatName,i=n.resSiteCode,a=n.resSiteName;return{data:{actionCode:110000102,actionName:"点击相应热区",eventType:ce.e.EVENT_TYPE_CLICK,content:{comId:e.comId||"",gotoPageId:"",gotoPageURL:e.gotoURL||"",dataCode:e.TypeName||"",dataType:"54",row:e.row+""||"",coloum:e.coloum+""||"",index:null===(t=e.index)||void 0===t?void 0:t.toString(),clickType:e.clickIndex+""||"",nextLocation:e.nextPage+""||""},pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a}}}};function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ot=Object(Oe.b)("store")(qe=Object(Oe.c)((Qe=function(e){p()(n,e);var t=rt(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"item",void 0),v()(u()(r),"scrollView",void 0),v()(u()(r),"_panResponder",void 0),v()(u()(r),"_panResponderApk",void 0),v()(u()(r),"goodTimmer",void 0),v()(u()(r),"tmpProducts",void 0),v()(u()(r),"tmpPictures",void 0),v()(u()(r),"itemlist",[]),v()(u()(r),"isApkOrIos",(function(){return"android"===N.a.OS||"ios"===N.a.OS})),v()(u()(r),"_getSize",(function(){return"web"===N.a.OS?_.a.get("window"):{width:pe.a.width,height:pe.a.height}})),v()(u()(r),"isPad",(function(){return"medium"===Object(P.a)(r._getSize().width)})),v()(u()(r),"isApp",(function(){return"small"===Object(P.a)(r._getSize().width)})),v()(u()(r),"prodRef",(function(e){r.item=e,r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e)})),v()(u()(r),"getDate",(function(e){var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1+"月")+(t.getDate()+"日")})),v()(u()(r),"getNormalDate",(function(e){var t=new Date(e);return t.getMonth()+1+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()})),v()(u()(r),"dapReportClickData",(function(e,t,n,o,i){var a=r.props,l=a.pageCatCode,s=a.pageCatName,c=a.resSiteCode,u=a.resSiteName,d=r.props.clickItem;if(-1!==t){var p,f,h={comId:r.props.cardId,TypeName:e,index:t,clickIndex:n,gotoURL:o,nextPage:i,row:r.isApp()?1:r._getSize().width>=r._getSize().height?(t+1)%3==0?3:(t+1)%3:(t+1)%2==0?2:(t+1)%2,coloum:r.isApp()?t+1:r._getSize().width>=r._getSize().height?Math.ceil((t+1)/3):Math.ceil((t+1)/2)};if(d(h),Object(se.b)("",!0),Object(Ge.j)())Object(se.a)({actionCode:"110000102",actionName:"点击相应热区",eventType:ce.e.EVENT_TYPE_CLICK,pageId:null===(p=r.props.pageId)||void 0===p?void 0:p.toString(),pageCatCode:l,pageCatName:s,resSiteCode:c,resSiteName:u,content:{comId:r.props.cardId||"",gotoPageId:"",gotoPageURL:o||"",dataCode:e||"",dataType:"54",row:h.row+""||"",coloum:h.coloum+""||"",index:null===(f=h.index)||void 0===f?void 0:f.toString(),clickType:h.clickIndex+""||"",nextLocation:h.nextPage+""||""}})}})),v()(u()(r),"handlePress",(function(e,t,n){var o=r.isApkOrIos()?e+n:"";Object(tt.b)(o)})),v()(u()(r),"handleUserPage",(function(e,t,n,o){var i=r.isApkOrIos()?"vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+o:"";Object(tt.b)(i)})),v()(u()(r),"handleApkPress",(function(e,t){var n=0===e?"longContent":1===e?"shortContent":"video";Object(tt.b)(r.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+n+"?contentId="+t:Object(Ge.j)()?"":Ze+t)})),v()(u()(r),"wapIsLogin",(function(){return K.a.get("uid")})),v()(u()(r),"receivePlayer",(function(e){"function"==typeof r.props.receivePlayer&&e&&r.props.receivePlayer(e)})),v()(u()(r),"postLike",(function(e){Object(F.B)({portal:r.isApkOrIos()?"3":"2",country:ae.d.CN,lang:ae.e.CN,beCode:ae.d.CN,version:"",itemID:e,ccsItemType:"1"}).then((function(e){void 0!==e.count&&r.setState({likeCount:e.count,likeView:!0})}))})),v()(u()(r),"postDisLike",(function(e){Object(F.b)({portal:r.isApkOrIos()?"3":"2",country:ae.d.CN,lang:ae.e.CN,version:"",beCode:ae.d.CN,itemID:e,ccsItemType:"1"}).then((function(e){void 0!==e.count&&r.setState({likeCount:e.count,likeView:!1})}))})),v()(u()(r),"handleLike",(function(e,t){Object(Ge.j)()?Object(Ge.getWxUserId)()?"like"===e?r.postLike(t):r.postDisLike(t):Object(Ge.getUserProfile)():r.isApkOrIos()?r.props.isLogin?"like"===e?r.postLike(t):r.postDisLike(t):Object(tt.b)("vmall://com.vmall.client/home/login"):r.wapIsLogin()?"like"===e?r.postLike(t):r.postDisLike(t):Object(tt.b)("".concat($e,"account/applogin?url=")+Xe)})),v()(u()(r),"showSummary",(function(e){r.setState({showSummary:e})})),v()(u()(r),"refScrollView",(function(e){r.scrollView=e})),v()(u()(r),"gotoProductPage",(function(e){r.goodTimmer&&clearTimeout(r.goodTimmer),r.goodTimmer=setTimeout((function(){Object(tt.c)(String(e.productId),String(e.skuCode))}),150)})),r.state={likeView:void 0,likeCount:void 0,showSummary:!1,currentPage:1},r}return s()(n,[{key:"componentDidMount",value:function(){$e=re.a.wapDomain,Ze="".concat($e,"newContent/detail?contentId="),Xe="activity"===this.props.pageType?"".concat($e,"portal/activity/index.html?pageId=").concat(re.a.pageId):"".concat($e,"index.html")}},{key:"componentWillUnmount",value:function(){this.goodTimmer&&clearTimeout(this.goodTimmer)}},{key:"UNSAFE_componentWillMount",value:function(){Object(Ge.j)()||(this._panResponder=z.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=z.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}}))}},{key:"clickButton",value:function(e){var t=this,n=this.state.currentPage;"left"===e?n--:n++,(n<=0||n>Math.ceil(this.tmpProducts.length/4))&&(n=this.state.currentPage),this.setState({currentPage:n},(function(){t.scrollView.scrollTo({x:(t.props.boxWidth-24+8)*(n-1),y:0,animated:!0})}))}},{key:"buttonShadow",value:function(e,t){var n,r=this,o=(null===(n=this.tmpProducts)||void 0===n?void 0:n.length)/4;return w.a.createElement(U.a,{style:"left"===e?t.leftButtonShow:t.rightButtonShow,onPress:function(){r.clickButton(e)},activeOpacity:1},w.a.createElement(S.a,{style:"left"===e?1==this.state.currentPage?t.leftButtonActive:t.leftButton:this.state.currentPage>=o?t.rightButtonActive:t.rightButton},"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?w.a.createElement(S.a,{style:t.button_circle}):null,w.a.createElement(S.a,{style:{position:"absolute",left:"left"===e?8:10}},w.a.createElement(ee.a,{opacity:"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?.1:.86,normalCol:"left"===e&&1==this.state.currentPage||"right"===e&&this.state.currentPage>=o?te.a.darkBool?"#FFFFFF":"#000000":"#FFFFFF",iconName:"left"===e?"ic-back":"ic-next",width:"12",height:"12"}))))}},{key:"render",value:function(){var e,t,n,r,o=this;if(this.tmpProducts=null!==(e=this.props.data)&&void 0!==e&&e.recommendProduct?null===(t=this.props.data)||void 0===t?void 0:t.recommendProduct.slice(0,24):[],this.tmpPictures=null!==(n=this.props.data)&&void 0!==n&&n.pictures?null===(r=this.props.data)||void 0===r?void 0:r.pictures.slice(0,9):[],this.tmpProducts.length>4&&this.tmpProducts.length%4!=0&&this.isApkOrIos())for(var i=4-this.tmpProducts.length%4,a=0;a<i;a++)this.tmpProducts.push({});this.state.currentPage;var l=this.props;l.data,l.indexLocation;return w.a.createElement(T.b,{themeStyles:et},(function(e,t){var n,r,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b,C,O=o.props,P=O.iWidth,T=O.data,x=O.indexLocation,I=(O.style,O.showUserName),k=(O.showTitleTag,O.showProduct,O.date,O.likeOrRead),E=O.configInfo,j=(O.DarkStyle,0===T.anonymous?G.a:U.a),R=(!(null==T||!T.title)||(null==T||T.summary),0===T.source?!(null===(n=T.accountDetail)||void 0===n||!n.portraitUri):!(null===(r=T.user)||void 0===r||!r.portraitUri)),L=0===T.source?!(null===(i=T.accountDetail)||void 0===i||!i.accountName):!(null===(a=T.user)||void 0===a||!a.nickName),_=!(null==T||!T.videoUri),D=P-120,W=("false"!==k&&("readNum"===k?null===(l=o.props.data)||void 0===l||l.viewCount:o.props.data.likeCount),te.a.darkBool),A=o.isApkOrIos()?30:16,B=(null==T?void 0:T.title)||(null==T?void 0:T.summary);return w.a.createElement(S.a,Object(Ge.j)()?{}:"web"===N.a.OS?o._panResponder.panHandlers:o._panResponderApk.panHandlers,w.a.createElement(U.a,{onPress:function(){o.dapReportClickData(null==T?void 0:T.contentId,x,26,2===T.forwardType&&0===T.contentType?null==T?void 0:T.outerLinks:o.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+(0===(null==T?void 0:T.contentType)?"longContent":1===(null==T?void 0:T.contentType)?"shortContent":"video?contentId=")+(null==T?void 0:T.contentId):Ze+(null==T?void 0:T.contentId),null==T?void 0:T.contentId),2===T.forwardType&&0===T.contentType?Object(tt.b)(T.outerLinks):o.handleApkPress(null==T?void 0:T.contentType,null==T?void 0:T.contentId)},style:[e.contentBox,{height:120,width:P,borderColor:W?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)"}],activeOpacity:1},w.a.createElement(U.a,{onPress:function(){o.dapReportClickData(null==T?void 0:T.contentId,x,26,2===T.forwardType&&0===T.contentType?null==T?void 0:T.outerLinks:o.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+(0===(null==T?void 0:T.contentType)?"longContent":1===(null==T?void 0:T.contentType)?"shortContent":"video?contentId=")+(null==T?void 0:T.contentId):Ze+(null==T?void 0:T.contentId),null==T?void 0:T.contentId),2===T.forwardType&&0===T.contentType?Object(tt.b)(T.outerLinks):o.handleApkPress(null==T?void 0:T.contentType,null==T?void 0:T.contentId)},style:{width:120,height:120,borderRadius:8},activeOpacity:1,ref:o.prodRef},0===T.contentType?w.a.createElement(de.a,{imgUri:null!=T&&T.coverUri?T.coverUri:ne.l,imgStyle:e.img,resizeMode:"cover"}):1===T.contentType?w.a.createElement(de.a,{imgUri:null!=T&&T.coverUri?T.coverUri:o.tmpPictures,imgStyle:e.img,resizeMode:"cover",resizeWidth:120}):_?w.a.createElement(ie.a,{ref:o.receivePlayer,width:120,height:120,sourceUrl:null!=T&&T.previewVideoUrl?null==T?void 0:T.previewVideoUrl:T.videoUri,isPause:!0,poster:null==T?void 0:T.coverUri,aspectRatio_wap:null==E?void 0:E.videoProportion,isVoice:!1,type:1,isOneLittle:!0}):w.a.createElement(de.a,{imgUri:ne.l,imgStyle:e.img})),w.a.createElement(S.a,{style:[e.rightBlock,{width:D}]},w.a.createElement(S.a,{style:{width:D-24,flexDirection:"row",height:"false"===I&&"false"===k?77:57}},w.a.createElement(V.a,{numberOfLines:"false"===I&&"false"===k?4:3,ellipsizeMode:"tail",style:e.Title},B)),w.a.createElement(S.a,{style:e.users},"true"===I&&(L||R)?w.a.createElement(j,{style:{flex:1,width:D,marginRight:4},onPress:function(){var e,t,n,r,i,a,l,s,c,u,d,p;o.dapReportClickData(null==T?void 0:T.contentId,x,6,o.isApkOrIos()?"vmall://com.vmall.client/discoverNew/account?uid="+(null==T||null===(e=T.user)||void 0===e?void 0:e.uid)+"&nickName="+(null==T||null===(t=T.user)||void 0===t?void 0:t.nickname)+"&headPictureURL="+(null==T||null===(n=T.user)||void 0===n?void 0:n.portraitUri)+"&source="+(null==T||null===(r=T.user)||void 0===r?void 0:r.portrait):"",0===T.source?null==T||null===(i=T.accountDetail)||void 0===i?void 0:i.accountId:null==T||null===(a=T.user)||void 0===a?void 0:a.uid),0===T.anonymous?2===T.forwardType&&0===T.contentType?Object(tt.b)(T.outerLinks):o.handleApkPress(null==T?void 0:T.contentType,null==T?void 0:T.contentId):0===T.source?o.handleUserPage(null==T||null===(l=T.accountDetail)||void 0===l?void 0:l.accountId,null==T||null===(s=T.accountDetail)||void 0===s?void 0:s.accountName,null==T||null===(c=T.accountDetail)||void 0===c?void 0:c.portraitUri,(null==T?void 0:T.source)+""):o.handleUserPage(null==T||null===(u=T.user)||void 0===u?void 0:u.uid,null==T||null===(d=T.user)||void 0===d?void 0:d.nickname,null==T||null===(p=T.user)||void 0===p?void 0:p.portraitUri,(null==T?void 0:T.source)+"")}},w.a.createElement(S.a,{style:[e.bigCardUser,{flex:1,marginBottom:16}]},w.a.createElement(S.a,{style:{width:20,height:20}},Object(Ge.j)()?w.a.createElement(de.a,{imgUri:R&&0!==T.anonymous&&"null"!==(null==T||null===(s=T.user)||void 0===s?void 0:s.portraitUri)?0===T.source?null==T||null===(c=T.accountDetail)||void 0===c?void 0:c.portraitUri:null==T||null===(u=T.user)||void 0===u?void 0:u.portraitUri:Z.a.empty_user,imgStyle:e.bigCardUserImg,resizeMode:"cover",isUser:!0}):w.a.createElement(de.a,{localSource:R&&0!==T.anonymous&&"null"!==(null==T||null===(d=T.user)||void 0===d?void 0:d.portraitUri)?0===T.source?null==T||null===(p=T.accountDetail)||void 0===p?void 0:p.portraitUri:null==T||null===(f=T.user)||void 0===f?void 0:f.portraitUri:Z.a.empty_user,imgStyle:e.bigCardUserImg,resizeMode:"cover",isUser:!0})),w.a.createElement(V.a,{style:e.bigCardUserName,numberOfLines:1,ellipsizeMode:"tail"},0===T.source?null==T||null===(h=T.accountDetail)||void 0===h?void 0:h.accountName:null==T||null===(g=T.user)||void 0===g?void 0:g.nickname))):w.a.createElement(S.a,{style:{flex:1}}),w.a.createElement(S.a,{style:[e.bigCardMore,{marginBottom:"false"===k?0:16,height:"false"===k?0:16}]},"false"!==k?w.a.createElement(S.a,{style:e.bigCardSvgAndLikes},"readNum"===k?w.a.createElement(w.a.Fragment,null,Object(Ge.j)()?w.a.createElement(S.a,{style:[e.bigCardUnLikeSvg,{width:16}]},w.a.createElement(Ye.a,{source:{uri:Z.a.view},style:{width:15,height:9}})):w.a.createElement(S.a,{style:[e.bigCardUnLikeSvg,{width:A}]},w.a.createElement(ee.a,{normalCol:te.a.darkBool?"rgba(255,255,255,0.40)":"rgba(0,0,0,0.40)",iconName:"ic_public_password_visible",width:16,height:16}))):w.a.createElement(w.a.Fragment,null,Object(Ge.j)()?w.a.createElement(U.a,{style:[e.bigCardUnLikeSvg,{width:16}],onPress:function(){var e;(null!==(e=o.state.likeView)&&void 0!==e?e:o.props.data.isLike)?o.handleLike("dislike",null==T?void 0:T.contentId):o.handleLike("like",null==T?void 0:T.contentId)}},(null!==(m=o.state.likeView)&&void 0!==m?m:o.props.data.isLike)?w.a.createElement(Ye.a,{source:{uri:Z.a.thumbupRed},style:{width:16,height:16}}):w.a.createElement(Ye.a,{source:{uri:Z.a.thumbsup},style:{width:16,height:16}})):w.a.createElement(U.a,{style:[e.bigCardUnLikeSvg,{width:A}],onPress:function(){var e;(null!==(e=o.state.likeView)&&void 0!==e?e:o.props.data.isLike)?o.handleLike("dislike",null==T?void 0:T.contentId):o.handleLike("like",null==T?void 0:T.contentId)}},(null!==(y=o.state.likeView)&&void 0!==y?y:o.props.data.isLike)?w.a.createElement(ee.a,{iconName:"thumbs-up-fill",width:"20",height:"16",normalCol:"#CF0A2C"}):w.a.createElement(ee.a,{iconName:"thumbs-up",width:"16",height:"16",opacity:t.C15.opacity,normalCol:t.C15.color}))),w.a.createElement(V.a,{style:e.bigCardLikes},"readNum"===k?null!==(v=o.props.data)&&void 0!==v&&v.viewCount?null===(b=o.props.data)||void 0===b?void 0:b.viewCount:0:null!==(C=o.state.likeCount)&&void 0!==C?C:o.props.data.likeCount)):"false"===k?null:w.a.createElement(S.a,null))))))}))}}]),n}(b.PureComponent),v()(Qe,"defaultProps",{data:{},isPause:!0,videoProps:"1:1",showUserName:"true",showTitleTag:"false",likeOrRead:"likeNum",date:"ymd",showProduct:"true",pageType:"homePage",indexLocation:-1}),qe=Qe))||qe)||qe,it=Object(le.a)(nt)(Object(oe.a)(ot)),at={exposeItem:function(e,t){var n=this,r=this.itemlist,o=this.props,i=o.pageCatCode,a=o.pageCatName,l=o.resSiteCode,s=o.resSiteName,c=(o.cardId,{array:e.map((function(t,o){var i,a;return{comId:n.props.cardId,dataCode:null===(i=r[null===(a=e[o])||void 0===a?void 0:a.key])||void 0===i?void 0:i.contentId,dateType:"54",index:e[o].key+""||"0"}}))});return{isBatch:!0,commonData:{actionCode:110000103,actionName:"内容卡片曝光—一行一个",eventType:ce.e.EVENT_TYPE_EXPOSURE,pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s},content:c.array}},exposeItem_videoCard:function(e,t){var n=this.playerList,r=[];null==n||n.forEach((function(e,t){e&&r.push(t)}));for(var o=[],i=0;i<e.length;i++)e[i]&&r.includes(e[i].key)&&o.push(e[i]);if(o.length){var a=null;if(o[0]&&(a=n[o[0].key]),a&&"function"==typeof a.play)try{a.play();for(var l=0;l<o.length;l++)0!==l&&n[o[l].key].pause()}catch(e){}}t.forEach((function(e){if(e){var t=e.key,r=n[t];if(r&&"function"==typeof r.pause)try{r.pause()}catch(e){}}}))}},lt=C.a.create({view:{marginTop:6},waterFallView:{},card:{marginBottom:12}}),st=function(e){return C.a.create({lodingTitle:{fontSize:14,color:e.C13.color,opacity:e.C13.opacity}})};function ct(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var pt=function(e){p()(r,e);var t,n=dt(r);function r(e){var t;return a()(this,r),t=n.call(this,e),v()(u()(t),"componentName","ContentCardWaterFall"),v()(u()(t),"firstScreenHeigt",0),v()(u()(t),"spacing",8),v()(u()(t),"sideMargin",0),v()(u()(t),"listern",null),v()(u()(t),"listern1",null),v()(u()(t),"timer",null),v()(u()(t),"playerList",[]),v()(u()(t),"itemlist",[]),v()(u()(t),"commoditySuccess",!1),v()(u()(t),"contentSuccess",!1),v()(u()(t),"hasContentCard",!1),v()(u()(t),"hasLoading",!1),v()(u()(t),"firstVideoPlay",!1),v()(u()(t),"screenType",void 0),v()(u()(t),"loadingPostion","bottom"),v()(u()(t),"boxWidth",void 0),v()(u()(t),"isLogin",void 0),v()(u()(t),"layView",void 0),v()(u()(t),"listKey","hShow"),v()(u()(t),"visiableItemList",[]),v()(u()(t),"rowGutter",0),v()(u()(t),"columnGutter",8),v()(u()(t),"pageGutter",0),v()(u()(t),"colNum",1),v()(u()(t),"activeCard",0),v()(u()(t),"scrollTimer",void 0),v()(u()(t),"handleViewableItemsChanged",void 0),v()(u()(t),"_onScrollMomentEnd",(function(){var e;t.scrollTimer&&clearTimeout(t.scrollTimer),t.scrollTimer=setTimeout((function(){t.exposeItem(t.visiableItemList,t.props.comId)}),500);var n,r=ct(t.visiableItemList);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t.playerList[o]){if(t.activeCard===o)return;var i;if(t.playerList[o].play(),-1!=t.activeCard)null===(i=t.playerList[t.activeCard])||void 0===i||i.pause();return void(t.activeCard=o)}}}catch(e){r.e(e)}finally{r.f()}-1!==t.activeCard&&(null===(e=t.playerList[t.activeCard])||void 0===e||e.pause(),t.activeCard=-1)})),v()(u()(t),"getLogin",(function(){W.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&(t.isLogin=null==e?void 0:e.isLogin)}))})),v()(u()(t),"initWidth",(function(){W.a.invokeVmallNative("common","getWindowSize",{pageType:"activity"===t.props.pageType?"SeckillAndSmartLife":"homePage"}).then((function(e){if(null!=e&&e.windowWidth&&null!=e&&e.windowHeight){var n=1;(null==e?void 0:e.windowWidth)>=(null==e?void 0:e.windowHeight)&&"medium"===Object(P.a)(null==e?void 0:e.windowWidth)?n=3:(null==e?void 0:e.windowWidth)<(null==e?void 0:e.windowHeight)&&"medium"===Object(P.a)(null==e?void 0:e.windowWidth)&&(n=2),t.setState({column:n,screenWidth:null==e?void 0:e.windowWidth})}}))})),v()(u()(t),"isPad",(function(e){return"medium"===Object(P.a)(e)})),v()(u()(t),"isPadHorizonta",(function(){var e=Object(Ve.d)(t.props.pageType||"homePage").screenWidth,n=Object(Ve.d)(t.props.pageType||"homePage").screenHeight;return t.isPad(e)&&e>=n&&e>=1024})),v()(u()(t),"_getWindowSize",(function(){var e=Object(Ve.d)(t.props.pageType||"homePage"),n=e.screenWidth,r=e.screenHeight,o={screenWidth:n,screenHeight:r,column:1};return n>=r&&"medium"===Object(P.a)(n)?o.column=3:n<r&&"medium"===Object(P.a)(n)&&(o.column=2),o})),v()(u()(t),"_getItemHeight",(function(){return(("web"===N.a.OS?_.a.get("window").width:t._getWindowSize().screenWidth)-2*t.pageGutter-(t.colNum-1)*t.columnGutter)/t.colNum})),v()(u()(t),"renderFooter",(function(){var e=t.state,n=e.showLoading,r=e.loadState,o="100%";return t.state.screenWidth&&(o=t.state.screenWidth-("small"===t.screenType?56:88)),w.a.createElement(T.b,{themeStyles:st},(function(e){return w.a.createElement(A.a,{showLoading:n,position:t.loadingPostion,errorCallback:t._getAsyNcData,loadState:r,height:56,width:o,iconSize:24,titleStyle:e.lodingTitle})}))})),v()(u()(t),"getColNum",(function(){return t.isSmall()?1:t.isPadHorizonta()?3:2})),v()(u()(t),"_renderScroll",(function(e){return"web"===N.a.OS?w.a.createElement(S.a,e):w.a.createElement(J.a,o()({},e,{removeClippedSubviews:"ios"!==N.a.OS}))})),t.state={column:1,screenWidth:_.a.get("window").width,pageNum:1,showLoading:!0,loadState:1,allData:[],randomNumber:null,isFirst:!0},t._loading=t._loading.bind(u()(t)),t._loadMore=t._loadMore.bind(u()(t)),t._renderItem=t._renderItem.bind(u()(t)),t.receiveRef=t.receiveRef.bind(u()(t)),t._receivePlayer=t._receivePlayer.bind(u()(t)),t._getAsyNcData=t._getAsyNcData.bind(u()(t)),t._componentDidMount=t._componentDidMount.bind(u()(t)),t._getPageDataSourceContent=t._getPageDataSourceContent.bind(u()(t)),t.handleViewableItemsChanged=t.handleVisiableChange.bind(u()(t)),t.pageGutter=t.isSmall()?16:24,t.rowGutter=t.isPadHorizonta()?12:16,t.colNum=t.isSmall()?1:t.isPadHorizonta()?3:2,t}return s()(r,[{key:"isSmall",value:function(){return"small"===Object(P.a)(this._getWindowSize().screenWidth)}},{key:"componentDidMount",value:function(){var e=this;Object(Ge.j)()&&D.a.addListener("onScrollEvent",(function(t){e.props.typeuuid===t&&e._loadMore()})),B.a.isApp()&&(this.initWidth(),this.getLogin(),this.listern=D.a.addListener("NativeCallAction",(function(t){var n,r;if("login"===(null==t?void 0:t.service)&&"isLogin"===(null==t?void 0:t.action)&&e.isLogin!==(null==t||null===(n=t.param)||void 0===n?void 0:n.isLogin)&&"boolean"==typeof(null==t||null===(r=t.param)||void 0===r?void 0:r.isLogin)){e.itemlist.length=0,e.playerList.length=0;e.setState({allData:[].map((function(e,t){return e.indexLocation=t,e})),pageNum:1,showLoading:!0,loadState:1},(function(){var n;e.isLogin=null==t||null===(n=t.param)||void 0===n?void 0:n.isLogin,e._componentDidMount()}))}})),this.listern1=D.a.addListener("NativeCallAction",(function(t){var n;if(("screen"===(null==t?void 0:t.service)&&(null==t?void 0:t.action)===("activity"===e.props.pageType)||"rotateScreen")&&"number"==typeof(null==t||null===(n=t.param)||void 0===n?void 0:n.windowWidth)){var r,o,i,a,l,s,c,u,d,p=1;(null==t||null===(r=t.param)||void 0===r?void 0:r.windowWidth)>=(null==t||null===(o=t.param)||void 0===o?void 0:o.windowHeight)&&"medium"===Object(P.a)(null==t||null===(i=t.param)||void 0===i?void 0:i.windowWidth)?p=3:(null==t||null===(a=t.param)||void 0===a?void 0:a.windowWidth)<(null==t||null===(l=t.param)||void 0===l?void 0:l.windowHeight)&&"medium"===Object(P.a)(null==t||null===(s=t.param)||void 0===s?void 0:s.windowWidth)&&(p=2),e.setState({column:p,screenWidth:null==t||null===(c=t.param)||void 0===c?void 0:c.windowWidth}),e.spacing=(null==t||null===(u=t.param)||void 0===u?void 0:u.windowWidth)>(null==t||null===(d=t.param)||void 0===d?void 0:d.windowHeight)?12:8}}))),this._componentDidMount()}},{key:"_componentDidMount",value:function(){var e=this,t=1,n=this.props.pageSize,r=this.state.allData;if(this.hasLoading=!0,this._getPageDataSourceContent().then(function(){var o=L()(j.a.mark((function o(i){return j.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=r.concat(i),e.contentSuccess=!0,(null==i?void 0:i.length)<n&&(t=3),(null==i?void 0:i.length)>0&&(e.hasContentCard=!0);case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(){t=2,e.contentSuccess=!1})).finally((function(){var n={showLoading:1!==t,loadState:t,isFirst:!1,allData:r.map((function(e,t){return e.indexLocation=t,e}))};e.setState(n,(function(){e.hasLoading=!1}))})),this.spacing=this._getWindowSize().screenWidth>this._getWindowSize().screenHeight?12:8,!B.a.isApp()){var o=this._getWindowSize(),i=o.screenWidth,a=o.column;this.setState({column:a,screenWidth:i})}}},{key:"exposeItem",value:function(e,t){}},{key:"handleVisiableChange",value:function(e){var t,n=[],r=ct(e.viewableItems);try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o.index)}}catch(e){r.e(e)}finally{r.f()}this.visiableItemList=n,this._onScrollMomentEnd()}},{key:"componentDidCatch",value:function(e,t){}},{key:"componentWillUnmount",value:function(){B.a.isApp()&&(this.listern&&this.listern.remove(),this.listern1&&this.listern1.remove()),this.timer&&clearTimeout(this.timer),D.a.removeListener("onScrollEvent",(function(){}))}},{key:"_getPageDataSourceContent",value:(t=L()(j.a.mark((function e(){var t,n,r,o,i,a,l,s=this,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:1,n=this.props,r=n.pageSize,o=n.dataSourceCode,i=!1,"web"!==N.a.OS&&"ios"!==N.a.OS){e.next=10;break}return e.next=6,Object(H.I)();case 6:a=e.sent,i=1==a,e.next=14;break;case 10:if("android"!==N.a.OS){e.next=14;break}return e.next=13,Object(Ge.c)();case 13:i=e.sent;case 14:return l={dataSourceList:o,pageIndex:t,pageSize:r,isRecommended:"ios"===N.a.OS?i?"true":"false":i},e.abrupt("return",Object(F.m)(l).then((function(e){if(null!=e&&e.pageData){var n;if(null!==(n=e.pageData[o])&&void 0!==n&&n.length&&1!==t){var r=s.state.allData;r=r.concat(e.pageData[o]),s.setState({allData:r.map((function(e,t){return e.indexLocation=t,e}))})}return e.pageData[o]||[]}return Promise.reject(e)})));case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_receivePlayer",value:function(e,t,n){e.contentId=t.contentId,e.indexLocation=t.indexLocation,this.playerList[n]=e}},{key:"_renderItem",value:function(e){var t=this,n=e.item,r=e.index;if(!n)return null;var o=this.state.screenWidth,i=this.isPadHorizonta()&&r%3==1?20:this.isPadHorizonta()&&r%3==2?38:!this.isPadHorizonta()&&r%2!=0&&14,a=this.isSmall()?o-2*this.pageGutter-24:this.isPadHorizonta()?(o-2*this.pageGutter-48)/3:(o-2*this.pageGutter-32)/2,l=this.props,s=l.navigation,c=l.cardId,u=l.showUserName,d=l.showTitleTag,p=l.likeOrRead,f=l.date,h=l.showProduct,g=l.pageType,m=l.configInfo,y=l.pageCatCode,v=l.pageCatName,b=l.resSiteCode,C=l.resSiteName;return w.a.createElement(S.a,{style:{paddingBottom:12,paddingLeft:0,height:130,marginLeft:Object(Ge.j)()&&!this.isSmall()?i:0}},w.a.createElement(it,{data:n,iWidth:a,navigation:s,indexLocation:n.indexLocation,cardId:c,showUserName:u,showTitleTag:d,likeOrRead:p,date:f,pageType:g,isLogin:this.isLogin,configInfo:m,showProduct:h,receivePlayer:function(e){return t._receivePlayer(e,n,n.indexLocation)},receiveRef:function(e){e&&(e.videoCardRef=!0,t.receiveRef(e,n.indexLocation,n.contentId))},pageCatCode:y,pageCatName:v,resSiteCode:b,resSiteName:C}))}},{key:"_loading",value:function(){var e=this,t=this.state.pageNum,n=1;this.hasLoading=!0,this._getPageDataSourceContent(t).then(function(){var t=L()(j.a.mark((function t(r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null==r?void 0:r.length)<e.props.pageSize&&(n=3);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(L()(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=2;case 1:case"end":return e.stop()}}),e)})))).finally((function(){e.setState({showLoading:!0,loadState:1,pageNum:t}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.hasLoading=!1,e.setState({showLoading:1!==n,loadState:n})}),200)}))}},{key:"_loadMore",value:function(){var e,t=this.state,n=t.pageNum,r=t.loadState;this.hasLoading||1!==r||"4"!==(null===(e=this.props.configInfo)||void 0===e?void 0:e.more)||(this.hasLoading=!0,this.setState({pageNum:n+1,showLoading:!0,loadState:1},this._loading))}},{key:"_getAsyNcData",value:function(){var e=this.state.pageNum;this.setState({pageNum:e,showLoading:!0,loadState:1},this._loading)}},{key:"receiveRef",value:function(e,t,n){e&&(e.contentId=n,this.itemlist[t]=e)}},{key:"isApkOrIos",value:function(){return"android"===N.a.OS||"ios"===N.a.OS}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.allData;n.loadState;this.props._setData(0!==(null==r?void 0:r.length));this._getWindowSize().screenHeight,this.isSmall()?this.state.screenWidth:this.isPadHorizonta()?(this.state.screenWidth,this.pageGutter):this.state.screenWidth;this.screenType=Object(P.a)(this.state.screenWidth),this.firstScreenHeigt=Object(Ve.d)(this.props.pageType||"homePage").screenHeight;var o=this.getColNum();return this.colNum!=o&&(this.colNum=o,this.listKey="hShow"+this.colNum),r&&0!==r.length&&w.a.createElement(S.a,{style:[lt.view,{marginBottom:"4"!==(null===(e=this.props.configInfo)||void 0===e?void 0:e.more)?0:14}]},w.a.createElement(S.a,{style:lt.waterFallView},w.a.createElement(Ue.a,{col:o,dataArray:r,rowGutter:0,colGutter:this.isSmall()?0:this.isPadHorizonta()?12:8,pageGutter:0,boxWidth:this._getWindowSize().screenWidth-2*this.pageGutter-24,containerType:"ScrollView",renderScrollComponent:function(e){return t._renderScroll(e)},mainStyle:Object(Ge.j)()&&{marginLeft:0},singleItemStyle:Object(Ge.j)()&&{marginLeft:0},loadMore:this._loadMore,initialNumToRender:r.length,renderItem:this._renderItem,footer:this.renderFooter})))}}]),r}(b.PureComponent);v()(pt,"defaultProps",{showUserName:!0,showTitleTag:!0,likeOrlook:"likeNum",date:"ymd",showProduct:!0,pageInfo:{},pageSize:6,pageType:"homePage"});var ft=Object(x.a)(Object(le.a)(at)(Object(oe.a)(pt))),ht=n(35),gt=n.n(ht),mt=n(34),yt=n.n(mt),vt=n(431),bt=n(432),wt=n(119),St=n(1731);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt,Tt,xt=function(e){return C.a.create({prdAll:{width:"100%",margin:0},prdAllPc:{},noMarginBottom:{marginBottom:0},prdArea:{paddingLeft:16,paddingRight:16},prdAreaPad:{paddingLeft:24,paddingRight:24},prdAreaPc:{paddingLeft:0,paddingRight:0},WaterfallMainStyle:{marginTop:-8},moreBottomWrap:{display:"flex",marginLeft:24,marginRight:24,alignItems:"center",justifyContent:"center"},moreBottom:Ot(Ot(Ot({},e.T7),e.C13),{},{textAlign:"center",display:"flex",flexDirection:"row",lineHeight:24,alignItems:"center",justifyContent:"center",maxWidth:"100%",paddingTop:15,paddingBottom:14}),nodata:{alignItems:"center",justifyContent:"center",height:48,fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},touchView:{flexDirection:"row"},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},load:{margin:"auto",position:"absolute",top:80,width:"100%"}})};!function(e){e.none="1",e.topRight="2",e.bottom="3",e.up="4",e.current="5"}(Pt||(Pt={})),function(e){e.default="1",e.native="2",e.other="3",e.h5="4"}(Tt||(Tt={}));var It={exposeItem_product:function(e){var t=this;return{isBatch:!0,content:{array:e.map((function(e,n){return 2===(null==e?void 0:e.contentType)?null:{actionCode:110000103,actionName:(null==e?void 0:e.actionName)||"",eventType:ce.e.EVENT_TYPE_EXPOSURE,pageId:t.props.pageId,pageCatCode:(null==e?void 0:e.pageCatCode)||"",pageCatName:(null==e?void 0:e.pageCatName)||"",resSiteCode:(null==e?void 0:e.resSiteCode)||"",resSiteName:(null==e?void 0:e.resSiteName)||"",content:{comId:(null==e?void 0:e.comId)||"",index:(null==e?void 0:e.index)||"",dataCode:(null==e?void 0:e.dataCode)||"",dataType:(null==e?void 0:e.dataType)||""}}}))}.array}},exposeScrollEvent:function(e,t){var n,r,o,i,a,l=e,s={index:(null===(n="upward"===t?l[l.length-1]:l[0])||void 0===n?void 0:n.itemIndex)+"",comId:this.props.id?this.props.id:""};return{isBatch:!0,commonData:{actionCode:110000103,actionName:"upward"===t?"上滑瀑布流":"下拉瀑布流",eventType:"upward"===t?ce.e.EVENT_TYPE_PULL_SLIDEUP:ce.e.EVENT_TYPE_PULL_DOWN,pageId:this.props.pageId,pageCatCode:(null===(r=this.props)||void 0===r?void 0:r.pageCatCode)||"",pageCatName:(null===(o=this.props)||void 0===o?void 0:o.pageCatName)||"",resSiteCode:(null===(i=this.props)||void 0===i?void 0:i.resSiteCode)||"",resSiteName:(null===(a=this.props)||void 0===a?void 0:a.resSiteName)||""},content:[s]}},clickItem:function(e){return e}},kt=n(63),Et=n(127),jt=n(114),Rt=n(174);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt,Nt,Wt,At=function(e){return C.a.create({contentBox:_t(_t({borderRadius:8,flexDirection:"column",overflow:"hidden"},e.S31),{},{marginTop:8}),img:{width:"100%",height:"100%"},topicOuter:{marginHorizontal:8,marginTop:8,height:28,flexDirection:"row"},topicInner:_t(_t({},e.S13),{},{height:"100%",borderRadius:56,flexDirection:"column",justifyContent:"center",flexShrink:1}),topicText:_t(_t(_t({},e.T4),e.C12),{},{fontFamily:q.a.fontFamilyMedium,flexShrink:1,marginHorizontal:8,textAlign:"center"}),contentItem:{marginHorizontal:8,marginTop:8,height:38,flexShrink:1,flexDirection:"row"},contentText:_t(_t(_t({},e.T8),e.C12),{},{fontFamily:q.a.fontFamilyMedium}),bottomOuter:{marginHorizontal:8,flexDirection:"row"},bottomLeft:{flexDirection:"row",flexShrink:1},userImageStyle:{marginRight:4,width:20,height:20,borderRadius:40},userImageSvgOne:{color:e.C31.color},userImageSvgTwo:{color:e.C35.color},userNameStyle:{flexShrink:1,justifyContent:"center"},userNameText:_t(_t(_t({},e.T3),e.C11),{},{opacity:.4,textAlign:"left",fontFamily:q.a.fontFamilyBase}),bottomRight:{height:28,paddingTop:8,paddingLeft:8,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},userThumbText:_t(_t(_t({},e.T1),e.C11),{},{opacity:.4,marginLeft:2,textAlign:"right",fontFamily:q.a.fontFamilyBase})})},Bt={expose_videoItem:function(e,t){var n,r;if(2===(null===(n=this.props)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.contentType)){var o,i={index:this.props.index,flag:e.length>0&&void 0===(null===(o=t[0])||void 0===o?void 0:o.key),onlyId:this.props.onlyId};D.a.emit("videoCardExpose",i)}},clickItem:function(e){var t,n=this.props,r=n.pageCatCode,o=n.pageCatName,i=n.resSiteCode,a=n.resSiteName;return{data:{actionCode:110000102,actionName:"点击相应热区",eventType:ce.e.EVENT_TYPE_CLICK,content:{comId:e.comId||"",gotoURL:e.gotoURL||"",gotoPageId:"",dataCode:e.TypeName||"",dataType:"53",index:null===(t=e.index)||void 0===t?void 0:t.toString(),clickType:e.clickIndex+""||"",nextLocation:e.nextPage+""||""},pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a}}},exposeItem:function(e){var t,n,r,o,i,a,l,s,c,u=[{comId:(null===(t=this.props)||void 0===t?void 0:t.comId)||"",dataCode:(null===(n=this.props.data)||void 0===n?void 0:n.contentId)||"",dataType:"53",index:(null===(r=this.props)||void 0===r||null===(o=r.index)||void 0===o?void 0:o.toString())||""}];return{isBatch:!0,commonData:{actionCode:110000103,actionName:"内容小卡曝光",eventType:ce.e.EVENT_TYPE_EXPOSURE,pageId:"undefined"!==this.props.pageId&&null!==(i=this.props)&&void 0!==i&&i.pageId?this.props.pageId:Ce.a.pageId,pageCatCode:(null===(a=this.props)||void 0===a?void 0:a.pageCatCode)||"",pageCatName:(null===(l=this.props)||void 0===l?void 0:l.pageCatName)||"",resSiteCode:(null===(s=this.props)||void 0===s?void 0:s.resSiteCode)||"",resSiteName:(null===(c=this.props)||void 0===c?void 0:c.resSiteName)||""},content:u}}};function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Ft=function(e){p()(n,e);var t=Mt(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"componentName","ContentVerticalItem"),v()(u()(r),"firstScreenHeigt",void 0),v()(u()(r),"item",void 0),v()(u()(r),"_panResponder",void 0),v()(u()(r),"_panResponderApk",void 0),v()(u()(r),"goodTimmer",void 0),v()(u()(r),"itemlist",[]),v()(u()(r),"isApkOrIos",(function(){return"android"===N.a.OS||"ios"===N.a.OS})),v()(u()(r),"_getSize",(function(){return"web"===N.a.OS?_.a.get("window"):{width:Object(H.x)(r.props.pageType||"activity").screenWidth,height:Object(H.x)(r.props.pageType||"activity").screenHeight}})),v()(u()(r),"isPad",(function(){return"medium"===Object(P.a)(r._getSize().width)})),v()(u()(r),"isApp",(function(){return"small"===Object(P.a)(r._getSize().width)})),v()(u()(r),"prodRef",(function(e){var t,n,o,i;if(e)2===(null===(t=r.props)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.contentType)&&r.itemlist.push(e),"function"==typeof r.props.receiveRef&&r.props.receiveRef(e);else if("web"!==N.a.OS&&2===(null===(o=r.props)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.contentType)){var a={index:r.props.index,flag:!1,onlyId:r.props.onlyId};D.a.emit("videoCardExpose",a)}})),v()(u()(r),"dapReportClickData",(function(e,t,n,o,i){var a=r.props.clickItem;-1!==t&&(a({comId:r.props.cardId,TypeName:e,index:t,clickIndex:n,gotoURL:o,nextPage:i}),Object(se.b)("",!0))})),v()(u()(r),"handlePress",(function(e,t,n){var o=r.isApkOrIos()?e+n:"";Object(H.A)(o)})),v()(u()(r),"handleUserPage",(function(e,t,n,o){var i=r.isApkOrIos()?"vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+o:"";Object(H.A)(i)})),v()(u()(r),"handleApkPress",(function(e,t){var n=0===e?"longContent":1===e?"shortContent":"video";Object(H.A)(r.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+n+"?contentId="+t:Wt+t)})),v()(u()(r),"wapIsLogin",(function(){return K.a.get("uid")})),v()(u()(r),"receivePlayer",(function(e){"function"==typeof r.props.receivePlayer&&r.props.receivePlayer(e)})),v()(u()(r),"postLike",(function(e){Object(F.B)({portal:Object(H.F)()?"4":r.isApkOrIos()?"3":"2",country:ae.d.CN,lang:ae.e.CN,beCode:ae.d.CN,version:"",itemID:e,ccsItemType:"1"}).then((function(t){void 0!==(null==t?void 0:t.count)?r.setState({likeCount:t.count,likeView:!0}):"5014003"===(null==t?void 0:t.resultCode)&&r.postDisLike(e)}))})),v()(u()(r),"postDisLike",(function(e){Object(F.b)({portal:Object(H.F)()?"4":r.isApkOrIos()?"3":"2",country:ae.d.CN,lang:ae.e.CN,version:"",beCode:ae.d.CN,itemID:e,ccsItemType:"1"}).then((function(t){void 0!==(null==t?void 0:t.count)?r.setState({likeCount:t.count,likeView:!1}):"5014004"===(null==t?void 0:t.resultCode)&&r.postLike(e)}))})),v()(u()(r),"handleLike",(function(e,t){Object(H.F)()?Object(H.z)()?"like"===e?r.postLike(t):r.postDisLike(t):Object(H.u)():r.isApkOrIos()?r.props.isLogin?"like"===e?r.postLike(t):r.postDisLike(t):Object(H.A)("vmall://com.vmall.client/home/login"):r.wapIsLogin()?"like"===e?r.postLike(t):r.postDisLike(t):Object(H.A)("".concat(Dt,"account/applogin?url=")+Nt)})),r.state={likeView:void 0,likeCount:void 0},r}return s()(n,[{key:"componentDidMount",value:function(){Dt=re.a.wapDomain,Wt="".concat(Dt,"newContent/detail?contentId="),Nt="activity"===this.props.pageType?"".concat(Dt,"portal/activity/index.html?pageId=").concat(re.a.pageId):"".concat(Dt,"index.html")}},{key:"componentWillUnmount",value:function(){this.goodTimmer&&clearTimeout(this.goodTimmer)}},{key:"componentWillMount",value:function(){this._panResponder=z.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=z.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"render",value:function(){var e=this;return this.firstScreenHeigt=this._getSize().height,w.a.createElement(T.b,{themeStyles:At},(function(t,n){var r,o,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b,C=e.props,O=C.iWidth,P=C.data,T=C.indexLocation,x=C.style,I=C.showUserName,k=C.showTitleTag,E=C.likeOrRead,j=C.configInfo,R=C.isPadHorizontal,L=null!=P&&P.pictures&&(null==P||null===(r=P.pictures)||void 0===r?void 0:r.length)>0?null==P?void 0:P.pictures[0]:void 0,_=0===P.anonymous?G.a:U.a,D=!(null===(o=P.topicDetail)||void 0===o||!o.title),W=!(null==P||!P.title)||!(null==P||!P.summary),A=0===P.source?!(null===(i=P.accountDetail)||void 0===i||!i.portraitUri):!(null===(a=P.user)||void 0===a||!a.portraitUri),B=0===P.source?!(null===(l=P.accountDetail)||void 0===l||!l.accountName):!(null===(s=P.user)||void 0===s||!s.nickName),M=!(null==P||!P.previewVideoUrl)||!(null==P||!P.videoUri),F=0===P.contentType?"1:1"!==(null==j?void 0:j.longPicTextProportion)?5*O/4:O:1===P.contentType?"1:1"!==(null==j?void 0:j.shortPicTextProportion)?5*O/4:O:"1:1"!==(null==j?void 0:j.videoProportion)?5*O/4:O,z=null===(c=P.topicDetail)||void 0===c||null===(u=c.title)||void 0===u?void 0:u.startsWith("#"),Y="true"===I&&(B||A)||"false"!==E;return w.a.createElement(S.a,"web"===N.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,w.a.createElement(U.a,{onPress:function(){e.dapReportClickData(null==P?void 0:P.contentId,T,26,2===P.forwardType&&0===P.contentType?null==P?void 0:P.outerLinks:e.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+(0===(null==P?void 0:P.contentType)?"longContent":1===(null==P?void 0:P.contentType)?"shortContent":"video")+"?contentId="+(null==P?void 0:P.contentId):Wt+(null==P?void 0:P.contentId),null==P?void 0:P.contentId),2===P.forwardType&&0===P.contentType?Object(H.A)(P.outerLinks):e.handleApkPress(null==P?void 0:P.contentType,null==P?void 0:P.contentId)},style:[t.contentBox,{width:O},R&&{marginTop:12},e.props.colNum&&T<e.props.colNum&&{marginTop:0},x],activeOpacity:1},w.a.createElement(U.a,{onPress:function(){e.dapReportClickData(null==P?void 0:P.contentId,T,26,2===P.forwardType&&0===P.contentType?null==P?void 0:P.outerLinks:e.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+(0===(null==P?void 0:P.contentType)?"longContent":1===(null==P?void 0:P.contentType)?"shortContent":"video")+"?contentId="+(null==P?void 0:P.contentId):Wt+(null==P?void 0:P.contentId),null==P?void 0:P.contentId),2===P.forwardType&&0===P.contentType?Object(H.A)(P.outerLinks):e.handleApkPress(null==P?void 0:P.contentType,null==P?void 0:P.contentId)},style:{width:O,height:F},activeOpacity:1,ref:e.prodRef},0===P.contentType?w.a.createElement(de.a,{imgUri:null!=P&&P.coverUri?P.coverUri:ne.l,imgStyle:t.img,resizeMode:"cover",resizeWidth:O}):1===P.contentType?w.a.createElement(de.a,{imgUri:null!=P&&P.coverUri?P.coverUri:L,imgStyle:t.img,resizeMode:"cover",resizeWidth:O}):M?w.a.createElement(ie.a,{ref:e.receivePlayer,width:"100%",height:"100%",sourceUrl:null!=P&&P.previewVideoUrl?null==P?void 0:P.previewVideoUrl:P.videoUri,isPause:!0,poster:null==P?void 0:P.coverUri,aspectRatio_wap:"1:1"!==(null==j?void 0:j.videoProportion)?"4:5":"1:1",type:4}):w.a.createElement(de.a,{imgUri:ne.l,imgStyle:t.img})),"true"===k&&D?w.a.createElement(S.a,{style:[t.topicOuter]},w.a.createElement(U.a,{style:t.topicInner,onPress:function(){e.dapReportClickData(null==P?void 0:P.contentId,T,4,e.isApkOrIos()?"vmall://com.vmall.client/discoverNew/topic?topicId="+(null==P?void 0:P.topicId):"",null==P?void 0:P.topicId),e.handlePress("vmall://com.vmall.client/discoverNew/topic?topicId=","",null==P?void 0:P.topicId)}},w.a.createElement(V.a,{style:t.topicText,numberOfLines:1,ellipsizeMode:"tail"},D?z?P.topicDetail.title:"#"+P.topicDetail.title:""))):null,W?w.a.createElement(S.a,{style:t.contentItem},w.a.createElement(V.a,{style:[t.contentText,"ios"===N.a.OS&&{lineHeight:18}],numberOfLines:2,ellipsizeMode:"tail"},null!=P&&P.title?null==P?void 0:P.title:null==P?void 0:P.summary)):null,Y?w.a.createElement(S.a,{style:t.bottomOuter},"true"===I&&(B||A)?w.a.createElement(_,{style:t.bottomLeft,onPress:function(){var t,n,r,o,i,a,l,s,c,u,d,p,f,h;e.dapReportClickData(null==P?void 0:P.contentId,T,6,0!==P.anonymous?e.isApkOrIos()?0===(null==P?void 0:P.source)?"vmall://com.vmall.client/discoverNew/account?uid="+(null==P||null===(t=P.accountDetail)||void 0===t?void 0:t.accountId)+"&nickName="+(null==P||null===(n=P.accountDetail)||void 0===n?void 0:n.accountName)+"&headPictureURL="+(null==P||null===(r=P.accountDetail)||void 0===r?void 0:r.portraitUri)+"&source="+(null==P?void 0:P.source):"vmall://com.vmall.client/discoverNew/account?uid="+(null==P||null===(o=P.user)||void 0===o?void 0:o.uid)+"&nickName="+(null==P||null===(i=P.user)||void 0===i?void 0:i.nickname)+"&headPictureURL="+(null==P||null===(a=P.user)||void 0===a?void 0:a.portraitUri)+"&source="+(null==P?void 0:P.source):"":2===P.forwardType&&0===P.contentType?null==P?void 0:P.outerLinks:e.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+(0===(null==P?void 0:P.contentType)?"longContent":1===(null==P?void 0:P.contentType)?"shortContent":"video")+"?contentId="+(null==P?void 0:P.contentId):Wt+(null==P?void 0:P.contentId),0!==P.anonymous?0===P.source?null==P||null===(l=P.accountDetail)||void 0===l?void 0:l.accountId:null==P||null===(s=P.user)||void 0===s?void 0:s.uid:null==P?void 0:P.contentId),0===P.anonymous?2===P.forwardType&&0===P.contentType?Object(H.A)(P.outerLinks):e.handleApkPress(null==P?void 0:P.contentType,null==P?void 0:P.contentId):0===P.source?e.handleUserPage(null==P||null===(c=P.accountDetail)||void 0===c?void 0:c.accountId,null==P||null===(u=P.accountDetail)||void 0===u?void 0:u.accountName,null==P||null===(d=P.accountDetail)||void 0===d?void 0:d.portraitUri,(null==P?void 0:P.source)+""):e.handleUserPage(null==P||null===(p=P.user)||void 0===p?void 0:p.uid,null==P||null===(f=P.user)||void 0===f?void 0:f.nickname,null==P||null===(h=P.user)||void 0===h?void 0:h.portraitUri,(null==P?void 0:P.source)+"")}},w.a.createElement(S.a,{style:{flexDirection:"row",flexShrink:1,marginTop:8}},w.a.createElement(de.a,{localSource:A&&0!==P.anonymous&&"null"!==(null==P||null===(d=P.user)||void 0===d?void 0:d.portraitUri)?{uri:0===P.source?null==P||null===(p=P.accountDetail)||void 0===p?void 0:p.portraitUri:null==P||null===(f=P.user)||void 0===f?void 0:f.portraitUri}:Z.a.empty_user,imgStyle:t.userImageStyle,isUser:!0,resizeMode:"cover"}),w.a.createElement(S.a,{style:[t.userNameStyle]},w.a.createElement(V.a,{style:t.userNameText,numberOfLines:1,ellipsizeMode:"tail"},0===P.source?null==P||null===(h=P.accountDetail)||void 0===h?void 0:h.accountName:null==P||null===(g=P.user)||void 0===g?void 0:g.nickname)))):null,"readNum"===E?w.a.createElement(S.a,{style:[t.bottomRight,{flexGrow:1}]},w.a.createElement(ee.a,{normalCol:te.a.darkBool?"rgba(255,255,255,0.40)":"rgba(0,0,0,0.40)",iconName:"ic_public_password_visible",width:16,height:16}),w.a.createElement(V.a,{style:t.userThumbText,numberOfLines:1},null!==(m=e.props.data)&&void 0!==m&&m.viewCount?null===(y=e.props.data)||void 0===y?void 0:y.viewCount:0)):"likeNum"===E?w.a.createElement(S.a,{style:{flexGrow:1,flexDirection:"row",justifyContent:"flex-end"}},w.a.createElement(U.a,{style:t.bottomRight,onPress:function(){var t;(null!==(t=e.state.likeView)&&void 0!==t?t:e.props.data.isLike)?e.handleLike("dislike",null==P?void 0:P.contentId):e.handleLike("like",null==P?void 0:P.contentId)}},(null!==(v=e.state.likeView)&&void 0!==v?v:e.props.data.isLike)?w.a.createElement(ee.a,{iconName:"thumbs-up-fill",width:"16",height:"16",normalCol:"#CF0A2C"}):w.a.createElement(ee.a,{iconName:"thumbs-up",width:"16",height:"16",opacity:n.C15.opacity,normalCol:n.C15.color}),w.a.createElement(V.a,{style:t.userThumbText,numberOfLines:1},null!==(b=e.state.likeCount)&&void 0!==b?b:e.props.data.likeCount))):null):null,"true"===k&&D||W||Y?w.a.createElement(S.a,{style:{width:"100%",height:8}}):null))}))}}]),n}(b.PureComponent);v()(Ft,"defaultProps",{data:{},isPause:!0,videoProps:"1:1",showUserName:"true",showTitleTag:"true",likeOrRead:"likeNum",pageType:"activity",indexLocation:-1});var Ht,zt=Object(le.a)(Bt)(Object(oe.a)(Ft));function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Yt=Object(Oe.c)(Ht=function(e){p()(r,e);var t,n=Gt(r);function r(e){var t,o,i,l;return a()(this,r),l=n.call(this,e),v()(u()(l),"headHeight",0),v()(u()(l),"mainStyleMg",void 0),v()(u()(l),"itemlist",[]),v()(u()(l),"visibleForItemList",[]),v()(u()(l),"componentName","ContentLittleWaterFall"),v()(u()(l),"playerList",[]),v()(u()(l),"playerIndex",[]),v()(u()(l),"firstScreenHeigt",0),v()(u()(l),"loadMore",!0),v()(u()(l),"loadOrNot",!1),v()(u()(l),"newestData",void 0),v()(u()(l),"timer",void 0),v()(u()(l),"clickTimer",void 0),v()(u()(l),"loadAllTimer",void 0),v()(u()(l),"num",void 0),v()(u()(l),"prefix",void 0),v()(u()(l),"loadMoreParamsTid",void 0),v()(u()(l),"videoCardListener",void 0),v()(u()(l),"listenerNative",void 0),v()(u()(l),"onClickTitleMore",void 0),v()(u()(l),"prevPlayVideo",void 0),v()(u()(l),"onlyId",(new Date).getTime()+(1e6*Math.random()).toFixed()),v()(u()(l),"itemWidth",void 0),v()(u()(l),"listener",void 0),v()(u()(l),"layoutProvider",void 0),v()(u()(l),"timer1",void 0),v()(u()(l),"timer2",void 0),v()(u()(l),"timer3",void 0),v()(u()(l),"listenerSwitch",void 0),v()(u()(l),"titleShowFlag",!1),v()(u()(l),"listerShow",void 0),v()(u()(l),"isLogin",void 0),v()(u()(l),"isRecommended",void 0),v()(u()(l),"colNum",2),v()(u()(l),"handleVideoCardExpose",(function(e){var t;if(e&&(!l.onlyId||l.onlyId==e.onlyId)){var n=l.playerList.length;l.isApkOrIos()&&(n=l.state.dataArray.length);var r=e.index;if(!(void 0===r||n<1)&&("web"===N.a.OS||e.flag||null!==(t=l.playerList[r])&&void 0!==t&&t.flag)&&r>=0&&r<n&&l.playerList[r]){l.playerList[r].flag=e.flag;for(var o=-1,i=0;i<n;i++)if(l.playerList[i]&&"function"==typeof l.playerList[i].play&&l.playerList[i].flag){if(!("web"!==N.a.OS&&l.playerList[r].flag&&r-i>12)){o=i;break}l.playerList[i].flag=!1}if(-1!=o){var a=l.playerList[o];if(a&&a.flag){if(l.prevPlayVideo&&l.prevPlayVideo!=a&&"function"==typeof l.prevPlayVideo.pause)try{l.prevPlayVideo.pause()}catch(e){}try{o!=r?l.prevPlayVideo&&l.prevPlayVideo!=a?a.playStart():a.play():a.playStart()}catch(e){}l.prevPlayVideo=a}}else if(l.prevPlayVideo&&"function"==typeof l.prevPlayVideo.pause)try{l.prevPlayVideo.pause()}catch(e){}}}})),v()(u()(l),"getLogin",(function(){W.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&(l.isLogin=null==e?void 0:e.isLogin)}))})),v()(u()(l),"handleAppStateChangeWeb",(function(e){"active"===e&&(l.timer3&&clearTimeout(l.timer3),l.timer3=setTimeout((function(){var e,t;if(l.prevPlayVideo&&null!==(e=l.prevPlayVideo)&&void 0!==e&&e.flag&&"function"==typeof(null===(t=l.prevPlayVideo)||void 0===t?void 0:t.play))try{l.prevPlayVideo.play()}catch(e){}}),1500))})),v()(u()(l),"getWidthAndHeight",(function(e,t){l.timer2&&clearTimeout(l.timer2),l.timer2=setTimeout((function(){D.a.emit("videoForOnScrollEvent")}),1500),t&&(l.firstScreenHeigt=t)})),v()(u()(l),"onHomeRefresh",(function(e){if(B.a.isApp()&&l.props.pageType===e&&l.state.isWaterfall&&l.props.isNewWaterfall){l.itemlist.length=0,l.playerList.length=0,l.prevPlayVideo=void 0;l.setState({dataArray:[].map((function(e,t){return e})),pageNum:l.props.pageInfo.pageNum,loadState:1},(function(){l.loadMore=!0,l.initData()}))}})),v()(u()(l),"getSize",(function(){return Object(P.a)(l.getWidth())})),v()(u()(l),"isPc",(function(){return"large"===l.getSize()})),v()(u()(l),"isPad",(function(){return"medium"===l.getSize()})),v()(u()(l),"isApp",(function(){return"small"===l.getSize()})),v()(u()(l),"isApkOrIos",(function(){return"android"===N.a.OS||"ios"===N.a.OS})),v()(u()(l),"getWidth",(function(){return"android"===N.a.OS&&l.props.isNewWaterfall?Object(H.x)(l.props.uniqueKey).screenWidth:Object(H.x)(l.props.pageType||"activity").screenWidth})),v()(u()(l),"getHeight",(function(){return _.a.get("window").height})),v()(u()(l),"isPadHorizontal",(function(){return l.isPad()&&l.getWidth()>=l.getHeight()&&l.getWidth()>=1024})),v()(u()(l),"getIsRecommended",L()(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,"web"!==N.a.OS){e.next=8;break}return e.next=4,Object(H.I)();case 4:n=e.sent,t=1==n,e.next=12;break;case 8:if(!B.a.isApp()){e.next=12;break}return e.next=11,Object(H.s)();case 11:t=e.sent;case 12:l.isRecommended=t;case 13:case"end":return e.stop()}}),e)})))),v()(u()(l),"onHeadLayout",(function(e){var t,n,r=(null==e||null===(t=e.nativeEvent)||void 0===t||null===(n=t.layout)||void 0===n?void 0:n.height)||0;l.headHeight=r})),v()(u()(l),"getPlatformPrefix",(function(){return{platformType:l.isApkOrIos()?ce.f.APP:l.isPc()?ce.f.PC:ce.f.WAP,eventID:l.isApkOrIos()?ce.d.APP:l.isPc()?ce.d.PC:ce.d.WAP}})),v()(u()(l),"onClickSingleCard",(function(e){l.props.clickItem(e)})),v()(u()(l),"_loadMore",(function(){l.loadMore&&(l.loadMore=!1,l._getAsyNcData())})),v()(u()(l),"_getAsyNcData",(function(e){l.loadMore=!1,l.productGetData()})),v()(u()(l),"productGetData",L()(j.a.mark((function e(){var t,n,r,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,"web"!==N.a.OS&&"ios"!==N.a.OS){e.next=8;break}return e.next=4,Object(H.I)();case 4:n=e.sent,t=1==n,e.next=12;break;case 8:if("android"!==N.a.OS){e.next=12;break}return e.next=11,Object(H.s)();case 11:t=e.sent;case 12:r={dataSourceList:l.props.dataSourceCode,pageIndex:l.state.pageNum,pageSize:l.props.pageInfo.pageSize,isRecommended:"ios"===N.a.OS?t?"true":"false":t},o=Object(F.m)(r),i=new Promise((function(e,t){setTimeout((function(){t(new Error("Network Error"))}),5e3)})),Promise.race([o,i]).then((function(e){l._asyNcCallback(e)})).catch((function(){l.titleShowFlag=!0,l.setState({showLoading:!0,loadState:2,showFullLoading:!1})}));case 16:case"end":return e.stop()}}),e)})))),v()(u()(l),"initData",L()(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.props.pageInfo,n=t.pageSize||18,l._getAsyNcData(n);case 3:case"end":return e.stop()}}),e)})))),v()(u()(l),"getItemWidth",(function(e,t,n){return l.itemWidth=(e-(t-1)*n)/t,l.itemWidth})),v()(u()(l),"setVideoPlayerIndex",(function(e,t){l.playerIndex[e]=t})),v()(u()(l),"receiveRef",(function(e,t,n){e&&(n&&(e.exposeObj=n),l.itemlist[t]=e)})),v()(u()(l),"renderTitleAndMore",(function(e,t){var n;return l.isPc()||!l.props.isNewWaterfall&&!l.titleShowFlag||l.state.noData&&0===(null===(n=l.state.dataArray)||void 0===n?void 0:n.length)?w.a.createElement(S.a,null):w.a.createElement(S.a,{onLayout:l.props.isNewWaterfall&&l.onHeadLayout,style:[{backgroundColor:l.isApkOrIos()&&l.state.isWaterfall&&l.props.isNewWaterfall?t.bgColor:null},l.state.isWaterfall&&l.props.isNewWaterfall&&l.isApkOrIos()&&(l.props.isGroupStyleChange?{paddingTop:l.mainStyleMg}:{marginTop:l.mainStyleMg})]},w.a.createElement(k.a,{isDisplayTitleBar:e.titleShow,title:e.cardTitle,subTitle:(null==e?void 0:e.moreTitle)||Object(bt.b)("notice_more"),moreUrl:l.state.moreUrl,onClickMore:l.onClickTitleMore,showSetting:null==e?void 0:e.showSetting,imgNormal:null==e?void 0:e.imgNormal,imgDarkMode:null==e?void 0:e.imgDarkMode,styleChange:t,isDisplayMore:!l.props.withTabs&&(null==e?void 0:e.moreUrlType)===Tt.h5&&e.moreVal===Pt.topRight,pageType:l.props.pageType}))})),v()(u()(l),"renderFooter",(function(){var e,t;return l.props.isNewWaterfall&&(null===(e=l.props)||void 0===e?void 0:e.pageType)!==ae.g.subTabSetPage&&l.state.noData?w.a.createElement(S.a,{style:[{height:24},l.props.backStyle,l.props.pageBackgroundColor&&{backgroundColor:l.props.pageBackgroundColor}]}):l.state.hasLoadMore&&w.a.createElement(S.a,null,w.a.createElement(T.b,{themeStyles:xt},(function(e,t){var n,r,o,i,a=null!==(n=l.props)&&void 0!==n&&null!==(r=n.styleChange)&&void 0!==r&&r.fontColor?{color:null===(o=l.props)||void 0===o||null===(i=o.styleChange)||void 0===i?void 0:i.fontColor}:{};return w.a.createElement(A.a,{showLoading:l.state.showLoading,position:l.state.loadingPostion,errorCallback:l._getAsyNcData,loadState:l.state.loadState,height:3===l.state.loadState?48:56,iconSize:24,titleStyle:Vt(Vt({},e.lodingTitle),a)})})),l.props.isNewWaterfall&&(null===(t=l.props)||void 0===t?void 0:t.pageType)!==ae.g.subTabSetPage&&w.a.createElement(S.a,{style:[{height:24},l.props.backStyle,l.props.pageBackgroundColor&&{backgroundColor:l.props.pageBackgroundColor}]}))})),v()(u()(l),"renderSinglePrd",(function(e,t){if(l.isApkOrIos()&&!l.props.isNewWaterfall&&e&&"littleItemKey"===(null==e?void 0:e.littleItemKey))return w.a.createElement(S.a,{style:{width:l.itemWidth,height:1}});var n=l.props,r=n.navigation,o=n.cardId,i=n.showUserName,a=n.showTitleTag,s=n.likeOrRead,c=n.pageType,u=n.configInfo,d=n.pageCatCode,p=n.pageCatName,f=n.resSiteCode,h=n.resSiteName,g=n.dataCode,m=void 0!==e.originIndex?e.originIndex:t,y={comId:l.props.id,itemIndex:m+"",index:m+"",actionName:"内容小卡曝光",contentType:null==e?void 0:e.contentType,dataCode:(null==e?void 0:e.contentId)||"",dataType:"53",pageCatCode:l.props.pageCatCode,pageCatName:l.props.pageCatName,resSiteCode:l.props.resSiteCode,resSiteName:l.props.resSiteName};return w.a.createElement(zt,{data:e,navigation:r,indexLocation:t,cardId:o,showUserName:i,showTitleTag:a,likeOrRead:s,pageType:c,isLogin:l.isLogin,configInfo:u,pageCatCode:d,pageCatName:p,resSiteCode:f,resSiteName:h,receiveRef:function(e){return l.receiveRef(e,t,y)},iWidth:l.itemWidth,index:t,receivePlayer:function(e){return l._receivePlayer(e,t)},key:m,comId:l.props.id+"",onlyId:l.onlyId,dataCode:g,gotoPageId:l.props.gotoPageId,pageId:l.props.pageId,isPadHorizontal:l.isPadHorizontal(),firstScreenHeigt:l.firstScreenHeigt,colNum:l.colNum})})),v()(u()(l),"renderProductBody",(function(){l.mainStyleMg=l.isPc()?24:12;var e=l.state.dataArray,t=u()(l),n=t.isPc,r=t.isPad,o=t.isApp,i=t.getWidth,a=l.isPadHorizontal(),s=l.props,c=s.configData,d=s.pageInfo,p=c.layoutType,f=null,h=n()||a?4:o()?2:3,g=n()||a?12:8,m=n()||a?24:o()?16:24,y=i(),v=o()?y-32:r()?y-48:wt.a.safety_area;c.isPadHorizontal=a,l.colNum=h;var b,S,C=0;(2===h||3===h||4===h?C=((v||l.props.width)-g*(h-1))/h:1===h&&(C=v||l.props.width),l.itemWidth=C,p)&&(l.getItemWidth(v,h,g),e.forEach((function(t,n){e[n].realIndex=n,e[n].originIndex=n})),f=l.isApkOrIos()&&l.props.isNewWaterfall?w.a.createElement(Et.a,{style:l.props.pageStyle,columnCount:h,gutter:g,pageGutter:m,layoutProvider:l.layoutProvider,dataProvider:l.state.dataProvider.cloneWithRows(e),scrollViewProps:{removeClippedSubviews:"ios"!==N.a.OS,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,refreshControl:l.props.refreshControl,overScrollMode:"never",onScrollBeginDrag:l.props.onScrollBeginDrag,onMomentumScrollEnd:l.props.onMomentumScrollEnd,styleChange:[l.props.pageBackgroundColor&&{backgroundColor:l.props.pageBackgroundColor},null!==(b=l.state.crossDressingStyle)&&void 0!==b&&b.imgStyle?null===(S=l.state.crossDressingStyle)||void 0===S?void 0:S.imgStyle:{},{marginTop:0}],decelerationRate:"ios"===N.a.OS?.994:.98},scrollViewRef:l.props.scrollViewRef,onScroll:l.props.onScroll,onLoadMore:l._loadMore,rowRenderer:function(e,t,n){return l.renderSinglePrd(t,n)},topComponent:l.props.topComponent,renderFooter:l.renderFooter,sceneName:"littleCardHybrid",uniqueKey:l.props.uniqueKey,onVisibleIndicesChanged:function(e,t,n){l.visibleForItemList=[],e.forEach((function(e){if(!l.state.dataArray[e].isGuessRecCard){var t=void 0!==l.state.dataArray[e].realIndex?l.state.dataArray[e].originIndex:e;l.visibleForItemList.push(t)}}))}}):w.a.createElement(M.a,{column:h,data:e,boxWidth:v,gutter:g,pageGutter:0,pageNum:l.state.pageNum-1,pageSize:d.pageSize,isLoading:1===l.state.loadState,renderItem:function(e){var t=e.item;return l.renderSinglePrd(t,t.realIndex)},sceneName:"littleCardHybrid",newestData:l.newestData,isLoadMore:l.loadOrNot,onLoadMore:l._loadMore,footer:l.renderFooter}));return f})),v()(u()(l),"getViewContent",(function(e,t,n){var r,o,i,a,s,c,d,p,f,h,g=l.props,m=g.configData,y=g.styleChange,v=u()(l),b=v.isPc,C=v.isPad;v.isApp;null!==(r=l.state.crossDressingStyle)&&void 0!==r&&null!==(o=r.textStyle)&&void 0!==o&&o.color||null!==(i=l.state.crossDressingStyle)&&void 0!==i&&null!==(a=i.imgStyle)&&void 0!==a&&a.backgroundColor?c={fontColor:null===(d=l.state.crossDressingStyle)||void 0===d||null===(p=d.textStyle)||void 0===p?void 0:p.color,bgColor:null===(f=l.state.crossDressingStyle)||void 0===f||null===(h=f.imgStyle)||void 0===h?void 0:h.backgroundColor}:c=y;return l.state.isWaterfall&&l.isApkOrIos()&&l.props.isNewWaterfall&&l.props.productTitleAndMore&&l.props.productTitleAndMore(l.renderTitleAndMore(m,c)),l.isApkOrIos()&&l.props.isNewWaterfall&&l.props.getShowFlag(!(l.state.noData&&0===(null===(s=l.state.dataArray)||void 0===s?void 0:s.length))&&l.titleShowFlag),l.state.noData||b()?l.props.withTabs?w.a.createElement(T.b,{themeStyles:xt},(function(e,t){return w.a.createElement(S.a,{style:e.nodata},w.a.createElement(V.a,null,Object(bt.b)("no_related")))})):l.props.isNewWaterfall?w.a.createElement(Et.a,{style:l.props.pageStyle,columnCount:0,gutter:0,pageGutter:0,layoutProvider:l.layoutProvider,dataProvider:l.state.dataProvider.cloneWithRows([]),scrollViewProps:{removeClippedSubviews:"ios"!==N.a.OS,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,refreshControl:l.props.refreshControl,overScrollMode:"never",onScrollBeginDrag:l.props.onScrollBeginDrag,onMomentumScrollEnd:l.props.onMomentumScrollEnd},scrollViewRef:l.props.scrollViewRef,onScroll:l.props.onScroll,onLoadMore:l._loadMore,rowRenderer:function(e,t,n){return l.renderSinglePrd(t,n)},topComponent:l.props.topComponent,renderFooter:l.renderFooter}):null:w.a.createElement(T.b,{themeStyles:xt},(function(e,t){var n;return w.a.createElement(St.a,{style:[e.prdAll,l.isPc()&&e.prdAllPc,!l.props.isNewWaterfall&&(null===(n=l.state.crossDressingStyle)||void 0===n?void 0:n.imgStyle),!l.props.withTabs&&!l.state.isWaterfall&&{marginTop:l.mainStyleMg},l.props.withTabs&&!l.state.hasFooter&&l.isApkOrIos()&&{marginBottom:l.mainStyleMg},!l.props.isNewWaterfall&&(l.props.isGroupStyleChange?{paddingTop:l.mainStyleMg}:{marginTop:l.mainStyleMg}),l.state.isWaterfall&&l.isApkOrIos()&&l.props.isNewWaterfall&&{flex:1}]},l.state.showFullLoading?w.a.createElement(S.a,{style:[e.load]},w.a.createElement(A.a,{showLoading:!0,position:"bottom",loadState:1,height:56,iconSize:24,titleStyle:e.lodingTitle})):null,l.isApkOrIos()&&l.state.isWaterfall&&l.props.isNewWaterfall?null:l.renderTitleAndMore(m,y),"web"===N.a.OS?w.a.createElement(S.a,{style:[e.prdArea,C()&&e.prdAreaPad,b()&&e.prdAreaPc,l.state.isWaterfall&&l.headHeight&&e.WaterfallMainStyle]},l.renderProductBody()):l.state.isWaterfall&&l.props.isNewWaterfall?l.renderProductBody():w.a.createElement(S.a,{style:[e.prdArea,C()&&e.prdAreaPad,b()&&e.prdAreaPc,l.state.isWaterfall&&l.headHeight&&e.WaterfallMainStyle]},l.renderProductBody()))}))})),l.state={dataArray:e.dataArray.slice(0,(null===(t=e.pageInfo)||void 0===t?void 0:t.pageSize)||18),configData:e.configData,isWaterfall:!0,pageInfo:e.pageInfo,pageNum:e.pageInfo.pageNum,showLoading:!l.props.withTabs,loadState:1,loadingPostion:"bottom",noData:!1,id:e.id||"",showFullLoading:l.props.withTabs||!1,hasLoadMore:[Pt.up,Pt.current].includes(e.configData.moreVal),hasFooter:e.configData.moreVal===Pt.up||e.configData.moreVal===Pt.current||e.configData.moreVal===Pt.bottom&&e.configData.moreUrlType===Tt.h5,moreUrl:e.configData.moreUrlType===Tt.h5?e.configData.moreActionUrl:"",crossDressingStyle:{bgImg:"",imgStyle:{},textStyle:{}},initDataArray:e.dataArray.slice(0,(null===(o=e.pageInfo)||void 0===o?void 0:o.pageSize)||18),dataProvider:new jt.b((function(e,t){return e!==t})).cloneWithRows(e.dataArray.slice(0,(null===(i=e.pageInfo)||void 0===i?void 0:i.pageSize)||18))},l.layoutProvider=new jt.c((function(){return"WaterFall"}),(function(e,t,n){t.height=Object(Rt.a)(l.state.dataArray[n],n,{itemWidth:l.itemWidth,isPadHorizontal:l.isPadHorizontal(),configData:l.props.configInfo,column:l.colNum}),t.width=l.itemWidth})),l.mainStyleMg=l.isPc()?24:12,l}return s()(r,[{key:"componentDidMount",value:(t=L()(j.a.mark((function e(){var t,n,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.initData(),this.videoCardListener=D.a.addListener("videoCardExpose",this.handleVideoCardExpose),B.a.isApp()&&(this.getLogin(),this.listerShow=D.a.addListener("NativeCallAction",(function(e){var t,n,o;"login"===(null==e?void 0:e.service)&&"isLogin"===(null==e?void 0:e.action)&&"boolean"==typeof(null==e||null===(t=e.param)||void 0===t?void 0:t.isLogin)&&r.isLogin!==(null==e||null===(n=e.param)||void 0===n?void 0:n.isLogin)&&(r.itemlist.length=0,r.playerList.length=0,r.prevPlayVideo=void 0,o=r.isApkOrIos()&&!r.props.isNewWaterfall?[{littleItemKey:"littleItemKey"}]:[],r.setState({dataArray:o.map((function(e,t){return e})),pageNum:r.props.pageInfo.pageNum,loadState:1},(function(){var t;r.isLogin=null==e||null===(t=e.param)||void 0===t?void 0:t.isLogin,r.loadMore=!0,r.initData()})))}))),this.prefix=this.getPlatformPrefix(),this.props.styleChange&&(t=Object(H.i)(this.props.styleChange,this.getSize()))&&this.setState({crossDressingStyle:t}),this.timer=setTimeout((function(){r.state.showFullLoading&&r.setState({showFullLoading:!1})}),1e3),kt.a.setComId(this.props.id,this.props.pageType),"android"===N.a.OS&&this.props.isNewWaterfall&&(this.listener=D.a.addListener("homeRefresh",this.onHomeRefresh)),"android"===N.a.OS&&(this.listenerSwitch=Object(H.w)(this.getWidthAndHeight,this.props.pageType),n="homePage"===this.props.pageType?"homePage":"SeckillAndSmartLife",Object(H.v)(n).then((function(e){null!=e&&e.windowHeight&&(r.firstScreenHeigt=e.windowHeight)})).catch((function(e){}))),"web"===N.a.OS&&vt.a.addEventListener("change",this.handleAppStateChangeWeb);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.videoCardListener&&this.videoCardListener.remove(),this.listener&&this.listener.remove(),this.timer&&clearTimeout(this.timer),this.clickTimer&&clearTimeout(this.clickTimer),this.loadAllTimer&&clearTimeout(this.loadAllTimer),this.timer1&&clearTimeout(this.timer1),this.timer2&&clearTimeout(this.timer2),this.timer3&&clearTimeout(this.timer3),this.listenerSwitch&&this.listenerSwitch.remove(),this.listerShow&&this.listerShow.remove(),"web"===N.a.OS&&vt.a.removeEventListener("change",this.handleAppStateChangeWeb)}},{key:"_asyNcCallback",value:function(e){var t,n=this,r=this.props.dataSourceCode,o=null!=e&&e.pageData&&r&&null!==(t=e.pageData[r])&&void 0!==t&&t.length?e.pageData[r]:[];if(o.length>0){this.titleShowFlag=!0;var i,a=[];o.map((function(e,t){e&&a.push(e)})),this.state.pageNum>1&&(this.newestData=a),1==this.state.pageNum&&"android"==N.a.OS&&this.state.isWaterfall&&this.props.isNewWaterfall&&this.setState({initDataArray:a}),i=this.isApkOrIos()&&!this.props.isNewWaterfall&&1===this.state.dataArray.length?a:this.state.dataArray.concat(a),o.length==this.props.pageInfo.pageSize?(this.loadMore=!0,this.props.pageInfo.pageSize<=6&&1===this.state.pageNum&&setTimeout((function(){n._getAsyNcData()}),1e3),this.setState({dataArray:gt()(i),pageNum:this.state.pageNum+1,showLoading:!0,showFullLoading:!1,loadState:1},(function(){n.loadMore=!0,n.loadOrNot=!1}))):(this.loadOrNot=!1,this.setState({dataArray:gt()(i)},(function(){n.loadAllTimer=setTimeout((function(){n.setState({showLoading:!0,loadState:3,showFullLoading:!1})}),1e3)})))}else if(this.titleShowFlag=!0,this.loadMore=!1,this.loadOrNot=!0,1!==this.state.pageNum)this.setState({loadState:3,showLoading:!0,showFullLoading:!1});else{var l,s=!(null!=e&&e.success),c=yt()(null==e?void 0:e.pageData)||r&&0===(null==e||null===(l=e.pageData[r])||void 0===l?void 0:l.length);this.setState({noData:c,loadState:s?2:1,showLoading:!!s,showFullLoading:!1})}}},{key:"_receivePlayer",value:function(e,t){if(e)e.index=t,this.playerList[t]=e;else{if("web"===N.a.OS)return;this.playerList[t]=void 0}}},{key:"render",value:function(){var e=this;return w.a.createElement(T.b,{themeStyles:xt},(function(t,n,r){return e.getViewContent(t,n,r)}))}}]),r}(w.a.PureComponent))||Ht,Jt=Object(x.a)(Object(le.a)(It)(Object(oe.a)(Yt)));function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt={clickItem:function(e,t,n,r){var o=Object(H.F)()?this:this.props,i=o.cardId,a=o.pageCatCode,l=o.pageCatName,s=o.resSiteCode,c=o.resSiteName,u=o.pageId,d="",p={};return"更多"===r?(d="内容卡片-点击-更多",p={index:"",gotoURL:n||"",clickType:ce.b.CLICK_MORE}):d="内容卡片-点击-"+(null==e?void 0:e.title),{data:{actionCode:110000102,actionName:d||"",eventType:ce.e.EVENT_TYPE_CLICK,pageId:u,content:qt({comId:i.toString()||"",gotoPageId:"",index:t.toString(),gotoURL:n||"",nextLocation:"",dateType:"54",clickType:ce.b.CLICK_GOODS_CONTENT},p),pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}}};function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Xt=function(e){p()(n,e);var t=$t(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"eventListener",void 0),v()(u()(r),"initWidth",(function(e){r.state.width!==e&&r.setState({width:e},(function(){r.setmergeStyle()}))})),v()(u()(r),"setmergeStyle",(function(){if(r.props.styleChange){var e=Object(H.i)(r.props.styleChange,Object(P.a)(r.state.width));e&&r.setState({headerBoxStyle:e})}})),v()(u()(r),"onClickTitleMore",(function(){var e;if("oneLineOne"===(null===(e=r.props.configInfo)||void 0===e?void 0:e.layoutType)){var t=r.props.configInfo,n=Object(H.l)(t);r.props.clickItem({},-1,n,"更多"),Object(H.A)(n)}})),v()(u()(r),"showMore",(function(e){r.setState({showMore:e})})),r.state={showMore:!1,width:Object(H.x)(r.props.pageType).screenWidth,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},r}return s()(n,[{key:"componentDidMount",value:function(){this.setmergeStyle()}},{key:"render",value:function(){var e,t,n,r,i=this,a=this.props,l=a.navigation,s=a.isDisplayTitleBar,c=a.title,u=a.isDisplayMore,d=a.showSetting,p=a.imgNormal,f=a.imgDarkMode,h=a.style,g=a.currMoreVal,m=a.configInfo,y=a.dataSourceList,v=a.cardId,b=a.pageType,C=a.boxWidth,x=a.styleChange,E=a.pageCatCode,j=a.pageCatName,R=a.resSiteCode,L=a.resSiteName,_=a.pageId,D="oneLineOne"===(null==m?void 0:m.layoutType)&&this.state.showMore;switch(null==m?void 0:m.layoutType){case"verticalLayout":r=w.a.createElement(ze,{pageSize:m.rowsPerScreen,pageType:b,showUserName:m.headPicAndNicknameShow,showTitleTag:m.topicTagShow,likeOrRead:m.likeNumAndReadNumShow,date:m.publishTimeShow,showProduct:m.productListShow,dataSourceCode:null===(e=y[0])||void 0===e?void 0:e.dataSourceCode,cardId:v,navigation:l,configInfo:m,pageCatCode:E,pageCatName:j,resSiteCode:R,resSiteName:L,_setData:this.showMore});break;case"oneLineOne":r=w.a.createElement(ft,{pageSize:m.rowsPerScreen,pageType:b,showUserName:m.headPicAndNicknameShow,showTitleTag:m.topicTagShow,likeOrRead:m.likeNumAndReadNumShow,date:m.publishTimeShow,showProduct:m.productListShow,dataSourceCode:null===(t=y[0])||void 0===t?void 0:t.dataSourceCode,cardId:v,navigation:l,configInfo:m,pageCatCode:E,pageCatName:j,resSiteCode:R,resSiteName:L,typeuuid:this.props.typeuuid,_setData:this.showMore});break;case"verticalDoubleRow":var N=x||{},W={more:!0,moreVal:"4",moreUrlType:"1",moreActionUrl:"",moreTitle:g,bgColor:null==m?void 0:m.bgColor,layoutType:"verticalDoubleRow",titleShow:s,cardTitle:c,showSetting:d,imgNormal:p,imgDarkMode:f},A=new Array;return w.a.createElement(Jt,o()({},this.props,{dataArray:A,pageInfo:{pageNum:1,pageSize:18},styleChange:N,configData:W,pageType:b,showUserName:m.headPicAndNicknameShow,showTitleTag:m.topicTagShow,likeOrRead:m.likeNumAndReadNumShow,dataSourceCode:null===(n=y[0])||void 0===n?void 0:n.dataSourceCode,id:v,navigation:l,configInfo:m,pageCatCode:E,pageCatName:j,resSiteCode:R,resSiteName:L,pageId:_}));default:r=null}return w.a.createElement(T.b,{themeStyles:O},(function(e,t,n){var o;return i.initWidth(n),w.a.createElement(I.a,{imgUri:i.state.headerBoxStyle.bgImg||"",style:[{backgroundColor:"oneLineOne"===(null==m?void 0:m.layoutType)?t.C33.color:null},null===(o=i.state.headerBoxStyle)||void 0===o?void 0:o.imgStyle,"small"===Object(P.a)(i.state.width)?e.viewApp:e.viewPad,D&&{marginTop:12}]},w.a.createElement(S.a,{style:[h,C?{width:C}:{},"oneLineOne"===(null==m?void 0:m.layoutType)&&i.state.showMore?{marginLeft:12,marginRight:12,marginTop:8,marginBottom:4}:{}]},i.state.showMore?w.a.createElement(k.a,{isDisplayTitleBar:s,title:c,onClickMore:i.onClickTitleMore,isDisplayMore:u,subTitle:g,moreUrl:Object(H.l)(m),showSetting:d,imgNormal:p,imgDarkMode:f,styleChange:x,hasMargin:!1}):null,r))}))}}]),n}(w.a.PureComponent);v()(Xt,"defaultProps",{style:{reportUrl:"",showSetting:"1",imgNormal:"",imgDarkMode:""},withTabs:!1});t.a=Object(x.a)(Object(le.a)(Qt)(Object(oe.a)(Xt)))},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(69),C=n.n(S),O=n(0),P=n.n(O),T=n(37),x=n(145),I=n(54),k=n(43),E=n(126),j=n(152),R=n(157),L=n(57),_=n(122);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=n(265),M=n(15),F=n.n(M),H=n(446);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=n(11),G=n(3),Y=n(24),J=n(119),K=n(40),q=n(1734),Q=n(432),$=n(102),X=n(1735),Z=n(185),ee=n(59);function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ne=function(e){h()(r,e);var t,n=te(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"_panResponder",void 0),w()(p()(t),"isPad",(function(){return"medium"===t.getSize()||"large"===t.getSize()&&t.state.width<J.a.safety_area})),w()(p()(t),"isApp",(function(){return"small"===t.getSize()})),w()(p()(t),"isPadPc",(function(){return("large"===t.getSize()||"medium"===t.getSize())&&t.isPadHorizonta()})),w()(p()(t),"getSize",(function(){return Object(K.a)(t.state.width)})),w()(p()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"android"===T.a.OS?x.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(G.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(G.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(G.x)(t.props.pageType||"homePage").screenHeight)}))})),w()(p()(t),"initWidth",function(){var e=a()(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.width==n){e.next=5;break}return e.next=3,t.getScreenHeight();case 3:r=+e.sent,t.setState({width:n,height:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w()(p()(t),"isPadHorizonta",(function(){return("web"===T.a.OS?I.a.get("window").width:t.state.width)>=("web"===T.a.OS?I.a.get("window").height:t.state.height)})),w()(p()(t),"shopClick",C()((function(e,n){var r;if(Object(G.F)()){var o=t.props,i=o.cardId,a=o.pageId;t.props.eventClickByLoad(i,a)}null!==(r=t.props)&&void 0!==r&&r.clickItem&&t.props.clickItem(),t.props.actionUrl?Object(G.A)(t.props.actionUrl):Object(ee.d)(e,n)}),200)),w()(p()(t),"getWidth",(function(e){t.setState({singleWidth:e.width})})),t.state={pageType:t.props.pageType||"homePage",width:Object(G.x)(t.props.pageType||"homePage").screenWidth,height:Object(G.x)(t.props.pageType||"homePage").screenHeight},t}return u()(r,[{key:"UNSAFE_componentWillMount",value:function(){Object(G.F)()||(this._panResponder=H.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"componentDidMount",value:(t=a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"===T.a.OS){e.next=7;break}return e.t0=this,e.next=4,this.getScreenHeight();case 4:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderList",value:function(e,t){var n=this;return"web"===T.a.OS?P.a.createElement(k.a,F()({},this._panResponder.panHandlers,{style:this.isPad()&&{width:"100%"}}),P.a.createElement(E.a,{activeOpacity:1,onPress:function(){return n.shopClick(e.productID,e.skuCode)}},P.a.createElement(k.a,{style:t.view},P.a.createElement(k.a,{style:this.isPad()?[t.imagePadWrap,{width:"100%",height:this.state.singleWidth}]:t.imageWrap},P.a.createElement(Y.a,{imgUri:"".concat(V.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName),imgStyle:t.shopImage})),P.a.createElement(k.a,{style:[t.textWrap,this.isPad()&&{marginTop:0}]},P.a.createElement(j.a,{style:this.isPad()?t.nowPricePad:t.nowPrice},"¥",q.a.priceFormat(e.secKillPrice)),P.a.createElement(j.a,{style:this.isPad()?t.originPricePad:t.originPrice},"¥",q.a.priceFormat(e.price))),!Object(G.D)(e.hasInventory)&&!e.hasInventory&&P.a.createElement(k.a,{style:this.isApp()?t.soldOutBgApp:t.soldOutBgPad},P.a.createElement(j.a,{style:t.soldOutTextApp},Object(Q.b)("seckillSoldOut")))))):P.a.createElement(E.a,{style:this.isPad()&&{width:"100%"},onPress:function(){return n.shopClick(e.productID,e.skuCode)}},P.a.createElement(k.a,{style:t.view},P.a.createElement(k.a,{style:this.isPad()?[t.imagePadWrap,{width:"100%",height:this.state.singleWidth}]:t.imageWrap},P.a.createElement(k.a,{style:t.shopImage},P.a.createElement(Y.a,{imgUri:"".concat(V.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName),imgStyle:t.shopImage}))),P.a.createElement(k.a,{style:[t.textWrap,this.isPad()&&{marginTop:0}]},P.a.createElement(j.a,{style:this.isPad()?t.nowPricePad:t.nowPrice},"¥",q.a.priceFormat(e.secKillPrice)),P.a.createElement(j.a,{style:this.isPad()?t.originPricePad:t.originPrice},"¥",q.a.priceFormat(e.price))),!Object(G.D)(e.hasInventory)&&!e.hasInventory&&P.a.createElement(k.a,{style:this.isApp()?t.soldOutBgApp:t.soldOutBgPad},P.a.createElement(j.a,{style:t.soldOutTextApp},Object(Q.b)("seckillSoldOut")))))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.listInfo,o=n.hasBg,i=n.crossDressingStyle,a=Object(G.F)()?Object(G.x)().screenWidth:this.state.width,l=JSON.parse(JSON.stringify(r)),s=this.isPadPc()?l.slice(0,5):l.slice(0,4);e=Object(G.F)()?this.isApp()?a-(o?56:40):a-(o?72:56):this.isApp()?a-(o?48:32):this.isPad()?a-(o?72:48):J.a.safety_area;var c=this.isPadPc()?5:4;return P.a.createElement($.b,{themeStyles:function(e){return function(e,t,n){return(t||null!=n&&n.isGroupStyleChange)&&(e=_.a),L.a.create({view:{paddingTop:3,paddingBottom:8,alignItems:"center"},imageWrap:{width:60,height:60,padding:3},imagePadWrap:{width:72,height:72,padding:16},shopImage:{width:"100%",height:"100%"},textWrap:{marginTop:4,alignItems:"center",justifyContent:"center"},originPrice:U(U(U({},e.T1),e.C15),{},{textDecorationLine:"line-through"}),originPricePad:U(U(U({},e.T3),e.C14),{},{fontSize:12,textDecorationLine:"line-through"}),nowPrice:U(U(U({},e.T2),e.C18),{},{fontSize:12,fontWeight:"600",color:"#CF0A2C"}),nowPricePad:U(U(U({},e.T10),e.C18),{},{fontSize:16,fontWeight:"500",color:"#CF0A2C"}),soldOutBgApp:{backgroundColor:e.C81.color+e.opacityMap[e.C81.opacity],width:32,height:32,borderRadius:32,position:"absolute",right:4,top:4,justifyContent:"center",alignItems:"center"},soldOutTextApp:U(U(U({},e.T0),e.C17),{},{fontSize:9,textAlign:"center",width:24}),soldOutBgPad:{backgroundColor:e.C81.color+e.opacityMap[e.C81.opacity],width:32,height:32,borderRadius:32,position:"absolute",right:8,top:8,justifyContent:"center",alignItems:"center"}})}(e,i,t.props.styleChange)}},(function(n,r,o){return t.initWidth(o),P.a.createElement(X.a,{col:c,pageGutter:0,colGutter:t.isPad()?8:"",dataArray:s,boxWidth:e,gridCallBack:t.getWidth,renderItem:function(e){var r=e.item;e.index;return t.renderList(r,n)}})}))}}]),r}(O.Component),re=Object(Z.a)(ne);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=n(19);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=n(660);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var de=function(e){h()(n,e);var t=ue(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"chatView",null),r.state={width:r.props.width},r}return u()(n,[{key:"shopClick",value:function(e,t){var n;null!==(n=this.props)&&void 0!==n&&n.clickItem&&this.props.clickItem(),this.props.actionUrl?Object(G.A)(this.props.actionUrl):Object(ee.d)(e,t)}},{key:"render",value:function(){var e,t=this,n=null===(e=this.props)||void 0===e?void 0:e.shopInfo,r=n.productID,o=n.skuCode;return P.a.createElement($.b,{themeStyles:function(e){return function(e){return L.a.create({list:{width:230,height:306,backgroundColor:"#fff",alignItems:"center",marginLeft:12,flex:1},prdItemHover:se({},e.S42),textWrap:{height:107,width:"100%",alignItems:"center",paddingLeft:10,paddingRight:10},priceWrap:{flexDirection:"row",alignItems:"center",justifyContent:"center"},shopName:se(se(se({},e.T8),e.C11),{},{marginTop:8,marginBottom:4,height:19}),imageWrap:{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},shopImage:{width:142,height:142},shopText:se(se(se({},e.T5),e.C14),{},{marginBottom:10,height:18}),originPrice:se(se(se({},e.T3),e.C14),{},{textDecorationLine:"line-through"}),nowPrice:se(se(se({},e.T10),e.C18),{},{marginRight:8}),soldOutBgPC:{backgroundColor:e.C81.color,opacity:.4,width:40,height:40,borderRadius:40,position:"absolute",right:16,top:16,justifyContent:"center",alignItems:"center"},soldOutTextPC:se(se(se({},e.T3),e.C17),{},{textAlign:"center",width:24})})}(e)}},(function(e){return P.a.createElement(ce.a,null,(function(n){return P.a.createElement(E.a,{activeOpacity:1,onPress:function(){return t.shopClick(r,o)}},P.a.createElement(k.a,{style:[e.list,n?e.prdItemHover:""]},P.a.createElement(k.a,{style:e.imageWrap},P.a.createElement(Y.a,{imgUri:"".concat(V.a.cmsCndProdPath,"/").concat(t.props.shopInfo.photoPath,"/428_428_").concat(t.props.shopInfo.photoName),imgStyle:e.shopImage})),P.a.createElement(k.a,{style:e.textWrap},P.a.createElement(j.a,{numberOfLines:1,style:e.shopName},t.props.shopInfo.productName),P.a.createElement(j.a,{numberOfLines:1,style:e.shopText},t.props.shopInfo.promotionInfo||t.props.shopInfo.promoWord),P.a.createElement(k.a,{style:e.priceWrap},P.a.createElement(j.a,{style:e.nowPrice},"¥",q.a.priceFormat(t.props.shopInfo.secKillPrice)),P.a.createElement(j.a,{style:e.originPrice},"¥",q.a.priceFormat(t.props.shopInfo.price)))),!Object(G.D)(t.props.shopInfo.hasInventory)&&!t.props.shopInfo.hasInventory&&P.a.createElement(k.a,{style:e.soldOutBgPC},P.a.createElement(j.a,{style:e.soldOutTextPC},Object(Q.b)("seckillSoldOut")))))}))}))}}]),n}(O.Component),pe=Object(Z.a)(de);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var he=function(e){h()(n,e);var t=fe(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"chatView",null),r.state={width:r.props.width,shopList:r.props.pageData.length<=4?r.props.pageData:r.props.pageData.slice(0,4),isOverTenDay:!1},r}return u()(n,[{key:"render",value:function(){var e=this;return P.a.createElement($.b,{themeStyles:function(e){return function(e){return L.a.create({pcView:{flexDirection:"row"},listView:{width:230,height:306,backgroundColor:"rgba(207,10,44,0.06)",alignItems:"center"},list:{width:230,height:306,backgroundColor:"#fff",alignItems:"center",marginLeft:12},picStyle:{width:48,height:48,marginTop:55,marginBottom:10},timeText:ie(ie(ie({},e.T12),e.C18),{},{marginBottom:35}),leftText:ie(ie(ie({},e.T9),e.C14),{},{marginBottom:17}),textWrap:{height:107,width:"100%",alignItems:"center"},priceWrap:{flexDirection:"row",alignItems:"center",justifyContent:"center"},shopName:ie(ie(ie({},e.T8),e.C11),{},{marginTop:8,marginBottom:4,height:19}),imageWrap:{flex:1,width:"100%",justifyContent:"center",alignItems:"center"},shopImage:{width:142,height:142},shopText:ie(ie(ie({},e.T5),e.C14),{},{marginBottom:10,height:18}),originPrice:ie(ie(ie({},e.T3),e.C14),{},{textDecorationLine:"line-through"}),nowPrice:ie(ie({},e.T10),e.C18)})}(e)}},(function(t){return P.a.createElement(k.a,{style:t.pcView},P.a.createElement(k.a,{style:t.listView},P.a.createElement(R.a,{source:ae.a.timeCount,style:t.picStyle}),P.a.createElement(j.a,{style:t.timeText},e.props.times,Object(Q.b)("sites")),P.a.createElement(j.a,{style:t.leftText},"已开始"==e.props.isStart?Object(Q.b)("before_end"):Object(Q.b)("before_start")),P.a.createElement(B.a,{isStart:e.props.isStart,startTime:e.props.startTime,opacity:.5,endTime:e.props.endTime,dayColor:"#000000",marginLastRigh:7,dayWidth:e.state.isOverTenDay?44:40,itemWidth:40,itemHeight:40,itemBgColor:"rgba(0,0,0,0.60)",itemTextColor:"#ffffff",itemFontSize:18,dayFontSize:16,isOverTenDay:e.getDay.bind(e)})),e.state.shopList&&e.state.shopList.map((function(t,n){return P.a.createElement(pe,{clickItem:e.props.clickItem,actionUrl:e.props.actionUrl,key:n,shopInfo:t})})))}))}},{key:"getDay",value:function(e){this.setState({isOverTenDay:e})}}]),n}(O.Component),ge=Object(Z.a)(he),me=n(21),ye=n(10),ve=n(25),be=n(20),we=n(42),Se=n(23),Ce=n(50),Oe=n(22);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ie=function(e){h()(i,e);var t,r=xe(i);function i(e){var t;s()(this,i),t=r.call(this,e),w()(p()(t),"itemlist",[]),w()(p()(t),"hasBg",!1),w()(p()(t),"innerBoxStyle",{}),w()(p()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"android"===T.a.OS?x.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(G.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(G.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(G.x)(t.props.pageType||"homePage").screenHeight)}))})),w()(p()(t),"initWidth",function(){var e=a()(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.width==n){e.next=6;break}return e.next=3,t.getScreenHeight();case 3:r=+e.sent,t.setState({width:n,height:r}),"web"!==T.a.OS&&(Object(G.D)(t.props.styleChange)||t.setState({crossDressingStyle:Object(G.i)(t.props.styleChange,Object(K.a)(n))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w()(p()(t),"showMore",C()((function(){if(t.state.actionUrl){var e=t.props,n=e.cardId,r=e.pageId;Object(G.F)()?(t.eventClickByLoad(n,r),Object(G.A)(t.state.actionUrl)):(t.props.clickItem(),Object(G.A)(t.state.actionUrl))}}),200)),w()(p()(t),"eventClickByLoad",(function(e,n){var r=t.props,o=r.pageCatCode,i=r.pageCatName,a=r.resSiteCode,l=r.resSiteName;Object(Oe.a)({actionCode:"410000101",actionName:"秒杀组件点击曝光",eventType:ye.e.EVENT_TYPE_CLICK,pageId:null==n?void 0:n.toString(),content:{comId:null==e?void 0:e.toString()},pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l})})),w()(p()(t),"isApp",(function(){return"small"===t.getSize()})),w()(p()(t),"getPlatformPrefix",(function(){return"web"===T.a.OS?t.isApp()?ye.f.WAP:ye.f.PC:ye.f.APP})),w()(p()(t),"receiveRef",(function(e,n){t.itemlist=[],e&&(e.exposeObj=n,t.itemlist.push(e))})),w()(p()(t),"getSize",(function(){return Object(K.a)(t.state.width)})),w()(p()(t),"isPadPc",(function(){return"medium"===t.getSize()&&t.isPadHorizonta()})),w()(p()(t),"isPad",(function(){return"medium"===t.getSize()})),w()(p()(t),"isPadHorizonta",(function(){return("web"===T.a.OS?I.a.get("window").width:t.state.width)>=("web"===T.a.OS?I.a.get("window").height:t.state.height)}));var n=t.props,l=n.styleChange,c=n.width,u=n.configInfo,d=n.pageData,f=null;Object(G.D)(l)||(f=Object(G.i)(l,Object(K.a)(c)));var h=Object(G.l)(u);(null==u?void 0:u.moreUrlType)!=we.e.h5&&(h="web"===T.a.OS?"large"===Object(K.a)(c)?null==u?void 0:u.moreActionWebUrl:null==u?void 0:u.moreActionWapUrl:null==u?void 0:u.moreActionApkUrl);var g=(new Date).getTime(),m=t.handleList(d,g);return t.state={pageData:m,nowTime:g,actionUrl:h,crossDressingStyle:f,pageType:t.props.pageType||"homePage",width:Object(G.x)(t.props.pageType||"homePage").screenWidth,height:Object(G.x)(t.props.pageType||"homePage").screenHeight},t}return u()(i,[{key:"componentDidMount",value:(t=a()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.handeData(),"web"===T.a.OS||Object(G.F)()){e.next=8;break}return e.t0=this,e.next=5,this.getScreenHeight();case 5:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handeData",value:function(){var e=this;Object(Se.r)().then((function(t){var n=t&&1e3*t.serverTime||(new Date).getTime(),r=e.handleList(e.props.pageData,n);e.setState({pageData:r,nowTime:t})}))}},{key:"handleReportLength",value:function(e){return e?{infoList:this.state.pageData&&this.state.pageData[0].sbomList.slice(0,4),cardId:this.props.cardId}:{infoList:this.isPadPc()?this.state.pageData[0].sbomList.slice(0,8):this.isPad()?this.state.pageData[0].sbomList.slice(0,6):this.state.pageData[0].sbomList.slice(0,4),cardId:this.props.cardId}}},{key:"getStatus",value:function(e,t){return!((t||this.state.nowTime)>=e)}},{key:"handleList",value:function(e,t){var n=this,r=[];if(e&&0!==Object.keys(e).length&&this.props.configInfo&&this.props.configInfo.dataSourceList[0]&&this.props.configInfo.dataSourceList[0].dataSourceCode){var o=this.props.configInfo.dataSourceList[0].dataSourceCode,i=Object.keys(e).filter((function(e){return e==o}))&&Object.keys(e).filter((function(e){return e==o}))[0];i&&e[i].map((function(e){e.sessions&&0!==e.sessions.length&&e.sessions.filter((function(o){n.getStatus(o.snapUpEndTime,t)&&0!==o.sbomList.length&&r.push(Te(Te({},o),{},{activeName:e.activityName}))}))}))}return r}},{key:"getTime",value:function(e){var t=new Date(e).getHours(),n=new Date(e).getMinutes(),r=parseInt(t),o=parseInt(n);return(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)}},{key:"isStart",value:function(e){return this.state.nowTime<e?"未开始":"已开始"}},{key:"render",value:function(){var e,t,r,o,i=this,a=this.props,l=a.width,s=a.configInfo,c=a.cardId,u=a.pageId,d=this.state.crossDressingStyle,p=this.state.pageData&&this.state.pageData[0]||null,f="large"===Object(K.a)(l)&&l>=J.a.safety_area,h="web"===T.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(r=t.toLocaleUpperCase())||void 0===r?void 0:r.includes("MQQBROWSER"))&&(this.isApp()||this.isPad());return(null!=d&&null!==(o=d.imgStyle)&&void 0!==o&&o.backgroundColor||null!=d&&d.bgImg)&&(this.innerBoxStyle={marginHorizontal:this.isPad()?12:8,marginBottom:8,borderRadius:10,borderBottomStartRadius:10,borderBottomEndRadius:10},this.hasBg=!0),this.state.nowTime&&p?f?P.a.createElement($.b,{themeStyles:function(e){return function(e,t){return L.a.create({view:{width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"flexGrow-start"},viewMain:{width:1200,maxWidth:1200},titleView:{height:64,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},mainText:A(A({},e.T13),e.C11),moreText:A(A({},e.T7),e.C1),moreColor:A(A({},e.T7),e.C13),moreWrap:{display:"flex",flexDirection:"row",alignItems:"center"}})}(e)}},(function(e,t){return P.a.createElement(k.a,{style:e.view},P.a.createElement(k.a,{style:e.viewMain},P.a.createElement(E.a,{onPress:i.showMore,style:e.titleView},P.a.createElement(j.a,{style:e.mainText},p.activeName?p.activeName:"秒杀"),s&&"1"!=s.more&&s.moreTitle?P.a.createElement(k.a,{style:e.moreWrap},P.a.createElement(j.a,{style:e.moreColor,numberOfLines:1},s.moreTitle),P.a.createElement(be.a,{normalCol:t.C24.color,opacity:t.C24.opacity,iconName:"Webarrow",width:17,height:19})):P.a.createElement(P.a.Fragment,null)),P.a.createElement(k.a,{ref:function(e){return i.receiveRef(e,i.handleReportLength(!0))},style:e.listView},P.a.createElement(ge,{clickItem:i.props.clickItem,opacity:t.C24.opacity,times:i.getTime(p.snapUpStartTime),actionUrl:i.state.actionUrl,startTime:p.snapUpStartTime,endTime:p.snapUpEndTime,isStart:i.isStart(p.snapUpStartTime),pageData:p.sbomList}))))})):P.a.createElement($.b,{themeStyles:function(e){return function(e,t,n){var r,o,i={};((t||null!=n&&n.isGroupStyleChange)&&(e=_.a),null!=t&&null!==(r=t.textStyle)&&void 0!==r&&r.color)&&(i.color=null===(o=t.textStyle)||void 0===o?void 0:o.color);return L.a.create({container:{borderRadius:16,overflow:"hidden",resizeMode:"stretch"},viewPad:{marginLeft:24,marginRight:24},viewWapList:{marginLeft:16,marginRight:16},viewWap:{marginLeft:12,marginRight:12},view:{paddingTop:12,paddingBottom:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},viewPadTitle:{paddingTop:11,paddingBottom:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:4,marginBottom:8},viewLeft:{flex:1,flexDirection:"row",alignItems:"center"},mainTitle:N(N(N({},e.T10),e.C11),{},{marginRight:4,fontWeight:"bold",maxWidth:"35%"},i),subTitle:N(N(N({},e.T1),e.C13),{},{marginRight:4},i),moreColor:N(N(N(N({},e.T7),e.C13),i),{},{maxWidth:"90%"}),listView:N(N({},e.S31),{},{borderBottomStartRadius:8,borderBottomEndRadius:8}),moreWrap:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"26%"}})}(e,d,i.props.styleChange)}},(function(e,t,r){var o,a;Object(G.F)()||i.initWidth(r),(d||null!==(o=i.props.styleChange)&&void 0!==o&&o.isGroupStyleChange)&&(t=_.a);var l,f=t.C17.color,g=t.C24.color;return null!=d&&null!==(a=d.textStyle)&&void 0!==a&&a.color&&(f=d.textStyle.color,g=d.textStyle.color),G.F&&(r=Object(G.x)().screenWidth,l=i.isApp()?r-(i.hasBg?48:32):r-(i.hasBg?64:48)),P.a.createElement(Ce.a,{style:[i.isApp()?e.viewWapList:e.viewPad,e.container,i.hasBg?{borderRadius:16}:t.S31],imgViewStyle:null==d?void 0:d.imgStyle,imgUri:null==d?void 0:d.bgImg,resizeMode:"stretch"},P.a.createElement(E.a,{activeOpacity:1,onPress:i.showMore,style:[e.viewWap,i.isPad()?e.viewPadTitle:e.view]},P.a.createElement(k.a,{style:[e.viewLeft]},P.a.createElement(j.a,{numberOfLines:1,style:[e.mainTitle]},p.activeName?p.activeName:"秒杀"),P.a.createElement(j.a,{style:[e.subTitle,{paddingTop:h?2:0}]},i.getTime(p.snapUpStartTime),Object(Q.b)("sites")),P.a.createElement(B.a,{isApp:i.isApp()||i.isPad(),isStart:i.isStart(p.snapUpStartTime),nowTime:i.state.nowTime,startTime:p.snapUpStartTime,endTime:p.snapUpEndTime,itemFontSize:10,itemBgColor:t.C18.color,itemWidth:16,itemHeight:16,itemTextColor:f,dayFontSize:10,dayColor:"#CF0A2C"})),s&&s&&"1"!=s.more&&s.moreTitle?P.a.createElement(k.a,{style:e.moreWrap},P.a.createElement(j.a,{style:e.moreColor,numberOfLines:1},s.moreTitle),P.a.createElement(k.a,{style:{paddingLeft:4}},Object(G.F)()?P.a.createElement(R.a,{source:{uri:n(205)},style:{opacity:.2,width:12,height:24}}):P.a.createElement(be.a,{normalCol:g,opacity:t.C24.opacity,iconName:"ic24-more",width:12,height:24}))):P.a.createElement(P.a.Fragment,null)),P.a.createElement(k.a,{ref:function(e){return i.receiveRef(e,i.handleReportLength(!1))},style:[e.listView,i.innerBoxStyle,Object(G.F)()?{width:l}:{}]},P.a.createElement(re,{cardId:c,pageId:u,eventClickByLoad:i.eventClickByLoad,clickItem:i.props.clickItem,pageType:i.props.pageType,actionUrl:i.state.actionUrl,listInfo:p.sbomList,hasBg:i.hasBg,crossDressingStyle:d,styleChange:i.props.styleChange})))})):P.a.createElement(P.a.Fragment,null)}}]),i}(O.PureComponent);t.a=Object(Z.a)(Object(me.a)({exposeItem_product:function(e){var t,n,r=this.props,o=r.pageCatCode,i=r.pageCatName,a=r.resSiteCode,l=r.resSiteName,s={array:e.map((function(e,t){var n;return{comId:null===(n=e.cardId)||void 0===n?void 0:n.toString(),index:t.toString(),dataCode:e.infoList&&e.infoList.map((function(e){return e.productID})),dataType:"1"}}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"秒杀组件曝光",eventType:"7",pageId:null===(t=this.props)||void 0===t||null===(n=t.pageId)||void 0===n?void 0:n.toString(),pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l},content:s.array}},clickItem:function(){var e,t,n=this.props,r=n.cardId,o=n.pageCatCode,i=n.pageCatName,a=n.resSiteCode,l=n.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"秒杀组件点击曝光",eventType:"2",pageId:null===(e=this.props)||void 0===e||null===(t=e.pageId)||void 0===t?void 0:t.toString(),content:{comId:null==r?void 0:r.toString()},pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l}}}})(Object(ve.a)(Ie)))},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(69),v=n.n(y),b=n(0),w=n.n(b),S=n(37),C=n(54),O=n(43),P=n(126),T=n(152),x=n(157),I=n(57),k=n(122);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=n(431),L=n(53);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=n(23),W=n(40),A=n(102),B=n(185);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var F=function(e){u()(n,e);var t=M(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"timer",null),m()(s()(r),"dateStr",""),m()(s()(r),"dayTime",864e5),m()(s()(r),"handleAppStateChange",(function(e){var t,n,o;"active"===e?null===(t=s()(r))||void 0===t||t.handleTime():null!==(n=s()(r))&&void 0!==n&&n.timer&&clearTimeout(null===(o=s()(r))||void 0===o?void 0:o.timer)})),r.state={day:"",hour:"00",minute:"00",second:"00",showCountDown:!1},r}return a()(n,[{key:"componentDidMount",value:function(){R.a.addEventListener("change",this.handleAppStateChange),this.handleTime()}},{key:"formatCurTime",value:function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"/"+t.getDate()}},{key:"handleTime",value:function(){var e,t,n=this,r=new Date(this.props.isApp?this.props.endTime:-1===(null===(e=this.props.endTime)||void 0===e?void 0:e.indexOf("T"))?null===(t=this.props.endTime)||void 0===t?void 0:t.replace(/-/g,"/"):this.props.endTime).getTime();Object(N.r)().then((function(e){var t=e&&1e3*e.serverTime||(new Date).getTime(),o=n.formatCurTime(t);"cycleByDay"==n.props.countDownWay&&(r="ios"===S.a.OS?new Date(o+" 23:59:59").getTime()+1e3:n.props.isApp?new Date(o).getTime()+864e5:(new Date).setHours(0,0,0,0)+864e5-1);var i=r-t;if(i>1e3){var a=Math.floor(i/864e5),l=Math.floor(i/36e5%24),s=Math.floor(i/6e4%60),c=Math.floor(i/1e3%60);n.setState({day:a+"天",hour:l<10?"0"+l:l,minute:s<10?"0"+s:s,second:c<10?"0"+c:c,showCountDown:!0}),n.countFun(i)}else"cycleByDay"==n.props.countDownWay?n.handleTime():n.setState({showCountDown:!1},(function(){n.props.isHideText()})),n.timer&&clearTimeout(n.timer)}))}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer),R.a.removeEventListener("change",this.handleAppStateChange)}},{key:"countFun",value:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){if(e>=1e3){e-=1e3;var n=Math.floor(e/864e5),r=Math.floor(e/36e5%24),o=Math.floor(e/6e4%60),i=Math.floor(e/1e3%60);t.setState({showCountDown:!0,day:n+"天",hour:r<10?"0"+r:r,minute:o<10?"0"+o:o,second:i<10?"0"+i:i}),t.countFun(e)}else clearTimeout(t.timer),"cycleByDay"==t.props.countDownWay?t.countFun(t.dayTime-1e3):t.setState({showCountDown:!1},(function(){t.props.isHideText()}))}),1e3)}},{key:"render",value:function(){var e,t,n,r=this,o="web"===S.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"))&&this.props.isApp,i="large"===Object(W.a)(C.a.get("window").width);return w.a.createElement(A.b,{themeStyles:function(e){return function(e){return I.a.create({timeView:{flexDirection:"row",alignItems:"center"},itemView:D(D(D({},e.T1),e.C17),{},{width:16,height:16,backgroundColor:"#CF0A2C",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2,textAlign:"center"}),dayView:{fontSize:10,marginRight:4,height:16,lineHeight:16},dayViewPc:D(D({fontFamily:L.a.fontFamilyBase,fontSize:e.T11.fontSize,fontWeight:"400"},e.C15),{},{marginRight:8,height:24,lineHeight:24,maxWidth:"30%"}),textColor:{color:"#CF0A2C",marginRight:4,marginLeft:4,textAlignVertical:"center",paddingBottom:2},textColorPc:{fontFamily:"HYQiHei-FES",color:"#CF0A2C",fontSize:15,fontWeight:"500",lineHeight:24,marginRight:4,marginLeft:4,textAlignVertical:"auto"}})}(e)}},(function(e){var t,n,a,l,s,c,u,d,p,f,h,g,m,y,v,b,S,C,P,x,I,k,E,j,R,L;return r.state.showCountDown?w.a.createElement(O.a,{style:[e.timeView,{paddingBottom:o?2:0}]},i?w.a.createElement(w.a.Fragment,null,parseInt(r.state.day)>=1?w.a.createElement(T.a,{style:[e.itemView,{paddingTop:o?2:0},{width:null===(t=r.props)||void 0===t?void 0:t.itemWidth,height:null===(n=r.props)||void 0===n?void 0:n.itemHeight,backgroundColor:null===(a=r.props)||void 0===a?void 0:a.itemBgColor,color:null===(l=r.props)||void 0===l?void 0:l.itemTextColor,fontSize:null===(s=r.props)||void 0===s?void 0:s.itemFontSize,marginRight:8}]},null===(c=r.state.day)||void 0===c?void 0:c.replace("天","")):null,w.a.createElement(T.a,{style:[parseInt(r.state.day)>=1?e.dayViewPc:"",{paddingTop:o?2:0},r.props.hasBg?{color:null===(u=r.props)||void 0===u?void 0:u.dayColor,opacity:1}:{}]},parseInt(r.state.day)>=1?"天":null)):w.a.createElement(T.a,{style:[parseInt(r.state.day)>=1?e.dayView:"",{paddingTop:o?2:0},{width:null===(d=r.props)||void 0===d?void 0:d.dayWidth,height:null===(p=r.props)||void 0===p?void 0:p.itemHeight,fontSize:null===(f=r.props)||void 0===f?void 0:f.itemFontSize,color:null===(h=r.props)||void 0===h?void 0:h.dayColor}]},parseInt(r.state.day)>=1?r.state.day:null),w.a.createElement(T.a,{style:[e.itemView,{paddingTop:o?2:0},{width:null===(g=r.props)||void 0===g?void 0:g.itemWidth,height:null===(m=r.props)||void 0===m?void 0:m.itemHeight,backgroundColor:null===(y=r.props)||void 0===y?void 0:y.itemBgColor,color:null===(v=r.props)||void 0===v?void 0:v.itemTextColor,fontSize:null===(b=r.props)||void 0===b?void 0:b.itemFontSize}]},r.state.hour),w.a.createElement(T.a,{style:[i?e.textColorPc:e.textColor,{paddingTop:o?2:0}]},":"),w.a.createElement(T.a,{style:[e.itemView,{paddingTop:o?2:0},{width:null===(S=r.props)||void 0===S?void 0:S.itemWidth,height:null===(C=r.props)||void 0===C?void 0:C.itemHeight,backgroundColor:null===(P=r.props)||void 0===P?void 0:P.itemBgColor,color:null===(x=r.props)||void 0===x?void 0:x.itemTextColor,fontSize:null===(I=r.props)||void 0===I?void 0:I.itemFontSize}]},r.state.minute),w.a.createElement(T.a,{style:[i?e.textColorPc:e.textColor,{paddingTop:o?2:0}]},":"),w.a.createElement(T.a,{style:[e.itemView,{paddingTop:o?2:0},{width:null===(k=r.props)||void 0===k?void 0:k.itemWidth,height:null===(E=r.props)||void 0===E?void 0:E.itemHeight,backgroundColor:null===(j=r.props)||void 0===j?void 0:j.itemBgColor,color:null===(R=r.props)||void 0===R?void 0:R.itemTextColor,fontSize:null===(L=r.props)||void 0===L?void 0:L.itemFontSize}]},r.state.second)):w.a.createElement(w.a.Fragment,null)}))}}]),n}(b.Component),H=Object(B.a)(F),z=n(15),U=n.n(z),V=n(446);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t;return I.a.create({img:{width:"76.92%",height:"76.92%"},imgPc:{width:"76.92%",height:"76.92%"},imgPad:{width:"76.92%",height:"76.92%"},imgTopPromInfo:Y(Y(Y({},e.T0),e.C17),{},{position:"absolute",bottom:0,textAlign:"center",maxWidth:88,height:14,borderRadius:8,backgroundColor:null==e||null===(t=e.C44)||void 0===t?void 0:t.color,lineHeight:14,paddingLeft:4,paddingRight:4,textAlignVertical:"center",overflow:"hidden"}),imgTopPromInfoPc:Y(Y({},e.T3),{},{maxWidth:182,height:16,lineHeight:16,paddingTop:1}),prdCont:{paddingTop:4,paddingLeft:8,paddingRight:8,paddingBottom:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,textAlign:"ios"===S.a.OS?"left":"center"},prdContPc:{paddingTop:8,paddingLeft:24,paddingRight:24},prdContPcSpecialStyle:{paddingBottom:27},prdName:Y(Y(Y({},e.T3),e.C12),{},{fontWeight:"web"===S.a.OS?"bold":"600",textAlign:"ios"===S.a.OS?"left":"center"}),prdNamePc:Y(Y(Y({},e.T8),e.C11),{},{textAlign:"center",position:"relative",fontWeight:"600"}),prdNameBtTextHPcNoReview:{height:18,marginTop:4},promName:Y(Y(Y({},e.T3),e.C14),{},{marginTop:4,textAlign:"ios"===S.a.OS?"left":"center"}),promNamePc:Y({},e.T5),prdContTopNoPromotion:{height:32},priceBox:{justifyContent:"ios"===S.a.OS?"flex-start":"center",alignItems:"center",flexDirection:"row",height:16,marginTop:4},priceBoxPc:{marginTop:10,height:21},priceBoxPcMg:{marginTop:10},priceMarkPc:{marginRight:0,color:e.C18.color,fontSize:e.T10.fontSize,fontWeight:"400"},newPrice:Y(Y({},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"600",marginRight:8}),newPricePc:Y({},e.T10),newPriceApkOrIos:{overflow:"visible"},priceQi:Y(Y({alignItems:"center",marginLeft:-2},e.C18),{},{fontSize:e.T4.fontSize,fontWeight:"web"===S.a.OS?"bold":"600",lineHeight:15}),priceQiPc:{marginLeft:0,fontSize:e.T10.fontSize,lineHeight:16,fontWeight:"400"},oldPrice:Y(Y(Y({},e.T3),e.C14),{},{lineHeight:12,fontFamily:L.a.fontFamilyBase,textDecorationLine:"line-through"}),oldPricePc:{lineHeight:16}})},K=function(e,t,n){return(t||null!=n&&n.isGroupStyleChange)&&(e=k.a),I.a.create({view:{paddingBottom:6,alignItems:"center"},imageWrap:{width:50,height:50,padding:3},imagePadWrap:{width:"100%",padding:8},imagePadHorizontaWrap:{width:"100%",padding:15.67},shopImage:{width:"100%",height:"100%"},textWrap:{width:"100%",marginTop:4,alignItems:"center",justifyContent:"center"},originPrice:Y(Y(Y({},e.T1),e.C15),{},{textDecorationLine:"line-through",fontSize:9,height:14}),originPadPrice:Y(Y(Y({},e.T3),e.C15),{},{textDecorationLine:"line-through",height:16}),promoText:Y(Y(Y({},e.T1),e.C14),{},{marginBottom:4,minHeight:14,fontSize:9,maxWidth:"100%",width:"100%",textAlign:"center"}),promoPadText:Y(Y(Y({},e.T7),{},{minHeight:19},e.C13),{},{maxWidth:"100%",width:"100%",textAlign:"center"}),promoPadHText:Y(Y(Y({},e.T3),{},{minHeight:16},e.C13),{},{maxWidth:"100%",width:"100%",textAlign:"center"}),nowPrice:Y(Y(Y({},e.T2),e.C18),{},{fontSize:12,height:16,lineHeight:16,fontWeight:"600",color:"#CF0A2C"}),nowPadPrice:Y(Y(Y({},e.T9),e.C18),{},{height:21,lineHeight:21,fontWeight:"500",color:"#CF0A2C"})})},q=n(11),Q=n(3),$=n(21),X=n(25),Z=n(24),ee=n(59),te={exposeItem_product:function(e){var t,n,r=this.props,o=r.cardId,i=r.pageCatCode,a=r.pageCatName,l=r.resSiteCode,s=r.resSiteName,c={array:e.map((function(e,t){var n;return{index:(t+1).toString(),comId:null==o?void 0:o.toString(),dataCode:null===(n=e.skuCode)||void 0===n?void 0:n.toString(),dataType:"1"}}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"限时购组件",eventType:"7",pageId:null===(t=this.props)||void 0===t||null===(n=t.pageId)||void 0===n?void 0:n.toString(),pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s},content:c.array}}},ne=n(119),re=n(1734),oe=n(432),ie=n(1735);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var se=function(e){u()(n,e);var t=le(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"_panResponder",void 0),m()(s()(r),"itemlist",[]),m()(s()(r),"receiveRef",(function(e,t){e?(e.exposeObj=t,r.itemlist.push(e)):r.itemlist=[]})),m()(s()(r),"isPad",(function(){return"medium"===r.getSize()||"large"===r.getSize()&&r.state.width<ne.a.safety_area})),m()(s()(r),"isApp",(function(){return"small"===r.getSize()})),m()(s()(r),"isPadPc",(function(){return("large"===r.getSize()||"medium"===r.getSize())&&r.isPadHorizonta()})),m()(s()(r),"initWidth",(function(e){r.state.width!=e&&r.setState({width:e})})),m()(s()(r),"getSize",(function(){return Object(W.a)(r.state.width)})),m()(s()(r),"isPadHorizonta",(function(){return("web"===S.a.OS?C.a.get("window").width:r.state.width)>=("web"===S.a.OS?C.a.get("window").height:Object(Q.x)(r.props.pageType).screenHeight)})),m()(s()(r),"shopClick",v()((function(e,t,n){if(Object(Q.F)())if(r.props.actionUrl){var o=r.props.actionUrl.indexOf("?")>-1?"&callapp=no":"?callapp=no";r.props.eventClickByLoad("2"),Object(Q.A)(r.props.actionUrl+o)}else r.props.eventClickByLoad("26",Number(n+1),t),Object(ee.d)(String(e),String(t));else if(r.props.clickItem&&r.props.clickItem(r.props.actionUrl?"2":"26",Number(n+1),t),r.props.actionUrl){var i=r.props.actionUrl.indexOf("?")>-1?"&callapp=no":"?callapp=no";Object(Q.A)(r.props.actionUrl+i)}else Object(ee.d)(String(e),String(t))}),200)),m()(s()(r),"getWidth",(function(e){r.setState({singleWidth:e.width})})),m()(s()(r),"handleReportData",(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)})),r.state={pageType:r.props.pageType||"homePage",width:Object(Q.x)(r.props.pageType||"homePage").screenWidth,height:Object(Q.x)(r.props.pageType||"homePage").screenHeight},r}return a()(n,[{key:"componentWillMount",value:function(){Object(Q.F)()||(this._panResponder=V.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"renderList",value:function(e,t,n){var r=this;return"web"===S.a.OS?w.a.createElement(O.a,U()({},this._panResponder.panHandlers,{style:this.isPad()?{width:"100%"}:{maxWidth:"100%"}}),w.a.createElement(P.a,{ref:function(t){return r.receiveRef(t,r.handleReportData(e,n))},activeOpacity:1,onPress:function(){return r.shopClick(e.prdId,e.skuCode,n)}},w.a.createElement(O.a,{style:[t.view,this.isPad()&&{paddingBottom:8}]},w.a.createElement(O.a,{style:this.isPad()?this.isPadHorizonta()?[t.imagePadHorizontaWrap,{height:this.state.singleWidth}]:[t.imagePadWrap,{height:this.state.singleWidth}]:t.imageWrap},w.a.createElement(Z.a,{imgUri:e.customImage?"".concat(q.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName):"".concat(q.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName),imgStyle:t.shopImage})),w.a.createElement(O.a,{style:[t.textWrap,this.isPad()&&{marginTop:0}]},w.a.createElement(T.a,{numberOfLines:1,style:this.isPad()?this.isPadHorizonta()?t.promoPadHText:t.promoPadText:t.promoText},e.prdPromotion),w.a.createElement(T.a,{style:this.isPad()?t.nowPadPrice:t.nowPrice},e.displayPrice?"¥"+re.a.priceFormat(e.displayPrice):Object(oe.b)("without_price")),w.a.createElement(T.a,{style:this.isPad()?t.originPadPrice:t.originPrice},re.a.priceFormat(e.displayPrice)!=re.a.priceFormat(e.originPrice)&&e.originPrice?"¥"+re.a.priceFormat(e.originPrice):""))))):w.a.createElement(P.a,{activeOpacity:1,style:this.isPad()?{width:"100%"}:{maxWidth:"100%"},ref:function(t){return r.receiveRef(t,r.handleReportData(e,n))},onPress:function(){return r.shopClick(e.prdId,e.skuCode,n)}},w.a.createElement(O.a,{style:[t.view,this.isPad()&&{paddingBottom:8}]},w.a.createElement(O.a,{style:this.isPad()?this.isPadHorizonta()?[t.imagePadHorizontaWrap,{height:this.state.singleWidth}]:[t.imagePadWrap,{height:this.state.singleWidth}]:t.imageWrap},w.a.createElement(O.a,{style:t.shopImage},w.a.createElement(Z.a,{imgUri:e.customImage?"".concat(q.a.cmsCndProdPath,"/").concat(e.photoPath,"/").concat(e.photoName):"".concat(q.a.cmsCndProdPath,"/").concat(e.photoPath,"/428_428_").concat(e.photoName),imgStyle:t.shopImage}))),w.a.createElement(O.a,{style:[t.textWrap,this.isPad()&&{marginTop:0}]},w.a.createElement(T.a,{numberOfLines:1,style:this.isPad()?this.isPadHorizonta()?t.promoPadHText:t.promoPadText:t.promoText},e.prdPromotion),w.a.createElement(T.a,{style:this.isPad()?t.nowPadPrice:t.nowPrice},e.displayPrice?"¥"+re.a.priceFormat(null==e?void 0:e.displayPrice):Object(oe.b)("without_price")),w.a.createElement(T.a,{style:this.isPad()?t.originPadPrice:t.originPrice},re.a.priceFormat(null==e?void 0:e.displayPrice)!=re.a.priceFormat(e.originPrice)&&e.originPrice?"¥"+re.a.priceFormat(e.originPrice):""))))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.listInfo,o=n.hasBg,i=n.crossDressingStyle,a=Object(Q.F)()?Object(Q.x)().screenWidth:this.state.width,l=JSON.parse(JSON.stringify(r)),s=this.isPadHorizonta()?l.slice(0,6):l.slice(0,5);e=Object(Q.F)()?this.isApp()?a-(o?56:40):a-(o?72:56):this.isApp()?a-(o?48:32):this.isPad()?a-(o?72:48):ne.a.safety_area;var c=this.isPadHorizonta()?6:5;return w.a.createElement(A.b,{themeStyles:function(e){return K(e,i,t.props.styleChange)}},(function(n,r,o){return Object(Q.F)()||t.initWidth(o),w.a.createElement(ie.a,{col:c,colGutter:t.isPad?0:"",pageGutter:t.isPad?0:8,dataArray:s,boxWidth:e,gridCallBack:t.getWidth,renderItem:function(e){var r=e.item,o=e.index;return t.renderList(r,n,o)}})}))}}]),n}(b.PureComponent),ce=Object(B.a)(Object($.a)(te)(Object(X.a)(se))),ue=n(78);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var fe=function(e){u()(n,e);var t=pe(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"_panResponder",void 0),m()(s()(r),"itemlist",[]),m()(s()(r),"customStyleThree",null),m()(s()(r),"receiveRef",(function(e,t){e?(e.exposeObj=t,r.itemlist.push(e)):r.itemlist=[]})),m()(s()(r),"shopClick",v()((function(e,t,n){if(r.props.clickItem&&r.props.clickItem(r.props.actionUrl?"2":"26",Number(n+1),t),r.props.actionUrl){var o=r.props.actionUrl.indexOf("?")>-1?"&callapp=no":"?callapp=no";Object(Q.A)(r.props.actionUrl+o)}else Object(ee.d)(String(e.prdId),String(t))}),200)),m()(s()(r),"handleReportData",(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)})),m()(s()(r),"onClickSinglePrd",(function(){})),r}return a()(n,[{key:"componentWillMount",value:function(){Object(Q.F)()||(this._panResponder=V.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}))}},{key:"renderList",value:function(e,t,n){var r=this;return w.a.createElement(ue.a,{key:n,data:e,config:this.props.config,iWidth:230.39,iHeight:306.5,customPrdStyles:this.customStyleThree,onClick:function(){return r.shopClick(e,e.skuCode,n)},receiveRef:function(t){return r.receiveRef(t,r.handleReportData(e))}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.listInfo,r=t.crossDressingStyle,o=JSON.parse(JSON.stringify(n)).slice(0,5);return this.customStyleThree=J,w.a.createElement(A.b,{themeStyles:function(t){var n;return K(t,r,null===(n=e.props)||void 0===n?void 0:n.styleChange)}},(function(t){return w.a.createElement(ie.a,{col:5,pageGutter:0,dataArray:o,boxWidth:1200,gridCallBack:null,renderItem:function(n){var r=n.item,o=n.index;return e.renderList(r,t,o)}})}))}}]),n}(b.Component),he=Object($.a)(te)(Object(X.a)(fe)),ge=n(42),me=n(10),ye={clickItem:function(e,t,n){var r,o=Object(Q.F)()?this:this.props,i=o.cardId,a=o.resSiteCode,l=o.resSiteName,s=o.pageCatCode,c=o.pageCatName,u=2==e?{comId:null==i?void 0:i.toString(),clickType:null==e?void 0:e.toString()}:{comId:null==i?void 0:i.toString(),index:null==t?void 0:t.toString(),dataCode:null==n?void 0:n.toString(),dataType:"1",clickType:null==e?void 0:e.toString()};return{data:{pageId:Object(Q.F)()?String(null==this?void 0:this.pageId):String(null===(r=this.props)||void 0===r?void 0:r.pageId),actionCode:Object(Q.F)()?"410000101":this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"限时购组件点击",eventType:"2",content:u,resSiteCode:a,resSiteName:l,pageCatCode:s,pageCatName:c}}}},ve=n(22),be=n(20),we=n(48),Se=n(50);function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Oe=function(e){u()(r,e);var t=Ce(r);function r(e){var n;o()(this,r),n=t.call(this,e),m()(s()(n),"itemlist",[]),m()(s()(n),"hasBg",!1),m()(s()(n),"innerBoxStyle",{}),m()(s()(n),"showMore",v()((function(){if(Object(Q.F)()){if(n.eventClickByLoad(2),n.props.actionUrl){var e=n.props.actionUrl.indexOf("?")>-1?"&callapp=no":"?callapp=no";Object(Q.A)(n.props.actionUrl+e)}Object(Q.A)(n.state.actionUrl)}else if(n.state.actionUrl){n.props.clickItem(2);var t=n.state.actionUrl.indexOf("?")>-1?"&callapp=no":"?callapp=no";Object(Q.A)(n.state.actionUrl+t)}else Object(Q.A)(n.state.actionUrl),n.props.clickItem(2)}),200)),m()(s()(n),"eventClickByLoad",(function(e,t,r){var o=n.props,i=o.cardId,a=o.pageId,l=o.pageCatCode,s=o.pageCatName,c=o.resSiteCode,u=o.resSiteName,d=2==e?{comId:null==i?void 0:i.toString(),clickType:null==e?void 0:e.toString()}:{comId:null==i?void 0:i.toString(),index:null==t?void 0:t.toString(),dataCode:null==r?void 0:r.toString(),dataType:"1",clickType:null==e?void 0:e.toString()};Object(ve.a)({pageId:null==a?void 0:a.toString(),actionCode:"410000101",actionName:"限时购组件点击",eventType:me.e.EVENT_TYPE_CLICK,content:d,pageCatCode:l,pageCatName:s,resSiteCode:c,resSiteName:u})})),m()(s()(n),"isApp",(function(){return"small"===n.getSize()})),m()(s()(n),"getPlatformPrefix",(function(){return"web"===S.a.OS?n.isApp()?me.f.WAP:me.f.PC:me.f.APP})),m()(s()(n),"initWidth",(function(e){n.state.width==e||Object(Q.F)()||(n.setState({width:e}),"web"!==S.a.OS&&(Object(Q.D)(n.props.styleChange)||n.setState({crossDressingStyle:Object(Q.i)(n.props.styleChange,Object(W.a)(e))})))})),m()(s()(n),"getSize",(function(){return Object(W.a)(n.state.width)})),m()(s()(n),"isPadPc",(function(){return"medium"===n.getSize()&&n.isPadHorizonta()})),m()(s()(n),"isPad",(function(){return"medium"===n.getSize()})),m()(s()(n),"isHideText",(function(){n.setState({textShow:!1})})),m()(s()(n),"isPadHorizonta",(function(){return("web"===S.a.OS?C.a.get("window").width:n.state.width)>=("web"===S.a.OS?C.a.get("window").height:Object(Q.x)(n.props.pageType).screenHeight)}));var i=n.props,a=i.styleChange,l=i.width,c=i.configInfo,u=Object(Q.l)(c);(null==c?void 0:c.moreUrlType)!=ge.e.h5&&(u="web"===S.a.OS||Object(Q.F)()?"large"===Object(W.a)(l)?null==c?void 0:c.moreActionWebUrl:null==c?void 0:c.moreActionWapUrl:null==c?void 0:c.moreActionApkUrl);var d=null;return Object(Q.D)(a)||(d=Object(Q.i)(a,Object(W.a)(l))),n.state={textShow:!0,pageData:n.props.dataSourceList,nowTime:"",actionUrl:u,crossDressingStyle:d,pageType:n.props.pageType||"homePage",width:Object(Q.x)(n.props.pageType||"homePage").screenWidth,height:Object(Q.x)(n.props.pageType||"homePage").screenHeight},n}return a()(r,[{key:"componentDidMount",value:function(){var e,t,n,r,o;we.a.isApp()&&(0!=(null===(e=this.props)||void 0===e||null===(t=e.dataSourceList)||void 0===t?void 0:t.length)&&null!==(n=this.props)&&void 0!==n&&n.dataSourceList||Object(Q.K)({time:0,exceptionType:1,pageid:null===(r=this.props)||void 0===r?void 0:r.pageId,requestAddress:"/mcp/content/getPageInfoListAsync",comid:(null===(o=this.props)||void 0===o?void 0:o.cardId)+"",reason:"限时购data empty!"}))}},{key:"render",value:function(){var e,t,r,o=this,i=this.props,a=i.width,l=i.configInfo,s=this.state,c=s.crossDressingStyle,u=s.pageData,d="large"===Object(W.a)(a)&&a>=ne.a.safety_area,p="web"===S.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(r=t.toLocaleUpperCase())||void 0===r?void 0:r.includes("MQQBROWSER"))&&(this.isApp()||this.isPad());return u?w.a.createElement(A.b,{themeStyles:function(e){return function(e,t,n){var r,o,i={};((t||null!=n&&n.isGroupStyleChange)&&(e=k.a),null!=t&&null!==(r=t.textStyle)&&void 0!==r&&r.color)&&(i.color=null===(o=t.textStyle)||void 0===o?void 0:o.color);return I.a.create({container:{borderRadius:16,overflow:"hidden",resizeMode:"stretch"},viewPad:{marginLeft:24,marginRight:24},viewWapList:{marginLeft:16,marginRight:16},viewWap:{marginLeft:12,marginRight:12},view:{height:21,marginTop:12,marginBottom:8,flexDirection:"row",justifyContent:"space-between"},viewPadTitle:{height:40,marginTop:4,marginBottom:8,flexDirection:"row",justifyContent:"space-between"},viewLeft:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"70%"},viewLeftMp:{flex:1,flexDirection:"row",alignItems:"center"},mainTitle:j(j(j({},e.T10),e.C11),{},{paddingRight:8,fontWeight:"bold",maxWidth:"40%"},i),mainTitlePc:j(j(j({},e.T13),e.C11),{},{marginRight:24,maxWidth:"40%"},i),subTitle:j(j(j(j({},e.T1),e.C13),{},{paddingRight:4},i),{},{height:16,lineHeight:16,maxWidth:"30%",overflow:"hidden"}),subTitlePc:j(j(j({fontSize:e.T11.fontSize,fontWeight:"400"},e.C15),{},{marginRight:10},i),{},{height:24,lineHeight:24,maxWidth:"30%"}),moreColor:j(j(j(j({},e.T7),e.C13),i),{},{paddingBottom:1,maxWidth:"90%"}),listView:{borderBottomStartRadius:8,borderBottomEndRadius:8},hasBgStyle:j({},e.S31),moreWrap:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",width:"30%",marginLeft:4}})}(e,c,o.props.styleChange)}},(function(e,t,r){var i,a,s,f,h,g;o.initWidth(r),(c||null!==(i=o.props.styleChange)&&void 0!==i&&i.isGroupStyleChange)&&(t=k.a),(null!=c&&null!==(a=c.imgStyle)&&void 0!==a&&a.backgroundColor||null!=c&&c.bgImg)&&(o.innerBoxStyle={marginHorizontal:o.isPad()?12:8,marginBottom:8,borderRadius:10,borderBottomStartRadius:10,borderBottomEndRadius:10},o.hasBg=!0);var m,y=t.C17.color,v=t.C24.color;return null!=c&&null!==(s=c.textStyle)&&void 0!==s&&s.color&&(y=c.textStyle.color,v=c.textStyle.color),Q.F&&(r=Object(Q.x)().screenWidth,m=o.isApp()?r-(o.hasBg?48:32):r-(o.hasBg?64:48)),w.a.createElement(O.a,{style:d?{alignItems:"center"}:{}},w.a.createElement(Se.a,{style:[o.isApp()?e.viewWapList:d?{width:1200}:e.viewPad,e.container,o.hasBg?d?{alignItems:"center",borderRadius:0}:{borderRadius:16}:d?{alignItems:"center",borderRadius:0}:t.S31],imgViewStyle:null==c?void 0:c.imgStyle,imgUri:null==c?void 0:c.bgImg,resizeMode:"stretch"},"true"==l.titleShow&&""!=l.cardTitle||"true"==l.showCountDown&&0!=o.state.textShow||"2"==(null==l?void 0:l.more)?w.a.createElement(P.a,{activeOpacity:1,onPress:o.showMore,style:[e.viewWap,o.isPad()?e.viewPadTitle:e.view,d?{width:1200,height:64,paddingTop:0}:{}]},w.a.createElement(O.a,{style:[Object(Q.F)()?e.viewLeftMp:e.viewLeft]},w.a.createElement(T.a,{numberOfLines:1,style:["true"==l.titleShow&&l.cardTitle?d?e.mainTitlePc:e.mainTitle:"",Object(Q.F)()&&{maxWidth:"35%"}]},"true"==l.titleShow?l.cardTitle:""),"true"==l.showCountDown&&o.state.textShow&&l.countDownText?w.a.createElement(T.a,{numberOfLines:1,style:[d?e.subTitlePc:e.subTitle,{paddingTop:p?2:0},Object(Q.F)()&&{maxWidth:"17%"}]},(null==l?void 0:l.countDownText)||""):w.a.createElement(w.a.Fragment,null),"true"==l.showCountDown?w.a.createElement(H,{endTime:-1===(null===(f=l.countDownEndTime)||void 0===f?void 0:f.indexOf("T"))?null===(h=l.countDownEndTime)||void 0===h?void 0:h.replace(/-/g,"/"):l.countDownEndTime,itemFontSize:d?18:10,isApp:o.isApp()||o.isPad(),isHideText:o.isHideText,countDownWay:l.countDownWay,itemBgColor:t.C18.color,dayColor:o.hasBg?y:t.C18.color,itemWidth:d?32:16,itemHeight:d?32:16,itemTextColor:y,hasBg:o.hasBg}):w.a.createElement(w.a.Fragment,null)),"2"==(null==l?void 0:l.more)?w.a.createElement(O.a,{style:[e.moreWrap,d?{flexGrow:1,justifyContent:"flex-end"}:{},Object(Q.F)()&&{width:"auto",maxWidth:r<=320?"20%":"26%"}]},w.a.createElement(T.a,{style:e.moreColor,numberOfLines:1},l.moreTitle||Object(oe.b)("common_more")),w.a.createElement(O.a,{style:{paddingLeft:4,paddingBottom:"web"===S.a.OS?2:0}},Object(Q.F)()?w.a.createElement(x.a,{source:{uri:n(205)},style:{opacity:.2,width:12,height:24}}):w.a.createElement(be.a,{normalCol:v,opacity:t.C24.opacity,iconName:"ic24-more",width:12,height:24}))):w.a.createElement(w.a.Fragment,null)):w.a.createElement(w.a.Fragment,null),w.a.createElement(O.a,{style:[e.listView,o.innerBoxStyle,o.hasBg&&!d?e.hasBgStyle:"",Object(Q.F)()?{width:m}:d?{width:1200}:{}]},d?w.a.createElement(he,{clickItem:o.props.clickItem,actionUrl:o.state.actionUrl,listInfo:o.props.dataSourceListPc,crossDressingStyle:c,styleChange:o.props.styleChange,config:o.props.configData,cardId:o.props.cardId,pageCatCode:o.props.pageCatCode,pageCatName:o.props.pageCatName,resSiteCode:o.props.resSiteCode,resSiteName:o.props.resSiteName}):w.a.createElement(ce,{clickItem:o.props.clickItem,actionUrl:o.state.actionUrl,pageType:o.props.pageType,pageId:null===(g=o.props)||void 0===g?void 0:g.pageId,listInfo:u,hasBg:o.hasBg,cardId:o.props.cardId,crossDressingStyle:c,styleChange:o.props.styleChange,eventClickByLoad:o.eventClickByLoad,pageCatCode:o.props.pageCatCode,pageCatName:o.props.pageCatName,resSiteCode:o.props.resSiteCode,resSiteName:o.props.resSiteName}))))})):w.a.createElement(O.a,{style:{marginTop:-8}})}}]),r}(b.PureComponent);t.a=Object(B.a)(Object($.a)(ye)(Object(X.a)(Oe)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return He}));var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(34),w=n.n(b),S=n(0),C=n.n(S),O=n(64),P=n.n(O),T=n(54),x=n(43),I=n(157),k=n(37),E=n(152),j=n(49),R=n(48),L=n(103),_=n(40),D=n(119),N=n(660),W=n(102),A=n(1731),B=n(57);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t;return B.a.create({commonStyle:{backgroundColor:e.C32.color},darkStyle:{backgroundColor:e.S32.backgroundColor},container:{flex:1},tabBar:{backgroundColor:e.S32.backgroundColor,position:"absolute"},tabItem:{height:36,justifyContent:"center",alignItems:"center",flex:1},tabPicItem:{height:56,justifyContent:"center",alignItems:"center",flex:1},tabPicItemWeb:{height:64,justifyContent:"center",alignItems:"center",flex:1},tabText:F(F({},e.T7),e.C11),tabTextActive:F(F({},e.T8),e.C18),tabItemWeb:{justifyContent:"center",alignItems:"center",marginRight:24},tabTextWeb:F({fontSize:21,fontWeight:"400"},e.C11),tabTextActiveWeb:F({fontSize:21,fontWeight:"500"},e.C18),line:{borderStyle:"solid",borderBottomWidth:2,borderRadius:16,position:"absolute",width:16,bottom:2},subText:{marginTop:-5,paddingLeft:5,paddingRight:5},sectionHeaderText:{color:"red",fontSize:18,fontWeight:"bold",paddingTop:15,paddingBottom:15,paddingHorizontal:10},divider:{width:"100%",height:1,backgroundColor:"#ddd"},sectionList:{flex:1},safeArea:{flex:1,backgroundColor:"#121212"},tabBarForWeb1:{width:"100%",position:"web"===k.a.OS?"fixed":"relative",top:0,backgroundColor:e.C32.color},tabBarForWeb2:{width:"100%",justifyContent:"center",alignItems:"center",backgroundColor:e.C32.color},tabBarForWap2:{width:"100%",backgroundColor:e.C32.color},tabBarSticky:(t={width:"100%",margin:"auto",position:"web"===k.a.OS?"-webkit-sticky":"relative"},v()(t,"position","web"===k.a.OS?"sticky":"relative"),v()(t,"left",0),t),tabsImage:{height:56,resizeMode:"contain"},tabsImageWeb:{height:64,resizeMode:"contain"}})},z=n(126),U=n(87),V=n(270),G=n(950),Y=n(32),J=n(185);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q,$=function(e){return B.a.create({tabBarScrollviewContainer:{flexDirection:"row"},tabBarContainer:{flexDirection:"row",alignItems:"center"},darkStyle:{backgroundColor:e.S32.backgroundColor},tabBarStyle:{backgroundColor:"#eee"},tabBarContainerInner:{marginLeft:16,flexDirection:"row",alignItems:"center",justifyContent:"space-around"},tabBarContainerInnerPad:{marginLeft:24,flexDirection:"row",alignItems:"center",justifyContent:"space-around"},tabBarContainerInnerWeb:{flexDirection:"row",alignItems:"center",justifyContent:"space-around"},tabBarContainerInnerArrow:{marginLeft:16,flexDirection:"row",alignItems:"center",justifyContent:"center"},tabBarContainerInnerArrowPad:{marginLeft:24,flexDirection:"row",alignItems:"center",justifyContent:"center"},tabBarContainerInnerArrowWeb:{flexDirection:"row",alignItems:"center",justifyContent:"center"},tabItem:{borderBottomColor:"red",justifyContent:"center",alignItems:"center",marginRight:24},tabText:q(q({},e.T7),e.C11),tabTextActive:q(q({},e.T8),e.C18),tabTextWeb:q(q({},e.T9),e.C11),tabTextActiveWeb:q(q({},e.T10),e.C18)})},X=n(20),Z=n(3),ee=n(30),te=n(44),ne=n(33);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ie=0;"ios"===k.a.OS&&Object(ne.e)().then((function(e){ie=e})).catch((function(e){}));var ae,le,se,ce,ue,de=Object(Y.c)(Q=function(e){p()(n,e);var t=oe(n);function n(e){var r,o;return a()(this,n),o=t.call(this,e),v()(u()(o),"scrollView",C.a.createRef()),v()(u()(o),"_tabContainerMeasurements",void 0),v()(u()(o),"_tabsMeasurements",{}),v()(u()(o),"outTabBar",void 0),v()(u()(o),"innerTabBar",void 0),v()(u()(o),"listener1",void 0),v()(u()(o),"listener2",void 0),v()(u()(o),"listener3",void 0),v()(u()(o),"listener4",void 0),v()(u()(o),"timmer",void 0),v()(u()(o),"timmer1",void 0),v()(u()(o),"timmer2",void 0),v()(u()(o),"timmer3",void 0),v()(u()(o),"timmer4",void 0),v()(u()(o),"topNavigationHeight",0),v()(u()(o),"hasPicTitle",!1),v()(u()(o),"handleScroll",(function(){o.state.showMoreTabs&&o.isShowMoreTabs(!o.state.showMoreTabs)})),v()(u()(o),"getWidthAndHeight",(function(e,t){o.state.showMoreTabs?o.setState({showMoreTabs:!1,width:e}):o.setState({width:e});var n=e-36;o.state.innerTabBarWidth>n?o.setState({isShowArrow:!0}):o.setState({isShowArrow:!1})})),v()(u()(o),"floorScrollToLeft",(function(e){var t;null!==(t=o.scrollView)&&void 0!==t&&t.current&&o.scrollView.current.scrollTo({x:e,animated:!0})})),v()(u()(o),"webFloorScrollToLeft",(function(){var e,t;null===(e=o.scrollView)||void 0===e||null===(t=e.current)||void 0===t||t.scrollTo({x:0,animated:!0})})),v()(u()(o),"scrollyChange",(function(){o.outTabBar&&o.outTabBar.measure((function(e,t,n,r,i,a){o.setState({pageY:a})}))})),v()(u()(o),"getScrollAmount",(function(){var e,t,n,r=o.props.currentIndex,i=o.state.width,a=null===(e=o._tabsMeasurements[r])||void 0===e?void 0:e.width,l=o._tabsMeasurements[r+1],s=l&&l.width||0,c=(null===(t=o._tabsMeasurements[r])||void 0===t?void 0:t.left)+0*a;c=(c-=(i-1*a-0*s)/2)>=0?c:0;var u=Math.max((null===(n=o._tabContainerMeasurements)||void 0===n?void 0:n.width)-i+36,0);return c=c>u?u:c})),v()(u()(o),"onTabContainerLayout",(function(e){o.state.showMoreTabs||(o._tabContainerMeasurements=e.nativeEvent.layout)})),v()(u()(o),"onInnerTabBarLayout",(function(){"web"!==k.a.OS&&o.outTabBar&&o.outTabBar.measure((function(e,t,n,r,i,a){o.setState({pageY:a})}))})),v()(u()(o),"onTabLayout",(function(e){return function(t){if(!o.state.showMoreTabs){var n=t.nativeEvent.layout,r=n.x,i=n.width,a=n.height;o._tabsMeasurements[e]={left:r,right:r+i,width:i,height:a}}}})),v()(u()(o),"isShowMoreTabs",(function(e){o.props.getArrowState&&o.props.getArrowState(e),o.setState({showMoreTabs:e})})),v()(u()(o),"renderTabBar",(function(e,t,n){var r=o.props.sections;return o.state.showMoreTabs&&o.state.isShowArrow&&!n?C.a.createElement(x.a,{style:[t?e.tabBarContainerInnerArrowPad:e.tabBarContainerInnerArrow,{height:o.hasPicTitle?56:36},{width:o.state.innerTabBarWidth}]}):C.a.createElement(x.a,{ref:function(e){o.innerTabBar=e},onLayout:o.onInnerTabBarLayout,collapsable:!1,style:o.state.isShowArrow?[n?e.tabBarContainerInnerArrowWeb:t?e.tabBarContainerInnerArrowPad:e.tabBarContainerInnerArrow,n?{height:64}:o.hasPicTitle?{height:56}:{height:36}]:[n?e.tabBarContainerInnerWeb:t?e.tabBarContainerInnerPad:e.tabBarContainerInner,n?{height:64}:o.hasPicTitle?{height:56}:{height:36},{flex:1}]},r.map(o.renderTab))})),v()(u()(o),"renderTab",(function(e,t){var n=o.props,r=n.renderTab,i=n.onPress,a=n.currentIndex===t;return C.a.createElement(z.a,{onPress:function(){i(t,e),o.timmer2&&clearTimeout(o.timmer),o.timmer2=setTimeout((function(){"web"===k.a.OS&&navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+iPhone OS/)||o.state.showMoreTabs&&o.isShowMoreTabs(!o.state.showMoreTabs)}),0)},key:t,onLayout:o.onTabLayout(t)},r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({isActive:a},e)))})),v()(u()(o),"getHeaderHeight",(function(){return"ios"===k.a.OS?He.IosStatusBarHeight:"7"===o.props.headerStyle.headStyle?56+He.AndroidStatusBarHeight:He.IosStatusBarHeight})),o.state={width:null!==(r=o.props.width)&&void 0!==r?r:T.a.get("window").width,showMoreTabs:!1,pageY:0,isShowArrow:!0,isFirstRender:!0,innerTabBarWidth:T.a.get("window").width},o.floorScrollToLeft=o.floorScrollToLeft.bind(u()(o)),o.iosWebTabBarScroll=o.iosWebTabBarScroll.bind(u()(o)),o.topNavigationHeight=e.headerStyle&&e.headerStyle.headStyle&&"7"===e.headerStyle.headStyle?He.tabBarHeight+56+("android"===k.a.OS?He.AndroidStatusBarHeight:ie):He.tabBarHeight,o}return s()(n,[{key:"componentDidMount",value:function(){var e=this,t=R.a.isPc(this.state.width);this.timmer&&clearTimeout(this.timmer),this.timmer=setTimeout((function(){var n=t?64:36,r=t?1200:e.state.width-n;e.innerTabBar&&e.innerTabBar.measure((function(t,n,o,i,a,l){!o||o>r?e.setState({isShowArrow:!0,innerTabBarWidth:o},(function(){e.setState({isFirstRender:!1})})):e.setState({isShowArrow:!1,innerTabBarWidth:o},(function(){e.setState({isFirstRender:!1})}))}))}),500),"web"!==k.a.OS&&(this.listener3=j.a.addListener("adjustScrollViewPostion",(function(){e.scrollView.current&&(e.timmer1&&clearTimeout(e.timmer1),e.timmer1=setTimeout((function(){e.scrollView.current.scrollTo({x:e.getScrollAmount(),animated:!0})}),0))})),this.listener4=Object(Z.w)(this.getWidthAndHeight,"activity"),Object(Z.v)("SeckillAndSmartLife").then((function(t){e.setState({width:null==t?void 0:t.windowWidth})})).catch((function(e){}))),"web"===k.a.OS?(this.listener1=j.a.addListener("scrollToTop",this.webFloorScrollToLeft),window.addEventListener("scroll",this.handleScroll)):this.listener2=j.a.addListener("scrollToTop",this.floorScrollToLeft),("web"===k.a.OS&&navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+iPhone OS/)||t)&&window.addEventListener("hashchange",this.iosWebTabBarScroll)}},{key:"iosWebTabBarScroll",value:function(){var e=this,t=[];this.props.sections.forEach((function(n,r){t.push("#"+n.title+e.props.pageId)}));var n=t.indexOf(decodeURI(window.location.hash));-1!==n&&n===this.props.currentIndex&&this.scrollView.current&&(this.timmer1&&clearTimeout(this.timmer1),this.timmer1=setTimeout((function(){e.state.showMoreTabs&&e.isShowMoreTabs(!e.state.showMoreTabs),e.scrollView.current.scrollTo({x:e.getScrollAmount(),animated:!0})}),0))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.currentIndex===e.currentIndex||"web"===k.a.OS&&navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+iPhone OS/)?this.props.blockUpdateIndex||this.props.currentIndex!==e.currentIndex&&this.scrollView.current&&(this.timmer1&&clearTimeout(this.timmer1),this.timmer1=setTimeout((function(){t.scrollView.current.scrollTo({x:t.getScrollAmount(),animated:!0})}),0)):this.scrollView.current&&(this.timmer1&&clearTimeout(this.timmer1),this.timmer1=setTimeout((function(){t.scrollView.current.scrollTo({x:t.getScrollAmount(),animated:!0})}),0))}},{key:"componentWillUnmount",value:function(){var e=R.a.isPc(this.state.width);this.listener1&&this.listener1.remove(),this.listener2&&this.listener2.remove(),this.listener3&&this.listener3.remove(),this.listener4&&this.listener4.remove(),this.timmer&&clearTimeout(this.timmer),this.timmer1&&clearTimeout(this.timmer1),this.timmer2&&clearTimeout(this.timmer2),this.timmer3&&clearTimeout(this.timmer3),this.timmer4&&clearTimeout(this.timmer4),"web"===k.a.OS&&window.removeEventListener("scroll",this.handleScroll),("web"===k.a.OS&&navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+iPhone OS/)||e)&&window.removeEventListener("hashchange",this.iosWebTabBarScroll)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sections,r=t.tabBarStyle,o=t.tabBarScrollViewStyle,i=t.stickyScrollY,a=t.isFixed,l=t.styleChange,s=this.state.width,c=ee.a.darkBool;"web"===k.a.OS?n.map((function(t){var n,r,o=null!=t&&null!==(n=t.data)&&void 0!==n&&n.configInfo?JSON.parse(null==t||null===(r=t.data)||void 0===r?void 0:r.configInfo):{},i=(null==o?void 0:o.selectedIcon)||(null==o?void 0:o.defaultIcon);Object(te.e)(i)||(e.hasPicTitle=!0)})):n.map((function(t){var n,r,o=null!=t&&null!==(n=t.data[0])&&void 0!==n&&n.configInfo?JSON.parse(null==t||null===(r=t.data[0])||void 0===r?void 0:r.configInfo):{},i=c?(null==o?void 0:o.darkSelectedIcon)||(null==o?void 0:o.darkDefaultIcon):(null==o?void 0:o.selectedIcon)||(null==o?void 0:o.defaultIcon);Object(te.e)(i)||(e.hasPicTitle=!0)}));var u=this.props.headerStyle&&this.props.headerStyle.headStyle&&"7"===this.props.headerStyle.headStyle?112+("android"===k.a.OS?He.AndroidStatusBarHeight:ie):56,d=this.props.FloorStore.isFixed?{}:{opacity:0},p="web"===k.a.OS?1:i.interpolate({inputRange:[this.props.FloorStore.headerHeight-(this.hasPicTitle?u:this.topNavigationHeight),this.props.FloorStore.headerHeight-((this.hasPicTitle?u:this.topNavigationHeight)-.01)],outputRange:a?[0,1]:[1,0],extrapolate:"clamp"}),f="web"!==k.a.OS&&i.interpolate({inputRange:[this.props.FloorStore.headerHeight-(this.hasPicTitle?u:this.topNavigationHeight),this.props.FloorStore.headerHeight-((this.hasPicTitle?u:this.topNavigationHeight)-.01)],outputRange:a?[-1,0]:[0,-1],extrapolate:"clamp"}),h="medium"===Object(_.a)(s)||"large"===Object(_.a)(s)&&s<D.a.safety_area,g=R.a.isPc(s);return C.a.createElement(W.b,{themeStyles:$},(function(t,i){return C.a.createElement(U.a.View,{style:[{width:s,opacity:p},"web"!==k.a.OS&&{zIndex:f},t.darkStyle,r,"web"!==k.a.OS&&a?d:{}],ref:function(t){e.outTabBar=t}},C.a.createElement(x.a,{style:g?{width:1200}:{}},C.a.createElement(V.a,{ref:e.scrollView,showsHorizontalScrollIndicator:!1,horizontal:!0,style:[o]},C.a.createElement(x.a,{onLayout:e.onTabContainerLayout,style:[t.tabBarContainer,e.state.isShowArrow?{marginRight:g?64:36}:{width:g?1200:e.state.width,flex:1}]},e.renderTabBar(t,h,g))),e.state.showMoreTabs&&e.state.isShowArrow&&!g?C.a.createElement(x.a,{style:{alignItems:"center",justifyContent:"center",position:"absolute",top:g?21:e.hasPicTitle?18:8,left:g?0:h?24:16}},C.a.createElement(E.a,{style:null!=l&&l.fontColor?[g?t.tabTextWeb:t.tabText,{color:null==l?void 0:l.fontColor}]:g?t.tabTextWeb:t.tabText},"切换楼层")):null,"web"!==k.a.OS?C.a.createElement(G.a,{animationType:"fade",transparent:!0,visible:e.state.showMoreTabs,statusBarTranslucent:!0,onRequestClose:function(){e.state.showMoreTabs&&e.isShowMoreTabs(!e.state.showMoreTabs)}},C.a.createElement(z.a,{activeOpacity:0,style:{position:"absolute",right:0,width:"100%",height:"100%",zIndex:9998,elevation:9998,top:"ios"===k.a.OS?He.IosStatusBarHeight:He.AndroidStatusBarHeight},onPress:function(){e.isShowMoreTabs(!e.state.showMoreTabs)}},e.state.showMoreTabs?C.a.createElement(x.a,{style:{backgroundColor:null!=l&&l.bgColor?null==l?void 0:l.bgColor:i.C32.color,position:"absolute",top:e.state.pageY+(e.hasPicTitle?56:36)+("ios"===k.a.OS?0:56)-e.getHeaderHeight(),left:0,zIndex:999,width:e.state.width}},C.a.createElement(x.a,{style:{flexDirection:"row",flexWrap:"wrap",marginLeft:h?24:16}},n.map(e.renderTab))):null)):C.a.createElement(C.a.Fragment,null,e.state.showMoreTabs?C.a.createElement(C.a.Fragment,null,C.a.createElement(z.a,{style:{position:"fixed",width:T.a.get("window").width,height:T.a.get("window").height,left:0,top:0,zIndex:998},onPress:function(){e.timmer3&&clearTimeout(e.timmer3),e.timmer3=setTimeout((function(){e.isShowMoreTabs(!e.state.showMoreTabs)}),0)}}),C.a.createElement(x.a,{style:{backgroundColor:null!=l&&l.bgColor?null==l?void 0:l.bgColor:i.C32.color,position:"absolute",top:g?0:e.hasPicTitle?56:36,left:0,zIndex:999,width:e.state.width,maxWidth:1200}},C.a.createElement(x.a,{style:{flexDirection:"row",flexWrap:"wrap",marginLeft:g?0:h?24:16}},n.map(e.renderTab)))):null),e.state.isShowArrow?C.a.createElement(x.a,{style:{backgroundColor:null!=l&&l.bgColor?null==l?void 0:l.bgColor:i.C32.color,position:"absolute",right:0,height:g?64:e.hasPicTitle?56:36,width:g?64:36,top:0,zIndex:999}},C.a.createElement(x.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},C.a.createElement(z.a,{onPress:function(){"web"!==k.a.OS&&e.scrollyChange(),e.isShowMoreTabs(!e.state.showMoreTabs)},activeOpacity:1},C.a.createElement(X.a,{normalCol:w()(null==l?void 0:l.fontColor)?i.C22.color:null==l?void 0:l.fontColor,iconName:e.state.showMoreTabs?"up":"down",opacity:e.state.isFirstRender?0:.36,width:g?"36":"24",height:g?"36":"24"})))):null))}))}}]),n}(S.PureComponent))||Q,pe=Object(J.a)(de),fe=n(98),he=n(85),ge=n(144),me=n(27),ye=n.n(me),ve=n(18),be=n.n(ve),we=(n(60),n(16)),Se=T.a.get("window").height,Ce=(ae=function(){function e(){a()(this,e),ye()(this,"headerHeight",le,this),ye()(this,"isFixed",se,this),ye()(this,"isSticky",ce,this),ye()(this,"currentIndexApk",ue,this)}return s()(e,[{key:"setHeaderHeight",value:function(e){this.headerHeight=e}},{key:"setFixed",value:function(e){this.isFixed=e}},{key:"setIsSticky",value:function(e){this.isSticky=e}},{key:"setCurrentIndexApk",value:function(e){this.currentIndexApk=e}}]),e}(),le=be()(ae.prototype,"headerHeight",[we.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Se}}),be()(ae.prototype,"setHeaderHeight",[we.d],Object.getOwnPropertyDescriptor(ae.prototype,"setHeaderHeight"),ae.prototype),se=be()(ae.prototype,"isFixed",[we.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be()(ae.prototype,"setFixed",[we.d],Object.getOwnPropertyDescriptor(ae.prototype,"setFixed"),ae.prototype),ce=be()(ae.prototype,"isSticky",[we.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be()(ae.prototype,"setIsSticky",[we.d],Object.getOwnPropertyDescriptor(ae.prototype,"setIsSticky"),ae.prototype),ue=be()(ae.prototype,"currentIndexApk",[we.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),be()(ae.prototype,"setCurrentIndexApk",[we.d],Object.getOwnPropertyDescriptor(ae.prototype,"setCurrentIndexApk"),ae.prototype),ae),Oe=n(21),Pe=n(10),Te={exposeItemFloor:function(){var e=this.props,t=e.comId,n=e.pageId,r=e.pageCatCode,o=e.pageCatName,i=e.resSiteCode,a=e.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"楼层组件-曝光",eventType:Pe.e.EVENT_TYPE_EXPOSURE,pageId:n,content:{comId:null==t?void 0:t.toString()},pageCatCode:r,pageCatName:o,resSiteCode:i,resSiteName:a}}},clickItem:function(e,t,n,r,o){var i,a=this.props,l=a.pageId,s=a.pageCatCode,c=a.pageCatName,u=a.resSiteCode,d=a.resSiteName;return{data:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:r?"楼层组件-点击":"楼层滚动切换事件",eventType:r?Pe.e.EVENT_TYPE_CLICK:o?Pe.e.EVENT_TYPE_PULL_SLIDEUP:Pe.e.EVENT_TYPE_PULL_DOWN,pageId:l,content:{comId:null==n?void 0:n.toString(),tabIndex:null===(i=t.index+1)||void 0===i?void 0:i.toString(),tabName:t.title},pageCatCode:s,pageCatName:c,resSiteCode:u,resSiteName:d}}}},xe=n(53);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var je,Re=function(e){p()(n,e);var t=Ee(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"listener",void 0),v()(u()(r),"imgInitialWidth",0),v()(u()(r),"imgInitialHeight",0),v()(u()(r),"getImgUrl",(function(){var e=r.props.floorSetting,t=e.imgDarkMode,n=e.imgNormal;return ee.a.darkBool?t:n})),v()(u()(r),"getWidthAndHeight",(function(e,t){r.setState({tabWidth:e,imgWidth:r.imgInitialWidth>e?e:r.imgInitialWidth,imgHeight:r.imgInitialHeight>72?72:r.imgInitialHeight})})),r.state={imgWidth:0,imgHeight:0,tabWidth:T.a.get("window").width,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;"web"!==k.a.OS&&(this.listener=Object(Z.w)(this.getWidthAndHeight,"activity"),Object(Z.v)("SeckillAndSmartLife").then((function(t){e.setState({tabWidth:null==t?void 0:t.windowWidth})})).catch((function(e){})));var t=R.a.isPc(T.a.get("window").width);if(this.props.floorSetting){var n=this.props.floorSetting.imgNormal;I.a.getSize(n+"",(function(n,r){e.imgInitialWidth=n,e.imgInitialHeight=r,e.setState({imgWidth:t?n>1200?1200:n:n>e.state.tabWidth?e.state.tabWidth:n,imgHeight:t?r>148?148:r:r>72?72:r})}),(function(){}))}}},{key:"componentWillUnmount",value:function(){this.listener&&this.listener.remove()}},{key:"render",value:function(){var e=this,t=this.props,n=t.defaultTitle,r=t.styleChange,o=t.floorSetting,i=t.itemContainerStyle,a=R.a.isPc(T.a.get("window").width);if(!o||"false"===o.titleShow)return null;var l=o.cardTitle,s=o.showSetting,c=o.titleLocation,u=ee.a.darkBool,d=l;d=d||n;var p={},f={};null!=r&&r.bgColor&&(p.backgroundColor=null==r?void 0:r.bgColor),null!=r&&r.fontColor&&(f.color=null==r?void 0:r.fontColor);var h="medium"===Object(_.a)(this.state.tabWidth)||"large"===Object(_.a)(this.state.tabWidth)&&this.state.tabWidth<D.a.safety_area;return C.a.createElement(W.b,{themeStyles:function(e){return function(e){return B.a.create({titleBoxImgLeftStyle:{height:72,justifyContent:"center"},titleBoxImgLeftStylePad:{height:72,justifyContent:"center"},titleBoxLeftStyle:{marginLeft:16,height:72,justifyContent:"center"},titleBoxLeftStylePad:{marginLeft:24,height:72,justifyContent:"center"},titleBoxLeftStyleWeb:{height:148,justifyContent:"center"},titleBoxCenterStyle:{height:72,justifyContent:"center",alignItems:"center"},titleBoxCenterStyleWeb:{height:148,justifyContent:"center",alignItems:"center"},titleViewLeft:{height:72,justifyContent:"center"},titleViewCenter:{height:72,justifyContent:"center",alignItems:"center"},titleViewLeftWeb:{height:148,justifyContent:"center"},titleViewCenterWeb:{height:148,justifyContent:"center",alignItems:"center"},titleTextLeftWeb:ke({fontFamily:xe.a.fontFamilyBase,fontSize:32,fontWeight:"500",lineHeight:43},e.C11),titleTextCenterWeb:ke({fontFamily:xe.a.fontFamilyBase,fontSize:32,fontWeight:"500",lineHeight:43},e.C11),titleTextLeft:ke(ke({fontFamily:xe.a.fontFamilyBase},e.T10),e.C11),titleTextCenter:ke(ke({fontFamily:xe.a.fontFamilyBase},e.T10),e.C11)})}(e)}},(function(t,n){var r=null;return r="2"===s?C.a.createElement(x.a,{style:"alignCenter"===c?a?t.titleBoxCenterStyleWeb:t.titleBoxCenterStyle:a?t.titleBoxLeftStyleWeb:h?t.titleBoxImgLeftStylePad:t.titleBoxImgLeftStyle},C.a.createElement(x.a,{style:{justifyContent:"center"}},C.a.createElement(I.a,{style:{width:e.state.imgWidth,height:e.state.imgHeight},source:{uri:e.getImgUrl()},resizeMode:"cover"}))):C.a.createElement(x.a,{style:["alignCenter"===c?a?t.titleBoxCenterStyleWeb:t.titleBoxCenterStyle:a?t.titleBoxLeftStyleWeb:h?t.titleBoxLeftStylePad:t.titleBoxLeftStyle,a?null:{marginLeft:h?24:16,marginRight:h?24:16}]},C.a.createElement(x.a,{style:["alignCenter"===c?t.titleViewCenter:t.titleViewLeft]},C.a.createElement(E.a,{style:[a?t.titleTextLeftWeb:t.titleTextLeft,f.color&&{color:f.color},{maxWidth:a?1200:h?592:328}],numberOfLines:1,ellipsizeMode:"tail"},d))),C.a.createElement(x.a,{style:[i,u||null==p||!p.backgroundColor?{}:{backgroundColor:p.backgroundColor}]},r)}))}}]),n}(C.a.PureComponent),Le=Object(J.a)(Re),_e=n(25),De=n(24),Ne=n(12);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Me=T.a.get("window").height,Fe=T.a.get("window").width,He={tabBarHeight:36},ze=Object(Y.c)(je=function(e){p()(n,e);var t=Be(n);function n(e){var r;a()(this,n),r=t.call(this,e),v()(u()(r),"scrollTimer",null),v()(u()(r),"clickTimer",null),v()(u()(r),"blockUpdateIndex",!1),v()(u()(r),"tabDefaultStyle",{width:"100%"}),v()(u()(r),"tabBarHeight",R.a.isPc(T.a.get("window").width)?64:36),v()(u()(r),"itemRefArray",[]),v()(u()(r),"rowFrames",[]),v()(u()(r),"data",[]),v()(u()(r),"tabBarRef",void 0),v()(u()(r),"lastItemFootRef",void 0),v()(u()(r),"listener1",void 0),v()(u()(r),"topNavigationHeight",0),v()(u()(r),"itemlist",[]),v()(u()(r),"isExpose",!0),v()(u()(r),"isIEPlatform",!1),v()(u()(r),"blockReportSwitch",!1),v()(u()(r),"timer1",null),v()(u()(r),"FloorStore",new Ce),v()(u()(r),"sectionAll",void 0),v()(u()(r),"hasPicTitle",!1),v()(u()(r),"itemWidth",64),v()(u()(r),"_loadMore",(function(){return C.a.createElement(x.a,{style:[{alignItems:"center",justifyContent:"center",flexDirection:"row"}]},C.a.createElement(I.a,{style:[{height:24,width:24}],source:{uri:"https://res.vmallres.com/nwap/20210415/staticm/img/loading.91fb745.gif"}}))})),r.sectionAll=r.props.sections;var o=!1;if("web"===k.a.OS){var i=Ne.b.UA_LIST.some((function(e){var t;return null===(t=navigator)||void 0===t?void 0:t.userAgent.toLowerCase().includes(e)})),l=Ne.b.CID_LIST.includes(L.a.get("cps_id"));o=i||l}return r.state={currentIndex:0,arrowState:!1,sectionsData:e.sections.map((function(e,t){return Ae(Ae({},e),{},{notShow:t>2})}))},r._renderHeader=r._renderHeader.bind(u()(r)),r._dynamicRender=r._dynamicRender.bind(u()(r)),r._itemRender=r._itemRender.bind(u()(r)),r.renderItemTitleBar=r.renderItemTitleBar.bind(u()(r)),r.renderTabBar=r.renderTabBar.bind(u()(r)),r.onViewableItemsChanged=r.onViewableItemsChanged.bind(u()(r)),r.getFrameMetrics=r.getFrameMetrics.bind(u()(r)),r.createViewToken=r.createViewToken.bind(u()(r)),r.getTabBarRef=r.getTabBarRef.bind(u()(r)),r.getLastItemFootRef=r.getLastItemFootRef.bind(u()(r)),r.scrollToTop=r.scrollToTop.bind(u()(r)),r.handleScroll=r.handleScroll.bind(u()(r)),r.topNavigationHeight=e.headStyle&&e.headStyle.headStyle&&!o&&R.a.isWap(Fe)?"7"===e.headStyle.headStyle?56:58:0,r.isIEPlatform=navigator.userAgent.toLowerCase().indexOf("trident")>0,r}return s()(n,[{key:"getFrameMetrics",value:function(e){var t=this.rowFrames[this.data[e].key];if(void 0!==t)return{length:t.length,offset:t.offset}}},{key:"createViewToken",value:function(e,t){var n;return{key:null===(n=this.data[e])||void 0===n?void 0:n.key,isViewable:t}}},{key:"_renderHeader",value:function(e){return C.a.createElement(x.a,null,this._dynamicRender(e))}},{key:"_dynamicRender",value:function(e){return C.a.createElement(fe.a,o()({},e,{mapComponents:ge.a,stickyScrollY:this.props.stickyScrollY||0,key:this.props.pageType,pageType:this.props.pageType}))}},{key:"_itemRender",value:function(e){var t=this,n=this.props.styleChange;return e.map((function(e,r){if(e&&e.data){var i,a=(null==e||null===(i=e.data)||void 0===i?void 0:i.cards)||[],l=Ae({},t.props.pageDataBaseInfo);l.cards=a;var s=Object(he.a)(l,"activity",0,!1,{},t.props.pageId,n),c=R.a.isPc(T.a.get("window").width);return C.a.createElement(x.a,{nativeID:(null==e?void 0:e.title)+t.props.pageId,ref:function(e){t.itemRefArray.push(e)},style:{width:c?1200:"100%",paddingTop:t.topNavigationHeight+(t.hasPicTitle?56:t.tabBarHeight)-1,marginTop:0-t.topNavigationHeight-t.tabBarHeight+1,zIndex:-2-r}},t.renderItemTitleBar(e),e.notShow?t._loadMore():C.a.createElement(fe.a,o()({},s,{mapComponents:ge.a})))}return null}))}},{key:"renderTabBar",value:function(e,t,n){var r,o=this,i=this.props,a=i.sections,l=i.styleChange,s="small"===Object(_.a)(Fe)?12:"large"===Object(_.a)(Fe)?24:12,c=null!=l&&l.bgColor&&!t?{backgroundColor:l.bgColor}:{},u=R.a.isPc(T.a.get("window").width),d="medium"===Object(_.a)(T.a.get("window").width)||"large"===Object(_.a)(T.a.get("window").width)&&T.a.get("window").width<D.a.safety_area;return C.a.createElement(x.a,{style:[c,{marginTop:null!=l&&l.bgColor&&!t?-s:0}]},null!=l&&l.bgColor?C.a.createElement(x.a,{style:[c,{height:t?0:"large"===Object(_.a)(Fe)?24:12}]}):null,C.a.createElement(pe,{styleChange:null===(r=this.props)||void 0===r?void 0:r.styleChange,getArrowState:function(e){o.setState({arrowState:e})},sections:a.map((function(e,t){return Ae(Ae({},e),{},{index:t})})),stickyScrollY:0,renderTab:function(e){var t=e.data,r=e.key,i=e.title,s=e.isActive,c=null!=t&&t.configInfo?JSON.parse(null==t?void 0:t.configInfo):{},p=s?c.selectedIcon:c.defaultIcon,f=r===a.length-1;return C.a.createElement("a",{href:"#"+i+o.props.pageId},C.a.createElement(x.a,{style:[u?n.tabPicItemWeb:o.hasPicTitle?n.tabPicItem:n.tabItem,d||!f?{marginRight:24}:{marginRight:16}]},u?Object(Z.D)(p)?C.a.createElement(N.a,null,(function(e){return C.a.createElement(E.a,{numberOfLines:1,style:null!=l&&l.fontColor||null!=l&&l.pressedFontColor?[n.tabTextWeb,{color:s&&null!=l&&l.pressedFontColor?null==l?void 0:l.pressedFontColor:null==l?void 0:l.fontColor}]:s||e?n.tabTextActiveWeb:n.tabTextWeb},i)})):C.a.createElement(De.a,{imgStyle:[n.tabsImageWeb,{width:240}],imgUri:p,isFromPersonal:p.endsWith(".gif")}):Object(Z.D)(p)?C.a.createElement(E.a,{numberOfLines:1,style:null!=l&&l.fontColor||null!=l&&l.pressedFontColor?[n.tabText,{color:s&&null!=l&&l.pressedFontColor?null==l?void 0:l.pressedFontColor:null==l?void 0:l.fontColor}]:s?n.tabTextActive:n.tabText},i):C.a.createElement(De.a,{imgStyle:[n.tabsImage,{width:o.itemWidth}],imgUri:p,isFromPersonal:p.endsWith(".gif")}),s&&!u&&Object(Z.D)(p)?C.a.createElement(x.a,{style:[n.line,{borderBottomColor:w()(null==l?void 0:l.pressedFontColor)?w()(null==l?void 0:l.fontColor)?"#CF0A2C":null==l?void 0:l.fontColor:null==l?void 0:l.pressedFontColor}]}):null))},tabBarStyle:e,currentIndex:this.state.currentIndex,onPress:function(e,t){o.clickTimer=setTimeout((function(){o.setState({currentIndex:e})}),0),o.blockUpdateIndex=!0,o.props.clickItem&&o.props.clickItem(e,t,o.props.comId,!0)},FloorStore:this.FloorStore,pageId:this.props.pageId,blockUpdateIndex:this.blockUpdateIndex}))}},{key:"renderItemTitleBar",value:function(e){var t=this.props.styleChange,n=null!=t&&t.bgColor?{backgroundColor:null==t?void 0:t.bgColor}:{};return C.a.createElement(Le,{itemContainerStyle:n,floorSetting:null==e?void 0:e.floorSetting,defaultTitle:null==e?void 0:e.title,styleChange:t})}},{key:"handleScroll",value:function(){var e=this,t=P.a.findDOMNode(this.tabBarRef).getBoundingClientRect().top,n=this.FloorStore.isSticky;!n&&t<=this.topNavigationHeight&&this.FloorStore.setIsSticky(!0),(n&&t>this.topNavigationHeight||0===t)&&this.FloorStore.setIsSticky(!1),this.onViewableItemsChanged(),t>Me&&(this.isExpose=!0),P.a.findDOMNode(this.lastItemFootRef).getBoundingClientRect().top<=this.topNavigationHeight&&(this.FloorStore.setIsSticky(!1),this.isExpose=!0),this.scrollTimer&&window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout((function(){e.blockUpdateIndex=!1,e.onViewableItemsChanged();var t=P.a.findDOMNode(e.tabBarRef).getBoundingClientRect().top;e.FloorStore.isSticky&&t<0-(e.hasPicTitle?56:e.tabBarHeight)&&e.isExpose&&(e.isExpose=!1,e.props.exposeItemFloor&&e.props.exposeItemFloor())}),300)}},{key:"onViewableItemsChanged",value:function(){var e=this.itemRefArray.slice(this.itemRefArray.length-this.props.sections.length,this.itemRefArray.length);if(void 0!==e&&0!==e.length){var t=[];if(e.forEach((function(e,n){var r=P.a.findDOMNode(e);Math.floor(r.getBoundingClientRect().top)>0&&t.push({key:n})})),!this.blockUpdateIndex&&t[0]){var n=t[0].key-1>=0?t[0].key-1:0;this.updateIndex(n)}if(!this.blockUpdateIndex&&0===t.length){var r=(null==e?void 0:e.length)-1;this.updateIndex(r)}}}},{key:"updateIndex",value:function(e){if(this.state.currentIndex!==e){var t=e>this.state.currentIndex;this.setState({currentIndex:e}),!this.blockReportSwitch&&this.props.clickItem&&this.props.clickItem(e,this.props.sections[e],this.props.comId,!1,t)}}},{key:"getTabBarRef",value:function(e){this.tabBarRef=e,this.itemlist.push(e)}},{key:"getLastItemFootRef",value:function(e){this.lastItemFootRef=e}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",this.handleScroll),this.listener1=j.a.addListener("scrollToTop",this.scrollToTop),setTimeout((function(){return e.setState({sectionsData:e.sectionAll})}))}},{key:"scrollToTop",value:function(){var e=this;this.blockReportSwitch=!0,this.timer1&&clearTimeout(this.timer1),this.timer1=setTimeout((function(){e.blockReportSwitch=!1}),1e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll),this.timer1&&clearTimeout(this.timer1),this.clickTimer&&clearTimeout(this.clickTimer),this.listener1&&this.listener1.remove()}},{key:"render",value:function(){var e=this,t=this.props,n=t.header,r=t.footer,o=t.styleChange,i=t.sections;i.map((function(t){var n,r,o=null!=t&&null!==(n=t.data)&&void 0!==n&&n.configInfo?JSON.parse(null==t||null===(r=t.data)||void 0===r?void 0:r.configInfo):{},i=(null==o?void 0:o.selectedIcon)||(null==o?void 0:o.defaultIcon);Object(Z.D)(i)||(e.hasPicTitle=!0)}));var a=this.FloorStore.isSticky,l=(null==o?void 0:o.bgColor)&&{backgroundColor:null==o?void 0:o.bgColor};if(this.hasPicTitle)switch(null==i?void 0:i.length){case 2:this.itemWidth=152;break;case 3:case 4:this.itemWidth=90;break;default:this.itemWidth=56}var s=R.a.isPc(T.a.get("window").width);return C.a.createElement(W.b,{themeStyles:H},(function(t){var o=[t.tabBarForWeb1,{top:a?e.topNavigationHeight:0-(e.hasPicTitle?56:e.tabBarHeight),opacity:a?1:0},l],i=[s?t.tabBarForWeb2:t.tabBarForWap2,l],c=[t.tabBarSticky,{top:e.topNavigationHeight},l];return C.a.createElement(C.a.Fragment,null,C.a.createElement(x.a,null,C.a.createElement(x.a,{style:{zIndex:1}},e._renderHeader(n)),e.isIEPlatform?C.a.createElement(A.a,{style:{zIndex:0}},e.renderTabBar(o,!0,t)):C.a.createElement(x.a,{style:[c,{zIndex:e.state.arrowState?102:2}],ref:e.getTabBarRef},e.renderTabBar(i,!1,t)),s?C.a.createElement(x.a,{style:[l,{alignItems:"center",flexDirection:"column"}]},C.a.createElement(x.a,{ref:e.getTabBarRef}),e.isIEPlatform?C.a.createElement(x.a,{style:{zIndex:e.state.arrowState?101:-1}},e.renderTabBar(i,!1,t)):null,e._itemRender(e.state.sectionsData)):C.a.createElement(A.a,{style:[l,{zIndex:1}]},C.a.createElement(x.a,{ref:e.getTabBarRef}),e.isIEPlatform?C.a.createElement(x.a,{style:{zIndex:e.state.arrowState?101:-1}},e.renderTabBar(i,!1,t)):null,e._itemRender(e.state.sectionsData))),C.a.createElement(x.a,{ref:e.getLastItemFootRef}),C.a.createElement(A.a,{style:{zIndex:-2}},e._dynamicRender(r)))}))}}]),n}(C.a.Component))||je;t.b=Object(Oe.a)(Te)(Object(_e.a)(ze))},function(e,t,n){"use strict";var r,o=n(15),i=n.n(o),a=n(5),l=n.n(a),s=n(6),c=n.n(s),u=n(2),d=n.n(u),p=n(8),f=n.n(p),h=n(7),g=n.n(h),m=n(4),y=n.n(m),v=n(1),b=n.n(v),w=n(0),S=n.n(w),C=n(37),O=n(126),P=n(152),T=n(43),x=n(157);!function(e){e[e.default=1]="default",e[e.native=2]="native",e[e.other=3]="other",e[e.h5=4]="h5"}(r||(r={}));var I=n(57),k=n(122),E=n(53);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=n(3),_=n(11),D=n(20),N=n(309),W=n(17),A=n.n(W),B=n(26),M=n.n(B),F=n(446);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=n(24),V=n(45),G=n.n(V),Y=n(21),J=n(25),K={clickItem:function(e,t,n,r,o,i){var a,l,s=Object(L.F)()?this:this.props,c=s.resSiteCode,u=s.resSiteName,d=s.pageCatCode,p=s.pageCatName;return{data:{actionCode:Object(L.F)()?"410000101":this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"拼团商品点击",pageId:null===(a=this.props)||void 0===a||null===(l=a.pageId)||void 0===l?void 0:l.toString(),eventType:"2",content:{comId:null==i?void 0:i.toString(),gotoPageId:"",gotoURL:e,index:t.toString(),dataCode:n,row:r.toString(),dataType:"1",ruleId:"",sId:"",column:o.toString(),clickType:"26"},resSiteCode:c,resSiteName:u,pageCatCode:d,pageCatName:p}}},exposeItem_product:function(e){var t,n,r=this.props,o=r.resSiteCode,i=r.resSiteName,a=r.pageCatCode,l=r.pageCatName,s={array:e.map((function(e,t){var n,r;return{row:e.row.toString(),column:e.col.toString(),index:(t+1).toString(),comId:null===(n=e.cardId)||void 0===n?void 0:n.toString(),dataCode:null===(r=e.productId)||void 0===r?void 0:r.toString(),dataType:"1",ruleId:"",sId:""}}))};return{isBatch:!0,commonData:{actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"拼团1*3组件曝光",eventType:"7",pageId:null===(t=this.props)||void 0===t||null===(n=t.pageId)||void 0===n?void 0:n.toString(),resSiteCode:o,resSiteName:i,pageCatCode:a,pageCatName:l},content:s.array}}},q=n(40),Q=n(48),$=n(1734),X=n(432),Z=n(102),ee=n(1735),te=n(185);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var ie,ae=function(e){f()(r,e);var t,n=oe(r);function r(e){var t;return l()(this,r),t=n.call(this,e),b()(d()(t),"chatView",null),b()(d()(t),"itemlist",[]),b()(d()(t),"_panResponder",void 0),b()(d()(t),"_panResponderApk",void 0),b()(d()(t),"initWidth",(function(e){t.state.width!=e&&t.setState({width:e})})),b()(d()(t),"getSize",(function(){return Object(q.a)(t.state.width)})),b()(d()(t),"isApp",(function(){return"small"===t.getSize()})),b()(d()(t),"isPadPc",(function(){return"medium"===t.getSize()&&t.isPadHorizonta()})),b()(d()(t),"isPad",(function(){return"medium"===t.getSize()})),b()(d()(t),"isPadHorizonta",(function(){var e=t.props,n=e.width;return!(e.height>n)&&n>=1024})),b()(d()(t),"handleReportData",(function(e,n){return re(re({},e),{},{row:t.handleRowAndCol(n+1).row,col:t.handleRowAndCol(n+1).col})})),b()(d()(t),"receiveRef",(function(e,n){e?(e.exposeObj=n,t.itemlist.push(e)):t.itemlist=[]})),t.state={width:Object(L.x)(t.props.pageType||"homePage").screenWidth,height:Object(L.x)(t.props.pageType||"homePage").screenHeight,pageType:t.props.pageType||"homePage"},t}return c()(r,[{key:"UNSAFE_componentWillMount",value:function(){Object(L.F)()||(this._panResponder=F.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=F.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}}))}},{key:"shopClick",value:(t=M()(A.a.mark((function e(t,n,r){var o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.p)(t,r.sbomCode);case 2:o=e.sent,this.props.clickItem&&this.props.clickItem(o,n+1,t,this.handleRowAndCol(n+1).row,this.handleRowAndCol(n+1).col,parseInt(r.cardId)),Object(L.B)(String(t),String(r.sbomCode));case 5:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"renderList",value:function(e,t,n,r,o){var a,l,s,c,u,d,p=this;return S.a.createElement(T.a,i()({},"web"===C.a.OS?this._panResponder.panHandlers:Object(L.F)()?null:this._panResponderApk.panHandlers,{style:{width:"100%"}}),S.a.createElement(O.a,{activeOpacity:1,style:t.view,ref:function(t){return p.receiveRef(t,p.handleReportData(e,r))},onPress:function(){return p.shopClick(e.productId,r,e)}},S.a.createElement(T.a,{style:[t.topImg,{backgroundColor:null!==(a=this.props)&&void 0!==a&&a.bgColor?this.props.bgColor:""}]},S.a.createElement(U.a,{imgUri:e.photoPath,imgStyle:this.isApp()?t.imgAppWrap:this.isPadPc()?t.imgPcWrap:t.imgPadWrap}),"false"!=(null===(l=this.props)||void 0===l?void 0:l.activityTagShow)&&e.tag?Object(L.F)()?S.a.createElement(P.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.posTextWrapMP,{background:"linear-gradient(to right, ".concat(Object(L.f)("#FE5945"),", ").concat(Object(L.f)("#D61A19"),")")}]},e.tag):S.a.createElement(G.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:t.posTextWrap},S.a.createElement(P.a,{style:[t.posText,o?{top:1}:""]},e.tag)):S.a.createElement(S.a.Fragment,null)),S.a.createElement(T.a,{style:t.bottomText},"true"==(null===(s=this.props)||void 0===s?void 0:s.productNameShow)&&S.a.createElement(P.a,{numberOfLines:2,style:[t.oneLineText,Q.a.isIOS()&&{lineHeight:15}]},"false"==(null===(c=this.props)||void 0===c?void 0:c.productNameShow)?"":null==e?void 0:e.productName),S.a.createElement(T.a,{style:t.twoLineBtn},S.a.createElement(P.a,{style:t.newPrice},S.a.createElement(P.a,null,"¥"),$.a.priceFormat(e.teamBuyPrice)),e.originalPrice-e.teamBuyPrice>0&&"true"==(null===(u=this.props)||void 0===u?void 0:u.discountTagShow)?S.a.createElement(P.a,{numberOfLines:1,style:[t.originPrice,o?{paddingTop:4}:""]},Object(X.b)("save").replace(" %s","¥"+Math.floor($.a.priceFormat(e.originalPrice-e.teamBuyPrice)))):S.a.createElement(S.a.Fragment,null)),"false"==(null===(d=this.props)||void 0===d?void 0:d.bottonShow)?S.a.createElement(S.a.Fragment,null):S.a.createElement(T.a,{style:t.threeLineBtn},Object(L.F)()?S.a.createElement(P.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.lastBtn,{background:"linear-gradient(to right, ".concat(Object(L.f)("#FE5945",1),", ").concat(Object(L.f)("#D61A19",1),")"),borderRadius:20}]},Object(X.b)("go_group_buy")):S.a.createElement(G.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:{borderRadius:20}},S.a.createElement(P.a,{style:t.lastBtn},Object(X.b)("go_group_buy")))))))}},{key:"handleRowAndCol",value:function(e){return this.isApp()?{row:e<=3?1:Math.ceil(e/3),col:e<=3?e:e%3==0?3:e%3}:this.isPadPc()?{row:e<=6?1:Math.ceil(e/6),col:e<=6?e:e%6==0?6:e%6}:{row:e<=5?1:Math.ceil(e/5),col:e<=5?e:e%5==0?5:e%5}}},{key:"render",value:function(){var e,t,n,r=this,o=this.props.list,i=this.props.boxWidth,a=Object(L.F)()?0:this.isPadPc()?12:8,l=this.props.pageGutter,s="web"===C.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"));return S.a.createElement(Z.b,{themeStyles:function(e){var t;return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(e=k.a);var n={};return"web"===C.a.OS&&(n=b()({},"transform-Origin".split("-").join(""),"0 0")),I.a.create({view:{alignItems:"center",width:"100%"},topImg:{position:"relative",width:"100%",justifyContent:"center",alignItems:"center"},imgPadWrap:{marginBottom:13.5,marginLeft:13.5,marginRight:13.5,marginTop:13.5,width:81,height:81},imgAppWrap:{marginBottom:12,marginLeft:12,marginRight:12,marginTop:12,width:72,height:72},imgPcWrap:{marginBottom:18.5,marginLeft:18.5,marginRight:18.5,marginTop:18.5,width:111,height:111},posTextWrap:z({position:"absolute",top:4,left:4,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:"web"===C.a.OS?4.8:4,height:"web"===C.a.OS?16.8:14,transform:"web"===C.a.OS?[{scale:5/6}]:[]},n),posTextWrapMP:z(z(z({position:"absolute",top:4,left:4,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:4,height:14},e.T1),e.C17),{},{fontSize:10,fontFamily:E.a.fontFamilyBase,lineHeight:13}),posText:z(z(z({},e.T1),e.C17),{},{fontSize:"web"===C.a.OS?12:10,lineHeight:12,position:"relative"}),bottomText:{paddingBottom:12},oneLineText:z(z(z({},e.T3),e.C12),{},{height:32,textAlign:"center",marginBottom:8,paddingHorizontal:8}),twoLineBtn:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:16},newPrice:z(z(z({fontFamily:E.a.fontFamilyBase},e.T4),e.C18),{},{fontWeight:"bold",marginRight:4,height:16,lineHeight:16}),originPrice:z(z(z(z({},e.T1),e.C18),e.S15),{},{paddingRight:4,paddingLeft:4,height:16,paddingTop:"web"===C.a.OS?1:.5,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",borderRadius:4,flexWrap:"nowrap"}),threeLineBtn:{alignItems:"center",marginTop:8,height:28},lastBtn:z(z(z({fontFamily:E.a.fontFamilyBase},e.T4),e.C17),{},{paddingLeft:8,paddingRight:8,minWidth:64,height:28,lineHeight:28,textAlign:"center"}),line:{width:"auto",height:1,backgroundColor:e.S2.borderColor,transform:[{scaleY:.5}]}})}(e,null===(t=r.props)||void 0===t?void 0:t.styleChange,r.isPad())}},(function(e,t,n){return n=Object(L.F)()?Object(L.x)().screenWidth:n,r.initWidth(n),S.a.createElement(ee.a,{col:r.isApp()?3:r.isPadPc()?6:5,rowGutter:12,colGutter:a,pageGutter:l,dataArray:o,boxWidth:i,initialNumToRender:null==o?void 0:o.length,renderItem:function(n){var o=n.item,i=n.index;return r.renderList(o,e,t,i,s)}})}))}}]),r}(w.Component),le=Object(te.a)(Object(Y.a)(K)(Object(J.a)(ae))),se={clickItem:function(e,t){var n,r,o=Object(L.F)()?this:this.props,i=o.pageCatCode,a=o.pageCatName,l=o.resSiteCode,s=o.resSiteName;return{data:{actionCode:Object(L.F)()?"410000101":this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"更多点击",eventType:"2",pageId:null===(n=this.props)||void 0===n||null===(r=n.pageId)||void 0===r?void 0:r.toString(),content:{comId:null==t?void 0:t.toString(),gotoPageId:"",gotoURL:e,clickType:"1"},resSiteCode:l,resSiteName:s,pageCatCode:i,pageCatName:a}}}},ce=n(32),ue=n(50);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var he=Object(ce.c)(ie=function(e){f()(o,e);var t=fe(o);function o(e){var r,i,a,s;l()(this,o),s=t.call(this,e),b()(d()(s),"itemlist",[]),b()(d()(s),"initWidth",(function(e){s.state.width!=e&&(s.setState({width:e}),"web"!==C.a.OS&&(Object(L.D)(s.props.styleChange)||s.setState({crossDressingStyle:Object(L.i)(s.props.styleChange,Object(q.a)(e))})))})),b()(d()(s),"getSize",(function(){return Object(q.a)(s.state.width)})),b()(d()(s),"isApp",(function(){return"small"===s.getSize()})),b()(d()(s),"isPc",(function(){return"large"===s.getSize()})),b()(d()(s),"isPad",(function(){return"medium"===s.getSize()})),b()(d()(s),"isPadPc",(function(){return"medium"===s.getSize()&&s.isPadHorizonta()})),b()(d()(s),"isPadHorizonta",(function(){var e=s.state,t=e.width;return!(e.height>t)&&t>=1024}));var c=[],u=s.props,p=u.pageData,f=u.styleChange;if(p&&0!==Object.keys(p).length&&null!==(r=s.props)&&void 0!==r&&null!==(i=r.configInfo)&&void 0!==i&&null!==(a=i.dataSourceList[0])&&void 0!==a&&a.dataSourceCode){var h=s.props.configInfo.dataSourceList[0].dataSourceCode,g=Object.keys(p).filter((function(e){return e==h}))&&Object.keys(p).filter((function(e){return e==h}))[0];g&&p[g].map((function(e){var t;0!==(null==e||null===(t=e.sbomList)||void 0===t?void 0:t.length)&&c.push(e)}))}var m=k.a,y=[],v=Object(L.x)(s.props.pageType).screenWidth,w=Object(L.F)()?n(205):"";if(!Object(L.D)(f)&&(y=Object(L.i)(f,Object(q.a)(v)),Object(L.F)())){var S,O,P=null!==(S=y)&&void 0!==S&&null!==(O=S.textStyle)&&void 0!==O&&O.color?y.textStyle.color:m.C24.color;w=Object(L.c)(w,P)}return s.state={pageData:c,dataCode:g,crossDressingStyle:y,width:Object(L.x)(s.props.pageType).screenWidth,height:Object(L.x)(s.props.pageType).screenHeight,SVG:w,mpIMG:w},s}return c()(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.styleChange,n=e.width;k.a;!Object(L.F)()&&this.handleList(this.props.pageData),Object(L.D)(t)||Object(L.F)()||this.setState({crossDressingStyle:Object(L.i)(t,Object(q.a)(n))})}},{key:"handleList",value:function(e){var t,n,r,o=[];if(e&&0!==Object.keys(e).length&&null!==(t=this.props)&&void 0!==t&&null!==(n=t.configInfo)&&void 0!==n&&null!==(r=n.dataSourceList[0])&&void 0!==r&&r.dataSourceCode){var i=this.props.configInfo.dataSourceList[0].dataSourceCode,a=Object.keys(e).filter((function(e){return e==i}))&&Object.keys(e).filter((function(e){return e==i}))[0];a&&e[a].map((function(e){var t;0!==(null==e||null===(t=e.sbomList)||void 0===t?void 0:t.length)&&o.push(e)}))}this.setState({pageData:o,dataCode:a})}},{key:"handleCard",value:function(e,t,n){var r,o,i,a=this,l=null==e||null===(r=e.sbomList)||void 0===r?void 0:r.map((function(t){var n;return pe(pe({},t),{},{tag:null==e?void 0:e.tag,cardId:null==a||null===(n=a.props)||void 0===n?void 0:n.cardId,teamBuyNumber:null==e?void 0:e.teamBuyNumber})}));return 1==t?(i=this.isApp()?1:this.isPadPc()?3:2,o=Number(n*i)):(i=this.isApp()?3:this.isPadPc()?6:5,o=Number(n*i)),l.slice(0,o)}},{key:"showMore",value:function(e,t){if(1==e&&2==t||2==e&&3==t)if(this.props.configInfo.moreUrlType==r.h5)this.props.clickItem&&this.props.clickItem(Object(L.l)(this.props.configInfo),this.props.cardId),Object(L.A)(Object(L.l)(this.props.configInfo));else if(this.props.configInfo.moreUrlType==r.default){var n,o,i={targetRoute:"ActivityPage",routeParams:{dataSourceCode:null===(n=this.state)||void 0===n?void 0:n.dataCode}},a=encodeURIComponent(JSON.stringify(i));o=Q.a.isApp()?"vmall://com.vmall.client/home/activity?activityParams=".concat(a,"&isShowLayout=false"):"".concat(_.a.webDomain,"portal/activity/?activityParams=").concat(a),this.props.clickItem&&this.props.clickItem(o,parseInt(this.props.cardId)),Object(L.A)(o)}}},{key:"getWidth",value:function(e,t,n){return this.isApp()?1==e?this.state.width-32:t&&3!=n?this.state.width-48:this.state.width-32:1==e?this.state.width-48:t&&3!=n?this.state.width-64:this.state.width-48}},{key:"render",value:function(){var e,t=this,n=this.state.crossDressingStyle,r=this.state.pageData&&this.state.pageData[0]||null,o=this.props,a=o.configInfo,l=o.resSiteCode,s=o.resSiteName,c=o.pageCatCode,u=o.pageCatName,d={groupBuyNumShow:a.groupBuyNumShow,bottonShow:a.bottonShow,activityTagShow:a.activityTagShow,discountTagShow:a.discountTagShow,productNameShow:a.productNameShow,originPriceStrikethroughShow:a.originPriceStrikethroughShow,bgColor:a.bgColor},p=null==a?void 0:a.more,f=2==p||"true"==(null==a?void 0:a.titleShow)&&(null==r?void 0:r.activityName)||"true"==(null==a?void 0:a.titleShow)&&(null==r?void 0:r.promotion),h="ThreeColumnLayout"==(null==a?void 0:a.layoutType)?3:1,g=this.isApp()||Object(L.F)()?0:this.isPadPc()?12:8,m=!1,y={},v={overflow:"hidden",paddingBottom:3==p?0:4};(null!==(e=n.imgStyle)&&void 0!==e&&e.backgroundColor||n.bgImg)&&(y=1==h||3==p?{overflow:"hidden"}:{overflow:"hidden",borderRadius:10},v={overflow:"hidden",paddingBottom:3==p?0:8},m=!0);var b=this.getWidth(h,m,p),w=m?0:12;return this.isPc()||!r?S.a.createElement(S.a.Fragment,null):S.a.createElement(Z.b,{themeStyles:function(e){return function(e,t,n,r){var o,i,a={};null!==(o=t.textStyle)&&void 0!==o&&o.color&&(a.color=null===(i=t.textStyle)||void 0===i?void 0:i.color);return r&&(e=k.a),I.a.create({view:{backgroundColor:e.S31.backgroundColor,borderRadius:16},bgWhite:{backgroundColor:e.S31.backgroundColor,marginLeft:8,marginRight:8},padView:{marginLeft:24,marginRight:24},appView:{marginLeft:16,marginRight:16},titleView:{marginTop:4,paddingLeft:12,paddingRight:8,height:64,paddingTop:13,paddingBottom:11},oneTitle:{height:48,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},oneTitleMax:{maxWidth:2==n?"80%":"100%"},maiTitleLine:R(R(R({},e.T10),e.C12),{},{height:21.5,lineHeight:21.5,fontWeight:"bold",marginBottom:2},a),subTitleLine:{height:19,lineHeight:19,display:"flex",flexDirection:"row",justifyContent:"space-between",fontFamily:E.a.fontFamilyBase},subTitle:R(R(R(R({},e.T7),e.C13),a),{},{maxWidth:2==n?"80%":"100%"}),noMargin:{marginLeft:0,marginRight:0},moreWrap:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:"15%",maxWidth:"35%",justifyContent:"flex-end"},moreText:R(R(R({},e.T7),e.C13),{},{height:19,lineHeight:19,marginRight:4},a),moreTextBottomWrap:R({borderBottomRightRadius:8,borderBottomLeftRadius:8,paddingTop:8,paddingBottom:16,backgroundColor:e.S31.backgroundColor},a),moreTextBottom:R(R(R({},e.T4),e.C13),{},{height:28,lineHeight:28,textAlign:"center"},a),line:{width:"auto",height:1,marginHorizontal:12,backgroundColor:"#0000000c",transform:[{scaleY:.5}]}})}(e,n,p,t.props.styleChange)}},(function(e,o,C){var I,k,E,j,R,_;return C=Object(L.F)()?Object(L.x)().screenWidth:C,t.initWidth(C),S.a.createElement(ue.a,{style:[t.isPad()?e.padView:e.appView,e.view,3==p||1==h?"":n.imgStyle,v],imgUri:3==p||1==h?"":null==n?void 0:n.bgImg,resizeMode:"stretch"},f?S.a.createElement(ue.a,{style:[{width:"100%"},n.imgStyle],imgUri:1==h||3==h&&3==p?null==n?void 0:n.bgImg:"",resizeMode:"stretch"},S.a.createElement(O.a,{onPress:function(){return t.showMore(1,p)},activeOpacity:1,style:[e.titleView,r.promotion?"":e.oneTitle]},S.a.createElement(P.a,{numberOfLines:1,style:[e.maiTitleLine,r.promotion?"":e.oneTitleMax]},"true"==(null==a?void 0:a.titleShow)?r.activityName:""),r.promotion?S.a.createElement(T.a,{style:e.subTitleLine},S.a.createElement(P.a,{numberOfLines:1,style:e.subTitle},"true"==(null==a?void 0:a.titleShow)?r.promotion:""),2==p?S.a.createElement(T.a,{style:e.moreWrap},S.a.createElement(P.a,{numberOfLines:1,style:e.moreText},a.moreTitle||Object(X.b)("common_more")),Object(L.F)()?S.a.createElement(x.a,{source:{uri:null!=n&&null!==(E=n.textStyle)&&void 0!==E&&E.color?t.state.mpIMG:t.state.SVG},style:{opacity:o.C24.opacity,width:12,height:24}}):S.a.createElement(D.a,{normalCol:null!=n&&null!==(j=n.textStyle)&&void 0!==j&&j.color?n.textStyle.color:o.C24.color,opacity:o.C24.opacity,iconName:"ic24-more",width:12,height:24})):S.a.createElement(S.a.Fragment,null)):2==p?S.a.createElement(T.a,{style:e.moreWrap},S.a.createElement(P.a,{numberOfLines:1,style:e.moreText},a.moreTitle||Object(X.b)("common_more")),Object(L.F)()?S.a.createElement(x.a,{source:{uri:null!=n&&null!==(I=n.textStyle)&&void 0!==I&&I.color?t.state.mpIMG:t.state.SVG},style:{opacity:o.C24.opacity,width:12,height:24}}):S.a.createElement(D.a,{normalCol:null!=n&&null!==(k=n.textStyle)&&void 0!==k&&k.color?n.textStyle.color:o.C24.color,opacity:o.C24.opacity,iconName:"ic24-more",width:12,height:24})):S.a.createElement(S.a.Fragment,null)),1==h?S.a.createElement(T.a,{style:e.line}):S.a.createElement(S.a.Fragment,null)):S.a.createElement(S.a.Fragment,null),S.a.createElement(T.a,{style:[m?e.bgWhite:"",y,1==h||3==h&&m&&3==p?e.noMargin:""]},1==h?S.a.createElement(N.a,i()({hasBg:m,pageId:null===(R=t.props)||void 0===R?void 0:R.pageId,resSiteCode:l,resSiteName:s,styleChange:t.props.styleChange},d,{colGutter:g,pageGutter:0,boxWidth:b,pageType:t.props.pageType,list:t.handleCard(r,1,a.rowsPerScreen),pageCatCode:c,pageCatName:u})):S.a.createElement(le,i()({styleChange:t.props.styleChange},d,{hasBg:m,pageId:null===(_=t.props)||void 0===_?void 0:_.pageId,resSiteCode:l,resSiteName:s,width:t.state.width,height:t.state.height,pageGutter:w,boxWidth:b,list:t.handleCard(r,3,a.rowsPerScreen),pageCatCode:c,pageCatName:u}))),3==p?S.a.createElement(O.a,{onPress:function(){return t.showMore(2,p)},style:e.moreTextBottomWrap,activeOpacity:1},S.a.createElement(P.a,{style:e.moreTextBottom},a.moreTitle||Object(X.b)("common_more"))):S.a.createElement(S.a.Fragment,null))}))}}]),o}(w.PureComponent))||ie;t.a=Object(te.a)(Object(Y.a)(se)(Object(J.a)(he)))},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(32),C=n(37),O=n(43),P=n(152),T=n(126),x=n(157),I=n(446),k=n(49),E=n(40),j=n(432),R=n(122),L=n(102),_=n(185),D=n(21),N=n(10),W=n(48),A=n(3),B={exposeItem:function(){var e=Object(A.F)()?this:this.props,t=e.cardId,n=e.width,r=e.pageId,o=e.pageCatCode,i=e.pageCatName,a=e.resSiteCode,l=e.resSiteName;return{data:{actionCode:W.a.isApp()?N.f.APP+N.d.APP:W.a.isWap(n)?N.f.WAP+N.d.WAP:Object(A.E)(n)?N.f.PC+N.d.PC:Object(A.F)()?N.f.WECHAT+N.d.APP:N.f.HUAWEI_SMART_CHOOSE+N.d.APP,actionName:"通用活动入口曝光事件",eventType:N.e.EVENT_TYPE_EXPOSURE,pageId:r,content:{comId:t,row:"1",column:"1",index:"",index_name:""},pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l}}},clickItem:function(e,t,n){var r=Object(A.F)()?this:this.props,o=r.width,i=r.pageId,a=r.pageCatCode,l=r.pageCatName,s=r.resSiteCode,c=r.resSiteName,u=r.cardId,d=n+1,p=t+1,f=t+2*n;return{data:{actionCode:W.a.isApp()?N.f.APP+N.d.APP:W.a.isWap(o)?N.f.WAP+N.d.WAP:Object(A.E)(o)?N.f.PC+N.d.PC:Object(A.F)()?N.f.WECHAT+N.d.APP:N.f.HUAWEI_SMART_CHOOSE+N.d.APP,actionName:"通用活动入口点击事件上报",eventType:N.b.CLICK_USER_AVATAR,pageId:i,content:{comId:u,row:d+"",column:p+"",index:null==f?void 0:f.toString(),index_name:e.cardTitle,gotoPageId:e.pageId,gotoURL:e.url,clickType:"1"},pageCatCode:a,pageCatName:l,resSiteCode:s,resSiteName:c}}}},M=n(25),F=n(23),H=n(12),z=n(57);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={},Y={};"web"===C.a.OS&&(G=v()({},"text-Overflow".split("-").join(""),"clip"),Y=v()({},"Webkit-Overflow-Scrolling".split("-").join(""),"touch"));var J=z.a.create({negativeMargeTop8:{marginTop:-8},negativeMargeTop12:{marginTop:-12}}),K=n(24),q=n(220),Q=n(431),$=n(53);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var te=function(e){p()(n,e);var t=ee(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"timer",null),v()(u()(r),"handleAppStateChange",(function(e){var t,n,o;"active"===e?null===(t=u()(r))||void 0===t||t.handleTime():null!==(n=u()(r))&&void 0!==n&&n.timer&&clearTimeout(null===(o=u()(r))||void 0===o?void 0:o.timer)})),v()(u()(r),"getDay",(function(){var e=r.state.day;return 1===e?Object(A.F)()?Object(j.b)("day.one").replace("%d",String(e)).replace(/\s*/g,""):Object(j.b)("day.one").replace("%d",String(e)):Object(A.F)()?Object(j.b)("day.other").replace("%d",String(e)).replace(/\s*/g,""):Object(j.b)("day.other").replace("%d",String(e))})),r.state={day:"",hour:"00",minute:"00",second:"00",reload:!1},r}return s()(n,[{key:"componentDidMount",value:function(){Q.a.addEventListener("change",this.handleAppStateChange),this.handleTime()}},{key:"handleTime",value:function(){var e=this,t=this.props.endTime,n=this.props.startTime;Object(F.r)().then((function(r){var o,i=r&&1e3*r.serverTime||(new Date).getTime();if((o="已开始"==e.props.isStart?t-i:n-i)>1e3){var a=Math.floor(o/864e5),l=Math.floor(o/36e5%24),s=Math.floor(o/6e4%60),c=Math.floor(o/1e3%60);e.setState({day:a,hour:l<10?"0"+l:l,minute:s<10?"0"+s:s,second:c<10?"0"+c:c,reload:!0},(function(){e.props.getCountDay&&e.props.getCountDay(parseInt(e.state.day)>=1),e.props.isOverTenDay&&e.props.isOverTenDay(parseInt(e.state.day)>=10)})),e.props.showFirstTime&&e.props.showFirstTime(!0)}else e.timer&&clearTimeout(e.timer);e.countFun(o)}))}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer),Q.a.removeEventListener("change",this.handleAppStateChange)}},{key:"countFun",value:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){if(e>=1e3){e-=1e3;var n=Math.floor(e/864e5),r=Math.floor(e/36e5%24),o=Math.floor(e/6e4%60),i=Math.floor(e/1e3%60);t.setState({day:n,hour:r<10?"0"+r:r,minute:o<10?"0"+o:o,second:i<10?"0"+i:i},(function(){t.props.getCountDay&&t.props.getCountDay(parseInt(t.state.day)>=1),t.props.isOverTenDay&&t.props.isOverTenDay(parseInt(t.state.day)>=10)})),t.countFun(e)}else clearTimeout(t.timer),t.setState({day:"",hour:"00",minute:"00",second:"00"})}),1e3)}},{key:"render",value:function(){var e,t,n,r,o,i=this,a=this.state.reload,l=(parseInt(this.state.day),"web"===C.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"))&&this.props.isApp);return(null===(r=this.props)||void 0===r?void 0:r.getDate)&&(null===(o=this.props)||void 0===o||o.getDate(this.state.day)),a?w.a.createElement(L.b,{themeStyles:function(e){return function(e){return z.a.create({timeView:{flexDirection:"row",alignItems:"center"},itemView:Z(Z(Z({},e.T1),e.C17),{},{width:16,height:16,backgroundColor:"#CF0A2C",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:2,textAlign:"center"}),dayView:{height:16,width:16,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",opacity:.6,fontFamily:$.a.fontFamilyBase,fontSize:10,color:"#000000",lineHeight:16,fontWeight:"400",marginRight:2},textColor:Z(Z({},e.T2),{},{color:"#CF0A2C",marginRight:2,marginLeft:2,textAlignVertical:"center",paddingBottom:2})})}(e)}},(function(e){var t,n,r,o,a,s,c,u,d,p,f,h,g,m,y,v,b;return w.a.createElement(O.a,{style:[e.timeView,{paddingBottom:l?1:0}]},w.a.createElement(P.a,{style:[e.itemView,{paddingTop:l?2:0},{width:null===(t=i.props)||void 0===t?void 0:t.itemWidth,height:null===(n=i.props)||void 0===n?void 0:n.itemHeight,backgroundColor:null===(r=i.props)||void 0===r?void 0:r.itemBgColor,color:null===(o=i.props)||void 0===o?void 0:o.itemTextColor,fontSize:null===(a=i.props)||void 0===a?void 0:a.itemFontSize}]},i.state.hour),w.a.createElement(P.a,{style:[e.textColor,{paddingTop:l?2:0},{color:null===(s=i.props)||void 0===s?void 0:s.itemBgColor}]},":"),w.a.createElement(P.a,{style:[e.itemView,{paddingTop:l?2:0},{width:null===(c=i.props)||void 0===c?void 0:c.itemWidth,height:null===(u=i.props)||void 0===u?void 0:u.itemHeight,backgroundColor:null===(d=i.props)||void 0===d?void 0:d.itemBgColor,color:null===(p=i.props)||void 0===p?void 0:p.itemTextColor,fontSize:null===(f=i.props)||void 0===f?void 0:f.itemFontSize}]},i.state.minute),w.a.createElement(P.a,{style:[e.textColor,{paddingTop:l?2:0},{color:null===(h=i.props)||void 0===h?void 0:h.itemBgColor}]},":"),w.a.createElement(P.a,{style:[e.itemView,{paddingTop:l?2:0},{width:null===(g=i.props)||void 0===g?void 0:g.itemWidth,height:null===(m=i.props)||void 0===m?void 0:m.itemHeight,backgroundColor:null===(y=i.props)||void 0===y?void 0:y.itemBgColor,color:null===(v=i.props)||void 0===v?void 0:v.itemTextColor,marginRight:0,fontSize:null===(b=i.props)||void 0===b?void 0:b.itemFontSize}]},i.state.second))})):w.a.createElement(w.a.Fragment,null)}}]),n}(b.Component),ne=Object(_.a)(te),re=n(55),oe=n.n(re),ie=n(35),ae=n.n(ie),le=n(87),se=n(54),ce=n(947),ue=function(e){return z.a.create({productWrapper:{flexDirection:"row",position:"relative"},itemWrapper:{position:"absolute",left:0,right:0,top:0,bottom:0}})};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=e.data,n=e.column,r=e.renderItem,o=e.colgutter,i=ae()(t),a=Object(b.useRef)(null),l=function(){return{zoomInOpacity:new le.a.Value(0),zoomInScale:new le.a.Value(.8),zoomOutOpacity:new le.a.Value(1),zoomOutScale:new le.a.Value(1)}},s=function(){var t=e.boxWidth||se.a.get("window").width;return e.itemWidth||(t-(null!=o?o:8)*(n-1))/n},c=function(){for(var e=n,t=[],r=0;r<n;r++)t.push({index:r,translateX:r*(s()+o)});return{nextIndex:0,nextZoomIndex:e,visibleItems:t,zoomStyle:l()}},u=Object(b.useState)((function(){return c()})),d=oe()(u,2),p=d[0],f=d[1];Object(b.useEffect)((function(){var e=function(){var e,t=i.length-1,n=p.nextIndex,r=p.nextZoomIndex,a=p.visibleItems;r=r>t?0:r;var c=a.findIndex((function(e){return e.index===n})),u=c*(null!==(e=s()+o)&&void 0!==e?e:8);a[c]={index:r,translateX:u},n=n===t?0:n+1,r=r===t?0:r+1,setTimeout((function(){f({nextIndex:n,nextZoomIndex:r,visibleItems:a,zoomStyle:l()})}))},t=setTimeout((function(){var t,n,r,o,i,l,s;t="ios"===C.a.OS||"android"===C.a.OS,n=p.zoomStyle,r=n.zoomInOpacity,o=n.zoomInScale,i=n.zoomOutOpacity,l=n.zoomOutScale,s={toValue:1,easing:ce.a.linear,duration:400,useNativeDriver:!0},t||(s.useNativeDriver=!1),a.current=le.a.parallel([le.a.timing(r,pe({},s)),le.a.timing(o,pe(pe({},s),{},{duration:200})),le.a.timing(i,pe(pe({},s),{},{toValue:0})),le.a.timing(l,pe(pe({},s),{},{toValue:Object(A.F)()?0:.8}))]).start(e)}),3e3);return function(){clearTimeout(t)}}),[p]),Object(b.useEffect)((function(){var e;null===(e=a.current)||void 0===e||e.stop(),f(c())}),[e.boxWidth,e.column]);var h=p.nextIndex,g=p.nextZoomIndex,m=p.visibleItems,y=p.zoomStyle;return w.a.createElement(L.b,{themeStyles:ue},(function(t,n){return w.a.createElement(O.a,{style:[t.productWrapper,{width:e.boxWidth,height:e.itemHeight}]},null==i?void 0:i.map((function(e,n){var o,i,a=n===h,l=n===g,c=m.findIndex((function(e){return e.index===n})),u=m.findIndex((function(e){return e.index===h})),d=[],p=[{translateX:l?(null===(o=m[u])||void 0===o?void 0:o.translateX)||0:-1!==c&&(null===(i=m[c])||void 0===i?void 0:i.translateX)||0}];return a&&p.push({scale:y.zoomOutScale}),l&&p.push({scale:y.zoomInScale}),p.map((function(e,t){0===t?d.push({translateX:0}):d.push(e)})),w.a.createElement(le.a.View,{key:n,style:[t.itemWrapper,-1===c&&{opacity:0},a&&{opacity:y.zoomOutOpacity},l&&{opacity:y.zoomInOpacity},{width:s(),transform:p},Object(A.F)()&&{left:p[0].translateX,transform:d}]},r(e))})))}))}var he,ge=w.a.memo(fe),me=n(11),ye=n(16),ve=n(45),be=n.n(ve);function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Se=Object(S.c)(he=function(e){p()(n,e);var t=we(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"originWidth",Object(A.x)().screenWidth),v()(u()(r),"originHeight",Object(A.x)().screenHeight),v()(u()(r),"itemlist",[]),v()(u()(r),"serverTime",(new Date).getTime()),v()(u()(r),"innerHeight",0),v()(u()(r),"_panResponder",void 0),v()(u()(r),"switchListener",void 0),v()(u()(r),"getSize",(function(){var e=r.originWidth;return("web"===C.a.OS||r.props.isNewWaterfall)&&(e=Object(A.x)(r.props.pageType||"homePage").screenWidth),Object(E.a)(e)})),v()(u()(r),"isPc",(function(){return"large"===r.getSize()})),v()(u()(r),"isPad",(function(){return"medium"===r.getSize()})),v()(u()(r),"isApp",(function(){return"small"===r.getSize()})),v()(u()(r),"isWap",(function(){return"web"===C.a.OS&&"large"!==r.getSize()})),v()(u()(r),"isApkOrIos",(function(){return"android"===C.a.OS||"ios"===C.a.OS})),v()(u()(r),"getWidth",(function(){var e=r.originWidth;return("web"===C.a.OS||r.props.isNewWaterfall)&&(e=Object(A.x)(r.props.pageType||"homePage").screenWidth),e})),v()(u()(r),"getHeight",(function(){return Object(A.x)(r.props.pageType||"homePage").screenHeight})),v()(u()(r),"isPadHorizontal",(function(){return r.isPad()&&r.getWidth()>=r.getHeight()&&r.getWidth()>=1024})),v()(u()(r),"receiveRef",(function(e){r.itemlist=[],e&&r.itemlist.push(e)})),v()(u()(r),"getItemWidth",(function(){var e=(r.originWidth-32-24-8)/2;return r.isPadHorizontal()?e=(r.originWidth-48-24-16)/2:r.isPad()&&(e=(r.originWidth-48-24-8)/2),e})),v()(u()(r),"getItemHeight",(function(e){e.map((function(e){var t=e.configInfo,n=e.dataList,o=r.getImgWidth(),i=0,a=t.promotionShow,l=t.activityPriceShow,s=t.underlinedPriceShow,c=!1,u=!1,d=!1;n.forEach((function(e){e.microPromWord&&(c=!0),e.sellingPrice&&(u=!0),e.originalPrice&&(d=!0)})),a&&c&&(i+=16),!l||a&&c||u&&(i+=16),!s||a&&c||d&&(i+=12);var p=o+i;p>r.innerHeight&&(r.innerHeight=p)}))})),v()(u()(r),"getImgWidth",(function(){var e=r.isApp()?2:r.isPadHorizontal()?4:2,t=r.isPadHorizontal()?12:8;return(r.getItemWidth()-t*(e-1))/e})),v()(u()(r),"isChangeStyle",(function(e){return e.bgImg||e.imgStyle.backgroundColor&&"transparent"!==e.imgStyle.backgroundColor})),v()(u()(r),"renderItem",(function(e,t){var n,o=r.props.groupStyleChange,i=r.state.crossDressingStyle,a=r.isChangeStyle(i),l=null;(o||a)&&(l="#000");var s=r.isPadHorizontal()?12:8,c=r.isPadHorizontal()?4:2,u=r.isPadHorizontal()?24:16,d=function(n){return w.a.createElement(O.a,{style:[t.proItem,{width:r.getImgWidth(),marginRight:s}]},w.a.createElement(O.a,{style:r.isPadHorizontal()?t.proImgPadHorzontal:t.proImg},w.a.createElement(K.a,{resizeWidth:r.getImgWidth()-u,resizeMode:"contain",imgUri:n.photoPath,svgColor:l,imgStyle:[{width:r.getImgWidth()-u,height:r.getImgWidth()-u}]})),r.renderPromWordOrPrice(e.configInfo,n,t))},p=null,f=(e||{}).dataList,h=(void 0===f?[]:f).slice(0,8);if(1==+(null==e||null===(n=e.configInfo)||void 0===n?void 0:n.dynamicShuffling)&&(null==h?void 0:h.length)>c)p=w.a.createElement(ge,{data:h,column:c,boxWidth:r.getItemWidth(),itemWidth:r.getImgWidth(),itemHeight:r.innerHeight,colgutter:r.isPadHorizontal()?12:8,renderItem:d});else{for(var g=[],m=0;m<c;m++)e.dataList[m]&&g.push(e.dataList[m]);p=g.map((function(e){return d(e)}))}return p})),v()(u()(r),"renderPromWordOrPrice",(function(e,t,n){var o=!t.sellingPrice&&t.originalPrice||!e.activityPriceShow;if(e.promotionShow&&t.microPromWord)return w.a.createElement(P.a,{style:[n.promotion],numberOfLines:1,ellipsizeMode:"tail"},r.isApp()?r.cutString(t.microPromWord,10,"..."):r.cutString(t.microPromWord,14,"..."));if(e.activityPriceShow||e.underlinedPriceShow){var i=t.priceMode||1;return 1===Number(i)?w.a.createElement(O.a,{style:n.priceBox},e.activityPriceShow&&""!==t.sellingPrice&&w.a.createElement(P.a,{style:n.sellingPrice},"¥",Number(t.sellingPrice)),e.underlinedPriceShow&&""!==t.originalPrice&&w.a.createElement(P.a,{style:o?n.onlyOriginalPrice:n.originalPrice},"¥",Number(t.originalPrice))):w.a.createElement(O.a,{style:n.priceBox},w.a.createElement(P.a,{style:n.onlyOriginalPrice},Object(j.b)("without_price")))}})),v()(u()(r),"cutString",(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=0,o="",i=/[^\x00-\xff]/g,a="",l=e.replace(i,"**").length,s=l>t,c=0;c<l&&(null!=(a=e.charAt(c).toString()).match(i)?r+=2:r++,!(r>t));c++)o+=a;return s&&n&&(o+="..."),o})),v()(u()(r),"renderCardTitle",(function(e,t){var n=t.configInfo,o=n.cardTitle,i=n.showSetting;if(!n.titleShow)return null;if(2===i){var a=2;r.isPad()&&(a=5),o=r.cutString(o,2*a)}else o=r.cutString(o,10);return o})),v()(u()(r),"getContent",(function(e,t,n){var o=(r.state||{}).crossDressingStyle;return t.map((function(t,i){var a;return w.a.createElement(T.a,{activeOpacity:1,onPress:function(){return r.jumpLink(t.configInfo,i,n)},key:i},w.a.createElement(O.a,{style:[e.itemBox,{width:r.getItemWidth()}]},w.a.createElement(O.a,{style:e.header},w.a.createElement(P.a,{style:[e.title,"ios"===C.a.OS&&e.titleIOS,2===t.configInfo.showSetting&&r.isApp()&&e.seckillTitle,(null==o||null===(a=o.textStyle)||void 0===a?void 0:a.color)&&(null==o?void 0:o.textStyle)],numberOfLines:1,ellipsizeMode:"clip"},r.renderCardTitle(e,t)),w.a.createElement(O.a,{style:[e.subtitleBox]},r.renderSubTitle(t,e,o))),w.a.createElement(O.a,{style:[e.proList,r.isPadHorizontal()&&e.proListHorizontalPad]},r.renderItem(t,e))))}))})),v()(u()(r),"renderSubTitle",(function(e,t,n){var o=(e||{}).configInfo,i=o.showSetting;if(o.titleShow){if(1===i){var a,l=r.getCardTitleWidth(r.renderCardTitle(t,e));return w.a.createElement(P.a,{style:[t.subTitle,{maxWidth:r.getItemWidth()-r.getCardTitleWidth(r.renderCardTitle(t,e))},(null==n||null===(a=n.textStyle)||void 0===a?void 0:a.color)&&(null==n?void 0:n.textStyle)],numberOfLines:1,ellipsizeMode:"clip"},r.cutString(o.subTitle,l>=80?11:12))}if(2===i){var s,c,u=null==e||null===(s=e.dataList[0])||void 0===s?void 0:s.snapUpEndTime,d=null==e||null===(c=e.dataList[0])||void 0===c?void 0:c.snapUpStartTime;return w.a.createElement(O.a,{style:t.countDownText},"已开始"===r.isStart(d)?w.a.createElement(P.a,{style:[t.countDownText],numberOfLines:1,ellipsizeMode:"tail"},Object(j.b)("to_the_end")):w.a.createElement(O.a,{style:t.countDownSubTitle},w.a.createElement(O.a,{style:t.subContent},w.a.createElement(P.a,{style:[t.countDownSubTxt]},r.getSessionTime(d)),w.a.createElement(P.a,{style:[t.countDownSubTxt]},Object(j.b)("sites")))),w.a.createElement(ne,{isStart:r.isStart(d),startTime:d,endTime:u,itemWidth:16,itemHeight:16,itemBgColor:"#CF0A2C",itemTextColor:"#ffffff",itemFontSize:10}))}return null}return null})),v()(u()(r),"renderComponents",(function(e,t){var n,i=r.state.crossDressingStyle,a=r.props.groupStyleChange,l=!0;a&&"2"===a.bgFill&&(l=!1);var s=r.props.styleChange.bgColor,c=i.bgImg,u=s;s&&"transparent"!==s||(u=R.a.C94.color);var d=r.hexToRgb(u.replace("#","")),p="rgba(".concat(d.r,", ").concat(d.g,", ").concat(d.b,", 0.05)"),f="rgba(".concat(d.r,", ").concat(d.g,", ").concat(d.b,", 0)");return w.a.createElement(O.a,o()({ref:function(e){return r.receiveRef(e)},style:[!r.isApkOrIos()&&e.overflowScrolling,q.a.renderCount>0?e.show:e.hide,{backgroundColor:"transparent"}]},null===(n=r._panResponder)||void 0===n?void 0:n.panHandlers),w.a.createElement(O.a,{style:[e.container,l&&e.boxBg,r.isPad()&&e.containerPad]},c?w.a.createElement(x.a,{style:[e.headerBgRadius,e.bgTop],source:{uri:c},resizeMode:"stretch"}):null,t.map((function(t,n){r.innerHeight=0,r.getItemHeight(t);var o=!1;return!c&&l&&(n>0||s&&"transparent"!==s)&&(o=!0),w.a.createElement(O.a,{style:[e.rowWrap,{marginTop:n>0?8:0}]},w.a.createElement(O.a,{style:[e.headerBg,c&&e.headerBgRadio]},n>0&&c?w.a.createElement(x.a,{style:e.headerBgRadius,source:{uri:c},resizeMode:"stretch"}):null,o?w.a.createElement(be.a,{colors:[p,f],style:e.lg,start:{x:0,y:0},end:{x:0,y:1}}):null),r.getContent(e,t,n))}))))})),v()(u()(r),"initWidth",(function(e){r.state.width!==e&&r.setState({width:e},(function(){r.getCrossDress()}))})),r.state={crossDressingStyle:{bgImg:"",imgStyle:{},textStyle:{color:""}},width:Object(A.x)(e.pageType||"activity").screenWidth},r}return s()(n,[{key:"componentWillMount",value:function(){"web"===C.a.OS&&(this._panResponder=I.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}))}},{key:"componentDidMount",value:function(){var e=this;this.getCrossDress(),Object(F.r)().then((function(t){if(!t||!t.serverTime)return!1;e.serverTime=1e3*t.serverTime})),this.switchListener=k.a.addListener("NativeCallAction",(function(t){"screen"===(null==t?void 0:t.service)&&"rnScreenOrientation"===(null==t?void 0:t.action)&&e.setState({width:e.originWidth})}))}},{key:"componentWillUnmount",value:function(){}},{key:"isStart",value:function(e){return this.serverTime<e?"未开始":"已开始"}},{key:"getSessionTime",value:function(e){var t=new Date(e).getHours(),n=new Date(e).getMinutes(),r=parseInt(t),o=parseInt(n);return(r<10?"0"+r:r)+":"+(o<10?"0"+o:o)}},{key:"getCrossDress",value:function(){if(this.props.styleChange){var e=Object(A.i)(this.props.styleChange,this.getSize());e&&this.setState({crossDressingStyle:e})}}},{key:"jumpLink",value:function(e,t,n){if(4!==e.moreUrlType)return!1;var r;this.isApkOrIos()&&e.moreActionAppUrl?r=e.moreActionAppUrl:this.isWap()&&e.moreActionWapUrl?r=e.moreActionWapUrl:Object(A.F)()&&e.moreActionAppletUrl?r=e.moreActionAppletUrl:e.moreActionUrl&&(r=e.moreActionUrl),e.url=r,r&&this.props.clickItem(e,t,n),r&&Object(A.A)(r)}},{key:"getCardTitleWidth",value:function(e){var t=/^[\u4E00-\u9FA5]+$/,n=0;for(var r in e){n+=t.test(e[r])?16:8}return n+4}},{key:"hexToRgb",value:function(e){if(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}}return null}},{key:"handleImg",value:function(e){var t=Object(A.e)(),n=e.dataType,r=e.photoPath,o=e.photoName,i=e.webps,a=e.isCms,l=e.isCustomImage,s=e.photoPathMainWebp,c=this.getSize(),u=/(http|https):\/\/([\w.]+\/?)\S*/,d=u.test(r),p=d?"":me.a.cmsCndProdPath,f=t&&s?s:a&&!l&&"ad"!==n?p+r+(d?"":"428_428_"+o):p+r+(d?"":o);if(t)if(p=u.test(i.webp_4)?"":me.a.cmsCndProdPath,"ad"===n)"small"===c&&i.webp_2?f=p+i.webp_2:"medium"===c&&i.webp_3?f=p+i.webp_3:"large"===c&&i.webp_4&&(f=p+i.webp_4);else{var h=i.webp_4||i.webp_3||i.webp_2;h&&(f=p+h)}if("web"===C.a.OS){var g=Object(A.h)();f=f.replace(me.a.cmsCndProdPath,g)}return f}},{key:"handleData",value:function(e){var t=this,n=this.props.dataArray,r=[];return n.forEach((function(n){var o=JSON.parse(JSON.stringify(n));e[n.dataSourceCode]?(o.dataList=t.handleSingleData(JSON.parse(JSON.stringify(e[n.dataSourceCode])),n.configInfo.cardType),r.push(o)):(o.dataList=[],r.push(n))})),r}},{key:"handleSingleData",value:function(e,t){var n,r,o,i=this,a=[];switch(t){case"crowdTest":null===(n=e.publicTestActivities)||void 0===n||n.forEach((function(e){if(e.startTime&&e.endTime&&e.publicTestSbomInfo&&"{}"!==JSON.stringify(e.publicTestSbomInfo)&&new Date(e.startTime).getTime()<=i.serverTime&&new Date(e.endTime).getTime()>=i.serverTime){e.microPromWord=e.publicTestSbomInfo.microPromWord,e.sellingPrice=e.publicTestSbomInfo.price,e.originalPrice="";var t={dataType:"prod",photoPath:e.publicTestSbomInfo.photoPath,photoName:e.publicTestSbomInfo.photoName,webps:e.publicTestSbomInfo.displayPhotoWebpPathMap||{},isCms:!0,isCustomImage:""};e.photoPath=i.handleImg(t),a.push(e)}}));break;case"prod":case"rushbuy":null===(r=e.dataInfos)||void 0===r||r.forEach((function(e){var t;e.microPromWord=e.prdPromotion?e.prdPromotion:e.promotionInfo?e.promotionInfo:"",e.sellingPrice=null!=e&&e.displayPrice||0===(null==e?void 0:e.displayPrice)?null==e?void 0:e.displayPrice:null!=e&&e.salePrice||0===(null==e?void 0:e.salePrice)?null==e?void 0:e.salePrice:"",e.originalPrice=""!==(null!==(t=e.originPrice)&&void 0!==t?t:"")&&e.originPrice!==e.sellingPrice?e.originPrice:"";var n={dataType:e.dataType,photoPath:e.photoPath,photoName:e.photoName,webps:e.displayPhotoWebpPathMap||{},isCms:!0,isCustomImage:e.customImage};e.photoPath=i.handleImg(n)})),a=e.dataInfos;break;case"seckill":null==e||e.forEach((function(e){var t;null===(t=e.sessions)||void 0===t||t.forEach((function(e){new Date(e.snapUpEndTime).getTime()-i.serverTime>0&&e.sbomList.length>0&&a.length<=0&&(e.sbomList.forEach((function(t){t.sellingPrice=t.secKillPrice,t.originalPrice=t.price;var n={dataType:"prod",photoPath:t.photoPath,photoName:t.photoName,webps:t.displayPhotoWebpPathMap||{},isCms:!0,isCustomImage:!1};t.photoPath=i.handleImg(n),t.snapUpStartTime=e.snapUpStartTime,t.snapUpEndTime=e.snapUpEndTime})),a=e.sbomList)}))}));break;case"prodRankList":null===(o=e.productRankList)||void 0===o||o.forEach((function(e){var t;null===(t=e.productList)||void 0===t||t.forEach((function(e,t){0===t&&(e.sellingPrice=e.promoPrice?e.promoPrice:"",e.originalPrice=e.price,a.push(e))}))}));break;case"groupBuy":null==e||e.forEach((function(e){a.length<=0&&new Date(e.startTime).getTime()<=i.serverTime&&new Date(e.endTime).getTime()>=i.serverTime&&e.sbomList.length>0&&(e.sbomList.forEach((function(e){e.sellingPrice=e.teamBuyPrice,e.originalPrice=e.originalPrice})),a=e.sbomList)}))}return a}},{key:"getActivityCombineData",value:function(){for(var e=this.props,t=e.dataArray,n=e.pageData,r=e.layout,o=2*((null==r?void 0:r.rowsPerScreen)||1),i=[],a=this.handleData(Object(ye.n)(q.a.pageData)),l=this.handleData(n),s=0;s<t.length;s++)if(i.length<o){var c,u;if((null===(c=a[s].dataList)||void 0===c?void 0:c.length)>0){i.push(a[s]);continue}if((null===(u=l[s].dataList)||void 0===u?void 0:u.length)>0){i.push(l[s]);continue}}return i}},{key:"dealData",value:function(e){var t=[],n=[];return e.forEach((function(e,r){n.push(e),(r+1)%2==0&&(t.push(n),n=[])})),e.length<2&&e.length%2!=0&&t.push(n),t}},{key:"render",value:function(){var e=this,t=this.getActivityCombineData(),n=this.props,r=n.pageType,o=n.groupStyleChange,i=J.negativeMargeTop8;if(r!==H.g.homePage&&(i=J.negativeMargeTop12),t&&0===t.length)return w.a.createElement(O.a,{style:i});var a=this.dealData(t),l=this.state.crossDressingStyle,s=this.isChangeStyle(l);return!this.isPc()&&w.a.createElement(L.b,{themeStyles:function(e){return function(e,t){return t&&(e=R.a),z.a.create({overflowScrolling:V({},Y),show:{opacity:1},hide:{opacity:0},container:{display:"flex",borderRadius:16,marginLeft:16,marginRight:16,overflow:"hidden",paddingBottom:4},rowWrap:{paddingLeft:12,paddingRight:12,flexDirection:"row",justifyContent:"space-between"},boxBg:{backgroundColor:e.C33.color},containerPad:{marginLeft:24,marginRight:24},containerHorizontalPad:{marginLeft:24,marginRight:24},itemBox:{flex:1,width:"50%"},header:{display:"flex",alignItems:"center",flexDirection:"row",height:40,marginTop:4},title:V(V(V(V({},e.C11),e.T10),G),{},{fontWeight:"bold",flexShrink:0}),titleIOS:{maxWidth:82},seckillTitle:{maxWidth:32},subtitleBox:{marginLeft:4,marginRight:8,display:"flex"},countDownView:{display:"flex",flexDirection:"row"},countDownText:V(V({},e.T1),{},{color:e.C13.color,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",marginRight:4}),countDownSubTitle:V(V(V({},e.T1),e.C13),{},{alignItems:"center",display:"flex",flexDirection:"row",marginRight:4}),subTitle:V(V(V({},e.T1),e.C12),{},{backgroundColor:Object(A.f)(e.C94.color,.1),paddingLeft:4,paddingRight:4,height:16,lineHeight:16,borderRadius:4}),subContent:{alignItems:"center",flexDirection:"row"},countDownSubTxt:V({},e.T1),proList:{display:"flex",flexDirection:"row",flex:1,marginBottom:8},proListHorizontalPad:{},proItem:{textAlign:"center",alignItems:"center"},proImg:{paddingLeft:8,paddingRight:8,paddingTop:8,paddingBottom:8},proImgPadHorzontal:{paddingLeft:12,paddingRight:12,paddingTop:12,paddingBottom:12},priceBox:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},originalPrice:V(V(V({},e.C15),e.T0),{},{height:12,textDecorationLine:"line-through"}),onlyOriginalPrice:V(V(V({},e.C18),e.T4),{},{height:16}),sellingPrice:V(V(V({},e.C18),e.T4),{},{height:16}),promotion:V(V(V({},e.C18),e.T4),{},{height:16,textAlign:"center",overflow:"hidden"}),headerBg:{position:"absolute",top:0,left:0,right:0,zIndex:0,height:44,overflow:"hidden"},headerBgRadius:{width:"100%",height:44},lg:{width:"100%",height:44},headerBgRadio:{borderTopLeftRadius:16,borderTopRightRadius:16},bgTop:{position:"absolute",top:0,left:0,right:0,zIndex:0,height:44,width:"100%"}})}(e,s||o)}},(function(n,r,o){return e.initWidth(o),e.originWidth=Object(A.F)()?Object(A.x)().screenWidth:o,t.length>0&&e.renderComponents(n,a)}))}}]),n}(w.a.PureComponent))||he;t.a=Object(_.a)(Object(D.a)(B)(Object(M.a)(Se)))},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(17),a=n.n(i),l=n(35),s=n.n(l),c=n(26),u=n.n(c),d=n(5),p=n.n(d),f=n(6),h=n.n(f),g=n(2),m=n.n(g),y=n(8),v=n.n(y),b=n(7),w=n.n(b),S=n(4),C=n.n(S),O=n(1),P=n.n(O),T=n(217),x=n.n(T),I=n(553),k=n.n(I),E=n(293),j=n.n(E),R=n(69),L=n.n(R),_=n(39),D=n.n(_),N=n(52),W=n.n(N),A=n(92),B=n.n(A),M=n(0),F=n.n(M),H=n(40),z=n(432),U=n(48),V=n(102),G=n(433),Y=n(183),J=n(81),K=n(3),q=n(45),Q=n.n(q),$=n(54),X=n(37),Z=n(49),ee=n(43),te=n(152),ne=n(126),re=n(431),oe=n(250),ie=n(267),ae=n(708),le=n(25),se={exposeItem_product:function(e){var t=[],n=this.props,r=n.pageCatCode,o=n.pageCatName,i=n.resSiteCode,a=n.resSiteName;return null==e||e.map((function(e,n){t.push({comId:e.comId+"",index:e.index+"",taskId:e.taskId,taskStatus:e.taskStatus+""})})),{isBatch:!0,commonData:{actionCode:"1"===this.getPlatformPrefix().platformType?"110000101":"2"===this.getPlatformPrefix().platformType?"210000101":"310000101",actionName:"任务组件曝光",eventType:"7",pageId:this.props.pageId,resSiteCode:i,resSiteName:a,pageCatCode:r,pageCatName:o},content:t}},clickItem:function(e,t){var n=Object(K.F)()?this:this.props,r=n.pageCatCode,o=n.pageCatName,i=n.resSiteCode,a=n.resSiteName;return{data:{actionCode:"1"===this.getPlatformPrefix().platformType?"110000101":"2"===this.getPlatformPrefix().platformType?"210000101":"310000101",actionName:"点击任务组件曝光",eventType:"2",pageId:this.props.pageId,content:{comId:t+"",index:e.index+"",taskId:e.item.taskCode,taskStatus:e.item.taskStatus+"",clickType:"28"},resSiteCode:i,resSiteName:a,pageCatCode:r,pageCatName:o}}}},ce=n(24),ue=n(23),de=n(11),pe=n(29),fe=n(12),he=n(21),ge=n(57);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){return{taskWrapper:{display:"flex",flexWrap:"nowrap",paddingLeft:16,paddingRight:16},taskItemCls:ye(ye({borderRadius:16},e.S31),{},{paddingLeft:16,paddingRight:12,paddingTop:12,paddingBottom:12,display:"flex",flexDirection:"row"}),taskImageCls:{width:48,height:48,textAlign:"left",marginRight:12},taskBtnCls:{paddingLeft:14,paddingRight:14,height:28,borderRadius:16,textAlign:"right",marginTop:10},taskBtnText:ye(ye(ye({color:"#fff",textAlign:"center"},e.T4),e.C17),{},{lineHeight:28}),taskDescriptionWrapper:{flex:1,display:"flex",flexDirection:"column",paddingTop:4},taskNameTextCls:ye(ye({fontSize:14,color:" #000000",lineHeight:19,height:19,marginBottom:4},e.T8),e.C11),taskDescriptionTextCls:ye(ye({fontSize:12,color:" #000000",lineHeight:17,height:17},e.T3),e.C13),lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity}}},be=function(e){var t=ve(e);return ge.a.create(ye(ye({},t),{},{taskWrapper:{display:"flex",flexWrap:"nowrap",paddingLeft:24,paddingRight:24}}))},we=function(e){var t=ve(e);return ge.a.create(ye(ye({},t),{},{taskWrapper:{display:"flex",flexWrap:"nowrap",paddingLeft:24,paddingRight:24}}))},Se=function(e){var t=ve(e);return ge.a.create(ye({},t))},Ce=n(50);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C()(e);if(t){var o=C()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}$.a.get("window");var xe=function(e){v()(i,e);var t,n,r=Te(i);function i(e){var t;return p()(this,i),t=r.call(this,e),P()(m()(t),"viewabilityConfig",void 0),P()(m()(t),"isHorizontalScreen",void 0),P()(m()(t),"isPadVerticalScreen",void 0),P()(m()(t),"isPadHorizontalScreen",void 0),P()(m()(t),"layoutWidth",void 0),P()(m()(t),"pageParams",void 0),P()(m()(t),"loadMore",void 0),P()(m()(t),"taskCode",void 0),P()(m()(t),"activityCode",void 0),P()(m()(t),"interTimer",void 0),P()(m()(t),"nowTime",void 0),P()(m()(t),"eventListener",void 0),P()(m()(t),"column",void 0),P()(m()(t),"windowScrollHeight",void 0),P()(m()(t),"loadMoreStatus",void 0),P()(m()(t),"layView",void 0),P()(m()(t),"itemlist",[]),P()(m()(t),"showToastStatus",void 0),P()(m()(t),"tmpFinishedTaskIndexList",void 0),P()(m()(t),"backListener",void 0),P()(m()(t),"refreshListener",void 0),P()(m()(t),"handleAppStateChange",(function(e){"active"===e&&t.handlePageDataSource()})),P()(m()(t),"handleIosStateChange",(function(e){var n;"page"===(null==e?void 0:e.service)&&"pageLeave"===(null==e?void 0:e.action)&&null!=e&&null!==(n=e.param)&&void 0!==n&&n.isLeave&&t.handlePageDataSource()})),P()(m()(t),"queryTaskPageDataSource",(function(e){var t="".concat(de.a.openApiDomain,"sg/content/getPageDataSource?").concat(Object(ue.d)(),"&dataSourceList=").concat(e);return pe.a.get(t)})),P()(m()(t),"attendTask",(function(e){var t=1;t="android"===X.a.OS||"ios"===X.a.OS?3:"large"===Object(H.a)($.a.get("window").width)?1:2,e.lang=e.lang?e.lang:fe.e.CN,e.country=e.country?e.country:fe.d.CN,e.version=e.version?e.version:1;var n=e.taskCode,r=e.activityCode,o=e.lang,i=e.country,a=e.version,l="".concat(de.a.openApiDomain,"sg/activity/attendTask?taskCode=").concat(n,"&activityCode=").concat(r,"&portal=").concat(t,"&lang=").concat(o,"&country=").concat(i,"&version=").concat(a);return pe.a.get(l)})),P()(m()(t),"receiveTaskReward",(function(e){var t=1;t="android"===X.a.OS||"ios"===X.a.OS?3:"large"===Object(H.a)($.a.get("window").width)?1:2,e.lang=e.lang?e.lang:fe.e.CN,e.country=e.country?e.country:fe.d.CN,e.version=e.version?e.version:1;var n=e.taskCode,r=e.activityCode,o=e.lang,i=e.country,a=e.version,l="".concat(de.a.openApiDomain,"sg/activity/receiveTaskReward?taskCode=").concat(n,"&activityCode=").concat(r,"&portal=").concat(t,"&lang=").concat(o,"&country=").concat(i,"&version=").concat(a);return pe.a.get(l)})),P()(m()(t),"isApkOrIos",(function(){return"android"===X.a.OS||"ios"===X.a.OS})),P()(m()(t),"handlePageDataSource",u()(a.a.mark((function e(){var n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.dataSourceList,r=B()(n)||{},o=r.dataSourceCode,i={dataSourceList:o},e.next=5,Object(ue.m)(i).then((function(e){var n=(e||{}).pageData,r=[],i=[];W()(null==n?void 0:n[o],(function(e){i=W()(null==e?void 0:e.taskActivityTaskInfoList,(function(t){return Pe(Pe({},t),{},{activityCode:e.activityCode})})),D()(null==e?void 0:e.taskActivityTaskInfoList)>0&&(r=[].concat(s()(r),s()(i)))})),t.setState({taskActivityTaskInfoList:r})}));case 5:t._getPageInfos();case 6:case"end":return e.stop()}}),e)})))),P()(m()(t),"handleTime",u()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(ue.r)().then((function(e){return t.nowTime=e.success?1e3*e.serverTime:(new Date).getTime(),e.success?1e3*e.serverTime:(new Date).getTime()})).catch((function(){return t.nowTime=(new Date).getTime(),t.nowTime})));case 1:case"end":return e.stop()}}),e)})))),P()(m()(t),"_onScroll",L()((function(){var e=t.state.loadState,n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;3!==e&&t.setState({loadState:1,showLoading:!0});var r=window.screen.height+n+0;document.body.clientHeight<=r+80&&(t.interTimer&&clearTimeout(t.interTimer),t.interTimer=setTimeout((function(){t.interTimer=!0,t._getPageInfos()}),300))}),300)),P()(m()(t),"getTaskItemWidth",(function(){return t.isPadHorizontalScreen?(t.layoutWidth-48-24)/3:t.isPadVerticalScreen?(t.layoutWidth-48-8)/2:Object(K.a)(t.layoutWidth)?t.layoutWidth-32:void 0})),P()(m()(t),"receiveRef",(function(e,n){e?(e.exposeObj=n,t.itemlist.push(e)):t.itemlist=[]})),P()(m()(t),"handleTaskStatus",function(){var e=u()(a.a.mark((function e(n,r,o){var i,l,c,u,d,p,f,h,g,m,y,v,b,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.props.clickItem(n,t.props.id),i=t.state,l=i.isLogin,c=i.finishedTaskIndexList,3!==o.taskStatus){e.next=4;break}return e.abrupt("return");case 4:return t.tmpFinishedTaskIndexList=[].concat(s()(c),[r]),u=(null==n?void 0:n.item)||{},d=u.startTime,p=u.endTime,f=u.pcJumpUrl,h=u.appJumpUrl,g=u.wapJumpUrl,m=u.taskCode,y=u.activityCode,e.next=8,t.handleTime();case 8:v=e.sent,b="web"===X.a.OS&&Object(K.E)(t.layoutWidth),w=t.isApkOrIos()?h:b?f:g,l&&v>d&&v<p?(0!=o.taskStatus&&1!=o.taskStatus||t.attendTask({activityCode:y,taskCode:m}).then().finally((function(){Object(K.A)(w)})),2==o.taskStatus&&t.receiveTaskReward({activityCode:y,taskCode:m}).then((function(e){t.setState({finishedTaskIndexList:[].concat(s()(c),[r])}),Z.a.emit("showToast",{text:e.msg,duration:1e3,pageType:t.props.pageType}),Z.a.emit("onRefreshLimit",!0)}),(function(e){Z.a.emit("showToast",{text:e.msg,duration:1e3,pageType:t.props.pageType})})).catch((function(){Z.a.emit("showToast",{text:Object(z.b)("systemBusy"),duration:1e3,pageType:t.props.pageType})}))):l?Z.a.emit("showToast",{text:"任务已过期",duration:1e3,pageType:t.props.pageType}):t.handleLoginPress();case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),P()(m()(t),"getMarginDistance",(function(e){var n=t.state.taskDataArray,r=D()(n),o=2===t.column?4:3===t.column?6:0;if(1==t.column)return{marginBottom:(e+1)%r==0?0:12};if(2==t.column)return{marginRight:e%2==0?o:0,marginLeft:e%2!=0?o:0,marginBottom:j()((e+1)/2)===j()(r/2)?0:12};var i=(e+1)%3==2?o:(e+1)%3==1?o:0,a=(e+1)%3==2?o:(e+1)%3==0?o:0;return 3===t.column?{marginRight:(e+1)%3==0?0:i,marginLeft:(e+1)%3==1?0:a,marginBottom:j()((e+1)/3)===j()(r/3)?0:12}:void 0})),P()(m()(t),"_renderTaskItem",(function(e,n){var r,o,i,a=t.state.finishedTaskIndexList,l=(e||{}).index,s=(null==e?void 0:e.item)||{},c=s.taskCode,u=s.taskPicture,d=s.taskName,p=s.taskStatus,f=s.taskDescription,h=s.beforeTaskDoneText,g=s.afterReceiveRewardText,m=s.pendingRewardText,y=k()(function(e,t,n){return[{taskStatus:0,taskStatuText:e,style:{}},{taskStatus:1,taskStatuText:e,style:{}},{taskStatus:2,taskStatuText:n,style:{backgroundColor:"#ED6F21"}},{taskStatus:3,taskStatuText:t,style:{opacity:.4}}]}(h,g,m),(function(e){return e.taskStatus==p}));x()(a,l)&&(y={taskStatus:3,taskStatuText:g,style:{opacity:.4}});var v=t.getTaskItemWidth(),b=t.getMarginDistance(l),w={taskStatus:p,index:l,comId:t.props.id,taskId:c};return F.a.createElement(ee.a,{ref:function(e){return t.receiveRef(e,w)},style:[Pe({width:v},b),n.taskItemCls]},F.a.createElement(ee.a,null,F.a.createElement(ce.a,{imgUri:u,imgStyle:n.taskImageCls})),F.a.createElement(ee.a,{style:n.taskDescriptionWrapper},F.a.createElement(te.a,{numberOfLines:1,style:n.taskNameTextCls},d),F.a.createElement(te.a,{numberOfLines:1,style:n.taskDescriptionTextCls},f)),F.a.createElement(Q.a,{start:{x:1,y:0},end:{x:0,y:0},colors:2!==(null===(r=y)||void 0===r?void 0:r.taskStatus)?["#D61A19","#FE5945"]:["#ED6F21","#ED6F21"],style:[n.taskBtnCls,Pe({},null===(o=y)||void 0===o?void 0:o.style)]},F.a.createElement(ne.a,{activeOpacity:1,onPress:function(){return t.handleTaskStatus(e,l,y)}},F.a.createElement(te.a,{numberOfLines:1,style:n.taskBtnText},null===(i=y)||void 0===i?void 0:i.taskStatuText))))})),P()(m()(t),"_onScrollMomentEnd",(function(){})),P()(m()(t),"_getPageInfos",(function(e){var n=t.state,r=n.taskActivityTaskInfoList,o=n.pageNum,i=r,a=t.props.configInfo,l=a.rowsPerScreen,s=a.more,c=l||20,u=e||t.column;if(4==s)if(c*u*t.state.pageNum>D()(r))t.setState({loadState:3,showLoading:!0,taskDataArray:r});else{var d=e?o:o+1;t.setState({taskDataArray:i.slice(0,c*u*d),loadState:1,pageNum:d,showLoading:!0,scrollStatus:!0})}else t.setState({taskDataArray:i.slice(0,c*u*(o+1))})})),P()(m()(t),"_potalCode",(function(){return"web"===X.a.OS?U.a.isWap(t.layoutWidth)?"2":"1":"3"})),P()(m()(t),"handleLoginPress",u()(a.a.mark((function e(){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.props.env,r="","android"!==X.a.OS&&"ios"!==X.a.OS||(r="vmall://com.vmall.client/home/login",Object(K.A)(r)),"web"===X.a.OS&&(o=window.location.href,r="".concat(n.webDomain,"account/login?url=").concat(encodeURIComponent(o))),Object(K.A)(r),e.next=7,t._isLogin();case 7:case"end":return e.stop()}}),e)})))),P()(m()(t),"renderFooter",(function(){var e=(t.props.configInfo||{}).more,n=t.state,r=n.showLoading,o=n.loadState;return F.a.createElement(V.b,{themeStyles:t.state.DrawCardWapStyles},(function(n){var i;return F.a.createElement(G.a,{showLoading:4==e&&r,position:"bottom",loadState:o,height:56,iconSize:24,titleStyle:Pe(Pe({},n.lodingTitle),null===(i=t.state.headerBoxStyle)||void 0===i?void 0:i.textStyle)})}))})),P()(m()(t),"getColumnIndex",(function(e){var n="medium"===Object(H.a)(e);return t.isPadHorizontalScreen=t.isHorizontalScreen&&n,t.isPadVerticalScreen=!t.isHorizontalScreen&&n,t.isPadHorizontalScreen?3:t.isPadVerticalScreen?2:Object(K.a)(e)?1:void 0})),P()(m()(t),"getDrawCardWapStyles",(function(e){var n;t.isPadHorizontalScreen&&(t.column=3,n=be),t.isPadVerticalScreen&&(t.column=2,n=we),Object(K.a)(e)&&(t.column=1,n=Se),t.setState({DrawCardWapStyles:n})})),P()(m()(t),"initLayoutWidth",(function(e){var n="medium"===Object(H.a)(e);if(t.layoutWidth!==e){t.isHorizontalScreen=t.layoutWidth<e&&e>=1024;var r=t.getColumnIndex(e);t._getPageInfos(r)}t.layoutWidth=e,t.isPadHorizontalScreen=t.isHorizontalScreen&&n,t.isPadVerticalScreen=!t.isHorizontalScreen&&n,t.getDrawCardWapStyles(e)})),t.state={taskDataArray:[],taskActivityTaskInfoList:[],isLogin:!1,pageNum:0,showLoading:!1,loadState:1,DrawCardWapStyles:Se,finishedTask:!1,scrollStatus:!0,finishedTaskIndexList:[],height:Object(K.x)(t.props.pageType).screenHeight,headerBoxStyle:{bgImg:"",imgStyle:{},textStyle:{}}},t.viewabilityConfig={viewAreaCoveragePercentThreshold:100},t.isHorizontalScreen=$.a.get("window").width-$.a.get("window").height>0&&$.a.get("window").width>=1024,t.layoutWidth=$.a.get("window").width,t}return h()(i,[{key:"componentDidMount",value:(n=u()(a.a.mark((function e(){var t,n,r,o,i=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.configInfo,n=this.state.loadState,r=(t||{}).more,this.handlePageDataSource(),this.getDrawCardWapStyles(this.layoutWidth),"ios"===X.a.OS&&(this.refreshListener=Z.a.addListener("onRefresh",(function(e){var t,n,r;((null===(t=i.props)||void 0===t?void 0:t.pageType)!==fe.g.activity&&(null===(n=i.props)||void 0===n?void 0:n.pageType)===e||(null===(r=i.props)||void 0===r?void 0:r.activityUUID)===e)&&i.handlePageDataSource()}))),this._isLogin(),4==r&&("web"===X.a.OS?document.addEventListener("scroll",this._onScroll):Z.a.addListener("onScrollEvent",(function(e){e.nativeEvent.contentOffset.y,i._layout(i.layView).then(function(){var e=u()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.pageY&&t.height)){e.next=6;break}if(r="ios"==X.a.OS?i.state.height/3*5:i.state.height/3*4,!(t.pageY+t.height<r)){e.next=6;break}if(3!==n){e.next=5;break}return e.abrupt("return");case 5:i.interTimer=setTimeout((function(){i._getPageInfos()}),300);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))),re.a.addEventListener("change",this.handleAppStateChange),this.backListener="ios"==X.a.OS?Z.a.addListener("NativeCallAction",this.handleIosStateChange):null,Object(K.D)(this.props.styleChange)||(o=Object(K.i)(this.props.styleChange,Object(H.a)(this.layoutWidth)))&&this.setState({headerBoxStyle:o});case 11:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"_layout",value:function(e){var t=Object(oe.a)(e)||0;return new Promise((function(e){ie.a.measure(t,(function(t,n,r,o,i,a){e({x:t,y:n,width:r,height:o,pageX:i,pageY:a})}))}))}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.refreshListener&&this.refreshListener.remove(),this.interTimer&&clearTimeout(this.interTimer),"web"===X.a.OS&&document.removeEventListener("scroll",this._onScroll),re.a.removeEventListener("change",this.handleAppStateChange),"ios"===X.a.OS&&(this.backListener&&this.backListener.remove(),this.refreshListener&&this.refreshListener.remove())}},{key:"handleViewableItemsChanged",value:function(){}},{key:"_isLogin",value:(t=u()(a.a.mark((function e(){var t,n=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.env,!U.a.isApp()){e.next=6;break}this.eventListener=Z.a.addListener("NativeCallAction",(function(e){var t=null==e?void 0:e.param;"login"==(null==e?void 0:e.service)&&"isLogin"==(null==e?void 0:e.action)&&n.setState({isLogin:!(null==t||!t.isLogin)},(function(){n.handlePageDataSource()}))})),Y.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&n.setState({isLogin:!!e.isLogin},(function(){n.handlePageDataSource()}))})),e.next=10;break;case 6:return e.next=8,Object(K.k)();case 8:t=e.sent,this.setState({isLogin:t},(function(){n.handlePageDataSource()}));case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.taskDataArray,r=void 0===n?[]:n,i=t.headerBoxStyle,a={},l=this.props,s=l.configInfo,c=l.styleChange,u=l.pageType,d=s||{},p=d.cardTitle,f=void 0===p?"":p,h=d.more,g=void 0===h?"":h,m=d.rowsPerScreen,y=d.titleShow,v=void 0===y?"":y,b=d.moreTitle,w="2"===g,S=b||Object(z.b)("notice_more"),C="true"===v,O="web"===X.a.OS&&Object(K.E)(this.layoutWidth)||0===D()(r),P=Object(K.l)(s),T="4"===g?56:0,x=84*Math.ceil(D()(r)/this.column)-12+T;return F.a.createElement(V.b,{themeStyles:this.state.DrawCardWapStyles},(function(t,n,l){var s;return e.initLayoutWidth(l),O?null:F.a.createElement(F.a.Fragment,null,F.a.createElement(Ce.a,{style:[null==i?void 0:i.imgStyle,""!=(null==i||null===(s=i.imgStyle)||void 0===s?void 0:s.backgroundColor)&&"2"===g?{paddingBottom:8}:{}],imgUri:null==i?void 0:i.bgImg},F.a.createElement(J.a,{isDisplayTitleBar:C,title:f,moreUrl:P,isDisplayMore:w,subTitle:S,styleChange:c,pageType:u}),F.a.createElement(ee.a,{style:t.taskWrapper},F.a.createElement(ae.a,o()({style:"ios"===X.a.OS?{height:"auto"}:{height:x},ref:function(t){e.layView=t},extraData:e.state,nativeID:"taskActivityOnlyId",data:r,renderItem:function(n){var r=n.item,o=n.index;return e._renderTaskItem({item:r,index:o},t)},numColumns:e.column,key:e.column,onMomentumScrollEnd:e._onScrollMomentEnd,initialNumToRender:m,keyExtractor:function(e,t){return t.toString()+t},showsVerticalScrollIndicator:!1,removeClippedSubviews:!1,onViewableItemsChanged:e.handleViewableItemsChanged},a,{ListFooterComponent:e.renderFooter,scrollEnabled:"ios"!==X.a.OS})))))}))}}]),i}(M.PureComponent);t.a=Object(he.a)(se)(Object(le.a)(xe))},function(e,t,n){"use strict";var r,o,i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(34),C=n.n(S),O=n(0),P=n.n(O),T=n(54),x=n(87),I=n(49),k=n(43),E=n(40),j=n(185),R=n(21),L=n(294),_=n(25),D=n(178),N=n(135),W=n(85),A=n(98),B=n(295),M=n(109),F=n.n(M),H=n(128),z=n(126),U=function(e){return P.a.createElement(z.a,e,e.children)},V=n(37),G=n(270),Y=n(57),J=n(88),K=n(296),q=n(297),Q=n(45),$=n.n(Q),X=n(48),Z=n(660),ee=n(432),te=n(119),ne=n(102),re=n(32),oe=n(3),ie=n(20),ae=n(24);function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var se,ce,ue=T.a.get("window").width,de=Object(re.c)((o=function(e){h()(n,e);var t=le(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"_tabsMeasurements",[]),w()(p()(r),"_tabContainerMeasurements",null),w()(p()(r),"_containerMeasurements",null),w()(p()(r),"_scrollView",null),w()(p()(r),"hasChildren",!1),w()(p()(r),"hasSubTitle",!1),w()(p()(r),"navTop",!1),w()(p()(r),"showLine",!0),w()(p()(r),"listener1",void 0),w()(p()(r),"isIEPlatform",!1),w()(p()(r),"onSetTabTopState",(function(e){r.setState({tabsNavTop:e.navTop})})),w()(p()(r),"updateView",(function(e){var t=Math.floor(e.value),n=e.value%1,o=r.props.tabs.length,i=o-1;0===o||e.value<0||e.value>i||r.necessarilyMeasurementsCompleted(t,t===i)&&(r.updateTabPanel(t,n),r.updateTabUnderline(t,n,o))})),w()(p()(r),"necessarilyMeasurementsCompleted",(function(e,t){return r._tabsMeasurements[e]&&(t||r._tabsMeasurements[e+1])&&r._tabContainerMeasurements&&r._containerMeasurements})),w()(p()(r),"updateTabPanel",(function(e,t){var n=r._containerMeasurements.width,o=r._tabsMeasurements[e].width,i=r._tabsMeasurements[e+1],a=i&&i.width||0,l=r._tabsMeasurements[e].left+t*o;if(l=(l-=(n-(1-t)*o-t*a)/2)>=0?l:0,"android"===V.a.OS)r._scrollView.scrollTo({x:l,y:0,animated:!1});else{var s=r._tabContainerMeasurements.width-r._containerMeasurements.width;l=l>s?s:l,r._scrollView.scrollTo({x:l,y:0,animated:!1})}})),w()(p()(r),"updateTabUnderline",(function(e,t,n){var o=r._tabsMeasurements[e].left,i=r._tabsMeasurements[e].right;if(e<n-1){var a=t*r._tabsMeasurements[e+1].left+(1-t)*o,l=t*r._tabsMeasurements[e+1].right+(1-t)*i;r.state._leftTabUnderline.setValue(a),r.state._widthTabUnderline.setValue(l-a-24)}else r.state._leftTabUnderline.setValue(o),r.state._widthTabUnderline.setValue(i-o-24);r.clickIndex=r.props.activeTab})),w()(p()(r),"laout_list",[]),w()(p()(r),"clickIndex",0),w()(p()(r),"scrollW",0),w()(p()(r),"renderTab",(function(e,t,n,o,i,a,l){var s,c,u,d,p,f,h,g,m,y=r.props,v=y.subTitleShow,b=y.subTitle,w=y.onClick,S=T.a.get("window").width,C=X.a.isPc(S),O=v[t],x=b[t];return C?P.a.createElement(k.a,null,P.a.createElement(Z.a,{key:t},(function(i){var s,c,u,d,p,f;return P.a.createElement(z.a,{onLayout:function(e){r.setLaout(e.nativeEvent.layout,t)},key:"".concat(e,"_").concat(t),accessible:!0,accessibilityLabel:e,style:a.item,onPress:function(){w&&w(t),r.handleMoreTitle(t),o(t),r.clickIndex=t,r.scrollTo(t)}},Object(oe.D)(l)?P.a.createElement(k.a,{style:{maxWidth:1128,maxHeight:32},key:t},P.a.createElement(J.a,{style:[n?a.textActive:i?a.textHover:a.text,null!==(s=r.state.mergeStyle)&&void 0!==s&&s.hasCrossDressing&&null!==(c=r.state.mergeStyle)&&void 0!==c&&c.textStyle.color||null!==(u=r.state.mergeStyle)&&void 0!==u&&u.textStyle.pressedFontColor?{color:n&&null!==(d=r.state.mergeStyle)&&void 0!==d&&d.textStyle.pressedFontColor?null===(p=r.state.mergeStyle)||void 0===p?void 0:p.textStyle.pressedFontColor:null===(f=r.state.mergeStyle)||void 0===f?void 0:f.textStyle.color,opacity:1}:{}]},e)):P.a.createElement(ae.a,{imgStyle:[a.tabsImage,{marginRight:0}],imgUri:l}))}))):P.a.createElement(U,{key:"".concat(e,"_").concat(t),accessible:!0,accessibilityLabel:e,accessibilityTraits:"button",onPress:function(e){r.props.scrollValue.setValue(t),r.clickIndex=t,w&&w(t),o(t)},onLayout:i},Object(oe.D)(l)?P.a.createElement(H.a,{style:[a.tabItem]},P.a.createElement(J.a,{style:[n?a.textAppActive:a.textApp,null!==(s=r.state.mergeStyle)&&void 0!==s&&s.hasCrossDressing&&null!==(c=r.state.mergeStyle)&&void 0!==c&&c.textStyle.color||null!==(u=r.state.mergeStyle)&&void 0!==u&&u.textStyle.pressedFontColor?{opacity:1,color:n&&null!==(d=r.state.mergeStyle)&&void 0!==d&&d.textStyle.pressedFontColor?null===(p=r.state.mergeStyle)||void 0===p?void 0:p.textStyle.pressedFontColor:null===(f=r.state.mergeStyle)||void 0===f?void 0:f.textStyle.color}:{}]},e),!C&&O&&x&&!r.state.tabsNavTop?P.a.createElement(k.a,{key:x+"s",style:[n?a.boxSunActive:a.boxSun]},P.a.createElement(J.a,{style:[n?a.textSunActive:a.textSun,{opacity:n?1:.6},null!==(h=r.state.mergeStyle)&&void 0!==h&&h.hasCrossDressing&&null!==(g=r.state.mergeStyle)&&void 0!==g&&g.textStyle.color?{color:n?"#FFFFFF":null===(m=r.state.mergeStyle)||void 0===m?void 0:m.textStyle.color}:{}]},x)):P.a.createElement(k.a,null)):P.a.createElement(ae.a,{imgStyle:a.tabsImage,imgUri:l,isFromPersonal:l.endsWith(".gif")}))})),w()(p()(r),"measureTab",(function(e,t){var n=t.nativeEvent.layout,o=n.x,i=n.width,a=n.height;r._tabsMeasurements[e]={left:o,right:o+i,width:i,height:a},r.updateView({value:r.props.scrollValue._value})})),w()(p()(r),"handleRef",(function(e){"function"==typeof r.props.onRef&&r.props.onRef&&r.props.onRef(e)})),w()(p()(r),"onTabContainerLayout",(function(e){r._tabContainerMeasurements=e.nativeEvent.layout;var t=r._tabContainerMeasurements.width;e.nativeEvent.layout.width>ue&&r.setState({isShowMask:!r.state.isShowMask,isShowCenter:!1}),t<ue&&(t=ue),r.setState({_containerWidth:t}),r.updateView({value:r.props.scrollValue._value})})),w()(p()(r),"onContainerLayout",(function(e){r._containerMeasurements=e.nativeEvent.layout,r.updateView({value:r.props.scrollValue._value})})),r._tabsMeasurements=[],r.state={_leftTabUnderline:new x.a.Value(0),_widthTabUnderline:new x.a.Value(0),_containerWidth:null,isShowMask:!1,tabsNavTop:!1,moreUrl:"",isDisplayMore:!1,moreTitle:"",mergeStyle:null,isShowCenter:"shop"===r.props.pageType},r.isIEPlatform=navigator.userAgent.toLowerCase().indexOf("trident")>0,r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.styleChange,n=e.pageType;if(this.props.scrollValue.addListener(this.updateView),this.listener1=I.a.addListener("tabViewWeb",this.onSetTabTopState),this.handleMoreTitle(0),t){var r,o,i,a="string"==typeof t?JSON.parse(t):t,l=Object(E.a)(Object(oe.x)(n||"homePage").screenWidth),s=Object(oe.i)(a,l);s._bgColor=t._bgColor||("transparent"===(null===(r=s.imgStyle)||void 0===r?void 0:r.backgroundColor)||null===(o=s.imgStyle)||void 0===o?void 0:o.backgroundColor),s.fontColor=null===(i=s.textStyle)||void 0===i?void 0:i.color,s.hasCrossDressing=!0,this.setState({mergeStyle:s})}}},{key:"componentWillUnmount",value:function(){this.listener1&&this.listener1.remove()}},{key:"setLaout",value:function(e,t){this.laout_list[t]=e}},{key:"scrollTo",value:function(e){for(var t=this,n=T.a.get("window").width>1200?1200:T.a.get("window").width,r=this.laout_list[e],o=0,i=0;i<e;i++)o=o+this.laout_list[i].width+40;this.scrollW=40*(this.laout_list.length-1),this.laout_list.map((function(e){t.scrollW=t.scrollW+e.width}));var a=o-n/2+r.width/2;a<0&&(a=0),a<this.scrollW-n&&this._scrollView.scrollTo({x:a,animated:!0}),a>=this.scrollW-n&&this._scrollView.scrollToEnd({animated:!0})}},{key:"handleMoreTitle",value:function(e){var t=this.props.subTabSet,n=void 0===t?[]:t;if(n&&n[e]&&n[e].cards[0].configInfo){var r=JSON.parse(n[e].cards[0].configInfo);this.setState({moreUrl:Object(oe.l)(r),isDisplayMore:"2"===r.more&&"4"===r.moreUrlType,moreTitle:r.moreTitle?r.moreTitle:Object(ee.b)("common_more")})}}},{key:"clickMore",value:function(){Object(oe.A)(this.state.moreUrl)}},{key:"render",value:function(){var e=this,t={left:this.state._leftTabUnderline,width:this.state._widthTabUnderline},n=this.props,r=n.stickyScrollY,o=n.layoutY,i=T.a.get("window").width,a=X.a.isPc(i),l="medium"===Object(E.a)(i)||"large"===Object(E.a)(i)&&i<te.a.safety_area,s=r.interpolate({inputRange:[0,o,o+1],outputRange:[0,0,1]});return this.props.subTitle.map((function(t){t.length>0&&(e.hasSubTitle=!0)})),P.a.createElement(ne.b,{themeStyles:function(t){return e.hasSubTitle||a?Object(K.a)(t):Object(q.a)(t)}},(function(n,r){var o,i,c,u,d,p,f,h,g,m,y,v,b,w,S,O,T,I,E,j,R,L,_;return P.a.createElement(x.a.View,{style:[{zIndex:10,transform:[{translateY:s}]},a?n.pcBox:n.wapBox,null!==(o=e.state.mergeStyle)&&void 0!==o&&o.hasCrossDressing&&null!==(i=e.state.mergeStyle)&&void 0!==i&&i._bgColor?{backgroundColor:null===(c=e.state.mergeStyle)||void 0===c?void 0:c._bgColor}:e.state.tabsNavTop?a?n.tabsTopPc:n.tabsTop:n.tabsDefault],onLayout:e.onContainerLayout},P.a.createElement(P.a.Fragment,null,P.a.createElement(G.a,{automaticallyAdjustContentInsets:!1,ref:function(t){e._scrollView=t},horizontal:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,directionalLockEnabled:!0,onScroll:e.props.onScroll,bounces:!1,scrollsToTop:!1,contentContainerStyle:e.state.isShowCenter?{flex:1,justifyContent:"center"}:{}},P.a.createElement(k.a,{style:[a?n.webInner:""]},P.a.createElement(k.a,{ref:function(t){e.handleRef(t)},style:[a?e.state.isDisplayMore?n.containerMore:n.container:l?n.containerPad:n.containerApp],onLayout:e.onTabContainerLayout},e.props.tabs.map((function(t,r){var o=e.props.activeTab===r,i=e.props.renderTab||e.renderTab,a=e.props.subTabSet[r].configInfo?JSON.parse(e.props.subTabSet[r].configInfo):{},l=o?a.selectedIcon:a.defaultIcon;return o&&(e.hasChildren=!e.props.subTitle[r]||e.state.tabsNavTop||!e.props.subTitleShow[r],e.showLine=Object(oe.D)(l)),i(t,r,o,e.props.goToPage,e.measureTab.bind(e,r),n,l)})),e.hasChildren&&!a&&e.showLine?P.a.createElement(x.a.View,{style:[n.line,t,{borderBottomColor:null!==(u=e.state.mergeStyle)&&void 0!==u&&u.textStyle.pressedFontColor?null===(d=e.state.mergeStyle)||void 0===d?void 0:d.textStyle.pressedFontColor:"#CF0A2C"}]}):P.a.createElement(P.a.Fragment,null)),e.state.isDisplayMore&&a&&!e.isIEPlatform?P.a.createElement(k.a,{style:n.moreStyle},P.a.createElement(z.a,{onPress:e.clickMore.bind(e,e.state.moreUrl),style:n.moreTitleBox},P.a.createElement(J.a,{style:[n.moreText,null!==(p=e.state.mergeStyle)&&void 0!==p&&p.hasCrossDressing&&null!==(f=e.state.mergeStyle)&&void 0!==f&&f.fontColor?{color:null===(h=e.state.mergeStyle)||void 0===h?void 0:h.fontColor}:{}]},e.state.moreTitle),P.a.createElement(ie.a,{iconName:"Webarrow",width:"12",height:"24",normalCol:C()(null===(g=e.state.mergeStyle)||void 0===g?void 0:g.fontColor)?r.C24.color+r.opacityMap[r.C24.opacity]:null===(m=e.state.mergeStyle)||void 0===m?void 0:m.fontColor}))):null),e.state.isDisplayMore&&a&&e.isIEPlatform?P.a.createElement(k.a,{style:n.moreStyle},P.a.createElement(z.a,{onPress:e.clickMore.bind(e,e.state.moreUrl),style:n.moreTitleBox},P.a.createElement(J.a,{style:[n.moreText,null!==(y=e.state.mergeStyle)&&void 0!==y&&y.hasCrossDressing&&null!==(v=e.state.mergeStyle)&&void 0!==v&&v.fontColor?{color:null===(b=e.state.mergeStyle)||void 0===b?void 0:b.fontColor}:{}]},e.state.moreTitle),P.a.createElement(ie.a,{iconName:"Webarrow",width:"12",height:"24",normalCol:C()(null===(w=e.state.mergeStyle)||void 0===w?void 0:w.fontColor)?r.C24.color+r.opacityMap[r.C24.opacity]:null===(S=e.state.mergeStyle)||void 0===S?void 0:S.fontColor}))):null),e.state.isShowMask?e.state.tabsNavTop?P.a.createElement(k.a,{key:3,style:n.maskWhite},P.a.createElement($.a,{start:{x:0,y:0},end:{x:1,y:0},colors:null!==(O=e.state.mergeStyle)&&void 0!==O&&O.hasCrossDressing&&null!==(T=e.state.mergeStyle)&&void 0!==T&&T._bgColor?[Object(oe.f)(null===(I=e.state.mergeStyle)||void 0===I?void 0:I._bgColor.toUpperCase(),0),Object(oe.f)(null===(E=e.state.mergeStyle)||void 0===E?void 0:E._bgColor.toUpperCase(),1)]:[Object(oe.f)(r.C32.color,0),Object(oe.f)(r.C32.color,1)],style:{height:"100%"}},P.a.createElement(J.a,null," "))):P.a.createElement(k.a,{style:n.maskGray},P.a.createElement($.a,{start:{x:0,y:0},end:{x:1,y:0},colors:null!==(j=e.state.mergeStyle)&&void 0!==j&&j.hasCrossDressing&&null!==(R=e.state.mergeStyle)&&void 0!==R&&R._bgColor?[Object(oe.f)(null===(L=e.state.mergeStyle)||void 0===L?void 0:L._bgColor.toUpperCase(),0),Object(oe.f)(null===(_=e.state.mergeStyle)||void 0===_?void 0:_._bgColor.toUpperCase(),1)]:[Object(oe.f)(r.C32.color,0),Object(oe.f)(r.C32.color,1)],style:{height:"100%"}},P.a.createElement(J.a,null," "))):P.a.createElement(k.a,{key:3})))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!F()(this.props.tabs,e.tabs)&&this.state._containerWidth&&this.setState({_containerWidth:null})}}]),n}(O.Component),w()(o,"defaultProps",{scrollOffset:52,activeTextColor:"navy",inactiveTextColor:"black",backgroundColor:"#fff",style:{},tabStyle:{},tabsContainerStyle:{},underlineStyle:{},tabFontSize:15}),r=o))||r,pe=(Y.a.create({tab:{height:49,alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20},container:{height:50,borderWidth:1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderColor:"#ccc"},tabs:{flexDirection:"row",justifyContent:"space-around"}}),n(94)),fe=n(232),he=n(255),ge=n(16),me=n(200);function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ve=T.a.get("window"),be=Object(re.c)((ce=function(e){h()(n,e);var t=ye(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"layoutFlag",!1),w()(p()(r),"LrState",void 0),w()(p()(r),"tabBox",!1),w()(p()(r),"tabViewWrapper",[]),w()(p()(r),"stopFlag",!1),w()(p()(r),"isHomepage",!0),w()(p()(r),"hasWaterfall",!1),w()(p()(r),"timer1",void 0),w()(p()(r),"dataList",Object(ge.n)(he.a.dataList,{exportMapsAsObjects:!1})),w()(p()(r),"subTabStyleChange",void 0),w()(p()(r),"fontSubTabStyleChange",void 0),w()(p()(r),"crossDressStyle",null),w()(p()(r),"getCrossDress",(function(){var e=r.props,t=e.styleChange,n=e.pageType;if(t){var o,i,a,l="string"==typeof t?JSON.parse(t):t,s=Object(E.a)(Object(oe.x)(n||"homePage").screenWidth);r.crossDressStyle=Object(oe.i)(l,s),r.crossDressStyle._bgColor=t._bgColor||("transparent"===(null===(o=r.crossDressStyle.imgStyle)||void 0===o?void 0:o.backgroundColor)||null===(i=r.crossDressStyle.imgStyle)||void 0===i?void 0:i.backgroundColor),r.crossDressStyle.fontColor=null===(a=r.crossDressStyle.textStyle)||void 0===a?void 0:a.color,r.crossDressStyle.hasCrossDressing=!0}})),w()(p()(r),"itemlist",[]),w()(p()(r),"exposeItemRef",(function(e){r.itemlist=[],e&&r.itemlist.push(e)})),r._onLayout=r._onLayout.bind(p()(r)),r.state={currentPage:0,scrollY:new x.a.Value(0),layoutY:0,tabViewStyle:{zIndex:3,position:"relative"}},r.subTabStyleChange=e.styleChange?JSON.parse(e.styleChange):{},r.fontSubTabStyleChange=e.styleChange?JSON.parse(e.styleChange):{},C()(r.fontSubTabStyleChange)||(r.fontSubTabStyleChange._bgColor="1"===r.fontSubTabStyleChange.bgFill&&r.fontSubTabStyleChange.bgColor||"",r.fontSubTabStyleChange.bgFill="0",r.fontSubTabStyleChange.bgColor=""),r}return u()(n,[{key:"_handleTabHeight",value:function(e){try{if(!this.stopFlag){var t=e.i>e.from;this.props.slideItem(e,e.i,0,t)}}catch(e){}}},{key:"onPressHandler",value:function(e,t){var n=this;this.props.clickItem(e,t),this.stopFlag=!0,this.timer1&&clearTimeout(this.timer1),this.timer1=setTimeout((function(){n.stopFlag=!1}),1e3),I.a.emit("tabSwitch",t)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.timer1&&clearTimeout(this.timer1)}},{key:"_onLayout",value:function(e){var t=this.props.hasTitle,n=!(e.nativeEvent.layout.y>10);pe.a.setLayoutY(n?e.nativeEvent.layout.y:e.nativeEvent.layout.y-(t?58:0)),pe.a.setLayoutFlag(!0)}},{key:"_getPages",value:function(){var e=this,t="large"===Object(E.a)(this.props.width),n=this.props,r=n.subTabSet,o=n.styleChange,i=n.pageType,l=n.pageId,s=n.pageCatCode,c=n.pageCatName,u=n.isPageStyleChange,d="true"===this.props.isFixed,p="true"===this.props.subTitleShow,f={cards:[],pageCatCode:s,pageCatName:c};return r?r.map((function(n,s){var c,h,g;return f.cards=r[s].cards,f.cards.map((function(t){var n=t.configInfo?JSON.parse(t.configInfo):{};"StaggeredLayout"!==(null==n?void 0:n.layoutType)&&"KcalFlow"!==(null==n?void 0:n.layoutType)||(e.hasWaterfall=!0),Object(me.b)(t,o,e.fontSubTabStyleChange,u),t.withTabs=!0,t.tabIndex=s.toString()})),n.subTitle=n.subTitle?n.subTitle:"",P.a.createElement(N.a,{heading:n.tabName,onEndReachedEnable:!1,tabs:n.tabName,subTitleLabel:n.subTitle,topFixed:d,subTitleShow:p,key:s},"page"===n.cards[0].cardType?P.a.createElement(fe.a,{pageId:JSON.parse(n.cards[0].configInfo).relatedPageId,pageType:"subTabSetPage",parentPageType:i,parentPageId:l}):P.a.createElement(k.a,{ref:function(t){e.tabViewWrapper.push(t)},style:null!==(c=e.crossDressStyle)&&void 0!==c&&c.hasCrossDressing&&null!==(h=e.crossDressStyle)&&void 0!==h&&h._bgColor?{backgroundColor:u?"transparent":null===(g=e.crossDressStyle)||void 0===g?void 0:g._bgColor,minHeight:t?e.hasWaterfall?ve.height+500:624:ve.height}:{}},P.a.createElement(A.a,a()({},Object(W.a)(f,i,0,!1,{},l),{mapComponents:B.a}))))})):P.a.createElement(k.a,null)}},{key:"render",value:function(){var e,t,n,r,o,i=this;this.getCrossDress();var l,s=this.props,c=s.cardName,u=s.tabname,d=s.tabindex,p=s.subTabSet,f=s.pageId,h=s.styleChange,g=s.pageType,m=s.isPageStyleChange,y=p.length,v="large"===Object(E.a)(this.props.width),b=(null===(e=this.dataList)||void 0===e||null===(t=e.get(f)[0])||void 0===t||t.subTabSetCount,null===(n=this.dataList)||void 0===n||null===(r=n.get(f)[0])||void 0===r?void 0:r.subTabSetIsFirst),w="homePage"===g;return l=d>=y?0:c==u&&null!=d?d:0,P.a.createElement(k.a,{onLayout:this._onLayout,style:[this.state.tabViewStyle,b?null:{marginTop:null!==(o=this.crossDressStyle)&&void 0!==o&&o.hasCrossDressing&&!m?v?-24:w?-8:-12:0}]},P.a.createElement(D.a,a()({onChangeTab:function(e){i._handleTabHeight(e)}},this.props,{style:{minHeight:v?this.hasWaterfall?ve.height+500:688:ve.height},isHomepage:this.isHomepage,prerenderingSiblingsNumber:2,subTabSetIsFirst:null!=b&&b,scrollWithoutAnimation:!0,renderTabBar:function(e){return P.a.createElement(de,a()({onRef:i.exposeItemRef,onClick:function(t){i.onPressHandler(e,t)}},e,{pageType:g,styleChange:h,subTabSet:p,stickyScrollY:i.state.scrollY,layoutY:i.state.layoutY}))},locked:!0,initialPage:l}),this._getPages()))}}]),n}(P.a.PureComponent),w()(ce,"defaultProps",{}),se=ce))||se;t.a=Object(j.a)(Object(R.a)(L.a)(Object(_.a)(be)))},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(37),P=n(145),T=n(54),x=n(49),I=n(43),k=n(126),E=n(152),j=n(57),R=n(122);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=n(3),N=n(21),W=function(e){switch(e){case 1:return"昵称";case 2:return"头像";case 3:return"等级";case 4:return"会员规则";default:return""}},A={exposeItem:function(e){var t=this.props,n=t.cardId,r=t.pageId,o=t.pageCatCode,i=t.pageCatName,a=t.resSiteCode,l=t.resSiteName;return{isBatch:!0,commonData:{actionCode:"web"===O.a.OS?"210000101":"110000101",actionName:"会员信息组件",eventType:"7",pageId:null==r?void 0:r.toString(),pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l},content:[{comId:null==n?void 0:n.toString()}]}},clickItem:function(e,t){var n=this.props,r=n.cardId,o=n.pageId,i=n.pageCatCode,a=n.pageCatName,l=n.resSiteCode,s=n.resSiteName;return{data:{actionCode:"web"===O.a.OS?"210000101":"110000101",actionName:"点击会员信息上报",eventType:"2",pageId:null==o?void 0:o.toString(),content:{comId:null==r?void 0:r.toString(),gotoURL:t,index:null==e?void 0:e.toString(),indexName:W(e)},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}}}},B=n(25),M=n(20),F=n(40),H=n(183),z=n(102),U=n(185),V=n(23),G=n(50),Y=n(45),J=n.n(Y),K=n(19),q=n(11),Q=n(22),$=n(24);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Z=function(e){h()(r,e);var t,n=X(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"eventListener",null),w()(p()(t),"itemlist",[]),w()(p()(t),"linkFinished",void 0),w()(p()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"android"===O.a.OS?P.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(D.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(D.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(D.x)(t.props.pageType||"homePage").screenHeight)}))})),w()(p()(t),"isApp",(function(){return"small"===t.getSize()})),w()(p()(t),"initWidth",function(){var e=a()(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.width==n){e.next=6;break}return e.next=3,t.getScreenHeight();case 3:r=+e.sent,t.setState({width:n,height:r}),"web"!==O.a.OS&&(Object(D.D)(t.props.styleChange)||t.setState({crossDressingStyle:Object(D.i)(t.props.styleChange,Object(F.a)(n))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w()(p()(t),"_queryUserInfo",(function(){Object(V.y)(Object(D.o)(t.state.width)).then((function(e){var n,r,o,i,a;t.setState({avaImg:null==e||null===(n=e.userInfo)||void 0===n?void 0:n.custHeaderImg,userName:null==e||null===(r=e.userInfo)||void 0===r?void 0:r.nickName,userLevel:null==e||null===(o=e.userInfo)||void 0===o?void 0:o.custGrad,experience:null==e||null===(i=e.userInfo)||void 0===i?void 0:i.experience,nextExperience:t.handleExp(null==e||null===(a=e.userInfo)||void 0===a?void 0:a.experience)})}))})),w()(p()(t),"_isLogin",a()(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==O.a.OS){e.next=8;break}return e.next=3,Object(D.k)();case 3:n=e.sent,t.setState({isLogin:n}),n&&t._queryUserInfo(),e.next=9;break;case 8:H.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&(t.setState({isLogin:!!e.isLogin}),e.isLogin&&t._queryUserInfo())}));case 9:case"end":return e.stop()}}),e)})))),w()(p()(t),"handleExp",(function(e){return e>=0&&e<100?100:e>=100&&e<1e3?1e3:e>=1e3&&e<5e3?5e3:e>=5e3&&e<2e4?2e4:5e4})),w()(p()(t),"receiveRef",(function(e){t.itemlist=[],e&&t.itemlist.push(e)})),w()(p()(t),"getSize",(function(){return Object(F.a)(t.state.width)})),w()(p()(t),"isPadPc",(function(){return"medium"===t.getSize()&&t.isPadHorizonta()})),w()(p()(t),"isPad",(function(){return"medium"===t.getSize()})),w()(p()(t),"isPc",(function(){return"large"===t.getSize()})),w()(p()(t),"isPadHorizonta",(function(){return("web"===O.a.OS?T.a.get("window").width:t.state.width)>=("web"===O.a.OS?T.a.get("window").height:t.state.height)})),w()(p()(t),"userInfoClick",(function(e){if(3==e)return t.props.clickItem&&(t.props.clickItem(e,""),Object(Q.b)("",!0)),!1;if(t.state.isLogin)return t.props.clickItem&&(t.props.clickItem(e,""),Object(Q.b)("",!0)),!1;if("web"===O.a.OS)t.loginWeb(e);else{var n="vmall://com.vmall.client/home/login";Object(D.A)(n),t.props.clickItem&&(t.props.clickItem(e,n),Object(Q.b)("",!0))}})),w()(p()(t),"goRule",(function(){var e="web"===O.a.OS?"".concat(q.a.wapDomain,"member/point"):"".concat(q.a.appServerUrlDomain,"member/point");if(t.props.clickItem&&(t.props.clickItem(4,e),Object(Q.b)("",!0)),t.state.isLogin)Object(D.A)(e);else if("web"===O.a.OS){var n="".concat(q.a.wapDomain,"account/applogin?url=").concat(e);Object(D.A)(n)}else{Object(D.A)("vmall://com.vmall.client/home/login"),t.eventListener=x.a.addListener("NativeCallAction",(function(n){var r,o,i,a;"login"==(null==n?void 0:n.service)&&"isLogin"==(null==n?void 0:n.action)&&("boolean"==typeof(null==n||null===(r=n.param)||void 0===r?void 0:r.isLogin)&&1==(null==n||null===(o=n.param)||void 0===o?void 0:o.isLogin)&&1==t.linkFinished&&((null==n||null===(i=n.param)||void 0===i?void 0:i.isLogin)&&t._queryUserInfo(),t.setState({isLogin:null==n||null===(a=n.param)||void 0===a?void 0:a.isLogin},(function(){t.linkFinished=!1,Object(D.A)(e)}))))}))}})),t.state={width:Object(D.x)(t.props.pageType||"activity").screenWidth,height:Object(D.x)(t.props.pageType||"activity").screenHeight,avaImg:"",isLogin:!1,userName:"",userLevel:"",experience:0,nextExperience:0,crossDressingStyle:""},t.linkFinished=!0,t}return u()(r,[{key:"componentDidMount",value:(t=a()(o.a.mark((function e(){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isLogin(),"web"===O.a.OS){e.next=9;break}return e.t0=this,e.next=5,this.getScreenHeight();case 5:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2),this.eventListener=x.a.addListener("NativeCallAction",(function(e){var t;"boolean"==typeof(null==e||null===(t=e.param)||void 0===t?void 0:t.isLogin)&&"isLogin"==e.action&&(n.setState({isLogin:!!e.param.isLogin}),e.param.isLogin?n._queryUserInfo():n.setState({avaImg:"",userName:""}))}));case 9:t=this.props.styleChange,Object(D.D)(t)||this.setState({crossDressingStyle:Object(D.i)(t,Object(F.a)(this.state.width))});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"loginWeb",value:function(e){var t=window.location.href,n="".concat(q.a.wapDomain,"account/applogin?url=").concat(t);this.props.clickItem&&(this.props.clickItem(e,n),Object(Q.b)("",!0)),Object(D.A)(n)}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove()}},{key:"render",value:function(){var e,t,n=this,r=this.state,o=r.isLogin,i=r.userName,a=r.userLevel,l=this.props.bgColor,s=this.state.crossDressingStyle,c=null!=s&&null!==(e=s.imgStyle)&&void 0!==e&&e.backgroundColor?null==s||null===(t=s.imgStyle)||void 0===t?void 0:t.backgroundColor:l||"",u=Number(this.state.nextExperience-this.state.experience);return this.isPc()?null:C.a.createElement(z.b,{themeStyles:function(e){return function(e,t,n){var r,o,i={};((t||n)&&(e=R.a),null!=t&&null!==(r=t.textStyle)&&void 0!==r&&r.color)&&(i.color=null===(o=t.textStyle)||void 0===o?void 0:o.color);return j.a.create({viewApp:{marginHorizontal:16,borderRadius:16},viewPad:{marginHorizontal:24},container:{flex:1,borderRadius:16,overflow:"hidden"},wrap:{flex:1,flexDirection:"row",height:120,alignItems:"center",paddingLeft:16,paddingRight:12},leftWrap:{width:48,height:"100%",paddingTop:24,paddingBottom:26,backgroundColor:"transparent"},rightWrap:{width:44,height:"100%",flexDirection:"row",paddingTop:20},centerWrap:{flex:1,height:"100%",marginLeft:16,marginRight:12,paddingTop:20},avaImg:{width:48,height:48,marginBottom:6,borderRadius:24},memeberLever:{height:16,lineHeight:16,backgroundColor:e.C84.color+"99",borderRadius:8},memeberLeverTetx:_(_(_({textAlign:"center"},e.C11),e.T1),{},{height:16,lineHeight:16},i),userName:_(_(_({height:21,lineHeight:21},e.C11),e.T10),{},{marginBottom:5},i),experienceWrap:{flexDirection:"row",marginBottom:8},experience:_(_(_({},e.C14),e.T1),{},{height:19,lineHeight:19,marginRight:4},i),curExperience:_(_(_({},e.C11),e.T8),{},{height:19,lineHeight:19},i),progressBar:_(_({height:4},e.S13),{},{borderRadius:2.5,marginBottom:6,position:"relative"}),barText:{height:4,position:"absolute",left:0,top:0,width:40,borderRadius:2.5},nextLever:_(_(_({},e.C13),e.T3),{},{height:16,lineHeight:16},i),rules:_(_(_({},e.C13),e.T3),{},{height:16,lineHeight:16,marginRight:4},i)})}(e,s,n.props.styleChange)}},(function(e,t,r){var l,d,p,f,h,g,m,y,v,b,w;return n.initWidth(r),(s||null!==(l=n.props.styleChange)&&void 0!==l&&l.isGroupStyleChange)&&(t=R.a),C.a.createElement(G.a,{style:[n.isApp()?e.viewApp:e.viewPad,e.container],imgViewStyle:{backgroundColor:c},imgUri:null==s?void 0:s.bgImg,resizeMode:"stretch"},C.a.createElement(J.a,{start:{x:0,y:0},end:{x:1,y:0},colors:c||null!=s&&s.bgImg||null!==(d=n.props.styleChange)&&void 0!==d&&d.isGroupStyleChange&&(null===(p=n.props.styleChange)||void 0===p||!p.isOnlyFontStyleChange)?["rgba(0, 0, 0, 0)","rgba(0, 0, 0, 0)"]:[t.J6[0],t.J6[1]],style:e.wrap},C.a.createElement(I.a,{ref:function(e){return n.receiveRef(e)},style:e.leftWrap},C.a.createElement(k.a,{onPress:function(){n.userInfoClick(2)},activeOpacity:1},C.a.createElement($.a,{imgStyle:e.avaImg,localSource:null!==(f=n.state)&&void 0!==f&&f.avaImg?{uri:null===(h=n.state)||void 0===h?void 0:h.avaImg}:K.a.ic_avatar,isUser:!0})),C.a.createElement(I.a,{style:e.memeberLever},C.a.createElement(E.a,{onPress:function(){n.userInfoClick(3)},style:e.memeberLeverTetx},o?"V".concat(a):"--","会员"))),C.a.createElement(I.a,{style:e.centerWrap},o?C.a.createElement(E.a,{onPress:function(){n.userInfoClick(1)},style:e.userName},i):C.a.createElement(I.a,{style:{flexDirection:"row"}},C.a.createElement(E.a,{onPress:function(){n.userInfoClick(1)},style:[e.userName,{marginRight:2}]},"登录/注册"),C.a.createElement(M.a,{normalCol:null!==(g=s.textStyle)&&void 0!==g&&g.color?null===(m=s.textStyle)||void 0===m?void 0:m.color:t.C13.color,opacity:t.C13.opacity,iconName:"ic24-more",width:10,height:20,viewBox:"-300 0 1024 1024"})),C.a.createElement(I.a,{style:e.experienceWrap},C.a.createElement(E.a,{style:e.experience},"当前经验值"),o?C.a.createElement(C.a.Fragment,null,C.a.createElement(E.a,{style:e.curExperience},n.state.experience," "),C.a.createElement(E.a,{style:e.experience},"/ ",n.state.nextExperience)):C.a.createElement(E.a,{style:e.curExperience},"--")),C.a.createElement(I.a,{style:[e.progressBar,null!==(y=s.textStyle)&&void 0!==y&&y.color?{backgroundColor:(null===(v=s.textStyle)||void 0===v?void 0:v.color)+"0D"}:{}]},C.a.createElement(J.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:[e.barText,{width:o?u>0?"".concat(n.state.experience/n.state.nextExperience*100,"%"):"100%":0}]})),u?C.a.createElement(E.a,{style:e.nextLever},o?u<=0?"已达到V5等级":"距离下一等级还差".concat(u):"--"):null),C.a.createElement(I.a,{style:e.rightWrap},C.a.createElement(E.a,{onPress:n.goRule,style:e.rules},"规则"),C.a.createElement(k.a,{activeOpacity:1,onPress:n.goRule},C.a.createElement(M.a,{normalCol:null!==(b=s.textStyle)&&void 0!==b&&b.color?null===(w=s.textStyle)||void 0===w?void 0:w.color:t.C13.color,opacity:t.C13.opacity,iconName:"ic_public_detail",width:16,height:16})))))}))}}]),r}(S.Component);t.a=Object(U.a)(Object(N.a)(A)(Object(B.a)(Z)))},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(37),P=n(145),T=n(54),x=n(49),I=n(43),k=n(126),E=n(152),j=n(57),R=n(122);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=n(3),N=n(21),W=function(e){switch(e){case 1:return"积分规则";case 2:return"积分";case 3:return"积分过期提醒";default:return""}},A={exposeItem:function(e){var t=this.props,n=t.cardId,r=t.pageId,o=t.pageCatCode,i=t.pageCatName,a=t.resSiteCode,l=t.resSiteName;return{isBatch:!0,commonData:{actionCode:"web"===O.a.OS?"210000101":"110000101",actionName:"积分信息组件",eventType:"7",pageId:null==r?void 0:r.toString(),pageCatCode:o,pageCatName:i,resSiteCode:a,resSiteName:l},content:[{comId:null==n?void 0:n.toString()}]}},clickItem:function(e,t){var n=this.props,r=n.cardId,o=n.pageId,i=n.pageCatCode,a=n.pageCatName,l=n.resSiteCode,s=n.resSiteName;return{data:{actionCode:"web"===O.a.OS?"210000101":"110000101",actionName:"点击积分信息上报",eventType:"2",pageId:null==o?void 0:o.toString(),content:{comId:null==r?void 0:r.toString(),gotoURL:t,index:null==e?void 0:e.toString(),indexName:W(e)},pageCatCode:i,pageCatName:a,resSiteCode:l,resSiteName:s}}}},B=n(25),M=n(20),F=n(40),H=n(183),z=n(102),U=n(185),V=n(23),G=n(50),Y=n(19),J=n(11),K=n(22),q=n(24);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var $=function(e){h()(r,e);var t,n=Q(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"eventListener",null),w()(p()(t),"itemlist",[]),w()(p()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"android"==O.a.OS?P.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(D.x)(t.props.pageType||"homePage").screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(D.x)(t.props.pageType||"homePage").screenHeight)})):e(Object(D.x)(t.props.pageType||"homePage").screenHeight)}))})),w()(p()(t),"isApp",(function(){return"small"===t.getSize()})),w()(p()(t),"initWidth",function(){var e=a()(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.width==n){e.next=6;break}return e.next=3,t.getScreenHeight();case 3:r=+e.sent,t.setState({width:n,height:r}),"web"!==O.a.OS&&(Object(D.D)(t.props.styleChange)||t.setState({crossDressingStyle:Object(D.i)(t.props.styleChange,Object(F.a)(n))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w()(p()(t),"_queryPointDetail",(function(){Object(V.z)(Object(D.o)(t.state.width)).then((function(e){t.setState({lastExpireTime:e.lastExpireTime,pointBlance:e.pointBlance,lastExpirePointValue:e.lastExpirePointValue})}))})),w()(p()(t),"_isLogin",a()(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==O.a.OS){e.next=8;break}return e.next=3,Object(D.k)();case 3:n=e.sent,t.setState({isLogin:n}),n&&t._queryPointDetail(),e.next=9;break;case 8:H.a.invokeVmallNative("common","getIsLogin",{}).then((function(e){e&&(t.setState({isLogin:!!e.isLogin}),e.isLogin&&t._queryPointDetail())}));case 9:case"end":return e.stop()}}),e)})))),w()(p()(t),"receiveRef",(function(e){t.itemlist=[],e&&t.itemlist.push(e)})),w()(p()(t),"getSize",(function(){return Object(F.a)(t.state.width)})),w()(p()(t),"isPadPc",(function(){return"medium"===t.getSize()&&t.isPadHorizonta()})),w()(p()(t),"isPad",(function(){return"medium"===t.getSize()})),w()(p()(t),"isPc",(function(){return"large"===t.getSize()})),w()(p()(t),"isPadHorizonta",(function(){return("web"===O.a.OS?T.a.get("window").width:t.state.width)>=("web"===O.a.OS?T.a.get("window").height:t.state.height)})),w()(p()(t),"userInfoClick",(function(e){if(t.state.isLogin)if(2==e){var n="web"===O.a.OS?"".concat(J.a.wapDomain,"member/score/detail"):"vmall://com.vmall.client/mine/point";t.props.clickItem(e,n),Object(K.b)("",!0),Object(D.A)(n)}else t.props.clickItem(e,""),Object(K.b)("",!0);else if("web"===O.a.OS)t.loginWeb(e);else{var r="vmall://com.vmall.client/home/login";Object(D.A)(r),t.props.clickItem&&(t.props.clickItem(e,r),Object(K.b)("",!0))}})),w()(p()(t),"goRule",(function(){var e="web"==O.a.OS?"".concat(J.a.jifengz):"".concat(J.a.asalePath,"/jifengz.html");t.props.clickItem&&(t.props.clickItem(1,e),Object(K.b)("",!0)),Object(D.A)(e)})),t.state={width:Object(D.x)(t.props.pageType||"activity").screenWidth,height:Object(D.x)(t.props.pageType||"activity").screenHeight,lastExpirePointValue:0,lastExpireTime:"",pointBlance:"--",isLogin:!1,crossDressingStyle:""},t}return u()(r,[{key:"componentDidMount",value:(t=a()(o.a.mark((function e(){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isLogin(),"web"===O.a.OS){e.next=9;break}return e.t0=this,e.next=5,this.getScreenHeight();case 5:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2),this.eventListener=x.a.addListener("NativeCallAction",(function(e){var t;"boolean"==typeof(null==e||null===(t=e.param)||void 0===t?void 0:t.isLogin)&&"isLogin"==e.action&&(n.setState({isLogin:!!e.param.isLogin}),e.param.isLogin&&n._queryPointDetail())}));case 9:t=this.props.styleChange,Object(D.D)(t)||this.setState({crossDressingStyle:Object(D.i)(t,Object(F.a)(this.state.width))});case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"loginWeb",value:function(e){var t=window.location.href,n="".concat(J.a.wapDomain,"account/applogin?url=").concat(t);this.props.clickItem&&(this.props.clickItem(e,n),Object(K.b)("",!0)),Object(D.A)(n)}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove()}},{key:"render",value:function(){var e,t,n=this,r=this.state,o=r.isLogin,i=r.crossDressingStyle,a=null!=i&&null!==(e=i.imgStyle)&&void 0!==e&&e.backgroundColor?null==i||null===(t=i.imgStyle)||void 0===t?void 0:t.backgroundColor:"";return this.isPc()?null:C.a.createElement(z.b,{themeStyles:function(e){return function(e,t,n){var r,o,i={};((t||n)&&(e=R.a),null!=t&&null!==(r=t.textStyle)&&void 0!==r&&r.color)&&(i.color=null===(o=t.textStyle)||void 0===o?void 0:o.color);return j.a.create({container:{flex:1,paddingBottom:12},lineOne:{height:40,marginVertical:8,flexDirection:"row",backgroundColor:"transparent"},viewApp:{marginHorizontal:16},viewPad:{marginHorizontal:24},rules:_(_(_({},e.C13),e.T3),{},{marginRight:4},i),pointsWrap:{width:45,height:45,padding:5,paddingTop:0},points:{height:"100%",width:"100%"},lineTwo:_(_({height:32,borderRadius:8},e.S31),{},{paddingLeft:12}),lineTwoText:_(_(_({},e.T5),e.C12),{},{lineHeight:32},i),noLoginLineTwo:{flexDirection:"row",paddingRight:12,alignItems:"center",justifyContent:"space-between"},textWrap:{height:40,flex:1,marginLeft:3,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},pointNum:_(_(_({height:40},e.T14),e.C11),{},{lineHeight:40},i),rulesWrap:{flexDirection:"row"},pointIcon:_(_(_({height:40},e.T7),e.C12),{},{lineHeight:40,marginRight:2,marginLeft:5},i),pointWraP:{flexDirection:"row",alignItems:"center"},loginWrap:{flexDirection:"row"},noLoginText:_(_(_({},e.T5),e.C12),i),loginText:_(_({},e.T5),{},{color:"#CF0A2C"},i)})}(e,i,n.props.styleChange)}},(function(e,t,r){var l,s,c,u,d,p,f;return n.initWidth(r),(i||null!==(l=n.props.styleChange)&&void 0!==l&&l.isGroupStyleChange)&&(t=R.a),C.a.createElement(G.a,{style:[e.container],imgViewStyle:{backgroundColor:a},imgUri:null==i?void 0:i.bgImg,resizeMode:"stretch"},C.a.createElement(I.a,{ref:function(e){return n.receiveRef(e)},style:[e.lineOne,n.isApp()?e.viewApp:e.viewPad]},C.a.createElement(I.a,{style:e.pointsWrap},C.a.createElement(q.a,{localSource:Y.a.ic_integral,imgStyle:e.points})),C.a.createElement(I.a,{style:e.textWrap},C.a.createElement(k.a,{activeOpacity:1,onPress:function(){n.userInfoClick(2)},style:e.pointWraP},C.a.createElement(E.a,{style:e.pointNum},o?n.state.pointBlance:"--"),C.a.createElement(E.a,{style:e.pointIcon},"积分"),C.a.createElement(M.a,{normalCol:null!==(s=i.textStyle)&&void 0!==s&&s.color?null===(c=i.textStyle)||void 0===c?void 0:c.color:t.C22.color,opacity:t.C22.opacity,iconName:"ic24-more",width:10,height:20,viewBox:"-300 0 1024 1024"})),C.a.createElement(I.a,{style:e.rulesWrap},C.a.createElement(E.a,{onPress:n.goRule,style:e.rules},"规则"),C.a.createElement(k.a,{onPress:n.goRule,activeOpacity:1},C.a.createElement(M.a,{normalCol:null!==(u=i.textStyle)&&void 0!==u&&u.color?null===(d=i.textStyle)||void 0===d?void 0:d.color:t.C23.color,opacity:t.C23.opacity,iconName:"ic_public_detail",width:16,height:16}))))),o?C.a.createElement(I.a,{style:[e.lineTwo,n.isApp()?e.viewApp:e.viewPad]},C.a.createElement(E.a,{style:e.lineTwoText,onPress:function(){n.userInfoClick(3)}},n.state.lastExpirePointValue,"积分即将于",n.state.lastExpireTime,"过期,去花掉别浪费哦")):C.a.createElement(k.a,{activeOpacity:1,onPress:function(){n.userInfoClick(3)},style:[e.lineTwo,e.noLoginLineTwo,n.isApp()?e.viewApp:e.viewPad]},C.a.createElement(I.a,{style:e.loginWrap},C.a.createElement(E.a,{style:e.noLoginText},"您尚未登录,"),C.a.createElement(E.a,{style:e.loginText},"登录"),C.a.createElement(E.a,{style:e.noLoginText},"后可查看与使用积分")),C.a.createElement(M.a,{normalCol:null!==(p=i.textStyle)&&void 0!==p&&p.color?null===(f=i.textStyle)||void 0===f?void 0:f.color:t.C22.color,opacity:t.C22.opacity,iconName:"ic24-more",width:10,height:20,viewBox:"-300 0 1024 1024"})))}))}}]),r}(S.Component);t.a=Object(U.a)(Object(N.a)(A)(Object(B.a)($)))},function(e,t,n){"use strict";var r,o,i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(76),P=n(417),T=n(37),x=n(57),I=n(43),k=n(54),E=n(152),j=n(126),R=n(49),L=n(431),_=n(198),D=n(232),N=n(437),W=I.a,A=n(48),B=n(102),M=n(24),F=n(175),H=n(120),z=n(10),U=n(11),V=n(50),G=n(3),Y=n(33),J=n(40),K=n(137),q=n(455),Q=n.n(q),$=n(456),X=n.n($),Z=n(457),ee=n.n(Z),te=n(458),ne=n.n(te),re=n(27),oe=n.n(re),ie=n(18),ae=n.n(ie),le=(n(60),n(16)),se=new(r=function(){function e(){s()(this,e),oe()(this,"lastTime",o,this)}return u()(e,[{key:"updateTime",value:function(e){this.lastTime=e}}]),e}(),o=ae()(r.prototype,"lastTime",[le.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae()(r.prototype,"updateTime",[le.d],Object.getOwnPropertyDescriptor(r.prototype,"updateTime"),r.prototype),r),ce=n(149),ue=n(142);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var he=A.a.isApp()?null:n(585).default,ge=n(552).default;"web"===T.a.OS&&(P.BottomTabView.prototype.render=function(){var e=this.props,t=e.state,n=e.descriptors,r=e.navigation,o=e.lazy,i=e.detachInactiveScreens,a=void 0===i||i,l=e.sceneContainerStyle,s=t.routes,c=this.state,u=c.loaded,d=c.tabBarHeight,p=(null===K.screensEnabled||void 0===K.screensEnabled?void 0:Object(K.screensEnabled)())&&a,f=x.a.create({container:{flex:1},content:{flex:1}});function h(e){var t=e.isFocused,n=e.children,r=e.style;return C.a.createElement(I.a,{accessibilityElementsHidden:!t,importantForAccessibility:t?"auto":"no-hide-descendants",style:[{flex:1},r]},n)}return C.a.createElement(O.NavigationHelpersContext.Provider,{value:r},C.a.createElement(Q.a,null,C.a.createElement(K.ScreenContainer,{enabled:p,style:f.container},s.map((function(e,r){var i=n[e.key],a=i.options.unmountOnBlur,s=t.index===r;return a&&!s?null:!o||u.includes(e.key)||s?C.a.createElement(X.a,{key:e.key,style:[x.a.absoluteFill,{overflow:"visible"}],isVisible:s,enabled:p},C.a.createElement(h,{isFocused:s,style:l},C.a.createElement(ee.a.Provider,{value:d},i.render()))):null}))),C.a.createElement(ne.a.Provider,{value:this.handleTabBarHeightChange},this.renderTabBar())))});var me=0;"ios"===T.a.OS&&Object(Y.d)().then((function(e){me=e})).catch((function(e){}));var ye=function(e){h()(n,e);var t=fe(n);function n(e){var r,o,i,l,c,u;s()(this,n),u=t.call(this,e),w()(p()(u),"dataArray",void 0),w()(p()(u),"mapComponent",void 0),w()(p()(u),"prefixPm","1"),w()(p()(u),"boxSize",{}),w()(p()(u),"textSize",{}),w()(p()(u),"tabBarHeight",50),w()(p()(u),"windowHeight",k.a.get("window").height),w()(p()(u),"contentHeight",u.windowHeight-u.tabBarHeight),w()(p()(u),"beforeUnload_time",0),w()(p()(u),"firstRender",!0),w()(p()(u),"naviCostTime",0),w()(p()(u),"getCrossDress",(function(e){var t;if(null!==(t=u.props.cardInfo)&&void 0!==t&&t.styleChange){var n,r=JSON.parse(null===(n=u.props.cardInfo)||void 0===n?void 0:n.styleChange),o=Object(G.i)(r,Object(J.a)(e));return o&&u.setState({headerBoxStyle:o}),o}return null})),w()(p()(u),"getQueryStr",(function(e,t){var n=null==e?void 0:e.match(new RegExp("[?&]"+t+"=([^&]+)","i"));return null==n||n.length<1?"":decodeURIComponent(n[1])})),w()(p()(u),"handleAppStateChange",(function(e){var t,n;"page"===(null==e?void 0:e.service)&&"pageLeave"===(null==e?void 0:e.action)&&((!u.uniqueId||u.uniqueId&&u.uniqueId===(null==e||null===(t=e.param)||void 0===t?void 0:t.uniqueId))&&(null==e||null===(n=e.param)||void 0===n?void 0:n.isLeave)&&u.eventTracingReportByExpose())})),w()(p()(u),"handleAppStateChangeWeb",(function(e){"active"===e&&u.eventTracingReportByExpose()})),w()(p()(u),"eventTracingReportByExpose",(function(){var e=(new Date).getTime();e-se.lastTime<600||(se.updateTime(e),Object(H.b)({actionCode:Object(G.n)().platformType+Object(G.n)().eventID,actionName:"底部导航曝光",eventType:z.e.EVENT_TYPE_EXPOSURE,pageId:u.props.pageId||U.a.pageId,content:{comId:u.comId},pageCatCode:u.props.pageCatCode,pageCatName:u.props.pageCatName,resSiteCode:"",resSiteName:""}))})),w()(p()(u),"saveRouteName",(function(e){"web"===T.a.OS&&window.sessionStorage.setItem("routeName",e)})),w()(p()(u),"clearRouteName",(function(){"web"===T.a.OS&&window.sessionStorage.removeItem("routeName")})),w()(p()(u),"getRouteName",(function(){return"web"===T.a.OS?window.sessionStorage.getItem("routeName"):""})),w()(p()(u),"eventTracingReportByClick",(function(e,t,n){var r=u.getQueryStr(e,"pageId");Object(H.b)({actionCode:Object(G.n)().platformType+Object(G.n)().eventID,actionName:"底部导航-点击",eventType:z.e.EVENT_TYPE_CLICK,pageId:u.props.pageId||U.a.pageId,content:{comId:u.comId,gotoPageId:r,gotoUrl:e,clickType:"",tabIndex:String(t),tabName:n},pageCatCode:u.props.pageCatCode,pageCatName:u.props.pageCatName,resSiteCode:"",resSiteName:""})})),w()(p()(u),"renderTargetPage",(function(e,t){var n=C.a.createElement(I.a,null),r=A.a.isApp()?null==e?void 0:e.match(new RegExp("vmall://com.vmall.client/home/([^?]+)","i")):null==e?void 0:e.match(new RegExp("portal/(.*)/index.html","i"));if(null==r||r.length<1)return C.a.createElement(I.a,null);var o=u.getQueryStr(e,"pageId"),i=u.getQueryStr(e,"pn"),l=null==e?void 0:e.split("?"),s=A.a.isIOS()&&u.props.isShowLayout?ue.SafeAreaView:I.a;switch(u.firstRender&&u.props.currentTime&&(u.firstRender=!1,u.naviCostTime=(new Date).getTime()-u.props.currentTime),r[1]){case"activity":n=A.a.isApp()?C.a.createElement(_.a,a()({},u.props,t,{pageId:o,pageAlias:i,cardInfo:null,naviCostTime:u.naviCostTime||0,container:"bottomNav"})):C.a.createElement(N.a,a()({},u.props,t,{cardInfo:null,tabparam:l.length>1&&l[1],pageId:o,pageAlias:i,getHeight:u.getContentHeight,getbottomNavBarHeight:u.getbottomNavBarHeight,container:"bottomNav"}));break;case"category":var c=u.getQueryStr(e,"categoryParams"),d=l.length>1&&Object(G.r)(l[1]);n=C.a.createElement(ge,a()({categoryParams:c},u.props,t,{tabparam:l.length>1&&l[1]},d,{pageId:o,pageAlias:i,getHeight:u.getContentHeight,getbottomNavBarHeight:u.getbottomNavBarHeight,cardInfo:null,container:"bottomNav"}));break;case"homepage":case"home":n=A.a.isApp()?C.a.createElement(s,{style:[{paddingBottom:-me},u.props.isShowLayout&&{marginTop:ce.a.currentHeight}]},C.a.createElement(W,a()({},u.props,t,{getbottomNavBarHeight:u.getbottomNavBarHeight,pageId:o,pageAlias:i,cardInfo:null,container:"bottomNav"}))):C.a.createElement(he,a()({},u.props,t,{tabparam:l.length>1&&l[1],getHeight:u.getContentHeight,getbottomNavBarHeight:u.getbottomNavBarHeight,pageId:o,pageAlias:i,cardInfo:null,container:"bottomNav"}))}return n})),w()(p()(u),"updateSize",(function(e){Object(J.a)(e)!==u.state.currentSize&&(u.getCrossDress(e),u.setState({currentSize:Object(J.a)(e)}))})),w()(p()(u),"NaviTabBar",(function(e){var t=e.state,n=e.descriptors,r=e.navigation;return C.a.createElement(B.b,{themeStyles:F.a},(function(e,o,i){u.updateSize(i);var a=u.state.headerBoxStyle,l=(null==a?void 0:a.imgStyle)&&"{}"!=JSON.stringify(null==a?void 0:a.imgStyle);return C.a.createElement(V.a,{style:[A.a.isApp()?e.bottomNaviContainerApp:e.bottomNaviContainerWap,"small"===u.state.currentSize&&{paddingVertical:7},null==a?void 0:a.imgStyle,{paddingBottom:me}],imgUri:null==a?void 0:a.bgImg,onLayout:u.onBoxLayout},t.routes.map((function(i,s){var c=n[i.key].options,d=void 0!==c.tabBarLabel?c.tabBarLabel:void 0!==c.title?c.title:i.name,p=t.index===s;return C.a.createElement(C.a.Fragment,null,C.a.createElement(E.a,{onLayout:function(e){u.calculeTextLayout(s,e)},style:[p?e.labelSelected:e.labelUnSelect,"small"!==u.state.currentSize&&pe(pe({},o.T4),{},{marginTop:0}),null==a?void 0:a.textStyle,{opacity:0,lineHeight:0,position:"absolute",flexGrow:1}]},d),C.a.createElement(j.a,{onLayout:function(e){u.calculeBoxLayout(s,e)},activeOpacity:1,accessibilityRole:"button",accessibilityState:p?{selected:!0}:{},accessibilityLabel:c.tabBarAccessibilityLabel,testID:c.tabBarTestID,onPress:function(){var e=u.dataArray&&s<u.dataArray.length&&u.dataArray[s],t=u.getUrl(e);u.routeName=i.name,u.eventTracingReportByClick(t,s,d);var n=r.emit({type:"tabPress",target:i.key,canPreventDefault:!0});p||n.defaultPrevented||r.navigate({name:i.name,merge:!0})},onLongPress:function(){r.emit({type:"tabLongPress",target:i.key})},style:[e.bottomNaviItem,"small"!==u.state.currentSize&&{flexDirection:"row",justifyContent:"center",alignContent:"center"}]},c.tabBarIcon({focused:p}),C.a.createElement(E.a,{style:[p?e.labelSelected:e.labelUnSelect,"small"!==u.state.currentSize&&pe({},o.T4),"small"===u.state.currentSize&&{height:u.state.lableHeight},u.state.fontSize&&{fontSize:u.state.fontSize[s]},A.a.isIOS()&&u.state.fontSize&&{lineHeight:u.state.fontSize[s]+3},l&&pe({},o.C11),null==a?void 0:a.textStyle],numberOfLines:2,ellipsizeMode:"tail"},d)))})))}))})),w()(p()(u),"getContentHeight",(function(){return u.contentHeight})),w()(p()(u),"getbottomNavBarHeight",(function(){return u.tabBarHeight})),w()(p()(u),"onWindowLayout",(function(e){u.windowHeight=e.nativeEvent.layout.height,u.contentHeight=u.windowHeight-u.tabBarHeight})),w()(p()(u),"onBoxLayout",(function(e){if(u.boxSize&&u.textSize&&Object.keys(u.boxSize).length===Object.keys(u.textSize).length){for(var t={},n=!1,r=!1,o=0;o<Object.keys(u.boxSize).length;o++){var i=u.textSize[o],a=u.boxSize[o];i>a&&(r=!0),i>a-8?(t[o]=9,n=!0):t[o]=11}r&&16!==u.state.lableHeight&&n?u.setState({lableHeight:26,fontSize:t}):r&&26!==u.state.lableHeight?u.setState({lableHeight:26}):n&&u.setState({fontSize:t})}})),w()(p()(u),"calculeBoxLayout",(function(e,t){u.boxSize[e]=t.nativeEvent.layout.width,u.tabBarHeight=t.nativeEvent.layout.height,u.timmer&&clearTimeout(u.timmer),u.timmer=setTimeout((function(){u.onBoxLayout(0)}),100)})),w()(p()(u),"calculeTextLayout",(function(e,t){u.textSize[e]=t.nativeEvent.layout.width,u.timmer&&clearTimeout(u.timmer),u.timmer=setTimeout((function(){u.onBoxLayout(0)}),100)})),w()(p()(u),"getUrl",(function(e){var t=e&&e.configInfo;"string"==typeof(null==e?void 0:e.configInfo)&&(t=e&&e.configInfo&&JSON.parse(e.configInfo));var n,r,o,i;return A.a.isApp()?null===(n=t)||void 0===n?void 0:n.appUrl:"web"===T.a.OS?A.a.isWap(k.a.get("window").width)?null===(r=t)||void 0===r?void 0:r.wapUrl:null===(o=t)||void 0===o?void 0:o.webUrl:Object(Y.j)()?null===(i=t)||void 0===i?void 0:i.mpUrl:""})),w()(p()(u),"getIcon",(function(e,t){var n,r,o=e&&e.configInfo;return"string"==typeof(null==e?void 0:e.configInfo)?(o=e&&e.configInfo&&JSON.parse(e.configInfo),t?null===(n=o)||void 0===n?void 0:n.selectedIcon:null===(r=o)||void 0===r?void 0:r.defaultIcon):t?null==e?void 0:e.selectedImg:null==e?void 0:e.defaultImg})),u.state={currentSize:Object(J.a)(Object(G.x)().screenWidth),headerBoxStyle:u.getCrossDress(Object(G.x)().screenWidth),recalculate:0,fontSize:null,lableHeight:16},u.uniqueId=u.props.uniqueId,u.getCrossDress(Object(G.x)().screenWidth),u.mapComponent={hompage:W,category:ge,activity:A.a.isApp()?_.a:D.a};var d=null===(r=u.props.cardInfo)||void 0===r?void 0:r.configInfo,f=d&&JSON.parse(d);return u.dataArray=(null==f?void 0:f.bottomNavSet)||(null==f?void 0:f.cards),u.comId=null===(o=u.props.cardInfo)||void 0===o?void 0:o.cardId,"web"===T.a.OS&&1===(null===(i=window)||void 0===i||null===(l=i.performance)||void 0===l||null===(c=l.navigation)||void 0===c?void 0:c.type)&&(u.defaultRoute=u.getRouteName(),u.routeName=u.getRouteName()),u.clearRouteName(),u}return u()(n,[{key:"componentDidMount",value:function(){var e=this;this.eventListener=A.a.isApp()&&R.a.addListener("NativeCallAction",this.handleAppStateChange),this.eventTracingReportByExpose(),"web"===T.a.OS&&(L.a.addEventListener("change",this.handleAppStateChangeWeb),this.isFirefox=navigator.userAgent.indexOf("Firefox")>-1,this.lisener1=window.addEventListener("beforeunload",(function(){e._beforeUnload_time=(new Date).getTime()})),this.lisener2=window.addEventListener("unload",(function(){var t=(new Date).getTime()-e._beforeUnload_time;(e.isFirefox||t<=100)&&e.routeName&&e.saveRouteName(e.routeName)})))}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this.timmer&&clearTimeout(this.timmer),"web"===T.a.OS&&(L.a.removeEventListener("change",this.handleAppStateChangeWeb),this.lisener1&&window.removeEventListener("beforeunload",(function(){})),this.lisener2&&window.removeEventListener("unload",(function(){})))}},{key:"render",value:function(){var e,t=this,n=Object(P.createBottomTabNavigator)();return C.a.createElement(O.NavigationContainer,{independent:!0},C.a.createElement(n.Navigator,{initialRouteName:this.defaultRoute,backBehavior:"none",tabBar:function(e){return C.a.createElement(t.NaviTabBar,e)},sceneContainerStyle:{marginTop:this.props.isShowLayout?-ce.a.currentHeight:0},tabBarOptions:{activeTintColor:"red",inactiveTintColor:"black",style:{backgroundColor:"#F1F3F5",height:70},tabStyle:{}}},null===(e=this.dataArray)||void 0===e?void 0:e.map((function(e){return C.a.createElement(n.Screen,{name:(null==e?void 0:e.orderNum)+"_"+(null==e?void 0:e.cardName),options:{title:(null==e?void 0:e.pageTabName)||(null==e?void 0:e.cardName),tabBarIcon:function(n){var r=n.focused;n.color,n.size;return C.a.createElement(I.a,null,C.a.createElement(I.a,{style:[{width:24,height:24,marginRight:"small"!==t.state.currentSize?8:0},"small"!==t.state.currentSize&&{marginVertical:8}]}),C.a.createElement(M.a,{imgUri:t.getIcon(e,!0),imgStyle:[{width:24,height:24,position:"absolute",opacity:r?1:0,marginRight:"small"!==t.state.currentSize?8:0},"small"!==t.state.currentSize&&{marginVertical:8}]}),C.a.createElement(M.a,{imgUri:t.getIcon(e,!1),imgStyle:[{width:24,height:24,position:"absolute",opacity:r?0:1,marginRight:"small"!==t.state.currentSize?8:0},"small"!==t.state.currentSize&&{marginVertical:8}]}))}}},(function(n){var r=t.getUrl(e);return t.renderTargetPage(r,n)}))}))))}}]),n}(S.PureComponent);t.a=ye},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(17),a=n.n(i),l=n(26),s=n.n(l),c=n(5),u=n.n(c),d=n(6),p=n.n(d),f=n(2),h=n.n(f),g=n(8),m=n.n(g),y=n(7),v=n.n(y),b=n(4),w=n.n(b),S=n(1),C=n.n(S),O=n(0),P=n.n(O),T=n(37),x=n(54),I=n(446),k=n(43),E=n(126),j=n(152),R=n(57),L=n(53),_=n(122);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=n(21),A=n(25),B=n(24),M=n(10),F=n(45),H=n.n(F),z=n(3),U={clickItem:function(e,t,n,r,o,i){var a,l,s=Object(z.F)()?this:this.props,c=s.resSiteCode,u=s.resSiteName,d=s.pageCatCode,p=s.pageCatName;return{data:{actionCode:Object(z.F)()?"410000101":this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"拼团商品点击",eventType:"2",pageId:null===(a=this.props)||void 0===a||null===(l=a.pageId)||void 0===l?void 0:l.toString(),content:{comId:i.toString(),gotoPageId:"",gotoURL:e,index:t.toString(),dataCode:n,row:r.toString(),dataType:"1",ruleId:"",sId:"",column:o.toString(),clickType:"26"},resSiteCode:c,resSiteName:u,pageCatCode:d,pageCatName:p}}},exposeItem_product:function(e){var t,n,r=this.props,o=r.resSiteCode,i=r.resSiteName,a=r.pageCatCode,l=r.pageCatName,s={array:e.map((function(e,t){var n,r;return{row:e.row.toString(),column:e.col.toString(),index:(t+1).toString(),comId:null===(n=e.cardId)||void 0===n?void 0:n.toString(),dataCode:null===(r=e.productId)||void 0===r?void 0:r.toString(),dataType:"1",ruleId:"",sId:""}}))};return{isBatch:!0,commonData:{pageId:null===(t=this.props)||void 0===t||null===(n=t.pageId)||void 0===n?void 0:n.toString(),actionCode:this.getPlatformPrefix().platformType+this.getPlatformPrefix().eventID,actionName:"拼团1*1组件曝光",eventType:"7",resSiteCode:o,resSiteName:i,pageCatCode:a,pageCatName:l},content:s.array}}},V=n(40),G=n(432),Y=n(1734),J=n(102),K=n(1735),q=n(185);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}var Z=function(e){m()(r,e);var t,n=X(r);function r(e){var t;return u()(this,r),t=n.call(this,e),C()(h()(t),"chatView",null),C()(h()(t),"itemlist",[]),C()(h()(t),"_panResponder",void 0),C()(h()(t),"_panResponderApk",void 0),C()(h()(t),"getPlatformPrefix",(function(){return"web"===T.a.OS?t.isApp()?M.f.WAP:M.f.PC:M.f.APP})),C()(h()(t),"initWidth",(function(e){t.state.width!=e&&t.setState({width:e})})),C()(h()(t),"getSize",(function(){return Object(V.a)(t.state.width)})),C()(h()(t),"isApp",(function(){return"small"===t.getSize()})),C()(h()(t),"isPadPc",(function(){return"medium"===t.getSize()&&t.isPadHorizonta()})),C()(h()(t),"isPad",(function(){return"medium"===t.getSize()})),C()(h()(t),"isPadHorizonta",(function(){var e="web"===T.a.OS?x.a.get("window").width:t.state.width;return e>=("web"===T.a.OS?x.a.get("window").height:Object(z.x)(t.props.pageType).screenHeight)&&e>=1024})),C()(h()(t),"handleReportData",(function(e,n){return $($({},e),{},{row:t.handleRowAndCol(n+1).row,col:t.handleRowAndCol(n+1).col})})),C()(h()(t),"receiveRef",(function(e,n){e?(e.exposeObj=n,t.itemlist.push(e)):t.itemlist=[]})),t.state={width:Object(z.x)(t.props.pageType||"homePage").screenWidth,height:Object(z.x)(t.props.pageType||"homePage").screenHeight,pageType:t.props.pageType||"homePage"},t}return p()(r,[{key:"UNSAFE_componentWillMount",value:function(){Object(z.F)()||(this._panResponder=I.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=I.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}}))}},{key:"shopClick",value:(t=s()(a.a.mark((function e(t,n,r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.p)(t,r.sbomCode);case 2:o=e.sent,this.props.clickItem&&this.props.clickItem(o,n+1,t,this.handleRowAndCol(n+1).row,this.handleRowAndCol(n+1).col,parseInt(r.cardId)),Object(z.B)(String(t),String(r.sbomCode));case 5:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"handleRowAndCol",value:function(e){return this.isApp()?{row:e,col:1}:this.isPadPc()?{row:e<=3?1:Math.ceil(e/3),col:e<=3?e:Math.round(e/3)}:{row:e<=2?1:Math.ceil(e/2),col:e<=2?e:e%2==0?2:1}}},{key:"renderList",value:function(e,t,n,r,i){var a,l,s,c,u,d,p,f,h,g,m,y,v,b,w,S,C=this;return"web"===T.a.OS?P.a.createElement(k.a,o()({},this._panResponder.panHandlers,{style:{width:"100%"}}),P.a.createElement(E.a,{activeOpacity:1,ref:function(t){return C.receiveRef(t,C.handleReportData(e,r))},style:[t.view,this.props.hasBg||"activitypage"==this.props.pageType?t.bgWhite:""],onPress:function(){return C.shopClick(e.productId,r,e)}},P.a.createElement(k.a,{style:[t.leftImg,{backgroundColor:null!==(a=this.props)&&void 0!==a&&a.bgColor?this.props.bgColor:""}]},P.a.createElement(B.a,{imgUri:e.photoPath,imgStyle:this.isApp()?t.imgAppWrap:this.isPadPc()?t.imgPcWrap:t.imgPadWrap}),"false"!=(null===(l=this.props)||void 0===l?void 0:l.activityTagShow)&&e.tag?Object(z.F)()?P.a.createElement(j.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.posTextWrapMP,{background:"linear-gradient(to right, ".concat(Object(z.f)("#FE5945",1),", ").concat(Object(z.f)("#D61A19",1),")")}]},e.tag):P.a.createElement(H.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:t.posTextWrap},P.a.createElement(j.a,{style:[t.posText]},e.tag)):P.a.createElement(P.a.Fragment,null)),P.a.createElement(k.a,{style:t.rightText},P.a.createElement(j.a,{numberOfLines:2,style:t.oneLineText},"false"==(null===(s=this.props)||void 0===s?void 0:s.productNameShow)?"":null==e?void 0:e.productName),P.a.createElement(k.a,{style:t.twoLineBtn},"false"==(null===(c=this.props)||void 0===c?void 0:c.groupBuyNumShow)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:[t.numBtn,i?{paddingTop:4}:""]},Object(G.b)("people_team").replace("%s ",e.teamBuyNumber)),e.originalPrice-e.teamBuyPrice>0&&"true"==(null===(u=this.props)||void 0===u?void 0:u.discountTagShow)?P.a.createElement(j.a,{style:[t.cutBtn,i?{paddingTop:4}:""]},Object(G.b)("save").replace(" %s","¥"+Math.floor(Y.a.priceFormat(e.originalPrice-e.teamBuyPrice)))):P.a.createElement(P.a.Fragment,null)),P.a.createElement(k.a,{style:t.threeLineBtn},String(e.teamBuyPrice).length>=8?P.a.createElement(k.a,{style:t.textFlexCol},P.a.createElement(j.a,{style:[t.newPriceSmall,{height:16,lineHeight:16}]},P.a.createElement(j.a,{style:[t.newPriceIcon,{height:16,lineHeight:16}]},"¥"),Y.a.priceFormat(e.teamBuyPrice)),"false"==(null===(d=this.props)||void 0===d?void 0:d.originPriceStrikethroughShow)||Y.a.priceFormat(e.originalPrice)==Y.a.priceFormat(e.teamBuyPrice)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:[t.originPrice,{height:14,lineHeight:14}]},"¥",Y.a.priceFormat(e.originalPrice))):P.a.createElement(k.a,{style:t.textFlex},P.a.createElement(j.a,{style:[t.newPrice,String(e.teamBuyPrice).length>=6?t.newPriceSmall:""]},P.a.createElement(j.a,{style:[t.newPriceIcon,{height:27,lineHeight:27}]},"¥"),Y.a.priceFormat(e.teamBuyPrice)),"false"==(null===(p=this.props)||void 0===p?void 0:p.originPriceStrikethroughShow)||Y.a.priceFormat(e.originalPrice)==Y.a.priceFormat(e.teamBuyPrice)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:t.originPrice},"¥",Y.a.priceFormat(e.originalPrice))),Object(z.F)()?P.a.createElement(j.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.lastBtn,{background:"linear-gradient(to right, ".concat(Object(z.f)("#FE5945",1),", ").concat(Object(z.f)("#D61A19",1),")"),borderRadius:20}]},Object(G.b)("go_group_buy")):P.a.createElement(H.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:{borderRadius:20}},"false"==(null===(f=this.props)||void 0===f?void 0:f.bottonShow)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:t.lastBtn},Object(G.b)("go_group_buy"))))))):P.a.createElement(E.a,{activeOpacity:1,ref:function(t){return C.receiveRef(t,C.handleReportData(e,r))},style:[t.view,this.props.hasBg||"activitypage"==this.props.pageType?t.bgWhite:""],onPress:function(){return C.shopClick(e.productId,r,e)}},P.a.createElement(k.a,{style:[t.leftImg,{backgroundColor:null!==(h=this.props)&&void 0!==h&&h.bgColor?this.props.bgColor:""}]},P.a.createElement(B.a,{imgUri:e.photoPath,imgStyle:this.isApp()?t.imgAppWrap:this.isPadPc()?t.imgPcWrap:t.imgPadWrap}),"false"!=(null===(g=this.props)||void 0===g?void 0:g.activityTagShow)&&e.tag?Object(z.F)()?P.a.createElement(j.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.posTextWrapMP,{background:"linear-gradient(to right, ".concat(Object(z.f)("#FE5945",1),", ").concat(Object(z.f)("#D61A19",1),")")}]},e.tag):P.a.createElement(H.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:t.posTextWrap},P.a.createElement(j.a,{style:[t.posText,i?{lineHeight:16,top:1}:""]},e.tag)):P.a.createElement(P.a.Fragment,null)),P.a.createElement(k.a,{style:t.rightText},P.a.createElement(j.a,{numberOfLines:2,style:t.oneLineText},"false"==(null===(m=this.props)||void 0===m?void 0:m.productNameShow)?"":null==e?void 0:e.productName),P.a.createElement(k.a,{style:t.twoLineBtn},"false"==(null===(y=this.props)||void 0===y?void 0:y.groupBuyNumShow)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:[t.numBtn,i?{paddingTop:4}:""]},Object(G.b)("people_team").replace("%s ",e.teamBuyNumber)),e.originalPrice-e.teamBuyPrice>0&&"true"==(null===(v=this.props)||void 0===v?void 0:v.discountTagShow)?P.a.createElement(j.a,{style:[t.cutBtn,i?{paddingTop:4}:""]},Object(G.b)("save").replace(" %s","¥"+Math.floor(Y.a.priceFormat(e.originalPrice-e.teamBuyPrice)))):P.a.createElement(P.a.Fragment,null)),P.a.createElement(k.a,{style:t.threeLineBtn},String(e.teamBuyPrice).length>=8?P.a.createElement(k.a,{style:t.textFlexCol},P.a.createElement(j.a,{style:[t.newPriceSmall,{height:16,lineHeight:16}]},P.a.createElement(j.a,{style:[t.newPriceIcon,{height:16,lineHeight:16}]},"¥"," "),Y.a.priceFormat(e.teamBuyPrice)),"false"==(null===(b=this.props)||void 0===b?void 0:b.originPriceStrikethroughShow)||Y.a.priceFormat(e.originalPrice)==Y.a.priceFormat(e.teamBuyPrice)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:[t.originPrice,{height:14,lineHeight:14}]},"¥",Y.a.priceFormat(e.originalPrice))):P.a.createElement(k.a,{style:t.textFlex},P.a.createElement(j.a,{style:[t.newPrice,String(e.teamBuyPrice).length>=6?t.newPriceSmall:""]},P.a.createElement(j.a,{style:[t.newPriceIcon,{height:27,lineHeight:27}]},"¥"," "),Y.a.priceFormat(e.teamBuyPrice)),"false"==(null===(w=this.props)||void 0===w?void 0:w.originPriceStrikethroughShow)||Y.a.priceFormat(e.originalPrice)==Y.a.priceFormat(e.teamBuyPrice)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:t.originPrice},"¥",Y.a.priceFormat(e.originalPrice))),Object(z.F)()?P.a.createElement(j.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.lastBtn,{background:"linear-gradient(to right, ".concat(Object(z.f)("#FE5945",1),", ").concat(Object(z.f)("#D61A19",1),")"),borderRadius:20}]},Object(G.b)("go_group_buy")):P.a.createElement(H.a,{start:{x:0,y:0},end:{x:1,y:0},colors:["#FE5945","#D61A19"],style:{borderRadius:20}},"false"==(null===(S=this.props)||void 0===S?void 0:S.bottonShow)?P.a.createElement(P.a.Fragment,null):P.a.createElement(j.a,{style:t.lastBtn},Object(G.b)("go_group_buy"))))))}},{key:"render",value:function(){var e,t,n,r=this,o=this.props.list,i=this.props.boxWidth,a=this.props.pageGutter,l=this.props.colGutter,s="web"===T.a.OS&&(null===(e=navigator)||void 0===e||null===(t=e.userAgent)||void 0===t||null===(n=t.toLocaleUpperCase())||void 0===n?void 0:n.includes("MQQBROWSER"));return P.a.createElement(J.b,{themeStyles:function(e){var t;return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(e=_.a);var n={};return"web"===T.a.OS&&(n=C()({},"transform-Origin".split("-").join(""),"0 0")),R.a.create({view:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%",borderRadius:16},bgWhite:{backgroundColor:e.S31.backgroundColor},leftImg:{paddingLeft:16,paddingRight:16,alignItems:"center",justifyContent:"center",position:"relative",backgroundColor:e.S31.backgroundColor,borderTopLeftRadius:8,borderBottomLeftRadius:8},posTextWrap:N({position:"absolute",top:12,left:12,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:"web"===T.a.OS?4.8:4,height:"web"===T.a.OS?16.8:14,transform:"web"===T.a.OS?[{scale:5/6}]:[]},n),posTextWrapMP:N(N(N({position:"absolute",top:12,left:12,width:"auto",borderRadius:4,justifyContent:"center",alignItems:"center",paddingHorizontal:4,height:14},e.T1),e.C17),{},{fontSize:10,lineHeight:13}),posText:N(N(N({},e.T1),e.C17),{},{fontSize:"web"===T.a.OS?12:10,lineHeight:12,position:"relative",top:0}),imgAppWrap:{width:108,height:108},imgPcWrap:{width:96,height:96},imgPadWrap:{width:72,height:72},rightText:{paddingTop:12,paddingBottom:16,paddingLeft:4,paddingRight:12,flex:1},oneLineText:N(N(N({fontFamily:L.a.fontFamilyBase},e.T6),e.C11),{},{height:36,marginBottom:28,fontWeight:"bold"}),twoLineBtn:{display:"flex",flexDirection:"row",justifyContent:"flex-start",height:16,marginBottom:4},numBtn:N(N(N({borderRadius:4},e.T1),e.C17),{},{backgroundColor:e.C35.color,paddingRight:4,paddingLeft:4,height:16,paddingTop:"web"===T.a.OS?1:.5,display:"flex",alignItems:"center",justifyContent:"center",marginRight:4,overflow:"ios"===T.a.OS?"hidden":"visible"}),cutBtn:N(N(N({fontFamily:L.a.fontFamilyBase,borderRadius:4},e.T1),e.C18),{},{paddingRight:4,paddingLeft:4,height:16,paddingTop:"web"===T.a.OS?1:.5,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},e.S15),threeLineBtn:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:28,lineHeight:28},textFlex:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:28},textFlexCol:{justifyContent:"flex-start",height:28},newPriceIcon:N(N(N({fontFamily:L.a.fontFamilyBase},e.T4),e.C18),{},{marginRight:2,fontWeight:"bold"}),newPrice:N(N(N({fontFamily:L.a.fontFamilyBase},e.T10),e.C18),{},{fontWeight:"bold",height:28,lineHeight:28,marginRight:4}),newPriceSmall:N(N(N({},e.T4),e.C18),{},{fontWeight:"bold",height:28,lineHeight:28,marginRight:4}),originPrice:N(N(N({fontFamily:L.a.fontFamilyBase},e.T1),e.C14),{},{textDecorationLine:"line-through"}),lastBtn:N(N(N({fontFamily:L.a.fontFamilyBase},e.T4),e.C17),{},{paddingLeft:8,paddingRight:8,minWidth:64,height:28,lineHeight:28,textAlign:"center"})})}(e,null===(t=r.props)||void 0===t?void 0:t.styleChange,r.isPad())}},(function(e,t,n){return n=Object(z.F)()?Object(z.x)().screenWidth:n,r.initWidth(n),P.a.createElement(K.a,{col:r.isApp()?1:r.isPadPc()?3:2,rowGutter:12,colGutter:l,pageGutter:a,dataArray:o,boxWidth:i,initialNumToRender:null==o?void 0:o.length,renderItem:function(n){var o=n.item,i=n.index;return r.renderList(o,e,t,i,s)}})}))}}]),r}(O.Component);t.a=Object(q.a)(Object(W.a)(U)(Object(A.a)(Z)))},function(e,t,n){"use strict";var r,o,i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(34),C=n.n(S),O=n(0),P=n.n(O),T=n(49),x=n(54),I=n(40),k=n(21),E=n(294),j=n(25),R=n(87),L=n(43),_=n(281),D=n(135),N=n(85),W=n(98),A=n(295),B=n(109),M=n.n(B),F=n(128),H=n(156),z=n(37),U=n(126),V=n(149),G=n(270),Y=n(57),J=n(88),K=n(296),q=n(297),Q=n(48),$=n(660),X=n(432),Z=n(119),ee=n(102),te=n(32),ne=n(45),re=n.n(ne),oe=n(3),ie=n(24),ae=n(30),le=n(33);function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ce=x.a.get("window").width,ue=0;"ios"===z.a.OS&&Object(le.e)().then((function(e){ue=e})).catch((function(e){}));var de,pe,fe=Object(te.c)((o=function(e){h()(n,e);var t=se(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"_tabsMeasurements",[]),w()(p()(r),"_tabContainerMeasurements",null),w()(p()(r),"_containerMeasurements",null),w()(p()(r),"_scrollView",null),w()(p()(r),"hasChildren",!1),w()(p()(r),"hasSubTitle",!1),w()(p()(r),"navTop",!1),w()(p()(r),"tabViewWrapper",void 0),w()(p()(r),"Style",void 0),w()(p()(r),"SwitchScreenListener",void 0),w()(p()(r),"isShopPage","shop"===r.props.pageType),w()(p()(r),"listener1",void 0),w()(p()(r),"showLine",!0),w()(p()(r),"_leftTabUnderlineTemp",0),w()(p()(r),"_widthTabUnderlineTemp",0),w()(p()(r),"pageOffsetTemp",0),w()(p()(r),"switchScreen",(function(){r.setState({switchScreen:!0})})),w()(p()(r),"onSetTabTopState",(function(e){r.setState({tabsNavTop:e.navTop})})),w()(p()(r),"updateView",(function(e){var t=Math.floor(e.value),n=e.value%1,o=r.props.tabs.length,i=o-1;r.state.switchScreen?r.setState({switchScreen:!1}):0===o||e.value<0||e.value>i||r.necessarilyMeasurementsCompleted(t,t===i)&&(r.updateTabPanel(t,n),r.updateTabUnderline(t,n,o))})),w()(p()(r),"necessarilyMeasurementsCompleted",(function(e,t){return r._tabsMeasurements[e]&&(t||r._tabsMeasurements[e+1])&&r._tabContainerMeasurements&&r._containerMeasurements})),w()(p()(r),"updateTabPanel",(function(e,t){var n=r._containerMeasurements.width,o=r._tabsMeasurements[e].width,i=r._tabsMeasurements[e+1],a=i&&i.width||0,l=r._tabsMeasurements[e].left+t*o;if(l=(l-=(n-(1-t)*o-t*a)/2)>=0?l:0,"android"===z.a.OS)r._scrollView.scrollTo({x:l,y:0,animated:!1});else{var s=r._tabContainerMeasurements.width-r._containerMeasurements.width;l=l>s?s:l,r._scrollView.scrollTo({x:l,y:0,animated:!1})}})),w()(p()(r),"updateTabUnderline",(function(e,t,n){var o=r._tabsMeasurements[e].left,i=r._tabsMeasurements[e].right,a=r.props.subTabSet[r.pageOffsetTemp>=t||0===t?e:e+1].configInfo?JSON.parse(r.props.subTabSet[r.pageOffsetTemp>=t||0===t?e:e+1].configInfo):{},l=ae.a.darkBool?a.darkSelectedIcon||a.darkDefaultIcon:a.selectedIcon||a.defaultIcon;if(r.pageOffsetTemp=t,e<n-1){var s=t*r._tabsMeasurements[e+1].left+(1-t)*o,c=t*r._tabsMeasurements[e+1].right+(1-t)*i;r._leftTabUnderlineTemp=s,r._widthTabUnderlineTemp=c-s-24,Object(oe.D)(l)&&(r.state._leftTabUnderline.setValue(r._leftTabUnderlineTemp),r.state._widthTabUnderline.setValue(r._widthTabUnderlineTemp))}else r._leftTabUnderlineTemp=o,r._widthTabUnderlineTemp=i-o-24,Object(oe.D)(l)&&(r.state._leftTabUnderline.setValue(r._leftTabUnderlineTemp),r.state._widthTabUnderline.setValue(r._widthTabUnderlineTemp))})),w()(p()(r),"laout_list",[]),w()(p()(r),"clickIndex",0),w()(p()(r),"scrollW",0),w()(p()(r),"renderTab",(function(e,t,n,o,i,a,l){var s,c,u,d,p,f,h,g,m,y=r.props,v=y.subTitleShow,b=y.subTitle,w=y.onClick,S=y.topSubTitleHide,C=x.a.get("window").width,O=Q.a.isPc(C),T=v[t],I=b[t],k="true"===S;return O?P.a.createElement(L.a,null,P.a.createElement($.a,{key:t},(function(i){var l,s,c,u,d,p;return P.a.createElement(U.a,{onLayout:function(e){r.setLaout(e.nativeEvent.layout,t)},key:"".concat(e,"_").concat(t),accessible:!0,accessibilityLabel:e,style:a.item,onPress:function(){w&&w(t),o(t),r.clickIndex=t,r.scrollTo(t)}},P.a.createElement(L.a,{key:t},P.a.createElement(J.a,{style:[n?a.textActive:i?a.textHover:a.text,null!==(l=r.state.mergeStyle)&&void 0!==l&&l.hasCrossDressing&&null!==(s=r.state.mergeStyle)&&void 0!==s&&s.textStyle.color||null!==(c=r.state.mergeStyle)&&void 0!==c&&c.textStyle.pressedFontColor?{color:n&&null!==(u=r.state.mergeStyle)&&void 0!==u&&u.textStyle.pressedFontColor?null===(d=r.state.mergeStyle)||void 0===d?void 0:d.textStyle.pressedFontColor:null===(p=r.state.mergeStyle)||void 0===p?void 0:p.textStyle.color,opacity:1}:{}]},e)))}))):P.a.createElement(H.a,{key:"".concat(e,"_").concat(t),accessible:!0,accessibilityLabel:e,accessibilityTraits:"button",onPress:function(e){w&&w(t),o(t)},onLayout:i},Object(oe.D)(l)?P.a.createElement(F.a,{style:[a.tabItem]},P.a.createElement(J.a,{style:[n?a.textAppActive:a.textApp,null!==(s=r.state.mergeStyle)&&void 0!==s&&s.hasCrossDressing&&null!==(c=r.state.mergeStyle)&&void 0!==c&&c.textStyle.color||null!==(u=r.state.mergeStyle)&&void 0!==u&&u.textStyle.pressedFontColor?{opacity:1,color:n&&null!==(d=r.state.mergeStyle)&&void 0!==d&&d.textStyle.pressedFontColor?null===(p=r.state.mergeStyle)||void 0===p?void 0:p.textStyle.pressedFontColor:null===(f=r.state.mergeStyle)||void 0===f?void 0:f.textStyle.color}:{}]},e),O||!T||!I||k&&r.state.tabsNavTop?P.a.createElement(L.a,null):P.a.createElement(L.a,{key:I+"s",style:[n?a.boxSunActive:a.boxSun]},P.a.createElement(J.a,{style:[n?a.textSunActive:a.textSun,{opacity:n?1:.6},null!==(h=r.state.mergeStyle)&&void 0!==h&&h.hasCrossDressing&&null!==(g=r.state.mergeStyle)&&void 0!==g&&g.textStyle.color?{color:n?"#FFFFFF":null===(m=r.state.mergeStyle)||void 0===m?void 0:m.textStyle.color}:{}]},I))):P.a.createElement(ie.a,{imgStyle:a.tabsImage,imgUri:l,isFromPersonal:l.endsWith(".gif")}))})),w()(p()(r),"measureTab",(function(e,t){var n=t.nativeEvent.layout,o=n.x,i=n.width,a=n.height;r._tabsMeasurements[e]={left:o,right:o+i,width:i,height:a},r.updateView({value:r.props.scrollValue._value})})),w()(p()(r),"onTabContainerLayout",(function(e){r._tabContainerMeasurements=e.nativeEvent.layout;var t=r._tabContainerMeasurements.width;e.nativeEvent.layout.width>ce&&r.setState({isShowMask:!r.state.isShowMask,isShowCenter:!1}),t<ce&&(t=ce),r.setState({_containerWidth:t}),r.updateView({value:r.props.scrollValue._value})})),w()(p()(r),"onContainerLayout",(function(e){r._containerMeasurements=e.nativeEvent.layout,r.updateView({value:r.props.scrollValue._value}),r.tabViewWrapper&&r.tabViewWrapper.measure((function(e,t,n,r,o,i){}))})),r._tabsMeasurements=[],r.state={_leftTabUnderline:new R.a.Value(0),_widthTabUnderline:new R.a.Value(0),_containerWidth:null,isShowMask:!1,tabsNavTop:!1,moreUrl:"",isDisplayMore:!1,moreTitle:"",layoutY:0,mergeStyle:null,isShowCenter:"shop"===r.props.pageType},r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.styleChange,n=e.pageType;if(this.props.scrollValue.addListener(this.updateView),this.listener1=T.a.addListener("tabViewWeb",this.onSetTabTopState),this.SwitchScreenListener=T.a.addListener("switchScreenDir",this.switchScreen),t){var r,o,i,a="string"==typeof t?JSON.parse(t):t,l=Object(I.a)(Object(oe.x)(n||"homePage").screenWidth),s=Object(oe.i)(a,l);s._bgColor=t._bgColor||("transparent"===(null===(r=s.imgStyle)||void 0===r?void 0:r.backgroundColor)||null===(o=s.imgStyle)||void 0===o?void 0:o.backgroundColor),s.fontColor=null===(i=s.textStyle)||void 0===i?void 0:i.color,s.hasCrossDressing=!0,this.setState({mergeStyle:s})}}},{key:"componentWillUnmount",value:function(){this.listener1&&this.listener1.remove(),this.SwitchScreenListener&&this.SwitchScreenListener.remove()}},{key:"setLaout",value:function(e,t){this.laout_list[t]=e}},{key:"scrollTo",value:function(e){for(var t=this,n=x.a.get("window").width>1200?1200:x.a.get("window").width,r=this.laout_list[e],o=0,i=0;i<e;i++)o=o+this.laout_list[i].width+40;this.scrollW=40*(this.laout_list.length-1),this.laout_list.map((function(e){t.scrollW=t.scrollW+e.width}));var a=o-n/2+r.width/2;a<0&&(a=0),a<this.scrollW-n&&this._scrollView.scrollTo({x:a,animated:!0}),a>=this.scrollW-n&&this._scrollView.scrollToEnd({animated:!0})}},{key:"handleMoreTitle",value:function(e){var t=this.props.subTabSet,n=void 0===t?[]:t;if(n&&n[e]&&n[e].cards[0].configInfo){var r=JSON.parse(n[e].cards[0].configInfo);this.setState({moreUrl:r.moreActionUrl?r.moreActionUrl:"",isDisplayMore:"2"===r.more,moreTitle:r.moreTitle?r.moreTitle:Object(X.b)("common_more")})}}},{key:"render",value:function(){var e,t,n,r=this,o={left:this.state._leftTabUnderline,width:this.state._widthTabUnderline},i=this.props,a=i.stickyScrollY,l=i.layoutY,s="true"===i.topSubTitleHide,c="7"===(null===(e=this.props.headStyles)||void 0===e?void 0:e.headStyle)?56+("ios"===z.a.OS?ue:V.a.currentHeight):0;l<0?(t=0,n=0):(t="true"===this.props.isFixed?a.interpolate({inputRange:[-1,l-1,l,l+1],outputRange:[0,0,c,c+1]}):0,n="true"===this.props.isFixed&&l>10?a.interpolate({inputRange:[0,l-10,l,l+1],outputRange:[0,0,1,1]}):0);var u=x.a.get("window").width,d=Q.a.isPc(u),p="medium"===Object(I.a)(u)||"large"===Object(I.a)(u)&&u<Z.a.safety_area,f=ae.a.darkBool;return this.props.subTitle.map((function(e){e.length>0&&(r.hasSubTitle=!0)})),P.a.createElement(ee.b,{themeStyles:function(e){return r.hasSubTitle?Object(K.a)(e):Object(q.a)(e)}},(function(e,i){var a,l,c,h,g,m,y,v,b,w,S,C,O,T,x,I,k,E,j;return P.a.createElement(R.a.View,{style:[r.isShopPage?{}:{zIndex:10,transform:[{translateY:t}]},d?e.pcBox:e.wapBox,r.state.tabsNavTop?e.tabsTop:e.tabsDefault],onLayout:r.onContainerLayout,ref:function(e){r.tabViewWrapper=e}},P.a.createElement(P.a.Fragment,null,P.a.createElement(G.a,{automaticallyAdjustContentInsets:!1,ref:function(e){r._scrollView=e},horizontal:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,directionalLockEnabled:!0,onScroll:r.props.onScroll,bounces:!1,scrollsToTop:!1,style:[null!==(a=r.state.mergeStyle)&&void 0!==a&&a.hasCrossDressing&&null!==(l=r.state.mergeStyle)&&void 0!==l&&l._bgColor?{backgroundColor:null===(c=r.state.mergeStyle)||void 0===c?void 0:c._bgColor}:r.state.tabsNavTop?{backgroundColor:i.C32.color}:{backgroundColor:null!==(h=r.state.mergeStyle)&&void 0!==h&&h.hasCrossDressing&&null!==(g=r.state.mergeStyle)&&void 0!==g&&g._bgColor?null===(m=r.state.mergeStyle)||void 0===m?void 0:m._bgColor:i.C32.color}],contentContainerStyle:r.state.isShowCenter?{flex:1,justifyContent:"center"}:{}},P.a.createElement(L.a,{style:[d?e.webInner:""]},P.a.createElement(L.a,{style:[p?e.containerPad:e.containerApp],onLayout:r.onTabContainerLayout},r.props.tabs.map((function(t,n){var o=r.props.activeTab===n,i=r.props.renderTab||r.renderTab,a=r.props.subTabSet[n].configInfo?JSON.parse(r.props.subTabSet[n].configInfo):{},l=o?f?a.darkSelectedIcon:a.selectedIcon:f?a.darkDefaultIcon:a.defaultIcon;return o&&(r.hasChildren=!r.props.subTitle[n]||r.state.tabsNavTop&&s||!r.props.subTitleShow[n],r.showLine=Object(oe.D)(l)),i(t,n,o,r.props.goToPage,r.measureTab.bind(r,n),e,l)})),r.hasChildren&&!d&&r.showLine?P.a.createElement(R.a.View,{style:[e.line,o,{borderBottomColor:null!==(y=r.state.mergeStyle)&&void 0!==y&&y.textStyle.pressedFontColor?null===(v=r.state.mergeStyle)||void 0===v?void 0:v.textStyle.pressedFontColor:"#CF0A2C"}]}):P.a.createElement(P.a.Fragment,null)))),P.a.createElement(R.a.View,{key:2,style:{position:"absolute",top:0,left:0,minWidth:u,height:"100%",opacity:n,zIndex:-1,backgroundColor:null!==(b=r.state.mergeStyle)&&void 0!==b&&b.hasCrossDressing&&null!==(w=r.state.mergeStyle)&&void 0!==w&&w._bgColor?null===(S=r.state.mergeStyle)||void 0===S?void 0:S._bgColor:"#fff"}}),r.state.isShowMask?r.state.tabsNavTop?P.a.createElement(L.a,{key:3,style:e.maskWhite},P.a.createElement(re.a,{start:{x:0,y:0},end:{x:1,y:0},colors:null!==(C=r.state.mergeStyle)&&void 0!==C&&C.hasCrossDressing&&null!==(O=r.state.mergeStyle)&&void 0!==O&&O._bgColor?[Object(oe.f)(null===(T=r.state.mergeStyle)||void 0===T?void 0:T._bgColor.toUpperCase(),0),Object(oe.f)(null===(x=r.state.mergeStyle)||void 0===x?void 0:x._bgColor.toUpperCase(),1)]:[Object(oe.f)(i.C32.color,0),Object(oe.f)(i.C32.color,1)],style:{height:"100%"}},P.a.createElement(J.a,null," "))):P.a.createElement(L.a,{style:e.maskGray},P.a.createElement(re.a,{start:{x:0,y:0},end:{x:1,y:0},colors:null!==(I=r.state.mergeStyle)&&void 0!==I&&I.hasCrossDressing&&null!==(k=r.state.mergeStyle)&&void 0!==k&&k._bgColor?[Object(oe.f)(null===(E=r.state.mergeStyle)||void 0===E?void 0:E._bgColor.toUpperCase(),0),Object(oe.f)(null===(j=r.state.mergeStyle)||void 0===j?void 0:j._bgColor.toUpperCase(),1)]:[Object(oe.f)(i.C32.color,0),Object(oe.f)(i.C32.color,1)],style:{height:"100%"}},P.a.createElement(J.a,null," "))):P.a.createElement(L.a,{key:3})))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!M()(this.props.tabs,e.tabs)&&this.state._containerWidth&&this.setState({_containerWidth:null})}}]),n}(O.Component),w()(o,"defaultProps",{scrollOffset:52,activeTextColor:"navy",inactiveTextColor:"black",backgroundColor:"#fff",style:{},tabStyle:{},tabsContainerStyle:{},underlineStyle:{},tabFontSize:15}),r=o))||r,he=(Y.a.create({tab:{height:49,alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20},container:{height:50,borderWidth:1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderColor:"#ccc"},tabs:{flexDirection:"row",justifyContent:"space-around"}}),n(63)),ge=n(255),me=n(16),ye=n(198),ve=n(200);function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var we=Object(te.c)((pe=function(e){h()(n,e);var t=be(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"LrState",void 0),w()(p()(r),"tabBox",!1),w()(p()(r),"tabViewWrapper",[]),w()(p()(r),"stopFlag",!1),w()(p()(r),"viewRef",void 0),w()(p()(r),"firstRender",!0),w()(p()(r),"timer1",void 0),w()(p()(r),"dataList",Object(me.n)(ge.a.dataList,{exportMapsAsObjects:!1})),w()(p()(r),"subTabStyleChange",void 0),w()(p()(r),"fontSubTabStyleChange",void 0),w()(p()(r),"crossDressStyle",null),w()(p()(r),"itemlist",[]),w()(p()(r),"getCrossDress",(function(){var e=r.props,t=e.styleChange,n=e.pageType;if(t){var o,i,a,l="string"==typeof t?JSON.parse(t):t,s=Object(I.a)(Object(oe.x)(n||"homePage").screenWidth);r.crossDressStyle=Object(oe.i)(l,s),r.crossDressStyle._bgColor=t._bgColor||("transparent"===(null===(o=r.crossDressStyle.imgStyle)||void 0===o?void 0:o.backgroundColor)||null===(i=r.crossDressStyle.imgStyle)||void 0===i?void 0:i.backgroundColor),r.crossDressStyle.fontColor=null===(a=r.crossDressStyle.textStyle)||void 0===a?void 0:a.color,r.crossDressStyle.hasCrossDressing=!0}})),r.state={currentPage:0,scrollY:new R.a.Value(0),layoutY:0,tabViewStyle:{zIndex:3}},r._onLayout=r._onLayout.bind(p()(r)),r.subTabStyleChange=e.styleChange?JSON.parse(e.styleChange):{},r.fontSubTabStyleChange=e.styleChange?JSON.parse(e.styleChange):{},C()(r.fontSubTabStyleChange)||(r.fontSubTabStyleChange._bgColor="1"===r.fontSubTabStyleChange.bgFill&&r.fontSubTabStyleChange.bgColor||"",r.fontSubTabStyleChange.bgFill="0",r.fontSubTabStyleChange.bgColor=""),r}return u()(n,[{key:"_handleTabHeight",value:function(e){try{if(!this.stopFlag){var t=e.i>e.from;this.props.slideItem(e,e.i,0,t)}}catch(e){}}},{key:"onPressHandler",value:function(e,t){var n=this;this.props.clickItem(e,t),this.stopFlag=!0,this.timer1&&clearTimeout(this.timer1),this.timer1=setTimeout((function(){n.stopFlag=!1}),1e3),T.a.emit("tabSwitch",t)}},{key:"_onLayout",value:function(e){var t=this;this.firstRender&&setTimeout((function(){t.firstRender=!1}),2e3);var n=this.props,r=n.hasTabTop;("true"===n.isFixed||this.firstRender)&&this.setState({layoutY:e.nativeEvent.layout.y+(r?36:0)})}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){this.timer1&&clearTimeout(this.timer1)}},{key:"_getPages",value:function(){var e=this,t=this.props,n=t.subTabSet,r=t.styleChange,o=t.pageType,i=t.pageId,l=t.randomId,s=t.pageCatCode,c=t.pageCatName,u=t.isPageStyleChange,d="true"===this.props.isFixed,p="true"===this.props.subTitleShow,f={cards:[],pageCatCode:s,pageCatName:c};return n?n.map((function(t,s){var c,h,g;return f.cards=n[s].cards,f.cards.map((function(t){Object(ve.b)(t,r,e.fontSubTabStyleChange,u),t.withTabs=!0,t.tabIndex=s.toString()})),t.subTitle=t.subTitle?t.subTitle:"",P.a.createElement(D.a,{heading:t.tabName,onEndReachedEnable:!1,tabs:t.tabName,subTitleLabel:t.subTitle,topFixed:d,subTitleShow:p,key:s},"page"===t.cards[0].cardType?P.a.createElement(ye.a,{pageId:JSON.parse(t.cards[0].configInfo).relatedPageId,pageType:"subTabSetPage",parentPageType:o,parentPageId:i,parentRandomId:l}):P.a.createElement(L.a,{ref:function(t){e.tabViewWrapper.push(t)},style:null!==(c=e.crossDressStyle)&&void 0!==c&&c.hasCrossDressing&&null!==(h=e.crossDressStyle)&&void 0!==h&&h._bgColor?{backgroundColor:u?"transparent":null===(g=e.crossDressStyle)||void 0===g?void 0:g._bgColor,minHeight:x.a.get("window").height}:{}},P.a.createElement(W.a,a()({},Object(N.a)(f,o,0,!1,{},i),{mapComponents:A.a}))))})):P.a.createElement(L.a,null)}},{key:"render",value:function(){var e,t,n,r=this;this.getCrossDress();var o,i,l=this.props,s=l.cardName,c=l.tabname,u=l.tabindex,d=l.subTabSet,p=l.styleChange,f=l.pageType,h=l.pageId,g=l.canSlideSwitch,m=l.topSubTitleHide,y=l.isPageStyleChange,v=d.length,b="true"===g,w=null===(e=this.dataList)||void 0===e||null===(t=e.get(h)[0])||void 0===t?void 0:t.subTabSetIsFirst,S="homePage"===f;(c&&"number"!=typeof u||(c=he.a.tabname,u=he.a.tabindex),u>=v)?o=0:o=s==c&&null!==(i=u)&&void 0!==i?i:0;return P.a.createElement(P.a.Fragment,null,P.a.createElement(L.a,{style:w?null:{marginTop:null!==(n=this.crossDressStyle)&&void 0!==n&&n.hasCrossDressing&&!y?S?-8:-12:0},onLayout:this._onLayout}),P.a.createElement(L.a,{style:{zIndex:3}},P.a.createElement(_.a,a()({onChangeTab:function(e){r._handleTabHeight(e)}},this.props,{style:this.state.tabViewStyle,prerenderingSiblingsNumber:0,locked:!b,renderTabBar:function(e){return P.a.createElement(fe,a()({onClick:function(t){r.onPressHandler(e,t)}},e,{subTabSet:r.props.subTabSet,stickyScrollY:r.props.stickyScrollY,pageType:f,styleChange:p,layoutY:r.state.layoutY,isFixed:r.props.isFixed,topSubTitleHide:m,headStyles:r.props.headStyles}))},layoutY:this.state.layoutY,initialPage:o,width:this.props.width,pageType:this.props.pageType}),this._getPages())))}}]),n}(P.a.PureComponent),w()(pe,"defaultProps",{hasTabTop:!1}),de=pe))||de;t.a=Object(k.a)(E.a)(Object(j.a)(we))},,,,,function(e,t,n){"use strict";var r=n(531),o=n(534),i=[].slice,a=["keyword","gray","hex"],l={};Object.keys(o).forEach((function(e){l[i.call(o[e].labels).sort().join("")]=e}));var s={};function c(e,t){if(!(this instanceof c))return new c(e,t);if(t&&t in a&&(t=null),t&&!(t in o))throw new Error("Unknown model: "+t);var n,u;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof c)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=r.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,u=o[this.model].channels,this.color=d.value.slice(0,u),this.valpha="number"==typeof d.value[u]?d.value[u]:1}else if(e.length){this.model=t||"rgb",u=o[this.model].channels;var p=i.call(e,0,u);this.color=f(p,u),this.valpha="number"==typeof e[u]?e[u]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var h=Object.keys(e);"alpha"in e&&(h.splice(h.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var g=h.sort().join("");if(!(g in l))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=l[g];var m=o[this.model].labels,y=[];for(n=0;n<m.length;n++)y.push(e[m[n]]);this.color=f(y)}if(s[this.model])for(u=o[this.model].channels,n=0;n<u;n++){var v=s[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function u(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(s[e]||(s[e]=[]))[t]=n})),e=e[0],function(r){var o;return arguments.length?(n&&(r=n(r)),(o=this[e]()).color[t]=r,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function p(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=o[this.model].channels,n=o[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new c(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:u("rgb",0,d(255)),green:u("rgb",1,d(255)),blue:u("rgb",2,d(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:u("hsl",1,d(100)),lightness:u("hsl",2,d(100)),saturationv:u("hsv",1,d(100)),value:u("hsv",2,d(100)),chroma:u("hcg",1,d(100)),gray:u("hcg",2,d(100)),white:u("hwb",1,d(100)),wblack:u("hwb",2,d(100)),cyan:u("cmyk",0,d(100)),magenta:u("cmyk",1,d(100)),yellow:u("cmyk",2,d(100)),black:u("cmyk",3,d(100)),x:u("xyz",0,d(100)),y:u("xyz",1,d(100)),z:u("xyz",2,d(100)),l:u("lab",0,d(100)),a:u("lab",1),b:u("lab",2),keyword:function(e){return arguments.length?new c(e):o[this.model].keyword(this.color)},hex:function(e){return arguments.length?new c(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return c.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),o=void 0===t?.5:t,i=2*o-1,a=n.alpha()-r.alpha(),l=((i*a==-1?i:(i+a)/(1+i*a))+1)/2,s=1-l;return c.rgb(l*n.red()+s*r.red(),l*n.green()+s*r.green(),l*n.blue()+s*r.blue(),n.alpha()*o+r.alpha()*(1-o))}},Object.keys(o).forEach((function(e){if(-1===a.indexOf(e)){var t=o[e].channels;c.prototype[e]=function(){if(this.model===e)return new c(this);if(arguments.length)return new c(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new c(p(o[this.model][e].raw(this.color)).concat(n),e)},c[e]=function(n){return"number"==typeof n&&(n=f(i.call(arguments),t)),new c(n,e)}}})),e.exports=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return Fe}));var r=n(0),o=n.n(r);function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var a=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r},l=function(e){return e.match(/^(ali|wechat|toutiao)-/)};function s(e){return Object.keys(e).reduce((function(t,n){var r=n;return"web"===Object({NODE_ENV:"production",ENV_CONFIG:"prod",SET_PAGE:"webpack.prod.config.js"}).REMAX_PLATFORM&&(r=function(e){return e.replace(/^web-/,"")}(n)),l(r)||(t[r]=e[n]),t}),{})}var c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};var u=function(e){var t=e.hoverDuration,n=e.hoverDelay,o=e.onLongTap,i=e.onTouchCancel,a=e.onTouchEnd,l=e.onTouchMove,s=e.onTouchStart,u=c(r.useState(!1),2),d=u[0],p=u[1],f=r.useRef(!1),h=r.useRef([]);function g(e,t){var n=setTimeout((function(){e(),h.current.filter((function(e){return e!==n}))}),t);h.current.push(n)}return r.useEffect((function(){return function(){h.current.forEach((function(e){return clearTimeout(e)}))}}),[]),[d,function(e){if(f.current=!0,g((function(){f.current&&p(!0)}),n),g((function(){f.current&&"function"==typeof o&&o(e)}),350),"function"==typeof s)return s(e)},function(e){if(f.current=!1,g((function(){d&&p(!1)}),t),"function"==typeof l)return l(e)},function(e){if(f.current=!1,g((function(){d&&p(!1)}),t),"function"==typeof a)return a(e)},function(e){if(f.current=!1,g((function(){d&&p(!1)}),t),"function"==typeof i)return i(e)}]},d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h=(r.forwardRef((function(e,t){var n,o=s(e),i=o.hoverClassName,l=o.hoverStartTime,c=void 0===l?400:l,h=o.hoverStayTime,g=void 0===h?50:h,m=o.className,y=o.onTouchStart,v=o.onTouchMove,b=o.onTouchEnd,w=o.onTouchCancel,S=o.onTap,C=o.onLongTap,O=p(o,["hoverClassName","hoverStartTime","hoverStayTime","className","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTap","onLongTap"]),P=f(u({hoverDelay:c,hoverDuration:g,onLongTap:C,onTouchStart:y,onTouchMove:v,onTouchEnd:b,onTouchCancel:w}),5),T=P[0],x=P[1],I=P[2],k=P[3],E=P[4];return r.createElement("button",d({},O,{onTouchStart:x,onTouchMove:I,onTouchEnd:k,ref:t,onTouchCancel:E,className:a("remax-button",m,(n={},n[i||""]=T,n)),onClick:S}))})),function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),g=(r.forwardRef((function(e,t){return r.createElement("form",h({},s(e),{ref:t}))})),{scaleToFill:{backgroundSize:"100% 100%"},aspectFit:{backgroundSize:"contain",backgroundPosition:"center"},widthFix:{backgroundSize:"100% 100%",height:"auto",lineHeight:0},aspectFill:{backgroundSize:"cover",backgroundPosition:"center"},top:{backgroundPosition:"top"},bottom:{backgroundPosition:"bottom"},center:{backgroundPosition:"center"},left:{backgroundPosition:"center left"},right:{backgroundPosition:"center right"},"top left":{backgroundPosition:"top left"},"top right":{backgroundPosition:"top right"},"bottom left":{backgroundPosition:"bottom left"},"bottom right":{backgroundPosition:"bottom right"}}),m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},v=r.forwardRef((function(e,t){var n=s(e),o=n.className,i=n.src,l=n.style,c=n.mode,u=void 0===c?"scaleToFill":c,d=n.onTap,p=n.onLoad,f=n.onError,h=y(n,["className","src","style","mode","onTap","onLoad","onError"]),v="widthFix"===u;return r.createElement("div",m({},h,{onClick:d,className:a("remax-image",o),style:m(m(m({},g[u]),{backgroundImage:"url("+i+")",backgroundRepeat:"no-repeat"}),l)}),r.createElement("img",{src:i,ref:t,style:{visibility:"hidden",width:v?"100%":void 0,height:v?"auto":"1px"},onLoad:p,onError:f}))})),b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var w=["Webkit","ms","Moz","O"],S=function(e){w.forEach((function(t){b[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=b[e]}))};for(var C in b)S(C);var O=n(14),P=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},T=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e},x=["webkit","moz","ms","o"],I=function(e){if(null==e?void 0:e.startsWith("--"))return e;var t=e.replace(/\.?([A-Z]+)/g,(function(e,t){return"-"+t.toLowerCase()}));if(null==t?void 0:t.startsWith("-")){var n=t.split("-").filter((function(e){return e}))[0];t=t.replace(/^-/,""),x.find((function(e){return e===n}))&&(t="-"+t)}return t},k=function(e){return"string"!=typeof e?e:e.replace(/\b(\d+(\.\d+)?)px\b/g,(function(e,t){var n=Number(t/100);return n%1==0?n+"rem":n.toFixed(2)+"rem"}))},E=function(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return Number.isNaN(Number(r))||b[n]||(r+="rpx"),T(t,[I(n)+":"+(O.g.get("pxToRpx")?k(r):r)+";"])}),[]).join("\n"):""},j=0;function R(e){var t=r.useRef("remax-placeholder-style-"+j++);return r.useEffect((function(){var n="."+t.current+"::placeholder {\n    "+E(e)+"\n  }",r=window.document.createElement("style");r.type="text/css",r.appendChild(document.createTextNode(n));var o=window.document.head||window.document.getElementsByTagName("head")[0];return o.appendChild(r),function(){o.removeChild(r)}}),[e]),[t.current]}var L,_=function(){return(_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},N=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},W=(r.forwardRef((function(e,t){var n=s(e),o=n.password,i=n.type,l=n.onConfirm,c=n.onKeyPress,u=n.placeholderStyle,d=n.className,p=D(n,["password","type","onConfirm","onKeyPress","placeholderStyle","className"]),f=N(R(u),1)[0],h=o?"password":i;return r.createElement("input",_({},p,{ref:t,type:h,onKeyPress:function(e){"Enter"===e.key&&"function"==typeof l&&l(e),"function"==typeof c&&c(e)},className:a("remax-input",d,f)}))})),function(){return(W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),A=(r.forwardRef((function(e,t){return r.createElement("label",W({},s(e),{ref:t}))})),function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),B=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},M=(r.forwardRef((function(e,t){var n=s(e),o=n.className,i=n.url,l=n.action,c=(n.hoverClassName,n.hoverStartTime,n.hoverStayTime,B(n,["className","url","action","hoverClassName","hoverStartTime","hoverStayTime"])),u=O.g.get("history");return r.createElement("div",A({},c,{className:a(o),onClick:function(){switch(l){case"reLaunch":window.location.href=window.location.hostname+i;break;case"redirect":u.replace(i);break;case"navigate":case"switchTab":default:u.push(i)}}}))})),function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),F=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},H=(r.forwardRef((function(e,t){var n=s(e),o=n.onTap,i=n.onTouchStart,l=n.onTouchMove,c=n.onTouchEnd,u=n.onTouchCancel,d=n.className,p=n.selectable,f=F(n,["onTap","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","className","selectable"]),h=r.useRef(!1);return r.createElement("span",M({},f,{className:a(d,{"remax-text-selectable":p}),ref:t,onClick:o,onTouchStart:function(e){if(h.current=!0,"function"==typeof i)return i(e)},onTouchMove:function(e){if(h.current=!1,"function"==typeof l)return l(e)},onTouchEnd:function(e){if(h.current=!1,"function"==typeof c)return c(e)},onTouchCancel:function(e){if(h.current=!1,"function"==typeof u)return u(e)}}))})),n(261)),z=n.n(H),U=function(){return(U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},G=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Y=(r.forwardRef((function(e,t){var n=s(e),o=n.onConfirm,i=n.onKeyPress,l=n.autoHeight,c=n.className,u=n.placeholderStyle,d=V(n,["onConfirm","onKeyPress","autoHeight","className","placeholderStyle"]),p=G(R(u),1)[0];function f(e){"Enter"===e.key&&"function"==typeof o&&o(e),"function"==typeof i&&i(e)}var h=a("remax-textarea",c,p);return l?r.createElement(z.a,U({},d,{className:h,ref:t,onKeyPress:f})):r.createElement("textarea",U({},d,{className:h,ref:t,onKeyPress:f}))})),function(){return(Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),J=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},K=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},q=(r.forwardRef((function(e,t){var n,o=s(e),i=o.hoverClassName,l=o.hoverStartTime,c=void 0===l?50:l,d=o.hoverStayTime,p=void 0===d?400:d,f=o.className,h=o.onTouchStart,g=o.onTouchMove,m=o.onTouchEnd,y=o.onTouchCancel,v=o.onTap,b=o.onLongTap,w=J(o,["hoverClassName","hoverStartTime","hoverStayTime","className","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTap","onLongTap"]),S=K(u({hoverDelay:c,hoverDuration:p,onLongTap:b,onTouchStart:h,onTouchMove:g,onTouchEnd:m,onTouchCancel:y}),5),C=S[0],O=S[1],P=S[2],T=S[3],x=S[4];return r.createElement("div",Y({},w,{ref:t,onTouchStart:O,onTouchMove:P,onTouchEnd:T,onTouchCancel:x,className:a(f,(n={},n[i||""]=C,n)),onClick:v}))})),function(){return(q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),Q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},$=(r.forwardRef((function(e,t){var n=s(e),o=n.onMessage,i=Q(n,["onMessage"]);return r.useEffect((function(){var e=function(e){"function"==typeof o&&o(e)};return window.addEventListener("message",e,!1),function(){return window.removeEventListener("message",e)}}),[]),r.createElement("iframe",q({},i,{className:a("remax-web-view",e.className),ref:t}))})),n(93)),X=(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}X(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children)}}(r.Component);n(138);var Z=n(191),ee=n.n(Z),te=n(192),ne=n.n(te),re=n(193),oe=n.n(re),ie=n(194),ae=n.n(ie),le=n(195),se=n.n(le),ce=n(123),ue=n.n(ce),de=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},pe=function(e){function t(){return ne()(this,t),ae()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return se()(t,e),oe()(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return o.a.createElement("div",null,this.props.render())}}]),t}(o.a.Component);function fe(e,t){e.transform=t,e.webkitTransform=t,e.MozTransform=t}var he="undefined"!=typeof navigator&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),ge="down",me="up",ye={activate:"release",deactivate:"pull",release:"loading",finish:"finish"},ve=!1;try{var be=Object.defineProperty({},"passive",{get:function(){ve=!0}});window.addEventListener("test",null,be)}catch(e){}var we=!!ve&&{passive:!1},Se=function(e){function t(){ne()(this,t);var e=ae()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currSt:"deactivate",dragOnEdge:!1},e._isMounted=!1,e.shouldUpdateChildren=!1,e.triggerPullToRefresh=function(){!e.state.dragOnEdge&&e._isMounted&&(e.props.refreshing?(e.props.direction===me&&(e._lastScreenY=-e.props.distanceToRefresh-1),e.props.direction===ge&&(e._lastScreenY=e.props.distanceToRefresh+1),e.setState({currSt:"release"},(function(){return e.setContentStyle(e._lastScreenY)}))):e.setState({currSt:"finish"},(function(){return e.reset()})))},e.init=function(t){t&&(e._to={touchstart:e.onTouchStart.bind(e,t),touchmove:e.onTouchMove.bind(e,t),touchend:e.onTouchEnd.bind(e,t),touchcancel:e.onTouchEnd.bind(e,t)},Object.keys(e._to).forEach((function(n){t.addEventListener(n,e._to[n],we)})))},e.destroy=function(t){e._to&&t&&Object.keys(e._to).forEach((function(n){t.removeEventListener(n,e._to[n])}))},e.onTouchStart=function(t,n){e._ScreenY=e._startScreenY=n.touches[0].screenY,e._startScreenX=n.touches[0].screenX,e._lastScreenY=e._lastScreenY||0},e.isEdge=function(t,n){var r=e.props.getScrollContainer();if(r&&r===document.body){var o=document.scrollingElement?document.scrollingElement:document.body;if(n===me)return o.scrollHeight-o.scrollTop<=window.innerHeight;if(n===ge)return o.scrollTop<=0}return n===me?t.scrollHeight-t.scrollTop===t.clientHeight:n===ge?t.scrollTop<=0:void 0},e.damping=function(t){return Math.abs(e._lastScreenY)>e.props.damping?0:t*=(1-Math.abs(e._ScreenY-e._startScreenY)/window.screen.height)*e.props.scale},e.onTouchMove=function(t,n){var r=n.touches[0].screenY,o=n.touches[0].screenX,i=e.props.direction;if(!(Math.abs(o-e._startScreenX)>20*window.devicePixelRatio)&&!(i===me&&e._startScreenY<r||i===ge&&e._startScreenY>r)&&e.isEdge(t,i)){e.state.dragOnEdge||(e._ScreenY=e._startScreenY=n.touches[0].screenY,e.setState({dragOnEdge:!0})),n.preventDefault();var a=Math.round(r-e._ScreenY);e._ScreenY=r,e._lastScreenY+=e.damping(a),e.setContentStyle(e._lastScreenY),Math.abs(e._lastScreenY)<e.props.distanceToRefresh?"deactivate"!==e.state.currSt&&e.setState({currSt:"deactivate"}):"deactivate"===e.state.currSt&&e.setState({currSt:"activate"}),he&&n.changedTouches[0].clientY<0&&e.onTouchEnd()}},e.onTouchEnd=function(){e.state.dragOnEdge&&e.setState({dragOnEdge:!1}),"activate"===e.state.currSt?(e.setState({currSt:"release"}),e._timer=setTimeout((function(){e.props.refreshing||e.setState({currSt:"finish"},(function(){return e.reset()})),e._timer=void 0}),1e3),e.props.onRefresh()):e.reset()},e.reset=function(){e._lastScreenY=0,e.setContentStyle(0)},e.setContentStyle=function(t){e.contentRef&&fe(e.contentRef.style,"translate3d(0px,"+t+"px,0)")},e}return se()(t,e),oe()(t,[{key:"shouldComponentUpdate",value:function(e){return this.shouldUpdateChildren=this.props.children!==e.children,!0}},{key:"componentDidUpdate",value:function(e){e!==this.props&&e.refreshing!==this.props.refreshing&&this.triggerPullToRefresh()}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.init(e.props.getScrollContainer()||e.containerRef),e.triggerPullToRefresh(),e._isMounted=!0}))}},{key:"componentWillUnmount",value:function(){this.destroy(this.props.getScrollContainer()||this.containerRef)}},{key:"render",value:function(){var e=this,t=ee()({},this.props);delete t.damping;var n=t.className,r=t.prefixCls,i=t.children,a=t.getScrollContainer,l=t.direction,s=(t.onRefresh,t.refreshing,t.indicator),c=(t.distanceToRefresh,de(t,["className","prefixCls","children","getScrollContainer","direction","onRefresh","refreshing","indicator","distanceToRefresh"])),u=o.a.createElement(pe,{shouldUpdate:this.shouldUpdateChildren,render:function(){return i}}),d=function(t){var n=ue()(t,!e.state.dragOnEdge&&r+"-transition");return o.a.createElement("div",{className:r+"-content-wrapper"},o.a.createElement("div",{className:n,ref:function(t){return e.contentRef=t}},l===me?u:null,o.a.createElement("div",{className:r+"-indicator"},s[e.state.currSt]||ye[e.state.currSt]),l===ge?u:null))};return a()?d(r+"-content "+r+"-"+l):o.a.createElement("div",ee()({ref:function(t){return e.containerRef=t},className:ue()(n,r,r+"-"+l)},c),d(r+"-content"))}}]),t}(o.a.Component);Se.defaultProps={prefixCls:"rmc-pull-to-refresh",getScrollContainer:function(){},direction:ge,distanceToRefresh:25,damping:100,indicator:ye,scale:.6};!function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)}}();n(66);r.useEffect;n(64),n(160),n(72),n(197);var Ce=n(97),Oe=n(62);function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Te=n(77),xe=n(159),Ie=n.n(xe);function ke(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var Ee=o.a.createContext();var je={initialChunks:{}};var Re=function(e){return e};function Le(e){var t=e.defaultResolveComponent,n=void 0===t?Re:t,r=e.render,i=e.onLoad;function a(e,t){void 0===t&&(t={});var a=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),l={};function s(e){return t.cacheKey?t.cacheKey(e):a.resolve?a.resolve(e):"static"}function c(e,r,o){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!Object($.isValidElementType)(i))throw new Error("resolveComponent returned something that is not a React component!");return Ie()(o,i,{preload:!0}),i}var u,d,p=function(e){var t=s(e),n=l[t];return n&&"REJECTED"!==n.status||((n=a.requireAsync(e)).status="PENDING",l[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:a.resolve(e),chunkName:a.chunkName(e),error:t?t.message:t}),n.status="REJECTED"}))),n},f=function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:s(n)},ke(!n.__chunkExtractor||a.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(a.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(a.chunkName(n))),Pe(r)):(!1!==t.ssr&&(a.isReady&&a.isReady(n)||a.chunkName&&je.initialChunks[a.chunkName(n)])&&r.loadSync(),r)}Object(Te.a)(n,e),n.getDerivedStateFromProps=function(e,t){var n=s(e);return Object(Oe.a)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var o=n.prototype;return o.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&"REJECTED"===e.status&&this.setCache(),this.state.loading&&this.loadAsync()},o.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},o.componentWillUnmount=function(){this.mounted=!1},o.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},o.getCacheKey=function(){return s(this.props)},o.getCache=function(){return l[this.getCacheKey()]},o.setCache=function(e){void 0===e&&(e=void 0),l[this.getCacheKey()]=e},o.triggerOnLoad=function(){var e=this;i&&setTimeout((function(){i(e.state.result,e.props)}))},o.loadSync=function(){if(this.state.loading)try{var e=c(a.requireSync(this.props),this.props,g);this.state.result=e,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:a.resolve(this.props),chunkName:a.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},o.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=c(t,e.props,g);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},o.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,Object(Ce.a)(e,["__chunkExtractor","forwardedRef"]));return p(t)},o.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,i=(e.__chunkExtractor,Object(Ce.a)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,l=a.error,s=a.loading,c=a.result;if(t.suspense&&"PENDING"===(this.getCache()||this.loadAsync()).status)throw this.loadAsync();if(l)throw l;var u=o||t.fallback||null;return s?u:r({fallback:u,result:c,options:t,props:Object(Oe.a)({},i,{ref:n})})},n}(o.a.Component),h=(d=function(e){return o.a.createElement(Ee.Consumer,null,(function(t){return o.a.createElement(u,Object.assign({__chunkExtractor:t},e))}))},(u=f).displayName&&(d.displayName=u.displayName+"WithChunkExtractor"),d),g=o.a.forwardRef((function(e,t){return o.a.createElement(h,Object.assign({forwardedRef:t},e))}));return g.displayName="Loadable",g.preload=function(e){g.load(e)},g.load=function(e){return p(e)},g}return{loadable:a,lazy:function(e,t){return a(e,Object(Oe.a)({},t,{suspense:!0}))}}}var _e=Le({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o.a.createElement(t,n)}}),De=_e.loadable,Ne=_e.lazy,We=Le({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),Ae=We.loadable,Be=We.lazy;var Me=De;Me.lib=Ae,Ne.lib=Be;n(136);function Fe(e){return O.g.get("history").go(-((null==e?void 0:e.delta)||1)),Promise.resolve()}},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,o=/^ms-/,i={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,a);return i[e]=o.test(t)?"-"+t:t}},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(126),w=n(37),S=n(43),C=n(152),O=n(49),P=n(22),T=n(432),x=n(102),I=n(208),k=n(20);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var j=function(e){u()(n,e);var t=E(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"lister1",void 0),m()(s()(r),"sortTap",(function(e,t){var n="0";if("filter"===e.sortCode){r.props.onSlideShowTap(!0);var o={searchWord:r.props.searchWord,click:"1"};return r.props.clickItem(o,"filter"),void Object(P.b)("",!0)}if("0"==e.sortType)n="0";else if("1"==e.sortType)n="1";else if("2"==e.sortType){var i;n=e.sortCode===(null===(i=r.state.searchSortField)||void 0===i?void 0:i.toString())&&"1"==r.state.searchSortType?"0":"1"}if(r.setState({searchSortField:e.sortCode,searchSortType:n,index:t},(function(){r.props.onChangesTap({searchSortField:r.state.searchSortField,searchSortType:r.state.searchSortType})})),"filter"!==e.sortCode){var a,l,s={id:null===(a=e.sortCode)||void 0===a?void 0:a.toString(),sortName:null===(l=e.sortName)||void 0===l?void 0:l.toString(),click:"1"};r.props.clickItem(s,"sort"),Object(P.b)("",!0)}})),m()(s()(r),"renderItem",(function(e,t){return r.state.cardItem.map((function(n,o){return v.a.createElement(b.a,{key:o,activeOpacity:1,onPress:function(){r.sortTap(n,o)},style:[e.searchCategoriesItem]},"ios"===w.a.OS&&"filter"===n.sortCode?v.a.createElement(S.a,{style:{width:.5,height:16,backgroundColor:t.C39.color+"0c"}}):null,v.a.createElement(C.a,{numberOfLines:1,ellipsizeMode:"tail",style:[o===r.state.index&&"filter"!==n.sortCode?e.codeTextCed:e.codeTextC,"filter"===n.sortCode?e.bordL:null]},n.sortName),"2"==n.sortType?v.a.createElement(S.a,{style:e.sortIcon},v.a.createElement(S.a,{style:e.spinner_up},v.a.createElement(k.a,{normalCol:n.sortCode===r.state.searchSortField.toString()&&"0"===r.state.searchSortType&&3===r.state.index?t.C35.color:t.C23.color,opacity:n.sortCode===r.state.searchSortField.toString()&&"0"===r.state.searchSortType&&3===r.state.index?t.C35.opacity:t.C23.opacity,iconName:"ic_spinner_up",width:24,height:24})),v.a.createElement(S.a,{style:e.spinner_down},v.a.createElement(k.a,{normalCol:n.sortCode===r.state.searchSortField.toString()&&"1"===r.state.searchSortType&&3===r.state.index?t.C35.color:t.C23.color,opacity:n.sortCode===r.state.searchSortField.toString()&&"1"===r.state.searchSortType&&3===r.state.index?t.C35.opacity:t.C23.opacity,iconName:"ic_spinner_down",width:24,height:24}))):null)}))})),r.state={cardItem:[],searchSortField:0,searchSortType:"1",index:0},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=void 0===n?[]:n;t.labelListLength>1&&r.push({sortCode:"filter",sortName:Object(T.b)("filter"),sortType:"1"}),this.setState({cardItem:r||[]}),this.lister1=O.a.addListener("changeFilters_cate",(function(t){e.setState({index:t,searchSortType:"0"})}))}},{key:"UNSAFE_componentWillMount",value:function(){this.lister1&&this.lister1.remove()}},{key:"render",value:function(){var e=this;return v.a.createElement(x.b,{themeStyles:I.c},(function(t,n){return v.a.createElement(S.a,{style:[t.searchCategories]},e.renderItem(t,n))}))}}]),n}(v.a.PureComponent);t.a=j},,,,,,,function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],u=!1,d=-1;function p(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=l(p);u=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||l(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(446),S=n(953),C=n(126),O=n(43),P=n(152),T=n(103),x=n(48),I=n(102),k=n(57),E=n(53);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L,_,D,N,W,A=function(e){return k.a.create({contentBox:R({borderRadius:16,paddingLeft:16,paddingRight:16,flexDirection:"column",justifyContent:"flex-start"},e.S31),bigCardUser:{marginTop:12,height:32,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexShrink:1},bigCardUserImg:{width:32,height:32,borderRadius:56},bigCardUserName:R(R(R({marginLeft:6,flexShrink:1},e.T10),e.C12),{},{fontFamily:E.a.fontFamilyMedium}),bigCardTitle:{backgroundColor:e.C70.color+"0c",height:28,borderRadius:56,flexDirection:"row",justifyContent:"flex-start",alignItems:"center",flexShrink:1},bigCardNoTitle:{height:28},bigCardTitleContent:R(R(R({},e.T4),e.C12),{},{marginLeft:8,marginRight:8,flexShrink:1,fontFamily:E.a.fontFamilyMedium}),bigCardContent:R(R(R({height:19,flexShrink:1},e.T7),e.C12),{},{fontFamily:E.a.fontFamilyBase}),bigCardMore:{flexDirection:"row",marginTop:8,height:16,justifyContent:"space-between"},bigCardDate:R(R(R({},e.C15),e.T3),{},{fontFamily:E.a.fontFamilyBase}),bigCardSvgAndLikes:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},bigCardUnLikeSvg:{marginRight:3},bigCardLikes:R(R(R({},e.C15),e.T1),{},{fontFamily:E.a.fontFamilyBase}),img:{width:"100%",height:"100%",backgroundColor:e.C34.color}})},B=n(19),M=n(3),F=n(20),H=n(23),z=n(51),U=n(38),V=n(25),G=n(96),Y=n(12),J=n(21),K=n(22),q=n(10),Q={clickItem:function(e,t){var n,r;return{data:{actionCode:"android"===b.a.OS||"ios"===b.a.OS?0===t?"100570004":1===t?"100580005":2===t?"100590002":"":0===t?"200450004":1===t?"200460005":2===t?"200470002":"",actionName:"点击内容大卡组件",eventType:q.e.EVENT_TYPE_CLICK,content:0===t?{ruleId:e.ruleId||"",contentId:e.TypeName||"",productId:"",productname:"",SKUCode:"",index:null===(n=e.index)||void 0===n?void 0:n.toString(),click:"1",tabIndex:e.tabIndex||"",tabName:e.tabName||""}:{ruleId:e.ruleId||"",contentID:e.TypeName||"",index:null===(r=e.index)||void 0===r?void 0:r.toString(),click:"1"}}}}},$=n(24),X=n(32);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var ee=Object(X.b)("store")(L=Object(X.c)((_=function(e){u()(n,e);var t=Z(n);function n(e){var r,i,a;return o()(this,n),a=t.call(this,e),m()(s()(a),"item",void 0),m()(s()(a),"player",void 0),m()(s()(a),"timer1",void 0),m()(s()(a),"timer2",void 0),m()(s()(a),"_panResponder",void 0),m()(s()(a),"_panResponderApk",void 0),m()(s()(a),"isApkOrIos",(function(){return"android"===b.a.OS||"ios"===b.a.OS})),m()(s()(a),"prodRef",(function(e){a.item=e})),m()(s()(a),"getDate",(function(e){var t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1+"月")+(t.getDate()+"日")})),m()(s()(a),"dapReportClickData",(function(e,t){var n=a.props,r=n.clickItem,o=n.ruleId,i=n.tabIndex,l=n.tabName,s=n.PageType;-1!==t&&(r({TypeName:e,ruleId:o,index:t,tabIndex:i,tabName:l},s),Object(K.b)("",!0))})),m()(s()(a),"handlePress",(function(e,t,n){var r=a.isApkOrIos()?e+n:"";Object(M.A)(r)})),m()(s()(a),"handleUserPage",(function(e,t,n,r){var o=a.isApkOrIos()?"vmall://com.vmall.client/discoverNew/account?uid="+e+"&nickName="+t+"&headPictureURL="+n+"&source="+r:"";Object(M.A)(o)})),m()(s()(a),"handleApkPress",(function(e,t){var n=0===e?"longContent":1===e?"shortContent":"video";Object(M.A)(a.isApkOrIos()?"vmall://com.vmall.client/discoverNew/"+n+"?contentId="+t:W+t)})),m()(s()(a),"apkAndIosIsLogin",(function(){var e=a.props.store;"boolean"==typeof e.isLogin?a.setState({isLogin:e.isLogin}):null!=e&&e.getIsLogin&&e.getIsLogin().finally((function(){a.setState({isLogin:e.isLogin})}))})),m()(s()(a),"wapIsLogin",(function(){return T.a.get("uid")})),m()(s()(a),"receivePlayer",(function(e){a.player=e})),m()(s()(a),"postLike",(function(e){Object(H.B)({portal:a.isApkOrIos()?"3":"2",country:Y.d.CN,lang:Y.e.CN,beCode:Y.d.CN,version:"",itemID:e,ccsItemType:"1"}).then((function(e){void 0!==e.count&&a.setState({likeCount:e.count,likeView:!0})}))})),m()(s()(a),"postDisLike",(function(e){Object(H.b)({portal:a.isApkOrIos()?"3":"2",country:Y.d.CN,lang:Y.e.CN,version:"",beCode:Y.d.CN,itemID:e,ccsItemType:"1"}).then((function(e){void 0!==e.count&&a.setState({likeCount:e.count,likeView:!1})}))})),m()(s()(a),"handleLike",(function(e,t,n){a.isApkOrIos()?a.state.isLogin?"like"===e?a.postLike(t):a.postDisLike(t):Object(M.A)("vmall://com.vmall.client/home/login"):a.wapIsLogin()?"like"===e?a.postLike(t):a.postDisLike(t):Object(M.A)("".concat(D,"account/applogin?url=")+N)})),a.state={likeView:null!==(r=e.data.isLike)&&void 0!==r&&r,likeCount:null!==(i=e.data.likeCount)&&void 0!==i?i:0,isLogin:!1},a}return a()(n,[{key:"componentDidMount",value:function(){D=U.a.wapDomain,W="".concat(D,"newContent/detail?contentId="),N=U.a.wapsmartLifemain,x.a.isApp()&&this.apkAndIosIsLogin(),"function"==typeof this.props.receiveRef&&this.props.receiveRef(this.item),"function"==typeof this.props.receivePlayer&&this.player&&this.props.receivePlayer(this.player)}},{key:"componentDidUpdate",value:function(){var e=this;"function"==typeof this.props.receiveRef&&("web"===b.a.OS?this.props.receiveRef(this.item):(this.timer1&&clearTimeout(this.timer1),this.timer1=setTimeout((function(){e.props.receiveRef(e.item)}),100))),"function"==typeof this.props.receivePlayer&&("web"===b.a.OS?this.player&&this.props.receivePlayer(this.player):(this.timer2&&clearTimeout(this.timer2),this.timer2=setTimeout((function(){e.player&&e.props.receivePlayer(e.player)}),100)))}},{key:"componentWillUnmount",value:function(){this.timer1&&clearTimeout(this.timer1),this.timer2&&clearTimeout(this.timer2)}},{key:"UNSAFE_componentWillMount",value:function(){this._panResponder=w.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!0}}),this._panResponderApk=w.a.create({onMoveShouldSetPanResponderCapture:function(e,t){return!1}})}},{key:"render",value:function(){var e=this;return v.a.createElement(I.b,{themeStyles:A},(function(t,n){var r,o,i,a,l,s,c,u,d,p,f=e.props,h=f.iWidth,g=f.data,m=f.prop,y=f.isPause,w=f.path,T=f.indexLocation,x=f.style,I=0===g.anonymous?S.a:C.a,k=!(null===(r=g.topicDetail)||void 0===r||!r.title),E=!(null===(o=g.accountDetail)||void 0===o||!o.portraitUri)||"null"!==(null==g||null===(i=g.user)||void 0===i?void 0:i.portraitUri)&&!(null==g||null===(a=g.user)||void 0===a||!a.portraitUri),j=!(null==g||!g.videoUri),R="3:4"===m?4*(h-32)/3:h-32,L=R+163,_=!(null==g||!g.createTime),D=null===(l=g.topicDetail)||void 0===l||null===(s=l.title)||void 0===s?void 0:s.startsWith("#");return v.a.createElement(O.a,"web"===b.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,v.a.createElement(C.a,{ref:e.prodRef,onPress:function(){e.dapReportClickData(null==g?void 0:g.contentId,T),2===g.forwardType&&0===g.contentType?Object(M.A)(g.outerLinks):e.handleApkPress(null==g?void 0:g.contentType,null==g?void 0:g.contentId)},style:[t.contentBox,{width:h,height:L},x]},v.a.createElement(I,{onPress:function(){var t,n,r,o,i,a;e.dapReportClickData(null==g?void 0:g.contentId,T),0!==g.anonymous&&(0===g.source?e.handleUserPage(null==g||null===(t=g.accountDetail)||void 0===t?void 0:t.accountId,null==g||null===(n=g.accountDetail)||void 0===n?void 0:n.accountName,null==g||null===(r=g.accountDetail)||void 0===r?void 0:r.portraitUri,(null==g?void 0:g.source)+""):e.handleUserPage(null==g||null===(o=g.user)||void 0===o?void 0:o.uid,null==g||null===(i=g.user)||void 0===i?void 0:i.nickname,null==g||null===(a=g.user)||void 0===a?void 0:a.portraitUri,(null==g?void 0:g.source)+""))}},v.a.createElement(O.a,{style:t.bigCardUser},v.a.createElement($.a,{localSource:E&&0!==g.anonymous?{uri:0===g.source?null==g||null===(c=g.accountDetail)||void 0===c?void 0:c.portraitUri:null==g||null===(u=g.user)||void 0===u?void 0:u.portraitUri}:B.a.empty_user,imgStyle:t.bigCardUserImg,isUser:!0,resizeMode:"cover"}),v.a.createElement(P.a,{style:t.bigCardUserName,numberOfLines:1,ellipsizeMode:"tail"},0===g.source?null==g||null===(d=g.accountDetail)||void 0===d?void 0:d.accountName:null==g||null===(p=g.user)||void 0===p?void 0:p.nickname))),v.a.createElement(C.a,{style:{width:h-32,height:R,marginTop:12,borderRadius:8,overflow:"hidden"},onPress:function(){e.dapReportClickData(null==g?void 0:g.contentId,T),2===g.forwardType&&0===g.contentType?Object(M.A)(g.outerLinks):e.handleApkPress(null==g?void 0:g.contentType,null==g?void 0:g.contentId)}},0===g.contentType||1===g.contentType?v.a.createElement($.a,{imgUri:null!=g&&g.coverUri?g.coverUri:z.l,imgStyle:t.img,resizeMode:"cover"}):j?v.a.createElement(G.a,{ref:e.receivePlayer,width:"100%",height:"100%",sourceUrl:null!=g&&g.previewVideoUrl?null==g?void 0:g.previewVideoUrl:g.videoUri,isPause:y,poster:g.coverUri,aspectRatio_wap:m,isVoice:!1,type:2}):v.a.createElement($.a,{imgUri:z.l,imgStyle:t.img})),v.a.createElement(O.a,{style:{flexDirection:"row",marginTop:12}},v.a.createElement(C.a,{style:k?t.bigCardTitle:t.bigCardNoTitle,onPress:function(){e.dapReportClickData(null==g?void 0:g.contentId,T),e.handlePress("vmall://com.vmall.client/discoverNew/topic?topicId=","",null==g?void 0:g.topicId)}},v.a.createElement(P.a,{style:t.bigCardTitleContent,numberOfLines:1,ellipsizeMode:"tail"},k?D?g.topicDetail.title:"#"+g.topicDetail.title:""))),v.a.createElement(O.a,{style:{flexDirection:"row",marginTop:8,alignItems:"center"}},v.a.createElement(P.a,{style:[t.bigCardContent],numberOfLines:1,ellipsizeMode:"tail"},0===g.source?null!=g&&g.title?g.title:"":null!=g&&g.summary?g.summary:"")),v.a.createElement(O.a,{style:t.bigCardMore},v.a.createElement(P.a,{style:t.bigCardDate},_?e.getDate(g.createTime):""),v.a.createElement(O.a,{style:t.bigCardSvgAndLikes},v.a.createElement(C.a,{style:t.bigCardUnLikeSvg,onPress:function(){e.state.likeView?e.handleLike("dislike",null==g?void 0:g.contentId,w):e.handleLike("like",null==g?void 0:g.contentId,w)}},e.state.likeView?v.a.createElement(F.a,{iconName:"thumbs-up-fill",width:"16",height:"16",normalCol:"#CF0A2C"}):v.a.createElement(F.a,{iconName:"thumbs-up",width:"16",height:"16",opacity:n.C15.opacity,normalCol:n.C15.color})),v.a.createElement(P.a,{style:t.bigCardLikes},e.state.likeCount)))))}))}}]),n}(y.PureComponent),m()(_,"defaultProps",{data:{},isPause:!1,prop:"1:1",path:"",indexLocation:-1}),L=_))||L)||L;t.a=Object(J.a)(Q)(Object(V.a)(ee))},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(49),w=n(43),S=n(126),C=n(152),O=n(103),P=n(432),T=n(102),x=n(185),I=n(11),k=n(19),E=n(25),j=n(3),R=n(24),L=n(20),_=n(38),D=n(57);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){return D.a.create({headerPullapp:{position:"relative",height:68,backgroundColor:e.C11.color,display:"flex",alignItems:"center",flexDirection:"row",zIndex:10},pullappClose:{marginLeft:16},closebg:{backgroundColor:"#1a1a1a",width:16,height:16,borderRadius:16,display:"flex",alignItems:"center",justifyContent:"center"},pullappImg:{marginLeft:12},pullapptxtbox:{marginLeft:8},title:W(W({},e.C17),e.T10),subTitle:W(W({},e.C17),e.T3),pullappBtn:{position:"absolute",top:20,right:16},pullappBtnBox:{backgroundColor:e.C17.color,borderRadius:16,paddingLeft:12,paddingRight:12,minWidth:75,height:28},pullappBtnTxt:W(W(W({},e.C11),e.T6),{},{height:28,lineHeight:28})})};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var M=["subTabSetPage"],F=function(e){u()(n,e);var t=B(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"lister1",void 0),m()(s()(r),"wapDomain",I.a.wapDomain),m()(s()(r),"appUrl",_.a.wapDomain+"app/open"),m()(s()(r),"wechatUrl",I.a.wechatUrl),m()(s()(r),"pullUpAppLink",I.a.pullUpAppLink),m()(s()(r),"pullUpH5",I.a.pullUpH5),r.state={pullapp:!0},r}return a()(n,[{key:"componentDidMount",value:function(){var e=this;this.pullStatus(),this.lister1=b.a.addListener("scroll",(function(t){t>100?e.setState({pullapp:!1}):O.a.get("appTopPushClose")||e.setState({pullapp:!0})}))}},{key:"getParams",value:function(){var e=Object(j.g)(Object(j.q)("pageId")),t=Object(j.g)(Object(j.q)("pn")),n=Object(j.g)(Object(j.q)("cid")),r=Object(j.g)(Object(j.q)("wi")),o=Object(j.g)(Object(j.q)("isShowLayout")),i=Object(j.g)(Object(j.q)("carrierCode")),a=Object(j.g)(Object(j.q)("targetVersion")),l=Object(j.g)(Object(j.q)("pageName"));n||(n=Object(j.g)(O.a.get("cps_id"))),r||(r=Object(j.g)(O.a.get("cps_wi")));var s,c=[];e&&c.push("pageId="+e),t&&c.push("pn="+t),n&&c.push("cid="+n),r&&c.push("wi="+r),i&&c.push("carrierCode="+i),""!==o&&c.push("isShowLayout="+o),a&&(l=l||"华为商城（VMALL）_智慧生活、精选好物",c.push("callapp=no"),c.push("pageName="+l)),s=c.length>0?"?":"";var u=this.pullUpAppLink+s+c.join("&");return a&&(u=this.pullUpH5+"?targetVersion="+a+"&url="+encodeURIComponent(this.wapDomain+"portal/activity/index.html"+s+c.join("&")),n&&(u+="&cid="+n),r&&(u+="&wi="+r)),u}},{key:"pullStatus",value:function(){var e=Object(j.q)("callapp");this.props.appRouter&&(this.pullUpAppLink=this.props.appRouter),e&&(O.a.set("callapp",e,{path:"/",domain:".vmall.com"}),window.sessionStorage.setItem("callapp",e)),this.isCanPull()&&!O.a.get("weCode")&&"no"!==window.sessionStorage.getItem("callapp")&&"no"!==e&&-1===M.indexOf(this.props.pageType)&&"1"!==O.a.get("appTopPushClose")||this.setState({pullapp:!1}),"no"!==e&&"no"!==window.sessionStorage.getItem("callapp")&&this.isCanPull()&&this.pullUpApp()}},{key:"isCanPull",value:function(){return!(-1!==navigator.userAgent.indexOf("cmblife")||navigator.userAgent.indexOf("VMall-SAPP")>-1||navigator.userAgent.indexOf("Bankabc")>-1||navigator.userAgent.indexOf("SmartPhone")>-1)}},{key:"pullUpApp",value:function(){var e=this.getParams(),t=document.createElement("iframe");t.style.display="none",t.id="pull_app_"+Object(j.J)(),t.name="pullAppFrame_"+Object(j.J)(),document.body.appendChild(t),window.frames[t.name].document.write("<script>window.location.href='"+e+"'<\/script>")}},{key:"pullappClose",value:function(e){e.stopPropagation(),O.a.set("appTopPushClose",1,{expires:.5,path:"/",domain:".vmall.com"}),this.setState({pullapp:!1})}},{key:"openApp",value:function(){var e=this,t=window.navigator.userAgent.toLowerCase(),n=Object(j.g)(Object(j.q)("targetVersion"));if(t.indexOf("micromessenger")>0){var r=this.wechatUrl+encodeURIComponent(this.getParams());window.location.href=r}else if(n){var o=Date.now();this.pullUpApp(),this.timmer=setTimeout((function(){var t=Date.now();if(o&&!(t-o<2100))return!1;Object(j.A)(e.appUrl)}),2e3)}else{var i="?type="+this.props.type+"&url="+encodeURIComponent(this.getParams());Object(j.A)(this.appUrl+i)}}},{key:"componentWillUnmount",value:function(){this.lister1&&this.lister1.remove(),this.timmer&&clearTimeout(this.timmer)}},{key:"loadPage",value:function(e){var t,n,r,o=this;return v.a.createElement(w.a,{style:[e.headerPullapp,this.state.pullapp?{display:"flex"}:{display:"none"}]},v.a.createElement(w.a,{style:e.pullappClose},v.a.createElement(S.a,{style:e.closebg,onPress:function(e){o.pullappClose(e)}},v.a.createElement(L.a,{iconName:"cancel1",width:"12",height:"12",normalCol:null!==(t=this.props)&&void 0!==t&&null!==(n=t.color)&&void 0!==n&&null!==(r=n.textStyle)&&void 0!==r&&r.color?this.props.color.textStyle.color:"#fff"}))),v.a.createElement(w.a,{style:e.pullappImg},v.a.createElement(R.a,{localSource:k.a.pullupLogo,imgStyle:{width:40,height:40,borderRadius:8},resizeMode:"contain"})),v.a.createElement(w.a,{style:e.pullapptxtbox},v.a.createElement(C.a,{style:e.title},Object(P.b)("pull_app_title")),v.a.createElement(C.a,{style:e.subTitle},Object(P.b)("pull_app_sub_title"))),v.a.createElement(w.a,{style:e.pullappBtn},v.a.createElement(S.a,{style:e.pullappBtnBox,onPress:function(){o.openApp()}},v.a.createElement(C.a,{style:e.pullappBtnTxt},Object(P.b)("pull_app_btn")))))}},{key:"render",value:function(){var e=this;return v.a.createElement(T.b,{themeStyles:A},(function(t){return e.loadPage(t)}))}}]),n}(y.Component);t.a=Object(x.a)(Object(E.a)(F))},,function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=w(a,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function d(){}function p(){}function f(){}var h={};l(h,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(P([])));m&&m!==t&&n.call(m,o)&&(h=m);var y=f.prototype=d.prototype=Object.create(h);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,l){var s=c(e[o],e,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,l)}))}l(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.TransitionIOSSpec=t.ScaleFromCenterAndroidSpec=t.RevealFromBottomAndroidSpec=t.FadeOutToBottomAndroidSpec=t.FadeInFromBottomAndroidSpec=void 0;var r=n(9);t.TransitionIOSSpec={animation:"spring",config:{stiffness:1e3,damping:500,mass:3,overshootClamping:!0,restDisplacementThreshold:10,restSpeedThreshold:10}};var o={animation:"timing",config:{duration:350,easing:r.Easing.out(r.Easing.poly(5))}};t.FadeInFromBottomAndroidSpec=o;var i={animation:"timing",config:{duration:150,easing:r.Easing.in(r.Easing.linear)}};t.FadeOutToBottomAndroidSpec=i;var a={animation:"timing",config:{duration:425,easing:r.Easing.bezier(.35,.45,0,1)}};t.RevealFromBottomAndroidSpec=a;var l={animation:"timing",config:{duration:400,easing:r.Easing.bezier(.35,.45,0,1)}};t.ScaleFromCenterAndroidSpec=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SlideFromRightIOS=t.ScaleFromCenterAndroid=t.RevealFromBottomAndroid=t.ModalTransition=t.ModalSlideFromBottomIOS=t.ModalPresentationIOS=t.FadeFromBottomAndroid=t.DefaultTransition=void 0;var r=n(9),o=n(271),i=n(224),a=n(330),l={gestureDirection:"horizontal",transitionSpec:{open:a.TransitionIOSSpec,close:a.TransitionIOSSpec},cardStyleInterpolator:o.forHorizontalIOS,headerStyleInterpolator:i.forFade};t.SlideFromRightIOS=l;var s={gestureDirection:"vertical",transitionSpec:{open:a.TransitionIOSSpec,close:a.TransitionIOSSpec},cardStyleInterpolator:o.forVerticalIOS,headerStyleInterpolator:i.forFade};t.ModalSlideFromBottomIOS=s;var c={gestureDirection:"vertical",transitionSpec:{open:a.TransitionIOSSpec,close:a.TransitionIOSSpec},cardStyleInterpolator:o.forModalPresentationIOS,headerStyleInterpolator:i.forFade};t.ModalPresentationIOS=c;var u={gestureDirection:"vertical",transitionSpec:{open:a.FadeInFromBottomAndroidSpec,close:a.FadeOutToBottomAndroidSpec},cardStyleInterpolator:o.forFadeFromBottomAndroid,headerStyleInterpolator:i.forFade};t.FadeFromBottomAndroid=u;var d={gestureDirection:"vertical",transitionSpec:{open:a.RevealFromBottomAndroidSpec,close:a.RevealFromBottomAndroidSpec},cardStyleInterpolator:o.forRevealFromBottomAndroid,headerStyleInterpolator:i.forFade};t.RevealFromBottomAndroid=d;var p={gestureDirection:"horizontal",transitionSpec:{open:a.ScaleFromCenterAndroidSpec,close:a.ScaleFromCenterAndroidSpec},cardStyleInterpolator:o.forScaleFromCenterAndroid,headerStyleInterpolator:i.forFade};t.ScaleFromCenterAndroid=p;var f=r.Platform.select({ios:l,android:r.Platform.Version>=29?p:r.Platform.Version>=28?d:u,default:p});t.DefaultTransition=f;var h=r.Platform.select({ios:s,default:f});t.ModalTransition=h},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.TabActions=void 0,t.default=function(e){var t=e.initialRouteName,n=e.backBehavior,r=void 0===n?"history":n;return(0,o.default)({},a.default,{type:"tab",getInitialState:function(e){var n=e.routeNames,o=e.routeParamList,a=void 0!==t&&n.includes(t)?n.indexOf(t):0,l=n.map((function(e){return{name:e,key:"".concat(e,"-").concat((0,i.nanoid)()),params:o[e]}})),c=s(l,a,r,t);return{stale:!1,type:"tab",key:"tab-".concat((0,i.nanoid)()),index:a,routeNames:n,history:c,routes:l}},getRehydratedState:function(e,n){var a,l,s,u,d=n.routeNames,p=n.routeParamList,f=e;if(!1===f.stale)return f;var h=d.map((function(e){var t=f.routes.find((function(t){return t.name===e}));return(0,o.default)({},t,{name:e,key:t&&t.name===e&&t.key?t.key:"".concat(e,"-").concat((0,i.nanoid)()),params:void 0!==p[e]?(0,o.default)({},p[e],t?t.params:void 0):t?t.params:void 0})})),g=Math.min(Math.max(d.indexOf(null===(a=f.routes[null!==(l=null==f?void 0:f.index)&&void 0!==l?l:0])||void 0===a?void 0:a.name),0),h.length-1),m=null!==(s=null===(u=f.history)||void 0===u?void 0:u.filter((function(e){return h.find((function(t){return t.key===e.key}))})))&&void 0!==s?s:[];return c({stale:!1,type:"tab",key:"tab-".concat((0,i.nanoid)()),index:g,routeNames:d,history:m,routes:h},g,r,t)},getStateForRouteNamesChange:function(e,n){var a=n.routeNames,l=n.routeParamList,c=a.map((function(t){return e.routes.find((function(e){return e.name===t}))||{name:t,key:"".concat(t,"-").concat((0,i.nanoid)()),params:l[t]}})),u=Math.max(0,a.indexOf(e.routes[e.index].name)),d=e.history.filter((function(e){return"route"!==e.type||c.find((function(t){return t.key===e.key}))}));return d.length||(d=s(c,u,r,t)),(0,o.default)({},e,{history:d,routeNames:a,routes:c,index:u})},getStateForRouteFocus:function(e,n){var o=e.routes.findIndex((function(e){return e.key===n}));return-1===o||o===e.index?e:c(e,o,r,t)},getStateForAction:function(e,n,i){var l=i.routeParamList;switch(n.type){case"JUMP_TO":case"NAVIGATE":var s=-1;return-1===(s="NAVIGATE"===n.type&&n.payload.key?e.routes.findIndex((function(e){return e.key===n.payload.key})):e.routes.findIndex((function(e){return e.name===n.payload.name})))?null:c((0,o.default)({},e,{routes:void 0!==n.payload.params?e.routes.map((function(e,t){return t!==s?e:(r="NAVIGATE"===n.type&&!1===n.payload.merge?void 0!==l[e.name]?(0,o.default)({},l[e.name],n.payload.params):n.payload.params:n.payload.params?(0,o.default)({},e.params,n.payload.params):e.params)!==e.params?(0,o.default)({},e,{params:r}):e;var r})):e.routes}),s,r,t);case"GO_BACK":if(1===e.history.length)return null;var u=e.history[e.history.length-2].key,d=e.routes.findIndex((function(e){return e.key===u}));return-1===d?null:(0,o.default)({},e,{history:e.history.slice(0,-1),index:d});default:return a.default.getStateForAction(e,n)}},shouldActionChangeFocus:function(e){return"NAVIGATE"===e.type},actionCreators:l})};var o=r(n(15)),i=n(166),a=r(n(272)),l={jumpTo:function(e,t){return{type:"JUMP_TO",payload:{name:e,params:t}}}};t.TabActions=l;var s=function(e,t,n,r){var o,i=[{type:"route",key:e[t].key}];switch(n){case"order":for(var a=t;a>0;a--)i.unshift({type:"route",key:e[a-1].key});break;case"firstRoute":0!==t&&i.unshift({type:"route",key:e[0].key});break;case"initialRoute":t!==(o=-1===(o=e.findIndex((function(e){return e.name===r})))?0:o)&&i.unshift({type:"route",key:e[o].key})}return i},c=function(e,t,n,r){var i;if("history"===n){var a=e.routes[t].key;i=e.history.filter((function(e){return"route"===e.type&&e.key!==a})).concat({type:"route",key:a})}else i=s(e.routes,t,n,r);return(0,o.default)({},e,{index:t,history:i})}},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduleUpdateContext=void 0,t.default=function(e){var t=r.useContext(i),n=t.scheduleUpdate,o=t.flushUpdates;n(e),r.useEffect(o)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=r.createContext({scheduleUpdate:function(){throw new Error("Couldn't find a schedule context.")},flushUpdates:function(){throw new Error("Couldn't find a schedule context.")}});t.ScheduleUpdateContext=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=r.useRef({action:[],focus:[]}).current,t=r.useCallback((function(t,n){return e[t].push(n),function(){var r=e[t].indexOf(n);e[t].splice(r,1)}}),[e]);return{listeners:e,addListener:t}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=r.useRef({getState:{},beforeRemove:{}}).current,t=r.useCallback((function(t,n,r){return e[t][n]=r,function(){e[t][n]=void 0}}),[e]);return{keyedListeners:e,addKeyedListener:t}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.key,n=e.options,r=e.navigation,l=o.useRef(n),s=o.useRef({}),c=o.useContext(a.default).onOptionsChange,u=o.useContext(i.default).addOptionsGetter,d=o.useCallback((function(){var e,t,n=null===(e=null==r?void 0:r.isFocused())||void 0===e||e,o=Object.keys(s.current).length;n&&!o&&c(null!==(t=l.current)&&void 0!==t?t:{})}),[r,c]);o.useEffect((function(){return l.current=n,d(),null==r?void 0:r.addListener("focus",d)}),[r,n,d]);var p=o.useCallback((function(){for(var e in s.current)if(s.current.hasOwnProperty(e)){var t,n,r=null===(t=(n=s.current)[e])||void 0===t?void 0:t.call(n);if(null!==r)return r}return null}),[]),f=o.useCallback((function(){var e;if(!(null===(e=null==r?void 0:r.isFocused())||void 0===e||e))return null;var t=p();return null!==t?t:l.current}),[r,p]);return o.useEffect((function(){return null==u?void 0:u(t,f)}),[f,u,t]),{addOptionsGetter:o.useCallback((function(e,t){return s.current[e]=t,d(),function(){delete s.current[e],d()}}),[d]),getCurrentOptions:f}};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(225)),a=r(n(132));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.useRef(e);i.useEffect((function(){t.current=e}));var n=i.useRef({}),r=i.useCallback((function(e){var t=function(t,r){var o=n.current[t]?n.current[t][e]:void 0;if(o){var i=o.indexOf(r);o.splice(i,1)}};return{addListener:function(r,o){return n.current[r]=n.current[r]||{},n.current[r][e]=n.current[r][e]||[],n.current[r][e].push(o),function(){return t(r,o)}},removeListener:t}}),[]),a=i.useCallback((function(e){var r,i,a,l=e.type,s=e.data,c=e.target,u=e.canPreventDefault,d=n.current[l]||{},p=void 0!==c?null===(i=d[c])||void 0===i?void 0:i.slice():(r=[]).concat.apply(r,(0,o.default)(Object.keys(d).map((function(e){return d[e]})))).filter((function(e,t,n){return n.lastIndexOf(e)===t})),f={get type(){return l}};if(void 0!==c&&Object.defineProperty(f,"target",{enumerable:!0,get:function(){return c}}),void 0!==s&&Object.defineProperty(f,"data",{enumerable:!0,get:function(){return s}}),u){var h=!1;Object.defineProperties(f,{defaultPrevented:{enumerable:!0,get:function(){return h}},preventDefault:{enumerable:!0,value:function(){h=!0}}})}return null===(a=t.current)||void 0===a||a.call(t,f),null==p||p.forEach((function(e){return e(f)})),f}),[]);return i.useMemo((function(){return{create:r,emit:a}}),[r,a])};var o=r(n(35)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null}},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPRESS_STATE_ACCESS_WARNING=void 0,t.default=function(e){var t=i.useMemo((function(){return{current:new Map}}),[]);return e;return t.current=e.reduce((function(e,n){var r=t.current.get(n);if(r)e.set(n,r);else{var i=(0,o.default)({},n);Object.defineProperty(i,"state",{get:function(){return n.state}}),e.set(n,i)}return e}),new Map),Array.from(t.current.values())};var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l={value:!1};t.SUPPRESS_STATE_ACCESS_WARNING=l},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}},function(e,t,n){"use strict";var r=n(36),o=r(n(55)),i=r(n(15)),a=r(n(35));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=n(504),u=n(505),d=n(506),p=n(507);function f(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function g(e,t){return t.decode?u(e):e}function m(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function y(e){var t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){f((t=(0,i.default)({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var o="string"==typeof n&&n.includes(e.arrayFormatSeparator),i="string"==typeof n&&!o&&g(n,e).includes(e.arrayFormatSeparator);n=i?g(n,e):n;var a=o||i?n.split(e.arrayFormatSeparator).map((function(t){return g(t,e)})):null===n?n:g(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(var a,s=l(e.split("&"));!(a=s()).done;){var c=a.value;if(""!==c){var u=d(t.decode?c.replace(/\+/g," "):c,"="),p=(0,o.default)(u,2),h=p[0],m=p[1];m=void 0===m?null:["comma","separator"].includes(t.arrayFormat)?m:g(m,t),n(g(h,t),m,r)}}for(var y=0,b=Object.keys(r);y<b.length;y++){var w=b[y],S=r[w];if("object"==typeof S&&null!==S)for(var C=0,O=Object.keys(S);C<O.length;C++){var P=O[C];S[P]=v(S[P],t)}else r[w]=v(S,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))}t.extract=y,t.parse=b,t.stringify=function(e,t){if(!e)return"";f((t=(0,i.default)({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var n=function(n){return t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n]},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat((0,a.default)(n),null===r?[[h(t,e),"[",o,"]"].join("")]:[[h(t,e),"[",h(o,e),"]=",h(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat((0,a.default)(n),null===r?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[h(t,e),"=",h(r,e)].join("")]:[[n,h(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat((0,a.default)(n),null===r?[h(t,e)]:[[h(t,e),"=",h(r,e)].join("")])}}}}(t),o={},l=0,s=Object.keys(e);l<s.length;l++){var c=s[l];n(c)||(o[c]=e[c])}var u=Object.keys(o);return!1!==t.sort&&u.sort(t.sort),u.map((function(n){var o=e[n];return void 0===o?"":null===o?h(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):h(n,t)+"="+h(o,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=(0,i.default)({decode:!0},t);var n=d(e,"#"),r=(0,o.default)(n,2),a=r[0],l=r[1];return(0,i.default)({url:a.split("?")[0]||"",query:b(y(e),t)},t&&t.parseFragmentIdentifier&&l?{fragmentIdentifier:g(l,t)}:{})},t.stringifyUrl=function(e,n){n=(0,i.default)({encode:!0,strict:!0},n);var r=m(e.url).split("?")[0]||"",o=t.extract(e.url),a=t.parse(o,{sort:!1}),l=(0,i.default)(a,e.query),s=t.stringify(l,n);s&&(s="?"+s);var c=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c="#"+h(e.fragmentIdentifier,n)),""+r+s+c},t.pick=function(e,n,r){r=(0,i.default)({parseFragmentIdentifier:!0},r);var o=t.parseUrl(e,r),a=o.url,l=o.query,s=o.fragmentIdentifier;return t.stringifyUrl({url:a,query:p(l,n),fragmentIdentifier:s},r)},t.exclude=function(e,n,r){var o=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,o,r)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!1;if(e&&(t=Object.keys(e).some((function(e){return"screens"!==e&&"initialRouteName"!==e})))&&(e.hasOwnProperty("screens")||e.hasOwnProperty("initialRouteName")))throw new Error("Found invalid keys in the configuration object. See https://reactnavigation.org/docs/5.x/configuring-links/ for more details on the shape of the configuration object.");if(t)return[t,{screens:e}];return[t,e]}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.value,n=e.children;return o.createElement(i.default.Provider,{value:t},n)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(347));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(275));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l=o.createContext(i.default);l.displayName="ThemeContext";var s=l;t.default=s},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.enabled,r=void 0===n||n,s=t.config,u=t.getStateFromPath,h=void 0===u?l.getStateFromPath:u,g=t.getPathFromState,m=void 0===g?l.getPathFromState:g,y=t.getActionFromState,v=void 0===y?l.getActionFromState:y;a.useEffect((function(){if(!1!==r&&f)throw new Error(["Looks like you have configured linking in multiple places. This is likely an error since URL integration should only be handled in one place to avoid conflicts. Make sure that:","- You are not using both 'linking' prop and 'useLinking'","- You don't have 'useLinking' in multiple components"].join("\n").trim());return f=!1!==r,function(){f=!1}}));var b=a.useState(d),w=(0,o.default)(b,1)[0],S=a.useRef(r),C=a.useRef(s),O=a.useRef(h),P=a.useRef(v),T=a.useRef(m);a.useEffect((function(){S.current=r,C.current=s,O.current=h,P.current=v,T.current=m}));var x=a.useContext(c.default),I=a.useCallback((function(){var e;if(S.current){var t,n=null!==(t=null==x?void 0:x.location)&&void 0!==t?t:"undefined"!=typeof window?window.location:void 0,r=n?n.pathname+n.search:void 0;r&&(e=O.current(r,C.current))}var o={then:function(t){return Promise.resolve(t?t(e):e)},catch:function(){return o}};return o}),[]),k=a.useRef(void 0),E=a.useRef(void 0),j=a.useRef(void 0);return a.useEffect((function(){return k.current=w.index,w.listen((function(){var t,n=e.current;if(n&&r){var o=location.pathname+location.search,i=w.index,a=null!==(t=k.current)&&void 0!==t?t:0;k.current=i,j.current=o;var l=w.get(i);if((null==l?void 0:l.path)===o&&null!=l&&l.state)n.resetRoot(l.state);else{var s=O.current(o,C.current);if(s){var c=n.getRootState();if(s.routes.some((function(e){return!(null!=c&&c.routeNames.includes(e.name))})))return;if(i>a){var u=P.current(s,C.current);if(void 0!==u)try{n.dispatch(u)}catch(e){}else n.resetRoot(s)}else n.resetRoot(s)}else n.resetRoot(s)}}}))}),[r,w,e]),a.useEffect((function(){var t;if(r){if(e.current){var n=e.current.getRootState();if(n){var a=T.current(n,C.current);void 0===E.current&&(E.current=n),w.replace({path:a,state:n})}}var l,s,c,u;return null===(t=e.current)||void 0===t?void 0:t.addListener("state",(l=function(){var t,n,a,l,s,c,u,d,f,h,g,m;return i.default.async((function(y){for(;;)switch(y.prev=y.next){case 0:if((t=e.current)&&r){y.next=3;break}return y.abrupt("return");case 3:if(n=E.current,a=t.getRootState(),l=j.current,s=T.current(a,C.current),E.current=a,j.current=void 0,c=p(n,a),u=(0,o.default)(c,2),d=u[0],f=u[1],!d||!f||s===l){y.next=37;break}if(!((h=(f.history?f.history.length:f.routes.length)-(d.history?d.history.length:d.routes.length))>0)){y.next=16;break}w.push({path:s,state:a}),y.next=35;break;case 16:if(!(h<0)){y.next=34;break}if(g=w.backIndex({path:s}),m=w.index,y.prev=19,!(-1!==g&&g<m)){y.next=25;break}return y.next=23,i.default.awrap(w.go(g-m));case 23:y.next=27;break;case 25:return y.next=27,i.default.awrap(w.go(h));case 27:w.replace({path:s,state:a}),y.next=32;break;case 30:y.prev=30,y.t0=y.catch(19);case 32:y.next=35;break;case 34:w.replace({path:s,state:a});case 35:y.next=38;break;case 37:w.replace({path:s,state:a});case 38:case"end":return y.stop()}}),null,null,[[19,30]],Promise)},s=!1,c=[],u=function(){var e;return i.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!s){t.next=4;break}return c.unshift(u),t.abrupt("return");case 4:return s=!0,t.next=7,i.default.awrap(l());case 7:return t.prev=7,s=!1,c.length&&(null==(e=c.pop())||e()),t.finish(7);case 11:case"end":return t.stop()}}),null,null,[[0,,7,11]],Promise)}))}})),{getInitialState:I}};var o=r(n(55)),i=r(n(17)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(131),s=n(166),c=r(n(349));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d=function(){var e=0,t=[],n=[],r=function(){n.forEach((function(e){var t=e.cb;e.cb=function(){return t(!0)}}))};return{get index(){var e,n=null===(e=window.history.state)||void 0===e?void 0:e.id;if(n){var r=t.findIndex((function(e){return e.id===n}));return r>-1?r:0}return 0},get:function(e){return t[e]},backIndex:function(n){for(var r=n.path,o=e-1;o>=0;o--){if(t[o].path===r)return o}return-1},push:function(n){var o=n.path,i=n.state;r();var a=(0,s.nanoid)();(t=t.slice(0,e+1)).push({path:o,state:i,id:a}),e=t.length-1,window.history.pushState({id:a},"",o)},replace:function(n){var o,i,a=n.path,l=n.state;r();var c=null!==(o=null===(i=window.history.state)||void 0===i?void 0:i.id)&&void 0!==o?o:(0,s.nanoid)();t.length?t[e]={path:a,state:l,id:c}:t.push({path:a,state:l,id:c}),window.history.replaceState({id:c},"",a)},go:function(o){if(r(),o>0?o=Math.min(o,t.length-1):o<0&&(o=e+o<0?-e:o),0!==o)return e+=o,new Promise((function(e,t){var r=function(n){if(clearTimeout(i),n)t(new Error("History was changed during navigation."));else{var r=window.document.title;window.document.title="",window.document.title=r,e()}};n.push({ref:r,cb:r});var i=setTimeout((function(){var e=n.findIndex((function(e){return e.ref===r}));e>-1&&(n[e].cb(),n.splice(e,1))}),100);window.addEventListener("popstate",(function e(){var t=n.pop();window.removeEventListener("popstate",e),null==t||t.cb()})),window.history.go(o)}))},listen:function(e){var t=function(){n.length||e()};return window.addEventListener("popstate",t),function(){return window.removeEventListener("popstate",t)}}}},p=function e(t,n){if(void 0===t||void 0===n||t.key!==n.key)return[void 0,void 0];var r=t.history?t.history.length:t.routes.length,o=n.history?n.history.length:n.routes.length,i=t.routes[t.index],a=n.routes[n.index],l=i.state,s=a.state;return r!==o||i.key!==a.key||void 0===l||void 0===s||l.key!==s.key?[t,n]:e(l,s)},f=!1},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){r.useEffect((function(){var t=o.BackHandler.addEventListener("hardwareBackPress",(function(){var t=e.current;return null!=t&&(!!t.canGoBack()&&(t.goBack(),!0))}));return function(){return t.remove()}}),[e])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0)),o=n(9);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.to,n=e.action,r=o.useContext(a.NavigationHelpersContext),s=(0,l.default)();return{href:t,accessibilityRole:"link",onPress:function(e){var o,a=!1;if("web"===i.Platform.OS&&e?e.defaultPrevented||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||null!=e.button&&0!==e.button||![void 0,null,"","self"].includes(null===(o=e.currentTarget)||void 0===o?void 0:o.target)||(e.preventDefault(),a=!0):a=!e||!e.defaultPrevented,a)if(n){if(!r)throw new Error("Couldn't find a navigation object.");r.dispatch(n)}else{if("string"!=typeof t)throw new Error("To 'to' option is invalid (found '".concat(String(t),"'. It must be a valid string for navigation."));s(t)}}}};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=n(9),a=n(131),l=r(n(352));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.NavigationContext),t=o.useContext(a.default);return o.useCallback((function(n){if(!n.startsWith("/"))throw new Error("The path must start with '/' (".concat(n,")."));if(void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside a screen in a navigator?");var r=t.options,o=null!=r&&r.getStateFromPath?r.getStateFromPath(n,r.config):(0,i.getStateFromPath)(n,null==r?void 0:r.config);if(!o)throw new Error("Failed to parse the path to a navigation state.");for(var a,l=e;a=l.dangerouslyGetParent();)l=a;var s=(0,i.getActionFromState)(o,null==r?void 0:r.config);void 0!==s?l.dispatch(s):l.reset(o)}),[t,e])};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=n(131),a=r(n(276));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=r(n(56)),a=r(n(15)),l=r(n(5)),s=r(n(6)),c=r(n(2)),u=r(n(8)),d=r(n(7)),p=r(n(4)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),h=n(9),g=n(142),m=n(76),y=n(355),v=r(n(525)),b=r(n(537)),w=r(n(538)),S=r(n(540)),C=r(n(277)),O=["state","navigation","keyboardHandlingEnabled","mode","headerMode","descriptors"];function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var o=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=null!==y.GestureHandlerRootView&&void 0!==y.GestureHandlerRootView?y.GestureHandlerRootView:h.View,E=function(e){(0,u.default)(n,e);var t=T(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I((0,c.default)(e),"state",{routes:[],previousRoutes:[],previousDescriptors:{},openingRouteKeys:[],closingRouteKeys:[],replacingRouteKeys:[],descriptors:{}}),I((0,c.default)(e),"getGesturesEnabled",(function(t){var n=t.route,r=e.state.descriptors[n.key];if(r){var o=r.options,i=o.gestureEnabled;return!1!==o.animationEnabled&&!1!==i}return!1})),I((0,c.default)(e),"getPreviousRoute",(function(t){var n=t.route,r=e.state,o=r.closingRouteKeys,i=r.replacingRouteKeys,a=e.state.routes.filter((function(e){return e.key===n.key||!o.includes(e.key)&&!i.includes(e.key)})),l=a.findIndex((function(e){return e.key===n.key}));return a[l-1]})),I((0,c.default)(e),"renderScene",(function(t){var n=t.route,r=e.state.descriptors[n.key]||e.props.descriptors[n.key];return r?r.render():null})),I((0,c.default)(e),"renderHeader",(function(e){return f.createElement(w.default,e)})),I((0,c.default)(e),"handleOpenRoute",(function(t){var n=t.route,r=e.props,o=r.state,i=r.navigation,a=e.state,l=a.closingRouteKeys,s=a.replacingRouteKeys;l.some((function(e){return e===n.key}))&&s.every((function(e){return e!==n.key}))&&o.routeNames.includes(n.name)&&!o.routes.some((function(e){return e.key===n.key}))?i.navigate(n):e.setState((function(e){return{routes:e.replacingRouteKeys.length?e.routes.filter((function(t){return!e.replacingRouteKeys.includes(t.key)})):e.routes,openingRouteKeys:e.openingRouteKeys.filter((function(e){return e!==n.key})),closingRouteKeys:e.closingRouteKeys.filter((function(e){return e!==n.key})),replacingRouteKeys:[]}}))})),I((0,c.default)(e),"handleCloseRoute",(function(t){var n=t.route,r=e.props,o=r.state,i=r.navigation;o.routes.some((function(e){return e.key===n.key}))?i.dispatch((0,a.default)({},m.StackActions.pop(),{source:n.key,target:o.key})):e.setState((function(e){return{routes:e.routes.filter((function(e){return e.key!==n.key})),openingRouteKeys:e.openingRouteKeys.filter((function(e){return e!==n.key})),closingRouteKeys:e.closingRouteKeys.filter((function(e){return e!==n.key}))}}))})),I((0,c.default)(e),"handleTransitionStart",(function(t,n){var r=t.route;return e.props.navigation.emit({type:"transitionStart",data:{closing:n},target:r.key})})),I((0,c.default)(e),"handleTransitionEnd",(function(t,n){var r=t.route;return e.props.navigation.emit({type:"transitionEnd",data:{closing:n},target:r.key})})),I((0,c.default)(e),"handleGestureStart",(function(t){var n=t.route;e.props.navigation.emit({type:"gestureStart",target:n.key})})),I((0,c.default)(e),"handleGestureEnd",(function(t){var n=t.route;e.props.navigation.emit({type:"gestureEnd",target:n.key})})),I((0,c.default)(e),"handleGestureCancel",(function(t){var n=t.route;e.props.navigation.emit({type:"gestureCancel",target:n.key})})),e}return(0,s.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.state,r=t.navigation,o=t.keyboardHandlingEnabled,a=t.mode,l=void 0===a?"card":a,s=t.headerMode,c=void 0===s?"card"===l&&"ios"===h.Platform.OS?"float":"screen":s,u=(t.descriptors,(0,i.default)(t,O)),d=this.state,p=d.routes,y=d.descriptors,w=d.openingRouteKeys,P=d.closingRouteKeys;return f.createElement(m.NavigationHelpersContext.Provider,{value:r},f.createElement(k,{style:j.container},f.createElement(S.default,null,f.createElement(g.SafeAreaConsumer,null,(function(t){return f.createElement(b.default,{enabled:!1!==o},(function(r){return f.createElement(C.default.Consumer,null,(function(o){return f.createElement(v.default,x({mode:l,insets:t,isParentHeaderShown:o,getPreviousRoute:e.getPreviousRoute,getGesturesEnabled:e.getGesturesEnabled,routes:p,openingRouteKeys:w,closingRouteKeys:P,onOpenRoute:e.handleOpenRoute,onCloseRoute:e.handleCloseRoute,onTransitionStart:e.handleTransitionStart,onTransitionEnd:e.handleTransitionEnd,renderHeader:e.renderHeader,renderScene:e.renderScene,headerMode:c,state:n,descriptors:y,onGestureStart:e.handleGestureStart,onGestureEnd:e.handleGestureEnd,onGestureCancel:e.handleGestureCancel},u,r))}))}))})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if((e.state.routes===t.previousRoutes||(s=e.state.routes.map((function(e){return e.key})),c=t.previousRoutes.map((function(e){return e.key})),s.length===c.length&&s.every((function(e,t){return e===c[t]}))))&&t.routes.length){var n=t.routes,r=t.previousRoutes,i=e.descriptors,a=t.previousDescriptors;if(e.descriptors!==t.previousDescriptors&&(i=t.routes.reduce((function(n,r){return n[r.key]=e.descriptors[r.key]||t.descriptors[r.key],n}),{}),a=e.descriptors),e.state.routes!==t.previousRoutes){var l=e.state.routes.reduce((function(e,t){return e[t.key]=t,e}),{});n=t.routes.map((function(e){return l[e.key]||e})),r=e.state.routes}return{routes:n,previousRoutes:r,descriptors:i,previousDescriptors:a}}var s,c,u,d,p=e.state.index<e.state.routes.length-1?e.state.routes.slice(0,e.state.index+1):e.state.routes,f=t.openingRouteKeys,h=t.closingRouteKeys,g=t.replacingRouteKeys,m=t.previousRoutes,y=m[m.length-1],v=p[p.length-1],b=function(n){var r=e.descriptors[n]||t.descriptors[n];return!r||!1!==r.options.animationEnabled};if(y&&y.key!==v.key)m.some((function(e){return e.key===v.key}))?p.some((function(e){return e.key===y.key}))||b(y.key)&&!h.includes(y.key)&&(h=[].concat((0,o.default)(h),[y.key]),f=f.filter((function(e){return e!==y.key})),g=g.filter((function(e){return e!==y.key})),p=[].concat((0,o.default)(p),[y])):b(v.key)&&!f.includes(v.key)&&(f=[].concat((0,o.default)(f),[v.key]),h=h.filter((function(e){return e!==v.key})),g=g.filter((function(e){return e!==v.key})),p.some((function(e){return e.key===y.key}))||(f=f.filter((function(e){return e!==y.key})),"pop"===(u=v.key,null!==(d=(e.descriptors[u]||t.descriptors[u]).options.animationTypeForReplace)&&void 0!==d?d:"push")?(h=[].concat((0,o.default)(h),[y.key]),f=f.filter((function(e){return e!==v.key})),p=[].concat((0,o.default)(p),[y])):(g=[].concat((0,o.default)(g),[y.key]),h=h.filter((function(e){return e!==y.key})),(p=p.slice()).splice(p.length-1,0,y))));else if(g.length||h.length){var w;(w=p=p.slice()).splice.apply(w,[p.length-1,0].concat((0,o.default)(t.routes.filter((function(e){var t=e.key;return!!b(t)&&(g.includes(t)||h.includes(t))})))))}if(!p.length)throw new Error("There should always be at least one route in the navigation state.");var S=p.reduce((function(n,r){return n[r.key]=e.descriptors[r.key]||t.descriptors[r.key],n}),{});return{routes:p,previousRoutes:e.state.routes,previousDescriptors:e.descriptors,openingRouteKeys:f,closingRouteKeys:h,replacingRouteKeys:g,descriptors:S}}}]),n}(f.Component);t.default=E;var j=h.StyleSheet.create({container:{flex:1}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAreaInsetsContext=t.SafeAreaFrameContext=t.SafeAreaContext=t.SafeAreaConsumer=void 0,t.SafeAreaProvider=function(e){var t,n,r,s,c,f=e.children,h=e.initialMetrics,g=e.initialSafeAreaInsets,m=e.style,y=i.useContext(u),v=i.useContext(d),b=i.useState(null!==(t=null!==(n=null!==(r=null==h?void 0:h.insets)&&void 0!==r?r:g)&&void 0!==n?n:y)&&void 0!==t?t:null),w=(0,o.default)(b,2),S=w[0],C=w[1],O=i.useState(null!==(s=null!==(c=null==h?void 0:h.frame)&&void 0!==c?c:v)&&void 0!==s?s:{x:0,y:0,width:a.Dimensions.get("window").width,height:a.Dimensions.get("window").height}),P=(0,o.default)(O,2),T=P[0],x=P[1],I=i.useCallback((function(e){var t=e.nativeEvent,n=t.frame,r=t.insets;!n||n.height===T.height&&n.width===T.width&&n.x===T.x&&n.y===T.y||x(n),S&&r.bottom===S.bottom&&r.left===S.left&&r.right===S.right&&r.top===S.top||C(r)}),[T,S]);return i.createElement(l.default,{style:[p.fill,m],onInsetsChange:I},null!=S?i.createElement(d.Provider,{value:T},i.createElement(u.Provider,{value:S},f)):null)},t.useSafeArea=function(){return f()},t.useSafeAreaFrame=function(){var e=i.useContext(d);if(null==e)throw new Error("No safe area frame value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.");return e},t.useSafeAreaInsets=f,t.withSafeAreaInsets=function(e){return i.forwardRef((function(t,n){return i.createElement(h,null,(function(r){return i.createElement(e,c({},t,{insets:r,ref:n}))}))}))};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9),l=r(n(521));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=i.createContext(null);t.SafeAreaInsetsContext=u;var d=i.createContext(null);t.SafeAreaFrameContext=d;var p=a.StyleSheet.create({fill:{flex:1}});function f(){var e=i.useContext(u);if(null==e)throw new Error("No safe area insets value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.");return e}var h=u.Consumer;t.SafeAreaConsumer=h;var g=u;t.SafeAreaContext=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PanGestureHandler=t.GestureState=t.GestureHandlerRootView=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0)),o=n(9);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var a=function(e){var t=e.children;return r.createElement(r.Fragment,null,t)};t.PanGestureHandler=a;var l=o.View;t.GestureHandlerRootView=l;t.GestureState={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.useState(void 0),n=(0,i.default)(t,2),r=n[0],f=n[1],m=a.useState(void 0),y=(0,i.default)(m,2),v=y[0],b=y[1],w=a.useContext(u.default),S=(0,d.default)((function(e,t,n,r,o,i,a){return e({current:{progress:n},next:r&&{progress:r},layouts:{header:{height:a,width:t.width},screen:t,title:o,leftLabel:i}})})),C=e.scene,O=e.layout,P=e.insets,T=e.title,x=e.leftLabel,I=e.onGoBack,k=e.headerTitle,E=e.headerTitleAlign,j=void 0===E?l.Platform.select({ios:"center",default:"left"}):E,R=e.headerLeft,L=void 0===R?I?function(e){return a.createElement(s.default,e)}:void 0:R,_=e.headerTransparent,D=e.headerTintColor,N=e.headerBackground,W=e.headerRight,A=e.headerBackImage,B=e.headerBackTitle,M=e.headerBackTitleVisible,F=e.headerTruncatedBackTitle,H=e.headerPressColorAndroid,z=e.headerBackAccessibilityLabel,U=e.headerBackAllowFontScaling,V=e.headerTitleAllowFontScaling,G=e.headerTitleStyle,Y=e.headerBackTitleStyle,J=e.headerLeftContainerStyle,K=e.headerRightContainerStyle,q=e.headerTitleContainerStyle,Q=e.headerStyle,$=e.headerStatusBarHeight,X=void 0===$?w?0:P.top:$,Z=e.styleInterpolator,ee=h(O,X),te=l.StyleSheet.flatten(Q||{}),ne=te.height,re=void 0===ne?ee:ne,oe=te.minHeight,ie=te.maxHeight,ae=te.backgroundColor,le=te.borderBottomColor,se=te.borderBottomEndRadius,ce=te.borderBottomLeftRadius,ue=te.borderBottomRightRadius,de=te.borderBottomStartRadius,pe=te.borderBottomWidth,fe=te.borderColor,he=te.borderEndColor,ge=te.borderEndWidth,me=te.borderLeftColor,ye=te.borderLeftWidth,ve=te.borderRadius,be=te.borderRightColor,we=te.borderRightWidth,Se=te.borderStartColor,Ce=te.borderStartWidth,Oe=te.borderStyle,Pe=te.borderTopColor,Te=te.borderTopEndRadius,xe=te.borderTopLeftRadius,Ie=te.borderTopRightRadius,ke=te.borderTopStartRadius,Ee=te.borderTopWidth,je=te.borderWidth,Re=te.boxShadow,Le=te.elevation,_e=te.shadowColor,De=te.shadowOffset,Ne=te.shadowOpacity,We=te.shadowRadius,Ae=te.opacity,Be=te.transform;(0,o.default)(te,p);0;var Me={backgroundColor:ae,borderBottomColor:le,borderBottomEndRadius:se,borderBottomLeftRadius:ce,borderBottomRightRadius:ue,borderBottomStartRadius:de,borderBottomWidth:pe,borderColor:fe,borderEndColor:he,borderEndWidth:ge,borderLeftColor:me,borderLeftWidth:ye,borderRadius:ve,borderRightColor:be,borderRightWidth:we,borderStartColor:Se,borderStartWidth:Ce,borderStyle:Oe,borderTopColor:Pe,borderTopEndRadius:Te,borderTopLeftRadius:xe,borderTopRightRadius:Ie,borderTopStartRadius:ke,borderTopWidth:Ee,borderWidth:je,boxShadow:Re,elevation:Le,shadowColor:_e,shadowOffset:De,shadowOpacity:Ne,shadowRadius:We,opacity:Ae,transform:Be};for(var Fe in Me)void 0===Me[Fe]&&delete Me[Fe];var He=S(Z,O,C.progress.current,C.progress.next,v,x?r:void 0,"number"==typeof re?re:ee),ze=He.titleStyle,Ue=He.leftButtonStyle,Ve=He.leftLabelStyle,Ge=He.rightButtonStyle,Ye=He.backgroundStyle,Je=L?L({backImage:A,pressColorAndroid:H,accessibilityLabel:z,allowFontScaling:U,onPress:I,labelVisible:M,label:void 0!==B?B:x,truncatedLabel:F,labelStyle:[Ve,Y],onLabelLayout:function(e){var t=e.nativeEvent.layout,n=t.height,o=t.width;r&&n===r.height&&o===r.width||f({height:n,width:o})},screenLayout:O,titleLayout:v,tintColor:D,canGoBack:Boolean(I)}):null,Ke=W?W({tintColor:D}):null;return a.createElement(a.Fragment,null,a.createElement(l.Animated.View,{pointerEvents:"box-none",style:[l.StyleSheet.absoluteFill,{zIndex:0},Ye]},N?N({style:Me}):_?null:a.createElement(c.default,{style:Me})),a.createElement(l.Animated.View,{pointerEvents:"box-none",style:[{height:re,minHeight:oe,maxHeight:ie,opacity:Ae,transform:Be}]},a.createElement(l.View,{pointerEvents:"none",style:{height:X}}),a.createElement(l.View,{pointerEvents:"box-none",style:g.content},Je?a.createElement(l.Animated.View,{pointerEvents:"box-none",style:[g.left,{left:P.left},Ue,J]},Je):null,a.createElement(l.Animated.View,{pointerEvents:"box-none",style:["left"===j?{position:"absolute",left:(Je?72:16)+P.left,right:(Ke?72:16)+P.right}:{marginHorizontal:(Je?32:16)+(Je&&!1!==M?40:0)+Math.max(P.left,P.right)},ze,q]},k({children:T,onLayout:function(e){var t=e.nativeEvent.layout,n=t.height,r=t.width;b((function(e){return e&&n===e.height&&r===e.width?e:{height:n,width:r}}))},allowFontScaling:V,tintColor:D,style:G})),Ke?a.createElement(l.Animated.View,{pointerEvents:"box-none",style:[g.right,{right:P.right},Ge,K]},Ke):null)))},t.getDefaultHeaderHeight=void 0;var o=r(n(56)),i=r(n(55)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=r(n(357)),c=r(n(360)),u=r(n(277)),d=r(n(361)),p=["height","minHeight","maxHeight","backgroundColor","borderBottomColor","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderBottomWidth","borderColor","borderEndColor","borderEndWidth","borderLeftColor","borderLeftWidth","borderRadius","borderRightColor","borderRightWidth","borderStartColor","borderStartWidth","borderStyle","borderTopColor","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderTopWidth","borderWidth","boxShadow","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","opacity","transform"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var h=function(e,t){var n=e.width>e.height;return("ios"===l.Platform.OS?n&&!l.Platform.isPad?32:44:"android"===l.Platform.OS?56:64)+t};t.getDefaultHeaderHeight=h;var g=l.StyleSheet.create({content:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},left:{position:"absolute",left:0,top:0,bottom:0,justifyContent:"center",alignItems:"flex-start"},right:{position:"absolute",right:0,top:0,bottom:0,justifyContent:"center",alignItems:"flex-end"}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.disabled,r=e.allowFontScaling,o=e.backImage,d=e.label,f=e.labelStyle,h=e.labelVisible,g=void 0===h?"ios"===l.Platform.OS:h,m=e.onLabelLayout,y=e.onPress,v=e.pressColorAndroid,b=e.screenLayout,w=e.tintColor,S=e.titleLayout,C=e.truncatedLabel,O=void 0===C?"Back":C,P=e.accessibilityLabel,T=void 0===P?d&&"Back"!==d?"".concat(d,", back"):"Go back":P,x=e.style,I=(0,s.useTheme)(),k=I.dark,E=I.colors,j=a.useState(void 0),R=(0,i.default)(j,2),L=R[0],_=R[1],D=void 0!==w?w:l.Platform.select({ios:E.primary,default:E.text}),N=void 0!==v?v:k?"rgba(255, 255, 255, .32)":"rgba(0, 0, 0, .32)",W=function(e){null==m||m(e),_(e.nativeEvent.layout.x+e.nativeEvent.layout.width)};return a.createElement(u.default,{disabled:t,accessible:!0,accessibilityRole:"button",accessibilityComponentType:"button",accessibilityLabel:T,accessibilityTraits:"button",testID:"header-back",delayPressIn:0,onPress:t?void 0:function(){return y&&requestAnimationFrame(y)},pressColor:N,style:[p.container,t&&p.disabled,x],hitSlop:l.Platform.select({ios:void 0,default:{top:16,right:16,bottom:16,left:16}}),borderless:!0},a.createElement(a.Fragment,null,o?o({tintColor:D}):a.createElement(l.Image,{style:[p.icon,Boolean(g)&&p.iconWithLabel,Boolean(D)&&{tintColor:D}],source:n(358),fadeDuration:0}),function(){var e=!d||L&&S&&b&&(b.width-S.width)/2<L+26?O:d;if(!g||void 0===e)return null;var t=a.createElement(l.View,{style:b?[p.labelWrapper,{minWidth:b.width/2-27}]:null},a.createElement(l.Animated.Text,{accessible:!1,onLayout:e===d?W:void 0,style:[p.label,D?{color:D}:null,f],numberOfLines:1,allowFontScaling:!!r},e));return o||"ios"!==l.Platform.OS?t:a.createElement(c.default,{maskElement:a.createElement(l.View,{style:p.iconMaskContainer},a.createElement(l.Image,{source:n(359),style:p.iconMask}),a.createElement(l.View,{style:p.iconMaskFillerRect}))},t)}()))};var o=r(n(15)),i=r(n(55)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=n(76),c=r(n(527)),u=r(n(528));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=l.StyleSheet.create({container:(0,o.default)({alignItems:"center",flexDirection:"row"},l.Platform.select({ios:null,default:{marginVertical:3,marginHorizontal:11}})),disabled:{opacity:.5},label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:"row",alignItems:"flex-start"},icon:l.Platform.select({ios:{height:21,width:13,marginLeft:8,marginRight:22,marginVertical:12,resizeMode:"contain",transform:[{scaleX:l.I18nManager.isRTL?-1:1}]},default:{height:24,width:24,margin:3,resizeMode:"contain",transform:[{scaleX:l.I18nManager.isRTL?-1:1}]}}),iconWithLabel:"ios"===l.Platform.OS?{marginRight:6}:{},iconMaskContainer:{flex:1,flexDirection:"row",justifyContent:"center"},iconMaskFillerRect:{flex:1,backgroundColor:"#000"},iconMask:{height:21,width:13,marginLeft:-14.5,marginVertical:12,alignSelf:"center",resizeMode:"contain",transform:[{scaleX:l.I18nManager.isRTL?-1:1}]}})},function(e,t,n){"use strict";n.r(t),t.default=n.p+"/images/back-icon.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"/images/back-icon-mask.png"},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.style,n=(0,i.default)(e,c),r=(0,s.useTheme)().colors;return a.createElement(l.Animated.View,d({style:[p.container,{backgroundColor:r.card,borderBottomColor:r.border,shadowColor:r.border},t]},n))};var o=r(n(15)),i=r(n(56)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=n(76),c=["style"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=l.StyleSheet.create({container:(0,o.default)({flex:1},l.Platform.select({android:{elevation:4},ios:{shadowOpacity:.85,shadowRadius:0,shadowOffset:{width:0,height:l.StyleSheet.hairlineWidth}},default:{borderBottomWidth:l.StyleSheet.hairlineWidth}}))})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return function(){for(var r=!1,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if(t){if(t.length!==i.length)r=!0;else for(var l=0;l<t.length;l++)if(t[l]!==i[l]){r=!0;break}}else r=!0;return t=i,(r||void 0===n)&&(n=e.apply(void 0,i)),n}}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){var r=n(362),o={};for(var i in r)r.hasOwnProperty(i)&&(o[r[i]]=i);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in a)if(a.hasOwnProperty(l)){if(!("channels"in a[l]))throw new Error("missing channels property: "+l);if(!("labels"in a[l]))throw new Error("missing channel labels property: "+l);if(a[l].labels.length!==a[l].channels)throw new Error("channel and label counts mismatch: "+l);var s=a[l].channels,c=a[l].labels;delete a[l].channels,delete a[l].labels,Object.defineProperty(a[l],"channels",{value:s}),Object.defineProperty(a[l],"labels",{value:c})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),l=Math.max(r,o,i),s=l-a;return l===a?t=0:r===l?t=(o-i)/s:o===l?t=2+(i-r)/s:i===l&&(t=4+(r-o)/s),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+l)/2,[t,100*(l===a?0:n<=.5?s/(l+a):s/(2-l-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,o,i,a=e[0]/255,l=e[1]/255,s=e[2]/255,c=Math.max(a,l,s),u=c-Math.min(a,l,s),d=function(e){return(c-e)/6/u+.5};return 0===u?o=i=0:(i=u/c,t=d(a),n=d(l),r=d(s),a===c?o=r-n:l===c?o=1/3+t-r:s===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*c]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-o)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=o[e];if(t)return t;var n,i,a,l=1/0;for(var s in r)if(r.hasOwnProperty(s)){var c=r[s],u=(i=e,a=c,Math.pow(i[0]-a[0],2)+Math.pow(i[1]-a[1],2)+Math.pow(i[2]-a[2],2));u<l&&(l=u,n=s)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},a.hsl.rgb=function(e){var t,n,r,o,i,a=e[0]/360,l=e[1]/100,s=e[2]/100;if(0===l)return[i=255*s,i,i];t=2*s-(n=s<.5?s*(1+l):s+l-s*l),o=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[c]=255*i;return o},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,o=n,i=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),l=255*r*(1-n*i),s=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,s,a];case 1:return[l,r,a];case 2:return[a,r,s];case 3:return[a,l,r];case 4:return[s,a,r];case 5:return[r,a,l]}},a.hsv.hsl=function(e){var t,n,r,o=e[0],i=e[1]/100,a=e[2]/100,l=Math.max(a,.01);return r=(2-i)*a,n=i*l,[o,100*(n=(n/=(t=(2-i)*l)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,o,i,a,l,s=e[0]/360,c=e[1]/100,u=e[2]/100,d=c+u;switch(d>1&&(c/=d,u/=d),r=6*s-(t=Math.floor(6*s)),0!=(1&t)&&(r=1-r),o=c+r*((n=1-u)-c),t){default:case 6:case 0:i=n,a=o,l=c;break;case 1:i=o,a=n,l=c;break;case 2:i=c,a=n,l=o;break;case 3:i=c,a=o,l=n;break;case 4:i=o,a=c,l=n;break;case 5:i=n,a=c,l=o}return[255*i,255*a,255*l]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},a.xyz.rgb=function(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,o=e[0];t=e[1]/500+(n=(o+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),a=Math.pow(t,3),l=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],o=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var i=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===o&&(i+=60),i},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255,i=Math.max(Math.max(n,r),o),a=Math.min(Math.min(n,r),o),l=i-a;return t=l<=0?0:i===n?(r-o)/l%6:i===r?2+(o-n)/l:4+(n-r)/l+4,t/=6,[360*(t%=1),100*l,100*(l<1?a/(1-l):0)]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,o=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var o,i=[0,0,0],a=t%1*6,l=a%1,s=1-l;switch(Math.floor(a)){case 0:i[0]=1,i[1]=l,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=l;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=l,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return o=(1-n)*r,[255*(n*i[0]+o),255*(n*i[1]+o),255*(n*i[2]+o)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(t);switch(t){case"vertical":case"vertical-inverted":return e.height*n;case"horizontal":case"horizontal-inverted":return e.width*n}};var o=r(n(365))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case"vertical":return 1;case"vertical-inverted":return-1;case"horizontal":return r.I18nManager.isRTL?-1:1;case"horizontal-inverted":return r.I18nManager.isRTL?1:-1}};var r=n(9)},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(76),l=r(n(356)),s=r(n(368)),c=r(n(539));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=i.memo((function(e){var t,n=e.scene,r=e.previous,u=e.layout,p=e.insets,f=e.navigation,h=e.styleInterpolator,g=n.descriptor.options,m="function"!=typeof g.headerTitle&&void 0!==g.headerTitle?g.headerTitle:void 0!==g.title?g.title:n.route.name;if(void 0!==g.headerBackTitle)t=g.headerBackTitle;else if(r){var y=r.descriptor.options;t="function"!=typeof y.headerTitle&&void 0!==y.headerTitle?y.headerTitle:void 0!==y.title?y.title:r.route.name}var v=i.useCallback((0,c.default)((function(){f.isFocused()&&f.canGoBack()&&f.dispatch((0,o.default)({},a.StackActions.pop(),{source:n.route.key}))}),50),[f,n.route.key]);return i.createElement(l.default,d({},g,{insets:p,layout:u,scene:n,title:m,leftLabel:t,headerTitle:"function"!=typeof g.headerTitle?function(e){return i.createElement(s.default,e)}:g.headerTitle,onGoBack:r?v:void 0,styleInterpolator:h}))}));t.default=p},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.tintColor,n=e.style,r=(0,o.default)(e,s),c=(0,l.useTheme)().colors;return i.createElement(a.Animated.Text,u({accessibilityRole:"header","aria-level":"1",numberOfLines:1},r,{style:[d.title,{color:void 0===t?c.text:t},n]}))};var o=r(n(56)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9),l=n(76),s=["tintColor","style"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=a.StyleSheet.create({title:a.Platform.select({ios:{fontSize:17,fontWeight:"600"},android:{fontSize:20,fontFamily:"sans-serif-medium",fontWeight:"normal"},default:{fontSize:18,fontWeight:"500"}})})},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(null);t.default=o},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(8),s=n.n(l),c=n(7),u=n.n(c),d=n(4),p=n.n(d),f=n(0),h=n.n(f),g=n(43),m=n(126),y=n(152),v=n(57),b=n(53),w=v.a.create({container:{flexDirection:"row",justifyContent:"flex-end",marginTop:24,alignItems:"center"},itemBox:{height:16,marginLeft:5,marginRight:5},itemText:{height:16,width:20,fontFamily:b.a.fontFamilyMedium,fontSize:12,color:"#000000",textAlign:"center",fontWeight:"400",opacity:1},singValText:{width:20,height:16},singleText:{textAlign:"center",height:16,marginLeft:10},ellipsis:{textAlign:"center",height:16,marginLeft:10},CheckedButton:{color:"#D20A2C"},checkedButtonClick:{fontWeight:"600"},longText:{width:22},buttonText:{display:"flex",width:32,height:32,backgroundColor:"#FFFFFF",alignItems:"center",justifyContent:"center"}}),S=n(20),C=n(79),O=n(660);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var T=function(e){s()(n,e);var t=P(n);function n(e){var r;return o()(this,n),(r=t.call(this,e)).state={currentPage:1,groupCount:9,startPage:1,totalPageNum:r.props.totalCount,hoverIndex:-3},r}return a()(n,[{key:"createPage",value:function(){var e=this,t=this.state,n=t.currentPage,r=t.groupCount,o=t.startPage,i=t.hoverIndex,a=this.props.totalPage,l=a>99?100:a,s=[];if(s.push(h.a.createElement(g.a,{style:{flexDirection:"row"}},h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(-1)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},h.a.createElement(m.a,{key:1,onPress:this.pageCViewck.bind(this,1,l)},h.a.createElement(g.a,{style:[w.itemText,w.buttonText,{marginRight:10}]},h.a.createElement(g.a,{style:{marginLeft:6}},h.a.createElement(S.a,{iconName:"ic_public_arrow_left_1svg",width:16,height:16,activeCol:"#CF0A2C",isActive:-1==i}))))),h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(0)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},h.a.createElement(m.a,{onPress:this.prePageHandeler.bind(this),key:0},h.a.createElement(g.a,{style:[w.itemText,w.buttonText,{marginRight:5}]},h.a.createElement(g.a,{style:{marginLeft:6}},h.a.createElement(S.a,{iconName:"ic_public_arrow_left",width:16,height:16,activeCol:"#CF0A2C",isActive:0==i}))))))),l<=10)for(var c=function(t){s.push(h.a.createElement(g.a,null,h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(t)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},n==t?h.a.createElement(y.a,{style:[w.itemText,t>99?w.longText:null,n==t||i==t?w.CheckedButton:null,n==t?w.checkedButtonClick:null]},t):h.a.createElement(m.a,{key:t,onPress:e.pageCViewck.bind(e,t,l)},h.a.createElement(y.a,{style:[w.itemText,t>99?w.longText:null,n==t||i==t?w.CheckedButton:null,n==t?w.checkedButtonClick:null]},t)))))},u=1;u<=l;u++)c(u);else{s.push(h.a.createElement(g.a,{style:{width:20,height:16,marginRight:5}},h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(1)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},1==n?h.a.createElement(y.a,{style:[w.itemText,{marginLeft:5,marginRight:5,width:20,height:16},1==n||1==i?w.CheckedButton:null,1==n?w.checkedButtonClick:null]},1):h.a.createElement(m.a,{key:1,onPress:this.pageCViewck.bind(this,1,l)},h.a.createElement(y.a,{style:[w.itemText,{marginLeft:5,marginRight:5,width:20,height:16},1==n||1==i?w.CheckedButton:null,1==n?w.checkedButtonClick:null]},1)))));var d=0;d=r+o>l?l:r+o,n>=r&&s.push(h.a.createElement(g.a,{style:w.itemText,key:-1},h.a.createElement(y.a,null,"···")));for(var p=function(t){t<=l-1&&t>1&&s.push(h.a.createElement(g.a,{style:[w.itemBox]},h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(t)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},n==t&&n<l-2?h.a.createElement(y.a,{style:[w.itemText,w.singValText,t>99?w.longText:null,n==t||i==t?w.CheckedButton:null,n==t?w.checkedButtonClick:null]},t):h.a.createElement(m.a,{key:t,onPress:e.pageCViewck.bind(e,t,l)},h.a.createElement(y.a,{style:[w.itemText,w.singValText,t>99?w.longText:null,n==t||i==t?w.CheckedButton:null,n==t?w.checkedButtonClick:null]},t)))))},f=o;f<d;f++)p(f);l-o>=r+1&&s.push(h.a.createElement(g.a,{style:w.itemText,key:-2},h.a.createElement(y.a,null,"···"))),s.push(h.a.createElement(g.a,{style:{width:20,height:16}},h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(l)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},h.a.createElement(m.a,{key:l,onPress:this.pageCViewck.bind(this,l,l)},h.a.createElement(y.a,{style:[w.itemText,l>99?w.longText:null,n==l||i==l?w.CheckedButton:null,n==l?w.checkedButtonClick:null]},l)))))}return s.push(h.a.createElement(g.a,{style:{flexDirection:"row"}},h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(l+1)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},h.a.createElement(m.a,{onPress:this.nextPageHandeler.bind(this),key:l+1},h.a.createElement(g.a,{style:[w.itemText,w.buttonText,{marginLeft:10}]},h.a.createElement(g.a,{style:[{marginLeft:6}]},h.a.createElement(S.a,{iconName:"ic_public_arrow_right",width:16,height:16,activeCol:"#CF0A2C",isActive:i==l+1}))))),h.a.createElement(O.a,{onHoverIn:function(){return e.mouseinTab(l+2)},onHoverOut:function(){return e.mouseoutSubmitBtn()}},h.a.createElement(m.a,{key:l,onPress:this.pageCViewck.bind(this,l,l,!0)},h.a.createElement(g.a,{style:[w.itemText,w.buttonText,{marginLeft:10}]},h.a.createElement(g.a,{style:{marginLeft:6}},h.a.createElement(S.a,{iconName:"ic_public_arrow_right_1",width:16,height:16,activeCol:"#CF0A2C",isActive:i==l+2}))))))),s}},{key:"mouseinTab",value:function(e){this.setState({hoverIndex:e})}},{key:"mouseoutSubmitBtn",value:function(){this.setState({hoverIndex:-3})}},{key:"pageCViewck",value:function(e,t,n,r){var o=this,i=this.state.groupCount,a=this.props.pageCallbackFn;e>=i&&e<t&&this.setState({startPage:e-2},(function(){t-o.state.startPage<i+1&&t>=9&&o.setState({startPage:t-8})})),e==t&&this.setState({startPage:e-8}),e<i&&this.setState({startPage:1}),1===e&&this.setState({startPage:1}),this.setState({currentPage:e}),this.props.isSearch?a(e):(C.a.updateCurrentPage(e),11!==r&&a(!1,!0))}},{key:"resetPageNum",value:function(e){this.setState({startPage:1,currentPage:e})}},{key:"prePageHandeler",value:function(e){var t=this.state.currentPage,n=this.props.totalPage,r=n>99?100:n;if(0==--t)return!1;this.pageCViewck(t,r,!1,e)}},{key:"nextPageHandeler",value:function(e){var t=this.state.currentPage,n=this.props.totalPage,r=n>99?100:n;if(++t>r)return!1;this.pageCViewck(t,r,!1,e)}},{key:"render",value:function(){var e=this.props.totalPage;return e&&e>1?h.a.createElement(g.a,{style:[w.container]},this.createPage()):h.a.createElement(h.a.Fragment,null)}}]),n}(f.Component);t.a=T},,function(e,t,n){"use strict";var r=n(373),o=n(257),i=n(189),a=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=String.prototype.split,u=Array.prototype.push,d=function(e,t){u.apply(e,s(t)?t:[t])},p=Date.prototype.toISOString,f=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},g={},m=function e(t,n,i,a,l,u,p,f,m,y,v,b,w,S,C){for(var O,P=t,T=C,x=0,I=!1;void 0!==(T=T.get(g))&&!I;){var k=T.get(t);if(x+=1,void 0!==k){if(k===x)throw new RangeError("Cyclic object value");I=!0}void 0===T.get(g)&&(x=0)}if("function"==typeof p?P=p(n,P):P instanceof Date?P=y(P):"comma"===i&&s(P)&&(P=o.maybeMap(P,(function(e){return e instanceof Date?y(e):e}))),null===P){if(a)return u&&!w?u(n,h.encoder,S,"key",v):n;P=""}if("string"==typeof(O=P)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||o.isBuffer(P)){if(u){var E=w?n:u(n,h.encoder,S,"key",v);if("comma"===i&&w){for(var j=c.call(String(P),","),R="",L=0;L<j.length;++L)R+=(0===L?"":",")+b(u(j[L],h.encoder,S,"value",v));return[b(E)+"="+R]}return[b(E)+"="+b(u(P,h.encoder,S,"value",v))]}return[b(n)+"="+b(String(P))]}var _,D=[];if(void 0===P)return D;if("comma"===i&&s(P))_=[{value:P.length>0?P.join(",")||null:void 0}];else if(s(p))_=p;else{var N=Object.keys(P);_=f?N.sort(f):N}for(var W=0;W<_.length;++W){var A=_[W],B="object"==typeof A&&void 0!==A.value?A.value:P[A];if(!l||null!==B){var M=s(P)?"function"==typeof i?i(n,A):n:n+(m?"."+A:"["+A+"]");C.set(t,x);var F=r();F.set(g,C),d(D,e(B,M,i,a,l,u,p,f,m,y,v,b,w,S,F))}}return D};e.exports=function(e,t){var n,o=e,c=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=h.filter;return("function"==typeof e.filter||s(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):s(c.filter)&&(n=c.filter);var u,p=[];if("object"!=typeof o||null===o)return"";u=t&&t.arrayFormat in l?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var f=l[u];n||(n=Object.keys(o)),c.sort&&n.sort(c.sort);for(var g=r(),y=0;y<n.length;++y){var v=n[y];c.skipNulls&&null===o[v]||d(p,m(o[v],v,f,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var b=p.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},function(e,t,n){"use strict";var r=n(187),o=n(378),i=n(380),a=r("%TypeError%"),l=r("%WeakMap%",!0),s=r("%Map%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),d=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),g=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(s){if(t)return p(t,r)}else if(n)return function(e,t){var n=g(e,t);return n&&n.value}(n,r)},has:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(s){if(t)return h(t,r)}else if(n)return function(e,t){return!!g(e,t)}(n,r);return!1},set:function(r,o){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),u(e,r,o)):s?(t||(t=new s),f(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=g(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(375);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(r+t);for(var n,a=o.call(arguments,1),l=function(){if(this instanceof n){var r=t.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(o.call(arguments)))},s=Math.max(0,t.length-a.length),c=[],u=0;u<s;u++)c.push("$"+u);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),t.prototype){var d=function(){};d.prototype=t.prototype,n.prototype=new d,d.prototype=null}return n}},function(e,t,n){"use strict";var r=n(188);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(187),o=n(379),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},function(e,t,n){"use strict";var r=n(188),o=n(187),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),l=o("%Reflect.apply%",!0)||r.call(a,i),s=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=l(r,a,arguments);if(s&&c){var n=s(t,"length");n.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var d=function(){return l(r,i,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},function(e,t,n){var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=l&&s&&"function"==typeof s.get?s.get:null,u=l&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,S=String.prototype.toLowerCase,C=RegExp.prototype.test,O=Array.prototype.concat,P=Array.prototype.join,T=Array.prototype.slice,x=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,j="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||"symbol")?Symbol.toStringTag:null,L=Object.prototype.propertyIsEnumerable,_=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||C.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-x(-e):x(e);if(r!==e){var o=String(r),i=v.call(t,o.length+1);return b.call(o,n,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var N=n(381).custom,W=N&&F(N)?N:null;function A(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function B(e){return b.call(String(e),/"/g,"&quot;")}function M(e){return!("[object Array]"!==U(e)||R&&"object"==typeof e&&R in e)}function F(e){if(j)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,o){var l=n||{};if(z(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!z(l,"customInspect")||l.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return e(v.call(t,0,n.maxStringLength),n)+o}return A(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,G),"single",n)}(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return g?D(t,w):w}if("bigint"==typeof t){var C=String(t)+"n";return g?D(t,C):C}var x=void 0===l.depth?5:l.depth;if(void 0===r&&(r=0),r>=x&&x>0&&"object"==typeof t)return M(t)?"[Array]":"[Object]";var k=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=P.call(Array(e.indent+1)," ")}return{base:n,prev:P.call(Array(t+1),n)}}(l,r);if(void 0===o)o=[];else if(V(o,t)>=0)return"[Circular]";function N(t,n,i){if(n&&(o=T.call(o)).push(n),i){var a={depth:l.depth};return z(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),e(t,a,r+1,o)}return e(t,l,r+1,o)}if("function"==typeof t){var H=function(e){if(e.name)return e.name;var t=y.call(m.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),$=Q(t,N);return"[Function"+(H?": "+H:" (anonymous)")+"]"+($.length>0?" { "+P.call($,", ")+" }":"")}if(F(t)){var X=j?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):E.call(t);return"object"!=typeof t||j?X:Y(X)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var Z="<"+S.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)Z+=" "+ee[te].name+"="+A(B(ee[te].value),"double",l);return Z+=">",t.childNodes&&t.childNodes.length&&(Z+="..."),Z+="</"+S.call(String(t.nodeName))+">"}if(M(t)){if(0===t.length)return"[]";var ne=Q(t,N);return k&&!function(e){for(var t=0;t<e.length;t++)if(V(e[t],"\n")>=0)return!1;return!0}(ne)?"["+q(ne,k)+"]":"[ "+P.call(ne,", ")+" ]"}if(function(e){return!("[object Error]"!==U(e)||R&&"object"==typeof e&&R in e)}(t)){var re=Q(t,N);return"cause"in t&&!L.call(t,"cause")?"{ ["+String(t)+"] "+P.call(O.call("[cause]: "+N(t.cause),re),", ")+" }":0===re.length?"["+String(t)+"]":"{ ["+String(t)+"] "+P.call(re,", ")+" }"}if("object"==typeof t&&s){if(W&&"function"==typeof t[W])return t[W]();if("symbol"!==s&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var oe=[];return a.call(t,(function(e,n){oe.push(N(n,t,!0)+" => "+N(e,t))})),K("Map",i.call(t),oe,k)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ie=[];return u.call(t,(function(e){ie.push(N(e,t))})),K("Set",c.call(t),ie,k)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return J("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return J("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return J("WeakRef");if(function(e){return!("[object Number]"!==U(e)||R&&"object"==typeof e&&R in e)}(t))return Y(N(Number(t)));if(function(e){if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return Y(N(I.call(t)));if(function(e){return!("[object Boolean]"!==U(e)||R&&"object"==typeof e&&R in e)}(t))return Y(h.call(t));if(function(e){return!("[object String]"!==U(e)||R&&"object"==typeof e&&R in e)}(t))return Y(N(String(t)));if(!function(e){return!("[object Date]"!==U(e)||R&&"object"==typeof e&&R in e)}(t)&&!function(e){return!("[object RegExp]"!==U(e)||R&&"object"==typeof e&&R in e)}(t)){var ae=Q(t,N),le=_?_(t)===Object.prototype:t instanceof Object||t.constructor===Object,se=t instanceof Object?"":"null prototype",ce=!le&&R&&Object(t)===t&&R in t?v.call(U(t),8,-1):se?"Object":"",ue=(le||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||se?"["+P.call(O.call([],ce||[],se||[]),": ")+"] ":"");return 0===ae.length?ue+"{}":k?ue+"{"+q(ae,k)+"}":ue+"{ "+P.call(ae,", ")+" }"}return String(t)};var H=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return H.call(e,t)}function U(e){return g.call(e)}function V(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function G(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function Y(e){return"Object("+e+")"}function J(e){return e+" { ? }"}function K(e,t,n,r){return e+" ("+t+") {"+(r?q(n,r):P.call(n,", "))+"}"}function q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+P.call(e,","+n)+"\n"+t.prev}function Q(e,t){var n=M(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=z(e,o)?t(e[o],e):""}var i,a="function"==typeof k?k(e):[];if(j){i={};for(var l=0;l<a.length;l++)i["$"+a[l]]=a[l]}for(var s in e)z(e,s)&&(n&&String(Number(s))===s&&s<e.length||j&&i["$"+s]instanceof Symbol||(C.call(/[^\w$]/,s)?r.push(t(s,e)+": "+t(e[s],e)):r.push(s+": "+t(e[s],e))));if("function"==typeof k)for(var c=0;c<a.length;c++)L.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},function(e,t){},function(e,t,n){"use strict";var r=n(257),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},l=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},s=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,l=n.depth>0&&/(\[[^[\]]*])/.exec(i),c=l?i.slice(0,l.index):i,u=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&null!==(l=a.exec(i))&&d<n.depth;){if(d+=1,!n.plainObjects&&o.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),function(e,t,n,r){for(var o=r?t:s(t,n),i=e.length-1;i>=0;--i){var a,l=e[i];if("[]"===l&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var c="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&l!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(a=[])[u]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,d),f=-1,h=t.charset;if(t.charsetSentinel)for(n=0;n<p.length;++n)0===p[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[n]?h="utf-8":"utf8=%26%2310003%3B"===p[n]&&(h="iso-8859-1"),f=n,n=p.length);for(n=0;n<p.length;++n)if(n!==f){var g,m,y=p[n],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(g=t.decoder(y,a.decoder,h,"key"),m=t.strictNullHandling?null:""):(g=t.decoder(y.slice(0,b),a.decoder,h,"key"),m=r.maybeMap(s(y.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,h,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=l(m)),y.indexOf("[]=")>-1&&(m=i(m)?[m]:m),o.call(c,g)?c[g]=r.combine(c[g],m):c[g]=m}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},p=Object.keys(u),f=0;f<p.length;++f){var h=p[f],g=c(h,u[h],n,"string"==typeof e);d=r.merge(d,g,n)}return!0===n.allowSparse?d:r.compact(d)}},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function C(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case p:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case y:case m:case c:return e;default:return t}}case i:return t}}}function O(e){return C(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||C(e)===d},t.isConcurrentMode=O,t.isContextConsumer=function(e){return C(e)===u},t.isContextProvider=function(e){return C(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===f},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===y},t.isMemo=function(e){return C(e)===m},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===s},t.isStrictMode=function(e){return C(e)===l},t.isSuspense=function(e){return C(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===l||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===b||e.$$typeof===w||e.$$typeof===S||e.$$typeof===v)},t.typeOf=C},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};t.__esModule=!0;var l=n(0),s=n(28),c=n(387),u=n(388),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.textarea=null,t.onResize=function(e){t.props.onResize&&t.props.onResize(e)},t.updateLineHeight=function(){t.textarea&&t.setState({lineHeight:u(t.textarea)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,r=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return e.textarea&&c(e.textarea)})):this.textarea&&c(this.textarea),this.textarea&&this.textarea.addEventListener("autosize:resized",this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener("autosize:resized",this.onResize),c.destroy(this.textarea))},t.prototype.render=function(){var e=this,t=this.props,n=(t.onResize,t.maxRows),r=(t.onChange,t.style),o=(t.innerRef,t.children),s=a(t,["onResize","maxRows","onChange","style","innerRef","children"]),c=this.state.lineHeight,u=n&&c?c*n:null;return l.createElement("textarea",i({},s,{onChange:this.onChange,style:u?i({},r,{maxHeight:u}):r,ref:function(t){e.textarea=t,"function"==typeof e.props.innerRef?e.props.innerRef(t):e.props.innerRef&&(e.props.innerRef.current=t)}}),o)},t.prototype.componentDidUpdate=function(){this.textarea&&c.update(this.textarea)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:s.number,maxRows:s.number,onResize:s.func,innerRef:s.any,async:s.bool},t}(l.Component);t.TextareaAutosize=l.forwardRef((function(e,t){return l.createElement(d,i({},e,{innerRef:t}))}))},function(e,t,n){"use strict";var r=n(386);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r,o,i;
/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/o=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,n=null,r=null,a=null,l=function(){e.clientWidth!==r&&d()},s=function(t){window.removeEventListener("resize",l,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:s,update:d}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),d()}function c(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",r=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(c("scroll"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==r){a=r;var o=i("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function l(e){var t=o.get(e);t&&t.destroy()}function s(e){var t=o.get(e);t&&t.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(e){return e}).destroy=function(e){return e},c.update=function(e){return e}):((c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],l),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e}),t.default=c,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){var r=n(389);e.exports=function(e){var t=r(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),n=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var i=e.nodeName,a=document.createElement(i);a.innerHTML="&nbsp;","TEXTAREA"===i.toUpperCase()&&a.setAttribute("rows","1");var l=r(e,"font-size");a.style.fontSize=l,a.style.padding="0px",a.style.border="0px";var s=document.body;s.appendChild(a),n=a.offsetHeight,s.removeChild(a)}return n}},function(e,t){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},function(e,t,n){e.exports={default:n(595),__esModule:!0}},function(e,t,n){e.exports={default:n(596),__esModule:!0}},function(e,t,n){e.exports={default:n(597),__esModule:!0}},function(e,t,n){e.exports={default:n(598),__esModule:!0}},function(e,t,n){e.exports={default:n(599),__esModule:!0}},function(e,t,n){e.exports={default:n(600),__esModule:!0}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){(function(e){!function(t,n,r,o){"use strict";var i="default"in n?n.default:n;r=r&&r.hasOwnProperty("default")?r.default:r;var a=function(e){return void 0===e},l=function(e){return null===e},s=function(e){return"function"==typeof e},c=function(e){return"string"==typeof e},u=function(e){return!(a(e)||l(e))},d=function(e){return e instanceof Array},p=function(e){return"number"==typeof e&&!((t=e)!=t);var t},f=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];try{p(t)&&(t=String(t));var r=(c(t)?t.split("."):t).reduce((function(e,t){return e[t]}),e);return a(r)?n:r}catch(e){return n}},h=function(e){for(var t=arguments.length,n=Array(2<t?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];o=c(o)?o.split("."):o;var i=f(e,o),a=f(e,o.slice(0,-1));return s(i)?i.call.apply(i,[a].concat(n)):i},g=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return a(e)?h(t):h(e)}),void 0)},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},C=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},P=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},x="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:Function("return this")(),I="object"===(void 0===e?"undefined":m(e))&&e&&e.Math===Math&&e.Array===Array?e:x,k=f(I,"document.body"),E=f(I,"document.scrollingElement",f(I,"document.documentElement",{}));function j(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return!!u(e)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)}function R(e){return s(f(I,"document.getElementById"))?[].concat(T(g(h(e,"querySelectorAll","*"),[])),[e]).filter(j):[]}function L(e){var t=[].concat(T(new Set([].concat(T(function e(t){return t.reduce((function(t,n){return[].concat(T(t),T(d(n)?e(n):[n]))}),[])}((d(e)?e:[e]).map(R))),T([E,k].filter(j)))))).map((function(e){return[e,{x:e.scrollLeft,y:e.scrollTop}]}));return function(){t.forEach((function(e){var t=P(e,2),n=t[0],r=t[1],o=r.x,i=r.y;n.scrollLeft=o,n.scrollTop=i}))}}var _={},D=function(){return Object.entries(_).filter((function(e){var t=P(e,2)[1];return t instanceof V?t.state.cached:Object.values(t).some((function(e){return e.state.cached}))}))},N=function(){return w({},_)},W=function(e,t){_[e]=t},A=function(e){delete _[e]},B=function(e){return h(e,"reset")},M=function(e){var t=f(_,[e]);t&&(t instanceof V?B(t):Object.values(t).forEach(B))},F=u(i.forwardRef),H="__isComputedUnmatch",z=function(e){return u(e)&&!0!==f(e,H)},U=function(e,t){var n=e.match,r=e.when,o=void 0===r?"forward":r;if(z(n)||(n=null),!t.cached&&n)return{cached:!0,matched:!0};if(t.matched&&!n){var i=f(e,"history.action"),a=!1;if(s(o))a=!o(e);else switch(o){case"always":break;case"back":["PUSH","REPLACE"].includes(i)&&(a=!0);break;case"forward":default:"POP"===i&&(a=!0)}if(a)return{cached:!1,matched:!1}}return{matched:!!n}},V=function(e){function t(e){var n;y(this,t);for(var r=arguments.length,o=Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];var a=O(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(o)));if(a.cacheLifecycles={__listener:{},didCache:function(e){a.cacheLifecycles.__listener.didCache=e},didRecover:function(e){a.cacheLifecycles.__listener.didRecover=e}},a.componentWillReceiveProps=F?void 0:function(e){var t=U(e,a.state);a.setState(t)},a.injectDOM=function(){try{h(a.__parentNode,"insertBefore",a.wrapper,a.__placeholderNode),h(a.__parentNode,"removeChild",a.__placeholderNode)}catch(e){}},a.ejectDOM=function(){try{var e=f(a.wrapper,"parentNode");a.__parentNode=e,h(a.__parentNode,"insertBefore",a.__placeholderNode,a.wrapper),h(a.__parentNode,"removeChild",a.wrapper)}catch(e){}},a.reset=function(){delete a.__revertScrollPos,a.setState({cached:!1})},a.__cacheCreateTime=Date.now(),a.__cacheUpdateTime=a.__cacheCreateTime,e.cacheKey)if(f(e.cacheKey,"multiple")){var l=e.cacheKey,s=l.cacheKey,c=l.pathname;W(s,w({},N()[s],b({},c,a)))}else W(e.cacheKey,a);return"undefined"!=typeof document&&(a.__placeholderNode=document.createComment(" Route cached "+(e.cacheKey?'with cacheKey: "'+f(e.cacheKey,"cacheKey",e.cacheKey)+'" ':""))),a.state=U(e,{cached:!1,matched:!1}),a}return S(t,e),v(t,[{key:"componentDidUpdate",value:function(e,t){if(t.cached&&this.state.cached)return!0===t.matched&&!1===this.state.matched?(this.props.unmount&&this.ejectDOM(),this.__cacheUpdateTime=Date.now(),h(this,"cacheLifecycles.__listener.didCache")):!1===t.matched&&!0===this.state.matched?(this.props.saveScrollPosition&&h(this.__revertScrollPos),this.__cacheUpdateTime=Date.now(),h(this,"cacheLifecycles.__listener.didRecover")):void 0}},{key:"shouldComponentUpdate",value:function(e,t){var n=!1===this.state.matched&&!0===t.matched,r=!0===this.state.cached&&!1===t.cached,o=this.state.matched||t.matched||this.state.cached!==t.cached;return o&&((this.props.unmount&&r||n)&&this.injectDOM(),r||n||!this.props.saveScrollPosition||(this.__revertScrollPos=L(this.props.unmount?this.wrapper:void 0))),o}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.cacheKey,n=e.unmount;if(f(t,"multiple")){var r=t.cacheKey,o=t.pathname,i=w({},N()[r]);delete i[o],0===Object.keys(i).length?A(r):W(r,i)}else A(t);n&&this.injectDOM()}},{key:"render",value:function(){var e=this,t=this.state,n=t.matched,r=t.cached,o=this.props,a=o.className,l=void 0===a?"":a,s=o.behavior,c=o.children,u=g(h(s,void 0,!n),{}),d=u.className,p=void 0===d?"":d,f=C(u,["className"]),m=h(l+" "+p,"trim"),y=""!==m;return r?i.createElement("div",w({className:y?m:void 0},f,{ref:function(t){e.wrapper=t}}),h(c,void 0,this.cacheLifecycles)):null}}]),t}(n.Component);V.propsTypes={history:r.object.isRequired,match:r.object.isRequired,children:r.func.isRequired,className:r.string,when:r.oneOfType([r.func,r.oneOf(["forward","back","always"])]),behavior:r.func,unmount:r.bool,saveScrollPosition:r.bool},V.defaultProps={when:"forward",unmount:!1,saveScrollPosition:!1,behavior:function(e){return e?{style:{display:"none"}}:void 0}},V.getDerivedStateFromProps=F?U:void 0;var G=function(e){function t(){var e,n,r;y(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)))).render=function(){return h(r.props,"children")},r.shouldComponentUpdate=function(e){return e.when},O(r,n)}return S(t,e),t}(n.Component);G.propsTypes={when:r.bool.isRequired};var Y=u(n.Fragment),J=function(e){function t(){var e,n,r;y(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)))).cache={},O(r,n)}return S(t,e),v(t,[{key:"render",value:function(){var e,t=this,r=this.props,a=r.children,l=r.render,s=r.component,c=r.className,u=r.when,d=r.behavior,f=r.cacheKey,g=r.unmount,m=r.saveScrollPosition,y=r.computedMatchForCacheRoute,v=r.multiple,b=C(r,["children","render","component","className","when","behavior","cacheKey","unmount","saveScrollPosition","computedMatchForCacheRoute","multiple"]);return(i.isValidElement(a)||(e=a,0!==i.Children.count(e)))&&(l=function(){return a}),y&&(b.computedMatch=y),v&&!Y&&(v=!1),p(v)&&(v=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE;return e<t?t:n<e?n:e}(v,1)),i.createElement(o.Route,b,(function(e){var r=e.match,o=e.computedMatch,y=e.location,b=z(e.match),S=y.pathname,C=p(v)?v:1/0,O={when:u,className:c,behavior:d,cacheKey:f,unmount:g,saveScrollPosition:m},T=function(e){return i.createElement(V,e,(function(t){return i.createElement(G,{when:z(e.match)},(function(){return Object.assign(e,{cacheLifecycles:t}),s?i.createElement(s,e):h(l||a,void 0,e)}))}))};return v&&b&&(t.cache[S]={updateTime:Date.now(),render:T},Object.entries(t.cache).sort((function(e,t){var n=P(e,2)[1];return P(t,2)[1].updateTime-n.updateTime})).forEach((function(e,n){var r=P(e,1)[0];C<=n&&delete t.cache[r]}))),v?i.createElement(n.Fragment,null,Object.entries(t.cache).map((function(t){var a=P(t,2),l=a[0],s=a[1].render,c=l===S?r||o:null;return i.createElement(n.Fragment,{key:l},s(w({},e,O,{cacheKey:f?{cacheKey:f,pathname:l,multiple:!0}:void 0,key:l,match:c})))}))):T(w({},e,O))}))}}]),t}(n.Component);J.componentName="CacheRoute",J.propTypes={component:r.elementType||r.any,render:r.func,children:r.oneOfType([r.func,r.node]),computedMatchForCacheRoute:r.object,multiple:r.oneOfType([r.bool,r.number])},J.defaultProps={multiple:!1};var K=u(n.Fragment)?function(e){var t=e.children;return i.createElement(n.Fragment,null,t)}:u(n.PropTypes)?function(e){var t=e.children;return i.createElement("div",null,t)}:function(e){return e.children};K.displayName="SwitchFragment";var q=function(e){function t(){var e,n,r;y(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return(n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)))).getContext=function(){var e=r.props;return{location:e.location,match:e.match}},O(r,n)}return S(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.which,r=this.getContext(),a=r.location,s=r.match,c=!1;return i.createElement(G,{when:z(s)},(function(){return i.createElement(K,null,i.Children.map(t,(function(e){if(!i.isValidElement(e))return null;var t,r=e.props.path||e.props.from,u=c?null:r?o.matchPath(a.pathname,w({},e.props,{path:r}),s):s;return t=n(e)?i.cloneElement(e,w({location:a,computedMatch:u},l(u)?{computedMatchForCacheRoute:b({},H,!0)}:null)):u&&!c?i.cloneElement(e,{location:a,computedMatch:u}):null,c||(c=!!u),t})))}))}}]),t}(o.Switch);q.propTypes={children:r.node,location:r.object.isRequired,match:r.object.isRequired,which:r.func},(q=o.withRouter(q)).defaultProps={which:function(e){return f(e,"type")===J}};var Q=q;t.default=J,t.CacheRoute=J,t.CacheSwitch=Q,t.dropByCacheKey=M,t.getCachingKeys=function(){return D().map((function(e){return P(e,1)[0]}))},t.clearCache=function(){D().forEach((function(e){var t=P(e,1)[0];return M(t)}))},t.getCachingComponents=function(){return D().reduce((function(e,t){var n=P(t,2),r=n[0],o=n[1];return w({},e,o instanceof V?b({},r,o):Object.entries(o).reduce((function(e,t){var n=P(t,2),o=n[0],i=n[1];return w({},e,b({},r+"."+o,i))}),{}))}),{})},Object.defineProperty(t,"__esModule",{value:!0})}(t,n(0),n(28),n(136))}).call(this,n(111))},function(e,t,n){var r=n(259);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,o=n(403),i=Object.create?Object.create(null):{};function a(e,t,n,r,o){var i=t.indexOf("<",r),a=t.slice(r,-1===i?void 0:i);/^\s*$/.test(a)&&(a=" "),(!o&&i>-1&&n+e.length>=0||" "!==a)&&e.push({type:"text",content:a})}e.exports=function(e,t){t||(t={}),t.components||(t.components=i);var n,l=[],s=-1,c=[],u={},d=!1;return e.replace(r,(function(r,i){if(d){if(r!=="</"+n.name+">")return;d=!1}var p,f="/"!==r.charAt(1),h=0===r.indexOf("\x3c!--"),g=i+r.length,m=e.charAt(g);f&&!h&&(s++,"tag"===(n=o(r)).type&&t.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!m||"<"===m||a(n.children,e,s,g,t.ignoreWhitespace),u[n.tagName]=n,0===s&&l.push(n),(p=c[s-1])&&p.children.push(n),c[s]=n),(h||!f||n.voidElement)&&(h||s--,!d&&"<"!==m&&m&&a(p=-1===s?l:c[s].children,e,s,g,t.ignoreWhitespace))})),!l.length&&e.length&&a(l,e,0,0,t.ignoreWhitespace),l}},function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,o=n(404);e.exports=function(e){var t,n=0,i=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,(function(r){if("="===r)return i=!0,void n++;i?0===n?((o[r]||"/"===e.charAt(e.length-2))&&(a.voidElement=!0),a.name=r):(a.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=r),n++,i=!1})),a}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function n(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(n,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce((function(e,t){return e+n("",t)}),"")}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,l,s=1,c={},u=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),r=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[s]=o,r(s),s++},p.clearImmediate=f}function f(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(111),n(325))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},o=e[t],a=(0,i.default)(t),l=Object.keys(n),s=0;s<l.length;s++){var c=l[s];if(c===t)for(var u=0;u<o.length;u++)r[o[u]+a]=n[t];r[c]=n[c]}return r}return n};var r,o=n(260),i=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){for(var i=0,a=e.length;i<a;++i){var l=e[i](t,n,r,o);if(l)return l}}},function(e,t,n){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)r(e,t[n]);else r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,o=n(317),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r;n(147).canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(109),v=n.n(y),b=n(0),w=n.n(b),S=n(128),C=n(156),O=n(54),P=n(37),T=n(43),x=n(87),I=n(270),k=n(57),E=n(88),j=n(53);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,D,N=n(40),W=n(119),A=n(48),B=n(102),M=n(32),F=n(150),H=n(45),z=n.n(H),U=n(30),V=n(3);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Y=O.a.get("window").width,J=Object(M.c)((D=function(e){u()(n,e);var t=G(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"_tabsMeasurements",[]),m()(s()(r),"_tabContainerMeasurements",null),m()(s()(r),"_containerMeasurements",null),m()(s()(r),"_scrollView",null),m()(s()(r),"hasChildren",!1),m()(s()(r),"navTop",!1),m()(s()(r),"updateView",(function(e){var t=Math.floor(e.value),n=e.value%1,o=r.props.tabs.length,i=o-1;0===o||e.value<0||e.value>i||r.necessarilyMeasurementsCompleted(t,t===i)&&(r.updateTabPanel(t,n),r.updateTabUnderline(t,n,o))})),m()(s()(r),"necessarilyMeasurementsCompleted",(function(e,t){return r._tabsMeasurements[e]&&(t||r._tabsMeasurements[e+1])&&r._tabContainerMeasurements&&r._containerMeasurements})),m()(s()(r),"updateTabPanel",(function(e,t){var n=r._containerMeasurements.width,o=r._tabsMeasurements[e].width,i=r._tabsMeasurements[e+1],a=i&&i.width||0,l=r._tabsMeasurements[e].left+t*o;if(l=(l-=(n-(1-t)*o-t*a)/2)>=0?l:0,"android"===P.a.OS)r._scrollView.scrollTo({x:l,y:0,animated:!1});else{var s=r._tabContainerMeasurements.width-r._containerMeasurements.width;l=l>s?s:l,r._scrollView.scrollTo({x:l,y:0,animated:!1})}})),m()(s()(r),"updateTabUnderline",(function(e,t,n){var o=r._tabsMeasurements[e].left,i=r._tabsMeasurements[e].right;if(e<n-1){var a=t*r._tabsMeasurements[e+1].left+(1-t)*o,l=t*r._tabsMeasurements[e+1].right+(1-t)*i;if(0===a)return;r.state._leftTabUnderline.setValue(a),r.state._widthTabUnderline.setValue(l-a-24)}else{if(0===o)return;r.state._leftTabUnderline.setValue(o),r.state._widthTabUnderline.setValue(i-o-16)}})),m()(s()(r),"renderTab",(function(e,t,n,o,i,a,l){var s=U.a.darkBool,c=r.props,u=c.subTitleShow,d=c.subTitle,p=c.onClick,f=u[t],h=d[t],g=t===l-1;return w.a.createElement(C.a,{key:"".concat(e,"_").concat(t),accessible:!0,accessibilityLabel:e,accessibilityTraits:"button",onPress:function(){r.props.scrollValue.setValue(t),p&&p(t),o(t)},onLayout:i},w.a.createElement(S.a,{style:[g?a.finalTabItem:a.tabItem]},w.a.createElement(E.a,{style:[n?a.textAppActive:s?a.textAppDark:a.textApp]},e),f&&h&&!r.state.tabsNavTop?w.a.createElement(T.a,{key:h+"s",style:[n?a.boxSunActive:a.boxSun]},w.a.createElement(E.a,{style:[n?a.textSunActive:a.textSun]},h)):w.a.createElement(T.a,null)))})),m()(s()(r),"measureTab",(function(e,t){var n=t.nativeEvent.layout,o=n.x,i=n.width,a=n.height;r._tabsMeasurements[e]={left:o,right:o+i,width:i,height:a},r.updateView({value:r.props.scrollValue._value})})),m()(s()(r),"onTabContainerLayout",(function(e){r._tabContainerMeasurements=e.nativeEvent.layout;var t=r._tabContainerMeasurements.width;!r.state.isShowMask&&e.nativeEvent.layout.width>Y&&r.setState({isShowMask:!0}),t<Y&&(t=Y),r.setState({_containerWidth:t}),r.updateView({value:r.props.scrollValue._value})})),m()(s()(r),"onContainerLayout",(function(e){r._containerMeasurements=e.nativeEvent.layout,r.updateView({value:r.props.scrollValue._value})})),r._tabsMeasurements=[],r.state={_leftTabUnderline:new x.a.Value(0),_widthTabUnderline:new x.a.Value(0),_containerWidth:null,isShowMask:!1,tabsNavTop:!1},r}return a()(n,[{key:"componentDidMount",value:function(){this.props.scrollValue.addListener(this.updateView)}},{key:"render",value:function(){var e=this,t={left:this.state._leftTabUnderline,width:this.state._widthTabUnderline},n=this.props,r=n.stickyScrollY,o=n.layoutY,i=O.a.get("window").width,a="medium"===Object(N.a)(i)||"large"===Object(N.a)(i)&&i<W.a.safety_area,l=A.a.isPc(i),s=r.interpolate({inputRange:[0,o,o+1],outputRange:[0,0,1]});return w.a.createElement(B.b,{themeStyles:function(e){return function(e){return k.a.create({pcBox:{height:64,backgroundColor:e.S32.backgroundColor,width:1200,margin:"auto"},wapBox:{height:56,backgroundColor:e.S32.backgroundColor},container:{flexDirection:"row",height:56,alignItems:"center"},containerApp:{paddingLeft:16,flexDirection:"row",alignItems:"center",overflow:"hidden",backgroundColor:e.S32.backgroundColor},containerPad:{paddingLeft:24,flexDirection:"row",alignItems:"center",overflow:"hidden",backgroundColor:e.S32.backgroundColor},maskWhite:{width:16,height:56,position:"absolute",right:0},maskGray:{width:16,height:"100%",position:"absolute",right:0},moreStyle:{position:"relative",flex:1,height:56},moreText:L(L(L({position:"absolute"},e.T7),e.C11),{},{right:0,height:56,lineHeight:56}),tabs:{backgroundColor:e.C32.color,flexDirection:"row",justifyContent:"flex-start",paddingLeft:16,height:56},item:{marginRight:40,height:"100%",justifyContent:"center"},tabItem:{height:20,marginRight:24,alignItems:"center",justifyContent:"center"},finalTabItem:{marginRight:16,alignItems:"center",justifyContent:"center"},text:L(L({fontFamily:j.a.fontFamilyBase},e["T11-1"]),e.C13),textHover:L(L({fontFamily:j.a.fontFamilyBase},e["T11-1"]),e.C18),textActive:L(L({fontFamily:j.a.fontFamilyBase},e.T13),e.C11),textApp:L(L(L({height:20,fontFamily:j.a.fontFamilyBase},e.T7),e.C11),{},{marginLeft:"auto",marginRight:"auto"}),textAppDark:L(L(L({height:20,fontFamily:j.a.fontFamilyBase},e.T7),e.C12),{},{marginLeft:"auto",marginRight:"auto"}),textAppActive:L(L(L({height:20,fontFamily:j.a.fontFamilyBase},e.T7),e.C11),{},{marginLeft:"auto",marginRight:"auto",color:e.C18.color}),textSun:L(L({},e.T3),e.C13),textSunActive:L(L(L({},e.C33),e.T4),{},{marginLeft:"auto",marginRight:"auto"}),boxSun:{marginLeft:"auto",marginRight:"auto",marginTop:3,paddingLeft:5,paddingRight:5},boxSunActive:{marginLeft:"auto",marginRight:"auto",backgroundColor:e.C18.color,borderRadius:16,marginTop:2,paddingTop:1,paddingLeft:5,paddingRight:5},line:{borderBottomColor:e.C18.color,borderStyle:"solid",borderBottomWidth:2,borderRadius:16,position:"absolute",top:42}})}(e)}},(function(n,r){return w.a.createElement(x.a.View,{style:[{zIndex:10,transform:[{translateY:s}]},l?n.pcBox:n.wapBox],onLayout:e.onContainerLayout},w.a.createElement(w.a.Fragment,null,w.a.createElement(I.a,{automaticallyAdjustContentInsets:!1,ref:function(t){e._scrollView=t},horizontal:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,directionalLockEnabled:!0,onScroll:e.props.onScroll,bounces:!1,scrollsToTop:!1},w.a.createElement(T.a,{style:[l?n.container:a?n.containerPad:n.containerApp],onLayout:e.onTabContainerLayout},e.props.tabs.map((function(t,r){var o=e.props.activeTab===r,i=e.props.renderTab||e.renderTab;return o&&(e.hasChildren=!e.props.subTitle[r]||e.state.tabsNavTop||!e.props.subTitleShow[r]),i(t,r,o,e.props.goToPage,e.measureTab.bind(e,r),n,e.props.tabs.length)})),e.hasChildren?w.a.createElement(x.a.View,{style:[n.line,t]}):w.a.createElement(w.a.Fragment,null))),e.state.isShowMask?e.state.tabsNavTop?w.a.createElement(T.a,{key:3,style:n.maskWhite},w.a.createElement(z.a,{start:{x:0,y:0},end:{x:1,y:0},colors:F.a.backgroundColor?[Object(V.f)(F.a.backgroundColor.toUpperCase(),0),Object(V.f)(F.a.backgroundColor.toUpperCase(),1)]:[Object(V.f)(r.C32.color,0),Object(V.f)(r.C32.color,1)],style:{height:56}},w.a.createElement(E.a,null," "))):w.a.createElement(T.a,{style:n.maskGray},w.a.createElement(z.a,{start:{x:0,y:0},end:{x:1,y:0},colors:F.a.backgroundColor?[Object(V.f)(F.a.backgroundColor.toUpperCase(),0),Object(V.f)(F.a.backgroundColor.toUpperCase(),1)]:[Object(V.f)(r.C32.color,0),Object(V.f)(r.C32.color,1)],style:{height:56}},w.a.createElement(E.a,null," "))):w.a.createElement(T.a,{key:3})))}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!v()(this.props.tabs,e.tabs)&&this.state._containerWidth&&this.setState({_containerWidth:null})}}]),n}(b.Component),m()(D,"defaultProps",{scrollOffset:52,activeTextColor:"navy",inactiveTextColor:"black",backgroundColor:"#fff",style:{},tabStyle:{},tabsContainerStyle:{},underlineStyle:{},tabFontSize:15}),_=D))||_;t.a=J,k.a.create({tab:{height:49,alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20},container:{height:50,borderWidth:1,borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderColor:"#ccc"},tabs:{flexDirection:"row",justifyContent:"space-around"}})},,function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BottomTabBar",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BottomTabBarHeightContext",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"BottomTabView",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"createBottomTabNavigator",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useBottomTabBarHeight",{enumerable:!0,get:function(){return s.default}});var o=r(n(621)),i=r(n(452)),a=r(n(453)),l=r(n(414)),s=r(n(629))},,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"postMock.html"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.isNullOrUndefined=function(e){return!(e||0===e||!1===e)},e.isNull=function(e){return null===e},e.isUndefined=function(e){return void 0===e},e.isNumber=function(e){return"number"==typeof e},e.isString=function(e){return"string"==typeof e},e.isObject=function(e){return"object"==typeof e},e}();t.ObjectUtil=r},function(e,t,n){"use strict";n.r(t),n.d(t,"View",(function(){return ne})),n.d(t,"Input",(function(){return re})),n.d(t,"Textarea",(function(){return oe})),n.d(t,"Video",(function(){return se})),n.d(t,"Swiper",(function(){return ce})),n.d(t,"ScrollView",(function(){return ue})),n.d(t,"SwiperItem",(function(){return de})),n.d(t,"MovableView",(function(){return pe})),n.d(t,"MovableArea",(function(){return fe})),n.d(t,"CoverView",(function(){return he})),n.d(t,"CoverImage",(function(){return ge})),n.d(t,"Icon",(function(){return me})),n.d(t,"Text",(function(){return ye})),n.d(t,"RichText",(function(){return ve})),n.d(t,"Progress",(function(){return be})),n.d(t,"Button",(function(){return we})),n.d(t,"CheckboxGroup",(function(){return Se})),n.d(t,"Checkbox",(function(){return Ce})),n.d(t,"Form",(function(){return Oe})),n.d(t,"Label",(function(){return Pe})),n.d(t,"Picker",(function(){return Te})),n.d(t,"PickerView",(function(){return xe})),n.d(t,"PickerViewColumn",(function(){return Ie})),n.d(t,"RadioGroup",(function(){return ke})),n.d(t,"Radio",(function(){return Ee})),n.d(t,"Slider",(function(){return je})),n.d(t,"Switch",(function(){return Re})),n.d(t,"Navigator",(function(){return Le})),n.d(t,"Image",(function(){return _e})),n.d(t,"LivePlayer",(function(){return De})),n.d(t,"LivePusher",(function(){return Ne})),n.d(t,"Map",(function(){return We})),n.d(t,"Canvas",(function(){return Ae})),n.d(t,"OpenData",(function(){return Be})),n.d(t,"OfficialAccount",(function(){return Me})),n.d(t,"Editor",(function(){return Fe})),n.d(t,"Audio",(function(){return He})),n.d(t,"Ad",(function(){return ze})),n.d(t,"WebView",(function(){return Ue})),n.d(t,"FunctionalPageNavigator",(function(){return Ve})),n.d(t,"Camera",(function(){return Ge})),n.d(t,"canIUse",(function(){return Ye})),n.d(t,"base64ToArrayBuffer",(function(){return Je})),n.d(t,"arrayBufferToBase64",(function(){return Ke})),n.d(t,"getSystemInfoSync",(function(){return qe})),n.d(t,"getSystemInfo",(function(){return Qe})),n.d(t,"getUpdateManager",(function(){return $e})),n.d(t,"getLaunchOptionsSync",(function(){return Xe})),n.d(t,"onPageNotFound",(function(){return Ze})),n.d(t,"onError",(function(){return et})),n.d(t,"onAudioInterruptionEnd",(function(){return tt})),n.d(t,"onAppShow",(function(){return nt})),n.d(t,"onAppHide",(function(){return rt})),n.d(t,"offPageNotFound",(function(){return ot})),n.d(t,"offError",(function(){return it})),n.d(t,"offAudioInterruptionEnd",(function(){return at})),n.d(t,"offAudioInterruptionBegin",(function(){return lt})),n.d(t,"offAppShow",(function(){return st})),n.d(t,"offAppHide",(function(){return ct})),n.d(t,"setEnableDebug",(function(){return ut})),n.d(t,"getLogManager",(function(){return dt})),n.d(t,"switchTab",(function(){return pt})),n.d(t,"reLaunch",(function(){return ft})),n.d(t,"redirectTo",(function(){return ht})),n.d(t,"navigateTo",(function(){return gt})),n.d(t,"navigateBack",(function(){return mt})),n.d(t,"showToast",(function(){return yt})),n.d(t,"showModal",(function(){return vt})),n.d(t,"showLoading",(function(){return bt})),n.d(t,"showActionSheet",(function(){return wt})),n.d(t,"hideToast",(function(){return St})),n.d(t,"hideLoading",(function(){return Ct})),n.d(t,"showNavigationBarLoading",(function(){return Ot})),n.d(t,"setNavigationBarTitle",(function(){return Pt})),n.d(t,"setNavigationBarColor",(function(){return Tt})),n.d(t,"hideNavigationBarLoading",(function(){return xt})),n.d(t,"setBackgroundTextStyle",(function(){return It})),n.d(t,"setBackgroundColor",(function(){return kt})),n.d(t,"showTabBarRedDot",(function(){return Et})),n.d(t,"showTabBar",(function(){return jt})),n.d(t,"setTabBarStyle",(function(){return Rt})),n.d(t,"setTabBarItem",(function(){return Lt})),n.d(t,"setTabBarBadge",(function(){return _t})),n.d(t,"removeTabBarBadge",(function(){return Dt})),n.d(t,"hideTabBarRedDot",(function(){return Nt})),n.d(t,"hideTabBar",(function(){return Wt})),n.d(t,"loadFontFace",(function(){return At})),n.d(t,"stopPullDownRefresh",(function(){return Bt})),n.d(t,"startPullDownRefresh",(function(){return Mt})),n.d(t,"pageScrollTo",(function(){return Ft})),n.d(t,"createAnimation",(function(){return Ht})),n.d(t,"setTopBarText",(function(){return zt})),n.d(t,"nextTick",(function(){return Ut})),n.d(t,"getMenuButtonBoundingClientRect",(function(){return Vt})),n.d(t,"onWindowResize",(function(){return Gt})),n.d(t,"offWindowResize",(function(){return Yt})),n.d(t,"onKeyboardHeightChange",(function(){return Jt})),n.d(t,"offKeyboardHeightChange",(function(){return Kt})),n.d(t,"getSelectedTextRange",(function(){return qt})),n.d(t,"request",(function(){return Qt})),n.d(t,"downloadFile",(function(){return $t})),n.d(t,"uploadFile",(function(){return Xt})),n.d(t,"sendSocketMessage",(function(){return Zt})),n.d(t,"onSocketOpen",(function(){return en})),n.d(t,"onSocketMessage",(function(){return tn})),n.d(t,"onSocketError",(function(){return nn})),n.d(t,"onSocketClose",(function(){return rn})),n.d(t,"connectSocket",(function(){return on})),n.d(t,"closeSocket",(function(){return an})),n.d(t,"stopLocalServiceDiscovery",(function(){return ln})),n.d(t,"startLocalServiceDiscovery",(function(){return sn})),n.d(t,"onLocalServiceResolveFail",(function(){return cn})),n.d(t,"onLocalServiceLost",(function(){return un})),n.d(t,"onLocalServiceFound",(function(){return dn})),n.d(t,"onLocalServiceDiscoveryStop",(function(){return pn})),n.d(t,"offLocalServiceResolveFail",(function(){return fn})),n.d(t,"offLocalServiceLost",(function(){return hn})),n.d(t,"offLocalServiceFound",(function(){return gn})),n.d(t,"offLocalServiceDiscoveryStop",(function(){return mn})),n.d(t,"createUDPSocket",(function(){return yn})),n.d(t,"setStorageSync",(function(){return vn})),n.d(t,"setStorage",(function(){return bn})),n.d(t,"removeStorageSync",(function(){return wn})),n.d(t,"removeStorage",(function(){return Sn})),n.d(t,"getStorageSync",(function(){return Cn})),n.d(t,"getStorageInfoSync",(function(){return On})),n.d(t,"getStorageInfo",(function(){return Pn})),n.d(t,"getStorage",(function(){return Tn})),n.d(t,"clearStorageSync",(function(){return xn})),n.d(t,"clearStorage",(function(){return In})),n.d(t,"createMapContext",(function(){return kn})),n.d(t,"saveImageToPhotosAlbum",(function(){return En})),n.d(t,"previewImage",(function(){return jn})),n.d(t,"getImageInfo",(function(){return Rn})),n.d(t,"compressImage",(function(){return Ln})),n.d(t,"chooseMessageFile",(function(){return _n})),n.d(t,"chooseImage",(function(){return Dn})),n.d(t,"saveVideoToPhotosAlbum",(function(){return Nn})),n.d(t,"createVideoContext",(function(){return Wn})),n.d(t,"chooseVideo",(function(){return An})),n.d(t,"chooseMedia",(function(){return Bn})),n.d(t,"stopVoice",(function(){return Mn})),n.d(t,"setInnerAudioOption",(function(){return Fn})),n.d(t,"playVoice",(function(){return Hn})),n.d(t,"pauseVoice",(function(){return zn})),n.d(t,"getAvailableAudioSources",(function(){return Un})),n.d(t,"createInnerAudioContext",(function(){return Vn})),n.d(t,"createAudioContext",(function(){return Gn})),n.d(t,"stopBackgroundAudio",(function(){return Yn})),n.d(t,"seekBackgroundAudio",(function(){return Jn})),n.d(t,"playBackgroundAudio",(function(){return Kn})),n.d(t,"pauseBackgroundAudio",(function(){return qn})),n.d(t,"onBackgroundAudioStop",(function(){return Qn})),n.d(t,"onBackgroundAudioPlay",(function(){return $n})),n.d(t,"onBackgroundAudioPause",(function(){return Xn})),n.d(t,"getBackgroundAudioPlayerState",(function(){return Zn})),n.d(t,"getBackgroundAudioManager",(function(){return er})),n.d(t,"createLivePusherContext",(function(){return tr})),n.d(t,"createLivePlayerContext",(function(){return nr})),n.d(t,"stopRecord",(function(){return rr})),n.d(t,"startRecord",(function(){return or})),n.d(t,"getRecorderManager",(function(){return ir})),n.d(t,"createCameraContext",(function(){return ar})),n.d(t,"stopLocationUpdate",(function(){return lr})),n.d(t,"startLocationUpdateBackground",(function(){return sr})),n.d(t,"startLocationUpdate",(function(){return cr})),n.d(t,"openLocation",(function(){return ur})),n.d(t,"onLocationChange",(function(){return dr})),n.d(t,"getLocation",(function(){return pr})),n.d(t,"chooseLocation",(function(){return fr})),n.d(t,"updateShareMenu",(function(){return hr})),n.d(t,"showShareMenu",(function(){return gr})),n.d(t,"hideShareMenu",(function(){return mr})),n.d(t,"getShareInfo",(function(){return yr})),n.d(t,"createOffscreenCanvas",(function(){return vr})),n.d(t,"createCanvasContext",(function(){return br})),n.d(t,"canvasToTempFilePath",(function(){return wr})),n.d(t,"canvasPutImageData",(function(){return Sr})),n.d(t,"canvasGetImageData",(function(){return Cr})),n.d(t,"saveFile",(function(){return Or})),n.d(t,"removeSavedFile",(function(){return Pr})),n.d(t,"openDocument",(function(){return Tr})),n.d(t,"getSavedFileList",(function(){return xr})),n.d(t,"getSavedFileInfo",(function(){return Ir})),n.d(t,"getFileSystemManager",(function(){return kr})),n.d(t,"getFileInfo",(function(){return Er})),n.d(t,"login",(function(){return jr})),n.d(t,"checkSession",(function(){return Rr})),n.d(t,"navigateToMiniProgram",(function(){return Lr})),n.d(t,"navigateBackMiniProgram",(function(){return _r})),n.d(t,"getAccountInfoSync",(function(){return Dr})),n.d(t,"getUserInfo",(function(){return Nr})),n.d(t,"reportMonitor",(function(){return Wr})),n.d(t,"reportAnalytics",(function(){return Ar})),n.d(t,"requestPayment",(function(){return Br})),n.d(t,"authorize",(function(){return Mr})),n.d(t,"openSetting",(function(){return Fr})),n.d(t,"getSetting",(function(){return Hr})),n.d(t,"chooseAddress",(function(){return zr})),n.d(t,"openCard",(function(){return Ur})),n.d(t,"addCard",(function(){return Vr})),n.d(t,"chooseInvoiceTitle",(function(){return Gr})),n.d(t,"chooseInvoice",(function(){return Yr})),n.d(t,"startSoterAuthentication",(function(){return Jr})),n.d(t,"checkIsSupportSoterAuthentication",(function(){return Kr})),n.d(t,"checkIsSoterEnrolledInDevice",(function(){return qr})),n.d(t,"getWeRunData",(function(){return Qr})),n.d(t,"stopBeaconDiscovery",(function(){return $r})),n.d(t,"startBeaconDiscovery",(function(){return Xr})),n.d(t,"onBeaconUpdate",(function(){return Zr})),n.d(t,"offBeaconUpdate",(function(){return eo})),n.d(t,"onBeaconServiceChange",(function(){return to})),n.d(t,"offBeaconServiceChange",(function(){return no})),n.d(t,"getBeacons",(function(){return ro})),n.d(t,"stopWifi",(function(){return oo})),n.d(t,"startWifi",(function(){return io})),n.d(t,"setWifiList",(function(){return ao})),n.d(t,"onWifiConnected",(function(){return lo})),n.d(t,"offWifiConnected",(function(){return so})),n.d(t,"onGetWifiList",(function(){return co})),n.d(t,"offGetWifiList",(function(){return uo})),n.d(t,"getWifiList",(function(){return po})),n.d(t,"getConnectedWifi",(function(){return fo})),n.d(t,"connectWifi",(function(){return ho})),n.d(t,"addPhoneContact",(function(){return go})),n.d(t,"writeBLECharacteristicValue",(function(){return mo})),n.d(t,"readBLECharacteristicValue",(function(){return yo})),n.d(t,"onBLEConnectionStateChange",(function(){return vo})),n.d(t,"offBLEConnectionStateChange",(function(){return bo})),n.d(t,"onBLECharacteristicValueChange",(function(){return wo})),n.d(t,"offBLECharacteristicValueChange",(function(){return So})),n.d(t,"notifyBLECharacteristicValueChange",(function(){return Co})),n.d(t,"getBLEDeviceServices",(function(){return Oo})),n.d(t,"getBLEDeviceCharacteristics",(function(){return Po})),n.d(t,"createBLEConnection",(function(){return To})),n.d(t,"closeBLEConnection",(function(){return xo})),n.d(t,"stopBluetoothDevicesDiscovery",(function(){return Io})),n.d(t,"startBluetoothDevicesDiscovery",(function(){return ko})),n.d(t,"openBluetoothAdapter",(function(){return Eo})),n.d(t,"onBluetoothDeviceFound",(function(){return jo})),n.d(t,"offBluetoothDeviceFound",(function(){return Ro})),n.d(t,"onBluetoothAdapterStateChange",(function(){return Lo})),n.d(t,"offBluetoothAdapterStateChange",(function(){return _o})),n.d(t,"getConnectedBluetoothDevices",(function(){return Do})),n.d(t,"getBluetoothDevices",(function(){return No})),n.d(t,"getBluetoothAdapterState",(function(){return Wo})),n.d(t,"closeBluetoothAdapter",(function(){return Ao})),n.d(t,"getBatteryInfoSync",(function(){return Bo})),n.d(t,"getBatteryInfo",(function(){return Mo})),n.d(t,"setClipboardData",(function(){return Fo})),n.d(t,"getClipboardData",(function(){return Ho})),n.d(t,"stopHCE",(function(){return zo})),n.d(t,"startHCE",(function(){return Uo})),n.d(t,"sendHCEMessage",(function(){return Vo})),n.d(t,"onHCEMessage",(function(){return Go})),n.d(t,"offHCEMessage",(function(){return Yo})),n.d(t,"getHCEState",(function(){return Jo})),n.d(t,"onNetworkStatusChange",(function(){return Ko})),n.d(t,"offNetworkStatusChange",(function(){return qo})),n.d(t,"getNetworkType",(function(){return Qo})),n.d(t,"setScreenBrightness",(function(){return $o})),n.d(t,"setKeepScreenOn",(function(){return Xo})),n.d(t,"onUserCaptureScreen",(function(){return Zo})),n.d(t,"offUserCaptureScreen",(function(){return ei})),n.d(t,"getScreenBrightness",(function(){return ti})),n.d(t,"makePhoneCall",(function(){return ni})),n.d(t,"stopAccelerometer",(function(){return ri})),n.d(t,"startAccelerometer",(function(){return oi})),n.d(t,"onAccelerometerChange",(function(){return ii})),n.d(t,"offAccelerometerChange",(function(){return ai})),n.d(t,"stopCompass",(function(){return li})),n.d(t,"startCompass",(function(){return si})),n.d(t,"onCompassChange",(function(){return ci})),n.d(t,"offCompassChange",(function(){return ui})),n.d(t,"stopDeviceMotionListening",(function(){return di})),n.d(t,"startDeviceMotionListening",(function(){return pi})),n.d(t,"onDeviceMotionChange",(function(){return fi})),n.d(t,"offDeviceMotionChange",(function(){return hi})),n.d(t,"stopGyroscope",(function(){return gi})),n.d(t,"startGyroscope",(function(){return mi})),n.d(t,"onGyroscopeChange",(function(){return yi})),n.d(t,"offGyroscopeChange",(function(){return vi})),n.d(t,"onMemoryWarning",(function(){return bi})),n.d(t,"offMemoryWarning",(function(){return wi})),n.d(t,"scanCode",(function(){return Si})),n.d(t,"vibrateShort",(function(){return Ci})),n.d(t,"vibrateLong",(function(){return Oi})),n.d(t,"createWorker",(function(){return Pi})),n.d(t,"getExtConfigSync",(function(){return Ti})),n.d(t,"getExtConfig",(function(){return xi})),n.d(t,"createSelectorQuery",(function(){return Ii})),n.d(t,"createIntersectionObserver",(function(){return ki})),n.d(t,"createRewardedVideoAd",(function(){return Ei})),n.d(t,"createInterstitialAd",(function(){return ji})),n.d(t,"cloud",(function(){return Ri})),n.d(t,"requestSubscribeMessage",(function(){return Li})),n.d(t,"hideHomeButton",(function(){return _i})),n.d(t,"getRealtimeLogManager",(function(){return Di})),n.d(t,"hideKeyboard",(function(){return Ni}));var r=n(428),o=n.n(r),i=n(212),a=0;function l(){var e=a;return a+=1,e}var s={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var c=["Webkit","ms","Moz","O"],u=function(e){c.forEach((function(t){s[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=s[e]}))};for(var d in s)u(d);var p=n(14),f=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},g=["webkit","moz","ms","o"],m=function(e){if(null==e?void 0:e.startsWith("--"))return e;var t=e.replace(/\.?([A-Z]+)/g,(function(e,t){return"-"+t.toLowerCase()}));if(null==t?void 0:t.startsWith("-")){var n=t.split("-").filter((function(e){return e}))[0];t=t.replace(/^-/,""),Object(p.j)(g,(function(e){return e===n}))&&(t="-"+t)}return t},y=function(e){return"string"!=typeof e?e:e.replace(/\b(\d+(\.\d+)?)px\b/g,(function(e,t){var n=Number(t);return n%1==0?n+"rpx":n.toFixed(2)+"rpx"}))},v=function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return Number.isNaN(Number(r))||s[n]||(r+="rpx"),h(t,[m(n)+":"+(p.g.get("pxToRpx")?y(r):r)+";"])}),[]).join("")};function b(e,t){var n,r,o=p.g.get("hostComponents")[t],i=p.g.get("platform")+"-";return e.startsWith(i)?e.replace(new RegExp("^"+i),""):null!==(r=null===(n=null==o?void 0:o.alias)||void 0===n?void 0:n[e])&&void 0!==r?r:e}function w(e,t){return e.toLowerCase().endsWith("style")&&"[object Object]"===Object.prototype.toString.call(t)?v(t):t}function S(e,t){if(!e)return e;var n=p.g.get("platform")+"-",r={};for(var o in e){var i=o.startsWith(n),a=b(o,t),l=w(o,e[o]);r[a]=i?l:r[a]||l}return r}var C=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},O=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e};function P(e){return"plain-text"===e.type?{id:e.id,type:e.type,text:e.text}:{id:e.id,type:e.type,props:S(e.props,e.type),children:[],text:e.text}}function T(e,t,n){return function(e,t,n){return[b(e,n),w(e,t)]}(e,t,n)}var x=function(){function e(e){var t=e.id,n=e.type,r=e.props,o=e.container;this.mounted=!1,this.deleted=!1,this.parent=null,this.firstChild=null,this.lastChild=null,this.size=0,this.previousSibling=null,this.nextSibling=null,this.id=t,this.container=o,this.type=n,this.props=r}return e.prototype.appendChild=function(e){this.removeChild(e),this.size+=1,e.parent=this,e.deleted=!1,this.firstChild||(this.firstChild=e),this.lastChild&&(this.lastChild.nextSibling=e,e.previousSibling=this.lastChild),this.lastChild=e,this.isMounted()&&this.container.requestUpdate({type:"splice",path:this.path,start:e.index,id:e.id,deleteCount:0,children:this.children,items:[e.toJSON()],node:this})},e.prototype.removeChild=function(e){var t=e.previousSibling,n=e.nextSibling;if(e.parent===this){var r=e.index;this.size-=1,this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),t&&(t.nextSibling=n),n&&(n.previousSibling=t),e.previousSibling=null,e.nextSibling=null,e.deleted=!0,this.isMounted()&&this.container.requestUpdate({type:"splice",path:this.path,start:r,id:e.id,deleteCount:1,children:this.children,items:[],node:this})}},e.prototype.insertBefore=function(e,t){this.removeChild(e),this.size+=1,e.parent=this,e.deleted=!1,t===this.firstChild&&(this.firstChild=e),t.previousSibling&&(t.previousSibling.nextSibling=e,e.previousSibling=t.previousSibling),t.previousSibling=e,e.nextSibling=t,this.isMounted()&&this.container.requestUpdate({type:"splice",path:this.path,start:e.index,id:e.id,deleteCount:0,children:this.children,items:[e.toJSON()],node:this})},e.prototype.update=function(e){if("text"!==this.type&&e)for(var t=0;t<e.length;t+=2){var n=C(T(e[t],e[t+1],this.type),2),r=n[0],o=n[1],i=O(this.parent.path,["nodes",this.id.toString(),"props"]);"ali"===p.g.get("platform")&&(i=O(this.parent.path,["children["+this.index+"].props"])),this.container.requestUpdate({type:"set",path:i,name:r,value:o,node:this})}else this.container.requestUpdate({type:"splice",path:this.parent.path,start:this.index,id:this.id,deleteCount:1,items:[this.toJSON()],node:this})},Object.defineProperty(e.prototype,"index",{get:function(){for(var e=0,t=this.previousSibling;t;)e+=1,t=t.previousSibling;return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){for(var e=[],t=this.firstChild;t;)e.push(t),t=t.nextSibling;return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){for(var e=[],t=[],n=this.parent;n;)t.unshift(n),n=n.parent;for(var r=0;r<t.length;r++){var o=t[r+1]||this;"ali"===p.g.get("platform")?(e.push("children"),e.push(o.index.toString())):(e.push("nodes"),e.push(o.id.toString()))}return e},enumerable:!1,configurable:!0}),e.prototype.isMounted=function(){return this.parent?this.parent.isMounted():this.mounted},e.prototype.isDeleted=function(){var e,t;return!0===this.deleted?this.deleted:null!==(t=null===(e=this.parent)||void 0===e?void 0:e.isDeleted())&&void 0!==t&&t},e.prototype.toJSON=function(){var e=[],t=P(this);for(e.push({currentNode:t,children:this.children});e.length>0;)for(var n=e.pop(),r=n.children,o=void 0===r?[]:r,i=n.currentNode,a=o.length-1;a>=0;a--){var l=o[a],s=P(l);"ali"!==p.g.get("platform")?i.children.unshift(s.id):i.children.unshift(s),"ali"!==p.g.get("platform")&&(i.nodes||(i.nodes={}),i.nodes[s.id]=s),e.push({currentNode:s,children:l.children})}return t},e}(),I=["onClick","onTap","onLongClick","onLongTap","onTouchMove","onTouchStart","onTouchEnd"],k={};function E(e,t){var n,r=e.parent;r?(null===(n=r.props)||void 0===n?void 0:n[t])||E(r,t):k[t]=!1}I.forEach((function(e){k[e]=!1}));var j=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},R=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(j(arguments[t]));return e};function L(e,t,n){if(n)return n.stopPropagation=function(){!function(e,t){k[t]=!0,E(e,t)}(e,t)},n}function _(e,t,n){return"catchClick"===(r=e)&&console.warn("DEPRECATION: remax 已支持在 onClick 事件中使用 stopPropagation 阻止事件冒泡，请尽量不要使用 catchClick"),Object(p.j)(I,(function(e){return e===r}))?function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=L(t,e,r);if(!k[e])return n.apply(void 0,R([a],o));E(t,e)}:n;var r}var D=["style","placeholderStyle"];var N=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},W=i.unstable_scheduleCallback,A=i.unstable_cancelCallback,B=i.unstable_shouldYield,M=i.unstable_now,F={span:"text",div:"view",img:"image"};function H(e,t,n){var r,o,i={};try{for(var a=N(Object.keys(e)),l=a.next();!l.done;l=a.next()){var s=l.value;if("function"==typeof e[s]){var c="$$REMAX_METHOD_"+n+"_"+s;t.container.createCallback(c,_(s,t,e[s])),i[s]=c}else"style"===s?i[s]=e[s]||"":"children"===s||(i[s]=e[s])}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return i}var z={},U={},V={now:M,getPublicInstance:function(e){return e},getRootHostContext:function(){return z},shouldSetTextContent:function(e){return"stub-block"===e},prepareForCommit:function(){},resetAfterCommit:function(e){e.applyUpdate()},getChildHostContext:function(){return U},createInstance:function(e,t,n){var r,o=l(),i=new x({id:o,type:null!==(r=F[e])&&void 0!==r?r:e,props:{},container:n});return i.props=H(t,i,o),i},createTextInstance:function(e,t){var n=l(),r=new x({id:n,type:"plain-text",props:null,container:t});return r.text=e,r},commitTextUpdate:function(e,t,n){t!==n&&(e.text=n,e.update())},prepareUpdate:function(e,t,n,r){return function(e,t){var n,r,o=[],i=e,a=t,l=Object.prototype.hasOwnProperty,s={};for(n in i)if(!l.call(a,n)&&l.call(i,n)&&null!=i[n])if(Object(p.k)(D,n)){var c=i[n];for(r in c)l.call(c,r)&&(s[n]||(s[n]={}),s[n][r]="")}else o.push(n,"className"===n?"":null);for(n in a){var u=a[n],d=null!=i?i[n]:void 0;if(l.call(a,n)&&u!==d&&(null!=u||null!=d))if(Object(p.k)(D,n))if(d){for(r in d)!l.call(d,r)||u&&l.call(u,r)||(s[n]||(s[n]={}),s[n][r]="");for(r in u)l.call(u,r)&&d[r]!==u[r]&&(s[n]||(s[n]={}),s[n][r]=u[r])}else s[n]||o.push(n,null),s[n]=u;else"children"===n?d===u||"string"!=typeof u&&"number"!=typeof u||o.push(n,""+u):o.push(n,u)}for(var f in s){var h=s[f];h&&o.push(f,Object.assign({},i[f],h))}return o.length?o:null}(n=H(n,e,e.id),r=H(r,e,e.id))},commitUpdate:function(e,t,n,r,o){e.props=H(o,e,e.id),e.update(t)},appendInitialChild:function(e,t){e.appendChild(t)},appendChild:function(e,t){e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},finalizeInitialChildren:function(){return!1},appendChildToContainer:function(e,t){e.appendChild(t),t.mounted=!0},insertInContainerBefore:function(e,t,n){e.insertBefore(t,n)},removeChildFromContainer:function(e,t){e.removeChild(t)},hideInstance:function(e){var t,n=null===(t=e.props)||void 0===t?void 0:t.style,r=Object.assign({},n||{},{display:"none"});e.props=Object.assign({},e.props||{},{style:r}),e.update()},hideTextInstance:function(e){e.text="",e.update()},unhideInstance:function(e,t){e.props=t,e.update()},unhideTextInstance:function(e,t){e.text=t,e.update()},schedulePassiveEffects:W,cancelPassiveEffects:A,shouldYield:B,scheduleDeferredCallback:W,cancelDeferredCallback:A,supportsMutation:!0},G=o()(V);n(561);var Y,J=n(0),K=(n(93),function(){function e(){this.updateQueue=[],this.root=new x({id:l(),type:"root",container:this}),this.root.mounted=!0}e.prototype.requestUpdate=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},e.prototype.applyUpdate=function(){this.context._pages.forEach((function(e){e.container.applyUpdate(),e.modalContainer.applyUpdate()}))},e.prototype.createCallback=function(e,t){this.context[e]=t},e.prototype.appendChild=function(e){this.root.appendChild(e)},e.prototype.removeChild=function(e){this.root.removeChild(e)},e.prototype.insertBefore=function(e,t){this.root.insertBefore(e,t)}}(),Y=function(e,t){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}K(t,e),t.prototype.render=function(){return J.createElement(J.Fragment,null,this.props.children)}}(J.Component);var q={listenerConfigs:[]};function Q(e){q.listenerConfigs=q.listenerConfigs.filter((function(t){return t.listener!==e}))}var $={connect:function(e,t){return q.listenerConfigs.push({listener:e,once:t}),function(){return Q(e)}},run:function(){q.listenerConfigs.forEach((function(e){e.listener(),e.once&&Q(e.listener)}))},dispose:Q},X=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Z=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(X(arguments[t]));return e};!function(){function e(e,t){void 0===t&&(t="root"),this.updateQueue=[],this.rendered=!1,this.context=e,this.root=new x({id:l(),type:"root",container:this}),this.root.mounted=!0,this.rootKey=t}e.prototype.requestUpdate=function(e){this.updateQueue.push(e)},e.prototype.normalizeUpdatePath=function(e){return Z([this.rootKey],e).join(".")},e.prototype.applyUpdate=function(){var e=this;if(!this.stopUpdate&&0!==this.updateQueue.length){var t=(new Date).getTime();if("function"==typeof this.context.$spliceData){var n=function(e){e()};return"function"==typeof this.context.$batchedUpdates&&(n=this.context.$batchedUpdates),n((function(){e.updateQueue.map((function(n,r){var o,i,a=void 0;r+1===e.updateQueue.length&&(a=function(){$.run(),p.g.get("debug")&&console.log("setData => 回调时间："+((new Date).getTime()-t)+"ms")}),"splice"===n.type&&e.context.$spliceData(((o={})[e.normalizeUpdatePath(Z(n.path,["children"]))]=Z([n.start,n.deleteCount],n.items),o),a),"set"===n.type&&e.context.setData(((i={})[e.normalizeUpdatePath(Z(n.path,[n.name]))]=n.value,i),a)}))})),void(this.updateQueue=[])}var r=this.updateQueue.reduce((function(t,n){return n.node.isDeleted()||("splice"===n.type?(t[e.normalizeUpdatePath(Z(n.path,["nodes",n.id.toString()]))]=n.items[0]||null,n.children&&(t[e.normalizeUpdatePath(Z(n.path,["children"]))]=(n.children||[]).map((function(e){return e.id})))):t[e.normalizeUpdatePath(Z(n.path,[n.name]))]=n.value),t}),{});this.context.setData(r,(function(){$.run(),p.g.get("debug")&&console.log("setData => 回调时间："+((new Date).getTime()-t)+"ms",r)})),this.updateQueue=[]}},e.prototype.clearUpdate=function(){this.stopUpdate=!0},e.prototype.createCallback=function(e,t){this.context[e]=t},e.prototype.appendChild=function(e){this.root.appendChild(e)},e.prototype.removeChild=function(e){this.root.removeChild(e)},e.prototype.insertBefore=function(e,t){this.root.insertBefore(e,t)}}();var ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function te(e,t){if(t)return t;var n=J.forwardRef((function(t,n){var r=t.children,o=void 0===r?[]:r,i=J.createElement(e,ee(ee({},t),{ref:n}),o);return i=p.g.get("pluginDriver").onCreateHostComponentElement(i)}));return p.g.get("pluginDriver").onCreateHostComponent(n)}G.batchedUpdates;var ne=te("view");ne.defaultProps={hoverClassName:"none",hoverStopPropagation:!1,hoverStartTime:50,hoverStayTime:400};var re=te("input");re.defaultProps={type:"text",password:!1,placeholderClassName:"input-placeholder",disabled:!1,cursorSpacing:0,autoFocus:!1,focus:!1,confirmType:"done",confirmHold:!1,maxlength:140,selectionEnd:-1,selectionStart:-1,adjustPosition:!0,holdKeyboard:!1};var oe=te("textarea");oe.defaultProps={placeholderClassName:"textarea-placeholder",disabled:!1,maxlength:140,autoFocus:!1,focus:!1,autoHeight:!1,fixed:!1,cursorSpacing:0,cursor:-1,showConfirmBar:!0,selectionStart:-1,selectionEnd:-1,adjustPosition:!0,holdKeyboard:!1,disableDefaultPadding:!1};var ie=function(){return(ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},le=J.forwardRef((function(e,t){var n=e.children,r=ae(e,["children"]),o=ie(ie({},r),{ref:t});return J.createElement("video",o,n)}));le.defaultProps={controls:!0,danmuBtn:!1,enableDanmu:!1,autoplay:!1,loop:!1,muted:!1,initialTime:0,pageGesture:!1,showProgress:!0,showFullscreenBtn:!0,showPlayBtn:!0,showCenterPlayBtn:!0,enableProgressGesture:!0,objectFit:"contain",showMuteBtn:!1,playBtnPosition:"bottom",enablePlayGesture:!1,autoPauseIfNavigate:!0,autoPauseIfOpenNative:!0,vslideGesture:!1,vslideGestureInFullscreen:!0,showCastingButton:!1,pictureInPictureShowProgress:!1,enableAutoRotation:!1,showScreenLockButton:!1};var se=te("video",le),ce=te("swiper");ce.defaultProps={indicatorDots:!1,indicatorColor:"rgba(0, 0, 0, .3)",indicatorActiveColor:"#000000",autoplay:!1,current:0,interval:5e3,duration:500,circular:!1,vertical:!1,previousMargin:"0px",nextMargin:"0px",displayMultipleItems:1,skipHiddenItemLayout:!1,easingFunction:"default"};var ue=te("scroll-view");ue.defaultProps={upperThreshold:50,lowerThreshold:50,scrollX:!1,scrollY:!1,scrollWithAnimation:!1,enableBackToTop:!1,enableFlex:!1,scrollAnchoring:!1,refresherEnabled:!1,refresherThreshold:45,refresherDefaultStyle:"black",refresherBackground:"#fff",refresherTriggered:!1,enhanced:!1,bounces:!0,showScrollbar:!0,pagingEnabled:!1,fastDeceleration:!1};var de=te("swiper-item"),pe=te("movable-view");pe.defaultProps={direction:"none",inertia:!1,outOfBounds:!1,damping:20,friction:2,disabled:!1,scale:!1,scaleMin:0,scaleMax:10,scaleValue:1,animation:!0};var fe=te("movable-area");fe.defaultProps={scaleArea:!1};var he=te("cover-view"),ge=te("cover-image"),me=te("icon");me.defaultProps={size:23};var ye=te("text");ye.defaultProps={selectable:!1,decode:!1};var ve=te("rich-text");ve.defaultProps={nodes:[]};var be=te("progress");be.defaultProps={showInfo:!1,borderRadius:0,fontSize:16,strokeWidth:6,color:"#09BB07",activeColor:"#09BB07",backgroundColor:"#EBEBEB",active:!1,activeMode:"backwards",duration:30};var we=te("button");we.defaultProps={hoverClassName:"button-hover",hoverStartTime:20,hoverStayTime:70};var Se=te("checkbox-group"),Ce=te("checkbox");Ce.defaultProps={disabled:!1,checked:!1,color:"#09bb07"};var Oe=te("form");Oe.defaultProps={reportSubmit:!1,reportSubmitTimeout:0};var Pe=te("label"),Te=te("picker");Te.defaultProps={mode:"selector",disabled:!1,range:[],fields:"day"};var xe=te("picker-view"),Ie=te("picker-view-column"),ke=te("radio-group"),Ee=te("radio");Ee.defaultProps={checked:!1,disabled:!1,color:"#09BB07"};var je=te("slider");je.defaultProps={min:0,max:100,step:1,disabled:!1,value:0,color:"#e9e9e9",selectedColor:"#1aad19",activeColor:"#1aad19",backgroundColor:"#e9e9e9",blockSize:28,blockColor:"#ffffff",showValue:!1};var Re=te("switch");Re.defaultProps={checked:!1,disabled:!1,type:"switch",color:"#04BE02"};var Le=te("navigator");Le.defaultProps={target:"self",openType:"navigate",delta:1,hoverClassName:"navigator-hover",hoverStopPropagation:!1,hoverStartTime:50,hoverStayTime:600};var _e=te("image");_e.defaultProps={mode:"scaleToFill",webp:!1,lazyLoad:!1,showMenuByLongpress:!1};var De=te("live-player");De.defaultProps={mode:"live",autoplay:!1,muted:!1,orientation:"vertical",objectFit:"contain",backgroundMute:!1,minCache:1,maxCache:3,soundMode:"speaker",autoPauseIfNavigate:!0,autoPauseIfOpenNative:!0};var Ne=te("live-pusher");Ne.defaultProps={mode:"RTC",autopush:!1,muted:!1,enableCamera:!1,autoFocus:!0,orientation:"vertical",beauty:0,whiteness:0,aspect:"9:16",minBitrate:200,maxBitrate:1e3,audioQuality:"high",zoom:!1,devicePosition:"front",backgroundMute:!1,mirror:!1,remoteMirror:!1,localMirror:"auto",audioReverbType:0,enableMic:!0,enableAgc:!0,enableAns:!1,audioVolumeType:"voicecall",videoWidth:360,videoHeight:640};var We=te("map");We.defaultProps={scale:16,minScale:3,maxScale:20,showLocation:!1,layerStyle:1,rotate:0,enable3D:!1,showCompass:!1,showScale:!1,enableOverlooking:!1,enableZoom:!0,enableScroll:!0,enableRotate:!1,enableSatellite:!1,enableTraffic:!1,setting:{}};var Ae=te("canvas");Ae.defaultProps={disableScroll:!1};var Be=te("open-data");Be.defaultProps={lang:"en"};var Me=te("official-account"),Fe=te("editor");Fe.defaultProps={readOnly:!1,showImgSize:!1,showImgToolbar:!1,showImgResize:!1};var He=te("audio"),ze=te("ad");ze.defaultProps={adType:"banner",adTheme:"white"};var Ue=te("web-view"),Ve=te("functional-page-navigator");Ve.defaultProps={version:"release"};var Ge=te("camera");Ge.defaultProps={mode:"normal",resolution:"medium",devicePosition:"back",flash:"auto",frameSize:"medium"};var Ye=wx.canIUse,Je=wx.base64ToArrayBuffer,Ke=wx.arrayBufferToBase64,qe=wx.getSystemInfoSync,Qe=Object(p.m)(wx.getSystemInfo),$e=wx.getUpdateManager,Xe=wx.getLaunchOptionsSync,Ze=wx.onPageNotFound,et=wx.onError,tt=wx.onAudioInterruptionEnd,nt=wx.onAppShow,rt=wx.onAppHide,ot=wx.offPageNotFound,it=wx.offError,at=wx.offAudioInterruptionEnd,lt=wx.offAudioInterruptionBegin,st=wx.offAppShow,ct=wx.offAppHide,ut=Object(p.m)(wx.setEnableDebug),dt=wx.getLogManager,pt=Object(p.m)(wx.switchTab),ft=Object(p.m)(wx.reLaunch),ht=Object(p.m)(wx.redirectTo),gt=Object(p.m)(wx.navigateTo),mt=Object(p.m)(wx.navigateBack),yt=Object(p.m)(wx.showToast),vt=Object(p.m)(wx.showModal),bt=Object(p.m)(wx.showLoading),wt=Object(p.m)(wx.showActionSheet),St=Object(p.m)(wx.hideToast),Ct=Object(p.m)(wx.hideLoading),Ot=Object(p.m)(wx.showNavigationBarLoading),Pt=Object(p.m)(wx.setNavigationBarTitle),Tt=Object(p.m)(wx.setNavigationBarColor),xt=Object(p.m)(wx.hideNavigationBarLoading),It=Object(p.m)(wx.setBackgroundTextStyle),kt=Object(p.m)(wx.setBackgroundColor),Et=Object(p.m)(wx.showTabBarRedDot),jt=Object(p.m)(wx.showTabBar),Rt=Object(p.m)(wx.setTabBarStyle),Lt=Object(p.m)(wx.setTabBarItem),_t=Object(p.m)(wx.setTabBarBadge),Dt=Object(p.m)(wx.removeTabBarBadge),Nt=Object(p.m)(wx.hideTabBarRedDot),Wt=Object(p.m)(wx.hideTabBar),At=Object(p.m)(wx.loadFontFace),Bt=Object(p.m)(wx.stopPullDownRefresh),Mt=Object(p.m)(wx.startPullDownRefresh),Ft=Object(p.m)(wx.pageScrollTo),Ht=wx.createAnimation,zt=Object(p.m)(wx.setTopBarText),Ut=wx.nextTick,Vt=wx.getMenuButtonBoundingClientRect,Gt=wx.onWindowResize,Yt=wx.offWindowResize,Jt=wx.onKeyboardHeightChange,Kt=wx.offKeyboardHeightChange,qt=wx.getSelectedTextRange,Qt=Object(p.m)(wx.request),$t=Object(p.m)(wx.downloadFile),Xt=Object(p.m)(wx.uploadFile),Zt=Object(p.m)(wx.sendSocketMessage),en=wx.onSocketOpen,tn=wx.onSocketMessage,nn=wx.onSocketError,rn=wx.onSocketClose,on=wx.connectSocket,an=Object(p.m)(wx.closeSocket),ln=Object(p.m)(wx.stopLocalServiceDiscovery),sn=Object(p.m)(wx.startLocalServiceDiscovery),cn=wx.onLocalServiceResolveFail,un=wx.onLocalServiceLost,dn=wx.onLocalServiceFound,pn=wx.onLocalServiceDiscoveryStop,fn=wx.offLocalServiceResolveFail,hn=wx.offLocalServiceLost,gn=wx.offLocalServiceFound,mn=wx.offLocalServiceDiscoveryStop,yn=wx.createUDPSocket,vn=wx.setStorageSync,bn=Object(p.m)(wx.setStorage),wn=wx.removeStorageSync,Sn=Object(p.m)(wx.removeStorage),Cn=wx.getStorageSync,On=wx.getStorageInfoSync,Pn=Object(p.m)(wx.getStorageInfo),Tn=Object(p.m)(wx.getStorage),xn=wx.clearStorageSync,In=Object(p.m)(wx.clearStorage),kn=wx.createMapContext,En=Object(p.m)(wx.saveImageToPhotosAlbum),jn=Object(p.m)(wx.previewImage),Rn=Object(p.m)(wx.getImageInfo),Ln=Object(p.m)(wx.compressImage),_n=Object(p.m)(wx.chooseMessageFile),Dn=Object(p.m)(wx.chooseImage),Nn=Object(p.m)(wx.saveVideoToPhotosAlbum),Wn=wx.createVideoContext,An=Object(p.m)(wx.chooseVideo),Bn=Object(p.m)(wx.chooseMedia),Mn=Object(p.m)(wx.stopVoice),Fn=Object(p.m)(wx.setInnerAudioOption),Hn=Object(p.m)(wx.playVoice),zn=Object(p.m)(wx.pauseVoice),Un=Object(p.m)(wx.getAvailableAudioSources),Vn=wx.createInnerAudioContext,Gn=wx.createAudioContext,Yn=Object(p.m)(wx.stopBackgroundAudio),Jn=Object(p.m)(wx.seekBackgroundAudio),Kn=Object(p.m)(wx.playBackgroundAudio),qn=Object(p.m)(wx.pauseBackgroundAudio),Qn=wx.onBackgroundAudioStop,$n=wx.onBackgroundAudioPlay,Xn=wx.onBackgroundAudioPause,Zn=Object(p.m)(wx.getBackgroundAudioPlayerState),er=wx.getBackgroundAudioManager,tr=wx.createLivePusherContext,nr=wx.createLivePlayerContext,rr=Object(p.m)(wx.stopRecord),or=Object(p.m)(wx.startRecord),ir=wx.getRecorderManager,ar=wx.createCameraContext,lr=Object(p.m)(wx.stopLocationUpdate),sr=Object(p.m)(wx.startLocationUpdateBackground),cr=Object(p.m)(wx.startLocationUpdate),ur=Object(p.m)(wx.openLocation),dr=wx.onLocationChange,pr=Object(p.m)(wx.getLocation),fr=Object(p.m)(wx.chooseLocation),hr=Object(p.m)(wx.updateShareMenu),gr=Object(p.m)(wx.showShareMenu),mr=Object(p.m)(wx.hideShareMenu),yr=Object(p.m)(wx.getShareInfo),vr=wx.createOffscreenCanvas,br=wx.createCanvasContext,wr=Object(p.m)(wx.canvasToTempFilePath),Sr=Object(p.m)(wx.canvasPutImageData),Cr=Object(p.m)(wx.canvasGetImageData),Or=Object(p.m)(wx.saveFile),Pr=Object(p.m)(wx.removeSavedFile),Tr=Object(p.m)(wx.openDocument),xr=Object(p.m)(wx.getSavedFileList),Ir=Object(p.m)(wx.getSavedFileInfo),kr=wx.getFileSystemManager,Er=Object(p.m)(wx.getFileInfo),jr=Object(p.m)(wx.login),Rr=Object(p.m)(wx.checkSession),Lr=Object(p.m)(wx.navigateToMiniProgram),_r=Object(p.m)(wx.navigateBackMiniProgram),Dr=wx.getAccountInfoSync,Nr=Object(p.m)(wx.getUserInfo),Wr=wx.reportMonitor,Ar=wx.reportAnalytics,Br=Object(p.m)(wx.requestPayment),Mr=Object(p.m)(wx.authorize),Fr=Object(p.m)(wx.openSetting),Hr=Object(p.m)(wx.getSetting),zr=Object(p.m)(wx.chooseAddress),Ur=Object(p.m)(wx.openCard),Vr=Object(p.m)(wx.addCard),Gr=Object(p.m)(wx.chooseInvoiceTitle),Yr=Object(p.m)(wx.chooseInvoice),Jr=Object(p.m)(wx.startSoterAuthentication),Kr=Object(p.m)(wx.checkIsSupportSoterAuthentication),qr=Object(p.m)(wx.checkIsSoterEnrolledInDevice),Qr=Object(p.m)(wx.getWeRunData),$r=Object(p.m)(wx.stopBeaconDiscovery),Xr=Object(p.m)(wx.startBeaconDiscovery),Zr=wx.onBeaconUpdate,eo=wx.offBeaconUpdate,to=wx.onBeaconServiceChange,no=wx.offBeaconServiceChange,ro=Object(p.m)(wx.getBeacons),oo=Object(p.m)(wx.stopWifi),io=Object(p.m)(wx.startWifi),ao=Object(p.m)(wx.setWifiList),lo=wx.onWifiConnected,so=wx.offWifiConnected,co=wx.onGetWifiList,uo=wx.offGetWifiList,po=Object(p.m)(wx.getWifiList),fo=Object(p.m)(wx.getConnectedWifi),ho=Object(p.m)(wx.connectWifi),go=Object(p.m)(wx.addPhoneContact),mo=Object(p.m)(wx.writeBLECharacteristicValue),yo=Object(p.m)(wx.readBLECharacteristicValue),vo=wx.onBLEConnectionStateChange,bo=wx.offBLEConnectionStateChange,wo=wx.onBLECharacteristicValueChange,So=wx.offBLECharacteristicValueChange,Co=Object(p.m)(wx.notifyBLECharacteristicValueChange),Oo=Object(p.m)(wx.getBLEDeviceServices),Po=Object(p.m)(wx.getBLEDeviceCharacteristics),To=Object(p.m)(wx.createBLEConnection),xo=Object(p.m)(wx.closeBLEConnection),Io=Object(p.m)(wx.stopBluetoothDevicesDiscovery),ko=Object(p.m)(wx.startBluetoothDevicesDiscovery),Eo=wx.openBluetoothAdapter,jo=wx.onBluetoothDeviceFound,Ro=wx.offBluetoothDeviceFound,Lo=wx.onBluetoothAdapterStateChange,_o=wx.offBluetoothAdapterStateChange,Do=Object(p.m)(wx.getConnectedBluetoothDevices),No=Object(p.m)(wx.getBluetoothDevices),Wo=Object(p.m)(wx.getBluetoothAdapterState),Ao=Object(p.m)(wx.closeBluetoothAdapter),Bo=wx.getBatteryInfoSync,Mo=Object(p.m)(wx.getBatteryInfo),Fo=Object(p.m)(wx.setClipboardData),Ho=Object(p.m)(wx.getClipboardData),zo=Object(p.m)(wx.stopHCE),Uo=Object(p.m)(wx.startHCE),Vo=Object(p.m)(wx.sendHCEMessage),Go=wx.onHCEMessage,Yo=wx.offHCEMessage,Jo=Object(p.m)(wx.getHCEState),Ko=wx.onNetworkStatusChange,qo=wx.offNetworkStatusChange,Qo=Object(p.m)(wx.getNetworkType),$o=Object(p.m)(wx.setScreenBrightness),Xo=Object(p.m)(wx.setKeepScreenOn),Zo=wx.onUserCaptureScreen,ei=wx.offUserCaptureScreen,ti=Object(p.m)(wx.getScreenBrightness),ni=Object(p.m)(wx.makePhoneCall),ri=Object(p.m)(wx.stopAccelerometer),oi=Object(p.m)(wx.startAccelerometer),ii=wx.onAccelerometerChange,ai=wx.offAccelerometerChange,li=Object(p.m)(wx.stopCompass),si=Object(p.m)(wx.startCompass),ci=wx.onCompassChange,ui=wx.offCompassChange,di=Object(p.m)(wx.stopDeviceMotionListening),pi=Object(p.m)(wx.startDeviceMotionListening),fi=wx.onDeviceMotionChange,hi=wx.offDeviceMotionChange,gi=Object(p.m)(wx.stopGyroscope),mi=Object(p.m)(wx.startGyroscope),yi=wx.onGyroscopeChange,vi=wx.offGyroscopeChange,bi=wx.onMemoryWarning,wi=wx.offMemoryWarning,Si=Object(p.m)(wx.scanCode),Ci=Object(p.m)(wx.vibrateShort),Oi=Object(p.m)(wx.vibrateLong),Pi=wx.createWorker,Ti=wx.getExtConfigSync,xi=Object(p.m)(wx.getExtConfig),Ii=wx.createSelectorQuery,ki=wx.createIntersectionObserver,Ei=wx.createRewardedVideoAd,ji=wx.createInterstitialAd,Ri=wx.cloud,Li=Object(p.m)(wx.requestSubscribeMessage),_i=Object(p.m)(wx.hideHomeButton),Di=wx.getRealtimeLogManager,Ni=Object(p.m)(wx.hideKeyboard)},function(e,t,n){"use strict";e.exports=n(560)},function(e,t,n){var r=n(4),o=n(249),i=n(563),a=n(564);function l(t){var n="function"==typeof Map?new Map:void 0;return e.exports=l=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,l(t)}e.exports=l,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(316);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(54),w=n(43),S=n(157),C=n(57),O=n(126),P=n(41),T=n(3),x=n(48);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var k=b.a.get("window"),E=function(e){u()(r,e);var t=I(r);function r(e){var n;return o()(this,r),n=t.call(this,e),m()(s()(n),"jumpPage",(function(){var e=n.props.actionUrl;Object(T.A)(e,!0),n.closeDialog()})),m()(s()(n),"closeDialog",(function(){Object(P.d)(P.a.ORDER_GROUP,P.b.DONE,null)})),m()(s()(n),"RATE",.75),m()(s()(n),"calFixSize",(function(e,t){var r=e,o=t,i=k.width*n.RATE,a=k.height*n.RATE;return e>i&&t>a?e/i>t/a?o=t*(r=i)/e:r=e*(o=a)/t:e>i?o=t*(r=i)/e:t>a&&(r=e*(o=a)/t),{width:r,height:o}})),n.state={pos:{position:"fixed"}},n}return a()(r,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"scroll",value:function(e){}},{key:"render",value:function(){var e=this.props,t=e.imgUlr,r=e.imgWidth,o=e.imgHeight,i=this.calFixSize(r,o);return x.a.isPc(k.width)?v.a.createElement(w.a,{style:[j.container_bg,this.state.pos]},v.a.createElement(w.a,{style:j.container_web},v.a.createElement(O.a,{onPress:this.closeDialog},v.a.createElement(S.a,{style:j.close_web,source:n(704)})),v.a.createElement(O.a,{onPress:this.jumpPage},v.a.createElement(S.a,{style:[j.ad_web,{height:i.height,width:i.width}],source:{uri:t}})))):v.a.createElement(w.a,{style:[j.container_bg,this.state.pos]},v.a.createElement(w.a,{style:j.container_wap},v.a.createElement(O.a,{onPress:this.jumpPage},v.a.createElement(S.a,{style:[j.ad_wap,{height:i.height,width:i.width}],source:{uri:t}})),v.a.createElement(O.a,{onPress:this.closeDialog},v.a.createElement(S.a,{style:j.close_wap,source:n(705)}))))}}]),r}(y.Component),j=C.a.create({container_bg:{alignItems:"center",justifyContent:"center",position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.38)",zIndex:999},container_web:{width:"atuo",height:"atuo",alignItems:"flex-end"},ad_web:{marginEnd:32},close_web:{justifyContent:"center",width:14,height:14,marginTop:7,marginEnd:10},container_wap:{width:"atuo",height:"atuo",alignItems:"center"},ad_wap:{},close_wap:{marginTop:16,width:24,height:24}})},function(e,t,n){"use strict";var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(37),C=n(54),O=n(56),P=n.n(O),T=n(242),x=n(76),I=n(232),k=n(198),E=n(39),j=n.n(E),R=n(43),L=n(152),_=n(145),D=n(149),N=n(157),W=n(87),A=n(558),B=n(1018),M=n(126),F=n(20),H=n(21),z=n(48),U=n(40),V=n(432),G=n(183),Y=n(102),J=n(185),K=n(57),q=n(46),Q=n(53);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z="web"===S.a.OS?C.a.get("window").height:q.a.height,ee=("web"===S.a.OS?C.a.get("window").width:q.a.width,function(e){return K.a.create({onLayout:{position:"absolute",width:"100%",height:"100%",top:"-100%"},homeWrapper:{flexGrow:1,paddingBottom:12,backgroundColor:e.S32.backgroundColor,paddingTop:D.a.currentHeight,minHeight:Z},topWrapperApk:{position:"web"===S.a.OS?"fixed":"absolute",top:0,left:0,height:222},webTitle:{paddingTop:48,paddingBottom:24},secondTitle:{flexDirection:"row",paddingLeft:16,height:56,alignItems:"center"},icon:{marginRight:16},description:X(X(X({},e.T12),e.C17),{},{lineHeight:28,fontWeight:"500",fontFamily:Q.a.fontFamilyMedium}),mainTitle:X(X(X({},e.C17),e.T13),{},{height:32,fontFamily:Q.a.fontFamilyMedium,fontWeight:"500",textAlign:"center"}),subTitle:X(X(X({height:19},e.C17),e.T7),{},{fontFamily:Q.a.fontFamilyBase,fontWeight:"400",textAlign:"center"}),emptyImg:{width:120,height:120},webEmpty:X(X({marginLeft:16,marginRight:16,borderRadius:16},e.S31),{},{display:"flex",justifyContent:"center",alignItems:"center"}),emptyText:X(X(X({},e.C15),e.T7),{},{fontFamily:Q.a.fontFamilyBase,fontSize:14,textAlign:"center"}),endContainer:{paddingTop:16,justifyContent:"center",alignItems:"center",paddingBottom:16},endText:X(X(X({},e.C13),{},{textAlign:"left"},e.T7),{},{alignItems:"center",justifyContent:"center",fontFamily:Q.a.fontFamilyBase,marginBottom:16})})}),te=n(309),ne=n(3),re=n(74),oe=n(19),ie=n(25),ae=n(29),le=n(11),se=n(12),ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se.e.CN,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:se.d.CN,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;o=Object(ne.o)();var a="".concat(le.a.openApiDomain,"sg/content/getPageDataSource?dataSourceList=").concat(e,"&filterType=").concat(t,"&portal=").concat(o,"&version=").concat(i,"&lang=").concat(n,"&country=").concat(r);return ae.a.get(a)},ue=n(33);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var pe={viewAreaCoveragePercentThreshold:50},fe=0;z.a.isIOS()&&Object(ue.e)().then((function(e){fe=e})).catch((function(e){}));var he=function(e){p()(n,e);var t=de(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"layView",void 0),v()(u()(r),"columnGutter",8),v()(u()(r),"pageGutter",0),v()(u()(r),"rowGutter",0),v()(u()(r),"colNum",1),v()(u()(r),"windowsListener",void 0),v()(u()(r),"animatedEvent",null),v()(u()(r),"flatlistTop",null),v()(u()(r),"logoOpacity",null),v()(u()(r),"titleOpacity",null),v()(u()(r),"_onScrollWeb",(function(){})),v()(u()(r),"_getActivity",(function(){var e,t,n=r.props.routeParams,o=(null===(e=r.props)||void 0===e?void 0:e.dataSourceCode)||(null==n?void 0:n.dataSourceCode),i=JSON.stringify(null==o||null===(t=o.toString())||void 0===t?void 0:t.split(","));ce(i).then((function(e){var t,n,i,a,l;e.success?(null==e||null===(t=e.pageData[o][0])||void 0===t||t.sbomList.forEach((function(t){var n,r;t.tag=null==e||null===(n=e.pageData[o][0])||void 0===n?void 0:n.tag,t.teamBuyNumber=null==e||null===(r=e.pageData[o][0])||void 0===r?void 0:r.teamBuyNumber})),r.setState({mainTitle:(null==e||null===(n=e.pageData[o][0])||void 0===n?void 0:n.activityName)||"",subTitle:(null==e||null===(i=e.pageData[o][0])||void 0===i?void 0:i.promotion)||"",imgUrl:(null==e||null===(a=e.pageData[o][0])||void 0===a?void 0:a.bgImgUrl)||"1",activityData:(null==e||null===(l=e.pageData[o][0])||void 0===l?void 0:l.sbomList)||[]})):r.setState({isLoad:!1,activityData:[],imgUrl:1})})).catch((function(){r.setState({isLoad:!1,activityData:[],imgUrl:1})})).finally((function(){r.setState({hasFineshed:!0})}))})),v()(u()(r),"getSize",(function(){var e=Object(ne.x)("activitypage").screenWidth;return Object(U.a)(e)})),v()(u()(r),"isSmall",(function(){return"small"===r.getSize()})),v()(u()(r),"renderFooter",(function(e){return w.a.createElement(R.a,{style:e.endContainer},w.a.createElement(R.a,{style:{marginBottom:40}},w.a.createElement(L.a,{style:[e.endText]},Object(V.b)("loadAll"))))})),v()(u()(r),"isHorizontal",(function(){return("web"===S.a.OS?C.a.get("window").width:Object(ne.x)("activitypage").screenWidth)>=("web"===S.a.OS?C.a.get("window").height:Object(ne.x)("activitypage").screenHeight)})),v()(u()(r),"isApkOrIos",(function(){return"android"===S.a.OS||"ios"===S.a.OS})),v()(u()(r),"onPressBack",(function(){"web"===S.a.OS?window.history.go(-1):_.a.VmallNative.invokeNative({service:"page",action:"finished"})})),v()(u()(r),"getboxSize",(function(){return"web"===S.a.OS?C.a.get("window"):{width:Object(ne.x)("activitypage").screenWidth,height:Object(ne.x)("activitypage").screenWidth}})),v()(u()(r),"renderItem",(function(){return w.a.createElement(te.a,{colGutter:r.rowGutter,boxWidth:r.state.boxwidth,pageGutter:r.pageGutter,list:r.state.activityData,discountTagShow:"true",pageType:"activitypage"})})),v()(u()(r),"renderEmpty",(function(e){var t=Object(ne.x)("activitypage").screenHeight,n=r.isApkOrIos()?t-D.a.currentHeight-112-12:t-123-12;return w.a.createElement(R.a,{style:[e.webEmpty,{height:n}]},w.a.createElement(N.a,{style:e.emptyImg,source:oe.a.sellout}),w.a.createElement(L.a,{style:[e.emptyText,{marginTop:8}]},Object(V.b)("no_offering")),w.a.createElement(L.a,{style:e.emptyText},Object(V.b)("check_out_other_activities")+"!"))})),v()(u()(r),"_ItemDivideComponent",(function(){return w.a.createElement(R.a,{style:{height:r.rowGutter}})})),v()(u()(r),"renderFlatlist",(function(e){var t=Object(ne.x)("activitypage").screenHeight,n=r.isApkOrIos()?t-D.a.currentHeight-56-fe:t-123-12;return w.a.createElement(R.a,null,r.isApkOrIos()?w.a.createElement(R.a,{style:{height:r.isApkOrIos()?n:""}},w.a.createElement(W.a.FlatList,{style:{width:"100%",height:r.isApkOrIos()?n:"",marginTop:r.flatlistTop},ref:function(e){r.layView=e},overScrollMode:"never",scrollEnabled:!!r.isApkOrIos(),scrollEventThrottle:200,data:r.state.activityDataFalse,renderItem:r.renderItem,keyExtractor:function(e,t){return t.toString()},showsVerticalScrollIndicator:!1,onScroll:r.animatedEvent,viewabilityConfig:pe,key:r.colNum,ItemSeparatorComponent:r._ItemDivideComponent,ListFooterComponent:r.renderFooter(e),bounces:!1})):w.a.createElement(w.a.Fragment,null,w.a.createElement(R.a,null,r.renderItem()),w.a.createElement(R.a,{style:[e.endContainer,{paddingBottom:0}]},w.a.createElement(L.a,{style:[e.endText,{marginBottom:0}]},Object(V.b)("loadAll")))))})),r.colNum=r.isSmall()?1:r.isHorizontal()?3:2,r.pageGutter=r.isSmall()?16:24,r.rowGutter=r.isHorizontal()?12:8,r.state={imgUrl:"",sWidth:"",sHeigth:"",isLoad:!0,isscroll:!1,flatlistTop:new W.a.Value(0),mainTitle:"",subTitle:"",dataSourceList:"",activityData:null,activityDataFalse:[{}],boxwidth:r.getboxSize().width,width:r.props.width,height:r.props.height,bottomHeight:0,switchWidth:r.props.width,hasFineshed:!1},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;this.animatedEvent=W.a.event([{nativeEvent:{contentOffset:{y:this.state.flatlistTop}}}]),this.flatlistTop=this.state.flatlistTop.interpolate({inputRange:[0,300],outputRange:[0,-56],extrapolate:"clamp"}),this.logoOpacity=this.state.flatlistTop.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:"clamp"}),this.titleOpacity=this.state.flatlistTop.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),D.a.setBackgroundColor("transparent"),D.a.setTranslucent(!0),this._getActivity(),A.a.addEventListener("hardwareBackPress",this.onPressBack),G.a.invokeVmallNative("common","getNavigationHeight",{}).then((function(t){e.setState({bottomHeight:t.bottomHeight})})),"web"===S.a.OS&&(document.addEventListener("scroll",this._onScrollWeb),this.windowsListener=window.addEventListener("orientationchange",(function(e){90!==e.target.screen.orientation.angle&&0!==e.target.screen.orientation.angle&&270!==e.target.screen.orientation.angle&&180!==e.target.screen.orientation.angle||window.location.reload()})))}},{key:"componentWillUnmount",value:function(){"web"===S.a.OS?(document.removeEventListener("scroll",this._onScrollWeb),this.windowsListener&&window.removeEventListener("orientationchange",(function(){}))):A.a.removeEventListener("hardwareBackPress",this.onPressBack)}},{key:"componentDidUpdate",value:function(){this.state.boxwidth!==this.getboxSize().width&&(this.colNum=this.isSmall()?1:this.isHorizontal()?3:2,this.state.flatlistTop.setValue(0),this.setState({boxwidth:this.getboxSize().width,width:this.getboxSize().width,height:this.getboxSize().height}))}},{key:"render",value:function(){var e=this;if("large"===this.getSize())return null;var t=this.state,n=t.activityData,r=t.imgUrl,o=t.hasFineshed;return w.a.createElement(Y.b,{themeStyles:ee},(function(t,i){return w.a.createElement(w.a.Fragment,null,w.a.createElement(R.a,{style:t.onLayout,onLayout:function(e){Object(re.a)(e,"activitypage")}}),w.a.createElement(R.a,{style:t.homeWrapper,nativeID:"activity_no_focus_outline"},w.a.createElement(B.a,{style:[{width:"100%"},t.topWrapperApk],source:1!=r?{uri:r}:o?oe.a.webactivityheader:""}),e.isApkOrIos()?w.a.createElement(w.a.Fragment,null,w.a.createElement(R.a,{style:[t.secondTitle,{marginTop:fe}]},w.a.createElement(M.a,{style:t.icon,onPress:e.onPressBack},w.a.createElement(F.a,{iconName:"ic24-back",width:"24",height:"24",normalCol:i.C17.color})),w.a.createElement(W.a.Text,{style:[t.description,{opacity:e.titleOpacity}]},e.state.mainTitle)),w.a.createElement(W.a.View,{style:{marginTop:-16,marginBottom:21,opacity:e.logoOpacity,paddingHorizontal:e.pageGutter}},w.a.createElement(L.a,{style:[t.mainTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.mainTitle),w.a.createElement(L.a,{style:[t.subTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.subTitle))):w.a.createElement(R.a,{style:[t.webTitle,{paddingHorizontal:e.pageGutter}]},w.a.createElement(L.a,{style:[t.mainTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.mainTitle),w.a.createElement(L.a,{style:[t.subTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.subTitle)),o?j()(n)>0&&e.state.isLoad?e.renderFlatlist(t):e.renderEmpty(t):null))}))}}]),n}(b.Component);v()(he,"defaultProps",{onBack:function(){}});var ge=Object(J.a)(Object(H.a)({exposeItem:function(e){},clickItem:function(e,t){}})(Object(ie.a)(he))),me=n(69),ye=n.n(me),ve=n(173),be=n(433);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce="web"===S.a.OS?C.a.get("window").height:q.a.height,Oe=function(e){return K.a.create({homeWrapper:{flexGrow:1,paddingBottom:12,backgroundColor:e.S32.backgroundColor,paddingTop:D.a.currentHeight,minHeight:Ce},onLayout:{position:"absolute",width:"100%",height:"100%",top:"-100%"},topWrapperApk:{position:"web"===S.a.OS?"fixed":"absolute",top:0,left:0,height:222},webTitle:{paddingTop:48,paddingBottom:24},secondTitle:{flexDirection:"row",paddingLeft:16,height:56,alignItems:"center"},icon:{marginRight:16},description:Se(Se(Se({},e.T12),e.C17),{},{lineHeight:28,fontWeight:"500",fontFamily:Q.a.fontFamilyMedium}),mainTitle:Se(Se(Se({},e.C17),e.T13),{},{height:32,fontFamily:Q.a.fontFamilyMedium,fontWeight:"500",textAlign:"center"}),subTitle:Se(Se(Se({height:19},e.C17),e.T7),{},{fontFamily:Q.a.fontFamilyBase,fontWeight:"400",textAlign:"center"}),emptyImg:{width:120,height:120},webEmpty:Se(Se({marginLeft:16,marginRight:16,borderRadius:16},e.S31),{},{display:"flex",justifyContent:"center",alignItems:"center"}),emptyText:Se(Se(Se({},e.C15),e.T7),{},{fontFamily:Q.a.fontFamilyBase,fontSize:14,textAlign:"center"}),lodingTitle:{color:e.C13.color}})},Pe=n(117);function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var xe=0;z.a.isIOS()&&Object(ue.e)().then((function(e){xe=e})).catch((function(e){}));var Ie=function(e){p()(n,e);var t=Te(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"layView",void 0),v()(u()(r),"columnGutter",8),v()(u()(r),"pageGutter",0),v()(u()(r),"rowGutter",0),v()(u()(r),"colNum",1),v()(u()(r),"loadMore",!0),v()(u()(r),"pageNum",2),v()(u()(r),"pageSize",18),v()(u()(r),"windowsListener",void 0),v()(u()(r),"animatedEvent",null),v()(u()(r),"flatlistTop",null),v()(u()(r),"logoOpacity",null),v()(u()(r),"titleOpacity",null),v()(u()(r),"listItemHeight",140),v()(u()(r),"id","activityOrder".concat((1e6*Math.random()).toFixed())),v()(u()(r),"_getActivityProduct",(function(){var e,t,n=u()(r),o=n.pageNum,i=n.pageSize,a=r.state.activityCodeList;(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:se.e.CN,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:se.d.CN,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;i=Object(ne.o)();var l="".concat(le.a.openApiDomain,"sg/content/getActivityProductList?activityCodeList=").concat(e,"&pageIndex=").concat(t,"&pageSize=").concat(n,"&portal=").concat(i,"&lang=").concat(r,"&country=").concat(o,"&version=").concat(a);return ae.a.get(l)})(a=JSON.stringify(null===(e=a)||void 0===e||null===(t=e.toString())||void 0===t?void 0:t.split(",")),o,i).then((function(e){if((null==e?void 0:e.sbomList.length)>0){var t=(null==e?void 0:e.sbomList)||[],n=r.state.activityData.concat(t);n.forEach((function(e){e.buttonMode=+e.buttonMode})),e.end?(r.loadMore=!1,r.setState({showLoading:!0,loadState:3,activityData:n})):(r.loadMore=!0,r.pageNum+=1,r.setState({showLoading:1!==r.pageNum,loadState:1,activityData:n}))}else r.loadMore=!1,r.setState({showLoading:!0,loadState:3})})).catch((function(){r.setState({showLoading:!1,loadState:2}),1===r.pageNum&&r.setState({noData:!0})}))})),v()(u()(r),"_getActivity",(function(){var e,t,n=r.props.routeParams,o=(null===(e=r.props)||void 0===e?void 0:e.dataSourceCode)||(null==n?void 0:n.dataSourceCode),i=JSON.stringify(null==o||null===(t=o.toString())||void 0===t?void 0:t.split(","));ce(i).then((function(e){var t,n,i,a,l,s,c;e.success?(null==e||null===(t=e.pageData[o][0])||void 0===t||t.sbomList.forEach((function(e){e.buttonMode=+e.buttonMode})),r.setState({mainTitle:(null==e||null===(n=e.pageData[o][0])||void 0===n?void 0:n.activityName)||"",subTitle:(null==e||null===(i=e.pageData[o][0])||void 0===i?void 0:i.promotion)||"",imgUrl:(null==e||null===(a=e.pageData[o][0])||void 0===a?void 0:a.bgImgUrl)||1,activityCodeList:(null==e||null===(l=e.pageData[o][0])||void 0===l?void 0:l.activityCode)||"",activityData:(null==e||null===(s=e.pageData[o][0])||void 0===s?void 0:s.sbomList)||[],tag:(null==e||null===(c=e.pageData[o][0])||void 0===c?void 0:c.tag)||"",showLoading:!0,loadState:1},(function(){r._getActivityProduct()}))):r.setState({imgUrl:1})})).catch((function(){r.setState({noDataOrFalseData:!0,activityData:[],imgUrl:1})})).finally((function(){r.setState({hasFineshed:!0})}))})),v()(u()(r),"getSize",(function(){var e=Object(ne.x)("activityOrder").screenWidth;return Object(U.a)(e)})),v()(u()(r),"isSmall",(function(){return"small"===r.getSize()})),v()(u()(r),"isHorizontal",(function(){return("web"===S.a.OS?C.a.get("window").width:Object(ne.x)("activityOrder").screenWidth)>=("web"===S.a.OS?C.a.get("window").height:Object(ne.x)("activityOrder").screenHeight)})),v()(u()(r),"isApkOrIos",(function(){return"android"===S.a.OS||"ios"===S.a.OS})),v()(u()(r),"onPressBack",(function(){"web"===S.a.OS?window.history.go(-1):_.a.VmallNative.invokeNative({service:"page",action:"finished"})})),v()(u()(r),"_getOneCardOrderHeight",(function(e){r.setState({oneCardOrderHeight:e})})),v()(u()(r),"renderItem",(function(){return w.a.createElement(ve.a,{sbomList:r.state.activityData,ISMini:!0,tag:r.state.tag,setHeight:r._getOneCardOrderHeight,pageType:"activityOrder"})})),v()(u()(r),"_loadMore",(function(){r.loadMore&&(r.loadMore=!1,r._getActivityProduct())})),v()(u()(r),"_onScrollWeb",ye()((function(e){var t,n,o=document.getElementById(r.id);(null==o||null===(t=o.parentElement)||void 0===t?void 0:t.offsetHeight)+(null==o||null===(n=o.parentElement)||void 0===n?void 0:n.offsetTop)-(document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop)<window.screen.height+window.screen.height*(1/3)&&r._loadMore()}),200)),v()(u()(r),"renderFooter",(function(e){var t,n=Object(ne.x)("activityOrder").screenHeight,o=r.isApkOrIos()?n-D.a.currentHeight-56-xe:n-123-12;if(1===r.colNum)t=r.state.activityData.length*r.listItemHeight+r.rowGutter*(r.state.activityData.length-1);else if(2===r.colNum){var i=Math.ceil(r.state.activityData.length/2);t=i*r.listItemHeight+r.rowGutter*(i-1)}else if(3===r.colNum){var a=Math.ceil(r.state.activityData.length/3);t=a*r.listItemHeight+r.rowGutter*(a-1)}return w.a.createElement(R.a,{style:[t-r.listItemHeight<o&&{marginBottom:40}]},w.a.createElement(be.a,{showLoading:r.state.showLoading,position:r.state.loadingPostion,loadState:r.state.loadState,errorCallback:r._getActivityProduct,height:56,iconSize:24,titleStyle:e.lodingTitle}))})),v()(u()(r),"renderEmpty",(function(e){var t=Object(ne.x)("activityOrder").screenHeight,n=r.isApkOrIos()?t-D.a.currentHeight-112-12:t-123-12;return w.a.createElement(R.a,{style:[e.webEmpty,{height:n}]},w.a.createElement(N.a,{style:e.emptyImg,source:oe.a.sellout}),w.a.createElement(L.a,{style:[e.emptyText,{marginTop:8}]},Object(V.b)("no_offering")),w.a.createElement(L.a,{style:e.emptyText},Object(V.b)("check_out_other_activities")+"!"))})),v()(u()(r),"renderFlatlist",(function(e){var t=Object(ne.x)("activityOrder").screenHeight,n=r.isApkOrIos()?t-D.a.currentHeight-56-xe:t-123-12;return w.a.createElement(R.a,null,r.isApkOrIos()?w.a.createElement(W.a.FlatList,{style:{width:"100%",height:r.isApkOrIos()?n:"",marginTop:r.flatlistTop},ref:function(e){r.layView=e},nativeID:r.id,overScrollMode:"never",scrollEnabled:!!r.isApkOrIos(),scrollEventThrottle:200,data:r.state.activityDatafalse,renderItem:r.renderItem,removeClippedSubviews:!0,keyExtractor:function(e,t){return t.toString()},showsVerticalScrollIndicator:!1,onScroll:r.animatedEvent,key:"prd-".concat(r.colNum),ListFooterComponent:r.renderFooter(e),onEndReachedThreshold:.3,bounces:!1,onEndReached:function(){r.isApkOrIos()&&r._loadMore()}}):w.a.createElement(R.a,{nativeID:r.id},r.renderItem(),r.renderFooter(e)))})),r.colNum=r.isSmall()?1:r.isHorizontal()?3:2,r.pageGutter=r.isSmall()?16:24,r.rowGutter=r.isHorizontal()?12:8,r.state={noData:!1,noDataOrFalseData:!1,imgUrl:"",sWidth:"",sHeigth:"",isLoad:!0,isscroll:!1,flatlistTop:new W.a.Value(0),mainTitle:"",subTitle:"",dataSourceList:"",showLoading:!1,loadState:1,loadingPostion:"bottom",tag:"",activityData:null,activityDatafalse:[{}],oneCardOrderHeight:0,bottomHeight:0,switchWidth:r.props.width,hasFineshed:!1},r}return s()(n,[{key:"componentDidMount",value:function(){var e=this;this.animatedEvent=W.a.event([{nativeEvent:{contentOffset:{y:this.state.flatlistTop}}}]),this.flatlistTop=this.state.flatlistTop.interpolate({inputRange:[0,300],outputRange:[0,-56],extrapolate:"clamp"}),this.logoOpacity=this.state.flatlistTop.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:"clamp"}),this.titleOpacity=this.state.flatlistTop.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolate:"clamp"}),D.a.setBackgroundColor("transparent"),D.a.setTranslucent(!0),G.a.invokeVmallNative("common","getNavigationHeight",{}).then((function(t){e.setState({bottomHeight:t.bottomHeight})})),this._getActivity(),A.a.addEventListener("hardwareBackPress",this.onPressBack),this.isApkOrIos()||(document.addEventListener("scroll",this._onScrollWeb),this.windowsListener=window.addEventListener("orientationchange",(function(e){90!==e.target.screen.orientation.angle&&0!==e.target.screen.orientation.angle&&270!==e.target.screen.orientation.angle&&180!==e.target.screen.orientation.angle||window.location.reload()})))}},{key:"componentWillUnmount",value:function(){"web"===S.a.OS?(document.removeEventListener("scroll",this._onScrollWeb),this.windowsListener&&window.removeEventListener("orientationchange",(function(){}))):A.a.removeEventListener("hardwareBackPress",this.onPressBack)}},{key:"componentDidUpdate",value:function(){var e=Object(ne.x)("activityOrder").screenWidth;this.state.switchWidth!==e&&(this.colNum=this.isSmall()?1:this.isHorizontal()?3:2,this.state.flatlistTop.setValue(0),this.setState({switchWidth:e}))}},{key:"render",value:function(){var e=this;if("large"===this.getSize())return null;var t=this.state,n=t.imgUrl,r=t.hasFineshed,o=t.activityData,i=t.noDataOrFalseData;return w.a.createElement(Y.b,{themeStyles:Oe},(function(t,a){return w.a.createElement(w.a.Fragment,null,w.a.createElement(R.a,{style:t.onLayout,onLayout:function(e){Object(re.a)(e,"activityOrder")}}),w.a.createElement(R.a,{style:t.homeWrapper,nativeID:"activity_no_focus_outline"},w.a.createElement(B.a,{style:[{width:"100%"},t.topWrapperApk],source:1!=n?{uri:n}:r?oe.a.webactivityheader:""}),e.isApkOrIos()?w.a.createElement(w.a.Fragment,null,w.a.createElement(R.a,{style:[t.secondTitle,{marginTop:xe}]},w.a.createElement(M.a,{style:t.icon,onPress:e.onPressBack},w.a.createElement(F.a,{iconName:"ic24-back",width:"24",height:"24",normalCol:a.C17.color})),w.a.createElement(W.a.Text,{style:[t.description,{opacity:e.titleOpacity}]},e.state.mainTitle)),w.a.createElement(W.a.View,{style:{marginTop:-16,marginBottom:21,opacity:e.logoOpacity,paddingHorizontal:e.pageGutter}},w.a.createElement(L.a,{style:[t.mainTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.mainTitle),w.a.createElement(L.a,{style:[t.subTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.subTitle))):w.a.createElement(R.a,{style:[t.webTitle,{paddingHorizontal:e.pageGutter}]},w.a.createElement(L.a,{style:[t.mainTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.mainTitle),w.a.createElement(L.a,{style:[t.subTitle],numberOfLines:1,ellipsizeMode:"tail"},e.state.subTitle)),r?j()(o)>0&&!i?e.renderFlatlist(t):e.renderEmpty(t):null),w.a.createElement(Pe.a,{pageType:se.g.activityOrder}))}))}}]),n}(b.Component);v()(Ie,"defaultProps",{onBack:function(){}});var ke=Object(J.a)(Object(H.a)({exposeItem:function(e){},clickItem:function(e,t){}})(Object(ie.a)(Ie))),Ee=n(17),je=n.n(Ee),Re=n(26),Le=n.n(Re),_e=n(49),De=n(708),Ne=n(78),We=n(44),Ae=n(59);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe="android"===S.a.OS||"ios"===S.a.OS,He=function(e){return K.a.create({containerbg:{height:219},container:{margin:"auto",marginTop:Fe?null:-92,zIndex:2},Text:Me(Me({fontFamily:Q.a.fontFamilyMedium,textAlign:"center",fontWeight:"500",zIndex:2,color:"#ffffff"},e.T13),{},{marginBottom:5,width:360,top:Fe?0:-165,position:"relative"}),subtitle:{color:"#ffffff",opacity:.6,zIndex:3,fontWeight:"500",fontFamily:Q.a.fontFamilyMedium,fontSize:10,marginLeft:12,marginRight:12,paddingTop:Fe?2:null,textAlign:"center",lineHeight:12},box:{alignItems:"center"},icon:{zIndex:2,paddingTop:43,paddingLeft:18,height:80},imageStyle:{borderWidth:1,borderColor:"rgba(255, 255, 255, 0.4)",borderRadius:20,top:Fe?0:-164,maxHeight:34,paddingTop:Fe?2:4,paddingBottom:Fe?2:4},backgroundStyle:{backgroundColor:e.S32.backgroundColor},lodingTitle:{fontSize:e.T7.fontSize,color:e.C13.color,opacity:e.C13.opacity},rankingChildView:{display:"flex",flexDirection:"row",alignItems:"center",height:14,lineHeight:14,marginTop:4},rankingBox:{marginRight:2,marginVertical:"auto"},rankingTextSize:{width:12,height:12},rankingTextStyle:{color:"#CF0A2C",fontSize:10}})},ze=n(141),Ue=n(231),Ve=n(165),Ge=n(30),Ye=n(95),Je=n(10),Ke={clickItem:function(e){return{data:{actionCode:"910000004",actionName:"排行榜落地页-点击商品",eventType:Je.e.EVENT_TYPE_CLICK,content:{gotoPageId:"",productId:e.productId.toString()||"",productname:e.productName||"",index:e.index.toString(),gotoURL:e.gotoURL||""}}}}},qe=n(22),Qe=n(67);function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Xe=function(e){p()(r,e);var t,n=$e(r);function r(e){var t;return a()(this,r),t=n.call(this,e),v()(u()(t),"configData",{prodTagShow:!0,outOfStockTagShow:!0,promotionTagShow:!0,mutiTagTagShow:!1,promotionShow:!0,prodSellPoint:!1,originPriceShow:!0,buyIconShow:!0,commentCountShow:!0,prdNameNum:2,isRankings:!0,prdImgProportion:1,activeOpacity:1}),v()(u()(t),"columnGutter",void 0),v()(u()(t),"loadMore",!0),v()(u()(t),"windowsListener",void 0),v()(u()(t),"pageNum",1),v()(u()(t),"pageSize",10),v()(u()(t),"animatedEvent",null),v()(u()(t),"scrollViewStartOffsetY",void 0),v()(u()(t),"timer",void 0),v()(u()(t),"isApkOrIos",(function(){return"android"===S.a.OS||"ios"===S.a.OS})),v()(u()(t),"isApp",(function(){return"small"===Object(U.a)(t.state.width)})),v()(u()(t),"isPad",(function(){return"medium"===Object(U.a)(t.state.width)})),v()(u()(t),"scrollyChange",(function(e){!t.state.navTop&&e>=t.state.stickyLayoutY&&t.setState({navTop:!0}),(e<t.state.stickyLayoutY&&t.state.navTop||e===t.state.stickyLayoutY&&0===t.state.stickyLayoutY)&&t.setState({navTop:!1}),t.setState({theTop:e})})),v()(u()(t),"handleScrollEnd",(function(e){var n=e.nativeEvent.contentSize.height,r=e.nativeEvent.layoutMeasurement.height,o=e.nativeEvent.contentOffset.y;t.setState({scrollOffset:o}),o<5&&t.setState({enableScrollViewScroll:!1}),o+r>=n-n*(1/3)&&n>=r&&t._loadMore()})),v()(u()(t),"handleImg",(function(e){var n=e.photoPath,r=e.webpImgUrl,o=/(http|https):\/\/([\w.]+\/?)\S*/,i=o.test(n)?"":le.a.cmsCndProdPath,a=i+n;return t.isApkOrIos()&&r&&(a=(i=o.test(r)?"":le.a.cmsCndProdPath)+r),a})),v()(u()(t),"_loadMore",(function(){var e=u()(t).pageNum;t.loadMore&&1!==e&&(t.loadMore=!1,t._getPageInfos(!1))})),v()(u()(t),"getProductRankDetail",(function(e){e.portal=e.portal||Object(We.b)().toString(),e.lang=e.lang||se.e.CN,e.country=e.country||se.d.CN;var t="".concat(le.a.openApiDomain,"sg/recommend/getProductRankDetail?version=1");return ae.a.get(t,e)})),v()(u()(t),"_getPageInfos",(function(e){var n=t.state,r=n.pageSize,o=n.isRecommended2,i=n.dataArray,a=t.props.rankingId;t.getProductRankDetail({isRecommended:o,pageNum:t.pageNum,pageSize:r,rankingId:a}).then((function(n){var o,a;if(null!=n&&n.productRankDetail)if(t.setState({rankingName:n.productRankDetail.rankingName,title:n.productRankDetail.title,subtitle:n.productRankDetail.subtitle,pictureUrl:n.productRankDetail.pictureUrl,rankingId:n.productRankDetail.rankingId,displayCommodityIndex:n.productRankDetail.displayCommodityIndex}),e&&t.eventTracingReportByLoad(),(null==n||null===(o=n.productRankDetail)||void 0===o||null===(a=o.productList)||void 0===a?void 0:a.length)>0){var l,s=null==n||null===(l=n.productRankDetail)||void 0===l?void 0:l.productList,c=i.concat(s);n.productRankDetail.productList.length===r?(t.loadMore=!0,t.pageNum+=1,t.setState({showLoading:1!==t.pageNum,loadState:1,dataArray:c})):(t.loadMore=!1,t.setState({showLoading:!0,loadState:3,dataArray:c}))}else t.setState({showLoading:!0,loadState:3});else t.setState({showLoading:!0,loadState:2})})).catch((function(n){e&&t.eventTracingReportByLoad(),t.setState({errorType:se.c.OTHER_ERROR,loadState:2})})).finally((function(){t.setState({hasFineshed:!0})}))})),v()(u()(t),"isHorizontal",(function(){return("web"===S.a.OS?C.a.get("window").width:q.a.width)>=("web"===S.a.OS?C.a.get("window").height:q.a.height)})),v()(u()(t),"getColumn",(function(){t.state.column;return t.isApp()?1:t.isHorizontal()?3:2})),v()(u()(t),"getSpacing",(function(){var e=1;return t.isApkOrIos()&&(e=t.isApp()?16:t.isPadHorizonta()?189:119),e})),v()(u()(t),"getContainerWidth",(function(e){return t.isApp()?e-32:t.isHorizontal()?e-378:e-238})),v()(u()(t),"initWidth",function(){var e=Le()(je.a.mark((function e(n){var r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getScreenHeight();case 2:r=+e.sent,t.state.width!==n&&t.setState({width:n,height:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v()(u()(t),"isPadHorizonta",(function(){return("web"===S.a.OS?C.a.get("window").width:t.state.width)>=("web"===S.a.OS?C.a.get("window").height:t.state.height)})),v()(u()(t),"getScreenHeight",(function(){return new Promise((function(e,n){"web"!==S.a.OS?_.a.VmallNative.invokeNative({service:"common",action:"getScreenHeight",params:{}}).then((function(n){isNaN(null==n?void 0:n.screenHeight)?e(Object(We.d)(t.props.pageType).screenHeight):e(null==n?void 0:n.screenHeight)})).catch((function(){n(Object(We.d)(t.props.pageType).screenHeight)})):e(Object(We.d)(t.props.pageType).screenHeight)}))})),v()(u()(t),"renderFooter",(function(){return w.a.createElement(Y.b,{themeStyles:He},(function(e){return w.a.createElement(R.a,{style:[!t.isApkOrIos()&&{left:t.isApp()?-16:t.isPadHorizonta()?-189:-119}]},w.a.createElement(be.a,{showLoading:t.state.showLoading,position:"bottom",loadState:t.state.loadState,errorCallback:t.state.dataArray,height:56,iconSize:24,titleStyle:e.lodingTitle}))}))})),v()(u()(t),"onPressBack",(function(){"web"===S.a.OS?window.history.go(-1):_.a.VmallNative.invokeNative({service:"page",action:"finished"})})),v()(u()(t),"onClickSinglePrd",function(){var e=Le()(je.a.mark((function e(n){var r,o;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.a)(n.productId,n.skuCode);case 2:r=e.sent,o={gotoPageId:"",gotoURL:r,productId:n.productId,productName:n.name,index:n.index},t.props.clickItem(o),t.timer=setTimeout((function(){Object(Ae.c)(n.productId,n.skuCode)}),150);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v()(u()(t),"renderHotSalesIndex",(function(e,n){return w.a.createElement(R.a,{style:n.rankingChildView},w.a.createElement(R.a,{style:n.rankingBox},w.a.createElement(B.a,{source:oe.a.HotSale_fire,style:n.rankingTextSize})),w.a.createElement(L.a,{style:n.rankingTextStyle,numberOfLines:1,ellipsizeMode:"tail"},t.getHotSaleValue(e)))})),v()(u()(t),"getHotSaleValue",(function(e){return 1==e?Object(V.b)("hot_sale_index.one").replace("%1$d",String(e)):Object(V.b)("hot_sale_index.other").replace("%1$d",String(e))})),v()(u()(t),"eventTracingReportByLoad",(function(){var e=t.state.rankingName,n=t.props.rankingId;Object(qe.a)({actionCode:"910000003",actionName:"排行榜落地页加载完成",eventType:Je.e.EVENT_TYPE_LOADING_PAGE,content:{ruleId:"",sId:"",rankingId:n||"",rankingName:e||""}})})),v()(u()(t),"renderItem",(function(e,n){var r,o=e.item,i=e.index,a=t.state,l=a.rankingId,s=a.displayCommodityIndex,c=a.width;void 0!==o.originIndex&&o.originIndex;r=z.a.isApp()?o.photoPathMainWebp:o.photoPath,o.imgUrl=r,o.promotionRules=o.promoLabels,o.promotionInfo=o.promotionInfo,o.prdName=o.name,o.originPrice=o.price,o.salePrice=void 0!==o.promoPrice?o.promoPrice:o.price,o.reviewCount=o.rateCount,o.goodReviewRate=o.goodRate,o.wapurl=o.skuCode?le.a.wapDomain+"product/ord-"+o.skuCode+".html":le.a.wapDomain+"product/"+o.productId+".html",o.isInv=o.isInv,o.index=i,o.btnType=2,o.commodityIndex=o.commodityIndex,t.configData.isPadHorizontal=t.isPadHorizonta(),t.configData.imgWrapWidth=t.configData.isPadHorizontal?140:122,t.configData.imgWidth=t.configData.isPadHorizontal?140:122;var u=t.isApp()||t.isPadHorizonta()?12:8,d=Ge.a.darkBool,p=t.isPadHorizonta()?c-378:c-238,f=c-32,h=t.getSpacing();return w.a.createElement(Y.b,{themeStyles:He},(function(e,r,a){return t.initWidth(a),w.a.createElement(R.a,{style:[t.isApkOrIos()&&{position:"relative",paddingTop:u,left:h},!t.isApkOrIos()&&{paddingTop:u}]},w.a.createElement(Ne.a,{data:o,config:t.configData,iWidth:t.isPad()?p:f,structure:"l2r",type:"activity",onClick:function(){return t.onClickSinglePrd(o)},rankingId:l,customPrdStyles:d?Ve.c:Ve.d},w.a.createElement(Ue.a,{number:i+1,originStyle:Object(Ve.a)(t.isPadHorizonta())}),1===s&&void 0!==o.commodityIndex||"1"===s&&void 0!==o.commodityIndex?t.renderHotSalesIndex(null==o?void 0:o.commodityIndex,n):null))}))})),v()(u()(t),"getTitle",(function(){var e=t.state,n=e.title,r=e.rankingName,o=e.subtitle,i=e.hasFineshed;return w.a.createElement(Y.b,{themeStyles:He},(function(e){return w.a.createElement(R.a,{style:[e.box,{top:t.isApkOrIos()?t.isApp()?-115:-138:60}]},w.a.createElement(L.a,{numberOfLines:1,ellipsizeMode:"tail",style:e.Text},n||r),w.a.createElement(R.a,{style:[e.imageStyle,{marginLeft:t.isApp()?28:t.isPadHorizonta()?200:130,marginRight:t.isApp()?28:t.isPadHorizonta()?200:130}]},w.a.createElement(L.a,{numberOfLines:2,ellipsizeMode:"tail",style:[e.subtitle]},o||(i?Object(V.b)("comprehensive_recommend"):""))))}))})),t.state={scrollY:new W.a.Value(0),showLoading:!1,loadState:1,column:1,columnGutter:8,width:Object(We.d)(t.props.pageType).screenWidth,height:Object(We.d)(t.props.pageType).screenHeight,randomId:Object(We.h)(),dataArray:[],rankingName:"",subtitle:"",title:"",pictureUrl:"",rankingId:"",pageNum:1,pageSize:10,noData:!0,errorType:se.c.OTHER_ERROR,hasFineshed:!1,isPadApk:!1,isFixScreen:!1,isRecommended2:!1,enableScrollViewScroll:!1,scrollOffset:0,displayCommodityIndex:0},t}return s()(r,[{key:"componentDidMount",value:(t=Le()(je.a.mark((function e(){var t,n=this;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPageInfos(!0),this.pageNum=1,"web"!==S.a.OS){e.next=8;break}t=Object(ne.I)(),this.setState({isRecommended2:t}),e.next=19;break;case 8:if(!z.a.isApp()){e.next=19;break}return A.a.addEventListener("hardwareBackPress",this.onPressBack),e.next=12,Object(ne.s)().then((function(e){n.setState({isRecommended2:e})}));case 12:return e.t0=this,e.next=15,this.getScreenHeight();case 15:e.t1=+e.sent,e.t2={height:e.t1},e.t0.setState.call(e.t0,e.t2),z.a.isAndroid()&&(Object(ue.l)().then((function(e){null!=e&&e.pad&&"true"===(null==e?void 0:e.pad)?n.setState({isPadApk:!0}):n.setState({isPadApk:!1})})),Object(ue.i)().then((function(e){n.setState({isFixScreen:e})})));case 19:this.animatedEvent=W.a.event([{nativeEvent:{contentOffset:{y:this.state.scrollY}}}],{useNativeDriver:!0,listener:function(e){_e.a.emit("onOutScrollViewScroll",e.nativeEvent.contentOffset.y,"rankingPage",n.state.randomId)}});case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){z.a.isApp()&&A.a.removeEventListener("hardwareBackPress",this.onPressBack),this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.rankingName,o=t.pictureUrl,i=t.height,a=t.dataArray,l=t.hasFineshed,s=this.getColumn();return w.a.createElement(Y.b,{themeStyles:He},(function(t,c,u){var d=e.getContainerWidth(u);return w.a.createElement(w.a.Fragment,null,l&&a.length<1?w.a.createElement(Ye.a,null):w.a.createElement(R.a,{style:[t.backgroundStyle,{width:u},e.isApkOrIos()&&{height:e.state.isPadApk&&!e.state.isFixScreen&&"small"===Object(U.a)(e.state.width)||e.isApp()?null:(e.isPadHorizonta(),i+D.a.currentHeight)}]},e.isApkOrIos()?w.a.createElement(w.a.Fragment,null,w.a.createElement(ze.a,{headerStyle:{headStyle:"7",headTitle:n||r,attribute:{backButtonBgColor:"#ffffff",signalBarColor:Qe.d.white}},headeStyles:{headStyle:"7",headTitle:n||r,attribute:{backButtonBgColor:"#ffffff",signalBarColor:Qe.d.white}},configInfo:{layoutType:"high"},stickyLayoutY:e.state.scrollY,showType:"title",bgImg:o?{uri:o}:l?oe.a.bg_pad:"",pageTypeName:"rankingPage",randomId:e.state.randomId})):w.a.createElement(w.a.Fragment,null,w.a.createElement(ze.a,{headerStyle:{headStyle:"7",headTitle:n||r,attribute:{backButtonBgColor:"#ffffff",signalBarColor:Qe.d.white}},headeStyles:{headStyle:"7",headTitle:n||r,attribute:{backButtonBgColor:"#ffffff",signalBarColor:Qe.d.white}},configInfo:{layoutType:"high"},stickyLayoutY:e.state.scrollY,showType:"all",bgImg:o||(e.isApp(),oe.a.bg_pad),pageTypeName:"rankingPage"}),o?null:w.a.createElement(R.a,{style:{alignItems:"flex-end",marginTop:-160,marginBottom:25}},w.a.createElement(N.a,{style:{width:e.isApp()?110:120,height:e.isApp()?158:168},source:l?oe.a.badges:null})),e.getTitle()),w.a.createElement(R.a,{style:[t.container,e.isApkOrIos()&&{width:u},!e.isApkOrIos()&&{width:d}]},w.a.createElement(W.a.ScrollView,{onScroll:e.animatedEvent,showsVerticalScrollIndicator:!1,overScrollMode:"never",onScrollEndDrag:function(t){return e.handleScrollEnd(t)}},e.isApkOrIos()?w.a.createElement(w.a.Fragment,null,w.a.createElement(R.a,{style:{height:o?null:219}},w.a.createElement(B.a,{resizeMode:"stretch",style:[t.containerbg],source:o?{uri:o}:l?oe.a.bg_pad:""})),o?null:w.a.createElement(R.a,{style:{alignItems:"flex-end",marginTop:e.isApp()?-220:-219,marginBottom:e.isApp()?25:50}},l?w.a.createElement(N.a,{style:{width:120,height:168},source:oe.a.badges}):null),w.a.createElement(R.a,{style:{marginTop:o?0:e.isApp()?14:4}},e.getTitle())):null,w.a.createElement(R.a,{style:[{marginTop:e.isApkOrIos()?e.isApp()?-110:-130:null,width:u}]},w.a.createElement(De.a,{data:a,renderItem:function(n){return e.renderItem(n,t)},numColumns:1,key:s,ListFooterComponent:e.renderFooter.bind(e),onEndReachedThreshold:.3,onEndReached:e._loadMore(),showsVerticalScrollIndicator:!1}))))))}))}}]),r}(b.Component),Ze=Object(J.a)(Object(H.a)(Ke)(Object(ie.a)(Xe))),et=["activityParams","defaultRoute"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(e){var t=e.activityParams,n=e.defaultRoute,r=P()(e,et),i=Object(T.createStackNavigator)(),a=nt(nt({},x.DefaultTheme),{},{colors:nt(nt({},x.DefaultTheme.colors),{},{background:"transparent"})});return t=t||"{}",w.a.createElement(x.NavigationContainer,{theme:a,independent:"bottomNav"===(null==r?void 0:r.container)},w.a.createElement(i.Navigator,{initialRouteName:n||"华为商城（VMALL.COM）_华为手机、官网正品保障"},w.a.createElement(i.Screen,{name:"华为商城（VMALL.COM）_华为手机、官网正品保障",options:{headerShown:!1}},(function(e){return"web"===S.a.OS?w.a.createElement(I.a,o()({},e,t,r)):w.a.createElement(k.a,o()({},e,t,r))})),w.a.createElement(i.Screen,{name:"ActivityPage",options:{headerShown:!1,title:"华为商城（VMALL.COM）_华为手机、官网正品保障"}},(function(e){return"web"===S.a.OS?w.a.createElement(ge,o()({},r,t)):w.a.createElement(ge,o()({},r,JSON.parse(t)))})),w.a.createElement(i.Screen,{name:"ActivityOrder",options:{headerShown:!1,title:"华为商城（VMALL.COM）_华为手机、官网正品保障"}},(function(e){return"web"===S.a.OS?w.a.createElement(ke,o()({},r,t)):w.a.createElement(ke,o()({},r,JSON.parse(t)))})),w.a.createElement(i.Screen,{name:"productRank",options:{headerShown:!1,title:"华为商城（VMALL.COM）_华为手机、官网正品保障"}},(function(e){return"web"===S.a.OS?w.a.createElement(Ze,r):w.a.createElement(Ze,o()({},r,JSON.parse(t)))}))))};function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var it,at="ActivityDeault",lt={},st=0,ct=function(){return"web"===S.a.OS};if(ct()){var ut=Object(ne.q)("activityParams")||"{}";if(lt=JSON.parse(ut),!Object(ne.D)(lt)&&lt.targetRoute)at=lt.targetRoute;else{var dt=Object(ne.q)("targetRoute");it=Object(ne.q)("rankingId"),at=dt||"ActivityDeault"}st=window.screen.width}var pt=function(e){p()(n,e);var t=ot(n);function n(e){var r;if(a()(this,n),r=t.call(this,e),v()(u()(r),"resizeListener",void 0),"android"===S.a.OS||"ios"===S.a.OS){var o,i=(null==e?void 0:e.activityParams)||"{}";if(lt=JSON.parse(i),!Object(ne.D)(lt)&&lt.targetRoute)at=null===(o=lt)||void 0===o?void 0:o.targetRoute;else at=null!=e&&e.targetRoute?null==e?void 0:e.targetRoute:"ActivityDeault"}return r}return s()(n,[{key:"componentDidMount",value:function(){ct()&&z.a.isWap(C.a.get("window").width)&&(this.resizeListener=window.addEventListener("resize",(function(){Math.abs(window.screen.width-st)>200&&window.location.reload()})))}},{key:"componentWillUnmount",value:function(){at="ActivityDeault",ct()&&this.resizeListener&&window.removeEventListener("resize",(function(){}))}},{key:"render",value:function(){return w.a.createElement(rt,o()({defaultRoute:at,activityParams:lt,rankingId:it},this.props))}}]),n}(b.Component);t.a=pt},function(e,t,n){"use strict";var r,o,i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(0),w=n.n(b),S=n(40),C=n(185),O=n(37),P=n(102),T=n(43),x=n(152),I=n(126),k=n(157),E=n(27),j=n.n(E),R=n(18),L=n.n(R),_=(n(60),n(16)),D=new(r=function(){function e(){a()(this,e),j()(this,"dataJson",o,this)}return s()(e,[{key:"onUpdate",value:function(e){this.dataJson=e}}]),e}(),o=L()(r.prototype,"dataJson",[_.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L()(r.prototype,"onUpdate",[_.d],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),r),N=n(57),W=n(54);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M,F,H=function(e){return N.a.create({fatherBox:B(B(B({position:"absolute",left:0,top:0},e.C11),e.T11),{},{backgroundColor:"rgba(0,0,0,0.38)",zIndex:99,width:W.a.get("window").width,height:W.a.get("window").height,justifyContent:"center",alignItems:"center"}),centre:{backgroundColor:"#fff",opacity:1,position:"relative",paddingLeft:20,paddingRight:20},close:{position:"absolute",top:16,right:16,zIndex:9},closeIcon:{fontSize:14,color:"#A4A4A4"},titleText:{height:90,width:"100%",alignItems:"center"},titleTexts:{fontSize:18,width:153,height:24,color:"#000",marginTop:30,fontWeight:500},titleTextCenter:{fontSize:18,height:24,color:"#000",marginTop:30,fontWeight:500},image:{width:"100%",height:150},conText:{fontSize:14,lineHeight:20,marginTop:25,marginBottom:25,color:"#666"},footer:{flex:1,height:46,alignItems:"center"},footerContent:{width:354,flexDirection:"row"},footerText:{width:172,height:46,borderStyle:"solid",justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"#DDDDDD",borderRadius:2},footerLeftText:{color:"#000",fontSize:18},footerRightText:{color:"#FFF",fontSize:18}})},z=n(20),U=n(3),V=n(41),G=n(38),Y=n(32);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var K=Object(Y.c)((F=function(e){p()(n,e);var t=J(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={num:1,centreHeight:386,centreWidth:700,pos:{position:"fixed"}},r}return s()(n,[{key:"componentDidMount",value:function(){}},{key:"Display",value:function(){this.props.data;Object(V.d)(V.a.ORDER_DEPOSIT,V.b.DONE)}},{key:"onGotoPages",value:function(e){this.props.data;var t=G.a.webDomain,n="".concat(t,"member/order?type=frame&url=").concat(encodeURIComponent(window.location.href),"&_t=").concat((new Date).getTime());Object(U.A)(n)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.width,t.rowsPerScreen,this.state.pos),r=386,o=700,i=D.dataJson,a=1;return null!==i?(""===i.conText&&""===i.picWebUrl?(a=0,o=460,r=160):""==i.picWebUrl||null==i.picWebUrl?(a=2,r=138):""==i.conText||null==i.conText?(a=3,r=341):i.conText.length>20&&(a=4,r=550),0===a?w.a.createElement(P.b,{themeStyles:H},(function(t){return w.a.createElement(T.a,{style:[t.fatherBox,n]},w.a.createElement(T.a,{style:[t.centre,{width:o,height:r}]},w.a.createElement(T.a,{style:[t.titleText,{height:94,flexDirection:"row",justifyContent:"center"}]},w.a.createElement(T.a,{style:{width:24,height:24,marginTop:30,justifyContent:"center",alignItems:"center",borderRadius:50,borderColor:"#CA141D",borderWidth:1,marginRight:11}},w.a.createElement(x.a,{style:{color:"#CA141D"}},"!")),w.a.createElement(x.a,{style:0===a?t.titleTextCenter:t.titleTexts},i.titleText)),w.a.createElement(T.a,{style:[t.footer]},w.a.createElement(T.a,{style:t.footerContent},w.a.createElement(T.a,{style:[t.footerText,{marginRight:10}]},w.a.createElement(I.a,{style:[t.footerText],activeOpacity:1,onPress:function(){e.Display()}},w.a.createElement(x.a,{style:t.footerLeftText},i.cancel?i.cancel:"以后再说"))),w.a.createElement(T.a,{style:[t.footerText,{backgroundColor:"#CA151D"}]},w.a.createElement(I.a,{style:t.footerText,activeOpacity:1,onPress:function(){e.onGotoPages()}},w.a.createElement(x.a,{style:t.footerRightText},i.confirm?i.confirm:"去看看")))))))})):w.a.createElement(P.b,{themeStyles:H},(function(t){return w.a.createElement(T.a,{style:[t.fatherBox,n]},w.a.createElement(T.a,{style:[t.centre,{width:o,height:r}]},w.a.createElement(T.a,{style:t.close},w.a.createElement(I.a,{activeOpacity:1,onPress:function(){e.Display()}},w.a.createElement(z.a,{iconName:"cancel-",width:"24",height:"24",normalCol:"#A4A4A4"}))),w.a.createElement(T.a,{style:t.titleText},w.a.createElement(x.a,{style:3!==a?t.titleTexts:t.titleTextCenter},i.titleText)),w.a.createElement(I.a,null,2!==a?w.a.createElement(k.a,{source:{uri:i.picWebUrl},style:t.image}):null),w.a.createElement(T.a,null,3!==a?w.a.createElement(x.a,{style:t.conText},i.conText):null),w.a.createElement(T.a,{style:[t.footer,{marginTop:3===a?25:0}]},w.a.createElement(T.a,{style:t.footerContent},w.a.createElement(T.a,{style:[t.footerText,{marginRight:10}]},w.a.createElement(I.a,{onPress:function(){e.Display()}},w.a.createElement(x.a,{style:t.footerLeftText},i.cancel?i.cancel:"以后再说"))),w.a.createElement(T.a,{style:[t.footerText,{backgroundColor:"#CA151D"}]},w.a.createElement(I.a,{onPress:function(){e.onGotoPages()}},w.a.createElement(x.a,{style:t.footerRightText},i.confirm?i.confirm:"去看看")))))))}))):null}}]),n}(b.Component),v()(F,"defaultProps",{layoutType:"FourColumnLayout",rowsPerScreen:2}),M=F))||M,q=Object(C.a)(K);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X,Z,ee=function(e){return N.a.create({fatherBox:$($($({position:"absolute",left:0,top:0},e.C11),e.T11),{},{width:W.a.get("window").width,height:W.a.get("window").height,backgroundColor:"rgba(0,0,0,0.38)",zIndex:99,justifyContent:"center",alignItems:"center"}),centre:{width:328,backgroundColor:"#fff",opacity:1,borderRadius:8},titleText:{height:56,width:"100%",marginLeft:20},titleTexts:{fontSize:17,lineHeight:56,color:"#191919",fontWeight:600},image:{width:288,height:66,marginLeft:20},conText:{fontSize:13,lineHeight:34,color:"#333",marginLeft:20},footer:{flex:1,flexDirection:"row"},footerText:{width:"50%",heigh:"100%",justifyContent:"center",alignItems:"center"},footerLeftText:{color:"#808080"},footerRightText:{color:"#CA141D"}})};function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ne,re=Object(Y.c)((Z=function(e){p()(n,e);var t=te(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={data:{titleText:"支付订单提醒",imgUrl:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2434470927,2484730898&fm=26&gp=0.jpg",conText:"您有待支付的订单，是否现在前往？"},num:1,centreHeight:212,pos:{position:"fixed"}},r}return s()(n,[{key:"componentDidMount",value:function(){this.state.data}},{key:"Display",value:function(){Object(V.d)(V.a.ORDER_DEPOSIT,V.b.DONE)}},{key:"onGotoPages",value:function(e){var t=G.a.webDomain,n="".concat(t,"member/order?type=frame&url=").concat(encodeURIComponent(window.location.href),"&_t=").concat((new Date).getTime());Object(U.A)(n)}},{key:"render",value:function(){var e=this,t=this.props.pos,n=212,r=D.dataJson,o=1;return null!==r?(""==r.picAppWapUrl||null==r.picAppWapUrl?(o=2,n=138):""!=r.conText&&null!=r.conText||(o=3,n=186),w.a.createElement(P.b,{themeStyles:ee},(function(i){return w.a.createElement(T.a,{style:[i.fatherBox,t]},w.a.createElement(T.a,{style:[i.centre,{height:n}]},w.a.createElement(T.a,{style:i.titleText},w.a.createElement(x.a,{style:i.titleTexts},r.titleText)),w.a.createElement(I.a,null,2!==o?w.a.createElement(k.a,{source:{uri:r.picAppWapUrl},style:i.image}):null),w.a.createElement(T.a,null,3!==o?w.a.createElement(x.a,{style:i.conText},r.conText):null),w.a.createElement(T.a,{style:i.footer,pointerEvents:"box-none"},w.a.createElement(T.a,{style:i.footerText,pointerEvents:"box-none"},w.a.createElement(I.a,{onPress:function(){e.Display()}},w.a.createElement(x.a,{style:i.footerLeftText},r.cancel?r.cancel:"以后再说"))),w.a.createElement(T.a,{style:i.footerText},w.a.createElement(I.a,{onPress:function(){e.onGotoPages()}},w.a.createElement(x.a,{style:i.footerRightText},r.confirm?r.confirm:"去看看"))))))}))):null}}]),n}(b.Component),v()(Z,"defaultProps",{layoutType:"FourColumnLayout",rowsPerScreen:2}),X=Z))||X,oe=Object(C.a)(re);function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ae=Object(Y.c)(ne=function(e){p()(n,e);var t=ie(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"buttonType",void 0),r.state={},r.buttonType={},r}return s()(n,[{key:"componentDidMount",value:function(){var e,t,n,r=this.props.data,o=null;o="string"==typeof r.pageMarketingMessageInfo?JSON.parse(r.pageMarketingMessageInfo):r.pageMarketingMessageInfo;var i={};o&&o.interactButtonInfoList&&o.interactButtonInfoList.length>0&&o.interactButtonInfoList.forEach((function(e){i[e.buttonType]={title:e.buttonTitle?e.buttonTitle:"",url:!e.buttonJumpUrl||2!=e.buttonEvent&&4!=e.buttonEvent?"":e.buttonJumpUrl}})),D.onUpdate({titleText:o.custTitle?o.custTitle:"",activityCode:o.activityCode?o.activityCode:"",picWebUrl:o.picWebUrl?o.picWebUrl:"",picAppWapUrl:o.picAppWapUrl?o.picAppWapUrl:"",conText:i[1].custTitle?i[1].custTitle:"",confirm:null!==(e=i[1])&&void 0!==e&&e.title?i[1].title:"",cancel:null!==(t=i[2])&&void 0!==t&&t.title?null===(n=i[2])||void 0===n?void 0:n.title:""}),this.buttonType=i}},{key:"render",value:function(){var e=this.props.width;return"small"===Object(S.a)(e)||"android"===O.a.OS?w.a.createElement(oe,{buttonType:this.buttonType}):w.a.createElement(q,{buttonType:this.buttonType})}}]),n}(b.Component))||ne;t.a=Object(C.a)(ae)},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(26),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(109),C=n.n(S),O=n(34),P=n.n(O),T=n(313),x=n.n(T),I=n(65),k=n.n(I),E=n(607),j=n.n(E),R=n(0),L=n.n(R),_=n(54),D=n(37),N=n(49),W=n(43),A=n(126),B=n(152),M=n(48),F=n(119),H=n(183),z=n(103),U=n(40),V=n(102),G=n(432),Y=n(185),J=n(45),K=n.n(J),q=n(57),Q=n(53);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=_.a.get("window").width,ee=Object(U.a)(Z),te=function(e){return q.a.create({container:{backgroundColor:e.C33.color,marginLeft:"small"===ee?16:24,marginRight:"small"===ee?16:24,borderRadius:16,display:"flex",flex:1,flexDirection:"row"},imageWrap:{width:48,height:48,borderRadius:8,marginTop:16,marginBottom:16,marginLeft:12,marginRight:12},shopImage:{width:"100%",height:"100%"},inforamtionWrap:{marginTop:18,marginBottom:19,width:"65%"},shopWrap:{display:"flex",flex:1,flexDirection:"row",alignItems:"center"},shopName:X(X(X({fontFamily:Q.a.fontFamilyMedium},e.C11),e.T8),{},{marginRight:4}),shopTag:{width:30,height:15,borderRadius:4,fontSize:e.T0.fontSize,marginLeft:4},TagText:X(X(X({fontFamily:Q.a.fontFamilyMedium},e.T0),{},{fontSize:e.T0.fontSize},e.C17),{},{textAlign:"center",lineHeight:15}),starWrap:{display:"flex",flex:1,flexDirection:"row",marginTop:8,alignItems:"center"},attentionsNum:X(X(X({fontFamily:Q.a.fontFamilyMedium},e.C13),e.T3),{},{marginLeft:8,height:"100%",justifyContent:"center"}),attentionsNumText:X(X({},e.C13),e.T3),attentionsWrap:{marginTop:26,marginBottom:26,marginLeft:"auto",marginRight:12},attentionsBtnN:{width:56,height:28,borderRadius:14,backgroundColor:e.C35.color,alignItems:"center",lineHeight:28},attentionsBtnNText:X(X(X({fontFamily:Q.a.fontFamilyMedium},e.C17),e.T4),{},{lineHeight:28}),attentionsBtnY:{width:56,height:28,borderRadius:14,backgroundColor:e.S13.backgroundColor,alignItems:"center"},attentionsBtnYText:X(X(X({fontFamily:Q.a.fontFamilyMedium},e.C15),e.T4),{},{lineHeight:28}),modalInnerStyle:{borderRadius:24},modalTitle:X({fontFamily:Q.a.fontFamilyMedium},e.T12),modalContent:X({fontFamily:Q.a.fontFamilyBase},e.T9),modalLeftBtn:X(X({fontFamily:Q.a.fontFamilyMedium},e.T9),{},{color:e.C35.color,height:40,lineHeight:40,width:"100%",textAlign:"center"}),modalRightBtn:X(X({fontFamily:Q.a.fontFamilyMedium},e.T9),{},{backgroundColor:e.C35.color,color:e.C33.color,borderRadius:20,textAlign:"center",height:40,lineHeight:40,width:"100%",overflow:"hidden"})})},ne=n(24),re=n(20),oe=n(11),ie=n(38),ae=n(29),le=n(10),se=n(3),ce=n(22),ue=n(25);function de(){return"ios"===D.a.OS||"android"===D.a.OS}var pe,fe={exposeItem:function(){var e=this.props,t=e.id,n=e.pageId,r=e.carrierCode,o=e.resSiteCode,i=void 0===o?"":o,a=e.resSiteName,l=void 0===a?"":a,s=e.pageCatCode,c=void 0===s?"":s,u=e.pageCatName,d=void 0===u?"":u;return{data:{actionCode:de()?"100660019":"200580019",actionName:"店铺组件卡片曝光",eventType:le.e.EVENT_TYPE_EXPOSURE,pageId:n,content:{comId:null==t?void 0:t.toString(),CarrierCode:r,exposure:"1"},resSiteCode:i,resSiteName:l,pageCatCode:c,pageCatName:d}}},clickItem:function(){var e=this.props,t=e.carrierCode,n=e.pageId,r=e.id,o=e.resSiteCode,i=void 0===o?"":o,a=e.resSiteName,l=void 0===a?"":a,s=e.pageCatCode,c=void 0===s?"":s,u=e.pageCatName,d=void 0===u?"":u;return{data:{actionCode:de()?"100660019":"200580020",actionName:"店铺组件卡片点击",eventType:"2",pageId:null==n?void 0:n.toString(),content:{comId:null==r?void 0:r.toString(),CarrierCode:t,click:"1"},resSiteCode:i,resSiteName:l,pageCatCode:c,pageCatName:d}}}},he=n(21),ge=n(118),me=n(32),ye=n(215),ve=n(158);function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}Object(oe.b)(ie.a);oe.a.openApiDomain,oe.a.webDomain;var we=_.a.get("window").width,Se=(Object(U.a)(we),Object(me.c)(pe=function(e){h()(r,e);var t,n=be(r);function r(e){var t;return s()(this,r),t=n.call(this,e),w()(p()(t),"eventListener",void 0),w()(p()(t),"receiveRef",""),w()(p()(t),"itemlist",[]),w()(p()(t),"isPadHorizonta",(function(){var e=t.state,n=e.width;return!(e.height>n)})),w()(p()(t),"_toLogin",(function(){var e="";if("web"===D.a.OS){var t=window.location.href;e="".concat(oe.a.wapDomain,"account/applogin?url=").concat(encodeURIComponent(t))+"&_t="+(new Date).getTime()}else e=(M.a.isAndroid(),"vmall://com.vmall.client/home/login");Object(se.A)(e)})),w()(p()(t),"_potalCode",(function(){return"web"===D.a.OS?M.a.isWap(t.state.width)?"2":"1":M.a.isApp()?"3":void 0})),w()(p()(t),"isShowHalfStar",(function(e,t){return e-t>0&&t+1-e>0})),w()(p()(t),"handleFollowData",(function(){var e=t.state,n=e.isFollow,r=e.followerCount,o="";if(!t.state.isFollow){if((r+=1)>=1e4)o=x()(r/1e4,2).toFixed(2)+"万";else o=r+"";t.setState({isFollow:!n,followerCount:r,followerCountShow:o},(function(){ge.a.setFollow(String(t.state.isFollow))})),t.followEventClickByLoad(1)}})),w()(p()(t),"handleCloseModal",(function(){t.setState({showUnfollow:!1})})),t.state={width:Object(se.x)(t.props.pageType).screenWidth,isFollow:!1,isLogin:!1,mergeStyle:null,shopName:"",shopAvatar:"",followerCount:null,followerCountShow:"",consignment:1,starRanking:0,isShow:!1,showUnfollow:!1,modalId:"modal-unfollow-".concat(Object(se.J)(6))},t.closeModal=t.closeModal.bind(p()(t)),t}return u()(r,[{key:"isPad",value:function(){var e=this.state.width;return"medium"===Object(U.a)(e)||"large"===Object(U.a)(e)&&e<F.a.safety_area}},{key:"_isLogin",value:function(){var e=this;if(M.a.isApp())H.a.invokeVmallNative("common","getIsLogin",{}).then((function(t){t&&e.setState({isLogin:!(null==t||!t.isLogin)})})),this.eventListener=N.a.addListener("NativeCallAction",(function(t){"login"==t.service&&"isLogin"==t.action&&t&&"boolean"==typeof(null==t?void 0:t.param.isLogin)&&1==(null==t?void 0:t.param.isLogin)&&e.setState({isLogin:!!t.param.isLogin})}));else if("web"===D.a.OS){var t="".concat(oe.a.openApiDomain,"mcp/user/queryUserLoginStatus?_=")+(new Date).getTime();ae.a.get(t,{portal:this._potalCode(),country:"CN",lang:"zh-CN"}).then((function(t){var n=!!t.login;e.setState({isLogin:n})}))}}},{key:"isFollowShop",value:function(){var e=this,t="".concat(oe.a.openApiDomain,"sc/shop/getIsFollow?lang=zh-CN&country=CN"),n=this.props.carrierCode||"";ae.a.get(t,{carrierCodeList:n?"['".concat(n,"']"):[""],portal:this._potalCode()}).then((function(t){var r=t.data||{};r.followMap&&j()(r.followMap,n)&&k()(r.followMap,n)&&e.setState({isFollow:k()(r.followMap,n)},(function(){ge.a.setFollow(String(e.state.isFollow))}))}))}},{key:"followEventClickByLoad",value:function(e){var t,n,r,o,i,a=this.props,l=a.resSiteCode,s=void 0===l?"":l,c=a.resSiteName,u=void 0===c?"":c,d=a.pageCatCode,p=void 0===d?"":d,f=a.pageCatName,h=void 0===f?"":f;Object(ce.a)({actionCode:M.a.isWap(we)?"200580002":"100660002",actionName:"点击关注按钮上报",eventType:le.e.EVENT_TYPE_CLICK,pageId:null!==(t=null===(n=this.props)||void 0===n||null===(r=n.pageId)||void 0===r?void 0:r.toString())&&void 0!==t?t:"",content:{CarrierCode:null!==(o=null===(i=this.props)||void 0===i?void 0:i.carrierCode)&&void 0!==o?o:"",click:"1",type:0===e?"2":"1"},resSiteCode:s,resSiteName:u,pageCatCode:p,pageCatName:h}),Object(ce.b)("",!0)}},{key:"doFollowShop",value:function(e){var t=this;if(this.state.isLogin){var n="".concat(oe.a.openApiDomain,"sc/shop/followShop?lang=zh-CN&country=CN"),r=this.props.carrierCode||"";this.getUserId();ae.a.post(n,{followType:e,carrierCode:r,portal:this._potalCode()}).then((function(n){var r=t.state,o=r.isFollow,i=r.followerCount,a="";if(n){if((i=1===e?i+1:i-1)>=1e4)a=x()(i/1e4,2).toFixed(2)+"万";else a=i+"";t.setState({isFollow:!o,followerCount:i,followerCountShow:a},(function(){ge.a.setFollow(String(t.state.isFollow))})),t.followEventClickByLoad(e)}}))}else this._toLogin()}},{key:"getUserId",value:(t=a()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!M.a.isApp()){e.next=8;break}return e.next=4,Object(se.j)(le.a.DEVICE_INFO);case 4:n=e.sent,t=null==n?void 0:n.uid,e.next=9;break;case 8:"web"===D.a.OS&&(t=z.a.get("uid")||"");case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"initWidth",value:function(e){var t=this;this.state.width!==e&&this.setState({width:e},(function(){t.setmergeStyle()}))}},{key:"setmergeStyle",value:function(){var e=this.props.styleChange,t=Object(U.a)(this.state.width);if(this.isPad()&&this.isPadHorizonta()&&(t="large"),!P()(e)){var n=Object(se.i)(e,t);this.state.mergeStyle&&C()(this.state.mergeStyle,n)||this.setState({mergeStyle:n})}}},{key:"handlershopInfo",value:function(){var e=this,t=this.props.carrierCode;Object(ve.g)(t).then((function(t){if(t){var n=t.data||{};if(n.shopBaseInfoVo){var r=n.shopBaseInfoVo.shopName||"",o=n.shopBaseInfoVo.shopAvatar||"",i=n.shopBaseInfoVo.followerCount||-1,a=n.shopBaseInfoVo.consignment||1,l=n.shopDSRVo&&n.shopDSRVo.starRanking>=0?n.shopDSRVo.starRanking:-1,s="";if(i>=1e4)s=x()(i/1e4,2).toFixed(2)+"万";else s=i+"";e.setState({shopName:r,shopAvatar:o,followerCount:i,followerCountShow:s,consignment:a,starRanking:l,isShow:!0})}else e.setState({isShow:!1})}}))}},{key:"componentDidMount",value:function(){this.isFollowShop(),this._isLogin(),this.handlershopInfo()}},{key:"goShopInfo",value:function(){this.props.isShopInfo||(this.props.clickItem(),(0,this.props.navigation.navigate)("ShopInfo",{configInfo:this.props.configInfo,pageId:this.props.pageId,pageType:this.props.pageType,carrierCode:this.props.carrierCode||""}))}},{key:"_renderStarSvg",value:function(e){for(var t=[],n=this.state.starRanking,r=0;r<5;r++){var o=this.isShowHalfStar(n,r);t.push(L.a.createElement(re.a,{normalCol:r<n?e.C35.color:e.C38.color,opacity:r<n?1:.1,iconName:o?"star_half":"ic_star",isDefault:o,width:16,height:16,key:r}))}return t}},{key:"closeModal",value:function(){if("web"===D.a.OS||Object(se.F)()){document.documentElement.style.overflowY="scroll";var e=document.getElementById(this.state.modalId);P()(e)||document.body.removeChild(e)}this.handleCloseModal()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isFollow,r=t.shopName,o=t.shopAvatar,i=t.starRanking,a=t.followerCount,l=t.consignment,s=t.followerCountShow,c=t.modalId,u=t.showUnfollow,d=ge.a.isFollow;return"large"!==Object(U.a)(this.state.width)&&this.state.isShow?L.a.createElement(V.b,{themeStyles:te},(function(t,p,f){var h,g;return"collectFollow"===d&&e.handleFollowData(),L.a.createElement(W.a,{style:t.container,ref:function(t){e.receiveRef=t,t&&e.itemlist.push(t)}},L.a.createElement(A.a,{style:{flexDirection:"row",width:"80%"},onPress:function(){e.goShopInfo()}},L.a.createElement(W.a,{style:t.imageWrap},L.a.createElement(ne.a,{imgUri:o,imgStyle:t.shopImage})),L.a.createElement(W.a,{style:t.inforamtionWrap},L.a.createElement(W.a,{style:t.shopWrap},L.a.createElement(B.a,{style:t.shopName,numberOfLines:1,ellipsizeMode:"tail"},r),!e.props.isShopInfo&&L.a.createElement(W.a,null,L.a.createElement(re.a,{iconName:"ic_seedetail",normalCol:p.C24.color,opacity:p.C24.opacity,width:13,height:13})),0===l?L.a.createElement(K.a,{start:{x:0,y:0},end:{x:1,y:0},colors:[null==p||null===(h=p.C40)||void 0===h?void 0:h.color[0],null==p||null===(g=p.C40)||void 0===g?void 0:g.color[1]],style:t.shopTag},L.a.createElement(W.a,null,L.a.createElement(B.a,{style:t.TagText},"自营"))):L.a.createElement(L.a.Fragment,null)),L.a.createElement(W.a,{style:t.starWrap},i>-1&&e._renderStarSvg(p),a>0?L.a.createElement(W.a,{style:t.attentionsNum},L.a.createElement(B.a,{style:t.attentionsNumText},s,"人关注")):L.a.createElement(L.a.Fragment,null)))),L.a.createElement(W.a,{style:t.attentionsWrap},n?L.a.createElement(A.a,{style:t.attentionsBtnY,onPress:function(){e.setState({showUnfollow:!0})}},L.a.createElement(B.a,{style:t.attentionsBtnYText},Object(G.b)("followed"))):L.a.createElement(A.a,{style:t.attentionsBtnN,onPress:function(){e.doFollowShop(1)}},L.a.createElement(B.a,{style:t.attentionsBtnNText},Object(G.b)("not_follow"))),L.a.createElement(ye.a,{modalId:c,modalVisible:u,modalInnerStyle:t.modalInnerStyle,title:L.a.createElement(B.a,{style:t.modalTitle},Object(G.b)("tips")),content:L.a.createElement(B.a,{style:t.modalContent},Object(G.b)("unfollowTips")),onCancel:e.closeModal,buttonLine:!1,buttonList:[{onPress:function(){e.doFollowShop(0),e.closeModal()},text:Object(G.b)("unfollow"),style:t.modalLeftBtn},{onPress:function(){e.closeModal()},text:Object(G.b)("thinkTwice"),style:t.modalRightBtn}]})))})):null}}]),r}(L.a.PureComponent))||pe);t.a=Object(Y.a)(Object(he.a)(fe)(Object(ue.a)(Se)))},function(e,t,n){"use strict";var r=n(5),o=n.n(r),i=n(6),a=n.n(i),l=n(2),s=n.n(l),c=n(8),u=n.n(c),d=n(7),p=n.n(d),f=n(4),h=n.n(f),g=n(1),m=n.n(g),y=n(0),v=n.n(y),b=n(37),w=n(54),S=n(43),C=n(152),O=n(126),P=n(157),T=n(3),x=n(23),I=n(57).a.create({page:{position:"absolute",left:0,top:0,height:w.a.get("window").height,width:w.a.get("window").width,zIndex:999},maskWeb:{height:w.a.get("window").height,width:w.a.get("window").width,backgroundColor:"#000",opacity:.3,position:"web"===b.a.OS?"fixed":"absolute",top:0,left:0,zIndex:1e3},maskWap:{height:w.a.get("window").height,width:w.a.get("window").width,backgroundColor:"#000",opacity:.3,position:"web"===b.a.OS?"fixed":"absolute",top:0,left:0,zIndex:1001},popup:{position:"web"===b.a.OS?"fixed":"absolute",top:w.a.get("window").height/2-150,left:w.a.get("window").width/2-230,zIndex:1002},popupWap:{position:"web"===b.a.OS?"fixed":"absolute",top:w.a.get("window").height/2-150,left:w.a.get("window").width/2-160,zIndex:1002},wholeWeb:{padding:24,backgroundColor:"#fff",height:299,width:460,zIndex:1003},contWeb:{},wholeWap:{padding:20,backgroundColor:"#fff",width:320,zIndex:1004},wholeWeb1:{width:460,height:180,backgroundColor:"#fff",zIndex:1005},serviceWeb1:{width:410,height:72,color:"#666",fontSize:12,textAlign:"center",zIndex:1006},checkwrapWeb:{top:16,position:"relative",zIndex:1007},articalWap2:{paddingTop:85,width:288,height:194,zIndex:1008},articalWap3:{paddingTop:104,width:288,height:194,zIndex:1009},articalWap4:{paddingTop:85,width:288,height:194,zIndex:1010},checkwrapWap:{width:288,height:31,top:-4,position:"relative",zIndex:1011},checkBox:{position:"absolute",top:3,left:26,width:400,height:18,color:"#666",fontSize:12,zIndex:1012},checkBoxWap:{color:"#333",fontSize:12,position:"absolute",top:-4,left:26,width:260,height:28,zIndex:1013},service:{borderWidth:1,borderColor:"#cecece",width:458,height:215,backgroundColor:"#fff",zIndex:1014},serviceTitle:{textAlign:"center",fontSize:28,color:"#444",paddingBottom:25,height:27,width:410,zIndex:1015},serviceTitleTxt:{fontSize:18,color:"#444"},serviceTitleTxtWap:{fontSize:17,lineHeight:56,color:"#191919",fontWeight:"600",zIndex:1016},serviceCont:{width:410,paddingTop:25,paddingBottom:16,color:"#666",zIndex:1017},serviceCont1:{marginTop:40,width:460,height:180,paddingTop:25,paddingBottom:16,backgroundColor:"#fff",zIndex:1018},nodoneTxtWeb:{color:"#666",fontSize:18,textAlign:"center",zIndex:1019},nodoneTxtWap:{color:"#333",fontSize:13,textAlign:"center",zIndex:1020,paddingTop:20},serviceContWap:{left:-20,width:328,height:107,zIndex:1021},serviceContWap1:{marginTop:50,width:328,height:107,zIndex:1022,backgroundColor:"#fff"},serviceContTxt:{color:"#666",fontSize:14,zIndex:1023},serviceContTxtWap:{marginLeft:20,width:288,color:"#333",fontSize:13,zIndex:1024},click:{},check:{width:24,height:24},cancelWeb:{borderWidth:1,borderRadius:2,borderStyle:"solid",borderColor:"#ddd",margin:5,minWidth:170,height:44,lineHeight:44,fontSize:18,color:"#3a3a3a",textAlign:"center",zIndex:1025},cancelWebTxt:{display:"flex",justifyContent:"center",top:25,width:412,flexDirection:"row",zIndex:1026},agreeWeb:{borderRadius:2,margin:5,minWidth:170,height:44,lineHeight:44,backgroundColor:"#ca141d",fontSize:18,color:"#fff",textAlign:"center",zIndex:1027},agreeWebTxt:{},serviceWap:{width:328,height:196,backgroundColor:"#fff",borderRadius:10,zIndex:1028},serviceTitleWap:{fontSize:14,width:288,height:56},buttonWap:{display:"flex",justifyContent:"center",top:14,width:288,height:24,flexDirection:"row",zIndex:1029},buttonWap1:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row",height:55,zIndex:1030},cancelWap:{width:134,height:24,paddingLeft:15,paddingRight:15,textAlign:"center",color:"#808080",zIndex:1031},agreeWap:{width:134,height:25,paddingLeft:15,paddingRight:15,textAlign:"center",color:"#267eff",zIndex:1032},show:{zIndex:1033},hide:{display:"none"},agreement:{color:"#007dff",fontSize:14}}),k=n(51),E=n(48),j=n(103);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var L=function(e){u()(n,e);var t=R(n);function n(e){var r;return o()(this,n),r=t.call(this,e),m()(s()(r),"_isWeb",(function(e){return E.a.isWap(e)})),m()(s()(r),"logout",(function(){"web"===b.a.OS&&Object(x.L)().then((function(e){e&&e.redirectUrl&&(window.location.href=r.decode(e.redirectUrl))}))})),r.state={isShow:!1,isWeb:!0,box:null,checked:!1,isExit:!1,case1:!1,case2:!1,case3:!1,case4:!1,uid:""},r}return a()(n,[{key:"componentDidMount",value:function(){this.setState({isWeb:!this._isWeb(w.a.get("window").width)});this.props.info;return 1,this.setState({isShow:!0}),this.setState({case1:!0})}},{key:"privacy",value:function(){Object(T.A)("https://consumer.huawei.com/minisite/cloudservice/vmall/privacy-statement.htm?country=CN&language=zh_CN")}},{key:"service",value:function(){Object(T.A)("https://consumer.huawei.com/minisite/cloudservice/vmall/terms.htm?country=CN&language=zh_CN")}},{key:"detial",value:function(){Object(T.A)("https://www.vmall.com/")}},{key:"checkBox",value:function(){this.setState({checked:!this.state.checked})}},{key:"cancel",value:function(){this.setState({isExit:!0})}},{key:"exit",value:function(){this.setState({isShow:!1}),j.a.remove(""),this.logout()}},{key:"decode",value:function(e){if("web"===b.a.OS){if("string"==typeof e&&e.indexOf("&")>-1){var t=document.createElement("textarea");t.innerHTML=e,e=t.value}return e}}},{key:"cancel1",value:function(){this.setState({isExit:!1})}},{key:"agree",value:function(){var e=this.props,t=e.setSaleInfoCfgOff,n=e.setSaleInfoCfgOn,r=e.signingResults;if(this.setState({isShow:!1}),this.state.case1)if(j.a.set("hasSigned","1",{path:"/"}),this.state.checked){n();r(!0)}else{t();r(!1)}else this.setState({isShow:!1})}},{key:"render",value:function(){var e=this;return v.a.createElement(S.a,{style:this.state.isShow?I.page:I.hide},v.a.createElement(S.a,{style:this.state.isWeb?I.maskWeb:I.maskWap}),v.a.createElement(S.a,{style:this.state.isWeb?I.popup:I.popupWap},v.a.createElement(S.a,{style:this.state.isExit?I.hide:null},v.a.createElement(S.a,{style:this.state.isWeb?I.wholeWeb:I.wholeWap},v.a.createElement(S.a,{style:this.state.isExit?I.hide:null},v.a.createElement(S.a,{style:this.state.case1?I.show:I.hide},v.a.createElement(S.a,null,v.a.createElement(S.a,{style:this.state.isWeb?I.serviceTitle:I.serviceTitleWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceTitleTxt:I.serviceTitleTxtWap},"华为商城服务")),v.a.createElement(S.a,{style:this.state.isWeb?I.serviceCont:I.serviceContWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceContTxt:I.serviceContTxtWap},"欢迎您使用华为商城，为了给您提供更好的服务，本网站在使用时需要获取网络、帐号及相关使用信息。我们将对您的个人数据予以充分保护。点击“同意”，表示您同意上述内容及",v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.service()}}," ","华为商城服务协议、"),v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.privacy()}},"关于华为商城与隐私的声明。"))),v.a.createElement(S.a,{style:this.state.isWeb?I.checkwrapWeb:I.checkwrapWap},v.a.createElement(O.a,{onPress:function(){e.checkBox()}},v.a.createElement(P.a,{source:this.state.checked?{uri:k.b}:{uri:k.a},style:I.check})),v.a.createElement(C.a,{style:this.state.isWeb?I.checkBox:I.checkBoxWap},"接收短信、邮件、系统通知发送的活动、优惠、中奖等消息。",v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.detial()}},"了解详情"))))),v.a.createElement(S.a,{style:this.state.case2?I.show:I.hide},v.a.createElement(S.a,{style:this.state.isWeb?null:I.articalWap2},v.a.createElement(S.a,{style:this.state.isWeb?I.serviceTitle:I.serviceTitleWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceTitleTxt:I.serviceTitleTxtWap},"变更通知")),v.a.createElement(S.a,{style:this.state.isWeb?I.serviceCont:I.serviceContWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceContTxt:I.serviceContTxtWap},"为了给您提供更好的服务，我们更新了服务协议和隐私声明。详情内容请参见最新的",v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.service()}}," ","华为商城服务协议、"),v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.privacy()}},"关于华为商城与隐私的声明。"))))),v.a.createElement(S.a,{style:this.state.case3?I.show:I.hide},v.a.createElement(S.a,{style:this.state.isWeb?null:I.articalWap3},v.a.createElement(S.a,{style:this.state.isWeb?I.serviceTitle:I.serviceTitleWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceTitleTxt:I.serviceTitleTxtWap},"服务协议变更通知")),v.a.createElement(S.a,{style:this.state.isWeb?I.serviceCont:I.serviceContWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceContTxt:I.serviceContTxtWap},"为了给您提供更好的服务，我们更新了服务协议。详情内容请参见最新的",v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.service()}}," ","华为商城服务协议。"))))),v.a.createElement(S.a,{style:this.state.case4?I.show:I.hide},v.a.createElement(S.a,{style:this.state.isWeb?null:I.articalWap4},v.a.createElement(S.a,{style:this.state.isWeb?I.serviceTitle:I.serviceTitleWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceTitleTxt:I.serviceTitleTxtWap},"隐私声明变更通知")),v.a.createElement(S.a,{style:this.state.isWeb?I.serviceCont:I.serviceContWap},v.a.createElement(C.a,{style:this.state.isWeb?I.serviceContTxt:I.serviceContTxtWap},"欢迎您使用华为商城，为了给您提供更好的服务，我们更新了隐私声明。详情内容请参见最新的",v.a.createElement(C.a,{style:I.agreement,onPress:function(){e.privacy()}},"关于华为商城与隐私的声明。"))))),v.a.createElement(S.a,{style:this.state.isExit?I.hide:null},v.a.createElement(S.a,{style:this.state.isWeb?I.cancelWebTxt:I.buttonWap},v.a.createElement(C.a,{style:this.state.isWeb?I.cancelWeb:I.cancelWap,onPress:function(){e.cancel()}},"取消"),v.a.createElement(C.a,{style:this.state.isWeb?I.agreeWeb:I.agreeWap,onPress:function(){e.agree()}},"同意")))))),v.a.createElement(S.a,{style:this.state.isExit?null:I.hide},v.a.createElement(S.a,{style:this.state.isWeb?I.serviceCont1:I.serviceContWap1},v.a.createElement(S.a,{style:{height:48}},v.a.createElement(C.a,{style:this.state.isWeb?I.nodoneTxtWeb:I.nodoneTxtWap},"尚未同意服务条款，是否退出帐号？")),v.a.createElement(S.a,{style:this.state.Web?I.cancelWebTxt:I.buttonWap1},v.a.createElement(C.a,{style:this.state.isWeb?I.cancelWeb:I.cancelWap,onPress:function(){e.cancel1()}},"取消"),v.a.createElement(C.a,{style:this.state.isWeb?I.agreeWeb:I.agreeWap,onPress:function(){e.exit()}},"退出"))))))}}]),n}(v.a.Component);t.a=L},,,,,,,,function(e,t){function n(e,t,n){var r,o,i,a,l;function s(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(s,t-c):(r=null,n||(l=e.apply(i,o),i=o=null))}null==t&&(t=100);var c=function(){i=this,o=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(s,t)),c&&(l=e.apply(i,o),i=o=null),l};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(l=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}n.debounce=n,e.exports=n},function(e,t){function n(e){var t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=s.hex6.exec(e))?parseInt(t[1]+"ff",16)>>>0:f.hasOwnProperty(e)?f[e]:(t=s.rgb.exec(e))?(c(t[1])<<24|c(t[2])<<16|c(t[3])<<8|255)>>>0:(t=s.rgba.exec(e))?(c(t[1])<<24|c(t[2])<<16|c(t[3])<<8|d(t[4]))>>>0:(t=s.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=s.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=s.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=s.hsl.exec(e))?(255|o(u(t[1]),p(t[2]),p(t[3])))>>>0:(t=s.hsla.exec(e))?(o(u(t[1]),p(t[2]),p(t[3]))|d(t[4]))>>>0:null}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function o(e,t,n){var o=n<.5?n*(1+t):n+t-n*t,i=2*n-o,a=r(i,o,e+1/3),l=r(i,o,e),s=r(i,o,e-1/3);return Math.round(255*a)<<24|Math.round(255*l)<<16|Math.round(255*s)<<8}var i="[-+]?\\d*\\.?\\d+";function a(e){return Array.prototype.slice.call(e,0)}function l(){return"\\(\\s*("+a(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var s={rgb:new RegExp("rgb"+l(i,i,i)),rgba:new RegExp("rgba"+l(i,i,i,i)),hsl:new RegExp("hsl"+l(i,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),hsla:new RegExp("hsla"+l(i,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function c(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function u(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function p(e){var t=parseFloat(e,10);return t<0?0:t>100?1:t/100}var f={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};n.rgba=function(e){return{r:Math.round((4278190080&e)>>>24),g:Math.round((16711680&e)>>>16),b:Math.round((65280&e)>>>8),a:((255&e)>>>0)/255}},e.exports=n},function(e,t,n){"use strict";var r=n(412);e.exports=r},,function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(35)),i=r(n(15)),a=r(n(5)),l=r(n(6)),s=r(n(2)),c=r(n(8)),u=r(n(7)),d=r(n(4)),p=C(n(0)),f=n(9),h=n(76),g=n(137),m=C(n(622)),y=r(n(623)),v=C(n(453)),b=r(n(454)),w=r(n(414));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=e.isFocused,n=e.children,r=e.style,o=(0,h.useTheme)().colors;return p.createElement(f.View,{accessibilityElementsHidden:!t,importantForAccessibility:t?"auto":"no-hide-descendants",style:[I.content,{backgroundColor:o.background},r]},n)}var x=function(e){(0,c.default)(n,e);var t=O(n);function n(e){var r;(0,a.default)(this,n),r=t.call(this,e),P((0,s.default)(r),"renderTabBar",(function(){var e=r.props,t=e.tabBar,n=void 0===t?function(e){return p.createElement(v.default,e)}:t,o=e.tabBarOptions,a=e.state,l=e.navigation,s=e.descriptors;return n((0,i.default)({},o,{state:a,descriptors:s,navigation:l}))})),P((0,s.default)(r),"handleTabBarHeightChange",(function(e){r.setState((function(t){return t.tabBarHeight!==e?{tabBarHeight:e}:null}))}));var o=r.props,l=o.state,c=o.tabBarOptions,u=f.Dimensions.get("window"),d=(0,v.getTabBarHeight)({state:l,dimensions:u,layout:{width:u.width,height:0},insets:m.initialSafeAreaInsets,adaptive:null==c?void 0:c.adaptive,labelPosition:null==c?void 0:c.labelPosition,tabStyle:null==c?void 0:c.tabStyle,style:null==c?void 0:c.style});return r.state={loaded:[l.routes[l.index].key],tabBarHeight:d},r}return(0,l.default)(n,[{key:"render",value:function(){var e=this.props,t=e.state,n=e.descriptors,r=e.navigation,o=e.lazy,i=e.detachInactiveScreens,a=void 0===i||i,l=e.sceneContainerStyle,s=t.routes,c=this.state,u=c.loaded,d=c.tabBarHeight,v=(null===g.screensEnabled||void 0===g.screensEnabled?void 0:(0,g.screensEnabled)())&&a;return p.createElement(h.NavigationHelpersContext.Provider,{value:r},p.createElement(m.default,null,p.createElement(g.ScreenContainer,{enabled:v,style:I.container},s.map((function(e,r){var i=n[e.key],a=i.options.unmountOnBlur,s=t.index===r;return a&&!s?null:!o||u.includes(e.key)||s?p.createElement(y.default,{key:e.key,style:f.StyleSheet.absoluteFill,isVisible:s,enabled:v},p.createElement(T,{isFocused:s,style:l},p.createElement(w.default.Provider,{value:d},i.render()))):null}))),p.createElement(b.default.Provider,{value:this.handleTabBarHeightChange},this.renderTabBar())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.state.routes[e.state.index].key;return{loaded:t.loaded.includes(n)?t.loaded:[].concat((0,o.default)(t.loaded),[n])}}}]),n}(p.Component);t.default=x,P(x,"defaultProps",{lazy:!0});var I=f.StyleSheet.create({container:{flex:1,overflow:"hidden"},content:{flex:1}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,r,a,g=e.state,S=e.navigation,C=e.descriptors,O=e.activeBackgroundColor,P=e.activeTintColor,T=e.adaptive,x=e.allowFontScaling,I=e.inactiveBackgroundColor,k=e.inactiveTintColor,E=e.keyboardHidesTabBar,j=void 0!==E&&E,R=e.labelPosition,L=e.labelStyle,_=e.iconStyle,D=e.safeAreaInsets,N=e.showLabel,W=e.style,A=e.tabStyle,B=(0,c.useTheme)().colors,M=(0,c.useLinkBuilder)(),F=g.routes[g.index],H=C[F.key].options,z=(0,f.default)(),U=(0,h.default)(),V=l.default.useContext(p.default),G=!1!==H.tabBarVisible&&!(j&&U),Y=l.default.useRef(H.tabBarVisibilityAnimationConfig);l.default.useEffect((function(){Y.current=H.tabBarVisibilityAnimationConfig}));var J=l.default.useState(!G),K=(0,o.default)(J,2),q=K[0],Q=K[1],$=l.default.useState((function(){return new s.Animated.Value(G?1:0)})),X=(0,o.default)($,1)[0];l.default.useEffect((function(){var e,t,n,r,o=Y.current;G?("spring"===(null==o||null===(e=o.show)||void 0===e?void 0:e.animation)?s.Animated.spring:s.Animated.timing)(X,(0,i.default)({toValue:1,useNativeDriver:m,duration:250},null==o||null===(t=o.show)||void 0===t?void 0:t.config)).start((function(e){e.finished&&Q(!1)})):(Q(!0),("spring"===(null==o||null===(n=o.hide)||void 0===n?void 0:n.animation)?s.Animated.spring:s.Animated.timing)(X,(0,i.default)({toValue:0,useNativeDriver:m,duration:200},null==o||null===(r=o.hide)||void 0===r?void 0:r.config)).start())}),[X,G]);var Z=l.default.useState({height:0,width:z.width}),ee=(0,o.default)(Z,2),te=ee[0],ne=ee[1],re=g.routes,oe=(0,u.useSafeArea)(),ie={top:null!==(t=null==D?void 0:D.top)&&void 0!==t?t:oe.top,right:null!==(n=null==D?void 0:D.right)&&void 0!==n?n:oe.right,bottom:null!==(r=null==D?void 0:D.bottom)&&void 0!==r?r:oe.bottom,left:null!==(a=null==D?void 0:D.left)&&void 0!==a?a:oe.left},ae=v(ie),le=b({state:g,insets:ie,dimensions:z,layout:te,adaptive:T,labelPosition:R,tabStyle:A,style:W}),se=y({state:g,dimensions:z,layout:te,adaptive:T,labelPosition:R,tabStyle:A});return l.default.createElement(s.Animated.View,{style:[w.tabBar,{backgroundColor:B.card,borderTopColor:B.border},{transform:[{translateY:X.interpolate({inputRange:[0,1],outputRange:[te.height+ae+s.StyleSheet.hairlineWidth,0]})}],position:q?"absolute":null},{height:le,paddingBottom:ae,paddingHorizontal:Math.max(ie.left,ie.right)},W],pointerEvents:q?"none":"auto",onLayout:function(e){var t=e.nativeEvent.layout,n=t.height,r=t.width;null==V||V(n),ne((function(e){return n===e.height&&r===e.width?e:{height:n,width:r}}))}},l.default.createElement(s.View,{style:w.content},re.map((function(e,t){var n=t===g.index,r=C[e.key].options,o=void 0!==r.tabBarLabel?r.tabBarLabel:void 0!==r.title?r.title:e.name,a=void 0!==r.tabBarAccessibilityLabel?r.tabBarAccessibilityLabel:"string"==typeof o?"".concat(o,", tab, ").concat(t+1," of ").concat(re.length):void 0;return l.default.createElement(c.NavigationContext.Provider,{key:e.key,value:C[e.key].navigation},l.default.createElement(c.NavigationRouteContext.Provider,{value:e},l.default.createElement(d.default,{route:e,focused:n,horizontal:se,onPress:function(){var t=S.emit({type:"tabPress",target:e.key,canPreventDefault:!0});n||t.defaultPrevented||S.dispatch((0,i.default)({},c.CommonActions.navigate(e.name),{target:g.key}))},onLongPress:function(){S.emit({type:"tabLongPress",target:e.key})},accessibilityLabel:a,to:M(e.name,e.params),testID:r.tabBarTestID,allowFontScaling:x,activeTintColor:P,inactiveTintColor:k,activeBackgroundColor:O,inactiveBackgroundColor:I,button:r.tabBarButton,icon:r.tabBarIcon,badge:r.tabBarBadge,badgeStyle:r.tabBarBadgeStyle,label:o,showLabel:N,labelStyle:L,iconStyle:_,style:A})))}))))},t.getTabBarHeight=void 0;var o=r(n(55)),i=r(n(15)),a=r(n(56)),l=r(n(0)),s=n(9),c=n(76),u=n(142),d=r(n(624)),p=r(n(454)),f=r(n(627)),h=r(n(628)),g=["dimensions","insets","style"],m="web"!==s.Platform.OS,y=function(e){var t=e.state,n=e.layout,r=e.dimensions,o=e.adaptive,i=void 0===o||o,a=e.labelPosition,l=e.tabStyle;if(a)return"beside-icon"===a;if(!i)return!1;if(n.width>=768){var c=125,u=s.StyleSheet.flatten(l);return u&&("number"==typeof u.width?c=u.width:"number"==typeof u.maxWidth&&(c=u.maxWidth)),t.routes.length*c<=n.width}return r.width>r.height},v=function(e){return Math.max(e.bottom-s.Platform.select({ios:4,default:0}),0)},b=function(e){var t,n=e.dimensions,r=e.insets,o=e.style,l=(0,a.default)(e,g),c=null===(t=s.StyleSheet.flatten(o))||void 0===t?void 0:t.height;if("number"==typeof c)return c;var u=n.width>n.height,d=y((0,i.default)({dimensions:n},l)),p=v(r);return"ios"===s.Platform.OS&&!s.Platform.isPad&&u&&d?32+p:49+p};t.getTabBarHeight=b;var w=s.StyleSheet.create({tabBar:{left:0,right:0,bottom:0,borderTopWidth:s.StyleSheet.hairlineWidth,elevation:8},content:{flex:1,flexDirection:"row"}})},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return i.createElement(a.SafeAreaConsumer,null,(function(e){return e?t:i.createElement(a.SafeAreaProvider,{initialSafeAreaInsets:c},t)}))},t.initialSafeAreaInsets=void 0;var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(142),l=n(254);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=(0,o.default)({top:(0,l.getStatusBarHeight)(!0),bottom:(0,l.getBottomSpace)(),right:0,left:0},a.initialWindowSafeAreaInsets);t.initialSafeAreaInsets=c},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isVisible,n=e.children,r=e.style,u=(0,i.default)(e,c);if(null!=s.screensEnabled&&(0,s.screensEnabled)()&&"web"!==l.Platform.OS)return s.shouldUseActivityState?a.createElement(s.Screen,(0,o.default)({activityState:t?2:0,style:r},u),n):a.createElement(s.Screen,(0,o.default)({active:t?1:0,style:r},u),n);if("web"===l.Platform.OS)return a.createElement(l.View,(0,o.default)({hidden:!t,style:[{display:t?"flex":"none"},d.container,r],pointerEvents:t?"auto":"none"},u),n);return a.createElement(l.View,{style:[d.container,r],pointerEvents:t?"auto":"none"},a.createElement(l.View,{collapsable:!1,removeClippedSubviews:"ios"!==l.Platform.OS||!t,pointerEvents:t?"auto":"none",style:t?d.attached:d.detached},n))};var o=r(n(15)),i=r(n(56)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=n(137),c=["isVisible","children","style"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d=l.StyleSheet.create({container:{flex:1,overflow:"hidden"},attached:{flex:1},detached:{flex:1,top:3e4}})},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).createContext(void 0);t.default=o},,,,,,,,,,,,,,,function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return o(i(e,t),i(e.interpolate({inputRange:[0,1],outputRange:[1,0]}),n))};var r=n(9),o=r.Animated.add,i=r.Animated.multiply},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),i=r(n(56)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=n(76),c=r(n(353)),u=["initialRouteName","children","screenOptions"];function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=(0,s.createNavigatorFactory)((function(e){var t=e.initialRouteName,n=e.children,r=e.screenOptions,d=(0,i.default)(e,u),f={gestureEnabled:"ios"===l.Platform.OS,animationEnabled:"web"!==l.Platform.OS&&"windows"!==l.Platform.OS&&"macos"!==l.Platform.OS},h=(0,s.useNavigationBuilder)(s.StackRouter,{initialRouteName:t,children:n,screenOptions:"function"==typeof r?function(){return(0,o.default)({},f,r.apply(void 0,arguments))}:(0,o.default)({},f,r)}),g=h.state,m=h.descriptors,y=h.navigation;return a.useEffect((function(){var e;return null===(e=y.addListener)||void 0===e?void 0:e.call(y,"tabPress",(function(e){var t=y.isFocused();requestAnimationFrame((function(){g.index>0&&t&&!e.defaultPrevented&&y.dispatch((0,o.default)({},s.StackActions.popToTop(),{target:g.key}))}))}))}),[y,g.index,g.key]),a.createElement(c.default,p({},d,{state:g,descriptors:m,navigation:y}))}));t.default=f},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.goBack=function(){return{type:"GO_BACK"}},t.navigate=function(){if("string"==typeof(arguments.length<=0?void 0:arguments[0]))return{type:"NAVIGATE",payload:{name:arguments.length<=0?void 0:arguments[0],params:arguments.length<=1?void 0:arguments[1]}};var e=(arguments.length<=0?void 0:arguments[0])||{};if(!e.hasOwnProperty("key")&&!e.hasOwnProperty("name"))throw new Error("You need to specify name or key when calling navigate with an object as the argument. See https://reactnavigation.org/docs/5.x/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:e}},t.reset=function(e){return{type:"RESET",payload:e}},t.setParams=function(e){return{type:"SET_PARAMS",payload:{params:e}}}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.StackActions=void 0,t.default=function(e){var t=(0,i.default)({},l.default,{type:"stack",getInitialState:function(t){var n=t.routeNames,r=t.routeParamList,o=void 0!==e.initialRouteName&&n.includes(e.initialRouteName)?e.initialRouteName:n[0];return{stale:!1,type:"stack",key:"stack-".concat((0,a.nanoid)()),index:0,routeNames:n,routes:[{key:"".concat(o,"-").concat((0,a.nanoid)()),name:o,params:r[o]}]}},getRehydratedState:function(t,n){var r=n.routeNames,o=n.routeParamList,l=t;if(!1===l.stale)return l;var s=l.routes.filter((function(e){return r.includes(e.name)})).map((function(e){return(0,i.default)({},e,{key:e.key||"".concat(e.name,"-").concat((0,a.nanoid)()),params:void 0!==o[e.name]?(0,i.default)({},o[e.name],e.params):e.params})}));if(0===s.length){var c=void 0!==e.initialRouteName?e.initialRouteName:r[0];s.push({key:"".concat(c,"-").concat((0,a.nanoid)()),name:c,params:o[c]})}return{stale:!1,type:"stack",key:"stack-".concat((0,a.nanoid)()),index:s.length-1,routeNames:r,routes:s}},getStateForRouteNamesChange:function(t,n){var r=n.routeNames,o=n.routeParamList,l=t.routes.filter((function(e){return r.includes(e.name)}));if(0===l.length){var s=void 0!==e.initialRouteName&&r.includes(e.initialRouteName)?e.initialRouteName:r[0];l.push({key:"".concat(s,"-").concat((0,a.nanoid)()),name:s,params:o[s]})}return(0,i.default)({},t,{routeNames:r,routes:l,index:Math.min(t.index,l.length-1)})},getStateForRouteFocus:function(e,t){var n=e.routes.findIndex((function(e){return e.key===t}));return-1===n||n===e.index?e:(0,i.default)({},e,{index:n,routes:e.routes.slice(0,n+1)})},getStateForAction:function(e,n,r){var s=r.routeParamList;switch(n.type){case"REPLACE":var c=n.target===e.key&&n.source?e.routes.findIndex((function(e){return e.key===n.source})):e.index;if(-1===c)return null;var u=n.payload,d=u.name,p=u.key,f=u.params;return e.routeNames.includes(d)?(0,i.default)({},e,{routes:e.routes.map((function(e,t){return t===c?{key:void 0!==p?p:"".concat(d,"-").concat((0,a.nanoid)()),name:d,params:void 0!==s[d]?(0,i.default)({},s[d],f):f}:e}))}):null;case"PUSH":if(e.routeNames.includes(n.payload.name)){var h,g,m=r.routeGetIdList[n.payload.name],y=null==m?void 0:m({params:n.payload.params}),v=n.payload.name&&n.payload.key?e.routes.find((function(e){return e.name===n.payload.name&&e.key===n.payload.key})):y?e.routes.find((function(e){return e.name===n.payload.name&&y===(null==m?void 0:m({params:e.params}))})):void 0;if(v)(h=e.routes.filter((function(e){return e.key!==v.key}))).push((0,i.default)({},v,{params:void 0!==n.payload.params?(0,i.default)({},v.params,n.payload.params):v.params}));else h=[].concat((0,o.default)(e.routes),[{key:null!==(g=n.payload.key)&&void 0!==g?g:"".concat(n.payload.name,"-").concat((0,a.nanoid)()),name:n.payload.name,params:void 0!==s[n.payload.name]?(0,i.default)({},s[n.payload.name],n.payload.params):n.payload.params}]);return(0,i.default)({},e,{index:h.length-1,routes:h})}return null;case"POP":var b=n.target===e.key&&n.source?e.routes.findIndex((function(e){return e.key===n.source})):e.index;if(b>0){var w=Math.max(b-n.payload.count+1,1),S=e.routes.slice(0,w).concat(e.routes.slice(b+1));return(0,i.default)({},e,{index:S.length-1,routes:S})}return null;case"POP_TO_TOP":return t.getStateForAction(e,{type:"POP",payload:{count:e.routes.length-1}},r);case"NAVIGATE":if(void 0!==n.payload.name&&!e.routeNames.includes(n.payload.name))return null;if(n.payload.key||n.payload.name){var C=-1,O=void 0===n.payload.key&&void 0!==n.payload.name?r.routeGetIdList[n.payload.name]:void 0,P=null==O?void 0:O({params:n.payload.params});if(P)C=e.routes.findIndex((function(e){return e.name===n.payload.name&&P===(null==O?void 0:O({params:e.params}))}));else if(e.routes[e.index].name===n.payload.name&&void 0===n.payload.key||e.routes[e.index].key===n.payload.key)C=e.index;else for(var T=e.routes.length-1;T>=0;T--)if(e.routes[T].name===n.payload.name&&void 0===n.payload.key||e.routes[T].key===n.payload.key){C=T;break}if(-1===C&&n.payload.key&&void 0===n.payload.name)return null;if(-1===C&&void 0!==n.payload.name){var x,I=[].concat((0,o.default)(e.routes),[{key:null!==(x=n.payload.key)&&void 0!==x?x:"".concat(n.payload.name,"-").concat((0,a.nanoid)()),name:n.payload.name,params:void 0!==s[n.payload.name]?(0,i.default)({},s[n.payload.name],n.payload.params):n.payload.params}]);return(0,i.default)({},e,{routes:I,index:I.length-1})}var k,E=e.routes[C];return k=!1===n.payload.merge?void 0!==s[E.name]?(0,i.default)({},s[E.name],n.payload.params):n.payload.params:n.payload.params?(0,i.default)({},E.params,n.payload.params):E.params,(0,i.default)({},e,{index:C,routes:[].concat((0,o.default)(e.routes.slice(0,C)),[k!==E.params?(0,i.default)({},E,{params:k}):e.routes[C]])})}return null;case"GO_BACK":return e.index>0?t.getStateForAction(e,{type:"POP",payload:{count:1},target:n.target,source:n.source},r):null;default:return l.default.getStateForAction(e,n)}},actionCreators:s});return t};var o=r(n(35)),i=r(n(15)),a=n(166),l=r(n(272)),s={replace:function(e,t){return{type:"REPLACE",payload:{name:e,params:t}}},push:function(e,t){return{type:"PUSH",payload:{name:e,params:t}}},pop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"POP",payload:{count:e}}},popToTop:function(){return{type:"POP_TO_TOP"}}};t.StackActions=s},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.DrawerActions=void 0,t.default=function(e){var t=e.openByDefault,n=(0,o.default)(e,c),r=(0,s.default)(n);return(0,a.default)({},r,{type:"drawer",getInitialState:function(e){var n=e.routeNames,o=e.routeParamList,i=e.routeGetIdList,s=r.getInitialState({routeNames:n,routeParamList:o,routeGetIdList:i});return t&&(s=f(s)),(0,a.default)({},s,{stale:!1,type:"drawer",key:"drawer-".concat((0,l.nanoid)())})},getRehydratedState:function(e,n){var o=n.routeNames,i=n.routeParamList,s=n.routeGetIdList;if(!1===e.stale)return e;var c=r.getRehydratedState(e,{routeNames:o,routeParamList:i,routeGetIdList:s});return(e.history?p(e):t)&&(c=f(c)),(0,a.default)({},c,{type:"drawer",key:"drawer-".concat((0,l.nanoid)())})},getStateForRouteFocus:function(e,n){var o=r.getStateForRouteFocus(e,n);return t?f(o):h(o)},getStateForAction:function(e,n,o){switch(n.type){case"OPEN_DRAWER":return f(e);case"CLOSE_DRAWER":return h(e);case"TOGGLE_DRAWER":return p(e)?h(e):f(e);case"GO_BACK":if(t){if(!p(e))return f(e)}else if(p(e))return h(e);return r.getStateForAction(e,n,o);default:return r.getStateForAction(e,n,o)}},actionCreators:d})};var o=r(n(56)),i=r(n(35)),a=r(n(15)),l=n(166),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(332)),c=["openByDefault"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d=(0,a.default)({},s.TabActions,{openDrawer:function(){return{type:"OPEN_DRAWER"}},closeDrawer:function(){return{type:"CLOSE_DRAWER"}},toggleDrawer:function(){return{type:"TOGGLE_DRAWER"}}});t.DrawerActions=d;var p=function(e){var t;return Boolean(null===(t=e.history)||void 0===t?void 0:t.some((function(e){return"drawer"===e.type})))},f=function(e){return p(e)?e:(0,a.default)({},e,{history:[].concat((0,i.default)(e.history),[{type:"drawer"}])})},h=function(e){return p(e)?(0,a.default)({},e,{history:e.history.filter((function(e){return"drawer"!==e.type}))}):e}},function(e,t){},function(e,t,n){(function(e){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(55)),i=r(n(15)),a=r(n(56)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),s=n(180),c=r(n(273)),u=r(n(333)),d=r(n(132)),p=r(n(225)),f=r(n(146)),h=r(n(167)),g=n(334),m=r(n(335)),y=r(n(336)),v=r(n(337)),b=r(n(338)),w=r(n(480)),S=(r(n(481)),["key","routeNames"]);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}var O="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/5.x/navigating-without-navigation-prop#handling-initialization for more details.";try{Object.defineProperty(e,"REACT_NAVIGATION_REDUX_DEVTOOLS_EXTENSION_INTEGRATION_ENABLED",{set:function(e){}})}catch(e){}var P=l.forwardRef((function(e,t){var n=e.initialState,r=e.onStateChange,C=e.onUnhandledAction,P=e.independent,T=e.children;if(!l.useContext(p.default).isDefault&&!P)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, pass 'independent={true}' explicitely. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");var x=(0,w.default)((function(){return function e(t){if(void 0!==t){t.key,t.routeNames;var n=(0,a.default)(t,S);return(0,i.default)({},n,{stale:!0,routes:t.routes.map((function(t){return void 0===t.state?t:(0,i.default)({},t,{state:e(t.state)})}))})}}(null==n?void 0:n)})),I=(0,o.default)(x,5),k=I[0],E=I[1],j=I[2],R=I[3],L=I[4],_=l.useRef(!0),D=l.useRef(),N=l.useCallback((function(){return D.current}),[]),W=l.useCallback((function(e){D.current=e}),[]),A=(0,m.default)(),B=A.listeners,M=A.addListener,F=(0,y.default)(),H=F.keyedListeners,z=F.addKeyedListener,U=function(e){if(null==B.focus[0])throw new Error(O);B.focus[0]((function(t){return t.dispatch(e)}))},V=function(){if(null==B.focus[0])return!1;var e=B.focus[0]((function(e){return e.canGoBack()})),t=e.result;return!!e.handled&&t},G=l.useCallback((function(e){var t,n,r,o=null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null===(n=(r=H.getState).root)||void 0===n?void 0:n.call(r).key;if(null==o)throw new Error(O);B.focus[0]((function(t){return t.dispatch((0,i.default)({},s.CommonActions.reset(e),{target:o}))}))}),[H.getState,B.focus]),Y=l.useCallback((function(){var e,t;return null===(e=(t=H.getState).root)||void 0===e?void 0:e.call(t)}),[H.getState]),J=l.useCallback((function(){var e=Y();if(void 0!==e){for(;void 0!==e.routes[e.index].state;)e=e.routes[e.index].state;return e.routes[e.index]}}),[Y]),K=(0,b.default)(),q=(0,v.default)({}),Q=q.addOptionsGetter,$=q.getCurrentOptions;l.useImperativeHandle(t,(function(){return(0,i.default)({},Object.keys(s.CommonActions).reduce((function(e,t){return e[t]=function(){return U(s.CommonActions[t].apply(s.CommonActions,arguments))},e}),{}),K.create("root"),{resetRoot:G,dispatch:U,canGoBack:V,getRootState:Y,getState:function(){return k},getParent:function(){},dangerouslyGetState:function(){return k},dangerouslyGetParent:function(){},getCurrentRoute:J,getCurrentOptions:$})}));var X=l.useCallback((function(e,t){K.emit({type:"__unsafe_action__",data:{action:e,noop:t}})}),[K]),Z=l.useRef(),ee=l.useCallback((function(e){Z.current!==e&&(Z.current=e,K.emit({type:"options",data:{options:e}}))}),[K]),te=l.useMemo((function(){return{addListener:M,addKeyedListener:z,onDispatchAction:X,onOptionsChange:ee}}),[M,z,X,ee]),ne=l.useMemo((function(){return{scheduleUpdate:R,flushUpdates:L}}),[R,L]),re=l.useRef(!0),oe=l.useCallback((function(){return re.current}),[]),ie=l.useMemo((function(){return{state:k,getState:E,setState:j,getKey:N,setKey:W,getIsInitial:oe,addOptionsGetter:Q}}),[k,E,j,N,W,oe,Q]),ae=l.useRef(r);l.useEffect((function(){re.current=!1,ae.current=r})),l.useEffect((function(){K.emit({type:"state",data:{state:k}}),!_.current&&ae.current&&ae.current(Y()),_.current=!1}),[Y,K,k]);var le=l.useCallback((function(e){}),[]),se=l.createElement(g.ScheduleUpdateContext.Provider,{value:ne},l.createElement(d.default.Provider,{value:te},l.createElement(p.default.Provider,{value:ie},l.createElement(u.default.Provider,{value:null!=C?C:le},l.createElement(c.default,null,T)))));return P&&(se=l.createElement(f.default.Provider,{value:void 0},l.createElement(h.default.Provider,{value:void 0},se))),se}));t.default=P}).call(this,n(111))},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i.useRef(l),n=i.useRef(!1),r=i.useRef(!0);i.useEffect((function(){return r.current=!0,function(){r.current=!1}}),[]),t.current===l&&(t.current="function"==typeof e?e():e);var a=i.useState(t.current),s=(0,o.default)(a,2),c=s[0],u=s[1],d=i.useCallback((function(){return t.current}),[]),p=i.useCallback((function(e){e!==t.current&&r.current&&(t.current=e,n.current||u(e))}),[]),f=i.useCallback((function(e){n.current=!0;try{e()}finally{n.current=!1}}),[]),h=i.useCallback((function(){r.current&&u(t.current)}),[]);c!==t.current&&u(t.current);var g=t.current;return i.useDebugValue(g),[g,d,p,f,h]};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l={}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function e(t,n,r){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t)return{serializable:!0};if("[object Object]"!==Object.prototype.toString.call(t)&&!Array.isArray(t))return{serializable:!1,location:r,reason:"function"==typeof t?"Function":String(t)};if(n.has(t))return{serializable:!1,reason:"Circular reference",location:r};if(n.add(t),Array.isArray(t))for(var i=0;i<t.length;i++){var a=e(t[i],new Set(n),[].concat((0,o.default)(r),[i]));if(!a.serializable)return a}else for(var l in t){var s=e(t[l],new Set(n),[].concat((0,o.default)(r),[l]));if(!s.serializable)return s}return{serializable:!0}}(e,new Set,[])};var o=r(n(35))},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(void 0!==arguments[0])throw new Error("Creating a navigator doesn't take an argument. Maybe you are trying to use React Navigation 4 API with React Navigation 5? See https://reactnavigation.org/docs/5.x/upgrading-from-4.x for migration guide.");return{Navigator:e,Screen:o.default}}};var o=r(n(339))},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,y.default)(),r=c.useContext(p.default),j=t.children,L=(0,l.default)(t,R),_=c.useRef(e((0,a.default)({},L,null!=r&&r.params&&null==r.params.state&&!1!==r.params.initial&&"string"==typeof r.params.screen?{initialRouteName:r.params.screen}:null))).current,D=function e(t){0;return c.Children.toArray(t).reduce((function(t,n){var r,o;if(c.isValidElement(n)){if(n.type===h.default)return t.push(n.props),t;if(n.type===c.Fragment)return t.push.apply(t,(0,s.default)(e(n.props.children))),t}throw new Error("A navigator can only contain 'Screen' components as its direct children (found ".concat(c.isValidElement(n)?"'".concat("string"==typeof n.type?n.type:null===(r=n.type)||void 0===r?void 0:r.name,"'").concat(null!==(o=n.props)&&void 0!==o&&o.name?" for the screen '".concat(n.props.name,"'"):""):"object"==typeof n?JSON.stringify(n):"'".concat(String(n),"'"),"). To render this component in the navigator, pass it in the 'component' prop to 'Screen'."))}),[])}(j),N=D.reduce((function(e,t){if(t.name in e)throw new Error("A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '".concat(t.name,"')"));return e[t.name]=t,e}),{}),W=D.map((function(e){return e.name})),A=W.reduce((function(e,t){var n,o,i,l=N[t].initialParams,s=null==(null==r||null===(n=r.params)||void 0===n?void 0:n.state)&&!1!==(null==r||null===(o=r.params)||void 0===o?void 0:o.initial)&&(null==r||null===(i=r.params)||void 0===i?void 0:i.screen)===t?r.params.params:void 0;return e[t]=void 0!==l||void 0!==s?(0,a.default)({},l,s):void 0,e}),{}),B=W.reduce((function(e,t){return(0,a.default)(e,(0,i.default)({},t,N[t].getId))}),{});if(!W.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");var M=c.useCallback((function(e){return void 0===e.type||e.type===_.type}),[_.type]),F=c.useCallback((function(e){return void 0!==e&&!1===e.stale&&M(e)}),[M]),H=c.useContext(d.default),z=H.state,U=H.getState,V=H.setState,G=H.setKey,Y=H.getKey,J=H.getIsInitial,K=c.useMemo((function(){var e,t,n;return void 0!==z&&M(z)||null!=(null==r||null===(e=r.params)||void 0===e?void 0:e.state)?[_.getRehydratedState(null!==(t=null==r||null===(n=r.params)||void 0===n?void 0:n.state)&&void 0!==t?t:z,{routeNames:W,routeParamList:A,routeGetIdList:B}),!1]:[_.getInitialState({routeNames:W,routeParamList:A,routeGetIdList:B}),!0]}),[z,_,M]),q=(0,o.default)(K,2),Q=q[0],$=q[1],X=F(z)?z:Q,Z=X;(0,E.default)(X.routeNames,W)||(Z=_.getStateForRouteNamesChange(X,{routeNames:W,routeParamList:A,routeGetIdList:B}));var ee=c.useRef(null==r?void 0:r.params);if(c.useEffect((function(){ee.current=null==r?void 0:r.params}),[null==r?void 0:r.params]),null!=r&&r.params){var te,ne=ee.current;"object"==typeof r.params.state&&null!=r.params.state&&r.params.state!==(null==ne?void 0:ne.state)?te=u.CommonActions.reset(r.params.state):"string"==typeof r.params.screen&&(!1===r.params.initial&&$||r.params!==ne)&&(te=u.CommonActions.navigate(r.params.screen,r.params.params));var re=te?_.getStateForAction(Z,te,{routeNames:W,routeParamList:A,routeGetIdList:B}):null;Z=null!==re?_.getRehydratedState(re,{routeNames:W,routeParamList:A,routeGetIdList:B}):Z}var oe=X!==Z;(0,I.default)((function(){oe&&V(Z)})),X=Z,c.useEffect((function(){return G(n),J()||V(Z),function(){setTimeout((function(){void 0!==U()&&Y()===n&&V(void 0)}),0)}}),[]);var ie=c.useRef();ie.current=Q;var ae=c.useCallback((function(){var e=U();return F(e)?e:ie.current}),[U,F]),le=(0,m.default)((function(e){var t,n,r,o=[];e.target?null!==(r=n=X.routes.find((function(t){return t.key===e.target})))&&void 0!==r&&r.name&&o.push(n.name):(n=X.routes[X.index],o.push.apply(o,(0,s.default)(Object.keys(N).filter((function(e){var t;return(null===(t=n)||void 0===t?void 0:t.name)===e})))));if(null!=n){var i=ye[n.key].navigation;(t=[]).concat.apply(t,(0,s.default)(o.map((function(t){var r=N[t].listeners,o="function"==typeof r?r({route:n,navigation:i}):r;return o?Object.keys(o).filter((function(t){return t===e.type})).map((function(e){return null==o?void 0:o[e]})):void 0})))).filter((function(e,t,n){return e&&n.lastIndexOf(e)===t})).forEach((function(t){return null==t?void 0:t(e)}))}}));(0,S.default)({state:X,emitter:le}),c.useEffect((function(){le.emit({type:"state",data:{state:X}})}),[le,X]);var se=(0,O.default)(),ce=se.listeners,ue=se.addListener,de=(0,T.default)(),pe=de.keyedListeners,fe=de.addKeyedListener,he=(0,w.default)({router:_,getState:ae,setState:V,key:null==r?void 0:r.key,actionListeners:ce.action,beforeRemoveListeners:pe.beforeRemove,routerConfigOptions:{routeNames:W,routeParamList:A,routeGetIdList:B},emitter:le}),ge=(0,C.default)({router:_,key:null==r?void 0:r.key,getState:ae,setState:V}),me=(0,b.default)({onAction:he,getState:ae,emitter:le,router:_});(0,P.default)({navigation:me,focusedListeners:ce.focus}),(0,x.default)({getState:ae,getStateListeners:pe.getState});var ye=(0,v.default)({state:X,screens:N,navigation:me,screenOptions:t.screenOptions,defaultScreenOptions:t.defaultScreenOptions,onAction:he,getState:ae,setState:V,onRouteFocus:ge,addListener:ue,addKeyedListener:fe,router:_,emitter:le});(0,k.default)({state:X,navigation:me,descriptors:ye});var ve=(0,g.default)(f.default.Provider,{value:me});return{state:X,navigation:me,descriptors:ye,NavigationContent:ve}};var o=r(n(55)),i=r(n(1)),a=r(n(15)),l=r(n(56)),s=r(n(35)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),u=(n(93),n(180)),d=r(n(225)),p=r(n(146)),f=r(n(340)),h=r(n(339)),g=r(n(484)),m=r(n(338)),y=r(n(485)),v=r(n(486)),b=r(n(490)),w=r(n(491)),S=r(n(493)),C=r(n(494)),O=r(n(335)),P=r(n(495)),T=r(n(336)),x=r(n(496)),I=r(n(334)),k=r(n(497)),E=r(n(343)),j=n(274),R=["children"];function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}j.PrivateValueStore},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=r.useRef(t);return n.current=t,r.useEffect((function(){n.current=null})),r.useRef((function(t){var o=n.current;if(null===o)throw new Error("The returned component must be rendered in the same render phase as the hook.");return r.createElement(e,i({},o,t))})).current};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=i.useState((function(){return(0,a.nanoid)()})),t=(0,o.default)(e,1)[0],n=i.useContext(l.SingleNavigatorContext);if(void 0===n)throw new Error("Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?");return i.useEffect((function(){var e=n.register,r=n.unregister;return e(t),function(){return r(t)}}),[n,t]),t};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(166),l=n(273);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.state,n=e.screens,r=e.navigation,h=e.screenOptions,m=e.defaultScreenOptions,y=e.onAction,v=e.getState,b=e.setState,w=e.addListener,S=e.addKeyedListener,C=e.onRouteFocus,O=e.router,P=e.emitter,T=l.useState({}),x=(0,a.default)(T,2),I=x[0],k=x[1],E=l.useContext(c.default),j=E.onDispatchAction,R=E.onOptionsChange,L=l.useMemo((function(){return{navigation:r,onAction:y,addListener:w,addKeyedListener:S,onRouteFocus:C,onDispatchAction:j,onOptionsChange:R}}),[r,y,w,S,C,j,R]),_=(0,u.default)({state:t,getState:v,navigation:r,setOptions:k,router:O,emitter:P});return(0,d.default)(t.routes).reduce((function(e,r,a){var u=n[r.name],d=_[r.key],y=(0,i.default)({},"object"==typeof h||null==h?h:h({route:r,navigation:d}),"object"==typeof u.options||null==u.options?u.options:u.options({route:r,navigation:d}),I[r.key]),w=(0,i.default)({},"function"==typeof m?m({route:r,navigation:d,options:y}):m,y),S=function(){return k((function(e){if(r.key in e){var t=r.key;e[t];return(0,o.default)(e,[t].map(g))}return e}))};return e[r.key]={navigation:d,render:function(){return l.createElement(c.default.Provider,{key:r.key,value:L},l.createElement(p.default.Provider,{value:d},l.createElement(f.default.Provider,{value:r},l.createElement(s.default,{navigation:d,route:r,screen:u,routeState:t.routes[a].state,getState:v,setState:b,options:w,clearOptions:S}))))},options:w},e}),{})};var o=r(n(56)),i=r(n(15)),a=r(n(55)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),s=r(n(487)),c=r(n(132)),u=r(n(489)),d=r(n(342)),p=r(n(167)),f=r(n(146));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.screen,n=e.route,r=e.navigation,u=e.routeState,d=e.getState,p=e.setState,f=e.options,h=e.clearOptions,g=i.useRef(),m=i.useCallback((function(){return g.current}),[]),y=(0,c.default)({key:n.key,options:f,navigation:r}).addOptionsGetter,v=i.useCallback((function(e){g.current=e}),[]),b=i.useCallback((function(){var e=d().routes.find((function(e){return e.key===n.key}));return e?e.state:void 0}),[d,n.key]),w=i.useCallback((function(e){var t=d();p((0,o.default)({},t,{routes:t.routes.map((function(t){return t.key===n.key?(0,o.default)({},t,{state:e}):t}))}))}),[d,n.key,p]),S=i.useRef(!0);i.useEffect((function(){S.current=!1})),i.useEffect((function(){return h}),[]);var C=i.useCallback((function(){return S.current}),[]),O=i.useMemo((function(){return{state:u,getState:b,setState:w,getKey:m,setKey:v,getIsInitial:C,addOptionsGetter:y}}),[u,b,w,m,v,C,y]),P=t.getComponent?t.getComponent():t.component;return i.createElement(a.default.Provider,{value:O},i.createElement(s.default,null,i.createElement(l.default,{name:t.name,render:P||t.children,navigation:r,route:n},void 0!==P?i.createElement(P,{navigation:r,route:n}):void 0!==t.children?t.children({navigation:r,route:n}):null)))};var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=r(n(225)),l=r(n(488)),s=r(n(273)),c=r(n(337));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},function(e,t,n){function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(0)).memo((function(e){return e.children}),(function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0,i=n;o<i.length;o++){var a=i[o];if("children"!==a&&e[a]!==t[a])return!1}return!0}));t.default=o},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.state,n=e.getState,r=e.navigation,u=e.setOptions,d=e.router,p=e.emitter,f=l.useMemo((function(){return{current:{}}}),[n,r,u,d,p]),h=(0,a.default)({},d.actionCreators,s.CommonActions);return f.current=t.routes.reduce((function(e,t){var l=f.current[t.key];if(l)e[t.key]=l;else{r.emit;var s=(0,i.default)(r,c),d=function(e){var o="function"==typeof e?e(n()):e;r.dispatch("object"==typeof o&&null!=o?(0,a.default)({source:t.key},o):o)},g=Object.keys(h).reduce((function(e,t){return e[t]=function(){return d(h[t].apply(h,arguments))},e}),{});e[t.key]=(0,a.default)({},s,g,p.create(t.key),{dispatch:d,setOptions:function(e){return u((function(n){return(0,a.default)({},n,(0,o.default)({},t.key,(0,a.default)({},n[t.key],e)))}))},isFocused:function(){var e=n();return e.routes[e.index].key===t.key&&(!r||r.isFocused())}})}return e}),{}),f.current};var o=r(n(1)),i=r(n(56)),a=r(n(15)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),s=n(180),c=["emit"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onAction,n=e.getState,r=e.emitter,c=e.router,u=i.useContext(s.default),d=i.useContext(l.default);return i.useMemo((function(){var e=function(e){var r="function"==typeof e?e(n()):e;t(r)||null==u||u(r)},i=(0,o.default)({},c.actionCreators,a.CommonActions),l=Object.keys(i).reduce((function(t,n){return t[n]=function(){return e(i[n].apply(i,arguments))},t}),{});return(0,o.default)({},d,l,{dispatch:e,emit:r.emit,isFocused:d?d.isFocused:function(){return!0},canGoBack:function(){var e=n();return null!==c.getStateForAction(e,a.CommonActions.goBack(),{routeNames:e.routeNames,routeParamList:{},routeGetIdList:{}})||(null==d?void 0:d.canGoBack())||!1},getParent:function(){return d},getState:n,dangerouslyGetParent:function(){return d},dangerouslyGetState:n})}),[r.emit,n,t,u,d,c])};var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(180),l=r(n(167)),s=r(n(333));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n(274).PrivateValueStore},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.router,n=e.getState,r=e.setState,l=e.key,s=e.actionListeners,c=e.beforeRemoveListeners,u=e.routerConfigOptions,d=e.emitter,p=o.useContext(i.default),f=p.onAction,h=p.onRouteFocus,g=p.addListener,m=p.onDispatchAction,y=o.useRef(u);o.useEffect((function(){y.current=u}));var v=o.useCallback((function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=n();if(o.has(i.key))return!1;if(o.add(i.key),"string"!=typeof e.target||e.target===i.key){var u=t.getStateForAction(i,e,y.current);if(null!==(u=null===u&&e.target===i.key?i:u)){if(m(e,i===u),i!==u){var p=(0,a.shouldPreventRemove)(d,c,i.routes,u.routes,e);if(p)return!0;r(u)}if(void 0!==h){var g=t.shouldActionChangeFocus(e);g&&void 0!==l&&h(l)}return!0}}if(void 0!==f&&f(e,o))return!0;for(var v=s.length-1;v>=0;v--){var b=s[v];if(b(e,o))return!0}return!1}),[s,c,d,n,l,f,m,h,t,r]);return(0,a.default)({getState:n,emitter:d,beforeRemoveListeners:c}),o.useEffect((function(){return null==g?void 0:g("action",v)}),[g,v]),v};var o=s(n(0)),i=r(n(132)),a=s(n(492));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getState,n=e.emitter,r=e.beforeRemoveListeners,o=a.useContext(l.default).addKeyedListener,i=a.useContext(s.default),c=null==i?void 0:i.key;a.useEffect((function(){if(c)return null==o?void 0:o("beforeRemove",c,(function(e){var o=t();return f(n,r,o.routes,[],e)}))}),[o,r,n,t,c])},t.shouldPreventRemove=void 0;var o=r(n(1)),i=r(n(15)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=r(n(132)),s=r(n(146));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=Symbol("VISITED_ROUTE_KEYS"),f=function(e,t,n,r,a){for(var l,s,c=r.map((function(e){return e.key})),d=n.filter((function(e){return!c.includes(e.key)})).reverse(),f=null!==(l=a[p])&&void 0!==l?l:new Set,h=(0,i.default)({},a,(0,o.default)({},p,f)),g=u(d);!(s=g()).done;){var m,y=s.value;if(!f.has(y.key)){if(null===(m=t[y.key])||void 0===m?void 0:m.call(t,h))return!0;if(f.add(y.key),e.emit({type:"beforeRemove",target:y.key,data:{action:h},canPreventDefault:!0}).defaultPrevented)return!0}}return!1};t.shouldPreventRemove=f},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.state,n=e.emitter,r=o.useContext(i.default),a=o.useRef(),l=t.routes[t.index].key;o.useEffect((function(){return null==r?void 0:r.addListener("focus",(function(){a.current=l,n.emit({type:"focus",target:l})}))}),[l,n,r]),o.useEffect((function(){return null==r?void 0:r.addListener("blur",(function(){a.current=void 0,n.emit({type:"blur",target:l})}))}),[l,n,r]),o.useEffect((function(){var e=a.current;a.current=l,void 0!==e||r||n.emit({type:"focus",target:l}),e===l||r&&!r.isFocused()||void 0!==e&&(n.emit({type:"blur",target:e}),n.emit({type:"focus",target:l}))}),[l,n,r])};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(167));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.router,n=e.getState,r=e.key,a=e.setState,l=o.useContext(i.default).onRouteFocus;return o.useCallback((function(e){var o=n(),i=t.getStateForRouteFocus(o,e);i!==o&&a(i),void 0!==l&&void 0!==r&&l(r)}),[n,l,t,a,r])};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(132));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.navigation,n=e.focusedListeners,r=o.useContext(i.default).addListener,a=o.useCallback((function(e){if(t.isFocused()){for(var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n);!(r=o()).done;){var i=(0,r.value)(e),a=i.handled,s=i.result;if(a)return{handled:a,result:s}}return{handled:!0,result:e(t)}}return{handled:!1,result:null}}),[n,t]);o.useEffect((function(){return null==r?void 0:r("focus",a)}),[r,a])};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(132));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getState,n=e.getStateListeners,r=i.useContext(a.default).addKeyedListener,c=i.useContext(l.default),u=c?c.key:"root",d=i.useCallback((function(){var e=t(),r=e.routes.map((function(e){var t,r=null===(t=n[e.key])||void 0===t?void 0:t.call(n);return e.state===r?e:(0,o.default)({},e,{state:r})}));return(0,s.default)(e.routes,r)?e:(0,o.default)({},e,{routes:r})}),[t,n]);i.useEffect((function(){return null==r?void 0:r("getState",u,d)}),[r,d,u])};var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=r(n(132)),l=r(n(146)),s=r(n(343));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.state,n=e.navigation,r=e.descriptors,a=o.useContext(i.default);a&&n.isFocused()&&(a.options=r[t.routes[t.index].key].options)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(341));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.default);if(void 0===e)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return e};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(146));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)();if(void 0!==arguments[1]);o.useEffect((function(){var n,r=!1,o=function(){var t=e();if(void 0===t||"function"==typeof t)return t};t.isFocused()&&(n=o(),r=!0);var i=t.addListener("focus",(function(){r||(void 0!==n&&n(),n=o(),r=!0)})),a=t.addListener("blur",(function(){void 0!==n&&n(),n=void 0,r=!1}));return function(){void 0!==n&&n(),i(),a()}}),[e,t])};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(226));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,a.default)(),t=(0,i.useState)(e.isFocused),n=(0,o.default)(t,2),r=n[0],l=n[1],s=e.isFocused();r!==s&&l(s);return i.useEffect((function(){var t=e.addListener("focus",(function(){return l(!0)})),n=e.addListener("blur",(function(){return l(!1)}));return function(){t(),n()}}),[e]),i.useDebugValue(s),s};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=r(n(226));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,a.default)(),n=i.useState((function(){return e(t.getState())})),r=(0,o.default)(n,2)[1],l=i.useRef(e);return i.useEffect((function(){l.current=e})),i.useEffect((function(){return t.addListener("state",(function(e){r(l.current(e.data.state))}))}),[t]),e(t.getState())};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=r(n(226));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r=(0,u.default)(t),s=(0,l.default)(r,2),c=s[0],d=s[1],p=[];null!=d&&d.initialRouteName&&p.push({initialRouteName:d.initialRouteName,parentScreens:[]});var f=null==d?void 0:d.screens,h=e.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");if(h=h.endsWith("/")?h:"".concat(h,"/"),void 0===f){var y=h.split("/").filter(Boolean).map((function(t,n,r){var o=decodeURIComponent(t);return n===r.length-1?{name:o,params:O(e)}:{name:o}}));return y.length?S(y,p):void 0}var b,w,P=(n=[]).concat.apply(n,(0,a.default)(Object.keys(f).map((function(e){return m(c,e,f,[],p,[])})))).sort((function(e,t){if(e.pattern===t.pattern)return t.routeNames.join(">").localeCompare(e.routeNames.join(">"));if(e.pattern.startsWith(t.pattern))return-1;if(t.pattern.startsWith(e.pattern))return 1;var n=e.pattern.split("/"),r=t.pattern.split("/"),o=n.indexOf("*"),i=r.indexOf("*");return-1===o&&-1!==i?-1:-1!==o&&-1===i?1:o===i?r.length-n.length:i-o}));if(P.reduce((function(e,t){if(e[t.pattern]){var n=e[t.pattern].routeNames,r=t.routeNames;if(!(n.length>r.length?r.every((function(e,t){return n[t]===e})):n.every((function(e,t){return r[t]===e}))))throw new Error("Found conflicting screens with the same pattern. The pattern '".concat(t.pattern,"' resolves to both '").concat(n.join(" > "),"' and '").concat(r.join(" > "),"'. Patterns must be unique and cannot resolve to more than one screen."))}return(0,i.default)(e,(0,o.default)({},t.pattern,t))}),{}),"/"===h){var T=P.find((function(e){return""===e.path&&e.routeNames.every((function(e){var t;return!(null!==(t=P.find((function(t){return t.screen===e})))&&void 0!==t&&t.path)}))}));return T?S(T.routeNames.map((function(t,n,r){return n===r.length-1?{name:t,params:O(e,T.parse)}:{name:t}})),p):void 0}if(!1===c){var x=g(h,P.map((function(e){return(0,i.default)({},e,{regex:e.regex?new RegExp(e.regex.source+"$"):void 0})}))),I=x.routes,k=x.remainingPath;void 0!==I&&(w=S(I,p),h=k,b=w)}else for(;h;){var E=g(h,P),j=E.routes,R=E.remainingPath;if(h=R,void 0===j){var L=h.split("/");j=[{name:decodeURIComponent(L[0])}],L.shift(),h=L.join("/")}var _=S(j,p);if(w){for(var D;null!==(N=w)&&void 0!==N&&N.routes[w.index||0].state;){var N;w=w.routes[w.index||0].state}w.routes[(null===(D=w)||void 0===D?void 0:D.index)||0].state=_}else b=_;w=_}if(null==w||null==b)return;var W=C(w),A=O(e,v(W.name,P));A&&(W.params=(0,i.default)({},W.params,A));return b};var o=r(n(1)),i=r(n(15)),a=r(n(35)),l=r(n(55)),s=r(n(503)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(344)),u=r(n(345));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=[]).concat.apply(e,(0,a.default)(n.map((function(e){return e.split("/")})))).filter(Boolean).join("/")},g=function(e,t){for(var n,r,a=e,l=function(e){if(!e.regex)return"continue";var r=a.match(e.regex);if(r){var l=null===(c=e.pattern)||void 0===c?void 0:c.split("/").filter((function(e){return e.startsWith(":")})).reduce((function(e,t,n){return(0,i.default)(e,(0,o.default)({},t,r[2*(n+1)].replace(/\//,"")))}),{});return n=e.routeNames.map((function(e){var n,r=t.find((function(t){return t.screen===e})),o=null==r||null===(n=r.path)||void 0===n?void 0:n.split("/").filter((function(e){return e.startsWith(":")})).reduce((function(e,t){var n=l[t];if(n){var o,i=t.replace(/^:/,"").replace(/\?$/,"");e[i]=null!==(o=r.parse)&&void 0!==o&&o[i]?r.parse[i](n):n}return e}),{});return o&&Object.keys(o).length?{name:e,params:o}:{name:e}})),a=a.replace(r[1],""),"break"}},s=p(t);!(r=s()).done;){var c,u=l(r.value);if("continue"!==u&&"break"===u)break}return{routes:n,remainingPath:a}},m=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,c=[];o.push(n),l.push(n);var u=r[n];if("string"==typeof u){var d=s?h(s,u):u;c.push(y(t,n,o,d,u))}else if("object"==typeof u){var p;if("string"==typeof u.path){if(t)p=!0!==u.exact&&s?h(s,u.path):u.path;else{if(u.exact&&void 0===u.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");p=!0!==u.exact?h(s||"",u.path||""):u.path||""}c.push(y(t,n,o,p,u.path,u.parse))}u.screens&&(u.initialRouteName&&i.push({initialRouteName:u.initialRouteName,parentScreens:l}),Object.keys(u.screens).forEach((function(n){var r,d=e(t,n,u.screens,o,i,(0,a.default)(l),null!==(r=p)&&void 0!==r?r:s);c.push.apply(c,(0,a.default)(d))})))}return o.pop(),c},y=function(e,t,n,r,o,i){return{screen:t,regex:(r=r.split("/").filter(Boolean).join("/"))?new RegExp("^(".concat(r.split("/").map((function(t){if(e&&"*"===t)throw new Error("Please update your config to the new format to use wildcard pattern ('*'). https://reactnavigation.org/docs/5.x/configuring-links/#updating-config");return t.startsWith(":")?"(([^/]+\\/)".concat(t.endsWith("?")?"?":"",")"):"".concat("*"===t?".*":(0,s.default)(t),"\\/")})).join(""),")")):void 0,pattern:r,path:o,routeNames:(0,a.default)(n),parse:i}},v=function(e,t){for(var n,r=p(t);!(n=r()).done;){var o=n.value;if(e===o.routeNames[o.routeNames.length-1])return o.parse}},b=function(e,t,n){for(var r,o=p(n);!(r=o()).done;){var i=r.value;if(t.length===i.parentScreens.length){for(var a=!0,l=0;l<t.length;l++)if(0!==t[l].localeCompare(i.parentScreens[l])){a=!1;break}if(a)return e!==i.initialRouteName?i.initialRouteName:void 0}}},w=function(e,t,n){return n?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},(0,i.default)({},t,{state:{routes:[]}})]}:{routes:[(0,i.default)({},t,{state:{routes:[]}})]}},S=function(e,t){var n,r=e.shift(),o=[],i=b(r.name,o,t);if(o.push(r.name),n=w(i,r,0===e.length),e.length>0)for(var a=n;r=e.shift();){i=b(r.name,o,t);var l=a.index||a.routes.length-1;a.routes[l].state=w(i,r,0===e.length),e.length>0&&(a=a.routes[l].state),o.push(r.name)}return n},C=function(e){for(var t,n=e;null!==(r=n)&&void 0!==r&&r.routes[n.index||0].state;){var r;n=n.routes[n.index||0].state}return n.routes[(null===(t=n)||void 0===t?void 0:t.index)||0]},O=function(e,t){var n=e.split("?")[1],r=c.parse(n);return t&&Object.keys(r).forEach((function(e){t[e]&&"string"==typeof r[e]&&(r[e]=t[e](r[e]))})),Object.keys(r).length?r:void 0}},function(e,t,n){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),l=0;l<i.length;l++){var s=i[l];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),o=Array.isArray(t),i=0;i<r.length;i++){var a=r[i],l=e[a];(o?-1!==t.indexOf(a):t(a,l,e))&&(n[a]=l)}return n}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw Error("Got 'undefined' for the navigation state. You must pass a valid state object.");var n=(0,s.default)(t),r=(0,a.default)(n,2),o=r[0],c=r[1],p=c?h(o,c.screens):{},f="/",g=e,m={},y=function(){for(var t="number"==typeof g.index?g.index:0,n=g.routes[t],r=void 0,s=void 0,c=function e(t){var n="number"==typeof t.index?t.routes[t.index]:t.routes[t.routes.length-1];if(n.state)return e(n.state);return n}(e),h=p,y=[],w=!0;n.name in h&&w;)if(r=h[n.name].pattern,y.push(n.name),n.params&&function(){var e=null===(v=h[n.name])||void 0===v?void 0:v.stringify,t=u(Object.entries(n.params).map((function(t){var n=(0,a.default)(t,2),r=n[0],o=n[1];return[r,null!=e&&e[r]?e[r](o):String(o)]})));r&&(0,i.default)(m,t),c===n&&(s=(0,i.default)({},t),null===(b=r)||void 0===b||b.split("/").filter((function(e){return e.startsWith(":")})).forEach((function(e){var t=d(e);s&&delete s[t]})))}(),h[n.name].screens&&void 0!==n.state){t="number"==typeof n.state.index?n.state.index:n.state.routes.length-1;var S=n.state.routes[t],C=h[n.name].screens;C&&S.name in C?(n=S,h=C):w=!1}else w=!1;if(void 0===r&&(r=y.join("/")),void 0!==h[n.name]?f+=r.split("/").map((function(e){var t=d(e);if("*"===e){if(o)throw new Error("Please update your config to the new format to use wildcard pattern ('*'). https://reactnavigation.org/docs/5.x/configuring-links/#updating-config");return n.name}if(e.startsWith(":")){var r=m[t];return void 0===r&&e.endsWith("?")?"":encodeURIComponent(r)}return encodeURIComponent(e)})).join("/"):f+=encodeURIComponent(n.name),s||(s=c.params),n.state)f+="/";else if(s){for(var O in s)"undefined"===s[O]&&delete s[O];var P=l.stringify(s);P&&(f+="?".concat(P))}g=n.state};for(;g;){var v,b;y()}return f=(f=f.replace(/\/+/g,"/")).length>1?f.replace(/\/$/,""):f};var o=r(n(35)),i=r(n(15)),a=r(n(55)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(344)),s=r(n(345));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var u=function(e){return e.reduce((function(e,t){var n=(0,a.default)(t,2),r=n[0],o=n[1];if(e.hasOwnProperty(r))throw new Error("A value for key '".concat(r,"' already exists in the object."));return e[r]=o,e}),{})},d=function(e){return e.replace(/^:/,"").replace(/\?$/,"")},p=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=[]).concat.apply(e,(0,o.default)(n.map((function(e){return e.split("/")})))).filter(Boolean).join("/")},f=function(e,t,n){var r,o;if("string"==typeof t)return{pattern:n?p(n,t):t};if(e)o=!0!==t.exact&&n&&t.path?p(n,t.path):t.path;else{if(t.exact&&void 0===t.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");o=!0!==t.exact?p(n||"",t.path||""):t.path||""}var i=t.screens?h(e,t.screens,o):void 0;return{pattern:null===(r=o)||void 0===r?void 0:r.split("/").filter(Boolean).join("/"),stringify:t.stringify,screens:i}},h=function(e,t,n){return u(Object.entries(t).map((function(t){var r=(0,a.default)(t,2),o=r[0],i=r[1];return[o,f(e,i,n)]})))}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r,o=t?a(t):{},l=null!=e.index?e.routes.slice(0,e.index+1):e.routes;if(0===l.length)return;if(!(1===l.length&&void 0===l[0].key||2===l.length&&void 0===l[0].key&&l[0].name===(null==o?void 0:o.initialRouteName)&&void 0===l[1].key))return{type:"RESET",payload:e};var s=e.routes[null!==(n=e.index)&&void 0!==n?n:e.routes.length-1],c=null==s?void 0:s.state,u=null==o||null===(r=o.screens)||void 0===r?void 0:r[null==s?void 0:s.name],d=(0,i.default)({},s.params),p=s?{name:s.name,params:d}:void 0;for(;c;){var f,h,g;if(0===c.routes.length)return;var m=null!=c.index?c.routes.slice(0,c.index+1):c.routes,y=m[m.length-1];if((0,i.default)(d,{initial:void 0,screen:void 0,params:void 0,state:void 0}),1===m.length&&void 0===m[0].key)d.initial=!0,d.screen=y.name;else{if(2!==m.length||void 0!==m[0].key||m[0].name!==(null===(f=u)||void 0===f?void 0:f.initialRouteName)||void 0!==m[1].key){d.state=c;break}d.initial=!1,d.screen=y.name}y.state?(d.params=(0,i.default)({},y.params),d=d.params):d.params=y.params,c=y.state,u=null===(h=u)||void 0===h||null===(g=h.screens)||void 0===g?void 0:g[y.name]}if(!p)return;return{type:"NAVIGATE",payload:p}};var o=r(n(55)),i=r(n(15));var a=function(e){return"object"==typeof e&&null!=e?{initialRouteName:e.initialRouteName,screens:null!=e.screens?l(e.screens):void 0}:{}},l=function(e){return Object.entries(e).reduce((function(e,t){var n=(0,o.default)(t,2),r=n[0],i=n[1];return e[r]=a(i),e}),{})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;r.SUPPRESS_STATE_ACCESS_WARNING.value=!0;var n=e.state;r.SUPPRESS_STATE_ACCESS_WARNING.value=!1;var o=e.params;return n?n.routes[null!==(t=n.index)&&void 0!==t?t:"string"==typeof n.type&&"stack"!==n.type?0:n.routes.length-1].name:"string"==typeof(null==o?void 0:o.screen)?o.screen:void 0};var r=n(342)},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(55)),i=r(n(15)),a=r(n(56)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),s=n(131),c=r(n(346)),u=r(n(275)),d=r(n(276)),p=r(n(512)),f=r(n(348)),h=r(n(513)),g=r(n(350)),m=["theme","linking","fallback","documentTitle","onReady"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=l.forwardRef((function(e,t){var n=e.theme,r=void 0===n?u.default:n,y=e.linking,b=e.fallback,w=void 0===b?null:b,S=e.documentTitle,C=e.onReady,O=(0,a.default)(e,m),P=!!y&&!1!==y.enabled,T=l.useRef(null);(0,g.default)(T),(0,h.default)(T,S);var x=(0,f.default)(T,(0,i.default)({enabled:P,prefixes:[]},y)).getInitialState,I=(0,p.default)(x),k=(0,o.default)(I,2),E=k[0],j=k[1];l.useImperativeHandle(t,(function(){return T.current}));var R=l.useMemo((function(){return{options:y}}),[y]),L=null!=O.initialState||!P||E,_=l.useRef(C);return l.useEffect((function(){_.current=C})),l.useEffect((function(){var e;L&&(null===(e=_.current)||void 0===e||e.call(_))}),[L]),L?l.createElement(d.default.Provider,{value:R},l.createElement(c.default,{value:r},l.createElement(s.BaseNavigationContainer,v({},O,{initialState:null==O.initialState?j:O.initialState,ref:T})))):w}));t.default=b},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.useState(e),n=(0,i.default)(t,1)[0],r=[!1,void 0];n.then((function(e){r=[!0,e]}));var l=a.useState(r),s=(0,i.default)(l,2),c=s[0],u=s[1],d=(0,i.default)(c,1)[0];return a.useEffect((function(){var e,t=!1;return d||o.default.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.default.awrap(n);case 3:e=r.sent;case 4:return r.prev=4,t||u([!0,e]),r.finish(4);case 7:case"end":return r.stop()}}),null,null,[[0,,4,7]],Promise),function(){t=!0}}),[n,d]),c};var o=r(n(17)),i=r(n(55)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enabled,o=void 0===n||n,i=t.formatter,a=void 0===i?function(e,t){var n;return null!==(n=null==e?void 0:e.title)&&void 0!==n?n:null==t?void 0:t.name}:i;r.useEffect((function(){if(o){var t=e.current;if(t){var n=a(t.getCurrentOptions(),t.getCurrentRoute());document.title=n}return null==t?void 0:t.addListener("options",(function(e){var n=a(e.data.options,null==t?void 0:t.getCurrentRoute());document.title=n}))}}))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.useNavigation)(),n=(0,o.useRoute)();r.useEffect((function(){for(var r=t;r&&"tab"!==r.dangerouslyGetState().type;)r=r.dangerouslyGetParent();if(r)return r.addListener("tabPress",(function(o){var i=t.isFocused(),a=t===r||t.dangerouslyGetState().routes[0].key===n.key;requestAnimationFrame((function(){var t=function(e){if(null==e.current)return null;return"scrollToTop"in e.current||"scrollTo"in e.current||"scrollToOffset"in e.current||"scrollResponderScrollTo"in e.current?e.current:"getScrollResponder"in e.current?e.current.getScrollResponder():"getNode"in e.current?e.current.getNode():e.current}(e);i&&a&&t&&!o.defaultPrevented&&("scrollToTop"in t?t.scrollToTop():"scrollTo"in t?t.scrollTo({y:0,animated:!0}):"scrollToOffset"in t?t.scrollToOffset({offset:0,animated:!0}):"scrollResponderScrollTo"in t&&t.scrollResponderScrollTo({y:0,animated:!0}))}))}))}),[t,e,n.key])};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0)),o=n(131);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={dark:!0,colors:{primary:"rgb(10, 132, 255)",background:"rgb(1, 1, 1)",card:"rgb(18, 18, 18)",text:"rgb(229, 229, 231)",border:"rgb(39, 39, 41)",notification:"rgb(255, 69, 58)"}};t.default=n},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o.useContext(i.default)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(347));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.to,n=e.action,r=(0,i.default)(e,c),u=(0,s.default)({to:t,action:n}),d=function(e){var t;"onPress"in r&&(null===(t=r.onPress)||void 0===t||t.call(r,e));u.onPress(e)};return a.createElement(l.Text,(0,o.default)({},u,r,l.Platform.select({web:{onClick:d},default:{onPress:d}})))};var o=r(n(15)),i=r(n(56)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=r(n(351)),c=["to","action"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=i.useContext(a.NavigationHelpersContext),t=i.useContext(l.default);return i.useCallback((function(n,r){var i=t.options;if(!1!==(null==i?void 0:i.enabled)){var l=e?function e(t,n){var r=t.dangerouslyGetParent();if(r){var i=r.dangerouslyGetState();return e(r,{index:0,routes:[(0,o.default)({},i.routes[i.index],{state:n})]})}return n}(e,{index:0,routes:[{name:n,params:r}]}):{index:0,routes:[{name:n,params:r}]};return null!=i&&i.getPathFromState?i.getPathFromState(l,null==i?void 0:i.config):(0,a.getPathFromState)(l,null==i?void 0:i.config)}}),[t,e])};var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(131),l=r(n(276));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=n(131),a=r(n(349));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}var s=o.forwardRef((function(e,t){var n=e.children,r=e.location;o.useEffect((function(){}),[]);var l={};if(t){var s={getCurrentOptions:function(){return l.options}};"function"==typeof t?t(s):t.current=s}return o.createElement(a.default.Provider,{value:{location:r}},o.createElement(i.CurrentRenderContext.Provider,{value:l},n))}));t.default=s},function(e,t){},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,n=e.style,i=e.onInsetsChange;return r.useEffect((function(){if("undefined"!=typeof document){var e=function(){var e=document.createElement("div"),t=e.style;return t.position="fixed",t.left="0",t.top="0",t.width="0",t.height="0",t.zIndex="-1",t.overflow="hidden",t.visibility="hidden",t.transitionDuration="0.05s",t.transitionProperty="padding",t.transitionDelay="0s",t.paddingTop=u("top"),t.paddingBottom=u("bottom"),t.paddingLeft=u("left"),t.paddingRight=u("right"),e}();document.body.appendChild(e);var t=function(){var t=window.getComputedStyle(e),n=t.paddingTop,r=t.paddingBottom,o=t.paddingLeft,a=t.paddingRight,l={top:n?parseInt(n,10):0,bottom:r?parseInt(r,10):0,left:o?parseInt(o,10):0,right:a?parseInt(a,10):0},s={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};i({nativeEvent:{insets:l,frame:s}})};return e.addEventListener(s(),t),t(),function(){document.body.removeChild(e),e.removeEventListener(s(),t)}}}),[i]),r.createElement(o.View,{style:n},t)};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(0)),o=n(9);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var a={WebkitTransition:"webkitTransitionEnd",Transition:"transitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd"};var l=null;function s(){if(null!==l)return l;var e=document.createElement("invalidtype");for(var t in l=a.Transition,a)if(void 0!==e.style[t]){l=a[t];break}return l}var c=null;function u(e){return"".concat(function(){if(null!==c)return c;var e=window.CSS;return c=e&&e.supports&&e.supports("top: constant(safe-area-inset-top)")?"constant":"env"}(),"(safe-area-inset-").concat(e,")")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SafeAreaView=function(e){var t=e.style,n=void 0===t?{}:t,a=e.mode,c=e.edges,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["style","mode","edges"]),d=(0,i.useSafeAreaInsets)(),p=null!=c?c.reduce((function(e,t){return e|s[t]}),0):15,f=r.useMemo((function(){var e=8&p?d.top:0,t=4&p?d.right:0,r=2&p?d.bottom:0,i=1&p?d.left:0,l=o.StyleSheet.flatten(n);if("margin"===a){var s=l.margin,c=void 0===s?0:s,u=l.marginVertical,f=void 0===u?c:u,h=l.marginHorizontal,g=void 0===h?c:h,m=l.marginTop,y=void 0===m?f:m,v=l.marginRight,b=void 0===v?g:v,w=l.marginBottom,S=void 0===w?f:w,C=l.marginLeft;return[n,{marginTop:y+e,marginRight:b+t,marginBottom:S+r,marginLeft:(void 0===C?g:C)+i}]}var O=l.padding,P=void 0===O?0:O,T=l.paddingVertical,x=void 0===T?P:T,I=l.paddingHorizontal,k=void 0===I?P:I,E=l.paddingTop,j=void 0===E?x:E,R=l.paddingRight,L=void 0===R?k:R,_=l.paddingBottom,D=void 0===_?x:_,N=l.paddingLeft;return[n,{paddingTop:j+e,paddingRight:L+t,paddingBottom:D+r,paddingLeft:(void 0===N?k:N)+i}]}),[n,d,a,p]);return r.createElement(o.View,l({style:f},u))};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),o=n(9),i=n(354);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={top:8,right:4,bottom:2,left:1}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initialWindowSafeAreaInsets=t.initialWindowMetrics=void 0;t.initialWindowMetrics=null;t.initialWindowSafeAreaInsets=null},function(e,t){},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=r(n(5)),a=r(n(6)),l=r(n(2)),s=r(n(8)),c=r(n(7)),u=r(n(4)),d=r(n(15)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(9),h=n(137),g=n(526),m=n(356),y=r(n(529)),v=n(331),b=n(224),w=n(271),S=r(n(364));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var o=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Object.freeze({options:{}}),I=function(e,t,n,r,o,i){return e.reduce((function(e,a){var l=(r[a.key]||{}).options,s=void 0===l?{}:l,c=f.StyleSheet.flatten(s.headerStyle||{}),u="number"==typeof c.height?c.height:i[a.key],p=(0,d.default)({},t,s.safeAreaInsets),h=s.headerStatusBarHeight,g=void 0===h?n?0:p.top:h;return e[a.key]="number"==typeof u?u:(0,m.getDefaultHeaderHeight)(o,g),e}),{})},k=function(e,t,n){var r=((null==n?void 0:n.options)||{}).gestureDirection,o=void 0===r?"modal"===e?v.ModalTransition.gestureDirection:v.DefaultTransition.gestureDirection:r;return(0,S.default)(t,o)},E=function(e,t,n,r){var o=k(e,{width:Math.max(1,n.width),height:Math.max(1,n.height)},r);return o>0?t.interpolate({inputRange:[0,o],outputRange:[1,0]}):t.interpolate({inputRange:[o,0],outputRange:[0,1]})},j=function(e){(0,s.default)(n,e);var t=O(n);function n(e){var r;(0,i.default)(this,n),r=t.call(this,e),T((0,l.default)(r),"handleLayout",(function(e){var t=e.nativeEvent.layout,n=t.height,o=t.width,i={width:o,height:n};r.setState((function(e,t){return n===e.layout.height&&o===e.layout.width?null:{layout:i,headerHeights:I(t.routes,t.insets,t.isParentHeaderShown,e.descriptors,i,e.headerHeights)}}))})),T((0,l.default)(r),"handleHeaderLayout",(function(e){var t=e.route,n=e.height;r.setState((function(e){var r=e.headerHeights;return r[t.key]===n?null:{headerHeights:(0,d.default)({},r,(0,o.default)({},t.key,n))}}))})),T((0,l.default)(r),"getFocusedRoute",(function(){var e=r.props.state;return e.routes[e.index]})),T((0,l.default)(r),"getPreviousScene",(function(e){var t=e.route,n=r.props.getPreviousRoute,o=r.state.scenes,i=n({route:t});if(i)return o.find((function(e){return e.route.key===i.key}))}));var a=f.Dimensions.get("window"),s=a.height,c=void 0===s?0:s,u=a.width,p=void 0===u?0:u;return r.state={routes:[],scenes:[],gestures:{},layout:{height:c,width:p},descriptors:r.props.descriptors,headerHeights:{}},r}return(0,a.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.mode,r=t.insets,o=t.descriptors,i=t.state,a=t.routes,l=t.closingRouteKeys,s=t.onOpenRoute,c=t.onCloseRoute,u=t.getGesturesEnabled,m=t.renderHeader,S=t.renderScene,C=t.headerMode,O=t.isParentHeaderShown,T=t.onTransitionStart,x=t.onTransitionEnd,I=t.onPageChangeStart,k=t.onPageChangeConfirm,E=t.onPageChangeCancel,j=t.onGestureStart,L=t.onGestureEnd,_=t.onGestureCancel,D=t.detachInactiveScreens,N=void 0===D?"web"===f.Platform.OS||g.shouldUseActivityState:D,W=this.state,A=W.scenes,B=W.layout,M=W.gestures,F=W.headerHeights,H=i.routes[i.index],z=o[H.key],U=z?z.options:{},V=F[H.key],G="modal"===n?v.ModalTransition:v.DefaultTransition;"screen"===C&&(G=(0,d.default)({},G,{headerStyleInterpolator:b.forNoAnimation}));for(var Y=U.safeAreaInsets||{},J=Y.top,K=void 0===J?r.top:J,q=Y.right,Q=void 0===q?r.right:q,$=Y.bottom,X=void 0===$?r.bottom:$,Z=Y.left,ee=void 0===Z?r.left:Z,te=1,ne=A.length-1;ne>=0;ne--){var re=A[ne].descriptor.options.detachPreviousScreen;if(!1!==(void 0===re?"modal"!==n||ne!==A.length-1:re))break;te++}var oe="float"===C&&this.state.scenes.slice(-2).some((function(e){var t=e.descriptor,n=t?t.options:{},r=n.headerTransparent,o=n.headerShown;return!(!r&&!1!==(void 0===o||o))})),ie="float"===C?p.createElement(p.Fragment,{key:"header"},m({mode:"float",layout:B,insets:{top:K,right:Q,bottom:X,left:ee},scenes:A,getPreviousScene:this.getPreviousScene,getFocusedRoute:this.getFocusedRoute,onContentHeightChange:this.handleHeaderLayout,gestureDirection:void 0!==U.gestureDirection?U.gestureDirection:G.gestureDirection,styleInterpolator:void 0!==U.headerStyleInterpolator?U.headerStyleInterpolator:G.headerStyleInterpolator,style:[R.floating,oe&&[{height:V},R.absolute]]})):null,ae=(null===h.screensEnabled||void 0===h.screensEnabled?void 0:(0,h.screensEnabled)())&&N;return p.createElement(p.Fragment,null,oe?null:ie,p.createElement(g.MaybeScreenContainer,{enabled:ae,style:R.container,onLayout:this.handleLayout},a.map((function(t,o,i){var a=H.key===t.key,d=M[t.key],h=A[o],v=1;if(g.shouldUseActivityState||"web"===f.Platform.OS)if(o<i.length-te-1)v=0;else{var b=A[i.length-1],R=o===i.length-1?2:o>=i.length-te?1:0;v=b?b.progress.current.interpolate({inputRange:[0,.99,1],outputRange:[1,1,R],extrapolate:"clamp"}):1}else v=h.progress.next?h.progress.next.interpolate({inputRange:[0,.99,1],outputRange:[1,1,0],extrapolate:"clamp"}):1;var D=h.descriptor?h.descriptor.options:{},N=D.safeAreaInsets,W=D.headerShown,z=void 0===W||W,U=D.headerTransparent,V=D.cardShadowEnabled,Y=D.cardOverlayEnabled,J=D.cardOverlay,K=D.cardStyle,q=D.animationEnabled,Q=D.gestureResponseDistance,$=D.gestureVelocityImpact,X=D.gestureDirection,Z=void 0===X?G.gestureDirection:X,ee=D.transitionSpec,ne=void 0===ee?G.transitionSpec:ee,re=D.cardStyleInterpolator,ie=void 0===re?!1===q?w.forNoAnimation:G.cardStyleInterpolator:re,le=D.headerStyleInterpolator,se={gestureDirection:Z,transitionSpec:ne,cardStyleInterpolator:ie,headerStyleInterpolator:void 0===le?G.headerStyleInterpolator:le};if(o!==i.length-1){var ce=A[o+1];if(ce){var ue=ce.descriptor?ce.descriptor.options:{},de=ue.animationEnabled,pe=ue.gestureDirection,fe=void 0===pe?G.gestureDirection:pe,he=ue.transitionSpec,ge=void 0===he?G.transitionSpec:he,me=ue.cardStyleInterpolator,ye=void 0===me?!1===de?w.forNoAnimation:G.cardStyleInterpolator:me,ve=ue.headerStyleInterpolator;se={gestureDirection:fe,transitionSpec:ge,cardStyleInterpolator:ye,headerStyleInterpolator:void 0===ve?G.headerStyleInterpolator:ve}}}var be=N||{},we=be.top,Se=void 0===we?r.top:we,Ce=be.right,Oe=void 0===Ce?r.right:Ce,Pe=be.bottom,Te=void 0===Pe?r.bottom:Pe,xe=be.left,Ie=void 0===xe?r.left:xe,ke="none"!==C&&!1!==z?F[t.key]:0;return p.createElement(g.MaybeScreen,{key:t.key,style:f.StyleSheet.absoluteFill,enabled:ae,active:v,pointerEvents:"box-none"},p.createElement(y.default,P({index:o,active:o===i.length-1,focused:a,closing:l.includes(t.key),layout:B,gesture:d,scene:h,safeAreaInsetTop:Se,safeAreaInsetRight:Oe,safeAreaInsetBottom:Te,safeAreaInsetLeft:Ie,cardOverlay:J,cardOverlayEnabled:Y,cardShadowEnabled:V,cardStyle:K,onPageChangeStart:I,onPageChangeConfirm:k,onPageChangeCancel:E,onGestureStart:j,onGestureCancel:_,onGestureEnd:L,gestureResponseDistance:Q,headerHeight:ke,isParentHeaderShown:O,onHeaderHeightChange:e.handleHeaderLayout,getPreviousScene:e.getPreviousScene,getFocusedRoute:e.getFocusedRoute,mode:n,headerMode:C,headerShown:z,hasAbsoluteHeader:oe&&!U,renderHeader:m,renderScene:S,onOpenRoute:s,onCloseRoute:c,onTransitionStart:T,onTransitionEnd:x,gestureEnabled:0!==o&&u({route:t}),gestureVelocityImpact:$},se)))}))),oe?ie:null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.routes===t.routes&&e.descriptors===t.descriptors)return null;var n=e.routes.reduce((function(n,r){var o=e.descriptors[r.key],i=((null==o?void 0:o.options)||{}).animationEnabled;return n[r.key]=t.gestures[r.key]||new f.Animated.Value(e.openingRouteKeys.includes(r.key)&&!1!==i?k(e.mode,t.layout,o):0),n}),{});return{routes:e.routes,scenes:e.routes.map((function(r,o,i){var a=i[o-1],l=i[o+1],s=t.scenes[o],c=n[r.key],u=a?n[a.key]:void 0,d=l?n[l.key]:void 0,p=e.descriptors[r.key]||t.descriptors[r.key]||(s?s.descriptor:x),f=e.descriptors[null==l?void 0:l.key]||t.descriptors[null==l?void 0:l.key],h=e.descriptors[null==a?void 0:a.key]||t.descriptors[null==a?void 0:a.key],g={route:r,descriptor:p,progress:{current:E(e.mode,c,t.layout,p),next:d?E(e.mode,d,t.layout,f):void 0,previous:u?E(e.mode,u,t.layout,h):void 0},__memo:[r,t.layout,p,f,h,c,d,u]};return s&&g.__memo.every((function(e,t){return s.__memo[t]===e}))?s:g})),gestures:n,descriptors:e.descriptors,headerHeights:I(e.routes,e.insets,e.isParentHeaderShown,t.descriptors,t.layout,t.headerHeights)}}}]),n}(p.Component);t.default=j;var R=f.StyleSheet.create({container:{flex:1},absolute:{position:"absolute",top:0,left:0,right:0},floating:{zIndex:1}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseActivityState=t.MaybeScreenContainer=t.MaybeScreen=void 0;var o,i,a=r(n(56)),l=r(n(5)),s=r(n(6)),c=r(n(8)),u=r(n(7)),d=r(n(4)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(9),h=["active","style"],g=["enabled"],m=["enabled","active"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}try{i=n(137)}catch(e){}var w=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.style,r=(0,a.default)(e,h);return p.createElement(f.View,b({hidden:!t,style:[n,{display:t?"flex":"none"}]},r))}}]),n}(p.Component),S=f.Animated.createAnimatedComponent(w),C=null===(o=i)||void 0===o?void 0:o.shouldUseActivityState;t.shouldUseActivityState=C;t.MaybeScreenContainer=function(e){var t,n=e.enabled,r=(0,a.default)(e,g);return n&&"web"!==f.Platform.OS&&null!==(t=i)&&void 0!==t&&t.screensEnabled()?p.createElement(i.ScreenContainer,b({enabled:n},r)):p.createElement(f.View,r)};t.MaybeScreen=function(e){var t,n=e.enabled,r=e.active,o=(0,a.default)(e,m);return n&&"web"===f.Platform.OS?p.createElement(S,b({active:r},o)):n&&null!==(t=i)&&void 0!==t&&t.screensEnabled()?C?p.createElement(i.Screen,b({enabled:n,activityState:r},o)):p.createElement(i.Screen,b({enabled:n,active:r},o)):p.createElement(f.View,o)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.children}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.borderless,n=void 0!==t&&t,r=e.pressColor,s=void 0===r?"rgba(0, 0, 0, .32)":r,u=e.style,d=e.children,p=(0,o.default)(e,l);return"android"===a.Platform.OS&&a.Platform.Version>=21?i.createElement(a.TouchableNativeFeedback,c({},p,{useForeground:a.TouchableNativeFeedback.canUseNativeForeground(),background:a.TouchableNativeFeedback.Ripple(s,n)}),i.createElement(a.View,{style:u},i.Children.only(d))):i.createElement(a.TouchableOpacity,c({style:u},p),d)};var o=r(n(56)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9),l=["borderless","pressColor","style","children"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9),l=n(76),s=r(n(530)),c=r(n(279)),u=r(n(277)),d=r(n(366));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=i.memo((function(e){var t=e.active,n=e.cardOverlay,r=e.cardOverlayEnabled,p=e.cardShadowEnabled,f=e.cardStyle,g=e.cardStyleInterpolator,m=e.closing,y=e.gesture,v=e.focused,b=e.gestureDirection,w=e.gestureEnabled,S=e.gestureResponseDistance,C=e.gestureVelocityImpact,O=e.getPreviousScene,P=e.getFocusedRoute,T=e.mode,x=e.headerMode,I=e.headerShown,k=e.headerStyleInterpolator,E=e.hasAbsoluteHeader,j=e.headerHeight,R=e.onHeaderHeightChange,L=e.isParentHeaderShown,_=e.index,D=e.layout,N=e.onCloseRoute,W=e.onOpenRoute,A=e.onPageChangeCancel,B=e.onPageChangeConfirm,M=e.onPageChangeStart,F=e.onGestureCancel,H=e.onGestureEnd,z=e.onGestureStart,U=e.onTransitionEnd,V=e.onTransitionStart,G=e.renderHeader,Y=e.renderScene,J=e.safeAreaInsetBottom,K=e.safeAreaInsetLeft,q=e.safeAreaInsetRight,Q=e.safeAreaInsetTop,$=e.scene,X=e.transitionSpec,Z={top:Q,right:q,bottom:J,left:K},ee=(0,l.useTheme)().colors,te=i.useState("box-none"),ne=(0,o.default)(te,2),re=ne[0],oe=ne[1];i.useEffect((function(){var e,t,n=null===(e=$.progress.next)||void 0===e||null===(t=e.addListener)||void 0===t?void 0:t.call(e,(function(e){var t=e.value;oe(t<=.1?"box-none":"none")}));return function(){var e,t;n&&(null===(e=$.progress.next)||void 0===e||null===(t=e.removeListener)||void 0===t||t.call(e,n))}}),[re,$.progress.next]);var ie="none"!==x&&!1!==I,ae=O({route:$.route});return i.createElement(s.default,{index:_,gestureDirection:b,layout:D,insets:Z,gesture:y,current:$.progress.current,next:$.progress.next,closing:m,onOpen:function(){var e=$.route;null==U||U({route:e},!1),W({route:e})},onClose:function(){var e=$.route;null==U||U({route:e},!0),N({route:e})},overlay:n,overlayEnabled:r,shadowEnabled:p,onTransition:function(e){var n=e.closing,r=e.gesture,o=$.route;r?t&&n?null==B||B(!1):null==A||A():null==B||B(!0),null==V||V({route:o},n)},onGestureBegin:function(){var e=$.route;null==M||M(),null==z||z({route:e})},onGestureCanceled:function(){var e=$.route;null==A||A(),null==F||F({route:e})},onGestureEnd:function(){var e=$.route;null==H||H({route:e})},gestureEnabled:w,gestureResponseDistance:S,gestureVelocityImpact:C,transitionSpec:X,styleInterpolator:g,accessibilityElementsHidden:!v,importantForAccessibility:v?"auto":"no-hide-descendants",pointerEvents:t?"box-none":re,pageOverflowEnabled:"screen"===x&&"card"===T,containerStyle:E?{marginTop:j}:null,contentStyle:[{backgroundColor:ee.background},f],style:[{overflow:t?void 0:"hidden"},a.StyleSheet.absoluteFill]},i.createElement(a.View,{style:h.container},i.createElement(a.View,{style:h.scene},i.createElement(d.default.Provider,{value:ae},i.createElement(u.default.Provider,{value:L||ie},i.createElement(c.default.Provider,{value:j},Y({route:$.route}))))),"screen"===x?G({mode:"screen",layout:D,insets:Z,scenes:[ae,$],getPreviousScene:O,getFocusedRoute:P,gestureDirection:b,styleInterpolator:k,onContentHeightChange:R}):null))}));t.default=f;var h=a.StyleSheet.create({container:{flex:1,flexDirection:"column-reverse"},scene:{flex:1}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(56)),i=r(n(15)),a=r(n(5)),l=r(n(6)),s=r(n(2)),c=r(n(8)),u=r(n(7)),d=r(n(4)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),f=n(9),h=r(n(315)),g=r(n(536)),m=n(355),y=r(n(278)),v=r(n(364)),b=r(n(365)),w=r(n(361)),S=["styleInterpolator","index","current","gesture","next","layout","insets","overlay","overlayEnabled","shadowEnabled","gestureEnabled","gestureDirection","pageOverflowEnabled","children","containerStyle","contentStyle"];function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x="web"!==f.Platform.OS,I=function(e){(0,c.default)(n,e);var t=O(n);function n(){var e;(0,a.default)(this,n);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),T((0,s.default)(e),"isCurrentlyMounted",!1),T((0,s.default)(e),"isClosing",new f.Animated.Value(0)),T((0,s.default)(e),"inverted",new f.Animated.Value((0,b.default)(e.props.gestureDirection))),T((0,s.default)(e),"layout",{width:new f.Animated.Value(e.props.layout.width),height:new f.Animated.Value(e.props.layout.height)}),T((0,s.default)(e),"isSwiping",new f.Animated.Value(0)),T((0,s.default)(e),"interactionHandle",void 0),T((0,s.default)(e),"pendingGestureCallback",void 0),T((0,s.default)(e),"lastToValue",void 0),T((0,s.default)(e),"animate",(function(t){var n=t.closing,r=t.velocity,o=e.props,a=o.gesture,l=o.transitionSpec,s=o.onOpen,c=o.onClose,u=o.onTransition,d=e.getAnimateToValue((0,i.default)({},e.props,{closing:n}));e.lastToValue=d;var p=n?l.close:l.open,h="spring"===p.animation?f.Animated.spring:f.Animated.timing;e.setPointerEventsEnabled(!n),e.handleStartInteraction(),clearTimeout(e.pendingGestureCallback),null==u||u({closing:n,gesture:void 0!==r}),h(a,(0,i.default)({},p.config,{velocity:r,toValue:d,useNativeDriver:x,isInteraction:!1})).start((function(t){var r=t.finished;e.handleEndInteraction(),clearTimeout(e.pendingGestureCallback),r&&(n?c():s(),e.isCurrentlyMounted&&e.forceUpdate())}))})),T((0,s.default)(e),"getAnimateToValue",(function(e){var t=e.closing,n=e.layout,r=e.gestureDirection;return t?(0,v.default)(n,r):0})),T((0,s.default)(e),"setPointerEventsEnabled",(function(t){var n,r=t?"box-none":"none";null===(n=e.contentRef.current)||void 0===n||n.setNativeProps({pointerEvents:r})})),T((0,s.default)(e),"handleStartInteraction",(function(){void 0===e.interactionHandle&&(e.interactionHandle=f.InteractionManager.createInteractionHandle())})),T((0,s.default)(e),"handleEndInteraction",(function(){void 0!==e.interactionHandle&&(f.InteractionManager.clearInteractionHandle(e.interactionHandle),e.interactionHandle=void 0)})),T((0,s.default)(e),"handleGestureStateChange",(function(t){var n=t.nativeEvent,r=e.props,o=r.layout,i=r.onClose,a=r.onGestureBegin,l=r.onGestureCanceled,s=r.onGestureEnd,c=r.gestureDirection,u=r.gestureVelocityImpact;switch(n.state){case m.GestureState.BEGAN:e.isSwiping.setValue(1),e.handleStartInteraction(),null==a||a();break;case m.GestureState.CANCELLED:e.isSwiping.setValue(0),e.handleEndInteraction();var d="vertical"===c||"vertical-inverted"===c?n.velocityY:n.velocityX;e.animate({closing:e.props.closing,velocity:d}),null==l||l();break;case m.GestureState.END:var p,f,h;e.isSwiping.setValue(0),"vertical"===c||"vertical-inverted"===c?(p=o.height,f=n.translationY,h=n.velocityY):(p=o.width,f=n.translationX,h=n.velocityX);var g=(f+h*u)*(0,b.default)(c)>p/2?0!==h||0!==f:e.props.closing;e.animate({closing:g,velocity:h}),g&&(e.pendingGestureCallback=setTimeout((function(){i(),e.forceUpdate()}),32)),null==s||s()}})),T((0,s.default)(e),"getInterpolatedStyle",(0,w.default)((function(t,n,r,o,i,a,l,s,c){return t({index:n,current:{progress:r},next:o&&{progress:o},closing:e.isClosing,swiping:e.isSwiping,inverted:e.inverted,layouts:{screen:i},insets:{top:a,right:l,bottom:s,left:c}})}))),T((0,s.default)(e),"getCardAnimationContext",(0,w.default)((function(t,n,r,o,i,a,l,s){return{index:t,current:{progress:n},next:r&&{progress:r},closing:e.isClosing,swiping:e.isSwiping,inverted:e.inverted,layouts:{screen:o},insets:{top:i,right:a,bottom:l,left:s}}}))),T((0,s.default)(e),"contentRef",p.createRef()),e}return(0,l.default)(n,[{key:"componentDidMount",value:function(){this.animate({closing:this.props.closing}),this.isCurrentlyMounted=!0}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.layout,r=t.gestureDirection,o=t.closing,i=n.width,a=n.height;i!==e.layout.width&&this.layout.width.setValue(i),a!==e.layout.height&&this.layout.height.setValue(a),r!==e.gestureDirection&&this.inverted.setValue((0,b.default)(r));var l=this.getAnimateToValue(this.props);this.getAnimateToValue(e)===l&&this.lastToValue===l||this.animate({closing:o})}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.handleEndInteraction()}},{key:"gestureActivationCriteria",value:function(){var e=this.props,t=e.layout,n=e.gestureDirection,r=e.gestureResponseDistance,o="vertical"===n||"vertical-inverted"===n?void 0!==(null==r?void 0:r.vertical)?r.vertical:135:void 0!==(null==r?void 0:r.horizontal)?r.horizontal:50;if("vertical"===n)return{maxDeltaX:15,minOffsetY:5,hitSlop:{bottom:-t.height+o}};if("vertical-inverted"===n)return{maxDeltaX:15,minOffsetY:-5,hitSlop:{top:-t.height+o}};var i=-t.width+o;return 1===(0,b.default)(n)?{minOffsetX:5,maxDeltaY:20,hitSlop:{right:i}}:{minOffsetX:-5,maxDeltaY:20,hitSlop:{left:i}}}},{key:"render",value:function(){var e,t=this.props,n=t.styleInterpolator,r=t.index,i=t.current,a=t.gesture,l=t.next,s=t.layout,c=t.insets,u=t.overlay,d=t.overlayEnabled,v=t.shadowEnabled,b=t.gestureEnabled,w=t.gestureDirection,C=t.pageOverflowEnabled,O=t.children,T=t.containerStyle,I=t.contentStyle,E=(0,o.default)(t,S),j=this.getInterpolatedStyle(n,r,i,l,s,c.top,c.right,c.bottom,c.left),R=this.getCardAnimationContext(r,i,l,s,c.top,c.right,c.bottom,c.left),L=j.containerStyle,_=j.cardStyle,D=j.overlayStyle,N=j.shadowStyle,W=b?f.Animated.event([{nativeEvent:"vertical"===w||"vertical-inverted"===w?{translationY:a}:{translationX:a}}],{useNativeDriver:x}):void 0,A=f.StyleSheet.flatten(I||{}).backgroundColor,B="string"==typeof A&&0===(0,h.default)(A).alpha();return p.createElement(y.default.Provider,{value:R},p.createElement(f.Animated.View,{style:{opacity:i},collapsable:!1}),p.createElement(f.View,P({pointerEvents:"box-none"},E),d?p.createElement(f.View,{pointerEvents:"box-none",style:f.StyleSheet.absoluteFill},u({style:D})):null,p.createElement(f.Animated.View,{needsOffscreenAlphaCompositing:(e=L,!!e&&null!=f.StyleSheet.flatten(e).opacity),style:[k.container,L,T],pointerEvents:"box-none"},p.createElement(m.PanGestureHandler,P({enabled:0!==s.width&&b,onGestureEvent:W,onHandlerStateChange:this.handleGestureStateChange},this.gestureActivationCriteria()),p.createElement(f.Animated.View,{style:[k.container,_]},v&&N&&!B?p.createElement(f.Animated.View,{style:[k.shadow,"horizontal"===w?[k.shadowHorizontal,k.shadowLeft]:"horizontal-inverted"===w?[k.shadowHorizontal,k.shadowRight]:"vertical"===w?[k.shadowVertical,k.shadowTop]:[k.shadowVertical,k.shadowBottom],{backgroundColor:A},N],pointerEvents:"none"}):null,p.createElement(g.default,{ref:this.contentRef,enabled:C,layout:s,style:I},O))))))}}]),n}(p.Component);t.default=I,T(I,"defaultProps",{overlayEnabled:"ios"!==f.Platform.OS,shadowEnabled:!0,gestureEnabled:!0,gestureVelocityImpact:.3,overlay:function(e){var t=e.style;return t?p.createElement(f.Animated.View,{pointerEvents:"none",style:[k.overlay,t]}):null}});var k=f.StyleSheet.create({container:{flex:1},overlay:{flex:1,backgroundColor:"#000"},shadow:{position:"absolute",shadowRadius:5,shadowColor:"#000",shadowOpacity:.3},shadowHorizontal:{top:0,bottom:0,width:3,shadowOffset:{width:-1,height:1}},shadowLeft:{left:0},shadowRight:{right:0},shadowVertical:{left:0,right:0,height:3,shadowOffset:{width:1,height:-1}},shadowTop:{top:0},shadowBottom:{bottom:0}})},function(e,t,n){var r=n(362),o=n(532),i=Object.hasOwnProperty,a={};for(var l in r)i.call(r,l)&&(a[r[l]]=l);var s=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,o,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=t[2],t=t[1],n=0;n<3;n++){var l=2*n;a[n]=parseInt(t.slice(l,l+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(o=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:i.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=o(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=o(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=o(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=o(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=o(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return a[e.slice(0,3)]}},function(e,t,n){"use strict";var r=n(533),o=Array.prototype.concat,i=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var l=e[n];r(l)?t=o.call(t,i.call(l)):t.push(l)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){var r=n(363),o=n(535),i={};Object.keys(r).forEach((function(e){i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});var t=o(e);Object.keys(t).forEach((function(n){var r=t[n];i[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,o=0;o<r;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},function(e,t,n){var r=n(363);function o(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,o=0;o<n;o++)e[t[o]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var o=n.pop(),i=Object.keys(r[o]),a=i.length,l=0;l<a;l++){var s=i[l],c=t[s];-1===c.distance&&(c.distance=t[o].distance+1,c.parent=o,n.unshift(s))}return t}function i(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],o=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),o=i(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=n,o}e.exports=function(e){for(var t=o(e),n={},r=Object.keys(t),i=r.length,l=0;l<i;l++){var s=r[l];null!==t[s].parent&&(n[s]=a(s,t))}return n}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(55)),i=r(n(56)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=["enabled","layout","style"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=a.forwardRef((function(e,t){var n=e.enabled,r=e.layout,c=e.style,d=(0,i.default)(e,s),f=a.useState(!1),h=(0,o.default)(f,2),g=h[0],m=h[1];return a.useEffect((function(){if("undefined"!=typeof document&&document.body){var e=document.body.clientWidth,t=document.body.clientHeight;m(e===r.width&&t===r.height)}}),[r.height,r.width]),a.createElement(l.View,u({},d,{ref:t,style:[n&&g?p.page:p.card,c]}))}));t.default=d;var p=l.StyleSheet.create({page:{minHeight:"100%"},card:{flex:1,overflow:"hidden"}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(5)),i=r(n(6)),a=r(n(2)),l=r(n(8)),s=r(n(7)),c=r(n(4)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),d=n(9);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var o=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){(0,l.default)(n,e);var t=f(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i)),h((0,a.default)(e),"previouslyFocusedTextInput",void 0),h((0,a.default)(e),"startTimestamp",0),h((0,a.default)(e),"keyboardTimeout",void 0),h((0,a.default)(e),"clearKeyboardTimeout",(function(){void 0!==e.keyboardTimeout&&(clearTimeout(e.keyboardTimeout),e.keyboardTimeout=void 0)})),h((0,a.default)(e),"handlePageChangeStart",(function(){if(e.props.enabled){e.clearKeyboardTimeout();var t=d.TextInput.State.currentlyFocusedInput?d.TextInput.State.currentlyFocusedInput():d.TextInput.State.currentlyFocusedField();d.TextInput.State.blurTextInput(t),e.previouslyFocusedTextInput=t,e.startTimestamp=Date.now()}})),h((0,a.default)(e),"handlePageChangeConfirm",(function(t){if(e.props.enabled){if(e.clearKeyboardTimeout(),t)d.Keyboard.dismiss();else{var n=e.previouslyFocusedTextInput;n&&d.TextInput.State.blurTextInput(n)}e.previouslyFocusedTextInput=void 0}})),h((0,a.default)(e),"handlePageChangeCancel",(function(){if(e.props.enabled){e.clearKeyboardTimeout();var t=e.previouslyFocusedTextInput;t&&(Date.now()-e.startTimestamp<100?e.keyboardTimeout=setTimeout((function(){d.TextInput.State.focusTextInput(t),e.previouslyFocusedTextInput=void 0}),100):(d.TextInput.State.focusTextInput(t),e.previouslyFocusedTextInput=void 0))}})),e}return(0,i.default)(n,[{key:"componentWillUnmount",value:function(){this.clearKeyboardTimeout()}},{key:"render",value:function(){return this.props.children({onPageChangeStart:this.handlePageChangeStart,onPageChangeConfirm:this.handlePageChangeConfirm,onPageChangeCancel:this.handlePageChangeCancel})}}]),n}(u.Component);t.default=g},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mode,n=e.scenes,r=e.layout,u=e.insets,p=e.getPreviousScene,f=e.getFocusedRoute,h=e.onContentHeightChange,g=e.gestureDirection,m=e.styleInterpolator,y=e.style,v=f(),b=o.useContext(c.default);return o.createElement(i.Animated.View,{pointerEvents:"box-none",style:y},n.slice(-3).map((function(e,n,c){var f;if("screen"===t&&n!==c.length-1||!e)return null;var y=e.descriptor.options||{},w=y.header,S=y.headerShown,C=void 0===S||S,O=y.headerTransparent;if(!C)return null;var P=v.key===e.route.key,T=null!==(f=p({route:e.route}))&&void 0!==f?f:b,x=c[n-1],I=c[n+1],k=((null==x?void 0:x.descriptor.options)||{}).headerShown,E=void 0===k||k,j=((null==I?void 0:I.descriptor.options)||{}).headerShown,R=!1===E&&!I||!1===(void 0===j||j),L={mode:t,layout:r,insets:u,scene:e,previous:T,navigation:e.descriptor.navigation,styleInterpolator:"float"===t?R?"vertical"===g||"vertical-inverted"===g?s.forSlideUp:"horizontal-inverted"===g?s.forSlideRight:s.forSlideLeft:m:s.forNoAnimation};return o.createElement(a.NavigationContext.Provider,{key:e.route.key,value:e.descriptor.navigation},o.createElement(a.NavigationRouteContext.Provider,{value:e.route},o.createElement(i.View,{onLayout:h?function(t){var n=t.nativeEvent.layout.height;h({route:e.route,height:n})}:void 0,pointerEvents:P?"box-none":"none",accessibilityElementsHidden:!P,importantForAccessibility:P?"auto":"no-hide-descendants",style:"float"===t&&!P||O?d.header:null},void 0!==w?w(L):o.createElement(l.default,L))))})))};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=n(9),a=n(76),l=r(n(367)),s=n(224),c=r(n(366));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var d=i.StyleSheet.create({header:{position:"absolute",top:0,left:0,right:0}})},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n;return function(){if(!n){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];e.apply(this,o),n=setTimeout((function(){n=void 0}),t)}}}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return i.createElement(a.SafeAreaConsumer,null,(function(e){return e?t:i.createElement(a.SafeAreaProvider,{initialSafeAreaInsets:c},t)}))};var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(142),l=n(254);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=(0,o.default)({top:(0,l.getStatusBarHeight)(!0),bottom:(0,l.getBottomSpace)(),right:0,left:0},a.initialWindowSafeAreaInsets)},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.default);if(void 0===e)throw new Error("Couldn't find values for card animation. Are you inside a screen in Stack?");return e};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(278));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.default);if(void 0===e)throw new Error("Couldn't find the header height. Are you inside a screen in Stack?");return e};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(279));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.default);if(void 0===e)throw new Error("Couldn't find a ref for gesture handler. Are you inside a screen in Stack?");return e};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(369));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},function(e,t,n){"use strict";var r,o,i=n(27),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=(n(1),n(18)),p=n.n(d),f=(n(60),n(16)),h=new(r=function(){function e(){s()(this,e),a()(this,"time",o,this)}return u()(e,[{key:"setTime",value:function(e){this.time=e}}]),e}(),o=p()(r.prototype,"time",[f.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(new Date).getTime()}}),p()(r.prototype,"setTime",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"setTime"),r.prototype),r);t.a=h},function(e,t,n){"use strict";var r,o=n(413);r=o.now?function(){return o.now()}:function(){return Date.now()},e.exports=r},function(e,t,n){"use strict";var r=n(55),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(1),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=n(289),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};a()(this,e),u()(this,"_config",void 0),u()(this,"_hasInteracted",!1),u()(this,"_timers",new Set),u()(this,"_viewableIndices",[]),u()(this,"_viewableItems",new Map),this._config=t}return s()(e,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(e,t,n,r,o,i){var a=this._config,l=a.itemVisiblePercentThreshold,s=a.viewAreaCoveragePercentThreshold,c=null!=s,u=c?s:l;g(null!=u&&null!=l!=(null!=s),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(0===e)return d;var p=-1,f=o||{first:0,last:e-1},h=f.first,m=f.last;if(m>=e)return[];for(var v=h;v<=m;v++){var b=r(v);if(b){var w=void 0!==b.index?b.index:v,S=b.offset-t,C=S+b.length;if(S<n&&C>0)-1===p&&(p=v),y(c,u,S,C,n,b.length)&&d.push(w);else if("unlimited"!==i&&-1!==p&&v>=p+(i||30))break}}return d}},{key:"onUpdate",value:function(e,t,n,r,o,i,a,l){var s=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&r(0)){var c=[];if(e&&(c=this.computeViewableItems(e,t,n,r,a,l)),this._viewableIndices.length!==c.length||!this._viewableIndices.every((function(e,t){return e===c[t]})))if(this._viewableIndices=c,this._config.minimumViewTime){var u=setTimeout((function(){s._timers.delete(u),s._onUpdateSync(c,i,o)}),this._config.minimumViewTime);this._timers.add(u)}else this._onUpdateSync(c,i,o)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(e,t,n){var r=this;e=e.filter((function(e){return r._viewableIndices.includes(e)}));var i,a=this._viewableItems,l=new Map(e.map((function(e){var t=n(e,!0);return[t.key,t]}))),s=[],c=f(l);try{for(c.s();!(i=c.n()).done;){var u=o()(i.value,2),d=u[0],h=u[1];a.has(d)||s.push(h)}}catch(e){c.e(e)}finally{c.f()}var g,m=f(a);try{for(m.s();!(g=m.n()).done;){var y=o()(g.value,2),v=y[0],b=y[1];l.has(v)||s.push(p(p({},b),{},{isViewable:!1}))}}catch(e){m.e(e)}finally{m.f()}s.length>0&&(this._viewableItems=l,t({viewableItems:Array.from(l.values()),changed:s,viewabilityConfig:this._config}))}}]),e}();function y(e,t,n,r,o,i){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,o))return!0;var a=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,o);return 100*(e?a/o:a/i)>=t}t.a=m},,,,,function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),u=Object.prototype.toString,d=Math.max,p=Math.min,f=function(){return c.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var l=o.test(e);return l||i.test(e)?a(e.slice(2),l?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,l,s,c=0,u=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function b(e){return c=e,l=setTimeout(S,t),u?v(e):a}function w(e){var n=e-s;return void 0===s||n>=t||n<0||m&&e-c>=i}function S(){var e=f();if(w(e))return C(e);l=setTimeout(S,function(e){var n=t-(e-s);return m?p(n,i-(e-c)):n}(e))}function C(e){return l=void 0,y&&r?v(e):(r=o=void 0,a)}function O(){var e=f(),n=w(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return b(s);if(m)return l=setTimeout(S,t),v(s)}return void 0===l&&(l=setTimeout(S,t)),a}return t=g(t)||0,h(n)&&(u=!!n.leading,i=(m="maxWait"in n)?d(g(n.maxWait)||0,t):i,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=o=l=void 0},O.flush=function(){return void 0===l?a:C(f())},O}}).call(this,n(111))},function(e,t,n){"use strict";n.r(t);var r,o,i=n(15),a=n.n(i),l=n(5),s=n.n(l),c=n(6),u=n.n(c),d=n(2),p=n.n(d),f=n(8),h=n.n(f),g=n(7),m=n.n(g),y=n(4),v=n.n(y),b=n(1),w=n.n(b),S=n(0),C=n.n(S),O=n(37),P=n(54),T=n(56),x=n.n(T),I=n(40),k=n(242),E=n(76),j=n(35),R=n.n(j),L=n(462),_=n.n(L),D=n(69),N=n.n(D),W=n(34),A=n.n(W),B=n(49),M=n(145),F=n(87),H=n(947),z=n(43),U=n(270),V=n(157),G=n(152),Y=n(953),J=n(658),K=n(708),q=n(149),Q=n(951),$=n(446),X=n(558),Z=n(22),ee=n(21),te=n(3),ne=n(59),re=n(74),oe=n(10),ie=n(27),ae=n.n(ie),le=n(18),se=n.n(le),ce=(n(60),n(16)),ue=new(r=function(){function e(){s()(this,e),ae()(this,"judPlatform",o,this)}return u()(e,[{key:"onUpdate",value:function(e){this.judPlatform=e.judPlatform}}]),e}(),o=se()(r.prototype,"judPlatform",[ce.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),se()(r.prototype,"onUpdate",[ce.d],Object.getOwnPropertyDescriptor(r.prototype,"onUpdate"),r.prototype),r),de=n(61),pe={clickItem:function(e,t){var n=this.props,r=n.pageId,o=n.pageCatCode,i=n.pageCatName,a={},l="",s="",c="";switch(e.sort){case 0:c="total";break;case 1:c=e.sortType===de.c.desc?"pricedown":"priceup";break;case 2:c="newes";break;case 3:c="review"}if("商品分类筛选"===t)l="点击商品分类筛选",s="00120201",a={sort:c,click:"1"};else if("商品"===t){var u,d,p,f;l="点击商品",s="00120101",a={sort:c,productId:null===(u=e.productId)||void 0===u?void 0:u.toString(),productname:null===(d=e.productname)||void 0===d?void 0:d.toString(),SKUCode:null===(p=e.SKUCode)||void 0===p?void 0:p.toString(),location:null===(f=e.location)||void 0===f?void 0:f.toString(),click:"1"}}else"筛选条件"===t&&(l="筛选侧边页用户筛选条件",s="00120203",a={attributeid:e.attributeid,attributename:e.attributename,click:"1"});return{data:{actionCode:ue.judPlatform+s,actionName:"分类列表页-".concat(l),pageId:null==r?void 0:r.toString(),eventType:oe.e.EVENT_TYPE_CLICK,content:a,pageCatCode:o,pageCatName:i,resSiteCode:"",resSiteName:""}}}},fe=n(119),he=n(432),ge=n(48),me=n(433),ye=n(1735),ve=n(183),be=n(102),we=n(1733),Se=n(1732),Ce=n(185),Oe=n(25),Pe=n(12),Te=n(117),xe=n(57),Ie=n(53);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=n(243),Re=n(23),Le=n(11),_e=n(68),De=n(19),Ne=n(24),We=n(78),Ae=n(20),Be=n(134),Me=n(170),Fe=n(139),He=n(33);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ge=new Fe.a,Ye=0,Je=0;"ios"===O.a.OS&&(Object(He.e)().then((function(e){Ye=e})).catch((function(e){})),Object(He.d)().then((function(e){Je=e})).catch((function(e){})));var Ke=function(e){h()(n,e);var t=Ve(n);function n(e){var r,o,i,l,c,u,d,f;s()(this,n),f=t.call(this,e),w()(p()(f),"_panResponder",void 0),w()(p()(f),"_panResponderApk",void 0),w()(p()(f),"windowsListener",void 0),w()(p()(f),"appScrollView",void 0),w()(p()(f),"tid",""),w()(p()(f),"deviceType",void 0),w()(p()(f),"categoryView",void 0),w()(p()(f),"id","categoryList".concat((1e6*Math.random()).toFixed())),w()(p()(f),"wapTimer",null),w()(p()(f),"wapTimer2",null),w()(p()(f),"wapTimer3",null),w()(p()(f),"lister1",null),w()(p()(f),"loadMore",!0),w()(p()(f),"mininumPriceView",void 0),w()(p()(f),"maxinumPriceView",void 0),w()(p()(f),"originHeight",0),w()(p()(f),"focusinHandler",void 0),w()(p()(f),"focusoutHandler",void 0),w()(p()(f),"resizeHandler",void 0),w()(p()(f),"initWidth",(function(e){f.state.width!==e&&f.setState({width:e,height:f.getSize().height})})),w()(p()(f),"_onScrollWeb",(function(e){var t="";f.state.curWinTop<e&&e>56?t="slideUp":f.state.curWinTop>e&&(t="slideDown"),f.setState({curWinTop:e,slideDirection:t})})),w()(p()(f),"_scrollyChange",(function(e){var t="";t=f.state.curWinTop<e?"slideUp":"slideDown",f.setState({curWinTop:e,slideDirection:t})})),w()(p()(f),"_onMomentumScrollEnd",(function(e){B.a.emit("onScrollEvent",e,Pe.g.categoryList)})),w()(p()(f),"_onScrollBeginDrag",(function(e){B.a.emit("onScrollBeginDragEvent",e)})),w()(p()(f),"isPad",(function(){var e=f.state.width;return"medium"===Object(I.a)(e)||"large"===Object(I.a)(e)&&e<fe.a.safety_area})),w()(p()(f),"isPadHorizonta",(function(){var e=f.state,t=e.width;return!(e.height>t)})),w()(p()(f),"getSize",(function(){return{width:f.state.width,height:Object(te.x)(f.state.pageType).screenHeight}})),w()(p()(f),"colNum",(function(){return f.state.layoutType===de.a.oneByOne?f.isPad()?f.isPadHorizonta()?3:2:1:f.state.layoutType===de.a.oneByTwo?f.isPad()?f.isPadHorizonta()?4:3:2:void 0})),w()(p()(f),"colGutter",(function(){return f.isPad()&&f.isPadHorizonta()?12:8})),w()(p()(f),"boxWidth",(function(){var e=f.isPad()?48:32;return f.state.width-e})),w()(p()(f),"_queryPrd",(function(e){var t,n;if(!f.state.isLoad){var r={},o={};if(""!==f.state.category)for(var i in r.category=[f.state.category],f.state.labelContentSelect)f.state.labelContentSelect[i].length>0&&(r[i]=f.state.labelContentSelect[i]);""!==f.state.maxinumPrice&&(o.lte=parseInt(f.state.maxinumPrice,10),""===f.state.mininumPrice&&(o.gt=0)),""!==f.state.mininumPrice&&(o.gt=parseInt(f.state.mininumPrice,10),""===f.state.maxinumPrice&&(o.lte=99999999));var a=f.state.resultList,l=[],s=[],c=f.state.totalCount,u=!0,d=1,p=e?f.state.pageNum:1;f.setState({loadState:d,isLoad:!e,resultList:e?a:[],pageNum:p}),Object(Re.F)({keyword:f.state.tagid,pageNum:null==p?void 0:p.toString(),pageSize:null===(t=f.state.pageSize)||void 0===t?void 0:t.toString(),searchSortField:null===(n=f.state.searchSortField)||void 0===n?void 0:n.toString(),searchSortType:f.state.searchSortType,tid:f.tid,sid:f.state.sid,terminalType:f.deviceType,screenParams:A()(r)?void 0:JSON.stringify(r),priceLabel:A()(o)?void 0:JSON.stringify([o])}).then((function(t){null!=t&&t.success?(a=e?[].concat(R()(a),R()((null==t?void 0:t.resultList)||[])):(null==t?void 0:t.resultList)||[],l=(null==t?void 0:t.sortFieldList)||[],s=(null==t?void 0:t.labelList)||[],c=(null==t?void 0:t.totalCount)||0,0===a.length?(f.loadMore=!1,u=!1,d=1):c>f.state.pageNum*f.state.pageSize?(f.loadMore=!0,u=!0,d=1):(f.loadMore=!1,u=!0,d=3),f.setState({resultList:a,labelList:f.state.labelList.length>0?f.state.labelList:s,sid:(null==t?void 0:t.sid)||"",resultType:(null==t?void 0:t.resultType)||de.b.product,totalCount:c,ruleId:(null==t?void 0:t.ruleId)||"",searchId:(null==t?void 0:t.searchId)||void 0,showLoading:u,loadState:d,labelContentList:s.length>0?f.getLabelContentList(s):f.state.labelContentList,isLoad:!1,isFristLoad:!0}),f.getLabelList(l),f.state.isOpenFilter&&0===f.state.resultList.length&&B.a.emit("showToast",{text:Object(he.b)("product_no_data"),pageType:f.state.pageType})):f.handleError(e)})).catch((function(){f.handleError(e)}))}})),w()(p()(f),"handleError",(function(e){e?f.setState({loadState:2,showLoading:!0,isLoad:!1,isFristLoad:!0}):f.setState({resultList:[],showLoading:!1,loadState:2,pageNum:1,totalCount:0,isLoad:!1,labelContentList:[],isFristLoad:!0},(function(){f.getLabelList([]),f.state.isOpenFilter&&B.a.emit("showToast",{text:Object(he.b)("product_no_data"),pageType:f.state.pageType})}))})),w()(p()(f),"eventTracingReportByLoad",(function(){Object(Z.a)({actionCode:f.state.prefixPm+"00120001",actionName:"分类列表页-页面加载",eventType:oe.e.EVENT_TYPE_LOADING_PAGE,pageId:"",content:{listid:f.state.tagid,listname:f.state.name,load:"1"}})})),w()(p()(f),"handleApkBack",(function(){if("web"!==O.a.OS)return M.a.VmallNative.invokeNative({service:"page",action:"finished"}),!0;window.history.go(-1)})),w()(p()(f),"onPressChange",(function(){var e=f.state.layoutType===de.a.oneByOne?de.a.oneByTwo:de.a.oneByOne;f.setState({layoutType:e})})),w()(p()(f),"openFilter",(function(){f.state.isOpenFilterComplete&&(f.wapTimer2&&clearTimeout(f.wapTimer2),f.wapTimer2=setTimeout((function(){f.setState({isOpenFilter:!0,isOpenFilterComplete:!1},(function(){f.state.filterShowWrapRight.setValue(f.filterShowWrapWidth()),"web"===O.a.OS&&f.toggleScroll(!1),F.a.timing(f.state.filterShowWrapRight,{toValue:0,duration:200,easing:H.a.linear,useNativeDriver:!0}).start((function(){f.setState({isOpenFilterComplete:!0})}))}))}),50))})),w()(p()(f),"closeFilter",(function(){f.state.isOpenFilterComplete&&(f.mininumPriceView.isFocused()&&f.mininumPriceView.blur(),f.maxinumPriceView.isFocused()&&f.maxinumPriceView.blur(),f.wapTimer3&&clearTimeout(f.wapTimer3),f.wapTimer3=setTimeout((function(){f.setState({isOpenFilter:!1},(function(){"web"===O.a.OS&&f.toggleScroll(!0),f.state.filterShowWrapRight.setValue(f.filterShowWrapWidth())}))}),200))})),w()(p()(f),"toggleScroll",(function(e){if(e)document.body.removeEventListener("touchmove",f.bodyScroll,!1),document.body.style.overflow="",document.body.style.height="",document.getElementsByTagName("html")[0].style.overflow="",document.getElementsByTagName("html")[0].style.position="",document.getElementsByTagName("html")[0].style.left="",document.getElementsByTagName("html")[0].style.right="",document.getElementsByTagName("html")[0].style.top="",document.getElementsByTagName("html")[0].style.height="",window.scrollTo(0,f.state.scrollYWeb),setTimeout((function(){f.setState({curWinTop:f.state.scrollYWeb,slideDirection:f.state.oldSlideDirection,isScrollWeb:e})}),50),document.getElementById(f.id).style.transform="";else{var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;document.body.addEventListener("touchmove",f.bodyScroll,!1),document.body.style.overflow="hidden",document.body.style.height=window.screen.height+"px",document.getElementsByTagName("html")[0].style.overflow="hidden",document.getElementsByTagName("html")[0].style.position="fixed",document.getElementsByTagName("html")[0].style.left="0",document.getElementsByTagName("html")[0].style.right="0",document.getElementsByTagName("html")[0].style.top="0",document.getElementsByTagName("html")[0].style.height=window.screen.height+"px",f.setState({scrollYWeb:t,oldSlideDirection:f.state.slideDirection,isScrollWeb:e},(function(){"slideDown"===f.state.slideDirection?f.state.titleBarHeight.setValue(0):f.state.titleBarHeight.setValue(-f.getTitleBarHeight()),f.state.scrollYWeb>0?document.getElementById(f.id).style.transform="translate(0,".concat(-f.state.scrollYWeb,"px)"):document.getElementById(f.id).style.transform=""}))}})),w()(p()(f),"reset",(function(){f.setState({mininumPrice:"",maxinumPrice:"",category:"",labelContentSelect:{},pageNum:1,searchSortField:0,searchSortType:de.c.desc},(function(){f.resetScroll(),f._queryPrd()}))})),w()(p()(f),"resetScroll",(function(){"web"===O.a.OS&&f.setState({curWinTop:0,slideDirection:"slideDown",oldSlideDirection:"slideDown",scrollYWeb:0},(function(){f.state.titleBarHeight.setValue(0),document.getElementById(f.id).style.transform=""}))})),w()(p()(f),"bodyScroll",(function(e){e.preventDefault()})),w()(p()(f),"changeSort",N()((function(e){var t=de.c.asc;if(e.sortType===de.d.asc)t=de.c.asc;else if(e.sortType===de.d.desc)t=de.c.desc;else if(e.sortType===de.d.all){var n;t=e.sortCode===(null===(n=f.state.searchSortField)||void 0===n?void 0:n.toString())&&f.state.searchSortType===de.c.desc?de.c.asc:de.c.desc}f.setState({searchSortField:+e.sortCode,searchSortType:t},(function(){(0,f.props.clickItem)({sort:f.state.searchSortField,sortType:f.state.searchSortType,click:1},"商品分类筛选"),f._queryPrd()}))}),200)),w()(p()(f),"getLabelList",(function(e){var t=[];if(0===e.length)t=[{sortCode:"0",sortName:"综合",sortType:de.d.desc},{sortCode:"2",sortName:"最新",sortType:de.d.desc},{sortCode:"3",sortName:"评论数",sortType:de.d.desc},{sortCode:"1",sortName:"价格",sortType:de.d.all}];else for(var n=0;n<4;n++)e[n]?t.push(e[n]):t.push({sortCode:"-1",sortName:"",sortType:de.d.asc});t.push({sortCode:"filter",sortName:Object(he.b)("filter"),sortType:de.d.asc}),0===f.state.sortFieldList.length&&f.setState({sortFieldList:t})})),w()(p()(f),"categoryKeyExtractor",(function(e,t){var n;return"".concat(null===(n=e.category)||void 0===n?void 0:n.toString(),"_").concat(null==t?void 0:t.toString())})),w()(p()(f),"selectCategory",N()((function(e,t){var n=e.category;f.state.category===n&&(n=""),f.setState({category:n},(function(){var e,n;f.state.isOpenFilter&&(f.resetScroll(),null===(e=f.categoryView)||void 0===e||null===(n=e.current)||void 0===n||n.scrollToIndex({index:t,animated:!1,viewPosition:1}),f.batchReportFilter());f._queryPrd()}))}),200)),w()(p()(f),"getSingleWidth",(function(){return(f.boxWidth()-(f.colNum()-1)*f.colGutter())/f.colNum()})),w()(p()(f),"getCategoryHeight",(function(){var e=0;return f.state.labelList.length>1&&(e=86),e})),w()(p()(f),"getTitleBarHeight",(function(){return 56})),w()(p()(f),"getProductListHeight",(function(){var e=f.getTitleBarHeight()+40,t=f.state.labelList.length>1?86:8;return("web"===O.a.OS?f.state.height:f.state.isPadApk&&!f.state.isFixScreen?f.state.screenHeight:f.state.filterWrapFoldHeight)-e-t})),w()(p()(f),"renderFlatlist",(function(e){return ge.a.isApp()?C.a.createElement(F.a.ScrollView,{ref:function(e){f.appScrollView=e},onScroll:F.a.event([{nativeEvent:{contentOffset:{y:f.state.scrollY}}}],{useNativeDriver:!0,listener:function(e){f._scrollyChange(e.nativeEvent.contentOffset.y),B.a.emit("onOutScrollViewScroll",e.nativeEvent.contentOffset.y,Pe.g.categoryList)}}),scrollEnabled:!0,scrollEventThrottle:1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1,overScrollMode:"never",onScrollBeginDrag:f._onScrollBeginDrag,onMomentumScrollEnd:f._onMomentumScrollEnd,removeClippedSubviews:!0,bounces:!1,automaticallyAdjustContentInsets:!1},C.a.createElement(z.a,{style:[e.scrollView,{minHeight:f.state.isPadApk&&!f.state.isFixScreen?f.state.screenHeight-f.state.bottomNavBarHeight:f.state.filterWrapFoldHeight-f.state.bottomNavBarHeight}],nativeID:f.id},f.renderCategoryList(e),f.loadPage(e),f.renderProductList(e))):C.a.createElement(z.a,{style:[e.scrollView,{minHeight:f.state.height-f.state.bottomNavBarHeight},{marginBottom:f.state.bottomNavBarHeight}],nativeID:f.id},f.renderCategoryList(e),f.loadPage(e),f.renderProductList(e))})),w()(p()(f),"_renderScroll",(function(e){return"web"===O.a.OS?C.a.createElement(z.a,e):C.a.createElement(U.a,a()({},e,{removeClippedSubviews:!0}))})),w()(p()(f),"loadPage",(function(e){var t=f.state,n=t.isLoad,r=t.loadingPostion;return"web"===O.a.OS&&(n?(document.body.addEventListener("touchmove",f.bodyScroll,!1),document.body.style.overflow="hidden"):(document.body.removeEventListener("touchmove",f.bodyScroll,!1),document.body.style.overflow="")),n?C.a.createElement(me.a,{showLoading:!0,position:r,loadState:1,width:f.boxWidth(),height:56,iconSize:24,titleStyle:e.lodingTitle}):null})),w()(p()(f),"renderProductList",(function(e){return f.state.resultList.length>0?C.a.createElement(z.a,{style:e.productList},C.a.createElement(ye.a,{col:f.colNum(),rowGutter:f.state.layoutType===de.a.oneByOne?12:8,colGutter:f.colGutter(),pageGutter:0,dataArray:f.state.resultList,boxWidth:f.boxWidth(),containerType:"ScrollView",renderScrollComponent:function(e){return f._renderScroll(e)},initialNumToRender:f.state.resultList.length,renderItem:function(t){var n=t.item,r=t.index;return f.renderProduct(n,r,e)},loadMore:f._loadMore,footer:function(){return f.renderFooter(e)}})):!f.state.isLoad&&f.state.isFristLoad?C.a.createElement(z.a,{style:[e.empty,{height:f.getProductListHeight()}]},C.a.createElement(V.a,{source:De.a.notyet,style:e.product_no_data}),C.a.createElement(z.a,{style:e.empty_text_wrap},C.a.createElement(G.a,{ellipsizeMode:"tail",numberOfLines:2,style:e.empty_text},Object(he.b)("product_no_data")))):null})),w()(p()(f),"renderProduct",(function(e,t,n){var r=Le.a.cmsCndProdPath+e.photoPath+"428_428_"+e.photoName;return e.promotionRules=e.promoLabels,e.imgUrl=r,e.prdName=e.briefName,e.originPrice=e.price,e.salePrice=e.promoPrice,e.reviewCount=e.rateCount,e.goodReviewRate=e.goodRate,C.a.createElement(z.a,{style:n.productItemWrap},C.a.createElement(We.a,{key:"".concat(e.productId,"_").concat(t.toString()),data:e,structure:f.state.layoutType,type:"base",config:{bgColor:!0,prodTagShow:!0,outOfStockTagShow:!0,promotionTagShow:!0,mutiTagTagShow:!1,promotionShow:!0,prodSellPoint:!0,originPriceShow:!0,buyIconShow:!1,commentCountShow:!0,prdNameNum:2},iWidth:f.getSingleWidth(),onClick:function(){return f.onPressProduct(e,t)}}))})),w()(p()(f),"onPressProduct",N()((function(e,t){(0,f.props.clickItem)({sort:f.state.searchSortField,productId:e.productId,productname:e.skuName,SKUCode:e.skuCode,location:t+1,click:1,sortType:f.state.searchSortType},"商品"),f.wapTimer&&clearTimeout(f.wapTimer),f.wapTimer=setTimeout((function(){Object(ne.d)(String(e.productId),String(e.skuCode))}),150)}),200)),w()(p()(f),"_loadMore",(function(){f.loadMore&&(f.loadMore=!1,f.state.totalCount>f.state.pageNum*f.state.pageSize&&f.setState({pageNum:f.state.pageNum+1},(function(){f._queryPrd(!0)})))})),w()(p()(f),"renderFooter",(function(e){return C.a.createElement(me.a,{showLoading:f.state.showLoading,position:f.state.loadingPostion,loadState:f.state.loadState,errorCallback:function(){f._queryPrd(!0)},width:f.boxWidth(),height:56,iconSize:24,titleStyle:e.lodingTitle})})),w()(p()(f),"filterShowWrapWidth",(function(){return f.isPad()?f.isPadHorizonta()?(f.state.width-180)/3+60:(f.state.width-104)/2+48:296})),w()(p()(f),"changeValue",(function(e,t){var n,r,o;(null===(n=r=""===t.replace(/\D/g,"")?"":parseInt(t,10))||void 0===n?void 0:n.toString().length)<=8&&f.setState(w()({},e,null===(o=r)||void 0===o?void 0:o.toString()))})),w()(p()(f),"onBlurValue",(function(e,t){var n=""===t||void 0===t?"":parseInt(t,10),r=f.state,o=r.maxinumPrice,i=r.mininumPrice;if(""===n){if("maxinumPrice"===e){if(""!==i&&parseInt(o,10)<parseInt(i,10)){var a=[o,i];i=a[0],o=a[1]}}else if("mininumPrice"===e&&""!==o&&parseInt(i,10)>parseInt(o,10)){var l=[i,o];o=l[0],i=l[1]}}else"mininumPrice"===e?""!==o&&n>parseInt(o,10)&&(i=o,o=null==n?void 0:n.toString()):"maxinumPrice"===e&&""!==i&&n<parseInt(i,10)&&(o=i,i=null==n?void 0:n.toString());f.setState(w()({mininumPrice:i,maxinumPrice:o},e+"Focus",!1),(function(){f.resetScroll(),f._queryPrd()}))})),w()(p()(f),"onFocusValue",(function(e){f.setState(w()({},e+"Focus",!0))})),w()(p()(f),"toggleAll",(function(e){var t=f.state.isOpenAll;t[e]?t[e]=!1:t[e]=!0,f.setState({isOpenAll:t})})),w()(p()(f),"renderCategoryButton",(function(e,t,n){return C.a.createElement(Y.a,{onPress:function(){f.selectCategory(e,t)}},C.a.createElement(z.a,{style:[n.button,f.state.category===e.category?n.buttonSelect:{}],key:"".concat(e.category,"_").concat(t.toString(),"_button")},C.a.createElement(G.a,{style:[n.buttonText,f.state.category===e.category?n.buttonSelectText:{}],ellipsizeMode:"tail",numberOfLines:1},e.categoryName)))})),w()(p()(f),"renderlabelContentButton",(function(e,t,n,r){return C.a.createElement(Y.a,{onPress:function(){f.selectLabelContent(e,t)}},C.a.createElement(z.a,{style:[r.button,f.state.labelContentSelect[e.fieldName]&&f.state.labelContentSelect[e.fieldName].includes(t.key)?r.buttonSelect:{}],key:"label_".concat(e.fieldName,"_").concat(n.toString(),"_button")},C.a.createElement(G.a,{style:[r.buttonText,f.state.labelContentSelect[e.fieldName]&&f.state.labelContentSelect[e.fieldName].includes(t.key)?r.buttonSelectText:{}],ellipsizeMode:"tail",numberOfLines:1},t.value)))})),w()(p()(f),"selectLabelContent",N()((function(e,t){var n=f.state,r=n.labelContentSelect,o=n.category,i=n.labelList;r[e.fieldName]||(r[e.fieldName]=[]),r[e.fieldName].includes(t.key)?_()(r[e.fieldName],(function(e){return e===t.key})):r[e.fieldName].push(t.key),f.setState({labelContentSelect:r,category:""===o?i[0].category:o},(function(){var e,t;f.resetScroll(),null===(e=f.categoryView)||void 0===e||null===(t=e.current)||void 0===t||t.scrollToIndex({index:0,animated:!1,viewPosition:1}),f.batchReportFilter(),f._queryPrd()}))}),200)),w()(p()(f),"batchReportFilter",(function(){var e=f.props.clickItem,t=f.state,n=t.labelList,r=t.labelContentList,o=t.labelContentSelect,i=[],a=[];null==n||n.forEach((function(e,t){if(f.state.category===e.category)return i.push("1,".concat(t+1)),void a.push(e.categoryName)})),null==r||r.forEach((function(e,t){o[e.fieldName]&&o[e.fieldName].length>0&&e.itemEntryList.forEach((function(n,r){o[e.fieldName].includes(n.key)&&(i.push("".concat(t+2,",").concat(r+1)),a.push(n.value))}))})),e({attributeid:i,attributename:a,click:1},"筛选条件")})),w()(p()(f),"getLabelContentList",(function(e){return""!==f.state.category?e.find((function(e){return e.category===f.state.category})).labelContentList||[]:e[0].labelContentList||[]})),w()(p()(f),"onBackTop",(function(){f.appScrollView&&f.appScrollView.scrollTo({y:0,animated:!0})})),w()(p()(f),"renderCategoryList",(function(e){return f.state.labelList.length>1?C.a.createElement(J.a,{style:[e.category,{marginTop:f.getTitleBarHeight()+40}]},C.a.createElement(K.a,{ref:f.categoryView,style:e.smallCardScrollView,horizontal:!0,showsHorizontalScrollIndicator:!1,data:f.state.labelList,initialNumToRender:f.state.labelList.length,extraData:f.state.category,keyExtractor:f.categoryKeyExtractor,onScrollToIndexFailed:function(e){new Promise((function(e){return setTimeout(e,500)})).then((function(){var t;null===(t=f.categoryView.current)||void 0===t||t.scrollToIndex({index:e.index,animated:!1,viewPosition:1})}))},renderItem:function(t){var n=t.item,r=t.index;return f.categoryItem({item:n,index:r},e)}})):C.a.createElement(z.a,{style:[e.categoryNoData,{marginTop:f.getTitleBarHeight()+40}]})})),w()(p()(f),"categoryItem",(function(e,t){var n=e.item,r=e.index,o="";return o=n.categoryWebpPhotoName&&ge.a.isApp()?Le.a.cmsCndProdPath+n.categoryPhotoPath+n.categoryWebpPhotoName:Le.a.cmsCndProdPath+n.categoryPhotoPath+n.categoryPhotoName,C.a.createElement(Y.a,{key:r,onPress:function(){f.selectCategory(n,r)}},C.a.createElement(z.a,{style:[t.categoryCard,{marginRight:r===f.state.labelList.length-1?f.isPad()?24:16:f.colGutter()}]},C.a.createElement(z.a,{style:[t.categoryPicWrap,n.category===f.state.category?t.categoryPicWrapSelect:null]},C.a.createElement(z.a,{style:t.categoryPicWrap2},C.a.createElement(Ne.a,{imgUri:o,imgStyle:t.categoryPic}))),C.a.createElement(z.a,{style:t.categoryName},C.a.createElement(z.a,{style:t.categoryNameLong},C.a.createElement(G.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.categoryNameText,n.category===f.state.category?t.categoryNameTextSelect:{}]},n.categoryName)))))})),w()(p()(f),"calculeTotalLayout",(function(e){e.nativeEvent.layout.width>0&&f.setState({calculeTotalWidth:e.nativeEvent.layout.width},(function(){f.upDateFontSize()}))})),w()(p()(f),"totalLayout",(function(e){e.nativeEvent.layout.width>0&&f.setState({totalWidth:e.nativeEvent.layout.width},(function(){f.upDateFontSize()}))})),w()(p()(f),"upDateFontSize",(function(){var e=f.state,t=e.fontSize,n=e.calculeTotalWidth,r=e.totalWidth,o=e.oldTotalWidth;0!==r&&0!==n&&r!==o&&n>=r&&(t>4&&(t-=2),f.setState({fontSize:t,oldPriceWidth:r}))})),w()(p()(f),"getPrice",(function(e){var t=f.state.totalCount,n=[];return n=1===t?Object(he.b)("unit_piece.one").replace(" ","").split("%d"):Object(he.b)("unit_piece.other").replace(" ","").split("%d"),C.a.createElement(C.a.Fragment,null,C.a.createElement(z.a,{style:e.confirmLeft},C.a.createElement(G.a,{style:e.confirmText,ellipsizeMode:"tail",numberOfLines:1},Object(he.b)("confirm")),C.a.createElement(G.a,{style:e["T".concat(f.state.fontSize)],ellipsizeMode:"tail",numberOfLines:1},"(",n[0])),C.a.createElement(z.a,{style:e.confirmPrice},C.a.createElement(G.a,{style:e["T".concat(f.state.fontSize)],ellipsizeMode:"tail",numberOfLines:1},String(t))),C.a.createElement(z.a,{style:e.confirmRight},C.a.createElement(G.a,{style:e["T".concat(f.state.fontSize)],ellipsizeMode:"tail",numberOfLines:1},n[1],")")))})),w()(p()(f),"getTranslateY",(function(){var e,t=f.state,n=t.scrollY,r=t.slideDirection,o=f.getTitleBarHeight();return"slideDown"===r?(o=0,e=n.interpolate({inputRange:[-1,0,o,o+1],outputRange:[f.headerTop(),f.headerTop(),-o+f.headerTop(),-o+f.headerTop()]})):(o=f.getTitleBarHeight(),e=n.interpolate({inputRange:[-1,0,o,o+1],outputRange:[f.headerTop(),f.headerTop(),-o+f.headerTop(),-o+f.headerTop()]})),e})),w()(p()(f),"filterWrapStyle",(function(){var e,t,n,r={},o={},i={};if("web"===O.a.OS)r={height:f.state.iskeyboardUnfold?f.state.filterWrapFoldHeight:"100%"};else if(f.state.isPadApk&&!f.state.isFixScreen){var a;r="bottomNav"===(null===(a=f.props)||void 0===a?void 0:a.container)?f.state.isShowLayout?{height:f.state.screenHeight-f.state.bottomNavBarHeight-58}:{height:f.state.screenHeight-f.state.bottomNavBarHeight}:{height:f.state.screenHeight}}else r={};(ge.a.isIOS()&&"bottomNav"!==(null===(e=f.props)||void 0===e?void 0:e.container)&&(o={bottom:Je}),ge.a.isIOS())?i="bottomNav"===(null===(n=f.props)||void 0===n?void 0:n.container)&&f.state.isShowLayout?{top:Je?2*Ye:3*Ye}:{top:Ye}:ge.a.isAndroid()&&"bottomNav"===(null===(t=f.props)||void 0===t?void 0:t.container)&&(i=f.state.isPadApk&&!f.state.isFixScreen&&"small"===Object(I.a)(f.state.width)?f.state.isShowLayout?{top:q.a.currentHeight}:{}:{top:q.a.currentHeight});return Ue(Ue(Ue({},r),o),i)})),w()(p()(f),"headerTop",(function(){var e,t,n;return"bottomNav"===(null===(e=f.props)||void 0===e?void 0:e.container)?ge.a.isAndroid()?f.state.isPadApk&&!f.state.isFixScreen&&"small"===Object(I.a)(f.state.width)?"bottomNav"===(null===(t=f.props)||void 0===t?void 0:t.container)&&f.state.isShowLayout?q.a.currentHeight:0:q.a.currentHeight:ge.a.isIOS()&&"bottomNav"===(null===(n=f.props)||void 0===n?void 0:n.container)&&f.state.isShowLayout?Je?Ye:2*Ye:0:0})),w()(p()(f),"_getStatusBarHeight",(function(){var e;return ge.a.isAndroid()?"bottomNav"===(null===(e=f.props)||void 0===e?void 0:e.container)?f.state.isPadApk&&!f.state.isFixScreen&&"small"===Object(I.a)(f.state.width)?0:q.a.currentHeight:0:ge.a.isIOS()?Ye:0})),w()(p()(f),"getFilterWrapHeight",(function(e){var t=e.nativeEvent.layout.height;0===t||f.state.iskeyboardUnfold?0!==t&&f.state.iskeyboardUnfold&&f.setState({filterWrapUnfoldHeight:t}):f.setState({filterWrapFoldHeight:t})})),w()(p()(f),"renderFilterWrap",(function(e,t){var n,r,o,i,a;return C.a.createElement(z.a,{style:["web"===O.a.OS?e.filterWrapWeb:e.filterWrapAPk,f.state.isOpenFilter?null:e.none,f.filterWrapStyle(),"web"===O.a.OS&&{paddingBottom:f.state.bottomNavBarHeight}],onLayout:f.getFilterWrapHeight},C.a.createElement(Y.a,{onPress:f.closeFilter},C.a.createElement(z.a,{style:e.filterHideWrap})),C.a.createElement(F.a.View,{style:[e.filterShowWrap,{width:f.filterShowWrapWidth(),transform:[{translateX:f.state.filterShowWrapRight}]}]},C.a.createElement(U.a,{nativeID:"filterShowWrap",style:e.filterShowWrapScrollView},C.a.createElement(z.a,{style:[e.subTitle,e.marginTopNone]},C.a.createElement(G.a,{style:e.subTitleText,ellipsizeMode:"tail",numberOfLines:1},Object(he.b)("price_range"))),C.a.createElement(z.a,{style:e.option},C.a.createElement(z.a,{style:e.price},C.a.createElement(G.a,{style:[e.priceInputPlaceholder,""!==f.state.mininumPrice?e.priceInputPlaceholderHide:null]},Object(he.b)("mininum_price")),"bottomNav"===(null===(n=f.props)||void 0===n?void 0:n.container)&&ge.a.isAndroid()?C.a.createElement(z.a,{style:e.priceMarginTop}):null,"bottomNav"===(null===(r=f.props)||void 0===r?void 0:r.container)&&ge.a.isAndroid()?C.a.createElement(Q.a,{style:[e.priceInput,f.state.mininumPriceFocus||""===f.state.mininumPrice?e.priceInputing:e.priceInputComplete],ref:function(e){f.mininumPriceView=e},selectionColor:t.C35.color,value:f.state.mininumPrice,onChangeText:function(e){return f.changeValue("mininumPrice",e)},onFocus:function(){f.onFocusValue("mininumPrice")},onBlur:function(e){var t=e.nativeEvent.text;f.onBlurValue("mininumPrice",t)},allowFontScaling:!1}):C.a.createElement(Q.a,{style:[e.priceInput,f.state.mininumPriceFocus||""===f.state.mininumPrice?e.priceInputing:e.priceInputComplete],ref:function(e){f.mininumPriceView=e},maxLength:8,selectionColor:t.C35.color,value:f.state.mininumPrice,onChangeText:function(e){return f.changeValue("mininumPrice",e)},onFocus:function(){f.onFocusValue("mininumPrice")},onBlur:function(e){var t=e.nativeEvent.text;f.onBlurValue("mininumPrice",t)},allowFontScaling:!1,autoFocus:!1,keyboardType:"numeric",disableFullscreenUI:!0})),C.a.createElement(z.a,{style:e.split},C.a.createElement(G.a,{style:e.splitText},"-")),C.a.createElement(z.a,{style:e.price},C.a.createElement(G.a,{style:[e.priceInputPlaceholder,""!==f.state.maxinumPrice?e.priceInputPlaceholderHide:null]},Object(he.b)("maxinum_price")),"bottomNav"===(null===(o=f.props)||void 0===o?void 0:o.container)&&ge.a.isAndroid()?C.a.createElement(z.a,{style:e.priceMarginTop}):null,"bottomNav"===(null===(i=f.props)||void 0===i?void 0:i.container)&&ge.a.isAndroid()?C.a.createElement(Q.a,{style:[e.priceInput,f.state.maxinumPriceFocus||""===f.state.maxinumPrice?e.priceInputing:e.priceInputComplete],ref:function(e){f.maxinumPriceView=e},selectionColor:t.C35.color,value:f.state.maxinumPrice,onChangeText:function(e){return f.changeValue("maxinumPrice",e)},onFocus:function(){f.onFocusValue("maxinumPrice")},onBlur:function(e){var t=e.nativeEvent.text;f.onBlurValue("maxinumPrice",t)},allowFontScaling:!1}):C.a.createElement(Q.a,{style:[e.priceInput,f.state.maxinumPriceFocus||""===f.state.maxinumPrice?e.priceInputing:e.priceInputComplete],ref:function(e){f.maxinumPriceView=e},maxLength:8,selectionColor:t.C35.color,value:f.state.maxinumPrice,onChangeText:function(e){return f.changeValue("maxinumPrice",e)},onFocus:function(){f.onFocusValue("maxinumPrice")},onBlur:function(e){var t=e.nativeEvent.text;f.onBlurValue("maxinumPrice",t)},allowFontScaling:!1,autoFocus:!1,keyboardType:"numeric",disableFullscreenUI:!0}))),f.state.labelList.length>0?C.a.createElement(z.a,null,C.a.createElement(z.a,{style:e.subTitle},C.a.createElement(G.a,{style:e.subTitleText,ellipsizeMode:"tail",numberOfLines:1},Object(he.b)("category_single_choice")),f.state.labelList.length>4?C.a.createElement(Y.a,{onPress:function(){f.toggleAll("category")}},C.a.createElement(z.a,{style:e.all},C.a.createElement(G.a,{style:e.allText,ellipsizeMode:"tail",numberOfLines:1},Object(he.b)("all")),C.a.createElement(z.a,{style:e.allIcon},C.a.createElement(Ae.a,{normalCol:t.C24.color,opacity:t.C24.opacity,iconName:f.state.isOpenAll.category?"ic_public_arrow_up":"ic_public_arrow_down",width:16,height:16})))):null),C.a.createElement(z.a,{style:[e.option,e.optionColumn,f.state.isOpenAll.category?{}:e.optionMaxHeight]},C.a.createElement(ye.a,{col:2,rowGutter:12,colGutter:12,pageGutter:0,dataArray:f.state.labelList,boxWidth:f.filterShowWrapWidth()-(f.isPad()?48:32),initialNumToRender:f.state.labelList.length,renderItem:function(t){var n=t.item,r=t.index;return f.renderCategoryButton(n,r,e)}}))):null,(null===(a=f.state.labelContentList)||void 0===a?void 0:a.length)>0?f.state.labelContentList.map((function(n,r){return C.a.createElement(z.a,{key:n.fieldName+(null==r?void 0:r.toString())},C.a.createElement(z.a,{style:e.subTitle},C.a.createElement(G.a,{style:e.subTitleText,ellipsizeMode:"tail",numberOfLines:1},n.displayName),n.itemEntryList.length>4?C.a.createElement(Y.a,{onPress:function(){f.toggleAll(n.fieldName)}},C.a.createElement(z.a,{style:e.all},C.a.createElement(G.a,{style:e.allText,ellipsizeMode:"tail",numberOfLines:1},Object(he.b)("all")),C.a.createElement(z.a,{style:e.allIcon},C.a.createElement(Ae.a,{normalCol:t.C24.color,opacity:t.C24.opacity,iconName:f.state.isOpenAll[n.fieldName]?"ic_public_arrow_up":"ic_public_arrow_down",width:16,height:16})))):null),C.a.createElement(z.a,{style:[e.option,e.optionColumn,f.state.isOpenAll[n.fieldName]?{}:e.optionMaxHeight]},C.a.createElement(ye.a,{col:2,rowGutter:12,colGutter:12,pageGutter:0,dataArray:n.itemEntryList,boxWidth:f.filterShowWrapWidth()-(f.isPad()?48:32),initialNumToRender:n.itemEntryList.length,renderItem:function(t){var r=t.item,o=t.index;return f.renderlabelContentButton(n,r,o,e)}})))})):null,C.a.createElement(z.a,{style:e.marginBottom})),C.a.createElement(z.a,{style:[e.submitButton,{width:f.filterShowWrapWidth()}]},C.a.createElement(z.a,{style:e.confirmCalcule,onLayout:f.calculeTotalLayout},f.getPrice(e)),C.a.createElement(Y.a,{onPress:f.reset},C.a.createElement(z.a,{style:e.reset},C.a.createElement(G.a,{style:e.resetText,ellipsizeMode:"tail",numberOfLines:1},Object(he.b)("reset")))),C.a.createElement(Y.a,{onPress:f.closeFilter},C.a.createElement(z.a,{style:e.confirm,onLayout:f.totalLayout},f.getPrice(e))))))}));var h=f.props.tagid?null===(r=f.props.tagid)||void 0===r?void 0:r.toString():null===(o=f.props.routeParams)||void 0===o||null===(i=o.tagid)||void 0===i?void 0:i.toString();return(null===(l=h)||void 0===l?void 0:l.split("_").length)>1?h=h.split("_").join(";"):(null===(c=h)||void 0===c?void 0:c.split(",").length)>1&&(h=h.split(",").join(";")),f.state={scrollY:new F.a.Value(0),scrollYWeb:0,prefixPm:ge.a.isApp()?"1":"2",pageType:Pe.g.categoryList,layoutType:de.a.oneByOne,pageSize:20,pageNum:1,totalCount:0,resultType:de.b.product,searchSortField:0,searchSortType:de.c.desc,sid:void 0,ruleId:"",searchId:void 0,sortFieldList:[],resultList:[],labelList:[],labelContentList:[],labelContentSelect:{},width:Object(te.x)(Pe.g.categoryList).screenWidth,height:Object(te.x)(Pe.g.categoryList).screenHeight,screenHeight:Object(te.x)(Pe.g.categoryList).screenHeight,category:"",showLoading:!0,loadState:1,loadingPostion:"bottom",isLoad:!1,isFristLoad:!1,isTitleBarHide:!1,titleBarHeight:new F.a.Value(0),filterShowWrapRight:new F.a.Value(0),isOpenFilter:!1,isOpenFilterComplete:!0,mininumPrice:"",maxinumPrice:"",mininumPriceFocus:!1,maxinumPriceFocus:!1,isOpenAll:{},cartNum:0,calculeTotalWidth:0,totalWidth:0,fontSize:10,oldTotalWidth:0,filterWrapFoldHeight:Object(te.x)(Pe.g.categoryList).screenHeight,filterWrapUnfoldHeight:Object(te.x)(Pe.g.categoryList).screenHeight,iskeyboardUnfold:!1,name:f.props.name,tagid:h,curWinTop:0,slideDirection:"slideDown",oldSlideDirection:"slideDown",isScrollWeb:!0,isPadApk:!1,isFixScreen:!1,isShowLayout:!1!==f.props.isShowLayout,bottomNavBarHeight:"bottomNav"===(null===(u=f.props)||void 0===u?void 0:u.container)?null===(d=f.props)||void 0===d?void 0:d.getbottomNavBarHeight():0},f.categoryView=C.a.createRef(),f}return u()(n,[{key:"UNSAFE_componentWillMount",value:function(){Object(He.j)()||(this._panResponder=$.a.create({onMoveShouldSetPanResponderCapture:function(){return!0}}),this._panResponderApk=$.a.create({onMoveShouldSetPanResponderCapture:function(){return!1}}))}},{key:"componentDidMount",value:function(){var e=this;if("web"===O.a.OS){var t=window.navigator.userAgent.toLocaleLowerCase();/android/.test(t)&&(this.originHeight=document.documentElement.clientHeight||document.body.clientHeight,this.resizeHandler=function(){(document.documentElement.clientHeight||document.body.clientHeight)<e.originHeight?e.setState({iskeyboardUnfold:!0}):e.setState({iskeyboardUnfold:!1}),window.innerHeight!==e.state.height&&e.setState({height:window.innerHeight})},window.addEventListener("resize",this.resizeHandler)),document.addEventListener("scroll",F.a.event([{target:{scrollingElement:{scrollTop:this.state.scrollY}}}],{useNativeDriver:!0,listener:function(t){e._onScrollWeb(t.target.scrollingElement.scrollTop)}})),this.windowsListener=window.addEventListener("orientationchange",this.handleOrientationChange),Ge.getCsrftoken().finally((function(){e.tid=Object(_e.c)(),e._queryPrd()}))}else this.lister1=B.a.addListener("NativeCallAction",(function(t){var n,r,o;"currentHeight"===(null==t?void 0:t.action)&&"screen"===(null==t?void 0:t.service)&&null!=t&&null!==(n=t.param)&&void 0!==n&&n.height&&(e.state.screenHeight!==(null==t||null===(r=t.param)||void 0===r?void 0:r.height)&&e.setState({screenHeight:null==t||null===(o=t.param)||void 0===o?void 0:o.height}))})),ve.a.invokeVmallNative("device","isPad",{}).then((function(t){null!=t&&t.pad&&"true"===(null==t?void 0:t.pad)?e.setState({isPadApk:!0}):e.setState({isPadApk:!1})})),Object(He.i)().then((function(t){e.setState({isFixScreen:t})})),X.a.addEventListener("hardwareBackPress",this.handleApkBack),Object(te.j)(oe.a.DEVICE_INFO).then((function(t){e.tid=null==t?void 0:t.tid,e.deviceType=null==t?void 0:t.deviceType})).finally((function(){e._queryPrd()}));var n=ge.a.isApp()?"1":ge.a.isWap(this.getSize().width)?"2":"3";ue.onUpdate({judPlatform:n}),this.setState({filterShowWrapRight:new F.a.Value(this.filterShowWrapWidth())}),this._getCartNum(),this.eventTracingReportByLoad()}},{key:"componentWillUnmount",value:function(){var e=this;this.wapTimer&&clearTimeout(this.wapTimer),this.wapTimer2&&clearTimeout(this.wapTimer2),this.wapTimer3&&clearTimeout(this.wapTimer3),this.state.scrollY&&this.state.scrollY.removeAllListeners(),"web"===O.a.OS?(this.focusinHandler&&this.focusoutHandler&&(document.body.removeEventListener("focusin",this.focusinHandler),document.body.removeEventListener("focusout",this.focusoutHandler)),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),document.removeEventListener("scroll",F.a.event([{target:{scrollingElement:{scrollTop:this.state.scrollY}}}],{useNativeDriver:!0,listener:function(t){e._onScrollWeb(t.target.scrollingElement.scrollTop)}})),this.windowsListener&&window.removeEventListener("orientationchange",this.handleOrientationChange)):(this.lister1&&this.lister1.remove(),X.a.removeEventListener("hardwareBackPress",this.handleApkBack))}},{key:"_getCartNum",value:function(){var e=this;Object(Re.c)().then((function(t){t&&t.cartInfo&&t.cartInfo.originalTotalNumber&&e.setState({cartNum:t.cartInfo.originalTotalNumber>99?99:t.cartInfo.originalTotalNumber})}))}},{key:"handleOrientationChange",value:function(e){90!==e.target.screen.orientation.angle&&0!==e.target.screen.orientation.angle&&270!==e.target.screen.orientation.angle&&180!==e.target.screen.orientation.angle||window.location.reload()}},{key:"render",value:function(){var e=this;return C.a.createElement(be.b,{themeStyles:function(t){return function(e,t,n){return xe.a.create({wrap:{width:"100%",height:"100%",overflow:"scroll"},statusBar:Ee({position:"absolute",width:"100%",top:0,zIndex:9999},e.S32),header:{width:"100%",position:"absolute",top:0,left:0},headerFixed:{width:"100%",position:"web"===O.a.OS?"fixed":"absolute",top:0,left:0},scrollView:Ee(Ee({},e.S32),{},{width:"100%",minHeight:"100%"}),sort:Ee(Ee({},e.S32),{},{width:"100%",height:40}),sortCol:{width:"100%",height:40,justifyContent:"center",alignItems:"center",flexDirection:"row"},sortColSpiltWrap:{position:"absolute",width:1,justifyContent:"center",height:40,left:0,top:0},sortColSpilt:{width:1,height:16,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity]},sortText:Ee(Ee({fontFamily:Ie.a.fontFamilyBase},e.T7),e.C13),select:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T8),e.C18),{},{fontWeight:"bold"}),sortIcon:{width:12,height:24,marginLeft:2,overflow:"hidden",position:"relative",top:"web"===O.a.OS?0:1},spinner_up:{position:"absolute",width:12,height:24,top:0,left:0,overflow:"hidden"},spinner_down:{position:"absolute",width:12,height:24,bottom:0,left:0,overflow:"hidden"},category:{width:"100%",height:t?90:78,marginTop:96,paddingLeft:t?24:16,marginBottom:8,marginLeft:"ios"===O.a.OS?t?24:16:0},categoryNoData:{width:"100%",height:8},categoryCard:{width:t?68:56,height:t?90:78,marginRight:t&&n?12:8,justifyContent:"center",alignItems:"center",borderTopLeftRadius:8,borderTopRightRadius:8,overflow:"hidden"},categoryPicWrap:{backgroundColor:e.C34.color+e.opacityMap[e.C34.opacity],width:t?68:56,height:t?68:56,justifyContent:"center",alignItems:"center",borderRadius:8},categoryPicWrap2:{width:t?52:40,height:t?52:40},categoryPic:{width:t?52:40,height:t?52:40,resizeMode:"cover"},categoryPicWrapSelect:Ee({},e.S31),categoryName:{width:"100%",overflow:"hidden",height:14,justifyContent:"center",alignItems:"center",marginVertical:4},categoryNameLong:{width:"web"===O.a.OS?67.2:56},categoryNameText:Ee(Ee({textAlign:"center",fontFamily:Ie.a.fontFamilyBase,fontSize:"web"===O.a.OS?12:10,transform:"web"===O.a.OS?[{scale:5/6}]:[]},e.T1),e.C13),categoryNameTextSelect:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T2),e.C18),{},{fontWeight:"bold"}),lodingTitle:{color:e.C13.color},onLayout:{width:"100%",height:"100%",position:"absolute",top:"-100%"},productList:{width:"100%",paddingHorizontal:t?24:16},productItemWrap:{width:"100%",height:"auto"},empty:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},product_no_data:{width:120,height:120},empty_text_wrap:{marginTop:8},empty_text:Ee(Ee({width:"100%",textAlign:"center",fontFamily:Ie.a.fontFamilyBase},e.T7),e.C15),fixedButton:{position:"absolute",bottom:48,right:16,width:50,height:50},filterWrapWeb:{position:"web"===O.a.OS?"fixed":"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:e.C80.color+e.opacityMap[e.C80.opacity],flexDirection:"row"},filterWrapAPk:{position:"absolute",top:0,left:0,width:"100%",bottom:0,backgroundColor:e.C80.color+e.opacityMap[e.C80.opacity],flexDirection:"row"},filterHideWrap:{flexGrow:1,flexShrink:1,flexBasis:"auto",height:"100%"},filterShowWrap:Ee(Ee({flexGrow:0,flexShrink:0,flexBasis:"auto",width:296,height:"100%",borderBottomLeftRadius:16,borderTopLeftRadius:16},e.S31),{},{paddingTop:8,paddingBottom:60,overflow:"hidden"}),filterShowWrapScrollView:{width:"100%",height:"100%",paddingHorizontal:t?24:16},marginBottom:{width:"100%",height:16},subTitle:{width:"100%",height:48,alignItems:"flex-end",paddingBottom:8,marginTop:8,flexDirection:"row"},marginTopNone:{marginTop:0},subTitleText:Ee(Ee(Ee({flexGrow:1,flexShrink:1,flexBasis:"auto",fontFamily:Ie.a.fontFamilyMedium},e.T8),e.C13),{},{textAlign:"left",fontWeight:"bold"}),all:{flexBasis:"auto",minWidth:42,maxWidth:"33.333%",height:19,marginLeft:8,flexDirection:"row"},allText:Ee(Ee(Ee({flexGrow:1,flexShrink:1,flexBasis:"auto",textAlign:"right",fontFamily:Ie.a.fontFamilyBase},e.T7),e.C13),{},{height:19,lineHeight:19,marginRight:4}),allIcon:{position:"relative",top:1},option:{width:"100%",height:"auto",flexDirection:"row"},optionColumn:{flexDirection:"column",overflow:"hidden"},optionMaxHeight:{maxHeight:68},button:{width:"100%",borderRadius:56,height:28,paddingHorizontal:8,justifyContent:"center",backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity]},buttonSelect:{backgroundColor:e.C78.color+e.opacityMap[e.C78.opacity]},buttonText:Ee(Ee({width:"100%",textAlign:"center",fontFamily:Ie.a.fontFamilyBase},e.T3),e.C11),buttonSelectText:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T4),e.C18),{},{fontWeight:"bold"}),split:{flexGrow:0,flexShrink:0,flexBasis:"auto",marginHorizontal:8,height:28,justifyContent:"center"},splitText:Ee(Ee({fontFamily:Ie.a.fontFamilyBase},e.T3),e.C13),price:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"50%",borderRadius:56,height:28,overflow:"hidden"},priceMarginTop:{width:"100%",height:5,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity]},priceInput:Ee(Ee(Ee({width:"100%",height:"100%",textAlign:"center",paddingHorizontal:8,paddingVertical:0,fontFamily:Ie.a.fontFamilyBase},e.T3),e.C11),{},{position:"relative",zIndex:15,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity]}),priceInputing:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyBase},e.T3),e.C11),{},{textAlign:"center"}),priceInputComplete:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T4),e.C18),{},{textAlign:"center",fontWeight:"bold"}),priceInputPlaceholder:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyBase},e.T3),e.C15),{},{position:"absolute",top:0,left:0,width:"100%",height:28,lineHeight:28,textAlign:"center",zIndex:10}),priceInputPlaceholderHide:{opacity:0},submitButton:{width:"100%",paddingHorizontal:t?24:16,height:56,flexDirection:"row",alignItems:"center",position:"absolute",bottom:4,left:0,overflow:"hidden"},reset:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"50%",height:40,borderRadius:20,justifyContent:"center",alignItems:"center",marginRight:6,paddingHorizontal:16,backgroundColor:e.C39.color+e.opacityMap[e.C39.opacity]},resetText:Ee(Ee(Ee({width:"100%",fontFamily:Ie.a.fontFamilyMedium,textAlign:"center"},e.T10),e.C11),{},{fontWeight:"bold"}),confirm:{flexGrow:1,flexShrink:1,flexBasis:"auto",width:"50%",height:40,borderRadius:20,justifyContent:"center",alignItems:"center",marginLeft:6,paddingHorizontal:16,backgroundColor:e.C35.color+e.opacityMap[e.C35.opacity],flexDirection:"row"},confirmCalcule:{position:"absolute",top:-60,left:0,height:40,justifyContent:"center",alignItems:"center",paddingHorizontal:16,backgroundColor:e.C35.color+e.opacityMap[e.C35.opacity],flexDirection:"row"},confirmLeft:{flexGrow:0,flexShrink:0,flexBasis:"auto",height:40,flexDirection:"row",alignItems:"center"},confirmRight:{flexGrow:0,flexShrink:0,flexBasis:"auto",height:40,flexDirection:"row",alignItems:"center"},confirmPrice:{flexGrow:0,flexShrink:1,flexBasis:"auto",height:40,flexDirection:"row",alignItems:"center"},confirmText:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T10),e.C17),{},{fontWeight:"bold"}),none:{left:"100%"},fixedButtonFalse:{position:"absolute",top:0,left:0},FixedButtonTrue:{position:"absolute",bottom:48,right:16,width:50,height:50},loadingWrap:{position:"web"===O.a.OS?"fixed":"absolute",top:0,left:0,width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},T10:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T10),e.C17),{},{fontWeight:"bold"}),T8:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T8),e.C17),{},{fontWeight:"bold"}),T6:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T6),e.C17),{},{fontWeight:"bold"}),T4:Ee(Ee(Ee({fontFamily:Ie.a.fontFamilyMedium},e.T4),e.C17),{},{fontWeight:"bold"}),titleBarNone:{width:"100%",height:56}})}(t,e.isPad(),e.isPadHorizonta())}},(function(t,n,r){var o;return r=Object(He.j)()?Object(te.x)(e.props.pageType||"homePage").screenWidth:r,e.initWidth(r),C.a.createElement(C.a.Fragment,null,C.a.createElement(z.a,{style:t.onLayout,onLayout:function(t){Object(re.a)(t,e.state.pageType)}}),C.a.createElement(J.a,a()({style:[t.wrap,{paddingTop:e.headerTop()}]},Object(He.j)()?{}:"web"===O.a.OS?e._panResponder.panHandlers:e._panResponderApk.panHandlers,{nativeID:"activity_no_focus_outline"}),e.renderFlatlist(t),C.a.createElement(F.a.View,{style:[e.state.curWinTop>=e.getTitleBarHeight()&&"web"===O.a.OS?t.headerFixed:t.header,{transform:[{translateY:"web"!==O.a.OS||e.state.isScrollWeb?e.getTranslateY():e.state.titleBarHeight}]}]},C.a.createElement(je.a,{titleName:e.state.name,onPress:e.handleApkBack,isChange:!0,layoutType:e.state.layoutType,onPressChange:e.onPressChange}),C.a.createElement(we.a,{size:30,gutter:0,style:t.sort},e.state.sortFieldList.map((function(r,o){var i;return C.a.createElement(Se.a,{sm:6,md:6,lg:6,key:r.sortCode+"_"+o},"-1"!==r.sortCode?C.a.createElement(Y.a,{onPress:function(){"filter"===r.sortCode?e.openFilter():e.changeSort(r)}},C.a.createElement(z.a,{style:t.sortCol},o===e.state.sortFieldList.length-1?C.a.createElement(z.a,{style:t.sortColSpiltWrap},C.a.createElement(z.a,{style:t.sortColSpilt})):null,C.a.createElement(G.a,{ellipsizeMode:"tail",numberOfLines:1,style:[t.sortText,r.sortCode===(null===(i=e.state.searchSortField)||void 0===i?void 0:i.toString())?t.select:{}]},r.sortName),r.sortType===de.d.all?C.a.createElement(z.a,{style:t.sortIcon},C.a.createElement(z.a,{style:t.spinner_up},C.a.createElement(Ae.a,{normalCol:r.sortCode===e.state.searchSortField.toString()&&e.state.searchSortType===de.c.asc?n.C35.color:n.C23.color,opacity:r.sortCode===e.state.searchSortField.toString()&&e.state.searchSortType===de.c.asc?n.C35.opacity:n.C23.opacity,iconName:"ic_spinner_up",width:24,height:24})),C.a.createElement(z.a,{style:t.spinner_down},C.a.createElement(Ae.a,{normalCol:r.sortCode===e.state.searchSortField.toString()&&e.state.searchSortType===de.c.desc?n.C35.color:n.C23.color,opacity:r.sortCode===e.state.searchSortField.toString()&&e.state.searchSortType===de.c.desc?n.C35.opacity:n.C23.opacity,iconName:"ic_spinner_down",width:24,height:24}))):null)):null)})))),e.renderFilterWrap(t,n),ge.a.isApp()?C.a.createElement(C.a.Fragment,null,C.a.createElement(F.a.View,{pointerEvents:"box-none",style:t.fixedButtonFalse},C.a.createElement(Me.a,{fixedButton:!1,pageType:e.state.pageType})),C.a.createElement(F.a.View,{style:t.FixedButtonTrue},C.a.createElement(Me.a,{fixedButton:!0,onBackTop:e.onBackTop,pageType:e.state.pageType}))):C.a.createElement(Be.a,{cartNum:e.state.cartNum}),C.a.createElement(Te.a,{pageType:e.state.pageType})),C.a.createElement(z.a,{style:[t.statusBar,{height:e._getStatusBarHeight()}]}),"ios"===O.a.OS&&"bottomNav"!==(null===(o=e.props)||void 0===o?void 0:o.container)&&Je>0&&C.a.createElement(z.a,{style:{position:"absolute",width:"100%",bottom:0,zIndex:9999,backgroundColor:n.C32.color,height:Je}}))}))}}]),n}(S.Component),qe=Object(Ce.a)(Object(ee.a)(pe)(Object(Oe.a)(Ke))),Qe=n(17),$e=n.n(Qe),Xe=n(26),Ze=n.n(Xe),et={clickItem:function(e,t){var n,r={},o=this.props,i=o.pageCatCode,a=o.pageCatName;return"0"==e.searchSortField?r.sort="total":"1"==e.searchSortField?"asc"==e.searchSortType?r.sort="priceup":r.sort="pricedown":"2"==e.searchSortField?r.sort="newes":"3"==e.searchSortField&&(r.sort="review"),"商品"===t?(r={productId:e.productId,productname:e.productname,SKUCode:e.SKUCode,location:String(e.location),click:"1",sort:r.sort},n={actionCode:"300120101",actionName:"分类列表页点击-".concat(e.productname),eventType:oe.e.EVENT_TYPE_CLICK,content:r}):"排序"===t?(r={sort:r.sort,click:e.click},n={actionCode:"300120201",actionName:"点击排序",eventType:oe.e.EVENT_TYPE_CLICK,content:r}):"筛选"===t&&(r={typename:e.typename,id:e.id,idname:e.idname,click:e.click,type:e.type},n={actionCode:"300120202",actionName:"点击筛选",eventType:oe.e.EVENT_TYPE_CLICK,content:r,pageCatCode:i,pageCatName:a,resSiteCode:"",resSiteName:""}),{data:n}}};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=function(e){return xe.a.create({reviewNum:nt(nt(nt({},e.T1),e.C13),{},{marginRight:16,marginTop:4,fontSize:12,opacity:.5})})},ot=function(e){return xe.a.create({onLayout:{position:"absolute",width:"100%",height:"100%",top:"-100%"},homeWrapper:{backgroundColor:e.S32.backgroundColor},product:{width:1200,margin:"auto",marginBottom:24},emptyWrapper:{height:251,display:"flex",alignItems:"center",paddingTop:64},emptyImg:{width:96,height:96},emptyTxt:nt(nt(nt({fontFamily:Ie.a.fontFamilyBase},e.C15),e.T8),{},{fontWeight:"400"}),pcItemBox:{width:"100%",maxWidth:1200,marginLeft:"auto",marginRight:"auto",marginBottom:40}})},it=n(153),at=n(125),lt=n(85),st=n(148),ct=n(660);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt=function(e){return xe.a.create({homeWrapper:{width:1200,margin:"auto",marginBottom:24,position:"relative",zIndex:3},title:{height:63,lineHeight:63,display:"flex",flexDirection:"row",alignItems:"center"},title_1:dt(dt(dt({height:15,fontFamily:"HYQiHei-EES"},e.T3),e.C12),{},{fontWeight:"300"}),title_1_hover:dt(dt(dt({},e.T3),e.C18),{},{cursor:"pointer"}),title_2:dt(dt(dt({fontFamily:"HYQiHei-FES"},e.T4),e.C11),{},{fontWeight:"500"}),title_2_hover:dt(dt(dt({},e.T4),e.C18),{},{cursor:"pointer"}),dayu:dt(dt(dt({},e.T3),e.C12),{},{marginHorizontal:2}),search:{backgroundColor:e.C17.color,paddingHorizontal:24},search_item:{height:48,width:104,display:"flex",flexDirection:"row",alignItems:"center"},search_item_left:dt(dt(dt({fontFamily:"MicrosoftYaHei"},e.T3),e.C14),{},{fontWeight:"400"}),search_item_right_wra:{paddingHorizontal:4,width:104,marginHorizontal:8},search_item_right:dt(dt(dt({fontFamily:Ie.a.fontFamilyBase},e.T3),e.C11),{},{fontWeight:"400"}),search_item_right_hover:dt(dt(dt({},e.T3),e.C18),{},{cursor:"pointer"}),search_item_right_Selected:dt(dt(dt({},e.T4),e.C18),{},{cursor:"pointer",fontWeight:"600"}),search_item_right_click:dt(dt(dt({},e.T4),e.C18),{},{cursor:"pointer"}),search_item_right_container:{display:"flex",flexDirection:"row",alignItems:"center"},more:dt(dt(dt({fontFamily:Ie.a.fontFamilyBase},e.C14),e.T3),{},{fontWeight:"400",cursor:"pointer"}),moreImg:{width:20,height:20,cursor:"pointer"},categoryItem:{display:"flex",flexDirection:"row",alignItems:"center",marginLeft:8,width:112,height:48,cursor:"pointer"},width100:{width:"100%"},entryStyle:{paddingRight:2,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:24,borderWidth:.5,borderColor:"rgba(0, 0, 0, 0)"},borderCf0a2c:dt({borderRadius:4},e.S15),categoryItemTxt:dt(dt({paddingHorizontal:4},e.C12),e.T3),pr0:{paddingRight:0},categoryItemSelected:dt(dt(dt({},e.C18),e.T4),{},{fontWeight:"600"}),categoryItemHover:dt(dt({},e.C18),e.T3),checkbox:{width:20,height:20},category:{display:"flex",flexDirection:"row",position:"relative",zIndex:1},moreOptWrap:{display:"flex",flexDirection:"row",position:"relative",zIndex:2},categoryName:{width:104,height:48,lineHeight:48,color:e.C16.color,opacity:.6,fontSize:e.T3.fontSize},moreOptTxt:{width:100},categoryListStyle:{display:"flex",flexDirection:"row",flexWrap:"wrap",width:960},optMore:{display:"flex",flexDirection:"row",flexWrap:"wrap",position:"absolute",top:48,left:-124,zIndex:0,backgroundColor:e.C17.color,borderWidth:1,borderColor:"rgba(0, 0, 0, 0.05)",width:1200},optMoreBg:{display:"flex",flexDirection:"row",flexWrap:"wrap",paddingLeft:128,paddingRight:24,width:"100%",minHeight:51,backgroundColor:"rgba(241, 243, 245, 0.4)"},optItemView:{position:"relative",zIndex:2,backgroundColor:"#fff"},optItem:{display:"flex",flexDirection:"row",alignItems:"center",paddingHorizontal:15,height:48,borderWidth:1,borderBottomWidth:0,borderColor:"rgba(0, 0, 0, 0)"},optHover:{height:49,backgroundColor:"rgba(241, 243, 245, 0.4)",borderWidth:1,borderBottomWidth:0,borderColor:"rgba(0,0,0,0.05)",borderTopLeftRadius:8,borderTopRightRadius:8},optItemTxt:dt(dt({},e.C12),e.T3),optItemTxtHover:dt(dt({},e.T3),e.C18),optItemTxtSelected:dt(dt(dt({},e.T4),e.C18),{},{fontWeight:"600"}),optArrowIcon:{width:20,height:20},priceWrap:{display:"flex",flexDirection:"row",alignItems:"center",height:48},sortIconWrap:{position:"relative",width:20,height:20},sortIcon:{position:"absolute",top:0,left:0,zIndex:1,width:20,height:20},priceDialog:{paddingHorizontal:16,position:"absolute",top:0,left:36,zIndex:1,width:198,height:90,backgroundColor:e.C17.color,elevation:20,shadowColor:"rgba(0, 0, 0, 0.1)",shadowOffset:{width:0,height:0},shadowOpacity:.8,shadowRadius:10},rangeDefault:{marginLeft:4,width:166},priceRange:{flexDirection:"row",alignItems:"center",height:48},priceRangeItem:dt({display:"flex",flexDirection:"row",width:72,height:24,backgroundColor:"rgba(241, 243, 245, 0.4)",borderRadius:4},e.S2),currencyFont:dt(dt(dt({paddingLeft:4,paddingRight:2,height:22},e.T3),e.C14),{},{lineHeight:22}),priceInput:dt(dt({width:59},e.T3),e.C11),priceLine:{flex:1},priceLineTxt:dt(dt(dt({},e.C12),e.T3),{},{textAlign:"center"}),btnWrap:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:6},btn:{width:68,height:24,borderRadius:12,backgroundColor:"rgba(0, 0, 0, 0.05)"},btnTxt:dt(dt(dt({height:24},e.T3),{},{lineHeight:24},e.C11),{},{textAlign:"center"}),sureBtn:{marginLeft:10,backgroundColor:e.C35.color},sureBtnTxt:dt({},e.C17),conditionWrap:{paddingVertical:4,paddingHorizontal:24,backgroundColor:e.C33.color},categoryCon:{flex:1},categoryMore:{paddingRight:4,display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",width:80,height:48},moreTxt:dt({fontSize:12},e.C14),arrowIconWrap:{position:"relative",width:20,height:20},arrowIcon:{position:"absolute",top:0,left:0,zIndex:1,width:20,height:20},optListWrap:{display:"flex",flexDirection:"row",width:960},h51:{height:51},priceWidth:{width:233}})},ft=n(79);function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var gt,mt=function(e){h()(n,e);var t=ht(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"screenParams",{}),w()(p()(r),"priceLabel",[]),w()(p()(r),"goMore",(function(){r.setState({isopen:!r.state.isopen})})),w()(p()(r),"mouseInPrice",(function(){r.setState({showPriceDialog:!0})})),w()(p()(r),"mouseOutPrice",(function(){r.setState({showPriceDialog:!1})})),w()(p()(r),"clearPrice",(function(){r.setState({gt:"",lte:""}),r.priceLabel={},ft.a.onUpdatePriceLabel(r.priceLabel),r.props.childClick(!1,!1,!1)})),w()(p()(r),"surePrice",(function(){var e=r.state,t=e.gt,n=e.lte;if("web"===O.a.OS&&t&&n&&parseInt(t,10)>parseInt(n,10)){var o=t;t=n,n=o,r.setState({gt:t,lte:n,showPriceDialog:!1})}r.setState({showPriceDialog:!1});var i={};r.priceLabel=[],t||n?(i.gt=t||0,i.lte=n||99999999,r.priceLabel.push(i)):r.priceLabel={},ft.a.onUpdatePriceLabel(r.priceLabel),r.props.childClick(!1,!1,!1)})),r.state={isopen:!1,categoryNameList:r.props.labelList,labelContentList:r.props.labelContentList,itemEntryList:r.props.itemEntryList,sortList:r.props.sortFieldList,priceSortType:r.props.priceSortType,gt:"",lte:"",showPriceDialog:!1,dataName:[],dataType:[],typename:[],dataId:[],dataIdName:[],id:[],dataIndex:[]},r}return u()(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({labelContentList:e.labelContentList,categoryNameList:e.labelList,itemEntryList:e.itemEntryList,sortList:e.sortFieldList})}},{key:"componentDidMount",value:function(){this.initScreenParams()}},{key:"initScreenParams",value:function(){var e,t=this;null===(e=this.props.labelContentList)||void 0===e||e.forEach((function(e){t.screenParams[e.fieldName]=[]}))}},{key:"mouseInItem",value:function(e){var t,n=this.state.categoryNameList;null===(t=this.state.categoryNameList)||void 0===t||t.forEach((function(t){e.category===t.category?t.isHover=!0:t.isHover=!1})),this.setState({categoryNameList:n})}},{key:"mouseOutItem",value:function(){var e,t=this.state.categoryNameList;null===(e=this.state.categoryNameList)||void 0===e||e.forEach((function(e){e.isHover=!1})),this.setState({categoryNameList:t})}},{key:"renderOptEntry",value:function(e,t,n,r){var o=this;return t.map((function(t,i){return C.a.createElement(ct.a,{onHoverIn:function(){o.mouseInEntry(t,n,i)},onHoverOut:function(){o.mouseOutEntry(t,n,i)},key:n},C.a.createElement(z.a,{style:e.categoryItem},C.a.createElement(Y.a,{style:e.width100,onPress:function(){o.clickEntryItem(t,n,r)}},C.a.createElement(z.a,{style:[e.entryStyle,(t.isHover||t.isSelected)&&e.borderCf0a2c]},C.a.createElement(G.a,{style:[e.categoryItemTxt,t.isSelected&&e.categoryItemSelected,t.isHover&&!t.isSelected&&e.categoryItemHover],numberOfLines:1},t.value),t.isSelected&&C.a.createElement(V.a,{style:e.checkbox,source:De.a.condition_checkbox_selected}),!t.isSelected&&t.isHover&&C.a.createElement(V.a,{style:e.checkbox,source:De.a.condition_checkbox})))))}))}},{key:"clickEntryItem",value:function(e,t,n){var r,o,i,a,l,s,c=this,u=this.state.labelContentList,d=[],p=!1,f=this.props.clickItem,h={type:[],typename:[],id:"",idname:"",click:"1"};if(null===(r=u[t])||void 0===r||null===(o=r.itemEntryList)||void 0===o||o.forEach((function(r){var o,i,a;if(e.key===r.key&&(r.isSelected=!r.isSelected),r.isSelected){if(p=!0,u[t].isSelected=!0,d.push(r.value),-1==(null===(o=c.state.categoryNameList)||void 0===o?void 0:o.findIndex((function(e){return 1==e.isSelected})))&&(c.state.categoryNameList[0].isSelected=!0,c.screenParams.category=[c.state.categoryNameList[0].category],ft.a.onUpdate(c.screenParams)),null===(i=c.screenParams[n.fieldName])||void 0===i||!i.includes(r.key)){var l,s,f,h;null===(l=c.screenParams[n.fieldName])||void 0===l||l.push(r.key),c.state.dataName.push(n.fieldName);var g,m,y=null===(s=c.state.labelContentList)||void 0===s?void 0:s.findIndex((function(e){return e.fieldName==n.fieldName}));if(null===(f=c.state.dataId)||void 0===f||!f.includes(r.id))null===(g=c.state.dataId)||void 0===g||g.push(r.id),null===(m=c.state.dataIndex)||void 0===m||m.push(r.index),c.state.dataIdName.push(r.value);null!==(h=c.state.dataType)&&void 0!==h&&h.includes(y+1)||c.state.dataType.push(y+1)}}else if(null!==(a=c.screenParams[n.fieldName])&&void 0!==a&&a.includes(r.key)){var v=c.screenParams[n.fieldName].findIndex((function(e){return e==r.key}));c.screenParams[n.fieldName].splice(v,1);var b=c.state.dataId.findIndex((function(e){return r.id==e}));c.state.dataId.splice(b,1),c.state.dataIndex.splice(b,1),c.state.dataIdName.splice(b,1)}})),!p){var g,m,y=null===(g=this.state.dataType)||void 0===g?void 0:g.findIndex((function(e){return t+1==e}));null===(m=this.state.dataType)||void 0===m||m.splice(y,1)}t>=2&&(p?(u[t].displayName=d.join(","),null!==(l=this.state.dataType)&&void 0!==l&&l.includes(t+1)||this.state.dataType.push(t+1),null!==(s=this.state.typename)&&void 0!==s&&s.includes(this.state.labelContentList[t].displayName)||this.state.typename.push(this.state.labelContentList[t].displayName)):(u[t].isSelected=!1,u[t].displayName=u[t].defaultName));this.setState({labelContentList:u});var v=null===(i=this.state.dataType)||void 0===i?void 0:i.map((function(e){return u[e-1].displayName}));h.type=null===(a=this.state.dataType)||void 0===a?void 0:a.join(","),h.typename=null==v?void 0:v.join(","),h.id=this.state.dataIndex.join(","),h.idname=this.state.dataIdName.join(","),f(h,"筛选"),ft.a.onUpdate(this.screenParams),this.props.childClick(!1,!1,!1)}},{key:"mouseInEntry",value:function(e,t,n){var r,o,i=this.state.labelContentList;null===(r=i[t])||void 0===r||null===(o=r.itemEntryList)||void 0===o||o.forEach((function(t){e.key===t.key?t.isHover=!0:t.isHover=!1})),this.setState({labelContentList:i})}},{key:"mouseOutEntry",value:function(e,t,n){if(!e.isSelected){var r,o,i=this.state.labelContentList;null===(r=i[t])||void 0===r||null===(o=r.itemEntryList)||void 0===o||o.forEach((function(e){e.isHover=!1})),this.setState({labelContentList:i})}}},{key:"renderLabelCon",value:function(e){var t,n=this;return null===(t=this.state.labelContentList)||void 0===t?void 0:t.map((function(t,r){if(r<2){var o=t.itemEntryList||[];return C.a.createElement(z.a,{key:r},C.a.createElement(z.a,{style:e.category},C.a.createElement(G.a,{style:e.categoryName,numberOfLines:1,ellipsizeMode:"tail"},t.displayName," ："),C.a.createElement(z.a,{style:e.search_item_right_container},n.renderOptEntry(e,o,r,t))))}}))}},{key:"clickCategoryItem",value:function(e){var t=this.state.categoryNameList;null==t||t.forEach((function(t){e.category===t.category?t.isSelected=!t.isSelected:t.isSelected=!1})),this.setState({categoryList:t}),this.initScreenParams(),e.isSelected?this.screenParams.category=[e.category]:delete this.screenParams.category,ft.a.onUpdate(this.screenParams),this.props.childClick(!1,!1,!0)}},{key:"renderCategory",value:function(e){var t,n=this;return null===(t=this.state.categoryNameList)||void 0===t?void 0:t.map((function(t,r){if(r<8)return C.a.createElement(G.a,{numberOfLines:1,ellipsizeMode:"tail",style:[e.search_item_right_wra],key:t.id},C.a.createElement(ct.a,{onHoverIn:function(){n.mouseInItem(t)},onHoverOut:function(){n.mouseOutItem()}},C.a.createElement(G.a,{numberOfLines:1,onPress:function(){n.clickCategoryItem(t)},style:[e.search_item_right,(t.isHover||t.isSelected)&&e.search_item_right_Selected,t.isHover&&!t.isSelected&&e.search_item_right_hover]},t.categoryName)))}))}},{key:"mouseInOpt",value:function(e){var t=this.state.labelContentList;t[e].isHover=!0,this.setState({labelContentList:t})}},{key:"mouseOutOpt",value:function(e){var t=this.state.labelContentList;t[e].isHover=!1,this.setState({labelContentList:t})}},{key:"renderMoreOptions",value:function(e){var t=this;if("web"===O.a.OS){var n=this.state.labelContentList;return null==n?void 0:n.map((function(n,r){if(r>=2){var o=n.itemEntryList||[];return C.a.createElement("div",{style:{marginRight:20,minWidth:100,maxWidth:320,height:48},key:r},C.a.createElement(ct.a,{onHoverIn:function(){t.mouseInOpt(r)},onHoverOut:function(){t.mouseOutOpt(r)}},C.a.createElement("div",null,n.isHover&&C.a.createElement(z.a,{style:e.optMore},C.a.createElement(z.a,{style:e.optMoreBg},t.renderOptEntry(e,o,r,n))),C.a.createElement(z.a,{style:e.optItemView},C.a.createElement(z.a,{style:[e.optItem,n.isHover&&e.optHover]},C.a.createElement(G.a,{style:[e.optItemTxt,n.isSelected&&e.optItemTxtSelected,n.isHover&&!n.isSelected&&e.optItemTxtHover],numberOfLines:1},n.displayName),!n.isHover&&!n.isSelected&&C.a.createElement(V.a,{style:e.optArrowIcon,source:De.a.condition_open}),n.isHover&&C.a.createElement(V.a,{style:e.optArrowIcon,source:De.a.condition_hover_up}),!n.isHover&&n.isSelected&&C.a.createElement(V.a,{style:e.optArrowIcon,source:De.a.condition_hover_down}))))))}}))}}},{key:"renderSortList",value:function(e){var t=this,n=this.state,r=n.sortList,o=n.priceSortType;return null==r?void 0:r.map((function(n){return C.a.createElement(z.a,{style:[e.categoryItem,"1"===n.sortCode&&e.priceWidth],key:n.id},C.a.createElement(ct.a,{onHoverIn:function(){t.mouseInSort(n)},onHoverOut:function(){t.mouseOutSort()}},C.a.createElement(z.a,{style:e.priceWrap},C.a.createElement(G.a,{style:[e.categoryItemTxt,"1"===n.sortCode&&e.pr0,(n.isHover||n.isSelected)&&e.categoryItemSelected,n.isHover&&!n.isSelected&&e.categoryItemHover],numberOfLines:1,onPress:function(){t.clickSortItem(n)}},n.sortName),"1"===n.sortCode&&C.a.createElement(G.a,{style:e.sortIconWrap,onPress:function(){t.clickSortItem(n)}},"2"===o&&C.a.createElement(V.a,{style:e.sortIcon,source:De.a.condition_sort}),"0"===o&&C.a.createElement(V.a,{style:e.sortIcon,source:De.a.condition_sort_asc}),"1"===o&&C.a.createElement(V.a,{style:e.sortIcon,source:De.a.condition_sort_desc})))),"1"===n.sortCode&&t.renderPriceView(e))}))}},{key:"changeValue",value:function(e,t){var n;"web"===O.a.OS&&(n=""===t.replace(/\D/g,"")?"":parseInt(t,10)),this.setState(w()({},e,n))}},{key:"renderPriceView",value:function(e){var t=this,n=this.state,r=n.gt,o=n.lte,i=n.showPriceDialog;if("web"===O.a.OS)return C.a.createElement("div",{onMouseEnter:this.mouseInPrice,onMouseLeave:this.mouseOutPrice},C.a.createElement(z.a,{style:[e.priceRange,e.rangeDefault]},C.a.createElement(z.a,{style:e.priceRangeItem},C.a.createElement(G.a,{style:e.currencyFont},"¥"),C.a.createElement(Q.a,{style:e.priceInput,maxLength:8,value:r,onChangeText:function(e){return t.changeValue("gt",e)}})),C.a.createElement(z.a,{style:e.priceLine},C.a.createElement(G.a,{style:e.priceLineTxt},"-")),C.a.createElement(z.a,{style:e.priceRangeItem},C.a.createElement(G.a,{style:e.currencyFont},"¥"),C.a.createElement(Q.a,{style:e.priceInput,maxLength:8,value:o,onChangeText:function(e){return t.changeValue("lte",e)}}))),i&&C.a.createElement(z.a,{style:e.priceDialog},C.a.createElement(z.a,{style:e.priceRange},C.a.createElement(z.a,{style:e.priceRangeItem},C.a.createElement(G.a,{style:e.currencyFont},"¥"),C.a.createElement(Q.a,{style:e.priceInput,maxLength:8,value:r,onChangeText:function(e){return t.changeValue("gt",e)}})),C.a.createElement(z.a,{style:e.priceLine},C.a.createElement(G.a,{style:e.priceLineTxt},"-")),C.a.createElement(z.a,{style:e.priceRangeItem},C.a.createElement(G.a,{style:e.currencyFont},"¥"),C.a.createElement(Q.a,{style:e.priceInput,maxLength:8,value:o,onChangeText:function(e){return t.changeValue("lte",e)}}))),C.a.createElement(z.a,{style:e.btnWrap},C.a.createElement(z.a,{style:e.btn},C.a.createElement(G.a,{style:e.btnTxt,onPress:this.clearPrice},Object(he.b)("clear"))),C.a.createElement(z.a,{style:[e.btn,e.sureBtn]},C.a.createElement(G.a,{style:[e.btnTxt,e.sureBtnTxt],onPress:this.surePrice},Object(he.b)("confirm"))))))}},{key:"clickSortItem",value:function(e){var t=this.props.clickItem,n="",r=this.state,o=r.sortList,i=r.priceSortType;if(null==o||o.forEach((function(t){e.sortCode===t.sortCode?t.isSelected=!0:t.isSelected=!1})),"1"===e.sortCode)switch(i){case"0":case"2":i="1";break;case"1":i="0"}else i="2";switch(i){case"0":n="asc";break;case"1":case"2":n="desc"}this.setState({sortList:o,priceSortType:i}),ft.a.updateSearchSortField(e),ft.a.updateSearchSortType(n),t({searchSortField:ft.a.searchSortField,searchSortType:ft.a.searchSortType,click:"1"},"排序"),this.props.childClick(!1,!1,!1)}},{key:"mouseInSort",value:function(e){var t=this.state.sortList;null==t||t.forEach((function(t){e.sortCode===t.sortCode?t.isHover=!0:t.isHover=!1})),this.setState({sortList:t})}},{key:"mouseOutSort",value:function(){var e=this.state.sortList;null==e||e.forEach((function(e){e.isHover=!1})),this.setState({sortList:e})}},{key:"goHome",value:function(){Object(te.A)("/",!0)}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<(null===(r=this.props.twoList)||void 0===r?void 0:r.slice(8).length);n+=8){var r,o,i;t.push(null===(o=this.props.twoList)||void 0===o||null===(i=o.slice(8))||void 0===i?void 0:i.slice(n,n+8))}return C.a.createElement(be.b,{themeStyles:pt},(function(n){var r,o,i;return C.a.createElement(z.a,{style:n.homeWrapper},C.a.createElement(z.a,{style:n.title},C.a.createElement(ct.a,null,(function(t){return C.a.createElement(G.a,{onPress:function(){e.goHome()},numberOfLines:1,ellipsizeMode:"tail",style:[t?n.title_1_hover:n.title_1]},Object(he.b)("tab_index"))})),null===(r=e.props.titleList)||void 0===r?void 0:r.map((function(e,t){return C.a.createElement(G.a,null,C.a.createElement(G.a,{key:t,style:n.dayu},">"),C.a.createElement(ct.a,null,(function(t){return C.a.createElement(G.a,{numberOfLines:1,ellipsizeMode:"tail",style:[t?n.title_2_hover:n.title_2]},e)})))}))),C.a.createElement(z.a,{style:n.search},C.a.createElement(z.a,{style:[n.category,{paddingTop:4}]},C.a.createElement(G.a,{style:n.categoryName,numberOfLines:1,ellipsizeMode:"tail"},Object(he.b)("category")," ："),C.a.createElement(z.a,{style:n.search_item_right_container},e.renderCategory(n),(null===(o=e.props.labelList)||void 0===o?void 0:o.length)>8?C.a.createElement(Y.a,{onPress:e.goMore},C.a.createElement(z.a,{style:[{width:76,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",paddingRight:4}]},C.a.createElement(G.a,{numberOfLines:1,ellipsizeMode:"tail",style:n.more},e.state.isopen?Object(he.b)("pack_up"):Object(he.b)("common_more")),C.a.createElement(V.a,{style:n.moreImg,source:e.state.isopen?De.a.categoryFold:De.a.categoryOpen}))):null)),e.state.isopen?C.a.createElement(C.a.Fragment,null,null==t?void 0:t.map((function(t,r){return C.a.createElement(z.a,{style:[n.search_item],key:r},C.a.createElement(z.a,{style:[n.search_item_left,{width:104}]},C.a.createElement(G.a,{numberOfLines:1,ellipsizeMode:"tail"})),C.a.createElement(z.a,{style:n.search_item_right_container},null==t?void 0:t.map((function(t,r){return C.a.createElement(G.a,{numberOfLines:1,ellipsizeMode:"tail",style:[n.search_item_right_wra],key:r},C.a.createElement(ct.a,{onHoverIn:function(){e.mouseInItem(t)},onHoverOut:function(){e.mouseOutItem()}},C.a.createElement(G.a,{numberOfLines:1,onPress:function(){e.clickCategoryItem(t)},style:[n.search_item_right,(t.isHover||t.isSelected)&&n.search_item_right_Selected,t.isHover&&!t.isSelected&&n.search_item_right_hover]},t.categoryName)))}))))}))):null,e.renderLabelCon(n),(null===(i=e.state.labelContentList)||void 0===i?void 0:i.length)>2?C.a.createElement(z.a,{style:[n.category,n.moreOptWrap]},C.a.createElement(G.a,{style:[n.categoryName,n.moreOptTxt],numberOfLines:1},Object(he.b)("more_options")," ："),C.a.createElement(z.a,{style:[n.categoryListStyle]},e.renderMoreOptions(n))):null,C.a.createElement(z.a,{style:[n.category]},C.a.createElement(G.a,{style:n.categoryName,numberOfLines:1,ellipsizeMode:"tail"},Object(he.b)("sort")," ："),C.a.createElement(z.a,{style:n.search_item_right_container},e.renderSortList(n)))))}))}}]),n}(S.Component),yt=Object(Ce.a)(Object(ee.a)(et)(Object(Oe.a)(mt))),vt=n(370),bt=n(32);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var St,Ct=new Fe.a,Ot=Object(bt.c)(gt=function(e){h()(r,e);var t,n=wt(r);function r(e){var t,o;s()(this,r),o=n.call(this,e),w()(p()(o),"tid",""),w()(p()(o),"colGutter",12),w()(p()(o),"rowGutter",12),w()(p()(o),"colNum",1),w()(p()(o),"pageGutter",0),w()(p()(o),"wapTimer",null),w()(p()(o),"pageButtonChild",void 0),w()(p()(o),"titleList",void 0),w()(p()(o),"onPressProduct",N()((function(e,t){(0,o.props.clickItem)({searchSortField:ft.a.searchSortField,productId:String(e.productId),productname:e.skuName,SKUCode:e.skuCode,location:t+1,click:1,searchSortType:ft.a.searchSortType},"商品"),o.wapTimer&&clearTimeout(o.wapTimer),o.wapTimer=setTimeout((function(){Object(ne.d)(String(e.productId),String(e.skuCode))}),150)}),200)),o.colNum=4,o.colGutter=12,o.rowGutter=12;var i=Object(te.q)("tagid")?Object(te.q)("tagid").replace(";","_"):null===(t=o.props.routeParams)||void 0===t?void 0:t.tagid.toString();return i.split("_").length>1&&(i=i.split("_").join(";")),o.state={tagid:i,pageSize:20,boxWidth:P.a.get("window").width,searchSortField:0,sid:"",category:"",screenParams:void 0,searchId:"",cartNum:0,isLoading:!1,isshow:!1,isshowProdu:!1,configData:{bgColor:!0,prodTagShow:!0,outOfStockTagShow:!0,promotionTagShow:!0,mutiTagTagShow:!1,promotionShow:!0,prodSellPoint:!0,originPriceShow:!0,buyIconShow:!1,commentCountShow:!0,prdNameNum:1},totalCount:0,initData:{cards:[{cardId:"89169",cardType:"buoys",configInfo:'{"close": "1", "scene": "", "isFixed": "1", "slideUp": "false", "cardName": "f", "iconShow": "false", "showCart": "true", "cardTitle": "", "iconTexts": [{"title": "购物车", "imgUrl": "", "orderNum": 1, "actionUrl": "", "actionUrlWap": "", "actionUrlWeb": "", "iconAttribute": "cart"}, {"title": "个人中心", "imgUrl": "", "orderNum": 2, "actionUrl": "", "actionUrlWap": "", "actionUrlWeb": "", "iconAttribute": "personalCenter"}, {"title": "自助服务", "imgUrl": "", "orderNum": 3, "actionUrl": "", "actionUrlWap": "", "actionUrlWeb": "", "iconAttribute": "selfService"}], "imgNormal": "", "subTabSet": [], "titleShow": "false", "bottonShow": "true", "showSearch": "true", "sourceShow": "false", "buyIconShow": "false", "contentShow": "false", "imgDarkMode": "", "prodTagShow": "false", "liveCardShow": true, "prodCardShow": true, "showCategory": "true", "subTitleShow": "true", "topicTagShow": "true", "voteIconShow": "false", "prodSellPoint": "false", "promotionShow": "false", "separatorShow": "false", "shareIconShow": "false", "topicCardShow": false, "actionIconShow": "false", "dataSourceList": [{}], "mutiTagTagShow": "false", "userAvatarShow": "true", "viewAmountShow": "false", "winnerListShow": "true", "activityTagShow": "true", "discountTagShow": "true", "displayPosition": "lowerRight", "fillScreenWidth": "true", "groupBuyNumShow": "true", "originPriceShow": "false", "productNameShow": "true", "publishTimeShow": "false", "targetCrowdShow": "true", "topSubTitleHide": "true", "adPGCPicCardShow": true, "commentCountShow": "false", "pcDataSourceList": [{}], "promotionTagShow": "false", "subscribeNumShow": "true", "subscribeTagShow": "true", "OutOfStockTagShow": "false", "adPGCVideoCardShow": true, "capsuleTagCardShow": false, "newProductCardShow": true, "showBannerCategory": "true", "showPersonalCenter": "true", "targetCrowdGroupId": "", "strategyPicCardShow": true, "buyerShowPicCardShow": true, "otherAreaClickSwitch": "true", "ruleActivityCardShow": true, "separatorIntervalNum": "1", "targetCrowdGroupName": "", "evaluationPicCardShow": false, "strategyVideoCardShow": true, "buyerShowVideoCardShow": true, "selectedPGCPicCardShow": true, "targetCrowdShowToGroup": "true", "evaluationVideoCardShow": false, "ordinaryActivityCardShow": true, "selectedPGCVideoCardShow": true, "themeProdCollectionCardShow": true, "originPriceStrikethroughShow": "false", "ecoCollProdCollectionCardShow": true, "targetCrowdIncludeNotLoggedIn": "true", "ordinaryProdCollectionCardShow": true}'}]},navData:"",configInfo:{showSearch:"true",showCategory:"true"},resultList:[],labelContentList:[],labelList:[],itemEntryList:[],twoList:[]},o}return u()(r,[{key:"componentDidMount",value:(t=Ze()($e.a.mark((function e(){var t,n,r,o=this;return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.titleList=[],decodeURIComponent(Object(te.q)("categoryName"))?(this.titleList.push(decodeURIComponent(Object(te.q)("categoryName"))),decodeURIComponent(Object(te.q)("prdName"))&&this.titleList.push(decodeURIComponent(Object(te.q)("prdName")))):this.titleList=null===(t=this.props.routeParams)||void 0===t?void 0:t.name,this.eventTracingReportByLoad(),"android"!==O.a.OS&&"ios"!==O.a.OS){e.next=10;break}return e.next=6,Object(te.j)(oe.a.DEVICE_INFO);case 6:n=e.sent,this.tid=null==n?void 0:n.tid,e.next=11;break;case 10:"web"===O.a.OS&&(this.tid=Object(_e.c)());case 11:Ct.getCsrftoken().finally((function(){o._queryPrd(!0)})),this._getCartNum(),r={subType:"commonNavigation",portal:"1"},Object(Re.g)(r).then((function(e){for(var t in e.dataSource)o.setState({navData:e.dataSource[t].dataInfos,isLoading:!0})})).catch((function(){o.setState({isLoading:!0})}));case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_getCartNum",value:function(){var e=this;Object(Re.c)().then((function(t){t&&t.cartInfo&&t.cartInfo.originalTotalNumber&&e.setState({cartNum:t.cartInfo.originalTotalNumber>99?99:t.cartInfo.originalTotalNumber})}))}},{key:"componentWillUnmount",value:function(){this.wapTimer&&clearTimeout(this.wapTimer)}},{key:"eventTracingReportByLoad",value:function(){var e;Object(Z.a)({actionCode:"300120001",actionName:"分类列表页-页面加载",eventType:oe.e.EVENT_TYPE_LOADING_PAGE,pageId:"",content:{listid:this.state.tagid,listname:Object(te.q)("categoryName")?this.titleList.join(";"):null===(e=this.props.routeParams)||void 0===e?void 0:e.name,load:"1"}})}},{key:"_queryPrd",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r||(ft.a.updateCurrentPage(1),null===(t=this.pageButtonChild)||void 0===t||t.pageCViewck(1,void 0,void 0,11));var i={keyword:this.state.tagid,pageSize:this.state.pageSize,pageNum:String(ft.a.currentPage),searchSortField:ft.a.searchSortField,searchSortType:ft.a.searchSortType,tid:this.tid,searchId:this.state.searchId,sid:this.state.sid,screenParams:A()(ft.a.screenParams)?void 0:JSON.stringify(ft.a.screenParams),priceLabel:A()(ft.a.priceLabel)?void 0:ft.a.priceLabel};o&&this.setState({labelContentList:[]}),Object(Re.F)(i).then((function(t){if(null!=t&&t.success){var r,i,a,l;if(null==t||null===(r=t.labelList)||void 0===r||r.forEach((function(e){e.id="category"+e.category,e.isHover=!1,e.isSelected=!1})),t.labelList)null==t||null===(a=t.labelList[0])||void 0===a||null===(l=a.labelContentList)||void 0===l||l.forEach((function(e){e.defaultName=e.displayName,e.isHover=!1,e.isSelected=!1;var t=e.itemEntryList||[];null==t||t.forEach((function(t,n){t.id=e.fieldName+t.key,t.isHover=!1,t.isSelected=!1,t.index=n+1}))}));for(var s,c,u,d,p,f,h,g,m,y,v,b,w=["0","2","3","1"],S=[],C=null==t||null===(i=t.sortFieldList)||void 0===i?void 0:i.splice(0,4),O="2",P=0;P<w.length;P++)for(var T=0;T<(null==C?void 0:C.length);T++){var x;w[P]===(null===(x=C[T])||void 0===x?void 0:x.sortCode)&&S.push(C[T])}if(null==S||S.forEach((function(e){e.id="sort"+e.sortCode,e.isHover=!1,"0"===e.sortCode?e.isSelected=!0:e.isSelected=!1,"1"===e.sortCode&&(O=e.sortType)})),e)n.setState({sortFieldList:S,sid:null==t?void 0:t.sid,searchId:null==t?void 0:t.searchId,labelList:null==t?void 0:t.labelList,twoList:null==t?void 0:t.labelList,labelContentList:null==t||null===(s=t.labelList)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.labelContentList,itemEntryList:null==t||null===(u=t.labelList)||void 0===u||null===(d=u[0])||void 0===d||null===(p=d.labelContentList)||void 0===p||null===(f=p[0])||void 0===f?void 0:f.itemEntryList,isshowProdu:!0,isshow:!0,priceSortType:O});else if(o)n.setState({isshow:!0,labelContentList:null==t||null===(h=t.labelList)||void 0===h||null===(g=h[0])||void 0===g?void 0:g.labelContentList,itemEntryList:null==t||null===(m=t.labelList)||void 0===m||null===(y=m[0])||void 0===y||null===(v=y.labelContentList)||void 0===v||null===(b=v[0])||void 0===b?void 0:b.itemEntryList});n.setState({resultList:n.handleProData(null==t?void 0:t.resultList),totalCount:Math.ceil((null==t?void 0:t.totalCount)/n.state.pageSize)})}})).catch((function(){n.setState({isshowProdu:!0,resultList:[],isshow:!0,totalCount:0})}))}},{key:"handleProData",value:function(e){return null==e||e.forEach((function(e,t){e.promotionRules=e.promoLabels;var n=Le.a.cmsCndProdPath+e.photoPath+"428_428_"+e.photoName;e.imgUrl=n,e.prdName=e.briefName,e.originPrice=e.price,e.salePrice=e.promoPrice,e.reviewCount=e.rateCount,e.goodReviewRate=e.goodRate})),e}},{key:"getiWidth",value:function(){return(1200-2*this.pageGutter-(this.colNum-1)*this.rowGutter)/this.colNum}},{key:"renderEmpty",value:function(e){var t,n;return this.state.isshowProdu?C.a.createElement(z.a,{style:e.emptyWrapper},C.a.createElement(V.a,{style:e.emptyImg,source:De.a.searchNoResult}),C.a.createElement(G.a,{style:e.emptyTxt,numberOfLines:1,ellipsizeMode:"tail"},Object(he.b)("product_not_found").replace(/%[s]/,Object(te.q)("categoryName")?null===(t=this.titleList)||void 0===t?void 0:t.join(";"):null===(n=this.props.routeParams)||void 0===n?void 0:n.name)+"!")):null}},{key:"renderProduct",value:function(e){var t=this;return C.a.createElement(z.a,{style:e.product},C.a.createElement(ye.a,{col:this.colNum,colGutter:this.colGutter,rowGutter:this.rowGutter,pageGutter:0,boxWidth:1200,dataArray:this.state.resultList,renderItem:function(e){var n=e.item,r=e.index;return C.a.createElement(We.a,{customPrdStyles:rt,key:"".concat(n.productId,"_").concat(r.toString()),data:n,config:t.state.configData,iHeight:387,iWidth:t.getiWidth(),onClick:function(){return t.onPressProduct(n,r)}})}}))}},{key:"render",value:function(){var e=this;return"android"===O.a.OS||"ios"===O.a.OS?null:C.a.createElement(be.b,{themeStyles:ot},(function(t){var n;return C.a.createElement(C.a.Fragment,null,C.a.createElement(z.a,{style:t.onLayout,onLayout:function(e){Object(re.a)(e,"categoryList")}}),C.a.createElement(z.a,{style:t.homeWrapper,nativeID:"activity_no_focus_outline"},C.a.createElement(at.a,null),e.state.isLoading?C.a.createElement(st.a,{categoryList:e.state.navData,configInfo:e.state.configInfo}):null,e.state.isshow?C.a.createElement(yt,{labelContentList:e.state.labelContentList,labelList:e.state.labelList,twoList:e.state.twoList,itemEntryList:e.state.itemEntryList,sortFieldList:e.state.sortFieldList,priceSortType:e.state.priceSortType,titleList:e.titleList,childClick:function(t,n,r){e._queryPrd(t,n,r)}}):null,(null===(n=e.state.resultList)||void 0===n?void 0:n.length)>0?e.renderProduct(t):e.renderEmpty(t),e.state.totalCount&&e.state.totalCount>1?C.a.createElement(z.a,{style:t.pcItemBox},C.a.createElement(vt.a,{totalPage:e.state.totalCount,iscategory:!0,pageCallbackFn:function(t,n){return e._queryPrd(t,n)},currentPage:ft.a.currentPage,ref:function(t){e.pageButtonChild=t}})):null,C.a.createElement(it.a,null),C.a.createElement(z.a,{style:{zIndex:1e4}},C.a.createElement(Be.a,a()({},Object(lt.a)(e.state.initData,"categoryList"),{cartNum:e.state.cartNum,pageId:""})))))}))}}]),r}(S.Component))||gt,Pt=Object(Ce.a)(Object(ee.a)(et)(Object(Oe.a)(Ot))),Tt=n(65),xt=n.n(Tt),It=n(103),kt=n(95),Et=n(431),jt=n(264),Rt=n(108),Lt=n(143),_t=n(240),Dt=n(164),Nt=n(70),Wt=n(101);function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Bt,Mt=P.a.get("window"),Ft=Object(I.a)(Mt.width),Ht=Le.a.wapDomain;"large"===Ft&&(Ht=Le.a.webDomain);var zt,Ut=Object(bt.c)(St=function(e){h()(n,e);var t=At(n);function n(e){var r;return s()(this,n),r=t.call(this,e),w()(p()(r),"scroller",void 0),w()(p()(r),"windowsListener",void 0),w()(p()(r),"headStyle",{}),w()(p()(r),"titleStyle",{}),w()(p()(r),"tabs",void 0),w()(p()(r),"tabConfig",void 0),w()(p()(r),"cardId",void 0),w()(p()(r),"portal",void 0),w()(p()(r),"prefixPm","2"),w()(p()(r),"strategyIdList",""),w()(p()(r),"bgColor",""),w()(p()(r),"pageType",1),w()(p()(r),"convertResult",{}),w()(p()(r),"navListener",void 0),w()(p()(r),"navListener1",void 0),w()(p()(r),"pageCatCode",""),w()(p()(r),"pageCatName",""),w()(p()(r),"cartNumTimer",void 0),w()(p()(r),"handleAddListeners",(function(){window.addEventListener("scroll",r._onMomentumScrollEnd),window.addEventListener("unload",r.unload)})),w()(p()(r),"eventTracingReportByLoad",(function(){Object(Z.a)({actionCode:"210000000",actionName:"分类页面加载完成",eventType:oe.e.EVENT_TYPE_LOADING_PAGE,pageId:r.state.pageId,content:{load:"1"},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})})),w()(p()(r),"_getWebPageInfo",(function(){var e,t,n,o=r.state.pageId,i=(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.search)||void 0===n?void 0:n.substring(1))||"",a=(null==i?void 0:i.split("&"))||[];return"bottomNav"!=r.props.container&&a.forEach((function(e){var t=e.split("=");r.state.pageId?(Le.a.pageId=r.state.pageId,r.eventTracingReportByLoad()):"pageId"===t[0]?(Le.a.pageId=t[1],o=t[1],Nt.a.getPageId(t[1]),Nt.a.setPageName("Category"),r.setState({pageId:t[1]},(function(){}))):"pn"===t[0]&&r.setState({pageAlias:t[1]})})),"bottomNav"===r.props.container&&r.setState({pageAlias:r.props.pageAlias}),Object(Re.u)().then((function(){return Object(Re.k)(r.state.pageId||o,r.portal.toString(),r.state.strategyIdList,"","","",r.state.pageAlias)})).then((function(e){var t,n,i,a,l;if(null!=e&&null!==(t=e.pageInfos)&&void 0!==t&&t.length){var s;o=String(e.pageInfos[0].pageId),Le.a.pageId=o;var c=null!==(s=r.headStyle)&&void 0!==s&&s.headStyle&&"large"!==Ft?56:0;r.convertResult=Object(lt.a)(e.pageInfos[0],r.props.pageType||Pe.g.category,c,!0);var u=(null==e?void 0:e.pageInfos[0])||{},d=u.pageCatCode,p=u.pageCatName;r.pageCatCode=d,r.pageCatName=p}r.setState({configInfo:(null==e||null===(n=e.pageInfos)||void 0===n?void 0:n.length)&&JSON.stringify(null===(i=JSON.parse(null==e?void 0:e.pageInfos[0].headerStyle))||void 0===i?void 0:i.attribute),cmsData:e,category:null===(a=r.convertResult)||void 0===a?void 0:a.categoryList,pageId:o},(function(){r._pageDataHandle()}));var f=null==e||null===(l=e.pageInfos[0])||void 0===l?void 0:l.channel;return r._getAppid(f),Promise.resolve()}))})),w()(p()(r),"_onMomentumScrollEnd",(function(e){Bt&&clearTimeout(Bt),Bt=setTimeout((function(){B.a.emit("onScrollEvent")}),300)})),w()(p()(r),"_onScrollBeginDrag",(function(e){B.a.emit("onScrollBeginDragEvent",e)})),w()(p()(r),"unload",(function(){var e;if("function"==typeof(null===(e=navigator)||void 0===e?void 0:e.sendBeacon)){var t=[Object(_e.b)({actionCode:"210000011",actionName:"Category页面离开",eventType:oe.e.EVENT_TYPE_LEAVE,pageId:r.state.pageId,content:{load:"1"},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})],n={type:"application/json",language:"zh-CN",encoding:"gzip",data:(new Date).getTime()},o=new Blob([JSON.stringify(t)],n);navigator.sendBeacon(Le.a.reportBatchUrl+"?"+(new Date).getTime(),o)}})),w()(p()(r),"getRandomTid",(function(){for(var e=[],t="0123456789abcdef",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23],e.join("")})),w()(p()(r),"_onLayout",(function(e){var t=r.props.pageType;Object(re.b)(e),Object(re.a)(e,t||Pe.g.category)})),w()(p()(r),"_loadPage",(function(){var e=r.props.pageType;return C.a.createElement(C.a.Fragment,null,C.a.createElement(be.b,null,(function(t,n){var o,i,a;return C.a.createElement(z.a,{style:{backgroundColor:n.C32.color,marginBottom:"large"===Ft?0:"bottomNav"===(null===(o=r.props)||void 0===o?void 0:o.container)?(null===(i=r.props)||void 0===i?void 0:i.getbottomNavBarHeight())||0:Nt.a.barHeight},onLayout:r._onLayout,nativeID:"activity_no_focus_outline"},ge.a.isWap(Mt.width)?C.a.createElement(Lt.a,{configInfo:r.state.configInfo,cartNum:r.state.cartNum,messageNum:r.state.messageNum,headStyle:r.headStyle,titleStyle:r.titleStyle,tabs:r.tabs,pageId:r.state.pageId,portal:r.portal,stickyScrollY:r.state.scrollY,freshTab:r.state.freshTab,cardId:r.cardId,bgColor:r.bgColor,pageType:e||r.pageType,fromPage:"category",tabLength:null===(a=r.tabs)||void 0===a?void 0:a.length,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName}):C.a.createElement(C.a.Fragment,null),C.a.createElement(_t.a,{cardId:r.cardId,categoryInfo:r.state.category,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,pageId:r.state.pageId}),"bottomNav"!==r.props.container&&"large"!==Ft&&0!==Nt.a.tabInfos.length?C.a.createElement(jt.a,{pageType:"category",tabInfos:Nt.a.tabInfos.slice(0,5)}):null)})))})),r.state={scrollY:new F.a.Value(0),pageId:e.pageId,pageAlias:"",strategyIdList:null,cmsData:{pageInfos:[]},loading:!0,isRefreshing:!1,error:!1,freshTab:!0,cartNum:0,messageNum:0,currentTabIndex:0,isClickTab:!1,deviceId:"",errorType:Pe.c.OTHER_ERROR,appState:Et.a.currentState,category:[],appid:"",configInfo:""},r}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n,r,o=this,i=this.props.route,a=xt()(i,"params.productMydeviceId")||"";if(a&&this.setState({deviceId:a}),this.navListener="bottomNav"===this.props.container&&(null===(e=this.props)||void 0===e||null===(t=e.navigation)||void 0===t?void 0:t.addListener("focus",(function(e){o.eventTracingReportByLoad()}))),this.navListener1="bottomNav"===this.props.container&&(null===(n=this.props)||void 0===n||null===(r=n.navigation)||void 0===r?void 0:r.addListener("blur",(function(e){o.unload()}))),Object(Dt.b)(),this._getPageInfo(),this.portal=Pe.f.WAP,ge.a.isWap(Mt.width)){var l,s=JSON.parse(sessionStorage.getItem("abData"));null!=s&&null!==(l=s.tabInfos)&&void 0!==l&&l.length?this.setWapFooterNavigation(null==s?void 0:s.tabInfos):this.getWapFooterNavigation()}this._getCartNum(),this._getMessageNum(),this.handleAddListeners(),this.cartNumTimer=setTimeout((function(){Object(Re.H)()}),1e3)}},{key:"componentWillUnmount",value:function(){this.state.scrollY&&this.state.scrollY.removeAllListeners(),this.navListener&&"function"==typeof this.navListener&&this.navListener(),this.navListener1&&"function"==typeof this.navListener1&&this.navListener1(),this.windowsListener&&window.removeEventListener("orientationchange",this.handleOrientationChange),window.removeEventListener("unload",this.unload),window.removeEventListener("scroll",this._onMomentumScrollEnd),clearTimeout(this.cartNumTimer)}},{key:"handleOrientationChange",value:function(e){90!==e.target.screen.orientation.angle&&0!==e.target.screen.orientation.angle&&270!==e.target.screen.orientation.angle&&180!==e.target.screen.orientation.angle||window.location.reload()}},{key:"_getAppid",value:function(e){var t=this;Le.a.appid=e,this.setState({appid:Le.a.appid},(function(){t.eventTracingReportByLoad()}))}},{key:"_getPageInfo",value:function(e){var t=this;return this._getWebPageInfo().catch((function(e){var n;null!=e&&null!==(n=e.message)&&void 0!==n&&n.includes("Network Error")?t.setState({errorType:Pe.c.NETWORK_ERROR}):t.setState({errorType:Pe.c.OTHER_ERROR}),t.setState({error:!0})})).finally((function(){var e,n;return t.setState({loading:!1,isRefreshing:!1}),Object(te.M)(null===(e=t.state)||void 0===e||null===(n=e.cmsData)||void 0===n?void 0:n.pageInfos),Promise.resolve()}))}},{key:"_pageDataHandle",value:function(){var e,t,n,r,o=this.state.cmsData;null!=o&&null!==(e=o.pageInfos)&&void 0!==e&&e.length&&(this.headStyle=JSON.parse(o.pageInfos[0].headerStyle),this.pageType=null===(t=o.pageInfos[0])||void 0===t?void 0:t.pageType,this.cardId=null===(n=o.pageInfos[0])||void 0===n||null===(r=n.cards[0])||void 0===r?void 0:r.cardId)}},{key:"_getCartNum",value:function(){var e=this;Object(Re.c)().then((function(t){var n;null!=t&&null!==(n=t.cartInfo)&&void 0!==n&&n.originalTotalNumber&&e.setState({cartNum:t.cartInfo.originalTotalNumber},(function(){Wt.a.setCartNum(e.state.cartNum),B.a.emit("refreshCartNum")}))}))}},{key:"_getMessageNum",value:function(){var e=this;Object(Re.i)("large"===Object(I.a)(Mt.width)?"1":"2").then((function(t){if(t&&(t.activityMsgNum||t.interactMsgnum||t.logisticsMsgNum||t.ntfMsgNum)){var n=parseInt(t.activityMsgNum+t.interactMsgnum+t.logisticsMsgNum+t.ntfMsgNum);e.setState({messageNum:n||0})}}))}},{key:"setWapFooterNavigation",value:function(e){for(var t=[],n=0;n<e.length;n++){var r,o;if("smarthome"!==e[n].tabType&&t.push(e[n]),"category"===(null===(r=e[n])||void 0===r?void 0:r.tabType))if("1"===(null===(o=e[n])||void 0===o?void 0:o.relatedPageType)){var i,a=Ht+Pe.j.CATEGORY_URL_WEB_NEW+(null===(i=e[n])||void 0===i?void 0:i.relatedPage);It.a.set("rncategoryviewurl",a,{path:"/",domain:".vmall.com"})}else It.a.set("rncategoryviewurl",null,{path:"/",domain:".vmall.com"})}Nt.a.setTabInfos(t)}},{key:"getWapFooterNavigation",value:function(){var e=this,t=It.a.get("TID")||this.getRandomTid();return new Promise((function(n){Object(Re.v)(t,Pe.f.WAP.toString()).then((function(t){if(sessionStorage.setItem("abData",JSON.stringify(t)),!t.tabInfos.length)return Promise.resolve();e.setWapFooterNavigation(t.tabInfos)})).finally((function(){n()}))}))}},{key:"render",value:function(){var e,t=this.state,n=t.isRefreshing,r=t.loading,o=t.pageId,i=t.cmsData,a=t.error,l=t.errorType,s=t.pageAlias;return!n&&r?C.a.createElement(Rt.a,null):(o||s)&&i&&(null==i||null===(e=i.pageInfos)||void 0===e?void 0:e.length)&&!a&&this._loadPage()||C.a.createElement(kt.a,{errorType:l})}}]),n}(C.a.Component))||St,Vt=n(171),Gt=n(172),Yt=n(63),Jt=n(91),Kt=n(155),qt=function(e){return xe.a.create({container:{backgroundColor:e.S32.backgroundColor}})},Qt=n(209),$t=n(142);function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Zt=0,en=0,tn=0;"ios"===O.a.OS&&(Object(He.e)().then((function(e){Zt=e})).catch((function(e){})),Object(He.a)().then((function(e){en=e})).catch((function(e){})),Object(He.d)().then((function(e){tn=e})).catch((function(e){})));var nn=Object(bt.c)(zt=function(e){h()(n,e);var t=Xt(n);function n(e){var r,o,i,a,l,c,u;if(s()(this,n),u=t.call(this,e),w()(p()(u),"eventListenerOnfreshing",void 0),w()(p()(u),"eventListener",void 0),w()(p()(u),"tabs",void 0),w()(p()(u),"tabConfig",void 0),w()(p()(u),"cardId",void 0),w()(p()(u),"hasSubtabSet",!1),w()(p()(u),"headStyle",{}),w()(p()(u),"titleStyle",{}),w()(p()(u),"scroller",void 0),w()(p()(u),"strategyIdList",""),w()(p()(u),"scrollViewStartOffsetY",0),w()(p()(u),"pageType",1),w()(p()(u),"tabname",void 0),w()(p()(u),"tabindex",void 0),w()(p()(u),"currentTime",(new Date).getTime()),w()(p()(u),"otherParams",{}),w()(p()(u),"leftData",void 0),w()(p()(u),"navListener",void 0),w()(p()(u),"navListener1",void 0),w()(p()(u),"listenerNative",void 0),w()(p()(u),"isLeave",void 0),w()(p()(u),"pageCatCode",""),w()(p()(u),"pageCatName",""),w()(p()(u),"handleAppStateChange",(function(e){Object(Vt.a)(e)})),w()(p()(u),"eventTracingReportByLoad",(function(e){var t,n,r,o,i,a;u.isLeave=!0,Object(Z.a)({actionCode:"110000000",actionName:"分类页面加载完成",eventType:oe.e.EVENT_TYPE_LOADING_PAGE,pageId:e||u.state.reportPageId||u.props.pageId||u.state.pageId,content:{load:"1"},pageCatCode:u.pageCatCode||(null===(t=u.props)||void 0===t||null===(n=t.leftData)||void 0===n||null===(r=n.pageInfos[0])||void 0===r?void 0:r.pageCatCode),pageCatName:u.pageCatName||(null===(o=u.props)||void 0===o||null===(i=o.leftData)||void 0===i||null===(a=i.pageInfos[0])||void 0===a?void 0:a.pageCatName),resSiteCode:"",resSiteName:""}),Object(Z.b)("",!0)})),w()(p()(u),"eventTracingReportByLeave",(function(){var e,t,n,r,o,i;Object(Z.a)({actionCode:"110000011",actionName:"分类页面离开",eventType:oe.e.EVENT_TYPE_LEAVE,pageId:u.state.reportPageId||u.props.pageId||u.state.pageId,content:{load:"1"},pageCatCode:u.pageCatCode||(null===(e=u.props)||void 0===e||null===(t=e.leftData)||void 0===t||null===(n=t.pageInfos[0])||void 0===n?void 0:n.pageCatCode),pageCatName:u.pageCatName||(null===(r=u.props)||void 0===r||null===(o=r.leftData)||void 0===o||null===(i=o.pageInfos[0])||void 0===i?void 0:i.pageCatName),resSiteCode:"",resSiteName:""}),Object(Z.b)("",!0)})),w()(p()(u),"getTabInfo",(function(e){var t=e.id,n=e.index;u.setState({pageId:t,currentTabIndex:n,isClickTab:!0},(function(){ge.a.isApp()&&u.getPageInfoByTab(n,t)}))})),w()(p()(u),"onBackTop",(function(){u.scroller&&u.scroller.scrollTo({y:0,animated:!0})})),w()(p()(u),"_getAndroidPageInfo",(function(e){return Object(Gt.b)(u.state.pageId,u.strategyIdList,"",u.state.pageAlias).then((function(t){var n,r,o,i,a,l,s,c,d;t=Object(Jt.a)(t,"app");var p=u.state.pageId,f=u.state.pageId;if(null!==(n=t)&&void 0!==n&&null!==(r=n.pageInfos)&&void 0!==r&&r.length){var h,g=(null===(h=t)||void 0===h?void 0:h.pageInfos[0])||{},m=g.pageCatCode,y=g.pageCatName;u.pageCatCode=m,u.pageCatName=y,f=String(t.pageInfos[0].pageId),p||(p=String(t.pageInfos[0].pageId),Le.a.pageId=p)}u.eventTracingReportByLoad(f),u.setState({configInfo:(null===(o=t)||void 0===o||null===(i=o.pageInfos)||void 0===i?void 0:i.length)&&JSON.stringify(null===(a=JSON.parse(null===(l=t)||void 0===l?void 0:l.pageInfos[0].headerStyle))||void 0===a?void 0:a.attribute),cmsData:t,category:null===(s=t.pageInfos[0])||void 0===s?void 0:s.categoryList,cardIds:null===(c=t.pageInfos[0])||void 0===c||null===(d=c.cards[0])||void 0===d?void 0:d.cardId,pageId:p,reportPageId:f},(function(){var t,n,r=u.state.cmsData;if(null!=r&&null!==(t=r.pageInfos)&&void 0!==t&&t.length){var o,i,a,l,s,c,d=r.pageInfos[0],p=d.pageId,f=d.styleChange,h=d.groupStyleChanges;u.titleStyle={cardId:p,styleChange:f?JSON.parse(f):"",groupStyleChanges:h?JSON.parse(h):""},u.tabs=(null==r||null===(o=r.pageInfos[0])||void 0===o?void 0:o.tabInfos)||[],u.tabConfig=(null==r||null===(i=r.pageInfos[0])||void 0===i||null===(a=i.cards)||void 0===a?void 0:a.length)&&(null==r||null===(l=r.pageInfos[0])||void 0===l||null===(s=l.cards)||void 0===s?void 0:s.map((function(e){if("sub_tab"===e.cardType)return u.cardId=e.cardId,e.configInfo}))),u.headStyle=JSON.parse(u.state.cmsData.pageInfos[0].headerStyle),u.pageType=null===(c=r.pageInfos[0])||void 0===c?void 0:c.pageType}null==e&&(null===(n=u.tabs)||void 0===n?void 0:n.length)>0&&u.getPageInfoByTab(0)}));var v=t.pageInfos[0].channel;return Qt.a.getAppId(v),Promise.resolve()}))})),w()(p()(u),"getPageInfoByTab",(function(e,t){var n;u.onBackTop();var r=(null===(n=u.tabs)||void 0===n?void 0:n.length)>e&&u.tabs[e],o=t||r.relatedPage;Nt.a.getPageId(o),Nt.a.setPageName("HomePage"),Object(Gt.b)(o,u.strategyIdList).then((function(t){var n,r,o;(null==t||null===(n=t.pageInfos)||void 0===n?void 0:n.length)&&(null==t||null===(r=t.pageInfos[0].cards)||void 0===r?void 0:r.length)&&(null==t||null===(o=t.pageInfos[0].cards)||void 0===o||o.forEach((function(e,t){"subTabSet"===e.cardType&&Yt.a.getCardId(e.cardId)}))),Object(Vt.b)("Category","getPageInfoListAsyncForApk ok"),Object(Jt.a)(t,"app"),u.setState({cmsData:t},(function(){var t,n,r,o,i,a,l,s,c,d,p,f,h,g,m,y,v,b,w,S;0!=e&&(u.tabs=(null===(t=u.state)||void 0===t||null===(n=t.cmsData)||void 0===n||null===(r=n.pageInfos)||void 0===r?void 0:r.length)&&(null===(o=u.state)||void 0===o||null===(i=o.cmsData)||void 0===i||null===(a=i.pageInfos[0])||void 0===a?void 0:a.tabInfos)||[],u.tabConfig=(null===(l=u.state)||void 0===l||null===(s=l.cmsData)||void 0===s||null===(c=s.pageInfos)||void 0===c?void 0:c.length)&&(null===(d=u.state)||void 0===d||null===(p=d.cmsData)||void 0===p||null===(f=p.pageInfos[0])||void 0===f||null===(h=f.cards)||void 0===h?void 0:h.length)&&(null===(g=u.state)||void 0===g||null===(m=g.cmsData)||void 0===m||null===(y=m.pageInfos[0])||void 0===y||null===(v=y.cards)||void 0===v?void 0:v.map((function(e){if("sub_tab"===e.cardType)return u.cardId=e.cardId,e.configInfo}))),u.headStyle=(null===(b=u.state)||void 0===b||null===(w=b.cmsData)||void 0===w||null===(S=w.pageInfos)||void 0===S?void 0:S.length)&&JSON.parse(u.state.cmsData.pageInfos[0].headerStyle))}));var i=t.pageInfos[0].channel;return Qt.a.getAppId(i),Promise.resolve()}))})),w()(p()(u),"_onLayout",(function(e){u.props.pageType;Object(re.b)(e),Object(re.a)(e,"category")})),w()(p()(u),"_loadPage",(function(e,t,n){var r,o,i,a,l,s,c,d,p,f,h,g,m,y,v,b,w,S,P,T,x,I,k,E,j,R,L,_,D=n?(null===(r=u.props)||void 0===r||null===(o=r.leftData)||void 0===o||null===(i=o.pageInfos)||void 0===i?void 0:i.length)&&JSON.parse(null===(a=u.props)||void 0===a||null===(l=a.leftData)||void 0===l||null===(s=l.pageInfos[0])||void 0===s?void 0:s.headerStyle):u.headStyle;u.props.DarkStyle;null===(c=u.tabs)||void 0===c||c.length;var N="ios"===O.a.OS&&"bottomNav"===(null===(d=u.props)||void 0===d?void 0:d.container)&&u.props.isShowLayout,W=N?$t.SafeAreaView:z.a;return C.a.createElement(W,{onLayout:u._onLayout,style:[{marginBottom:"ios"===O.a.OS&&"bottomNav"!==(null===(p=u.props)||void 0===p?void 0:p.container)?en:0,flex:1},N&&{paddingBottom:-tn}]},C.a.createElement(z.a,{style:{flex:1}},D&&D.headStyle?C.a.createElement(z.a,{style:{position:"relative",elevation:2,zIndex:2,height:"ios"===O.a.OS?N?56:56+Zt:56+q.a.currentHeight}},C.a.createElement(Kt.a,{configInfo:u.state.configInfo,pageId:u.state.reportPageId||u.props.pageId||u.state.pageId,isIosNavTitle:N,pageName:"homepage",fromPage:"category",cartNum:u.state.cartNum,messageNum:u.state.messageNum,headerStyle:D,pageType:u.pageType,tabLength:null===(f=u.tabs)||void 0===f?void 0:f.length,pageCatCode:u.pageCatCode||(null===(h=u.props)||void 0===h||null===(g=h.leftData)||void 0===g||null===(m=g.pageInfos[0])||void 0===m?void 0:m.pageCatCode),pageCatName:u.pageCatName||(null===(y=u.props)||void 0===y||null===(v=y.leftData)||void 0===v||null===(b=v.pageInfos[0])||void 0===b?void 0:b.pageCatName)})):C.a.createElement(C.a.Fragment,null),C.a.createElement(_t.a,{pageId:u.state.reportPageId||u.props.pageId||u.state.pageId,isHaveTitle:D&&D.headStyle,cardId:n?null===(w=u.props)||void 0===w||null===(S=w.leftData)||void 0===S||null===(P=S.pageInfos[0].cards[0])||void 0===P?void 0:P.cardId:u.state.cardIds,categoryInfo:n?null===(T=u.props)||void 0===T||null===(x=T.leftData)||void 0===x?void 0:x.pageInfos[0].categoryList:u.state.category,rightData:null===(I=u.props)||void 0===I?void 0:I.rightData,pageCatCode:u.pageCatCode||(null===(k=u.props)||void 0===k||null===(E=k.leftData)||void 0===E||null===(j=E.pageInfos[0])||void 0===j?void 0:j.pageCatCode),pageCatName:u.pageCatName||(null===(R=u.props)||void 0===R||null===(L=R.leftData)||void 0===L||null===(_=L.pageInfos[0])||void 0===_?void 0:_.pageCatName)})))})),u.state={scrollY:new F.a.Value(0),pageId:u.props.pageId,reportPageId:null!==(r=u.props)&&void 0!==r&&null!==(o=r.leftData)&&void 0!==o&&null!==(i=o.pageInfos)&&void 0!==i&&i.length?null===(a=u.props)||void 0===a||null===(l=a.leftData)||void 0===l||null===(c=l.pageInfos[0])||void 0===c?void 0:c.pageId:u.props.pageId,pageAlias:u.props.pageAlias,cmsData:{pageInfos:[]},loading:!0,cardIds:"",isRefreshing:!1,layoutY:0,error:!1,reload:"0",cartNum:0,messageNum:0,freshTab:!0,cmsDataMap:{},currentTabIndex:0,isClickTab:!1,errorType:Pe.c.OTHER_ERROR,groupStyleChanges:"",styleChange:"",configInfo:""},u.tabindex=Number(e.tabindex),u.tabname=e.tabname,u.otherParams.tabindex=u.tabindex,u.otherParams.tabname=u.tabname,u.props.abTest){var d=JSON.parse(u.props.abTest);d instanceof Array&&u.setAbData(d)}return u}return u()(n,[{key:"componentDidMount",value:function(){var e,t,n,r,o,i,a,l,s=this;if(Object(Vt.b)("Category","componentDidMount pageId:"+(null===(e=this.props)||void 0===e?void 0:e.pageId)),null!==(t=this.props)&&void 0!==t&&null!==(n=t.leftData)&&void 0!==n&&n.pageInfos){var c,u;this.leftData=this.props.leftData;var d=this.props.leftData.pageInfos[0],p=d.pageCatCode,f=d.pageCatName;this.pageCatCode=p,this.pageCatName=f,this.setState({configInfo:(null===(c=this.leftData.pageInfos)||void 0===c?void 0:c.length)&&JSON.stringify(null===(u=JSON.parse(this.leftData.pageInfos[0].headerStyle))||void 0===u?void 0:u.attribute)}),this.eventTracingReportByLoad(this.state.reportPageId)}else this._getPageInfo();Object(Vt.b)("Category","componentDidMount2 pageId:"+(null===(r=this.props)||void 0===r?void 0:r.pageId)),this.navListener="bottomNav"===this.props.container&&(null===(o=this.props)||void 0===o||null===(i=o.navigation)||void 0===i?void 0:i.addListener("focus",(function(e){s.eventTracingReportByLoad(s.state.reportPageId)}))),this.navListener1="bottomNav"===this.props.container&&(null===(a=this.props)||void 0===a||null===(l=a.navigation)||void 0===l?void 0:l.addListener("blur",(function(e){s.eventTracingReportByLeave()}))),this.listenerNative=B.a.addListener("NativeCallAction",(function(e){var t,n,r,o,i,a,l,c,u,d,p,f,h,g,m,y,v,b,w,S,C,O;if(1==(null==e||null===(t=e.param)||void 0===t?void 0:t.currentIndex)&&null!=e&&null!==(n=e.param)&&void 0!==n&&n.isCurrentIndex)s.isLeave=!0,B.a.emit("swiperStart",null!==(i=s.props)&&void 0!==i&&null!==(a=i.leftData)&&void 0!==a&&null!==(l=a.pageInfos)&&void 0!==l&&l.length?null===(c=s.props)||void 0===c||null===(u=c.leftData)||void 0===u||null===(d=u.pageInfos[0])||void 0===d?void 0:d.pageId:s.state.reportPageId),(s.props.pageId||s.state.pageId)&&(Object(Z.a)({actionCode:"110000000",actionName:"分类页面加载完成",eventType:oe.e.EVENT_TYPE_LOADING_PAGE,pageId:null!==(p=s.props)&&void 0!==p&&null!==(f=p.leftData)&&void 0!==f&&null!==(h=f.pageInfos)&&void 0!==h&&h.length?null===(g=s.props)||void 0===g||null===(m=g.leftData)||void 0===m||null===(y=m.pageInfos[0])||void 0===y?void 0:y.pageId:s.state.reportPageId,content:{load:"1"},pageCatCode:s.pageCatCode||(null===(v=s.props)||void 0===v||null===(b=v.leftData)||void 0===b||null===(w=b.pageInfos[0])||void 0===w?void 0:w.pageCatCode),pageCatName:s.pageCatName||(null===(S=s.props)||void 0===S||null===(C=S.leftData)||void 0===C||null===(O=C.pageInfos[0])||void 0===O?void 0:O.pageCatName),resSiteCode:"",resSiteName:""}),Object(Z.b)("",!0));else if(1==(null==e||null===(r=e.param)||void 0===r?void 0:r.currentIndex)&&0==(null==e||null===(o=e.param)||void 0===o?void 0:o.isCurrentIndex)&&s.isLeave){var P,T,x,I,k,E,j,R,L,_,D,N,W,A,M,F,H,z;B.a.emit("swiperStop",null!==(P=s.props)&&void 0!==P&&null!==(T=P.leftData)&&void 0!==T&&null!==(x=T.pageInfos)&&void 0!==x&&x.length?null===(I=s.props)||void 0===I||null===(k=I.leftData)||void 0===k||null===(E=k.pageInfos[0])||void 0===E?void 0:E.pageId:s.state.reportPageId),Object(Z.a)({actionCode:"110000011",actionName:"分类页面离开",eventType:oe.e.EVENT_TYPE_LEAVE,pageId:null!==(j=s.props)&&void 0!==j&&null!==(R=j.leftData)&&void 0!==R&&null!==(L=R.pageInfos)&&void 0!==L&&L.length?null===(_=s.props)||void 0===_||null===(D=_.leftData)||void 0===D||null===(N=D.pageInfos[0])||void 0===N?void 0:N.pageId:s.state.reportPageId,content:{load:"1"},pageCatCode:s.pageCatCode||(null===(W=s.props)||void 0===W||null===(A=W.leftData)||void 0===A||null===(M=A.pageInfos[0])||void 0===M?void 0:M.pageCatCode),pageCatName:s.pageCatName||(null===(F=s.props)||void 0===F||null===(H=F.leftData)||void 0===H||null===(z=H.pageInfos[0])||void 0===z?void 0:z.pageCatName),resSiteCode:"",resSiteName:""}),Object(Z.b)("",!0)}})),B.a.addListener("switchSubTab",this.getTabInfo),B.a.addListener("TabsNavTop",this.compareFixed),Et.a.addEventListener("change",this.handleAppStateChange)}},{key:"compareFixed",value:function(){this.hasSubtabSet=Yt.a.tabsNavTop}},{key:"componentWillUnmount",value:function(){this.eventListenerOnfreshing&&this.eventListenerOnfreshing.remove(),this.eventListener&&this.eventListener.remove(),this.listenerNative&&this.listenerNative.remove(),this.navListener&&"function"==typeof this.navListener&&this.navListener(),this.navListener1&&"function"==typeof this.navListener1&&this.navListener1(),this.state.scrollY&&this.state.scrollY.removeAllListeners(),B.a.removeListener("switchSubTab",this.getTabInfo),B.a.removeListener("TabsNavTop",this.compareFixed),Et.a.removeEventListener("change",this.handleAppStateChange)}},{key:"setAbData",value:function(e){var t=null==e?void 0:e.map((function(e){return e.strategyId||""}));this.strategyIdList=JSON.stringify(t)}},{key:"_getPageInfoByPlatformType",value:function(){if("android"===O.a.OS||"ios"===O.a.OS)return this._getAndroidPageInfo()}},{key:"_getPageInfo",value:function(e){var t=this;return this._getPageInfoByPlatformType().catch((function(e){var n;null!=e&&null!==(n=e.message)&&void 0!==n&&n.includes("Network Error")?t.setState({errorType:Pe.c.NETWORK_ERROR}):t.setState({errorType:Pe.c.OTHER_ERROR}),t.setState({error:!0})})).finally((function(){return t.setState({loading:!1,isRefreshing:!1}),t.closeLoading(),Promise.resolve()}))}},{key:"closeLoading",value:function(){M.a.VmallNative.invokeNative({service:"page",action:"loaded",params:{}})}},{key:"render",value:function(){var e=this;return C.a.createElement(be.b,{themeStyles:qt},(function(t,n){var r,o;return null!==(r=e.props)&&void 0!==r&&r.leftData?e._loadPage(t,n,!0):!e.state.isRefreshing&&e.state.loading?C.a.createElement(z.a,null):(e.state.pageId||e.state.pageAlias)&&e.state.cmsData&&(null===(o=e.state.cmsData.pageInfos)||void 0===o?void 0:o.length)&&!e.state.error&&e._loadPage(t,n,!1)||C.a.createElement(kt.a,{errorType:e.state.errorType,source:"home",homePageUrl:"vmall://com.vmall.client/home/main?tabIndex=0&from=rn"})}))}}]),n}(C.a.Component))||zt,rn=["categoryParams","name","defaultRoute"];function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(e){var t=e.categoryParams,n=e.name,r=e.defaultRoute,o=x()(e,rn),i=Object(k.createStackNavigator)();if("web"!==O.a.OS)try{var l,s;if(null!==(l=(t=JSON.parse(t)).routeParams)&&void 0!==l&&l.name)if("string"==typeof(null===(s=t.routeParams)||void 0===s?void 0:s.name)){var c;n=null===(c=t.routeParams)||void 0===c?void 0:c.name}else{var u,d,p;n=null!==(u=t.routeParams)&&void 0!==u&&u.name[1]?null===(d=t.routeParams)||void 0===d?void 0:d.name[1]:null===(p=t.routeParams)||void 0===p?void 0:p.name[0]}else n=""}catch(e){t={}}var f=an(an({},E.DefaultTheme),{},{colors:an(an({},E.DefaultTheme.colors),{},{background:"transparent"})});return C.a.createElement(E.NavigationContainer,{theme:f,independent:"bottomNav"===(null==o?void 0:o.container)},C.a.createElement(i.Navigator,{initialRouteName:r},C.a.createElement(i.Screen,{name:"CategoryDeault",options:{headerShown:!1,title:"分类页"}},(function(e){return"web"===O.a.OS?C.a.createElement(Ut,a()({},e,o)):C.a.createElement(nn,a()({},e,o))})),C.a.createElement(i.Screen,{name:"CategoryList",options:{headerShown:!1,title:n||"分类列表页"}},(function(e){return"web"===O.a.OS&&"large"===Object(I.a)(P.a.get("window").width)?C.a.createElement(Pt,a()({},e,t,o,{name:n||"分类列表页"})):C.a.createElement(qe,a()({},e,t,o,{name:n||"分类列表页"}))}))))};function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var cn="CategoryDeault",un={},dn="",pn=0,fn=function(){return"web"===O.a.OS};if(fn()){if(Object(te.q)("targetRoute"))(un=Object(te.r)()).targetRoute?(dn=un.prdName?decodeURIComponent(un.prdName):decodeURIComponent(un.categoryName),cn=un.targetRoute):cn="CategoryDeault";else{var hn=Object(te.q)("categoryParams")||"{}";if(un=JSON.parse(hn),!Object(te.D)(un)&&un.targetRoute){var gn,mn;if(null!==(gn=un.routeParams)&&void 0!==gn&&gn.name)if("string"==typeof(null===(mn=un.routeParams)||void 0===mn?void 0:mn.name)){var yn;dn=null===(yn=un.routeParams)||void 0===yn?void 0:yn.name}else{var vn,bn,wn;dn=null!==(vn=un.routeParams)&&void 0!==vn&&vn.name[1]?null===(bn=un.routeParams)||void 0===bn?void 0:bn.name[1]:null===(wn=un.routeParams)||void 0===wn?void 0:wn.name[0]}else dn="";cn=un.targetRoute}else cn="CategoryDeault"}pn=window.screen.width}var Sn=function(e){h()(n,e);var t=sn(n);function n(e){var r;if(s()(this,n),r=t.call(this,e),w()(p()(r),"resizeListener",void 0),"android"===O.a.OS||"ios"===O.a.OS){var o,i=(null==e?void 0:e.categoryParams)||"{}";if(un=JSON.parse(i),!Object(te.D)(un)&&un.targetRoute)cn=null===(o=un)||void 0===o?void 0:o.targetRoute;else null!=e&&e.targetRoute?(cn=null==e?void 0:e.targetRoute,dn=null==e?void 0:e.categoryName):cn="CategoryDeault"}return r}return u()(n,[{key:"componentDidMount",value:function(){fn()&&ge.a.isWap(P.a.get("window").width)&&(this.resizeListener=window.addEventListener("resize",(function(){Math.abs(window.screen.width-pn)>200&&window.location.reload()})))}},{key:"componentWillUnmount",value:function(){cn="CategoryDeault",fn()&&this.resizeListener&&window.removeEventListener("resize",(function(){}))}},{key:"render",value:function(){var e,t,n,r,o=un,i="",l="";fn()&&null!==(e=this.props)&&void 0!==e&&e.tabparam&&((null===(t=this.props)||void 0===t?void 0:t.tabparam.indexOf("targetRoute"))>-1&&(null!==(r=o=Object(te.r)(null===(n=this.props)||void 0===n?void 0:n.tabparam))&&void 0!==r&&r.targetRoute?(l=o.prdName?decodeURIComponent(o.prdName):decodeURIComponent(o.categoryName),i=o.targetRoute):i="CategoryDeault"));return C.a.createElement(ln,a()({name:l||dn||"分类列表页",defaultRoute:i||cn,categoryParams:un},this.props))}}]),n}(S.Component);t.default=Sn},,,,,,,,function(e,t,n){(function(e){
/** @license React v0.25.1
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
e.exports=function t(r){"use strict";var o=n(559),i=n(0),a=n(212);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;s.hasOwnProperty("ReactCurrentDispatcher")||(s.ReactCurrentDispatcher={current:null}),s.hasOwnProperty("ReactCurrentBatchConfig")||(s.ReactCurrentBatchConfig={suspense:null});var c="function"==typeof Symbol&&Symbol.for,u=c?Symbol.for("react.element"):60103,d=c?Symbol.for("react.portal"):60106,p=c?Symbol.for("react.fragment"):60107,f=c?Symbol.for("react.strict_mode"):60108,h=c?Symbol.for("react.profiler"):60114,g=c?Symbol.for("react.provider"):60109,m=c?Symbol.for("react.context"):60110,y=c?Symbol.for("react.concurrent_mode"):60111,v=c?Symbol.for("react.forward_ref"):60112,b=c?Symbol.for("react.suspense"):60113,w=c?Symbol.for("react.suspense_list"):60120,S=c?Symbol.for("react.memo"):60115,C=c?Symbol.for("react.lazy"):60116,O=c?Symbol.for("react.block"):60121,P="function"==typeof Symbol&&Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}function x(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case d:return"Portal";case h:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case w:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case m:return"Context.Consumer";case g:return"Context.Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case S:return x(e.type);case O:return x(e.render);case C:if(e=1===e._status?e._result:null)return x(e)}return null}function I(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function k(e){if(I(e)!==e)throw Error(l(188))}function E(e){var t=e.alternate;if(!t){if(null===(t=I(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return k(o),e;if(i===r)return k(o),t;i=i.sibling}throw Error(l(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}function j(e){if(!(e=E(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var R=r.getPublicInstance,L=r.getRootHostContext,_=r.getChildHostContext,D=r.prepareForCommit,N=r.resetAfterCommit,W=r.createInstance,A=r.appendInitialChild,B=r.finalizeInitialChildren,M=r.prepareUpdate,F=r.shouldSetTextContent,H=r.shouldDeprioritizeSubtree,z=r.createTextInstance,U=r.setTimeout,V=r.clearTimeout,G=r.noTimeout,Y=r.isPrimaryRenderer,J=r.supportsMutation,K=r.supportsPersistence,q=r.supportsHydration,Q=r.appendChild,$=r.appendChildToContainer,X=r.commitTextUpdate,Z=r.commitMount,ee=r.commitUpdate,te=r.insertBefore,ne=r.insertInContainerBefore,re=r.removeChild,oe=r.removeChildFromContainer,ie=r.resetTextContent,ae=r.hideInstance,le=r.hideTextInstance,se=r.unhideInstance,ce=r.unhideTextInstance,ue=r.cloneInstance,de=r.createContainerChildSet,pe=r.appendChildToContainerChildSet,fe=r.finalizeContainerChildren,he=r.replaceContainerChildren,ge=r.cloneHiddenInstance,me=r.cloneHiddenTextInstance,ye=r.canHydrateInstance,ve=r.canHydrateTextInstance,be=r.isSuspenseInstancePending,we=r.isSuspenseInstanceFallback,Se=r.getNextHydratableSibling,Ce=r.getFirstHydratableChild,Oe=r.hydrateInstance,Pe=r.hydrateTextInstance,Te=r.getNextHydratableInstanceAfterSuspenseInstance,xe=r.commitHydratedContainer,Ie=r.commitHydratedSuspenseInstance,ke=/^(.*)[\\\/]/;function Ee(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=x(e.type);n=null,r&&(n=x(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(ke,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var je=[],Re=-1;function Le(e){0>Re||(e.current=je[Re],je[Re]=null,Re--)}function _e(e,t){Re++,je[Re]=e.current,e.current=t}var De={},Ne={current:De},We={current:!1},Ae=De;function Be(e,t){var n=e.type.contextTypes;if(!n)return De;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Me(e){return null!=(e=e.childContextTypes)}function Fe(){Le(We),Le(Ne)}function He(e,t,n){if(Ne.current!==De)throw Error(l(168));_e(Ne,t),_e(We,n)}function ze(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(l(108,x(t)||"Unknown",i));return o({},n,{},r)}function Ue(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||De,Ae=Ne.current,_e(Ne,e),_e(We,We.current),!0}function Ve(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=ze(e,t,Ae),r.__reactInternalMemoizedMergedChildContext=e,Le(We),Le(Ne),_e(Ne,e)):Le(We),_e(We,n)}var Ge=a.unstable_runWithPriority,Ye=a.unstable_scheduleCallback,Je=a.unstable_cancelCallback,Ke=a.unstable_requestPaint,qe=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,Xe=a.unstable_UserBlockingPriority,Ze=a.unstable_NormalPriority,et=a.unstable_LowPriority,tt=a.unstable_IdlePriority,nt={},rt=a.unstable_shouldYield,ot=void 0!==Ke?Ke:function(){},it=null,at=null,lt=!1,st=qe(),ct=1e4>st?qe:function(){return qe()-st};function ut(){switch(Qe()){case $e:return 99;case Xe:return 98;case Ze:return 97;case et:return 96;case tt:return 95;default:throw Error(l(332))}}function dt(e){switch(e){case 99:return $e;case 98:return Xe;case 97:return Ze;case 96:return et;case 95:return tt;default:throw Error(l(332))}}function pt(e,t){return e=dt(e),Ge(e,t)}function ft(e,t,n){return e=dt(e),Ye(e,t,n)}function ht(e){return null===it?(it=[e],at=Ye($e,mt)):it.push(e),nt}function gt(){if(null!==at){var e=at;at=null,Je(e)}mt()}function mt(){if(!lt&&null!==it){lt=!0;var e=0;try{var t=it;pt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),it=null}catch(t){throw null!==it&&(it=it.slice(e+1)),Ye($e,gt),t}finally{lt=!1}}}function yt(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}var vt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},bt=Object.prototype.hasOwnProperty;function wt(e,t){if(vt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!bt.call(t,n[r])||!vt(e[n[r]],t[n[r]]))return!1;return!0}function St(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ct={current:null},Ot=null,Pt=null,Tt=null;function xt(){Tt=Pt=Ot=null}function It(e,t){e=e.type._context,Y?(_e(Ct,e._currentValue),e._currentValue=t):(_e(Ct,e._currentValue2),e._currentValue2=t)}function kt(e){var t=Ct.current;Le(Ct),e=e.type._context,Y?e._currentValue=t:e._currentValue2=t}function Et(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function jt(e,t){Ot=e,Tt=Pt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(or=!0),e.firstContext=null)}function Rt(e,t){if(Tt!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Tt=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Pt){if(null===Ot)throw Error(l(308));Pt=t,Ot.dependencies={expirationTime:0,firstContext:t,responders:null}}else Pt=Pt.next=t;return Y?e._currentValue:e._currentValue2}var Lt=!1;function _t(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Dt(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Nt(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Wt(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function At(e,t){var n=e.alternate;null!==n&&Dt(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Bt(e,t,n,r){var i=e.updateQueue;Lt=!1;var a=i.baseQueue,l=i.shared.pending;if(null!==l){if(null!==a){var s=a.next;a.next=l.next,l.next=s}a=l,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=l))}if(null!==a){s=a.next;var c=i.baseState,u=0,d=null,p=null,f=null;if(null!==s)for(var h=s;;){if((l=h.expirationTime)<r){var g={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===f?(p=f=g,d=c):f=f.next=g,l>u&&(u=l)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Mo(l,h.suspenseConfig);e:{var m=e,y=h;switch(l=t,g=n,y.tag){case 1:if("function"==typeof(m=y.payload)){c=m.call(g,c,l);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(l="function"==typeof(m=y.payload)?m.call(g,c,l):m))break e;c=o({},c,l);break e;case 2:Lt=!0}}null!==h.callback&&(e.effectTag|=32,null===(l=i.effects)?i.effects=[h]:l.push(h))}if(null===(h=h.next)||h===s){if(null===(l=i.shared.pending))break;h=a.next=l.next,l.next=s,i.baseQueue=a=l,i.shared.pending=null}}null===f?d=c:f.next=p,i.baseState=d,i.baseQueue=f,Fo(u),e.expirationTime=u,e.memoizedState=c}}function Mt(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=o,o=n,"function"!=typeof r)throw Error(l(191,r));r.call(o)}}}var Ft=s.ReactCurrentBatchConfig,Ht=(new i.Component).refs;function zt(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ut={isMounted:function(e){return!!(e=e._reactInternalFiber)&&I(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=xo(),o=Ft.suspense;(o=Nt(r=Io(r,e,o),o)).payload=t,null!=n&&(o.callback=n),Wt(e,o),ko(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=xo(),o=Ft.suspense;(o=Nt(r=Io(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),Wt(e,o),ko(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=xo(),r=Ft.suspense;(r=Nt(n=Io(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Wt(e,r),ko(e,n)}};function Vt(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!wt(n,r)||!wt(o,i))}function Gt(e,t,n){var r=!1,o=De,i=t.contextType;return"object"==typeof i&&null!==i?i=Rt(i):(o=Me(t)?Ae:Ne.current,i=(r=null!=(r=t.contextTypes))?Be(e,o):De),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ut,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Yt(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ut.enqueueReplaceState(t,t.state,null)}function Jt(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ht,_t(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Rt(i):(i=Me(t)?Ae:Ne.current,o.context=Be(e,i)),Bt(e,n,o,r),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(zt(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ut.enqueueReplaceState(o,o.state,null),Bt(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Kt=Array.isArray;function qt(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===Ht&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function Qt(e,t){if("textarea"!==e.type)throw Error(l(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function $t(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=li(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=ui(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=qt(e,t,n),r.return=e,r):((r=si(n.type,n.key,n.props,null,e.mode,r)).ref=qt(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=di(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=ci(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function g(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=ui(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(n=si(t.type,t.key,t.props,null,e.mode,n)).ref=qt(e,null,t),n.return=e,n;case d:return(t=di(t,e.mode,n)).return=e,t}if(Kt(t)||T(t))return(t=ci(t,e.mode,n,null)).return=e,t;Qt(e,t)}return null}function m(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===o?n.type===p?h(e,t,n.props.children,r,o):c(e,t,n,r):null;case d:return n.key===o?f(e,t,n,r):null}if(Kt(n)||T(n))return null!==o?null:h(e,t,n,r,null);Qt(e,n)}return null}function y(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case u:return e=e.get(null===r.key?n:r.key)||null,r.type===p?h(t,e,r.props.children,o,r.key):c(t,e,r,o);case d:return f(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Kt(r)||T(r))return h(t,e=e.get(n)||null,r,o,null);Qt(t,r)}return null}function v(o,a,l,s){for(var c=null,u=null,d=a,p=a=0,f=null;null!==d&&p<l.length;p++){d.index>p?(f=d,d=null):f=d.sibling;var h=m(o,d,l[p],s);if(null===h){null===d&&(d=f);break}e&&d&&null===h.alternate&&t(o,d),a=i(h,a,p),null===u?c=h:u.sibling=h,u=h,d=f}if(p===l.length)return n(o,d),c;if(null===d){for(;p<l.length;p++)null!==(d=g(o,l[p],s))&&(a=i(d,a,p),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(o,d);p<l.length;p++)null!==(f=y(d,o,p,l[p],s))&&(e&&null!==f.alternate&&d.delete(null===f.key?p:f.key),a=i(f,a,p),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach((function(e){return t(o,e)})),c}function b(o,a,s,c){var u=T(s);if("function"!=typeof u)throw Error(l(150));if(null==(s=u.call(s)))throw Error(l(151));for(var d=u=null,p=a,f=a=0,h=null,v=s.next();null!==p&&!v.done;f++,v=s.next()){p.index>f?(h=p,p=null):h=p.sibling;var b=m(o,p,v.value,c);if(null===b){null===p&&(p=h);break}e&&p&&null===b.alternate&&t(o,p),a=i(b,a,f),null===d?u=b:d.sibling=b,d=b,p=h}if(v.done)return n(o,p),u;if(null===p){for(;!v.done;f++,v=s.next())null!==(v=g(o,v.value,c))&&(a=i(v,a,f),null===d?u=v:d.sibling=v,d=v);return u}for(p=r(o,p);!v.done;f++,v=s.next())null!==(v=y(p,o,f,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?f:v.key),a=i(v,a,f),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach((function(e){return t(o,e)})),u}return function(e,r,i,s){var c="object"==typeof i&&null!==i&&i.type===p&&null===i.key;c&&(i=i.props.children);var f="object"==typeof i&&null!==i;if(f)switch(i.$$typeof){case u:e:{for(f=i.key,c=r;null!==c;){if(c.key===f){switch(c.tag){case 7:if(i.type===p){n(e,c.sibling),(r=o(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=o(c,i.props)).ref=qt(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===p?((r=ci(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=si(i.type,i.key,i.props,null,e.mode,s)).ref=qt(e,r,i),s.return=e,e=s)}return a(e);case d:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=di(i,e.mode,s)).return=e,e=r}return a(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=ui(i,e.mode,s)).return=e,e=r),a(e);if(Kt(i))return v(e,r,i,s);if(T(i))return b(e,r,i,s);if(f&&Qt(e,i),void 0===i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(l(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Xt=$t(!0),Zt=$t(!1),en={},tn={current:en},nn={current:en},rn={current:en};function on(e){if(e===en)throw Error(l(174));return e}function an(e,t){_e(rn,t),_e(nn,e),_e(tn,en),e=L(t),Le(tn),_e(tn,e)}function ln(){Le(tn),Le(nn),Le(rn)}function sn(e){var t=on(rn.current),n=on(tn.current);n!==(t=_(n,e.type,t))&&(_e(nn,e),_e(tn,t))}function cn(e){nn.current===e&&(Le(tn),Le(nn))}var un={current:0};function dn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||be(n)||we(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pn(e,t){return{responder:e,props:t}}var fn=s.ReactCurrentDispatcher,hn=s.ReactCurrentBatchConfig,gn=0,mn=null,yn=null,vn=null,bn=!1;function wn(){throw Error(l(321))}function Sn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Cn(e,t,n,r,o,i){if(gn=i,mn=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,fn.current=null===e||null===e.memoizedState?Gn:Yn,e=n(r,o),t.expirationTime===gn){i=0;do{if(t.expirationTime=0,!(25>i))throw Error(l(301));i+=1,vn=yn=null,t.updateQueue=null,fn.current=Jn,e=n(r,o)}while(t.expirationTime===gn)}if(fn.current=Vn,t=null!==yn&&null!==yn.next,gn=0,vn=yn=mn=null,bn=!1,t)throw Error(l(300));return e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vn?mn.memoizedState=vn=e:vn=vn.next=e,vn}function Pn(){if(null===yn){var e=mn.alternate;e=null!==e?e.memoizedState:null}else e=yn.next;var t=null===vn?mn.memoizedState:vn.next;if(null!==t)vn=t,yn=e;else{if(null===e)throw Error(l(310));e={memoizedState:(yn=e).memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},null===vn?mn.memoizedState=vn=e:vn=vn.next=e}return vn}function Tn(e,t){return"function"==typeof t?t(e):t}function xn(e){var t=Pn(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=yn,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(null!==o){o=o.next,r=r.baseState;var s=a=i=null,c=o;do{var u=c.expirationTime;if(u<gn){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(a=s=d,i=r):s=s.next=d,u>mn.expirationTime&&(mn.expirationTime=u,Fo(u))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Mo(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==o);null===s?i=r:s.next=a,vt(r,t.memoizedState)||(or=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function In(e){var t=Pn(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);vt(i,t.memoizedState)||(or=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function kn(e){var t=On();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e}).dispatch=Un.bind(null,mn,e),[t.memoizedState,e]}function En(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mn.updateQueue)?(t={lastEffect:null},mn.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jn(){return Pn().memoizedState}function Rn(e,t,n,r){var o=On();mn.effectTag|=e,o.memoizedState=En(1|t,n,void 0,void 0===r?null:r)}function Ln(e,t,n,r){var o=Pn();r=void 0===r?null:r;var i=void 0;if(null!==yn){var a=yn.memoizedState;if(i=a.destroy,null!==r&&Sn(r,a.deps))return void En(t,n,i,r)}mn.effectTag|=e,o.memoizedState=En(1|t,n,i,r)}function _n(e,t){return Rn(516,4,e,t)}function Dn(e,t){return Ln(516,4,e,t)}function Nn(e,t){return Ln(4,2,e,t)}function Wn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function An(e,t,n){return n=null!=n?n.concat([e]):null,Ln(4,2,Wn.bind(null,t,e),n)}function Bn(){}function Mn(e,t){return On().memoizedState=[e,void 0===t?null:t],e}function Fn(e,t){var n=Pn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hn(e,t){var n=Pn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zn(e,t,n){var r=ut();pt(98>r?98:r,(function(){e(!0)})),pt(97<r?97:r,(function(){var r=hn.suspense;hn.suspense=void 0===t?null:t;try{e(!1),n()}finally{hn.suspense=r}}))}function Un(e,t,n){var r=xo(),o=Ft.suspense;o={expirationTime:r=Io(r,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===mn||null!==i&&i===mn)bn=!0,o.expirationTime=gn,mn.expirationTime=gn;else{if(0===e.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=i(a,n);if(o.eagerReducer=i,o.eagerState=l,vt(l,a))return}catch(e){}ko(e,r)}}var Vn={readContext:Rt,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useResponder:wn,useDeferredValue:wn,useTransition:wn},Gn={readContext:Rt,useCallback:Mn,useContext:Rt,useEffect:_n,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Rn(4,2,Wn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rn(4,2,e,t)},useMemo:function(e,t){var n=On();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Un.bind(null,mn,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},On().memoizedState=e},useState:kn,useDebugValue:Bn,useResponder:pn,useDeferredValue:function(e,t){var n=kn(e),r=n[0],o=n[1];return _n((function(){var n=hn.suspense;hn.suspense=void 0===t?null:t;try{o(e)}finally{hn.suspense=n}}),[e,t]),r},useTransition:function(e){var t=kn(!1),n=t[0];return t=t[1],[Mn(zn.bind(null,t,e),[t,e]),n]}},Yn={readContext:Rt,useCallback:Fn,useContext:Rt,useEffect:Dn,useImperativeHandle:An,useLayoutEffect:Nn,useMemo:Hn,useReducer:xn,useRef:jn,useState:function(){return xn(Tn)},useDebugValue:Bn,useResponder:pn,useDeferredValue:function(e,t){var n=xn(Tn),r=n[0],o=n[1];return Dn((function(){var n=hn.suspense;hn.suspense=void 0===t?null:t;try{o(e)}finally{hn.suspense=n}}),[e,t]),r},useTransition:function(e){var t=xn(Tn),n=t[0];return t=t[1],[Fn(zn.bind(null,t,e),[t,e]),n]}},Jn={readContext:Rt,useCallback:Fn,useContext:Rt,useEffect:Dn,useImperativeHandle:An,useLayoutEffect:Nn,useMemo:Hn,useReducer:In,useRef:jn,useState:function(){return In(Tn)},useDebugValue:Bn,useResponder:pn,useDeferredValue:function(e,t){var n=In(Tn),r=n[0],o=n[1];return Dn((function(){var n=hn.suspense;hn.suspense=void 0===t?null:t;try{o(e)}finally{hn.suspense=n}}),[e,t]),r},useTransition:function(e){var t=In(Tn),n=t[0];return t=t[1],[Fn(zn.bind(null,t,e),[t,e]),n]}},Kn=null,qn=null,Qn=!1;function $n(e,t){var n=ii(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Xn(e,t){switch(e.tag){case 5:return null!==(t=ye(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ve(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Zn(e){if(Qn){var t=qn;if(t){var n=t;if(!Xn(e,t)){if(!(t=Se(n))||!Xn(e,t))return e.effectTag=-1025&e.effectTag|2,Qn=!1,void(Kn=e);$n(Kn,n)}Kn=e,qn=Ce(t)}else e.effectTag=-1025&e.effectTag|2,Qn=!1,Kn=e}}function er(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Kn=e}function tr(e){if(!q||e!==Kn)return!1;if(!Qn)return er(e),Qn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!F(t,e.memoizedProps))for(t=qn;t;)$n(e,t),t=Se(t);if(er(e),13===e.tag){if(!q)throw Error(l(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));qn=Te(e)}else qn=Kn?Se(e.stateNode):null;return!0}function nr(){q&&(qn=Kn=null,Qn=!1)}var rr=s.ReactCurrentOwner,or=!1;function ir(e,t,n,r){t.child=null===e?Zt(t,null,n,r):Xt(t,e.child,n,r)}function ar(e,t,n,r,o){n=n.render;var i=t.ref;return jt(t,o),r=Cn(e,t,n,r,i,o),null===e||or?(t.effectTag|=1,ir(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Or(e,t,o))}function lr(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||ai(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=si(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,sr(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:wt)(o,r)&&e.ref===t.ref)?Or(e,t,i):(t.effectTag|=1,(e=li(a,r)).ref=t.ref,e.return=t,t.child=e)}function sr(e,t,n,r,o,i){return null!==e&&wt(e.memoizedProps,r)&&e.ref===t.ref&&(or=!1,o<i)?(t.expirationTime=e.expirationTime,Or(e,t,i)):ur(e,t,n,r,i)}function cr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ur(e,t,n,r,o){var i=Me(n)?Ae:Ne.current;return i=Be(t,i),jt(t,o),n=Cn(e,t,n,r,i,o),null===e||or?(t.effectTag|=1,ir(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),Or(e,t,o))}function dr(e,t,n,r,o){if(Me(n)){var i=!0;Ue(t)}else i=!1;if(jt(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Gt(t,n,r),Jt(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Rt(c):c=Be(t,c=Me(n)?Ae:Ne.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==c)&&Yt(t,a,r,c),Lt=!1;var p=t.memoizedState;a.state=p,Bt(t,r,a,o),s=t.memoizedState,l!==r||p!==s||We.current||Lt?("function"==typeof u&&(zt(t,n,u,r),s=t.memoizedState),(l=Lt||Vt(t,n,l,r,p,s,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=l):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Dt(e,t),l=t.memoizedProps,a.props=t.type===t.elementType?l:St(t.type,l),s=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Rt(c):c=Be(t,c=Me(n)?Ae:Ne.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==c)&&Yt(t,a,r,c),Lt=!1,s=t.memoizedState,a.state=s,Bt(t,r,a,o),p=t.memoizedState,l!==r||s!==p||We.current||Lt?("function"==typeof u&&(zt(t,n,u,r),p=t.memoizedState),(u=Lt||Vt(t,n,l,r,s,p,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return pr(e,t,n,r,i,o)}function pr(e,t,n,r,o,i){cr(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&Ve(t,n,!1),Or(e,t,i);r=t.stateNode,rr.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Xt(t,e.child,null,i),t.child=Xt(t,null,l,i)):ir(e,t,l,i),t.memoizedState=r.state,o&&Ve(t,n,!0),t.child}function fr(e){var t=e.stateNode;t.pendingContext?He(0,t.pendingContext,t.pendingContext!==t.context):t.context&&He(0,t.context,!1),an(e,t.containerInfo)}var hr,gr,mr,yr,vr={dehydrated:null,retryTime:0};function br(e,t,n){var r,o=t.mode,i=t.pendingProps,a=un.current,l=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),_e(un,1&a),null===e){if(void 0!==i.fallback&&Zn(t),l){if(l=i.fallback,(i=ci(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ci(l,o,n,null)).return=t,i.sibling=n,t.memoizedState=vr,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=Zt(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,l){if(i=i.fallback,(n=li(e,e.pendingProps)).return=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=l;null!==l;)l.return=n,l=l.sibling;return(o=li(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=vr,t.child=n,o}return n=Xt(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,l){if(l=i.fallback,(i=ci(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ci(l,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=vr,t.child=i,n}return t.memoizedState=null,t.child=Xt(t,e,i.children,n)}function wr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),Et(e.return,t)}function Sr(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function Cr(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ir(e,t,r.children,n),0!=(2&(r=un.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&wr(e,n);else if(19===e.tag)wr(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(un,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===dn(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Sr(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===dn(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Sr(t,!0,n,null,i,t.lastEffect);break;case"together":Sr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Or(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Fo(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=li(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=li(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Pr(e){e.effectTag|=4}if(J)hr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)A(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},gr=function(){},mr=function(e,t,n,r,o){if((e=e.memoizedProps)!==r){var i=t.stateNode,a=on(tn.current);n=M(i,n,e,r,o,a),(t.updateQueue=n)&&Pr(t)}},yr=function(e,t,n,r){n!==r&&Pr(t)};else if(K){hr=function(e,t,n,r){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;n&&r&&(i=ge(i,o.type,o.memoizedProps,o)),A(e,i)}else if(6===o.tag)i=o.stateNode,n&&r&&(i=me(i,o.memoizedProps,o)),A(e,i);else if(4!==o.tag){if(13===o.tag&&0!=(4&o.effectTag)&&(i=null!==o.memoizedState)){var a=o.child;if(null!==a&&(null!==a.child&&(a.child.return=a,hr(e,a,!0,i)),null!==(i=a.sibling))){i.return=o,o=i;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var Tr=function(e,t,n,r){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;n&&r&&(i=ge(i,o.type,o.memoizedProps,o)),pe(e,i)}else if(6===o.tag)i=o.stateNode,n&&r&&(i=me(i,o.memoizedProps,o)),pe(e,i);else if(4!==o.tag){if(13===o.tag&&0!=(4&o.effectTag)&&(i=null!==o.memoizedState)){var a=o.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Tr(e,a,!0,i)),null!==(i=a.sibling))){i.return=o,o=i;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};gr=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=de(n);Tr(r,e,!1,!1),t.pendingChildren=r,Pr(e),fe(n,r)}},mr=function(e,t,n,r,o){var i=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=i;else{var l=t.stateNode,s=on(tn.current),c=null;a!==r&&(c=M(l,n,a,r,o,s)),e&&null===c?t.stateNode=i:(i=ue(i,c,n,a,r,t,e,l),B(i,n,r,o,s)&&Pr(t),t.stateNode=i,e?Pr(t):hr(i,t,!1,!1))}},yr=function(e,t,n,r){n!==r?(e=on(rn.current),n=on(tn.current),t.stateNode=z(r,e,n,t),Pr(t)):t.stateNode=e.stateNode}}else gr=function(){},mr=function(){},yr=function(){};function xr(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ir(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Me(t.type)&&Fe(),null;case 3:return ln(),Le(We),Le(Ne),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&tr(t)&&Pr(t),gr(t),null;case 5:cn(t);var o=on(rn.current);if(n=t.type,null!==e&&null!=t.stateNode)mr(e,t,n,r,o),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(l(166));return null}if(e=on(tn.current),tr(t)){if(!q)throw Error(l(175));e=Oe(t.stateNode,t.type,t.memoizedProps,o,e,t),t.updateQueue=e,null!==e&&Pr(t)}else{var i=W(n,r,o,e,t);hr(i,t,!1,!1),t.stateNode=i,B(i,n,r,o,e)&&Pr(t)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)yr(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));if(e=on(rn.current),o=on(tn.current),tr(t)){if(!q)throw Error(l(176));Pe(t.stateNode,t.memoizedProps,t)&&Pr(t)}else t.stateNode=z(r,e,o,t)}return null;case 13:return Le(un),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(r=null!==r,o=!1,null===e?void 0!==t.memoizedProps.fallback&&tr(t):(o=null!==(n=e.memoizedState),r||null===n||null!==(n=e.child.sibling)&&(null!==(i=t.firstEffect)?(t.firstEffect=n,n.nextEffect=i):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!o&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&un.current)?ao===Zr&&(ao=eo):(ao!==Zr&&ao!==eo||(ao=to),0!==po&&null!==ro&&(hi(ro,io),gi(ro,po)))),K&&r&&(t.effectTag|=4),J&&(r||o)&&(t.effectTag|=4),null);case 4:return ln(),gr(t),null;case 10:return kt(t),null;case 17:return Me(t.type)&&Fe(),null;case 19:if(Le(un),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(i=r.rendering)){if(o)xr(r,!1);else if(ao!==Zr||null!==e&&0!=(64&e.effectTag))for(e=t.child;null!==e;){if(null!==(i=dn(e))){for(t.effectTag|=64,xr(r,!1),null!==(e=i.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(i=o.alternate)?(o.childExpirationTime=0,o.expirationTime=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=i.childExpirationTime,o.expirationTime=i.expirationTime,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,n=i.dependencies,o.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return _e(un,1&un.current|2),t.child}e=e.sibling}}else{if(!o)if(null!==(e=dn(i))){if(t.effectTag|=64,o=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),xr(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ct()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,xr(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ct()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ct(),e.sibling=null,t=un.current,_e(un,o?1&t|2:1&t),e):null}throw Error(l(156,t.tag))}function kr(e){switch(e.tag){case 1:Me(e.type)&&Fe();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ln(),Le(We),Le(Ne),0!=(64&(t=e.effectTag)))throw Error(l(285));return e.effectTag=-4097&t|64,e;case 5:return cn(e),null;case 13:return Le(un),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Le(un),null;case 4:return ln(),null;case 10:return kt(e),null;default:return null}}function Er(e,t){return{value:e,source:t,stack:Ee(t)}}var jr="function"==typeof WeakSet?WeakSet:Set;function Rr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Ee(n)),null!==n&&x(n.type),t=t.value,null!==e&&1===e.tag&&x(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Lr(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Xo(e,t)}else t.current=null}function _r(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:St(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(l(163))}function Dr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Nr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wr(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Nr(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:St(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Mt(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=R(n.child.stateNode);break;case 1:e=n.child.stateNode}Mt(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Z(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:return;case 13:return void(q&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ie(n)))));case 19:case 17:case 20:case 21:return}throw Error(l(163))}function Ar(e,t,n){switch("function"==typeof ri&&ri(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;pt(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){Xo(o,e)}}e=e.next}while(e!==r)}))}break;case 1:Lr(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Xo(e,t)}}(t,n);break;case 5:Lr(t);break;case 4:J?zr(e,t,n):K&&function(e){if(K){e=e.stateNode.containerInfo;var t=de(e);he(e,t)}}(t)}}function Br(e,t,n){for(var r=t;;)if(Ar(e,r,n),null===r.child||J&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Mr(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Mr(t)}function Fr(e){return 5===e.tag||3===e.tag||4===e.tag}function Hr(e){if(J){e:{for(var t=e.return;null!==t;){if(Fr(t)){var n=t;break e}t=t.return}throw Error(l(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(l(161))}16&n.effectTag&&(ie(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Fr(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?ne(r,t,n):$(r,t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var o=t.tag,i=5===o||6===o;if(i)t=i?t.stateNode:t.stateNode.instance,n?te(r,t,n):Q(r,t);else if(4!==o&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}}function zr(e,t,n){for(var r,o,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(l(160));switch(r=a.stateNode,a.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag)Br(e,i,n),o?oe(r,i.stateNode):re(r,i.stateNode);else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(Ar(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ur(e,t){if(J){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Dr(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&ee(n,i,o,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(l(162));return n=t.memoizedProps,void X(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(q&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,xe(t.containerInfo))));case 12:return;case 13:return Vr(t),void Gr(t);case 19:return void Gr(t);case 17:return}throw Error(l(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Dr(3,t);case 12:return;case 13:return Vr(t),void Gr(t);case 19:return void Gr(t);case 3:q&&((n=t.stateNode).hydrate&&(n.hydrate=!1,xe(n.containerInfo)))}e:if(K){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,he(t.containerInfo,t.pendingChildren);break e}throw Error(l(163))}}function Vr(e){var t=e;if(null===e.memoizedState)var n=!1;else n=!0,t=e.child,ho=ct();if(J&&null!==t)e:if(e=t,J)for(t=e;;){if(5===t.tag){var r=t.stateNode;n?ae(r):se(t.stateNode,t.memoizedProps)}else if(6===t.tag)r=t.stateNode,n?le(r):ce(r,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(r=t.child.sibling).return=t,t=r;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function Gr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new jr),t.forEach((function(t){var r=ei.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Yr="function"==typeof WeakMap?WeakMap:Map;function Jr(e,t,n){(n=Nt(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){mo||(mo=!0,yo=r),Rr(e,t)},n}function Kr(e,t,n){(n=Nt(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return Rr(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===vo?vo=new Set([this]):vo.add(this),Rr(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var qr,Qr=Math.ceil,$r=s.ReactCurrentDispatcher,Xr=s.ReactCurrentOwner,Zr=0,eo=3,to=4,no=0,ro=null,oo=null,io=0,ao=Zr,lo=null,so=1073741823,co=1073741823,uo=null,po=0,fo=!1,ho=0,go=null,mo=!1,yo=null,vo=null,bo=!1,wo=null,So=90,Co=null,Oo=0,Po=null,To=0;function xo(){return 0!=(48&no)?1073741821-(ct()/10|0):0!==To?To:To=1073741821-(ct()/10|0)}function Io(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=ut();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&no))return io;if(null!==n)e=yt(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=yt(e,150,100);break;case 97:case 96:e=yt(e,5e3,250);break;case 95:e=2;break;default:throw Error(l(326))}return null!==ro&&e===io&&--e,e}function ko(e,t){if(50<Oo)throw Oo=0,Po=null,Error(l(185));if(null!==(e=Eo(e,t))){var n=ut();1073741823===t?0!=(8&no)&&0==(48&no)?_o(e):(Ro(e),0===no&&gt()):Ro(e),0==(4&no)||98!==n&&99!==n||(null===Co?Co=new Map([[e,t]]):(void 0===(n=Co.get(e))||n>t)&&Co.set(e,t))}}function Eo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(ro===o&&(Fo(t),ao===to&&hi(o,io)),gi(o,t)),o}function jo(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!fi(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Ro(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ht(_o.bind(null,e));else{var t=jo(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=xo();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==nt&&Je(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?ht(_o.bind(null,e)):ft(r,Lo.bind(null,e),{timeout:10*(1073741821-t)-ct()}),e.callbackNode=t}}}function Lo(e,t){if(To=0,t)return mi(e,t=xo()),Ro(e),null;var n=jo(e);if(0!==n){if(t=e.callbackNode,0!=(48&no))throw Error(l(327));if(qo(),e===ro&&n===io||Wo(e,n),null!==oo){var r=no;no|=16;for(var o=Bo();;)try{zo();break}catch(t){Ao(e,t)}if(xt(),no=r,$r.current=o,1===ao)throw t=lo,Wo(e,n),hi(e,n),Ro(e),t;if(null===oo)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=ao,ro=null,r){case Zr:case 1:throw Error(l(345));case 2:mi(e,2<n?2:n);break;case eo:if(hi(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Go(o)),1073741823===so&&10<(o=ho+500-ct())){if(fo){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,Wo(e,n);break}}if(0!==(i=jo(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=U(Yo.bind(null,e),o);break}Yo(e);break;case to:if(hi(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Go(o)),fo&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,Wo(e,n);break}if(0!==(o=jo(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==co?r=10*(1073741821-co)-ct():1073741823===so?r=0:(r=10*(1073741821-so)-5e3,0>(r=(o=ct())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qr(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=U(Yo.bind(null,e),r);break}Yo(e);break;case 5:if(1073741823!==so&&null!==uo){i=so;var a=uo;if(0>=(r=0|a.busyMinDurationMs)?r=0:(o=0|a.busyDelayMs,r=(i=ct()-(10*(1073741821-i)-(0|a.timeoutMs||5e3)))<=o?0:o+r-i),10<r){hi(e,n),e.timeoutHandle=U(Yo.bind(null,e),r);break}}Yo(e);break;default:throw Error(l(329))}if(Ro(e),e.callbackNode===t)return Lo.bind(null,e)}}return null}function _o(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&no))throw Error(l(327));if(qo(),e===ro&&t===io||Wo(e,t),null!==oo){var n=no;no|=16;for(var r=Bo();;)try{Ho();break}catch(t){Ao(e,t)}if(xt(),no=n,$r.current=r,1===ao)throw n=lo,Wo(e,t),hi(e,t),Ro(e),n;if(null!==oo)throw Error(l(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ro=null,Yo(e),Ro(e)}return null}function Do(e,t){var n=no;no|=1;try{return e(t)}finally{0===(no=n)&&gt()}}function No(e,t){if(0!=(48&no))throw Error(l(187));var n=no;no|=1;try{return pt(99,e.bind(null,t))}finally{no=n,gt()}}function Wo(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,V(n)),null!==oo)for(n=oo.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Fe();break;case 3:ln(),Le(We),Le(Ne);break;case 5:cn(r);break;case 4:ln();break;case 13:case 19:Le(un);break;case 10:kt(r)}n=n.return}ro=e,oo=li(e.current,null),io=t,ao=Zr,lo=null,co=so=1073741823,uo=null,po=0,fo=!1}function Ao(e,t){for(;;){try{if(xt(),fn.current=Vn,bn)for(var n=mn.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(gn=0,vn=yn=mn=null,bn=!1,null===oo||null===oo.return)return ao=1,lo=t,oo=null;e:{var o=e,i=oo.return,a=oo,l=t;if(t=io,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var s=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&un.current),d=i;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var h=d.memoizedProps;p=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!u)}}if(p){var g=d.updateQueue;if(null===g){var m=new Set;m.add(s),d.updateQueue=m}else g.add(s);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=Nt(1073741823,null);y.tag=2,Wt(a,y)}a.expirationTime=1073741823;break e}l=void 0,a=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new Yr,l=new Set,v.set(s,l)):void 0===(l=v.get(s))&&(l=new Set,v.set(s,l)),!l.has(a)){l.add(a);var b=Zo.bind(null,o,s,a);s.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);l=Error((x(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ee(a))}5!==ao&&(ao=2),l=Er(l,a),d=i;do{switch(d.tag){case 3:s=l,d.effectTag|=4096,d.expirationTime=t,At(d,Jr(d,s,t));break e;case 1:s=l;var w=d.type,S=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===vo||!vo.has(S)))){d.effectTag|=4096,d.expirationTime=t,At(d,Kr(d,s,t));break e}}d=d.return}while(null!==d)}oo=Vo(oo)}catch(e){t=e;continue}break}}function Bo(){var e=$r.current;return $r.current=Vn,null===e?Vn:e}function Mo(e,t){e<so&&2<e&&(so=e),null!==t&&e<co&&2<e&&(co=e,uo=t)}function Fo(e){e>po&&(po=e)}function Ho(){for(;null!==oo;)oo=Uo(oo)}function zo(){for(;null!==oo&&!rt();)oo=Uo(oo)}function Uo(e){var t=qr(e.alternate,e,io);return e.memoizedProps=e.pendingProps,null===t&&(t=Vo(e)),Xr.current=null,t}function Vo(e){oo=e;do{var t=oo.alternate;if(e=oo.return,0==(2048&oo.effectTag)){if(t=Ir(t,oo,io),1===io||1!==oo.childExpirationTime){for(var n=0,r=oo.child;null!==r;){var o=r.expirationTime,i=r.childExpirationTime;o>n&&(n=o),i>n&&(n=i),r=r.sibling}oo.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=oo.firstEffect),null!==oo.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=oo.firstEffect),e.lastEffect=oo.lastEffect),1<oo.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=oo:e.firstEffect=oo,e.lastEffect=oo))}else{if(null!==(t=kr(oo)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=oo.sibling))return t;oo=e}while(null!==oo);return ao===Zr&&(ao=5),null}function Go(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Yo(e){var t=ut();return pt(99,Jo.bind(null,e,t)),null}function Jo(e,t){do{qo()}while(null!==wo);if(0!=(48&no))throw Error(l(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Go(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ro&&(oo=ro=null,io=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=no;no|=32,Xr.current=null,D(e.containerInfo),go=o;do{try{Ko()}catch(e){if(null===go)throw Error(l(330));Xo(go,e),go=go.nextEffect}}while(null!==go);go=o;do{try{for(var a=e,s=t;null!==go;){var c=go.effectTag;if(16&c&&J&&ie(go.stateNode),128&c){var u=go.alternate;if(null!==u){var d=u.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&c){case 2:Hr(go),go.effectTag&=-3;break;case 6:Hr(go),go.effectTag&=-3,Ur(go.alternate,go);break;case 1024:go.effectTag&=-1025;break;case 1028:go.effectTag&=-1025,Ur(go.alternate,go);break;case 4:Ur(go.alternate,go);break;case 8:var p=a,f=go,h=s;J?zr(p,f,h):Br(p,f,h),Mr(f)}go=go.nextEffect}}catch(e){if(null===go)throw Error(l(330));Xo(go,e),go=go.nextEffect}}while(null!==go);N(e.containerInfo),e.current=n,go=o;do{try{for(c=e;null!==go;){var g=go.effectTag;if(36&g&&Wr(c,go.alternate,go),128&g){u=void 0;var m=go.ref;if(null!==m){var y=go.stateNode;switch(go.tag){case 5:u=R(y);break;default:u=y}"function"==typeof m?m(u):m.current=u}}go=go.nextEffect}}catch(e){if(null===go)throw Error(l(330));Xo(go,e),go=go.nextEffect}}while(null!==go);go=null,ot(),no=i}else e.current=n;if(bo)bo=!1,wo=e,So=t;else for(go=o;null!==go;)t=go.nextEffect,go.nextEffect=null,go=t;if(0===(t=e.firstPendingTime)&&(vo=null),1073741823===t?e===Po?Oo++:(Oo=0,Po=e):Oo=0,"function"==typeof ni&&ni(n.stateNode,r),Ro(e),mo)throw mo=!1,e=yo,yo=null,e;return 0!=(8&no)||gt(),null}function Ko(){for(;null!==go;){var e=go.effectTag;0!=(256&e)&&_r(go.alternate,go),0==(512&e)||bo||(bo=!0,ft(97,(function(){return qo(),null}))),go=go.nextEffect}}function qo(){if(90!==So){var e=97<So?97:So;return So=90,pt(e,Qo)}}function Qo(){if(null===wo)return!1;var e=wo;if(wo=null,0!=(48&no))throw Error(l(331));var t=no;for(no|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Dr(5,n),Nr(5,n)}}catch(t){if(null===e)throw Error(l(330));Xo(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return no=t,gt(),!0}function $o(e,t,n){Wt(e,t=Jr(e,t=Er(n,t),1073741823)),null!==(e=Eo(e,1073741823))&&Ro(e)}function Xo(e,t){if(3===e.tag)$o(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){$o(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===vo||!vo.has(r))){Wt(n,e=Kr(n,e=Er(t,e),1073741823)),null!==(n=Eo(n,1073741823))&&Ro(n);break}}n=n.return}}function Zo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ro===e&&io===n?ao===to||ao===eo&&1073741823===so&&ct()-ho<500?Wo(e,io):fo=!0:fi(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Ro(e)))}function ei(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Io(t=xo(),e,null)),null!==(e=Eo(e,t))&&Ro(e)}qr=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||We.current)or=!0;else{if(r<n){switch(or=!1,t.tag){case 3:fr(t),nr();break;case 5:if(sn(t),4&t.mode&&1!==n&&H(t.type,o))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Me(t.type)&&Ue(t);break;case 4:an(t,t.stateNode.containerInfo);break;case 10:It(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?br(e,t,n):(_e(un,1&un.current),null!==(t=Or(e,t,n))?t.sibling:null);_e(un,1&un.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Cr(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),_e(un,un.current),!r)return null}return Or(e,t,n)}or=!1}}else or=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=Be(t,Ne.current),jt(t,n),o=Cn(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(r)){var i=!0;Ue(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,_t(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&zt(t,r,a,e),o.updater=Ut,t.stateNode=o,o._reactInternalFiber=t,Jt(t,r,e,n),t=pr(null,t,r,!0,i,n)}else t.tag=0,ir(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return ai(e)?1:0;if(null!=e){if((e=e.$$typeof)===v)return 11;if(e===S)return 14}return 2}(o),e=St(o,e),i){case 0:t=ur(null,t,o,e,n);break e;case 1:t=dr(null,t,o,e,n);break e;case 11:t=ar(null,t,o,e,n);break e;case 14:t=lr(null,t,o,St(o.type,e),r,n);break e}throw Error(l(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,ur(e,t,r,o=t.elementType===r?o:St(r,o),n);case 1:return r=t.type,o=t.pendingProps,dr(e,t,r,o=t.elementType===r?o:St(r,o),n);case 3:if(fr(t),r=t.updateQueue,null===e||null===r)throw Error(l(282));if(r=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,Dt(e,t),Bt(t,r,null,n),(r=t.memoizedState.element)===o)nr(),t=Or(e,t,n);else{if((o=t.stateNode.hydrate)&&(q?(qn=Ce(t.stateNode.containerInfo),Kn=t,o=Qn=!0):o=!1),o)for(n=Zt(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ir(e,t,r,n),nr();t=t.child}return t;case 5:return sn(t),null===e&&Zn(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,a=o.children,F(r,o)?a=null:null!==i&&F(r,i)&&(t.effectTag|=16),cr(e,t),4&t.mode&&1!==n&&H(r,o)?(t.expirationTime=t.childExpirationTime=1,t=null):(ir(e,t,a,n),t=t.child),t;case 6:return null===e&&Zn(t),null;case 13:return br(e,t,n);case 4:return an(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xt(t,null,r,n):ir(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ar(e,t,r,o=t.elementType===r?o:St(r,o),n);case 7:return ir(e,t,t.pendingProps,n),t.child;case 8:case 12:return ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,It(t,i=o.value),null!==a){var s=a.value;if(0===(i=vt(s,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(a.children===o.children&&!We.current){t=Or(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&i)){1===s.tag&&((u=Nt(n,null)).tag=2,Wt(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Et(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}ir(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,jt(t,n),r=r(o=Rt(o,i.unstable_observedBits)),t.effectTag|=1,ir(e,t,r,n),t.child;case 14:return i=St(o=t.type,t.pendingProps),lr(e,t,o,i=St(o.type,i),r,n);case 15:return sr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:St(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Me(r)?(e=!0,Ue(t)):e=!1,jt(t,n),Gt(t,r,o),Jt(t,r,o,n),pr(null,t,r,!0,e,n);case 19:return Cr(e,t,n)}throw Error(l(156,t.tag))};var ti={current:!1},ni=null,ri=null;function oi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ii(e,t,n,r){return new oi(e,t,n,r)}function ai(e){return!(!(e=e.prototype)||!e.isReactComponent)}function li(e,t){var n=e.alternate;return null===n?((n=ii(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function si(e,t,n,r,o,i){var a=2;if(r=e,"function"==typeof e)ai(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case p:return ci(n.children,o,i,t);case y:a=8,o|=7;break;case f:a=8,o|=1;break;case h:return(e=ii(12,n,t,8|o)).elementType=h,e.type=h,e.expirationTime=i,e;case b:return(e=ii(13,n,t,o)).type=b,e.elementType=b,e.expirationTime=i,e;case w:return(e=ii(19,n,t,o)).elementType=w,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:a=10;break e;case m:a=9;break e;case v:a=11;break e;case S:a=14;break e;case C:a=16,r=null;break e;case O:a=22;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=ii(a,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function ci(e,t,n,r){return(e=ii(7,e,r,t)).expirationTime=n,e}function ui(e,t,n){return(e=ii(6,e,null,t)).expirationTime=n,e}function di(e,t,n){return(t=ii(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pi(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=G,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fi(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function hi(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function gi(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function mi(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}var yi=null;function vi(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(l(188));throw Error(l(268,Object.keys(e)))}return null===(e=j(t))?null:e.stateNode}function bi(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function wi(e,t){bi(e,t),(e=e.alternate)&&bi(e,t)}var Si=s.IsSomeRendererActing,Ci="function"==typeof a.unstable_flushAllWithoutAsserting,Oi=a.unstable_flushAllWithoutAsserting||function(){for(var e=!1;qo();)e=!0;return e};function Pi(t){try{Oi(),function(t){if(null===yi)try{var n=("require"+Math.random()).slice(0,7);yi=(e&&e[n])("timers").setImmediate}catch(e){yi=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}yi(t)}((function(){Oi()?Pi(t):t()}))}catch(e){t(e)}}var Ti=0,xi=!1,Ii={__proto__:null,createContainer:function(e,t,n){return e=new pi(e,t,n),t=ii(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,_t(t),e},updateContainer:function(e,t,n,r){var o=t.current,i=xo(),a=Ft.suspense;i=Io(i,o,a);e:if(n){t:{if(I(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(l(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Me(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(l(171))}if(1===n.tag){var c=n.type;if(Me(c)){n=ze(n,c,s);break e}}n=s}else n=De;return null===t.context?t.context=n:t.pendingContext=n,(t=Nt(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Wt(o,t),ko(o,i),i},batchedEventUpdates:function(e,t){var n=no;no|=2;try{return e(t)}finally{0===(no=n)&&gt()}},batchedUpdates:Do,unbatchedUpdates:function(e,t){var n=no;no&=-2,no|=8;try{return e(t)}finally{0===(no=n)&&gt()}},deferredUpdates:function(e){return pt(97,e)},syncUpdates:function(e,t,n,r){return pt(99,e.bind(null,t,n,r))},discreteUpdates:function(e,t,n,r,o){var i=no;no|=4;try{return pt(98,e.bind(null,t,n,r,o))}finally{0===(no=i)&&gt()}},flushDiscreteUpdates:function(){0==(49&no)&&(function(){if(null!==Co){var e=Co;Co=null,e.forEach((function(e,t){mi(t,e),Ro(t)})),gt()}}(),qo())},flushControlled:function(e){var t=no;no|=1;try{pt(99,e)}finally{0===(no=t)&&gt()}},flushSync:No,flushPassiveEffects:qo,IsThisRendererActing:ti,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return R(e.child.stateNode);default:return e.child.stateNode}},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){mi(e,t),Ro(e),0==(48&no)&&gt()}(t,t.firstPendingTime);break;case 13:No((function(){return ko(e,1073741823)})),t=yt(xo(),150,100),wi(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=yt(xo(),150,100);ko(e,t),wi(e,t)}},attemptContinuousHydration:function(e){13===e.tag&&(ko(e,3),wi(e,3))},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=xo();ko(e,t=Io(t,e,null)),wi(e,t)}},findHostInstance:vi,findHostInstanceWithWarning:function(e){return vi(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=E(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);ni=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},ri=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}(o({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=j(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(e){function t(){Ti--,Si.current=n,ti.current=r}!1===xi&&(xi=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Ti++;var n=Si.current,r=ti.current;Si.current=!0,ti.current=!0;try{var o=Do(e)}catch(e){throw t(),e}if(null!==o&&"object"==typeof o&&"function"==typeof o.then)return{then:function(e,r){o.then((function(){1<Ti||!0===Ci&&!0===n?(t(),e()):Pi((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==Ti||!1!==Ci&&!1!==n||Oi(),t()}catch(e){throw t(),e}return{then:function(e){e()}}}},ki=Ii&&Ii.default||Ii;e.exports=ki.default||ki;var Ei=e.exports;return e.exports=t,Ei}}).call(this,n(422)(e))},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};void 0===Function.prototype.call&&(Function.prototype.call=function(e){(e=e||window).fn=this;var t=o(arguments).slice(1),n=e.fn.apply(e,o(t));return delete e.fn,n}),void 0===Function.prototype.apply&&(Function.prototype.apply=function(e){var t;return(e=e||window).fn=this,t=arguments[1]?e.fn.apply(e,o(arguments[1])):e.fn(),delete e.fn,t})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(426),o=function(){function e(){}return e.value=function(e,t){return r.ObjectUtil.isNullOrUndefined(e)?t:e},e}();t.Default=o},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(249),o=n(565);function i(t,n,a){return o()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(4);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports={parse:n(402),stringify:n(405)}},function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function l(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&l(e).forEach((function(t){r[t]=i(e[t],n)})),l(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}function u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):c(e,t,n):i(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var d=u;e.exports=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(l){for(var s in l){var c=l[s];if((0,a.default)(c))l[s]=e(c);else if(Array.isArray(c)){for(var u=[],d=0,p=c.length;d<p;++d){var f=(0,o.default)(n,s,c[d],l,t);(0,i.default)(u,f||c[d])}u.length>0&&(l[s]=u)}else{var h=(0,o.default)(n,s,c,l,t);h&&(l[s]=h),l=(0,r.default)(t,s,l)}}return l}};var r=l(n(407)),o=l(n(408)),i=l(n(409)),a=l(n(410));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&"text"===t)return["-webkit-text","text"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,o=n(140),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&o.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],o={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("filter(")>-1)return a.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,o=n(140),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){Object.prototype.hasOwnProperty.call(o,e)&&(n[o[e]]=r[t]||t);if("flex"===e){if(Object.prototype.hasOwnProperty.call(i,t))return void(n.msFlex=i[t]);if(a.test(t))return void(n.msFlex=t+" 1 0%");var l=t.split(/\s/);switch(l.length){case 1:return void(n.msFlex="1 1 "+t);case 2:return void(a.test(l[1])?n.msFlex=l[0]+" "+l[1]+" 0%":n.msFlex=l[0]+" 1 "+l[1]);default:n.msFlex=t}}};var r={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},o={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},i={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},a=/^\d+(\.\d+)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");o.hasOwnProperty(e)&&(n[o[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},o={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&l.test(t))return a.map((function(e){return t.replace(l,(function(t){return e+t}))}))};var r,o=n(140),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-","-moz-",""],l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function o(e){return"number"==typeof e&&!isNaN(e)}function i(e){return"string"==typeof e&&e.includes("/")}t.default=function(e,t,n){if("display"===e&&t in l)return l[t];if(e in s){(0,s[e])(t,n)}};var a=["center","end","start","stretch"],l={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},s={alignSelf:function(e,t){a.indexOf(e)>-1&&(t.msGridRowAlign=e)},gridColumn:function(e,t){if(o(e))t.msGridColumn=e;else if(i(e)){var n=e.split("/"),a=r(n,2),l=a[0],c=a[1];s.gridColumnStart(+l,t);var u=c.split(/ ?span /),d=r(u,2),p=d[0],f=d[1];""===p?s.gridColumnEnd(+l+ +f,t):s.gridColumnEnd(+c,t)}else s.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;o(e)&&o(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){o(e)&&(t.msGridColumn=e)},gridRow:function(e,t){if(o(e))t.msGridRow=e;else if(i(e)){var n=e.split("/"),a=r(n,2),l=a[0],c=a[1];s.gridRowStart(+l,t);var u=c.split(/ ?span /),d=r(u,2),p=d[0],f=d[1];""===p?s.gridRowEnd(+l+ +f,t):s.gridRowEnd(+c,t)}else s.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;o(e)&&o(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){o(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){a.indexOf(e)>-1&&(t.msGridColumnAlign=e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return a.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,o=n(140),i=(r=o)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))for(var o=r[e],i=0,a=o.length;i<a;++i)n[o[i]]=t};var r={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(o.hasOwnProperty(e)&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],o={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"==typeof t&&l.hasOwnProperty(e)){var c=function(e,t){if((0,o.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),i=0,a=n.length;i<a;++i){var l=n[i],c=[l];for(var u in t){var d=(0,r.default)(u);if(l.indexOf(d)>-1&&"order"!==d)for(var p=t[u],f=0,h=p.length;f<h;++f)c.unshift(l.replace(d,s[p[f]]+d))}n[i]=c.join(",")}return n.join(",")}(t,a),u=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return u;var d=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,i.default)(e)]=u,n["Moz"+(0,i.default)(e)]=d,c)}};var r=a(n(411)),o=a(n(140)),i=a(n(260));function a(e){return e&&e.__esModule?e:{default:e}}var l={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.findIndex)return e.findIndex(t,n);if("function"!=typeof t)throw new TypeError("predicate must be a function");var r=Object(e),o=r.length;if(0===o)return-1;for(var i=0;i<o;i++)if(t.call(n,r[i],i,r))return i;return-1}},function(e,t,n){"use strict";n.r(t);var r=n(15),o=n.n(r),i=n(5),a=n.n(i),l=n(6),s=n.n(l),c=n(2),u=n.n(c),d=n(8),p=n.n(d),f=n(7),h=n.n(f),g=n(4),m=n.n(g),y=n(1),v=n.n(y),b=n(40),w=n(48),S=n(119),C=n(103),O=n(122),P=n(74),T=n(143),x=n(85),I=n(22),k=n(98),E=n(29),j=n(95),R=n(0),L=n.n(R),_=n(134),D=n(101),N=n(44),W=n(91),A=n(59),B=n(179),M=n(3),F=n(164),H=n(37),z=n(121),U=n(162),V=n(124),G=n(235),Y=n(190),J=n(148),K=n(236),q=n(237),Q=n(153),$=n(238),X=n(125),Z=n(299),ee=n(300),te=n(310),ne=n(305),re=n(207),oe=n(173),ie=n(302),ae=n(269),le=n(184),se=n(206),ce=n(304),ue=n(234),de=n(266),pe=n(306),fe=n(307),he=n(233),ge=n(141),me=n(303),ye={base:z.a,blank:U.a,groupComponent:$.a,ad:V.a,prod:G.a,hybrid:se.a,icon_grid:Y.a,menu:J.a,subTabSet:"web"===H.a.OS?le.a.previewTop?ae.a:ne.a:te.a,bulletin:K.a,operation_des:q.a,footer:Q.a,tools:X.a,seckill:Z.a,drawCard:re.a,rushbuy:ee.a,orderDiscount:oe.a,groupBuy:ie.a,taskActivity:ce.a,crowdTest:ue.a,couponAssists:de.a,memberInfo:pe.a,earnPointsInfo:fe.a,prodRankList:he.a,immersiveHeader:ge.a,activityCombine:me.a},ve=(X.a,z.a,z.a,de.a,n(54)),be=n(43),we=n(45),Se=n.n(we),Ce=n(102),Oe=n(57),Pe=function(e){return Oe.a.create({defaultBg:{position:"absolute",top:0,left:0,bottom:0,width:ve.a.get("window").width,minHeight:ve.a.get("window").height,backgroundColor:"#fff"},bgTop:{position:"absolute",top:0,left:0,width:"100%",height:56,backgroundColor:e.C33.color},bgTopWeb:{position:"absolute",top:0,left:0,width:"100%",height:74,backgroundColor:e.C33.color},bgMiddle:{position:"absolute",top:57,left:0,width:"100%",height:148},flex1:{flex:1},bgBottom:{position:"absolute",top:205,left:0,bottom:0,width:"100%",backgroundColor:e.C32.color},bgBottomWeb:{position:"absolute",top:75,left:0,bottom:0,width:"100%",backgroundColor:e.C32.color}})},Te=n(30);function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Ie,ke=function(e){p()(n,e);var t=xe(n);function n(e){return a()(this,n),t.call(this,e)}return s()(n,[{key:"render",value:function(){var e=ve.a.get("window").width,t=Object(b.a)(e);return"web"===H.a.OS?"large"===t?L.a.createElement(Ce.b,{themeStyles:Pe},(function(e){return L.a.createElement(L.a.Fragment,null,L.a.createElement(be.a,{style:e.bgTopWeb}),L.a.createElement(be.a,{style:e.bgBottomWeb}))})):L.a.createElement(Ce.b,{themeStyles:Pe},(function(e){return L.a.createElement(L.a.Fragment,null,L.a.createElement(be.a,{style:e.defaultBg}),L.a.createElement(be.a,{style:e.bgTop}),L.a.createElement(be.a,{style:e.bgMiddle},L.a.createElement(Se.a,{colors:[O.a.C33.color,O.a.C37.color],style:e.flex1})),L.a.createElement(be.a,{style:e.bgBottom}))})):L.a.createElement(Ce.b,{themeStyles:Pe},(function(e){var t=["#F1F3F500","#F1F3F5FF"];return Te.a.darkBool&&(t=["#202224FF","#20222400"]),L.a.createElement(L.a.Fragment,null,L.a.createElement(be.a,{style:e.bgTop}),L.a.createElement(be.a,{style:e.bgMiddle},L.a.createElement(Se.a,{colors:t,style:e.flex1})),L.a.createElement(be.a,{style:e.bgBottom}))}))}}]),n}(R.Component),Ee=n(117),je=n(49),Re=n(87),Le=n(23),_e=n(12),De=n(108),Ne=n(10),We=n(11),Ae=n(32),Be=n(163),Me=n(41),Fe=n(436),He=n(438),ze=n(440),Ue=n(211),Ve=n(203),Ge=n(126),Ye=n(432),Je=n(38);!function(e){e.appPrdDetailTopPush="app_prdDetail_topPush"}(Ie||(Ie={}));var Ke=Ie;function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}Object(We.b)(Je.a);var Qe,$e=We.a.openApiDomain,Xe=Je.a.wapDomain+"app/open?type=1",Ze=Je.a.wechatUrl,et=Je.a.pullUpAppLink,tt=function(e){p()(n,e);var t=qe(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"pageId",void 0),v()(u()(r),"lister1",void 0),r.pageId=We.a.pageId,r.state={getLang:!1,wapTopPullApp:"",translateWord:{}},r}return s()(n,[{key:"componentDidMount",value:function(){this.setTranslateWord(),this.getTopData(),this.pullUpApp()}},{key:"componentWillUnmount",value:function(){this.lister1&&this.lister1.remove()}},{key:"setTranslateWord",value:function(){this.setState({translateWord:{login:Object(Ye.b)("login"),logout:Object(Ye.b)("logout")}})}},{key:"pullUpApp",value:function(){if(-1!==navigator.userAgent.indexOf("cmblife")||navigator.userAgent.indexOf("VMall-SAPP")>-1||navigator.userAgent.indexOf("Bankabc")>-1||navigator.userAgent.indexOf("SmartPhone")>-1||"no"===Object(M.q)("callapp")||"no"===window.sessionStorage.getItem("callapp"))return window.sessionStorage.setItem("callapp","no"),!1;var e=Object(M.g)(Object(M.q)("cid")),t=Object(M.g)(Object(M.q)("wi")),n=Object(M.g)(Object(M.q)("isShowLayout"));e||(e=Object(M.g)(C.a.get("cps_id"))),t||(t=Object(M.g)(C.a.get("cps_wi")));var r,o=[];e&&o.push("cid="+e),t&&o.push("wi="+t),""!==n&&o.push("isShowLayout="+n),r=o.length>0?"?":"";var i=et+r+o.join("&"),a=document.createElement("iframe");a.style.display="none",a.id="pull_app",a.name="pullAppFrame",document.body.appendChild(a),window.frames.pullAppFrame.document.write("<script>window.location.href='"+i+"'<\/script>")}},{key:"getQueryString",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}},{key:"getTopData",value:function(){var e=this;if(-1!==navigator.userAgent.indexOf("cmblife")||navigator.userAgent.indexOf("VMall-SAPP")>-1||navigator.userAgent.indexOf("Bankabc")>-1||navigator.userAgent.indexOf("SmartPhone")>-1||C.a.get("weCode")||"no"===window.sessionStorage.getItem("callapp")||window.location.href.indexOf("callapp=no")>-1||"1"===C.a.get("appTopPushClose")){document.getElementsByClassName("header-pullapp")[0].style.display="none"}else{var t="".concat($e,"mcp/queryTemplate");E.a.get(t,{portal:"2",country:"CN",lang:"zh-CN",placeholder:'[\n          "'.concat(Ke.appPrdDetailTopPush,'",\n        ]')}).then((function(t){var n=t.templateMapping.app_prdDetail_topPush.content;e.setState({wapTopPullApp:n},(function(){e.addPress()}))}))}}},{key:"showhtml",value:function(e){var t={__html:e};return L.a.createElement("section",{className:"header-pullapp",dangerouslySetInnerHTML:t})}},{key:"addPress",value:function(){var e=document.getElementsByClassName("header-pullapp")[0],t=document.getElementsByClassName("header-pullapp-close")[0],n=document.getElementsByClassName("header-pullapp-content")[0];e&&(this.lister1=je.a.addListener("scroll",(function(t){t>100?e.style.display="none":C.a.get("appTopPushClose")||(e.style.display="block")}))),t&&(t.onclick=function(t){t.stopPropagation(),C.a.set("appTopPushClose",1,{expires:.5,path:"/",domain:".vmall.com"}),e.style.display="none"}),n&&(n.onclick=function(){var e="",t=C.a.get("cps_id"),n=C.a.get("cps_wi");if(window.navigator.userAgent.toLowerCase().indexOf("micromessenger")>0){var r,o={id:"10",type:"2",params:[]};t||n?(t&&o.params.push({key:"cid",value:t}),n&&o.params.push({key:"wi",value:n})):delete o.params,r=et+"?launchExtra="+JSON.stringify(o);var i=Ze+encodeURIComponent(r);window.location.href=i}else t&&(e=e+"&cid="+t),n&&(e=e+"&wi="+n);Object(M.A)(Xe+e)})}},{key:"render",value:function(){var e=this.state.wapTopPullApp;return L.a.createElement(be.a,null,L.a.createElement(Ge.a,{activeOpacity:1},this.showhtml(e)))}}]),n}(R.Component),nt=n(157),rt=n(152),ot=ve.a.get("window"),it=innerWidth/2-250,at=innerHeight/2-250,lt=Oe.a.create({maskItem:{width:"100%",height:ot.height,position:"absolute",left:0,top:0,zIndex:438},fullScreen:{opacity:.6,position:"absolute",top:0,left:0,zIndex:439,backgroundColor:"rgb(0,0,0)"},drag:{width:500,height:500,position:"absolute",left:it,top:at,zIndex:19999,alignItems:"center"},tip:{color:"#fff",fontSize:18,position:"absolute",right:22,top:48},close:{position:"absolute",top:10,right:10,width:34,height:34,zIndex:600},closeWord:{width:34,height:34,fontSize:0},icon:{width:34,height:34,zIndex:602},Link:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},Link_FRO:{width:"100%",backgroundSize:"center",zIndex:500}}),st=n(68);!function(e){e.webAds="web_popup_ads",e.webTest="index_header_big",e.mpFloatAds="mp_index_float_ad",e.mpPopAds="mpapp_pop_ads"}(Qe||(Qe={}));var ct=Qe;function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var dt,pt,ft=ve.a.get("window"),ht=function(e){p()(n,e);var t=ut(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"MAX_WIDTH",500),v()(u()(r),"MAX_HEIGHT",500),v()(u()(r),"test",void 0),v()(u()(r),"Height",void 0),v()(u()(r),"onListenScroll",(function(e){if("web"===H.a.OS){dt&&clearTimeout(dt);var t=e.srcElement.documentElement.scrollTop;dt=setTimeout((function(){je.a.emit("onScrollEvent"),r.setState({mTop:t}),r.setStyle()}),300)}})),r.state={web_props_ads:!0,maskHeight:innerHeight,h:"web"===H.a.OS&&document.body.scrollHeight,mTop:0,imgH:0,mHeight:ft.height,tip:!1,flag:!1,webAdsHtml:"",IMG_SRC:"",Link_FRO:"",BTN_SRC:""},r}return s()(n,[{key:"componentDidMount",value:function(){var e=new Date,t=e.getMinutes(),n=24-e.getHours()-t/60;if(this.getData(),"web"===H.a.OS){if(Object(M.D)(Object(st.d)("showAds"))){Object(st.e)("showAds",!0,{expires:n/24,domain:"vmall.com"});var r=ft.height;this.setState({maskHight:r})}this.setStyle(),window.onscroll=this.onListenScroll}}},{key:"getData",value:function(){var e=this,t="".concat(We.a.openApiDomain,"mcp/queryAdvertisement");E.a.get(t,{portal:"1",country:"CN",lang:"zh-CN",placeholder:'[\n          "'.concat(ct.webTest,'",\n        ]')}).then((function(t){if(t&&t.advertisementInfos&&t.advertisementInfos.web_popup_ads&&t.advertisementInfos.web_popup_ads.content){var n=t.advertisementInfos.web_popup_ads.content,r=(null==n?void 0:n.split("<script>")[1])||"",o=(null==r?void 0:r.split("<\/script>")[0])||"";e.setState({web_props_ads:!0,flag:!0,webAdsHtml:n,IMG_SRC:o?e.httpString(o)[0]:"",BTN_SRC:o?e.httpString(o)[1]:"",LINK_FOR:o?e.httpString(o)[2]:""},(function(){e.getTimer()}))}else e.setState({web_props_ads:!1,flag:!1});return Promise.resolve()}))}},{key:"httpString",value:function(e){return e=e.match(/(https?|http|ftp|file):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g)}},{key:"bindClick",value:function(){this.setState({web_props_ads:!1,flag:!1})}},{key:"getTimer",value:function(){var e=this;if("web"===H.a.OS){var t=document.querySelector("#close_web_popup_time");if(t){var n=setInterval((function(){var n=parseInt(t.innerHTML)>0?parseInt(t.innerHTML)-1:0;t.innerHTML="".concat(e.state.webAdsHtml?n:"")}),1e3);setTimeout((function(){e.setState({web_props_ads:!1}),clearInterval(n)}),1e4)}}}},{key:"setStyle",value:function(){if("web"===H.a.OS){document.querySelector("#closeTip");var e=document.querySelector("#dragon"),t="",n=this.state,r=n.maskHeight,o=n.mTop;n.tip;e&&(t="z-index:999;text-align: center;display: table-cell;vertical-align: middle;*display: block;*font-size: 103px;*font-family:Arial;left:".concat(ft.width/2-this.MAX_WIDTH/2,"px;top:").concat(r/2-this.MAX_HEIGHT/2+o,"px"),null==e||e.setAttribute("style",t))}}},{key:"convertUndefined",value:function(e){return""==e||null==e||"undefined"==e?"":e}},{key:"linkFor",value:function(){Object(M.A)(this.state.LINK_FOR)}},{key:"getSize",value:function(e){var t=this;nt.a.getSize(e,(function(e,n){t.setState({imgH:n})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.web_props_ads,r=t.imgH,o=t.IMG_SRC,i=t.BTN_SRC,a=t.flag,l=t.webAdsHtml,s=Object(b.a)(ft.width),c="web"===H.a.OS&&document.body.scrollHeight?document.body.scrollHeight:window.innerHeight,u="web"===H.a.OS?document.body.scrollWidth:innerWidth;return"large"===s?L.a.createElement(be.a,{style:[lt.maskItem,{display:n?"flex":"none",height:c}],nativeID:"web_popup_ads"},a&&L.a.createElement(be.a,{style:[lt.drag,{zIndex:501}],nativeID:"dragon"},L.a.createElement(be.a,{style:{width:"100%"}}," ",L.a.createElement(rt.a,{nativeID:"close_web_popup_time",style:lt.tip},l?10:"")),L.a.createElement(be.a,{style:{height:34,width:"100%"}},L.a.createElement(Ge.a,{style:lt.close,activeOpacity:1,onPress:function(){e.bindClick()}},L.a.createElement(be.a,null,i?L.a.createElement(nt.a,{source:{uri:i},style:lt.icon}):null,L.a.createElement(rt.a,{style:lt.closeWord,nativeID:"closeTip"},"关闭")))),L.a.createElement(be.a,{style:[lt.Link]},L.a.createElement(Ge.a,{style:[lt.Link,{width:350}],activeOpacity:.9,onPress:function(){e.linkFor()}},o?L.a.createElement(nt.a,{onLoadStart:function(){return e.getSize(o)},source:{uri:o},style:[lt.Link_FRO,{height:r}],resizeMode:"contain"}):null))),n&&a?L.a.createElement(be.a,{style:[lt.fullScreen,{width:ft.width<innerWidth?innerWidth:u,height:c}],nativeID:"fullScreen"}):L.a.createElement(be.a,null)):L.a.createElement(be.a,null)}}]),n}(R.Component),gt=n(70),mt=n(264);function yt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var wt,St=ve.a.get("window"),Ct=Object(b.a)(St.width),Ot=_e.f.WAP,Pt=_e.h[_e.f.WAP],Tt=We.a.wapDomain;"large"===Ct&&(Ot=_e.f.WEB,Pt=_e.h[_e.f.WEB],Tt=We.a.webDomain);var xt,It=window.screen.width;!function(e){e.webFootContent="web_foot_content",e.copyright="copyright_notice4index",e.friendlyLink="friendly_link4index",e.aboutmall="web_footer_aboutmall",e.wapCopyright="wap_copyright",e.webTopShortcut="web_top_shortcut",e.regionSelect="region_select",e.indexShortcutMobDownload="index_shortcut_mob_download",e.indexShortcutWebNav="index_shortcut_web_nav"}(xt||(xt={}));var kt=Object(Ae.c)(pt=function(e){p()(n,e);var t=bt(n);function n(e){var r;return a()(this,n),r=t.call(this,e),v()(u()(r),"eventListener",void 0),v()(u()(r),"windowsListener",void 0),v()(u()(r),"resizeListener",void 0),v()(u()(r),"tabs",void 0),v()(u()(r),"tabConfig",void 0),v()(u()(r),"cardId",void 0),v()(u()(r),"hasSubtabSet",!1),v()(u()(r),"headStyle",{}),v()(u()(r),"titleStyle",{}),v()(u()(r),"timer",void 0),v()(u()(r),"cartNumTimer",null),v()(u()(r),"pageType",1),v()(u()(r),"tabname",void 0),v()(u()(r),"tabindex",void 0),v()(u()(r),"currentTime",(new Date).getTime()),v()(u()(r),"otherParams",{}),v()(u()(r),"scroller",void 0),v()(u()(r),"configInfo",void 0),v()(u()(r),"reloadTimer",null),v()(u()(r),"pageCatCode",""),v()(u()(r),"pageCatName",""),v()(u()(r),"subTabResSiteCode",""),v()(u()(r),"subTabResSiteName",""),v()(u()(r),"handleAppStateChange",(function(e){w.a.isWap(St.width)&&"active"==e&&window.location.reload()})),v()(u()(r),"eventTracingReportByLoad",(function(){var e="";"web"===H.a.OS&&(e=St.width>=S.a.IPAD_WIDTH?"3":"2"),Object(I.a)({actionCode:e+"10000000",actionName:"HomePage页面加载完成",eventType:Ne.e.EVENT_TYPE_LOADING_PAGE,pageId:r.state.pageId,content:{},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})})),v()(u()(r),"unload",(function(){var e=St.width>=S.a.IPAD_WIDTH?"3":"2",t=[Object(st.b)({actionCode:e+"10000011",actionName:"HomePage页面离开",eventType:Ne.e.EVENT_TYPE_LEAVE,pageId:r.state.pageId,content:{},pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:"",resSiteName:""})],n={type:"application/json",language:"zh-CN",encoding:"gzip",data:(new Date).getTime()},o=new Blob([JSON.stringify(t)],n);navigator.sendBeacon(We.a.reportBatchUrl+"?"+(new Date).getTime(),o)})),v()(u()(r),"beforeunload",(function(){})),v()(u()(r),"getTemplate",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="".concat(We.a.openApiDomain,"mcp/queryTemplate");return E.a.get(n,{portal:e,country:_e.d.CN,lang:_e.e.CN,placeholder:t})})),v()(u()(r),"getWebTemplate",(function(){"web"!==H.a.OS||w.a.isWap(St.width)||r.getTemplate(1,'[\n        "'.concat(xt.webFootContent,'",\n        "').concat(xt.friendlyLink,'",\n        "').concat(xt.aboutmall,'",\n        "').concat(xt.copyright,'",\n        "').concat(xt.webTopShortcut,'",\n        "').concat(xt.regionSelect,'",\n        "').concat(xt.indexShortcutMobDownload,'",\n        "').concat(xt.indexShortcutWebNav,'"\n      ]')).then((function(e){var t=e||{};r.otherParams.templateContent=t}))})),v()(u()(r),"getTabInfo",(function(e){var t=e.id,n=e.index;r.setState({pageId:t,currentTabIndex:n,isClickTab:!0},(function(){r.getPageInfoByTabWeb(n,t)}))})),v()(u()(r),"onTabChanged",(function(e){e.navTop&&r.scroller&&r.scroller.scrollTo({y:e.stickyLayoutY,animated:!0})})),v()(u()(r),"getPageInfoByTabWeb",(function(e,t){var n;window.scrollTo({top:0,behavior:"smooth"});var o=(null===(n=r.tabs)||void 0===n?void 0:n.length)>e&&r.tabs[e],i=t||o.relatedPage;gt.a.getPageId(i),gt.a.setPageName("HomePage"),Object(Le.k)(i,Ot.toString(),localStorage.getItem("strategyIds_"+Pt)).then((function(t){return Object(W.a)(t,"web"),r.partialCardsList(t),r.setState({cmsData:t},(function(){var t,n,o,i,a,l,s,c,u,d,p,f,h,g,m,y,v,b,w,S;0!=e&&(r.tabs=(null===(t=r.state)||void 0===t||null===(n=t.cmsData)||void 0===n||null===(o=n.pageInfos)||void 0===o?void 0:o.length)&&(null===(i=r.state)||void 0===i||null===(a=i.cmsData)||void 0===a||null===(l=a.pageInfos[0])||void 0===l?void 0:l.tabInfos)||[],r.tabConfig=(null===(s=r.state)||void 0===s||null===(c=s.cmsData)||void 0===c||null===(u=c.pageInfos)||void 0===u?void 0:u.length)&&(null===(d=r.state)||void 0===d||null===(p=d.cmsData)||void 0===p||null===(f=p.pageInfos[0])||void 0===f||null===(h=f.cards)||void 0===h?void 0:h.length)&&(null===(g=r.state)||void 0===g||null===(m=g.cmsData)||void 0===m||null===(y=m.pageInfos[0])||void 0===y||null===(v=y.cards)||void 0===v?void 0:v.map((function(e){if("sub_tab"===e.cardType)return r.cardId=e.cardId,e.configInfo}))),r.headStyle=(null===(b=r.state)||void 0===b||null===(w=b.cmsData)||void 0===w||null===(S=w.pageInfos)||void 0===S?void 0:S.length)&&JSON.parse(r.state.cmsData.pageInfos[0].headerStyle))})),Object(W.b)(null==t?void 0:t.pageInfos),Promise.resolve()}))})),v()(u()(r),"partialCardsList",(function(e){var t,n,o=(null===(t=navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Chrome"))>-1;if(w.a.isPc(St.width)&&o){var i,a,l=JSON.parse(JSON.stringify(e)),s=[],c=!1;if(null!=e&&null!==(i=e.pageInfos[0])&&void 0!==i&&i.cards&&(null==e||null===(a=e.pageInfos[0])||void 0===a?void 0:a.cards.length)>0){for(var u=0;u<e.pageInfos[0].cards.length;u++)"subTabSet"!==e.pageInfos[0].cards[u].cardType?s.push(e.pageInfos[0].cards[u]):c=!0;e.pageInfos[0].cards=s}c&&(r.reloadTimer=setTimeout((function(){r.setState({cmsData:l},(function(){r._pageDataHandle()}))}),0))}})),v()(u()(r),"getRandomTid",(function(){for(var e=[],t="0123456789abcdef",n=0;n<32;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23],e.join("")})),v()(u()(r),"_getWebPageInfo",(function(){if("web"!==H.a.OS)return Promise.resolve();if(localStorage.getItem("homeRelatedPageType_"+Pt)&&"1"!==localStorage.getItem("homeRelatedPageType_"+Pt)&&localStorage.getItem("strategyUpdateTime_"+Pt)&&Object(B.b)(parseInt(localStorage.getItem("strategyUpdateTime_"+Pt)),new Date))return localStorage.getItem("homeRelatedPage_"+Pt)&&localStorage.getItem("homeRelatedPage_"+Pt).indexOf("https")>-1?r._gotoForHome(localStorage.getItem("homeRelatedPage_"+Pt),!1):r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve();if(null===localStorage.getItem("strategyIds_"+Pt)||!Object(B.b)(parseInt(localStorage.getItem("strategyUpdateTime_"+Pt)),new Date))return Object(Le.u)().then((function(){var e=C.a.get("TID")||r.getRandomTid();return e?r._getStrategy(e,Ot.toString()):(r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve())})).then((function(){return localStorage.getItem("homeRelatedPageType_"+Pt)&&"1"!==localStorage.getItem("homeRelatedPageType_"+Pt)?(localStorage.getItem("homeRelatedPage_"+Pt)&&localStorage.getItem("homeRelatedPage_"+Pt).indexOf("https")>-1?r._gotoForHome(localStorage.getItem("homeRelatedPage_"+Pt),!1):r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve()):localStorage.getItem("homeRelatedPage_"+Pt)?(r.setState({pageId:localStorage.getItem("homeRelatedPage_"+Pt)}),We.a.pageId=localStorage.getItem("homeRelatedPage_"+Pt),Object(Le.k)(localStorage.getItem("homeRelatedPage_"+Pt),Ot.toString(),localStorage.getItem("strategyIds_"+Pt)).then((function(e){var t,n,o=(null==e?void 0:e.pageInfos[0])||{},i=o.channel,a=o.pageId,l=o.pageCatCode,s=o.pageCatName;return r.pageCatCode=l,r.pageCatName=s,r.setState({configInfo:(null==e||null===(t=e.pageInfos)||void 0===t?void 0:t.length)&&JSON.stringify(null===(n=JSON.parse(null==e?void 0:e.pageInfos[0].headerStyle))||void 0===n?void 0:n.attribute)}),r._getAppid(i,a),Promise.resolve(e)}),(function(e){return r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve()}))):(r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve())})).then((function(e){return e&&(Object(W.a)(e,"web"),r.partialCardsList(e),r.setState({cmsData:e},(function(){r._pageDataHandle()})),Object(W.b)(null==e?void 0:e.pageInfos)),Promise.resolve()}));if(localStorage.getItem("strategyIds_"+Pt)&&Object(B.b)(parseInt(localStorage.getItem("strategyUpdateTime_"+Pt)),new Date)){if(localStorage.getItem("strategyIds_"+Pt)){var e=JSON.parse(localStorage.getItem("strategyIds_"+Pt)).map((function(e){return e}));We.a.strategies=e.join(",")}return Object(Le.u)().then((function(){if(localStorage.getItem("homeRelatedPage_"+Pt)){r.setState({pageId:localStorage.getItem("homeRelatedPage_"+Pt)}),We.a.pageId=localStorage.getItem("homeRelatedPage_"+Pt);var e=JSON.parse(sessionStorage.getItem("abData"));if(e)r.setWapFooterNavigation(null==e?void 0:e.tabInfos),Object(N.i)(null==e?void 0:e.configInfo);else{var t=C.a.get("TID")||r.getRandomTid();Object(Le.v)(t,Ot.toString()).then((function(e){sessionStorage.setItem("abData",JSON.stringify(e)),r.setWapFooterNavigation(null==e?void 0:e.tabInfos),Object(N.i)(null==e?void 0:e.configInfo)}))}return Object(Le.k)(localStorage.getItem("homeRelatedPage_"+Pt),Ot.toString(),localStorage.getItem("strategyIds_"+Pt)).then((function(e){var t,n,o=(null==e?void 0:e.pageInfos[0])||{},i=o.channel,a=o.pageId,l=o.pageCatCode,s=o.pageCatName;return r.pageCatCode=l,r.pageCatName=s,r.setState({configInfo:(null==e||null===(t=e.pageInfos)||void 0===t?void 0:t.length)&&JSON.stringify(null===(n=JSON.parse(null==e?void 0:e.pageInfos[0].headerStyle))||void 0===n?void 0:n.attribute)}),r._getAppid(i,a),Promise.resolve(e)}),(function(e){return r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve()}))}return r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve()})).then((function(e){return e&&e.pageInfos?(Object(W.a)(e,"web"),r.partialCardsList(e),r.setState({cmsData:e},(function(){r._pageDataHandle()})),Object(W.b)(e.pageInfos),Promise.resolve()):(r._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve())}))}})),v()(u()(r),"_onMomentumScrollEnd",(function(e){"web"===H.a.OS&&(wt&&clearTimeout(wt),wt=setTimeout((function(){je.a.emit("onScrollEvent","","homePage")}),300))})),v()(u()(r),"getDialogViewByOrder",(function(e){var t=Object(Me.c)(),n=null;if(!t)return null;var r,o=yt(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.order==e){n=i;break}}}catch(e){o.e(e)}finally{o.f()}if(!n)return null;var a=null;switch(e){case Me.a.ORDER_PRIVACY:return a=n.info,L.a.createElement(ze.a,{info:a,setSaleInfoCfgOff:Le.I,setSaleInfoCfgOn:Le.J,signingResults:Le.K});case Me.a.ORDER_GROUP:return a=n.info,L.a.createElement(Fe.a,{actionUrl:a.adPrdUrl,imgUlr:a.adPicUrl,imgWidth:a.width,imgHeight:a.height});case Me.a.ORDER_DEPOSIT:return a=n.info,L.a.createElement(He.a,{data:a})}return null})),v()(u()(r),"handleUrlParams",(function(){if("web"===H.a.OS){var e,t,n,o=(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||null===(n=t.search)||void 0===n?void 0:n.substring(1))||"";((null==o?void 0:o.split("&"))||[]).forEach((function(e){var t=e.split("=");"tabindex"===t[0]?(r.tabindex=Number(t[1]),r.otherParams.tabindex=r.tabindex):"tabname"===t[0]&&("function"==typeof decodeURI?r.tabname=decodeURI(t[1]):r.tabname=t[1],r.otherParams.tabname=r.tabname)}))}})),v()(u()(r),"_onLayout",(function(e){Object(P.b)(e),Object(P.a)(e,"homePage")})),v()(u()(r),"_loadPage",(function(){var e,t,n,i,a,l=r.headStyle,s="large"===Ct,c=r.headStyle&&r.headStyle.headStyle&&!s?56:0,u=Object(x.a)(r.state.cmsData.pageInfos[0],_e.g.homePage,c,!1,r.otherParams),d=null;return u.pageStyleChange&&"1"===u.pageStyleChange.bgFill&&u.pageStyleChange.bgColor&&2!==u.pageTypeNumber&&(d=u.pageStyleChange.bgColor),L.a.createElement(L.a.Fragment,null,Ue.a.curDialogOrder!=Me.a.ORDER_NONE&&r.getDialogViewByOrder(Ue.a.curDialogOrder),L.a.createElement(be.a,{style:[{marginBottom:"large"===Ct?0:gt.a.barHeight,backgroundColor:d||O.a.C32.color},"bottomNav"===(null===(e=r.props)||void 0===e?void 0:e.container)&&{paddingBottom:(null===(t=r.props)||void 0===t?void 0:t.getbottomNavBarHeight())||0}],nativeID:"home_no_focus_outline",onLayout:r._onLayout},null===d&&L.a.createElement(ke,null),r.state.showAds&&"large"===Ct&&L.a.createElement(ht,null),w.a.isWap(St.width)?L.a.createElement(be.a,null,r.state.isshow&&"bottomNav"!==(null===(n=r.props)||void 0===n?void 0:n.container)?L.a.createElement(tt,null):L.a.createElement(L.a.Fragment,null),L.a.createElement(T.a,{configInfo:r.state.configInfo,cartNum:r.state.cartNum,messageNum:r.state.messageNum,headStyle:l,titleStyle:r.titleStyle,tabs:r.tabs,tabConfig:r.tabConfig[0],stickyScrollY:r.state.scrollY,freshTab:r.state.freshTab,cardId:r.cardId,pageType:r.pageType,tabLength:null===(i=r.tabs)||void 0===i?void 0:i.length,pageId:r.state.pageId,pageCatCode:r.pageCatCode,pageCatName:r.pageCatName,resSiteCode:r.subTabResSiteCode,resSiteName:r.subTabResSiteName}),L.a.createElement(Re.a.ScrollView,{style:["web"===H.a.OS?{minHeight:r.state.deviceHeight,marginTop:-1}:{flex:1}],onScroll:Re.a.event([{nativeEvent:{contentOffset:{y:r.state.scrollY}}}],{useNativeDriver:!0,listener:function(e){je.a.emit("scroll",e.nativeEvent.contentOffset.y)}}),scrollEventThrottle:1,showsVerticalScrollIndicator:!1,showsHorizontalScrollIndicator:!1},L.a.createElement(k.a,o()({},u,{mapComponents:ye,stickyScrollY:r.state.scrollY,key:r.state.currentTabIndex})))):"web"===H.a.OS&&navigator.userAgent.indexOf("Trident")>-1&&navigator.userAgent.indexOf("rv:11.0")>-1&&L.a.createElement(be.a,null,L.a.createElement(k.a,o()({},u,{mapComponents:ye,stickyScrollY:r.state.scrollY})))||L.a.createElement(k.a,o()({},u,{mapComponents:ye,stickyScrollY:r.state.scrollY})),L.a.createElement(_.a,o()({},u,{cartNum:r.state.cartNum,messageNum:r.state.messageNum,pageId:String(null===(a=r.state.cmsData.pageInfos[0])||void 0===a?void 0:a.pageId)})),L.a.createElement(Ee.a,{pageType:"homePage"}),"bottomNav"!==r.props.container&&"large"!==Ct&&0!==gt.a.tabInfos.length?L.a.createElement(mt.a,{pageType:"homepage",tabInfos:gt.a.tabInfos.slice(0,5)}):null))})),r.state={scrollY:new Re.a.Value(0),deviceHeight:St.height,pageId:null,strategyIdList:null,cmsData:{pageInfos:[]},loading:!0,isRefreshing:!1,error:!1,reload:"0",cartNum:0,messageNum:0,freshTab:!0,cmsDataMap:{},currentTabIndex:0,isClickTab:!1,showAds:!0,errorType:_e.c.OTHER_ERROR,isshow:!0,configInfo:"",appid:""},r}return s()(n,[{key:"componentDidMount",value:function(){this.handleUrlParams(),this._getPageInfo();var e="";if("web"===H.a.OS){e=St.width>=S.a.IPAD_WIDTH?"3":"2",clearTimeout(this.cartNumTimer),this.cartNumTimer=setTimeout((function(){D.a.getCartNum("1001",e),Object(Le.H)()}),1e3),window.onscroll=this._onMomentumScrollEnd,je.a.addListener("scroll",this._onMomentumScrollEnd),Object(F.a)(),Object(F.b)(),this.getShowAds(),Object(Ve.a)(),Object(Ve.c)(),Object(Ve.b)();var t=navigator.userAgent.indexOf("compatible")>-1&&navigator.userAgent.indexOf("MSIE")>-1,n=navigator.userAgent.indexOf("Trident")>-1&&navigator.userAgent.indexOf("rv:11.0")>-1;t||n||(window.addEventListener("beforeunload",this.beforeunload),window.addEventListener("unload",this.unload))}w.a.isWap(St.width)&&(this.windowsListener=window.addEventListener("orientationchange",(function(e){90!==e.target.screen.orientation.angle&&0!==e.target.screen.orientation.angle&&270!==e.target.screen.orientation.angle&&180!==e.target.screen.orientation.angle||window.location.reload()})),this.resizeListener=window.addEventListener("resize",(function(){Math.abs(window.screen.width-It)>200&&window.location.reload()}))),this.getWebTemplate(),je.a.addListener("switchSubTab",this.getTabInfo)}},{key:"componentDidUpdate",value:function(){je.a.addListener("homeScrollTo",this.onTabChanged)}},{key:"componentWillUnmount",value:function(){if(this.eventListener&&this.eventListener.remove(),this.state.scrollY&&this.state.scrollY.removeAllListeners(),je.a.removeListener("homeScrollTo",this.onTabChanged),je.a.removeListener("switchSubTab",this.getTabInfo),"web"===H.a.OS){var e=navigator.userAgent.indexOf("compatible")>-1&&navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Trident")>-1&&navigator.userAgent.indexOf("rv:11.0")>-1;e||t||(window.removeEventListener("beforeunload",this.beforeunload),window.removeEventListener("unload",this.unload)),clearTimeout(this.cartNumTimer)}w.a.isWap&&this.windowsListener&&window.removeEventListener("orientationchange",(function(){})),this.resizeListener&&window.removeEventListener("resize",(function(){})),this.reloadTimer&&clearTimeout(this.reloadTimer),je.a.removeListener("scroll",this._onMomentumScrollEnd)}},{key:"getShowAds",value:function(){Object(N.e)(C.a.get("showAds"))||this.setState({showAds:!1})}},{key:"_getCartNum",value:function(){var e=this;Object(Le.c)("large"===Object(b.a)(St.width)?"1":"2").then((function(t){t&&t.cartInfo&&t.cartInfo.originalTotalNumber&&e.setState({cartNum:t.cartInfo.originalTotalNumber||0})}))}},{key:"setAbData",value:function(e){var t=null==e?void 0:e.map((function(e){return e.strategyId||""}));We.a.strategies=t.join(",");var n=JSON.stringify(t);this.setState({strategyIdList:n},(function(){return"web"===H.a.OS&&localStorage.setItem("strategyIds_"+Pt,n),Promise.resolve()}))}},{key:"_getStrategy",value:function(e,t){var n=this;return new Promise((function(r){Object(Le.v)(e,t.toString()).then((function(e){if(e){var t;sessionStorage.setItem("abData",JSON.stringify(e)),n.setWapFooterNavigation(e.tabInfos),Object(N.i)(e.configInfo);var r=null===(t=e.tabInfos)||void 0===t?void 0:t.filter((function(e){return"homepage"===e.tabType}))[0];return r?(localStorage.setItem("homeRelatedPageType_"+Pt,null==r?void 0:r.relatedPageType),null!=r&&r.relatedPage?localStorage.setItem("homeRelatedPage_"+Pt,null==r?void 0:r.relatedPage):n._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),localStorage.setItem("strategyUpdateTime_"+Pt,String((new Date).getTime())),n.setAbData(e.strategyInfoList||[])):(n._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve())}return n._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1),Promise.resolve()})).catch((function(e){n._gotoForHome(Tt+_e.j.HOME_URL_WEB,!1)})).finally((function(){r()}))}))}},{key:"_getPageInfoByPlatformType",value:function(){if("web"===H.a.OS)return this._getWebPageInfo()}},{key:"_getPageInfo",value:function(e){var t=this;return this._getPageInfoByPlatformType().catch((function(e){var n;null!=e&&null!==(n=e.message)&&void 0!==n&&n.includes("Network Error")?t.setState({errorType:_e.c.NETWORK_ERROR}):t.setState({errorType:_e.c.OTHER_ERROR}),t.setState({error:!0})})).finally((function(){var e,n;return t.setState({loading:!1,isRefreshing:!1}),Object(M.M)(null===(e=t.state)||void 0===e||null===(n=e.cmsData)||void 0===n?void 0:n.pageInfos),Promise.resolve()}))}},{key:"_getAppid",value:function(e,t){var n=this;We.a.appid=e,this.setState({appid:We.a.appid,pageId:t},(function(){n.eventTracingReportByLoad()}))}},{key:"_pageDataHandle",value:function(){var e,t,n=this,r=this.state.cmsData;if(null!=r&&null!==(e=r.pageInfos)&&void 0!==e&&e.length){var o,i,a,l,s,c,u,d;this.tabs=(null==r||null===(o=r.pageInfos[0])||void 0===o?void 0:o.tabInfos)||[],this.tabConfig=(null==r||null===(i=r.pageInfos[0])||void 0===i||null===(a=i.cards)||void 0===a?void 0:a.length)&&(null==r||null===(l=r.pageInfos[0])||void 0===l||null===(s=l.cards)||void 0===s?void 0:s.map((function(e){var t,r;if("sub_tab"===e.cardType)return n.subTabResSiteCode=null!==(t=e.resSiteCode)&&void 0!==t?t:"",n.subTabResSiteName=null!==(r=e.resSiteName)&&void 0!==r?r:"",n.cardId=e.cardId,e.configInfo}))),this.headStyle=JSON.parse(this.state.cmsData.pageInfos[0].headerStyle),this.pageType=null==r||null===(c=r.pageInfos[0])||void 0===c?void 0:c.pageType;var p=r.pageInfos[0],f=p.pageId,h=p.styleChange,g=p.groupStyleChanges,m=r.pageInfos[0].pageStyleChange?JSON.parse(r.pageInfos[0].pageStyleChange):null;this.otherParams.hasTabTop=(null===(u=this.tabs)||void 0===u?void 0:u.length)>1,this.otherParams.hasTitle=!(null===(d=this.headStyle)||void 0===d||!d.headStyle),this.state.pageId==f&&(this.titleStyle={cardId:f,styleChange:h?JSON.parse(h):null,groupStyleChanges:g?JSON.parse(g):null},this.titleStyle.styleChange||(this.titleStyle.styleChange=m),this.titleStyle.styleChange&&Be.a.onSubTabsUpdate(this.titleStyle.styleChange))}(null===(t=this.tabs)||void 0===t?void 0:t.length)>0&&this.getPageInfoByTabWeb(0)}},{key:"_gotoForHome",value:function(e,t){this.setState({loading:!0,errorType:_e.c.NOT_JUMP_ERROR},(function(){Object(A.b)(e,t)}))}},{key:"setWapFooterNavigation",value:function(e){if(null!=e&&e.length){for(var t=[],n=0;n<e.length;n++){var r,o;if("smarthome"!==e[n].tabType&&t.push(e[n]),"category"===(null===(r=e[n])||void 0===r?void 0:r.tabType))if("1"===(null===(o=e[n])||void 0===o?void 0:o.relatedPageType)){var i,a=Tt+_e.j.CATEGORY_URL_WEB_NEW+(null===(i=e[n])||void 0===i?void 0:i.relatedPage);C.a.set("rncategoryviewurl",a,{path:"/",domain:".vmall.com"})}else C.a.set("rncategoryviewurl",null,{path:"/",domain:".vmall.com"})}gt.a.setTabInfos(t)}}},{key:"getWapFooterNavigation",value:function(){var e=C.a.get("TID")||this.getRandomTid();return new Promise((function(t){Object(Le.v)(e,_e.f.WAP.toString()).then((function(e){if(!e.tabInfos)return Promise.resolve();for(var t=[],n=0;n<e.tabInfos.length;n++){var r,o;if("smarthome"!==e.tabInfos[n].tabType&&t.push(e.tabInfos[n]),"category"===(null===(r=e.tabInfos[n])||void 0===r?void 0:r.tabType))if("1"===(null===(o=e.tabInfos[n])||void 0===o?void 0:o.relatedPageType)){var i,a=Tt+_e.j.CATEGORY_URL_WEB_NEW+(null===(i=e.tabInfos[n])||void 0===i?void 0:i.relatedPage);C.a.set("rncategoryviewurl",a,{path:"/",domain:".vmall.com"})}else C.a.set("rncategoryviewurl",null,{path:"/",domain:".vmall.com"})}gt.a.setTabInfos(t)})).finally((function(){t()}))}))}},{key:"getQMmodeStatus",value:function(){var e=C.a.get("TID")||this.getRandomTid();return new Promise((function(t){Object(Le.v)(e,Ot.toString()).then((function(e){e&&e.configInfo&&Object(N.i)(e.configInfo)})).finally((function(){t()}))}))}},{key:"render",value:function(){var e,t,n;return!this.state.isRefreshing&&this.state.loading?L.a.createElement(De.a,{pageType:1}):this.state.pageId&&this.state.cmsData&&(null===(e=this.state.cmsData.pageInfos)||void 0===e?void 0:e.length)&&!this.state.error&&this._loadPage()||L.a.createElement(j.a,{errorType:this.state.errorType,source:"home",bottomNavi:"bottomNav"===(null===(t=this.props)||void 0===t?void 0:t.container),getbottomNavBarHeight:null===(n=this.props)||void 0===n?void 0:n.getbottomNavBarHeight})}}]),n}(L.a.Component))||pt;t.default=kt},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return i}))},,,function(e,t,n){"use strict";(function(t){function n(e){o.length||(r(),!0),o[o.length]=e}e.exports=n;var r,o=[],i=0;function a(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>1024){for(var t=0,n=o.length-i;t<n;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var l,s,c,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(l=1,s=new d(a),c=document.createTextNode(""),s.observe(c,{characterData:!0}),r=function(){l=-l,c.data=l}):r=p(a),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n(111))},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return h})),n.d(t,"Request",(function(){return S})),n.d(t,"Response",(function(){return O})),n.d(t,"DOMException",(function(){return T})),n.d(t,"fetch",(function(){return x}));var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,a="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),l="FormData"in r,s="ArrayBuffer"in r;if(s)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function p(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:l&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(y)}),this.text=function(){var e,t,n,r=g(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=d(e),t=p(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=p(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof S){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function C(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function O(e,t){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},b.call(S.prototype),b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var P=[301,302,303,307,308];O.redirect=function(e,t){if(-1===P.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})};var T=r.DOMException;try{new T}catch(e){(T=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),T.prototype.constructor=T}function x(e,t){return new Promise((function(n,o){var i=new S(e,t);if(i.signal&&i.signal.aborted)return o(new T("Aborted","AbortError"));var l=new XMLHttpRequest;function c(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var o="response"in l?l.response:l.responseText;setTimeout((function(){n(new O(o,r))}),0)},l.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){o(new T("Aborted","AbortError"))}),0)},l.open(i.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?l.withCredentials=!0:"omit"===i.credentials&&(l.withCredentials=!1),"responseType"in l&&(a?l.responseType="blob":s&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof h?i.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){l.setRequestHeader(e,p(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",c),l.onreadystatechange=function(){4===l.readyState&&i.signal.removeEventListener("abort",c)}),l.send(void 0===i._bodyInit?null:i._bodyInit)}))}x.polyfill=!0,r.fetch||(r.fetch=x,r.Headers=h,r.Request=S,r.Response=O)},,,,,,,,,,,function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(406),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(111))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(36),o=r(n(15)),i=r(n(55)),a=r(n(5)),l=r(n(6)),s=r(n(1));function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=n(289),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewAreaCoveragePercentThreshold:0};(0,a.default)(this,e),(0,s.default)(this,"_config",void 0),(0,s.default)(this,"_hasInteracted",!1),(0,s.default)(this,"_timers",new Set),(0,s.default)(this,"_viewableIndices",[]),(0,s.default)(this,"_viewableItems",new Map),this._config=t}return(0,l.default)(e,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(e,t,n,r,o){var i=this._config,a=i.itemVisiblePercentThreshold,l=i.viewAreaCoveragePercentThreshold,s=null!=l,c=s?l:a;d(null!=c&&null!=a!=(null!=l),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var u=[];if(0===e)return u;var p=-1,h=o||{first:0,last:e-1},g=h.first,m=h.last;if(m>=e)return[];for(var y=g;y<=m;y++){var v=r(y);if(v){var b=v.offset-t,w=b+v.length;if(b<n&&w>0)p=y,f(s,c,b,w,n,v.length)&&u.push(y);else if(p>=0)break}}return u}},{key:"onUpdate",value:function(e,t,n,r,o,i,a){var l=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&r(0)){var s=[];if(e&&(s=this.computeViewableItems(e,t,n,r,a)),this._viewableIndices.length!==s.length||!this._viewableIndices.every((function(e,t){return e===s[t]})))if(this._viewableIndices=s,this._config.minimumViewTime){var c=setTimeout((function(){l._timers.delete(c),l._onUpdateSync(s,i,o)}),this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(s,i,o)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(e,t,n){var r=this;e=e.filter((function(e){return r._viewableIndices.includes(e)}));for(var a,l=this._viewableItems,s=new Map(e.map((function(e){var t=n(e,!0);return[t.key,t]}))),u=[],d=c(s);!(a=d()).done;){var p=a.value,f=(0,i.default)(p,2),h=f[0],g=f[1];l.has(h)||u.push(g)}for(var m,y=c(l);!(m=y()).done;){var v=m.value,b=(0,i.default)(v,2),w=b[0],S=b[1];s.has(w)||u.push((0,o.default)({},S,{isViewable:!1}))}u.length>0&&(this._viewableItems=s,t({viewableItems:Array.from(s.values()),changed:u,viewabilityConfig:this._config}))}}]),e}();function f(e,t,n,r,o,i){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,o))return!0;var a=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,o);return 100*(e?a/o:a/i)>=t}e.exports=p},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(56)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(76),l=r(n(452)),s=["initialRouteName","backBehavior","children","screenOptions","sceneContainerStyle"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=(0,a.createNavigatorFactory)((function(e){var t=e.initialRouteName,n=e.backBehavior,r=e.children,c=e.screenOptions,d=e.sceneContainerStyle,p=(0,o.default)(e,s),f=(0,a.useNavigationBuilder)(a.TabRouter,{initialRouteName:t,backBehavior:n,children:r,screenOptions:c}),h=f.state,g=f.descriptors,m=f.navigation;return i.createElement(l.default,u({},p,{state:h,navigation:m,descriptors:g,sceneContainerStyle:d}))}));t.default=d},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children;return i.createElement(a.SafeAreaConsumer,null,(function(e){return e?t:i.createElement(a.SafeAreaProvider,{initialSafeAreaInsets:c},t)}))},t.initialSafeAreaInsets=void 0;var o=r(n(15)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(142),l=n(254);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c=(0,o.default)({top:(0,l.getStatusBarHeight)(!0),bottom:(0,l.getBottomSpace)(),right:0,left:0},a.initialWindowSafeAreaInsets);t.initialSafeAreaInsets=c},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.isVisible,n=e.children,r=e.style,c=(0,o.default)(e,s);if(null!==l.screensEnabled&&void 0!==l.screensEnabled&&(0,l.screensEnabled)()&&"web"!==a.Platform.OS)return l.shouldUseActivityState?i.createElement(l.Screen,u({activityState:t?2:0,style:r},c),n):i.createElement(l.Screen,u({active:t?1:0,style:r},c),n);if("web"===a.Platform.OS)return i.createElement(a.View,u({hidden:!t,style:[{display:t?"flex":"none"},d.container,r],pointerEvents:t?"auto":"none"},c),n);return i.createElement(a.View,{style:[d.container,r],pointerEvents:t?"auto":"none"},i.createElement(a.View,{collapsable:!1,removeClippedSubviews:"ios"!==a.Platform.OS||!t,pointerEvents:t?"auto":"none",style:t?d.attached:d.detached},n))};var o=r(n(56)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9),l=n(137),s=["isVisible","children","style"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=a.StyleSheet.create({container:{flex:1,overflow:"hidden"},attached:{flex:1},detached:{flex:1,top:3e4}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.focused,n=e.route,r=e.label,f=e.icon,h=e.badge,g=e.badgeStyle,m=e.to,y=e.button,v=void 0===y?function(e){var t=e.children,n=e.style,r=e.onPress,s=e.to,c=e.accessibilityRole,f=e.accessibilityState,h=(0,o.default)(e,u);return"web"===a.Platform.OS&&s?i.default.createElement(l.Link,d({},h,{to:s,style:[p.button,n],onPress:function(e){e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||null!=e.button&&0!==e.button||(e.preventDefault(),null==r||r(e))}}),t):i.default.createElement(a.TouchableWithoutFeedback,d({},h,{accessibilityRole:c,accessibilityState:f,onPress:r}),i.default.createElement(a.View,{style:n},t))}:y,b=e.accessibilityLabel,w=e.testID,S=e.onPress,C=e.onLongPress,O=e.horizontal,P=e.activeTintColor,T=e.inactiveTintColor,x=e.activeBackgroundColor,I=void 0===x?"transparent":x,k=e.inactiveBackgroundColor,E=void 0===k?"transparent":k,j=e.showLabel,R=void 0===j||j,L=e.allowFontScaling,_=e.labelStyle,D=e.iconStyle,N=e.style,W=(0,l.useTheme)().colors,A=void 0===P?W.primary:P,B=void 0===T?(0,s.default)(W.text).mix((0,s.default)(W.card),.5).hex():T,M={route:n,focused:t},F=t?I:E;return v({to:m,onPress:S,onLongPress:C,testID:w,accessibilityLabel:b,accessibilityRole:"button",accessibilityState:{selected:t},accessibilityStates:t?["selected"]:[],style:[p.tab,{backgroundColor:F},O?p.tabLandscape:p.tabPortrait,N],children:i.default.createElement(i.default.Fragment,null,function(e){var t=e.focused;if(void 0===f)return null;var r=t?1:0,o=t?0:1;return i.default.createElement(c.default,{route:n,horizontal:O,badge:h,badgeStyle:g,activeOpacity:r,inactiveOpacity:o,activeTintColor:A,inactiveTintColor:B,renderIcon:f,style:D})}(M),function(e){var t=e.focused;if(!1===R)return null;var n=t?A:B;return"string"==typeof r?i.default.createElement(a.Text,{numberOfLines:1,style:[p.label,{color:n},O?p.labelBeside:p.labelBeneath,_],allowFontScaling:L},r):r({focused:t,color:n,position:O?"beside-icon":"below-icon"})}(M))})};var o=r(n(56)),i=r(n(0)),a=n(9),l=n(76),s=r(n(315)),c=r(n(625)),u=["children","style","onPress","to","accessibilityRole","accessibilityState"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=a.StyleSheet.create({tab:{flex:1,alignItems:"center"},tabPortrait:{justifyContent:"flex-end",flexDirection:"column"},tabLandscape:{justifyContent:"center",flexDirection:"row"},label:{textAlign:"center",backgroundColor:"transparent"},labelBeneath:{fontSize:10},labelBeside:{fontSize:13,marginLeft:20,marginTop:3},button:{display:"flex"}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.horizontal,n=e.badge,r=e.badgeStyle,s=e.activeOpacity,c=e.inactiveOpacity,u=e.activeTintColor,d=e.inactiveTintColor,p=e.renderIcon,f=e.style;return o.default.createElement(i.View,{style:[t?l.iconHorizontal:l.iconVertical,f]},o.default.createElement(i.View,{style:[l.icon,{opacity:s}]},p({focused:!0,size:25,color:u})),o.default.createElement(i.View,{style:[l.icon,{opacity:c}]},p({focused:!1,size:25,color:d})),o.default.createElement(a.default,{visible:null!=n,style:[l.badge,t?l.badgeHorizontal:l.badgeVertical,r],size:75/4},n))};var o=r(n(0)),i=n(9),a=r(n(626));var l=i.StyleSheet.create({icon:{position:"absolute",alignSelf:"center",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:25},iconVertical:{flex:1},iconHorizontal:{height:"100%",marginTop:3},badge:{position:"absolute",left:3},badgeVertical:{top:3},badgeHorizontal:{top:7}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.visible,n=void 0===t||t,r=e.size,p=void 0===r?18:r,g=e.children,m=e.style,y=(0,i.default)(e,u),v=a.useState((function(){return new l.Animated.Value(n?1:0)})),b=(0,o.default)(v,1)[0],w=a.useState(!!n),S=(0,o.default)(w,2),C=S[0],O=S[1],P=(0,c.useTheme)();a.useEffect((function(){C&&l.Animated.timing(b,{toValue:n?1:0,duration:150,useNativeDriver:!0}).start((function(e){e.finished&&!n&&O(!1)}))}),[b,C,n]),n&&!C&&O(!0);if(!n&&!C)return null;var T=l.StyleSheet.flatten(m)||{},x=T.backgroundColor,I=void 0===x?P.colors.notification:x,k=(0,i.default)(T,d),E=(0,s.default)(I).isLight()?"black":"white",j=p/2,R=Math.floor(3*p/4);return a.createElement(l.Animated.Text,f({numberOfLines:1,style:[{opacity:b,transform:[{scale:b.interpolate({inputRange:[0,1],outputRange:[.5,1]})}],backgroundColor:I,color:E,fontSize:R,lineHeight:p-1,height:p,minWidth:p,borderRadius:j},h.container,k]},y),g)};var o=r(n(55)),i=r(n(56)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),l=n(9),s=r(n(315)),c=n(76),u=["visible","size","children","style"],d=["backgroundColor"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=l.StyleSheet.create({container:{alignSelf:"flex-end",textAlign:"center",paddingHorizontal:4,overflow:"hidden"}})},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=i.useState((function(){var e=a.Dimensions.get("window"),t=e.height,n=void 0===t?0:t,r=e.width;return{height:n,width:void 0===r?0:r}})),t=(0,o.default)(e,2),n=t[0],r=t[1];return i.useEffect((function(){var e=function(e){var t=e.window,n=t.width,o=t.height;r((function(e){return n===e.width&&o===e.height?e:{width:n,height:o}}))};return e({window:a.Dimensions.get("window")}),a.Dimensions.addEventListener("change",e),function(){return a.Dimensions.removeEventListener("change",e)}}),[]),n};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=i.useState(!1),t=(0,o.default)(e,2),n=t[0],r=t[1];return i.useEffect((function(){var e=function(){return r(!0)},t=function(){return r(!1)};return"ios"===a.Platform.OS?(a.Keyboard.addListener("keyboardWillShow",e),a.Keyboard.addListener("keyboardWillHide",t)):(a.Keyboard.addListener("keyboardDidShow",e),a.Keyboard.addListener("keyboardDidHide",t)),function(){"ios"===a.Platform.OS?(a.Keyboard.removeListener("keyboardWillShow",e),a.Keyboard.removeListener("keyboardWillHide",t)):(a.Keyboard.removeListener("keyboardDidShow",e),a.Keyboard.removeListener("keyboardDidHide",t))}}),[]),n};var o=r(n(55)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),a=n(9);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}},function(e,t,n){var r=n(36);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=o.useContext(i.default);if(void 0===e)throw new Error("Couldn't find the bottom tab bar height. Are you inside a screen in Bottom Tab Navigator?");return e};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(0)),i=r(n(414));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(1726)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);n(588),n(593);var r=n(1017),o=n(5),i=n.n(o),a=n(6),l=n.n(a),s=n(2),c=n.n(s),u=n(8),d=n.n(u),p=n(7),f=n.n(p),h=n(4),g=n.n(h),m=n(1),y=n.n(m),v=n(0),b=n.n(v),w=n(38),S=n(11),C=n(37),O=n(43),P=n(22),T=n(263),x=n(432),I=n(319),k=n(371),E=n(585),j=n(32),R=n(101);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var _=0,D="web"===C.a.OS&&navigator.userAgent.indexOf("Firefox")>-1,N=function(e){d()(n,e);var t=L(n);function n(e){var r;return i()(this,n),r=t.call(this,e),y()(c()(r),"eventListener",void 0),y()(c()(r),"_timer",void 0),r.state={updateEnv:!1,isJump:!1,pageId:"",isWeb:!0,lang:"",defaultStyle:"default"},r}return l()(n,[{key:"unload",value:function(){(new Date).getTime()-_<=5&&Object(P.b)("",!0)}},{key:"beforeunload",value:function(e){_=(new Date).getTime(),D&&Object(P.b)("",!0)}},{key:"componentDidMount",value:function(){Object(S.b)(w.a),this.setState({lang:w.a.defaultLang,updateEnv:!0}),window.addEventListener("unload",this.unload),window.addEventListener("beforeunload",this.beforeunload),this._startReportTimer()}},{key:"_startReportTimer",value:function(){this._stopReportTimer(),this._timer=setInterval((function(){Object(P.b)("",!0)}),2e4|S.a.reportTimeGap)}},{key:"_stopReportTimer",value:function(){this._timer&&clearInterval(this._timer)}},{key:"componentWillUnmount",value:function(){this.eventListener&&this.eventListener.remove(),this._stopReportTimer()}},{key:"render",value:function(){var e;if(this.state.lang){var t=this.state.lang,n=k.a.getModule(t),r={};r[t]={translation:n.default},e=x.a.init(r,this.state.lang)}return this.state.updateEnv&&e?b.a.createElement(j.a,{store:R.a},b.a.createElement(I.a,{i18n:e},b.a.createElement(T.a,null,b.a.createElement(E.default,null)))):b.a.createElement(O.a,null)}}]),n}(b.a.Component),W=n(199);r.a.registerComponent(W.d.name,(function(){return N})),r.a.runApplication(W.d.name,{initialProps:{},rootTag:document.getElementById("react-root")})}]);